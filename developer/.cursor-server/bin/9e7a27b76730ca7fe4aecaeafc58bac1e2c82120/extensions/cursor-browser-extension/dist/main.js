/*! For license information please see main.js.LICENSE.txt */
(()=>{var e,t={"../../node_modules/electron/index.js":(e,t,n)=>{const r=n("fs"),o=n("path"),i=o.join(__dirname,"path.txt");e.exports=function(){let e;if(r.existsSync(i)&&(e=r.readFileSync(i,"utf-8")),process.env.ELECTRON_OVERRIDE_DIST_PATH)return o.join(process.env.ELECTRON_OVERRIDE_DIST_PATH,e||"electron");if(e)return o.join(__dirname,"dist",e);throw new Error("Electron failed to install correctly, please delete node_modules/electron and try installing again")}()},"./node_modules/bufferutil/fallback.js":e=>{"use strict";e.exports={mask:(e,t,n,r,o)=>{for(var i=0;i<o;i++)n[r+i]=e[i]^t[3&i]},unmask:(e,t)=>{const n=e.length;for(var r=0;r<n;r++)e[r]^=t[3&r]}}},"./node_modules/bufferutil/index.js":(e,t,n)=>{"use strict";try{e.exports=n("./node_modules/node-gyp-build/index.js")(__dirname)}catch(t){e.exports=n("./node_modules/bufferutil/fallback.js")}},"./node_modules/chromium-bidi/lib/cjs/bidiMapper/BidiMapper.js":(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OutgoingMessage=t.EventEmitter=t.BidiServer=void 0;var r=n("./node_modules/chromium-bidi/lib/cjs/bidiMapper/BidiServer.js");Object.defineProperty(t,"BidiServer",{enumerable:!0,get:function(){return r.BidiServer}});var o=n("./node_modules/chromium-bidi/lib/cjs/utils/EventEmitter.js");Object.defineProperty(t,"EventEmitter",{enumerable:!0,get:function(){return o.EventEmitter}});var i=n("./node_modules/chromium-bidi/lib/cjs/bidiMapper/OutgoingMessage.js");Object.defineProperty(t,"OutgoingMessage",{enumerable:!0,get:function(){return i.OutgoingMessage}})},"./node_modules/chromium-bidi/lib/cjs/bidiMapper/BidiNoOpParser.js":(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BidiNoOpParser=void 0,t.BidiNoOpParser=class{parseDisableSimulationParameters(e){return e}parseHandleRequestDevicePromptParams(e){return e}parseSimulateAdapterParameters(e){return e}parseSimulateAdvertisementParameters(e){return e}parseSimulateCharacteristicParameters(e){return e}parseSimulateCharacteristicResponseParameters(e){return e}parseSimulateDescriptorParameters(e){return e}parseSimulateDescriptorResponseParameters(e){return e}parseSimulateGattConnectionResponseParameters(e){return e}parseSimulateGattDisconnectionParameters(e){return e}parseSimulatePreconnectedPeripheralParameters(e){return e}parseSimulateServiceParameters(e){return e}parseCreateUserContextParameters(e){return e}parseRemoveUserContextParameters(e){return e}parseSetClientWindowStateParameters(e){return e}parseSetDownloadBehaviorParameters(e){return e}parseActivateParams(e){return e}parseCaptureScreenshotParams(e){return e}parseCloseParams(e){return e}parseCreateParams(e){return e}parseGetTreeParams(e){return e}parseHandleUserPromptParams(e){return e}parseLocateNodesParams(e){return e}parseNavigateParams(e){return e}parsePrintParams(e){return e}parseReloadParams(e){return e}parseSetViewportParams(e){return e}parseTraverseHistoryParams(e){return e}parseGetSessionParams(e){return e}parseResolveRealmParams(e){return e}parseSendCommandParams(e){return e}parseSetForcedColorsModeThemeOverrideParams(e){return e}parseSetGeolocationOverrideParams(e){return e}parseSetLocaleOverrideParams(e){return e}parseSetScreenOrientationOverrideParams(e){return e}parseSetScriptingEnabledParams(e){return e}parseSetTimezoneOverrideParams(e){return e}parseSetUserAgentOverrideParams(e){return e}parseAddPreloadScriptParams(e){return e}parseCallFunctionParams(e){return e}parseDisownParams(e){return e}parseEvaluateParams(e){return e}parseGetRealmsParams(e){return e}parseRemovePreloadScriptParams(e){return e}parsePerformActionsParams(e){return e}parseReleaseActionsParams(e){return e}parseSetFilesParams(e){return e}parseAddDataCollectorParams(e){return e}parseAddInterceptParams(e){return e}parseContinueRequestParams(e){return e}parseContinueResponseParams(e){return e}parseContinueWithAuthParams(e){return e}parseDisownDataParams(e){return e}parseFailRequestParams(e){return e}parseGetDataParams(e){return e}parseProvideResponseParams(e){return e}parseRemoveDataCollectorParams(e){return e}parseRemoveInterceptParams(e){return e}parseSetCacheBehaviorParams(e){return e}parseSetExtraHeadersParams(e){return e}parseSetPermissionsParams(e){return e}parseSubscribeParams(e){return e}parseUnsubscribeParams(e){return e}parseDeleteCookiesParams(e){return e}parseGetCookiesParams(e){return e}parseSetCookieParams(e){return e}parseInstallParams(e){return e}parseUninstallParams(e){return e}}},"./node_modules/chromium-bidi/lib/cjs/bidiMapper/BidiServer.js":(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BidiServer=void 0;const r=n("./node_modules/chromium-bidi/lib/cjs/utils/EventEmitter.js"),o=n("./node_modules/chromium-bidi/lib/cjs/utils/log.js"),i=n("./node_modules/chromium-bidi/lib/cjs/utils/ProcessingQueue.js"),s=n("./node_modules/chromium-bidi/lib/cjs/bidiMapper/CommandProcessor.js"),a=n("./node_modules/chromium-bidi/lib/cjs/bidiMapper/modules/bluetooth/BluetoothProcessor.js"),l=n("./node_modules/chromium-bidi/lib/cjs/bidiMapper/modules/browser/ContextConfigStorage.js"),c=n("./node_modules/chromium-bidi/lib/cjs/bidiMapper/modules/browser/UserContextStorage.js"),u=n("./node_modules/chromium-bidi/lib/cjs/bidiMapper/modules/cdp/CdpTargetManager.js"),d=n("./node_modules/chromium-bidi/lib/cjs/bidiMapper/modules/context/BrowsingContextStorage.js"),h=n("./node_modules/chromium-bidi/lib/cjs/bidiMapper/modules/network/NetworkStorage.js"),p=n("./node_modules/chromium-bidi/lib/cjs/bidiMapper/modules/script/PreloadScriptStorage.js"),f=n("./node_modules/chromium-bidi/lib/cjs/bidiMapper/modules/script/RealmStorage.js"),m=n("./node_modules/chromium-bidi/lib/cjs/bidiMapper/modules/session/EventManager.js");class g extends r.EventEmitter{#e;#t;#n;#r;#o=new d.BrowsingContextStorage;#i=new f.RealmStorage;#s=new p.PreloadScriptStorage;#a;#l;#c=e=>{this.#n.processCommand(e).catch(e=>{this.#l?.(o.LogType.debugError,e)})};#u=async e=>{const t=e.message;null!==e.googChannel&&(t["goog:channel"]=e.googChannel),await this.#t.sendMessage(t)};constructor(e,t,n,r,o,d,p){super(),this.#l=p,this.#e=new i.ProcessingQueue(this.#u,this.#l),this.#t=e,this.#t.setOnMessage(this.#c);const f=new l.ContextConfigStorage,g=new c.UserContextStorage(n);this.#r=new m.EventManager(this.#o,g);const b=new h.NetworkStorage(this.#r,this.#o,n,p);this.#a=new a.BluetoothProcessor(this.#r,this.#o),this.#n=new s.CommandProcessor(t,n,this.#r,this.#o,this.#i,this.#s,b,f,this.#a,g,d,async e=>{await n.sendCommand("Security.setIgnoreCertificateErrors",{ignore:e.acceptInsecureCerts??!1}),f.updateGlobalConfig({acceptInsecureCerts:e.acceptInsecureCerts??!1,userPromptHandler:e.unhandledPromptBehavior,prerenderingDisabled:e?.["goog:prerenderingDisabled"]??!1}),new u.CdpTargetManager(t,n,r,this.#r,this.#o,this.#i,b,f,this.#a,this.#s,o,p),await n.sendCommand("Target.setDiscoverTargets",{discover:!0}),await n.sendCommand("Target.setAutoAttach",{autoAttach:!0,waitForDebuggerOnStart:!0,flatten:!0,filter:[{type:"page",exclude:!0},{}]}),await this.#d()},this.#l),this.#r.on("event",({message:e,event:t})=>{this.emitOutgoingMessage(e,t)}),this.#n.on("response",({message:e,event:t})=>{this.emitOutgoingMessage(e,t)})}static async createAndStart(e,t,n,r,o,i){const[{browserContextIds:s},{targetInfos:a}]=await Promise.all([n.sendCommand("Target.getBrowserContexts"),n.sendCommand("Target.getTargets"),n.sendCommand("Browser.setDownloadBehavior",{behavior:"default",eventsEnabled:!0})]);let l="default";for(const e of a)if(e.browserContextId&&!s.includes(e.browserContextId)){l=e.browserContextId;break}return new g(e,t,n,r,l,o,i)}emitOutgoingMessage(e,t){this.#e.add(e,t)}close(){this.#t.close()}async#d(){await Promise.all(this.#o.getTopLevelContexts().map(e=>e.lifecycleLoaded()))}}t.BidiServer=g},"./node_modules/chromium-bidi/lib/cjs/bidiMapper/CommandProcessor.js":(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CommandProcessor=void 0;const r=n("./node_modules/chromium-bidi/lib/cjs/protocol/protocol.js"),o=n("./node_modules/chromium-bidi/lib/cjs/utils/EventEmitter.js"),i=n("./node_modules/chromium-bidi/lib/cjs/utils/log.js"),s=n("./node_modules/chromium-bidi/lib/cjs/bidiMapper/BidiNoOpParser.js"),a=n("./node_modules/chromium-bidi/lib/cjs/bidiMapper/modules/browser/BrowserProcessor.js"),l=n("./node_modules/chromium-bidi/lib/cjs/bidiMapper/modules/cdp/CdpProcessor.js"),c=n("./node_modules/chromium-bidi/lib/cjs/bidiMapper/modules/context/BrowsingContextProcessor.js"),u=n("./node_modules/chromium-bidi/lib/cjs/bidiMapper/modules/emulation/EmulationProcessor.js"),d=n("./node_modules/chromium-bidi/lib/cjs/bidiMapper/modules/input/InputProcessor.js"),h=n("./node_modules/chromium-bidi/lib/cjs/bidiMapper/modules/network/NetworkProcessor.js"),p=n("./node_modules/chromium-bidi/lib/cjs/bidiMapper/modules/permissions/PermissionsProcessor.js"),f=n("./node_modules/chromium-bidi/lib/cjs/bidiMapper/modules/script/ScriptProcessor.js"),m=n("./node_modules/chromium-bidi/lib/cjs/bidiMapper/modules/session/SessionProcessor.js"),g=n("./node_modules/chromium-bidi/lib/cjs/bidiMapper/modules/storage/StorageProcessor.js"),b=n("./node_modules/chromium-bidi/lib/cjs/bidiMapper/modules/webExtension/WebExtensionProcessor.js"),w=n("./node_modules/chromium-bidi/lib/cjs/bidiMapper/OutgoingMessage.js");class y extends o.EventEmitter{#a;#h;#p;#f;#m;#g;#b;#w;#y;#v;#A;#_;#x;#S;#l;constructor(e,t,n,r,o,i,w,y,v,A,_=new s.BidiNoOpParser,x,S){super(),this.#h=t,this.#S=_,this.#l=S,this.#a=v,this.#p=new a.BrowserProcessor(t,r,y,A),this.#f=new c.BrowsingContextProcessor(t,r,A,y,n),this.#m=new l.CdpProcessor(r,o,e,t),this.#g=new u.EmulationProcessor(r,A,y),this.#b=new d.InputProcessor(r),this.#w=new h.NetworkProcessor(r,w,A,y),this.#y=new p.PermissionsProcessor(t),this.#v=new f.ScriptProcessor(n,r,o,i,A,S),this.#A=new m.SessionProcessor(n,t,x),this.#_=new g.StorageProcessor(t,r,S),this.#x=new b.WebExtensionProcessor(t)}async#E(e){switch(e.method){case"bluetooth.disableSimulation":return await this.#a.disableSimulation(this.#S.parseDisableSimulationParameters(e.params));case"bluetooth.handleRequestDevicePrompt":return await this.#a.handleRequestDevicePrompt(this.#S.parseHandleRequestDevicePromptParams(e.params));case"bluetooth.simulateAdapter":return await this.#a.simulateAdapter(this.#S.parseSimulateAdapterParameters(e.params));case"bluetooth.simulateAdvertisement":return await this.#a.simulateAdvertisement(this.#S.parseSimulateAdvertisementParameters(e.params));case"bluetooth.simulateCharacteristic":return await this.#a.simulateCharacteristic(this.#S.parseSimulateCharacteristicParameters(e.params));case"bluetooth.simulateCharacteristicResponse":return await this.#a.simulateCharacteristicResponse(this.#S.parseSimulateCharacteristicResponseParameters(e.params));case"bluetooth.simulateDescriptor":return await this.#a.simulateDescriptor(this.#S.parseSimulateDescriptorParameters(e.params));case"bluetooth.simulateDescriptorResponse":return await this.#a.simulateDescriptorResponse(this.#S.parseSimulateDescriptorResponseParameters(e.params));case"bluetooth.simulateGattConnectionResponse":return await this.#a.simulateGattConnectionResponse(this.#S.parseSimulateGattConnectionResponseParameters(e.params));case"bluetooth.simulateGattDisconnection":return await this.#a.simulateGattDisconnection(this.#S.parseSimulateGattDisconnectionParameters(e.params));case"bluetooth.simulatePreconnectedPeripheral":return await this.#a.simulatePreconnectedPeripheral(this.#S.parseSimulatePreconnectedPeripheralParameters(e.params));case"bluetooth.simulateService":return await this.#a.simulateService(this.#S.parseSimulateServiceParameters(e.params));case"browser.close":return this.#p.close();case"browser.createUserContext":return await this.#p.createUserContext(this.#S.parseCreateUserContextParameters(e.params));case"browser.getClientWindows":return await this.#p.getClientWindows();case"browser.getUserContexts":return await this.#p.getUserContexts();case"browser.removeUserContext":return await this.#p.removeUserContext(this.#S.parseRemoveUserContextParameters(e.params));case"browser.setClientWindowState":throw this.#S.parseSetClientWindowStateParameters(e.params),new r.UnknownErrorException(`Method ${e.method} is not implemented.`);case"browser.setDownloadBehavior":return await this.#p.setDownloadBehavior(this.#S.parseSetDownloadBehaviorParameters(e.params));case"browsingContext.activate":return await this.#f.activate(this.#S.parseActivateParams(e.params));case"browsingContext.captureScreenshot":return await this.#f.captureScreenshot(this.#S.parseCaptureScreenshotParams(e.params));case"browsingContext.close":return await this.#f.close(this.#S.parseCloseParams(e.params));case"browsingContext.create":return await this.#f.create(this.#S.parseCreateParams(e.params));case"browsingContext.getTree":return this.#f.getTree(this.#S.parseGetTreeParams(e.params));case"browsingContext.handleUserPrompt":return await this.#f.handleUserPrompt(this.#S.parseHandleUserPromptParams(e.params));case"browsingContext.locateNodes":return await this.#f.locateNodes(this.#S.parseLocateNodesParams(e.params));case"browsingContext.navigate":return await this.#f.navigate(this.#S.parseNavigateParams(e.params));case"browsingContext.print":return await this.#f.print(this.#S.parsePrintParams(e.params));case"browsingContext.reload":return await this.#f.reload(this.#S.parseReloadParams(e.params));case"browsingContext.setViewport":return await this.#f.setViewport(this.#S.parseSetViewportParams(e.params));case"browsingContext.traverseHistory":return await this.#f.traverseHistory(this.#S.parseTraverseHistoryParams(e.params));case"goog:cdp.getSession":return this.#m.getSession(this.#S.parseGetSessionParams(e.params));case"goog:cdp.resolveRealm":return this.#m.resolveRealm(this.#S.parseResolveRealmParams(e.params));case"goog:cdp.sendCommand":return await this.#m.sendCommand(this.#S.parseSendCommandParams(e.params));case"emulation.setForcedColorsModeThemeOverride":throw this.#S.parseSetForcedColorsModeThemeOverrideParams(e.params),new r.UnknownErrorException(`Method ${e.method} is not implemented.`);case"emulation.setGeolocationOverride":return await this.#g.setGeolocationOverride(this.#S.parseSetGeolocationOverrideParams(e.params));case"emulation.setLocaleOverride":return await this.#g.setLocaleOverride(this.#S.parseSetLocaleOverrideParams(e.params));case"emulation.setScreenOrientationOverride":return await this.#g.setScreenOrientationOverride(this.#S.parseSetScreenOrientationOverrideParams(e.params));case"emulation.setScriptingEnabled":return await this.#g.setScriptingEnabled(this.#S.parseSetScriptingEnabledParams(e.params));case"emulation.setTimezoneOverride":return await this.#g.setTimezoneOverride(this.#S.parseSetTimezoneOverrideParams(e.params));case"emulation.setUserAgentOverride":return await this.#g.setUserAgentOverrideParams(this.#S.parseSetUserAgentOverrideParams(e.params));case"input.performActions":return await this.#b.performActions(this.#S.parsePerformActionsParams(e.params));case"input.releaseActions":return await this.#b.releaseActions(this.#S.parseReleaseActionsParams(e.params));case"input.setFiles":return await this.#b.setFiles(this.#S.parseSetFilesParams(e.params));case"network.addDataCollector":return await this.#w.addDataCollector(this.#S.parseAddDataCollectorParams(e.params));case"network.addIntercept":return await this.#w.addIntercept(this.#S.parseAddInterceptParams(e.params));case"network.continueRequest":return await this.#w.continueRequest(this.#S.parseContinueRequestParams(e.params));case"network.continueResponse":return await this.#w.continueResponse(this.#S.parseContinueResponseParams(e.params));case"network.continueWithAuth":return await this.#w.continueWithAuth(this.#S.parseContinueWithAuthParams(e.params));case"network.disownData":return this.#w.disownData(this.#S.parseDisownDataParams(e.params));case"network.failRequest":return await this.#w.failRequest(this.#S.parseFailRequestParams(e.params));case"network.getData":return await this.#w.getData(this.#S.parseGetDataParams(e.params));case"network.provideResponse":return await this.#w.provideResponse(this.#S.parseProvideResponseParams(e.params));case"network.removeDataCollector":return await this.#w.removeDataCollector(this.#S.parseRemoveDataCollectorParams(e.params));case"network.removeIntercept":return await this.#w.removeIntercept(this.#S.parseRemoveInterceptParams(e.params));case"network.setCacheBehavior":return await this.#w.setCacheBehavior(this.#S.parseSetCacheBehaviorParams(e.params));case"network.setExtraHeaders":return await this.#w.setExtraHeaders(this.#S.parseSetExtraHeadersParams(e.params));case"permissions.setPermission":return await this.#y.setPermissions(this.#S.parseSetPermissionsParams(e.params));case"script.addPreloadScript":return await this.#v.addPreloadScript(this.#S.parseAddPreloadScriptParams(e.params));case"script.callFunction":return await this.#v.callFunction(this.#S.parseCallFunctionParams(this.#C(e.params)));case"script.disown":return await this.#v.disown(this.#S.parseDisownParams(this.#C(e.params)));case"script.evaluate":return await this.#v.evaluate(this.#S.parseEvaluateParams(this.#C(e.params)));case"script.getRealms":return this.#v.getRealms(this.#S.parseGetRealmsParams(e.params));case"script.removePreloadScript":return await this.#v.removePreloadScript(this.#S.parseRemovePreloadScriptParams(e.params));case"session.end":throw new r.UnknownErrorException(`Method ${e.method} is not implemented.`);case"session.new":return await this.#A.new(e.params);case"session.status":return this.#A.status();case"session.subscribe":return await this.#A.subscribe(this.#S.parseSubscribeParams(e.params),e["goog:channel"]);case"session.unsubscribe":return await this.#A.unsubscribe(this.#S.parseUnsubscribeParams(e.params),e["goog:channel"]);case"storage.deleteCookies":return await this.#_.deleteCookies(this.#S.parseDeleteCookiesParams(e.params));case"storage.getCookies":return await this.#_.getCookies(this.#S.parseGetCookiesParams(e.params));case"storage.setCookie":return await this.#_.setCookie(this.#S.parseSetCookieParams(e.params));case"webExtension.install":return await this.#x.install(this.#S.parseInstallParams(e.params));case"webExtension.uninstall":return await this.#x.uninstall(this.#S.parseUninstallParams(e.params))}throw new r.UnknownCommandException(`Unknown command '${e?.method}'.`)}#C(e){return"object"==typeof e&&e&&"target"in e&&"object"==typeof e.target&&e.target&&"context"in e.target&&delete e.target.realm,e}async processCommand(e){try{const t=await this.#E(e),n={type:"success",id:e.id,result:t};this.emit("response",{message:w.OutgoingMessage.createResolved(n,e["goog:channel"]),event:e.method})}catch(t){if(t instanceof r.Exception)this.emit("response",{message:w.OutgoingMessage.createResolved(t.toErrorResponse(e.id),e["goog:channel"]),event:e.method});else{const n=t;this.#l?.(i.LogType.bidi,n);const o=this.#h.isCloseError(t)?new r.NoSuchFrameException("Browsing context is gone"):new r.UnknownErrorException(n.message,n.stack);this.emit("response",{message:w.OutgoingMessage.createResolved(o.toErrorResponse(e.id),e["goog:channel"]),event:e.method})}}}}t.CommandProcessor=y},"./node_modules/chromium-bidi/lib/cjs/bidiMapper/OutgoingMessage.js":(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OutgoingMessage=void 0;class n{#k;#O;constructor(e,t=null){this.#k=e,this.#O=t}static createFromPromise(e,t){return e.then(e=>"success"===e.kind?{kind:"success",value:new n(e.value,t)}:e)}static createResolved(e,t=null){return Promise.resolve({kind:"success",value:new n(e,t)})}get message(){return this.#k}get googChannel(){return this.#O}}t.OutgoingMessage=n},"./node_modules/chromium-bidi/lib/cjs/bidiMapper/modules/bluetooth/BluetoothProcessor.js":(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BluetoothProcessor=void 0;const r=n("./node_modules/chromium-bidi/lib/cjs/protocol/protocol.js");class o{id;uuid;constructor(e,t){this.id=e,this.uuid=t}}class i extends o{characteristic;constructor(e,t,n){super(e,t),this.characteristic=n}}class s extends o{descriptors=new Map;service;constructor(e,t,n){super(e,t),this.service=n}}class a extends o{characteristics=new Map;device;constructor(e,t,n){super(e,t),this.device=n}}class l{address;services=new Map;constructor(e){this.address=e}}t.BluetoothProcessor=class{#r;#o;#T=new Map;#I=new Map;#B=new Map;constructor(e,t){this.#r=e,this.#o=t}#M(e){const t=this.#T.get(e);if(!t)throw new r.InvalidArgumentException(`Bluetooth device with address ${e} does not exist`);return t}#P(e,t){const n=e.services.get(t);if(!n)throw new r.InvalidArgumentException(`Service with UUID ${t} on device ${e.address} does not exist`);return n}#j(e,t){const n=e.characteristics.get(t);if(!n)throw new r.InvalidArgumentException(`Characteristic with UUID ${t} does not exist for service ${e.uuid} on device ${e.device.address}`);return n}#N(e,t){const n=e.descriptors.get(t);if(!n)throw new r.InvalidArgumentException(`Descriptor with UUID ${t} does not exist for characteristic ${e.uuid} on service ${e.service.uuid} on device ${e.service.device.address}`);return n}async simulateAdapter(e){if(void 0===e.state)throw new r.InvalidArgumentException('Parameter "state" is required for creating a Bluetooth adapter');const t=this.#o.getContext(e.context);return await t.cdpTarget.browserCdpClient.sendCommand("BluetoothEmulation.disable"),this.#T.clear(),this.#I.clear(),this.#B.clear(),await t.cdpTarget.browserCdpClient.sendCommand("BluetoothEmulation.enable",{state:e.state,leSupported:e.leSupported??!0}),{}}async disableSimulation(e){const t=this.#o.getContext(e.context);return await t.cdpTarget.browserCdpClient.sendCommand("BluetoothEmulation.disable"),this.#T.clear(),this.#I.clear(),this.#B.clear(),{}}async simulatePreconnectedPeripheral(e){if(this.#T.has(e.address))throw new r.InvalidArgumentException(`Bluetooth device with address ${e.address} already exists`);const t=this.#o.getContext(e.context);return await t.cdpTarget.browserCdpClient.sendCommand("BluetoothEmulation.simulatePreconnectedPeripheral",{address:e.address,name:e.name,knownServiceUuids:e.knownServiceUuids,manufacturerData:e.manufacturerData}),this.#T.set(e.address,new l(e.address)),{}}async simulateAdvertisement(e){const t=this.#o.getContext(e.context);return await t.cdpTarget.browserCdpClient.sendCommand("BluetoothEmulation.simulateAdvertisement",{entry:e.scanEntry}),{}}async simulateCharacteristic(e){const t=this.#M(e.address),n=this.#P(t,e.serviceUuid),o=this.#o.getContext(e.context);switch(e.type){case"add":{if(void 0===e.characteristicProperties)throw new r.InvalidArgumentException('Parameter "characteristicProperties" is required for adding a Bluetooth characteristic');if(n.characteristics.has(e.characteristicUuid))throw new r.InvalidArgumentException(`Characteristic with UUID ${e.characteristicUuid} already exists`);const t=await o.cdpTarget.browserCdpClient.sendCommand("BluetoothEmulation.addCharacteristic",{serviceId:n.id,characteristicUuid:e.characteristicUuid,properties:e.characteristicProperties}),i=new s(t.characteristicId,e.characteristicUuid,n);return n.characteristics.set(e.characteristicUuid,i),this.#I.set(i.id,i),{}}case"remove":{if(void 0!==e.characteristicProperties)throw new r.InvalidArgumentException('Parameter "characteristicProperties" should not be provided for removing a Bluetooth characteristic');const t=this.#j(n,e.characteristicUuid);return await o.cdpTarget.browserCdpClient.sendCommand("BluetoothEmulation.removeCharacteristic",{characteristicId:t.id}),n.characteristics.delete(e.characteristicUuid),this.#I.delete(t.id),{}}default:throw new r.InvalidArgumentException(`Parameter "type" of ${e.type} is not supported`)}}async simulateCharacteristicResponse(e){const t=this.#o.getContext(e.context),n=this.#M(e.address),r=this.#P(n,e.serviceUuid),o=this.#j(r,e.characteristicUuid);return await t.cdpTarget.browserCdpClient.sendCommand("BluetoothEmulation.simulateCharacteristicOperationResponse",{characteristicId:o.id,type:e.type,code:e.code,...e.data&&{data:btoa(String.fromCharCode(...e.data))}}),{}}async simulateDescriptor(e){const t=this.#M(e.address),n=this.#P(t,e.serviceUuid),o=this.#j(n,e.characteristicUuid),s=this.#o.getContext(e.context);switch(e.type){case"add":{if(o.descriptors.has(e.descriptorUuid))throw new r.InvalidArgumentException(`Descriptor with UUID ${e.descriptorUuid} already exists`);const t=await s.cdpTarget.browserCdpClient.sendCommand("BluetoothEmulation.addDescriptor",{characteristicId:o.id,descriptorUuid:e.descriptorUuid}),n=new i(t.descriptorId,e.descriptorUuid,o);return o.descriptors.set(e.descriptorUuid,n),this.#B.set(n.id,n),{}}case"remove":{const t=this.#N(o,e.descriptorUuid);return await s.cdpTarget.browserCdpClient.sendCommand("BluetoothEmulation.removeDescriptor",{descriptorId:t.id}),o.descriptors.delete(e.descriptorUuid),this.#B.delete(t.id),{}}default:throw new r.InvalidArgumentException(`Parameter "type" of ${e.type} is not supported`)}}async simulateDescriptorResponse(e){const t=this.#o.getContext(e.context),n=this.#M(e.address),r=this.#P(n,e.serviceUuid),o=this.#j(r,e.characteristicUuid),i=this.#N(o,e.descriptorUuid);return await t.cdpTarget.browserCdpClient.sendCommand("BluetoothEmulation.simulateDescriptorOperationResponse",{descriptorId:i.id,type:e.type,code:e.code,...e.data&&{data:btoa(String.fromCharCode(...e.data))}}),{}}async simulateGattConnectionResponse(e){const t=this.#o.getContext(e.context);return await t.cdpTarget.browserCdpClient.sendCommand("BluetoothEmulation.simulateGATTOperationResponse",{address:e.address,type:"connection",code:e.code}),{}}async simulateGattDisconnection(e){const t=this.#o.getContext(e.context);return await t.cdpTarget.browserCdpClient.sendCommand("BluetoothEmulation.simulateGATTDisconnection",{address:e.address}),{}}async simulateService(e){const t=this.#M(e.address),n=this.#o.getContext(e.context);switch(e.type){case"add":{if(t.services.has(e.uuid))throw new r.InvalidArgumentException(`Service with UUID ${e.uuid} already exists`);const o=await n.cdpTarget.browserCdpClient.sendCommand("BluetoothEmulation.addService",{address:e.address,serviceUuid:e.uuid});return t.services.set(e.uuid,new a(o.serviceId,e.uuid,t)),{}}case"remove":{const r=this.#P(t,e.uuid);return await n.cdpTarget.browserCdpClient.sendCommand("BluetoothEmulation.removeService",{serviceId:r.id}),t.services.delete(e.uuid),{}}default:throw new r.InvalidArgumentException(`Parameter "type" of ${e.type} is not supported`)}}onCdpTargetCreated(e){e.cdpClient.on("DeviceAccess.deviceRequestPrompted",t=>{this.#r.registerEvent({type:"event",method:"bluetooth.requestDevicePromptUpdated",params:{context:e.id,prompt:t.id,devices:t.devices}},e.id)}),e.browserCdpClient.on("BluetoothEmulation.gattOperationReceived",async t=>{switch(t.type){case"connection":return void this.#r.registerEvent({type:"event",method:"bluetooth.gattConnectionAttempted",params:{context:e.id,address:t.address}},e.id);case"discovery":await e.browserCdpClient.sendCommand("BluetoothEmulation.simulateGATTOperationResponse",{address:t.address,type:"discovery",code:0})}}),e.browserCdpClient.on("BluetoothEmulation.characteristicOperationReceived",t=>{if(!this.#I.has(t.characteristicId))return;let n;if("write"===t.type){if("write-default-deprecated"===t.writeType)return;n=t.writeType}else n=t.type;const r=this.#I.get(t.characteristicId);this.#r.registerEvent({type:"event",method:"bluetooth.characteristicEventGenerated",params:{context:e.id,address:r.service.device.address,serviceUuid:r.service.uuid,characteristicUuid:r.uuid,type:n,...t.data&&{data:Array.from(atob(t.data),e=>e.charCodeAt(0))}}},e.id)}),e.browserCdpClient.on("BluetoothEmulation.descriptorOperationReceived",t=>{if(!this.#B.has(t.descriptorId))return;const n=this.#B.get(t.descriptorId);this.#r.registerEvent({type:"event",method:"bluetooth.descriptorEventGenerated",params:{context:e.id,address:n.characteristic.service.device.address,serviceUuid:n.characteristic.service.uuid,characteristicUuid:n.characteristic.uuid,descriptorUuid:n.uuid,type:t.type,...t.data&&{data:Array.from(atob(t.data),e=>e.charCodeAt(0))}}},e.id)})}async handleRequestDevicePrompt(e){const t=this.#o.getContext(e.context);return e.accept?await t.cdpTarget.cdpClient.sendCommand("DeviceAccess.selectPrompt",{id:e.prompt,deviceId:e.device}):await t.cdpTarget.cdpClient.sendCommand("DeviceAccess.cancelPrompt",{id:e.prompt}),{}}}},"./node_modules/chromium-bidi/lib/cjs/bidiMapper/modules/browser/BrowserProcessor.js":(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BrowserProcessor=void 0,t.getProxyStr=o;const r=n("./node_modules/chromium-bidi/lib/cjs/protocol/protocol.js");function o(e){if("direct"!==e.proxyType&&"system"!==e.proxyType){if("pac"===e.proxyType)throw new r.UnsupportedOperationException("PAC proxy configuration is not supported per user context");if("autodetect"===e.proxyType)throw new r.UnsupportedOperationException("Autodetect proxy is not supported per user context");if("manual"===e.proxyType){const t=[];if(void 0!==e.httpProxy&&t.push(`http=${e.httpProxy}`),void 0!==e.sslProxy&&t.push(`https=${e.sslProxy}`),void 0!==e.socksProxy||void 0!==e.socksVersion){if(void 0===e.socksProxy)throw new r.InvalidArgumentException("'socksVersion' cannot be set without 'socksProxy'");if(void 0===e.socksVersion||"number"!=typeof e.socksVersion||!Number.isInteger(e.socksVersion)||e.socksVersion<0||e.socksVersion>255)throw new r.InvalidArgumentException("'socksVersion' must be between 0 and 255");t.push(`socks=socks${e.socksVersion}://${e.socksProxy}`)}if(0===t.length)return;return t.join(";")}throw new r.UnknownErrorException("Unknown proxy type")}}t.BrowserProcessor=class{#h;#o;#F;#D;constructor(e,t,n,r){this.#h=e,this.#o=t,this.#F=n,this.#D=r}close(){return setTimeout(()=>this.#h.sendCommand("Browser.close"),0),{}}async createUserContext(e){const t=e,n=this.#F.getGlobalConfig();if(void 0!==t.acceptInsecureCerts&&!1===t.acceptInsecureCerts&&!0===n.acceptInsecureCerts)throw new r.UnknownErrorException('Cannot set user context\'s "acceptInsecureCerts" to false, when a capability "acceptInsecureCerts" is set to true');const i={};if(t.proxy){const e=o(t.proxy);e&&(i.proxyServer=e),t.proxy.noProxy&&(i.proxyBypassList=t.proxy.noProxy.join(","))}else{void 0!==e["goog:proxyServer"]&&(i.proxyServer=e["goog:proxyServer"]);const t=e["goog:proxyBypassList"]??void 0;t&&(i.proxyBypassList=t.join(","))}const s=await this.#h.sendCommand("Target.createBrowserContext",i);return await this.#R(n.downloadBehavior??null,s.browserContextId),this.#F.updateUserContextConfig(s.browserContextId,{acceptInsecureCerts:e.acceptInsecureCerts,userPromptHandler:e.unhandledPromptBehavior}),{userContext:s.browserContextId}}async removeUserContext(e){const t=e.userContext;if("default"===t)throw new r.InvalidArgumentException("`default` user context cannot be removed");try{await this.#h.sendCommand("Target.disposeBrowserContext",{browserContextId:t})}catch(e){if(e.message.startsWith("Failed to find context with id"))throw new r.NoSuchUserContextException(e.message);throw e}return{}}async getUserContexts(){return{userContexts:await this.#D.getUserContexts()}}async#L(e){const t=await this.#h.sendCommand("Browser.getWindowForTarget",{targetId:e});return{active:!1,clientWindow:`${t.windowId}`,state:t.bounds.windowState??"normal",height:t.bounds.height??0,width:t.bounds.width??0,x:t.bounds.left??0,y:t.bounds.top??0}}async getClientWindows(){const e=this.#o.getTopLevelContexts().map(e=>e.cdpTarget.id),t=await Promise.all(e.map(async e=>await this.#L(e))),n=new Set,r=new Array;for(const e of t)n.has(e.clientWindow)||(n.add(e.clientWindow),r.push(e));return{clientWindows:r}}#z(e){if(null===e)return{behavior:"default"};if("denied"===e?.type)return{behavior:"deny"};if("allowed"===e?.type)return e.destinationFolder?{behavior:"allow",downloadPath:e.destinationFolder}:{behavior:"default"};throw new r.UnknownErrorException("Unexpected download behavior")}async#R(e,t){await this.#h.sendCommand("Browser.setDownloadBehavior",{...this.#z(e),browserContextId:"default"===t?void 0:t,eventsEnabled:!0})}async setDownloadBehavior(e){let t;if(t=void 0===e.userContexts?(await this.#D.getUserContexts()).map(e=>e.userContext):Array.from(await this.#D.verifyUserContextIdList(e.userContexts)),(void 0===e.userContexts||t.filter(e=>"default"!==e).length>0)&&"allowed"===e.downloadBehavior?.type&&void 0===e.downloadBehavior.destinationFolder)throw new r.UnsupportedOperationException("Download in non-default user contexts requires `destinationFolder`");return void 0===e.userContexts?this.#F.updateGlobalConfig({downloadBehavior:e.downloadBehavior}):e.userContexts.map(t=>this.#F.updateUserContextConfig(t,{downloadBehavior:e.downloadBehavior})),await Promise.all(t.map(async e=>{const t=this.#F.getActiveConfig(void 0,e).downloadBehavior??null;await this.#R(t,e)})),{}}}},"./node_modules/chromium-bidi/lib/cjs/bidiMapper/modules/browser/ContextConfig.js":(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ContextConfig=void 0;class n{acceptInsecureCerts;devicePixelRatio;downloadBehavior;extraHeaders;geolocation;locale;prerenderingDisabled;screenOrientation;scriptingEnabled;timezone;userAgent;userPromptHandler;viewport;static merge(...e){const t=new n;for(const n of e)if(n)for(const e in n){const r=n[e];null===r?delete t[e]:void 0!==r&&(t[e]=r)}return t}}t.ContextConfig=n},"./node_modules/chromium-bidi/lib/cjs/bidiMapper/modules/browser/ContextConfigStorage.js":(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ContextConfigStorage=void 0;const r=n("./node_modules/chromium-bidi/lib/cjs/bidiMapper/modules/browser/ContextConfig.js");t.ContextConfigStorage=class{#H=new r.ContextConfig;#U=new Map;#Q=new Map;updateGlobalConfig(e){this.#H=r.ContextConfig.merge(this.#H,e)}updateBrowsingContextConfig(e,t){this.#Q.set(e,r.ContextConfig.merge(this.#Q.get(e),t))}updateUserContextConfig(e,t){this.#U.set(e,r.ContextConfig.merge(this.#U.get(e),t))}getGlobalConfig(){return this.#H}getActiveConfig(e,t){const n=r.ContextConfig.merge(this.#H,this.#U.get(t));return void 0===e?n:r.ContextConfig.merge(n,this.#Q.get(e))}}},"./node_modules/chromium-bidi/lib/cjs/bidiMapper/modules/browser/UserContextStorage.js":(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UserContextStorage=void 0;const r=n("./node_modules/chromium-bidi/lib/cjs/protocol/protocol.js");t.UserContextStorage=class{#q;constructor(e){this.#q=e}async getUserContexts(){return[{userContext:"default"},...(await this.#q.sendCommand("Target.getBrowserContexts")).browserContextIds.map(e=>({userContext:e}))]}async verifyUserContextIdList(e){const t=new Set;if(!e.length)return t;const n=await this.getUserContexts(),o=new Set(n.map(e=>e.userContext));for(const n of e){if(!o.has(n))throw new r.NoSuchUserContextException(`User context ${n} not found`);t.add(n)}return t}}},"./node_modules/chromium-bidi/lib/cjs/bidiMapper/modules/cdp/CdpProcessor.js":(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CdpProcessor=void 0;const r=n("./node_modules/chromium-bidi/lib/cjs/protocol/protocol.js");t.CdpProcessor=class{#o;#i;#W;#h;constructor(e,t,n,r){this.#o=e,this.#i=t,this.#W=n,this.#h=r}getSession(e){const t=e.context,n=this.#o.getContext(t).cdpTarget.cdpSessionId;return void 0===n?{}:{session:n}}resolveRealm(e){const t=e.realm,n=this.#i.getRealm({realmId:t});if(void 0===n)throw new r.UnknownErrorException(`Could not find realm ${e.realm}`);return{executionContextId:n.executionContextId}}async sendCommand(e){const t=e.session?this.#W.getCdpClient(e.session):this.#h;return{result:await t.sendCommand(e.method,e.params),session:e.session}}}},"./node_modules/chromium-bidi/lib/cjs/bidiMapper/modules/cdp/CdpTarget.js":(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CdpTarget=void 0;const r=n("./node_modules/chromium-bidi/lib/cjs/protocol/chromium-bidi.js"),o=n("./node_modules/chromium-bidi/lib/cjs/protocol/protocol.js"),i=n("./node_modules/chromium-bidi/lib/cjs/utils/Deferred.js"),s=n("./node_modules/chromium-bidi/lib/cjs/utils/log.js"),a=n("./node_modules/chromium-bidi/lib/cjs/bidiMapper/modules/context/BrowsingContextImpl.js"),l=n("./node_modules/chromium-bidi/lib/cjs/bidiMapper/modules/log/LogManager.js");class c{#$;#G;#V;#h;#Y;#i;#r;#s;#o;#J;contextConfigStorage;#K=new i.Deferred;#l;#X={width:0,height:0,deviceScaleFactor:0,mobile:!1,dontSetVisibleSize:!0};#Z;#ee=!1;#te=!1;#ne={request:!1,response:!1,auth:!1};static create(e,t,n,r,o,i,s,a,u,d,h,p){const f=new c(e,t,n,r,i,o,s,a,d,u,h,p);return l.LogManager.create(f,o,i,p),f.#re(),f.#oe(),f}constructor(e,t,n,r,o,i,s,a,l,c,u,d){this.#G=u,this.#$=e,this.#V=t,this.#h=n,this.#Y=r,this.#r=o,this.#i=i,this.#s=s,this.#J=c,this.#o=a,this.contextConfigStorage=l,this.#l=d}get unblocked(){return this.#K}get id(){return this.#$}get cdpClient(){return this.#V}get parentCdpClient(){return this.#Y}get browserCdpClient(){return this.#h}get cdpSessionId(){return this.#V.sessionId}get windowId(){return void 0===this.#Z&&this.#l?.(s.LogType.debugError,"Getting windowId before it was set, returning 0"),this.#Z??0}async#oe(){const e=await Promise.allSettled([this.#V.sendCommand("Page.enable",{enableFileChooserOpenedEvent:!0}),...this.#ie()?[]:[this.#V.sendCommand("Page.setInterceptFileChooserDialog",{enabled:!0,cancel:!0})],this.#V.sendCommand("Page.getFrameTree").then(e=>this.#se(e.frameTree)),this.#V.sendCommand("Runtime.enable"),this.#V.sendCommand("Page.setLifecycleEventsEnabled",{enabled:!0}),this.#V.sendCommand("Network.enable").then(()=>this.toggleNetworkIfNeeded()),this.#V.sendCommand("Target.setAutoAttach",{autoAttach:!0,waitForDebuggerOnStart:!0,flatten:!0}),this.#ae(),this.#le(),this.#ce(),this.#V.sendCommand("Runtime.runIfWaitingForDebugger"),this.#Y.sendCommand("Runtime.runIfWaitingForDebugger"),this.toggleDeviceAccessIfNeeded()]);for(const t of e)t instanceof Error&&this.#l?.(s.LogType.debugError,"Error happened when configuring a new target",t);this.#K.resolve({kind:"success",value:void 0})}#se(e){const t=e.frame,n=this.#o.findContext(t.id);if(void 0!==n&&null===n.parentId&&null!==t.parentId&&void 0!==t.parentId&&(n.parentId=t.parentId),void 0===n&&void 0!==t.parentId){const e=this.#o.getContext(t.parentId);a.BrowsingContextImpl.create(t.id,t.parentId,this.#G,e.cdpTarget,this.#r,this.#o,this.#i,this.contextConfigStorage,t.url,void 0,this.#l)}e.childFrames?.map(e=>this.#se(e))}async toggleFetchIfNeeded(){const e=this.#J.getInterceptionStages(this.topLevelId);if(this.#ne.request===e.request&&this.#ne.response===e.response&&this.#ne.auth===e.auth)return;const t=[];if(this.#ne=e,(e.request||e.auth)&&t.push({urlPattern:"*",requestStage:"Request"}),e.response&&t.push({urlPattern:"*",requestStage:"Response"}),t.length)await this.#V.sendCommand("Fetch.enable",{patterns:t,handleAuthRequests:e.auth});else{const e=this.#J.getRequestsByTarget(this).filter(e=>e.interceptPhase);Promise.allSettled(e.map(e=>e.waitNextPhase)).then(async()=>this.#J.getRequestsByTarget(this).filter(e=>e.interceptPhase).length?await this.toggleFetchIfNeeded():await this.#V.sendCommand("Fetch.disable")).catch(e=>{this.#l?.(s.LogType.bidi,"Disable failed",e)})}}async toggleNetworkIfNeeded(){try{await Promise.all([this.toggleSetCacheDisabled(),this.toggleFetchIfNeeded()])}catch(e){if(this.#l?.(s.LogType.debugError,e),!this.#ue(e))throw e}}async toggleSetCacheDisabled(e){const t="bypass"===this.#J.defaultCacheBehavior,n=e??t;if(this.#te!==n){this.#te=n;try{await this.#V.sendCommand("Network.setCacheDisabled",{cacheDisabled:n})}catch(e){if(this.#l?.(s.LogType.debugError,e),this.#te=!n,!this.#ue(e))throw e}}}async toggleDeviceAccessIfNeeded(){const e=this.isSubscribedTo(r.Bluetooth.EventNames.RequestDevicePromptUpdated);if(this.#ee!==e){this.#ee=e;try{await this.#V.sendCommand(e?"DeviceAccess.enable":"DeviceAccess.disable")}catch(t){if(this.#l?.(s.LogType.debugError,t),this.#ee=!e,!this.#ue(t))throw t}}}#ue(e){const t=e;return-32001===t.code&&"Session with given id not found."===t.message||this.#V.isCloseError(e)}#re(){this.#V.on("*",(e,t)=>{"string"==typeof e&&this.#r.registerEvent({type:"event",method:`goog:cdp.${e}`,params:{event:e,params:t,session:this.cdpSessionId}},this.id)})}async#de(e){const t=[];if((e.request||e.auth)&&t.push({urlPattern:"*",requestStage:"Request"}),e.response&&t.push({urlPattern:"*",requestStage:"Response"}),t.length){const n=this.#ne;this.#ne=e;try{await this.#V.sendCommand("Fetch.enable",{patterns:t,handleAuthRequests:e.auth})}catch{this.#ne=n}}}async#he(){0===this.#J.getRequestsByTarget(this).filter(e=>e.interceptPhase).length&&(this.#ne={request:!1,response:!1,auth:!1},await this.#V.sendCommand("Fetch.disable"))}async toggleNetwork(){const e=this.#J.getInterceptionStages(this.topLevelId),t=Object.values(e).some(e=>e),n=this.#ne.request!==e.request||this.#ne.response!==e.response||this.#ne.auth!==e.auth;this.#l?.(s.LogType.debugInfo,"Toggle Network",`Fetch (${t}) ${n}`),t&&n&&await this.#de(e),!t&&n&&await this.#he()}getChannels(){return this.#s.find().flatMap(e=>e.channels)}async#ae(){const{windowId:e}=await this.#h.sendCommand("Browser.getWindowForTarget",{targetId:this.id});this.#Z=e}async#ce(){await Promise.all(this.#s.find({targetId:this.topLevelId}).map(e=>e.initInTarget(this,!0)))}async setViewport(e,t){if(null===e&&null===t)return void await this.cdpClient.sendCommand("Emulation.clearDeviceMetricsOverride");const n={...this.#X};null===e?(n.width=0,n.height=0):void 0!==e&&(n.width=e.width,n.height=e.height),null===t?n.deviceScaleFactor=0:void 0!==t&&(n.deviceScaleFactor=t);try{await this.cdpClient.sendCommand("Emulation.setDeviceMetricsOverride",n),this.#X=n}catch(e){if(e.message.startsWith("Width and height values must be positive"))throw new o.UnsupportedOperationException("Provided viewport dimensions are not supported");throw e}}async#le(){const e=[],t=this.contextConfigStorage.getActiveConfig(this.topLevelId,this.#G);e.push(this.#V.sendCommand("Page.setPrerenderingAllowed",{isAllowed:!t.prerenderingDisabled}).catch(()=>{})),void 0===t.viewport&&void 0===t.devicePixelRatio||e.push(this.setViewport(t.viewport,t.devicePixelRatio).catch(()=>{})),void 0!==t.screenOrientation&&null!==t.screenOrientation&&e.push(this.setScreenOrientationOverride(t.screenOrientation).catch(()=>{})),void 0!==t.geolocation&&null!==t.geolocation&&e.push(this.setGeolocationOverride(t.geolocation)),void 0!==t.locale&&e.push(this.setLocaleOverride(t.locale)),void 0!==t.timezone&&e.push(this.setTimezoneOverride(t.timezone)),void 0!==t.extraHeaders&&e.push(this.setExtraHeaders(t.extraHeaders)),void 0!==t.userAgent&&e.push(this.setUserAgent(t.userAgent)),void 0!==t.scriptingEnabled&&e.push(this.setScriptingEnabled(t.scriptingEnabled)),void 0!==t.acceptInsecureCerts&&e.push(this.cdpClient.sendCommand("Security.setIgnoreCertificateErrors",{ignore:t.acceptInsecureCerts})),await Promise.all(e)}get topLevelId(){return this.#o.findTopLevelContextId(this.id)??this.id}isSubscribedTo(e){return this.#r.subscriptionManager.isSubscribedTo(e,this.topLevelId)}#ie(){const e=this.contextConfigStorage.getActiveConfig(this.topLevelId,this.#G);return"ignore"===(e.userPromptHandler?.file??e.userPromptHandler?.default??"ignore")}async setGeolocationOverride(e){if(null===e)await this.cdpClient.sendCommand("Emulation.clearGeolocationOverride");else if("type"in e){if("positionUnavailable"!==e.type)throw new o.UnknownErrorException(`Unknown geolocation error ${e.type}`);await this.cdpClient.sendCommand("Emulation.setGeolocationOverride",{})}else{if(!("latitude"in e))throw new o.UnknownErrorException("Unexpected geolocation coordinates value");await this.cdpClient.sendCommand("Emulation.setGeolocationOverride",{latitude:e.latitude,longitude:e.longitude,accuracy:e.accuracy??1,altitude:e.altitude??void 0,altitudeAccuracy:e.altitudeAccuracy??void 0,heading:e.heading??void 0,speed:e.speed??void 0})}}async setScreenOrientationOverride(e){const t={...this.#X};null===e?delete t.screenOrientation:t.screenOrientation=this.#pe(e),await this.cdpClient.sendCommand("Emulation.setDeviceMetricsOverride",t),this.#X=t}#pe(e){if("portrait"===e.natural)switch(e.type){case"portrait-primary":return{angle:0,type:"portraitPrimary"};case"landscape-primary":return{angle:90,type:"landscapePrimary"};case"portrait-secondary":return{angle:180,type:"portraitSecondary"};case"landscape-secondary":return{angle:270,type:"landscapeSecondary"};default:throw new o.UnknownErrorException(`Unexpected screen orientation type ${e.type}`)}if("landscape"===e.natural)switch(e.type){case"landscape-primary":return{angle:0,type:"landscapePrimary"};case"portrait-primary":return{angle:90,type:"portraitPrimary"};case"landscape-secondary":return{angle:180,type:"landscapeSecondary"};case"portrait-secondary":return{angle:270,type:"portraitSecondary"};default:throw new o.UnknownErrorException(`Unexpected screen orientation type ${e.type}`)}throw new o.UnknownErrorException(`Unexpected orientation natural ${e.natural}`)}async setLocaleOverride(e){null===e?await this.cdpClient.sendCommand("Emulation.setLocaleOverride",{}):await this.cdpClient.sendCommand("Emulation.setLocaleOverride",{locale:e})}async setScriptingEnabled(e){await this.cdpClient.sendCommand("Emulation.setScriptExecutionDisabled",{value:!1===e})}async setTimezoneOverride(e){null===e?await this.cdpClient.sendCommand("Emulation.setTimezoneOverride",{timezoneId:""}):await this.cdpClient.sendCommand("Emulation.setTimezoneOverride",{timezoneId:e})}async setExtraHeaders(e){await this.cdpClient.sendCommand("Network.setExtraHTTPHeaders",{headers:e})}async setUserAgent(e){await this.cdpClient.sendCommand("Emulation.setUserAgentOverride",{userAgent:e??""})}}t.CdpTarget=c},"./node_modules/chromium-bidi/lib/cjs/bidiMapper/modules/cdp/CdpTargetManager.js":(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CdpTargetManager=void 0;const r=n("./node_modules/chromium-bidi/lib/cjs/utils/log.js"),o=n("./node_modules/chromium-bidi/lib/cjs/bidiMapper/modules/context/BrowsingContextImpl.js"),i=n("./node_modules/chromium-bidi/lib/cjs/bidiMapper/modules/script/WorkerRealm.js"),s=n("./node_modules/chromium-bidi/lib/cjs/bidiMapper/modules/cdp/CdpTarget.js"),a={service_worker:"service-worker",shared_worker:"shared-worker",worker:"dedicated-worker"};t.CdpTargetManager=class{#h;#W;#fe=new Set;#me;#r;#o;#J;#a;#s;#i;#F;#ge;#l;constructor(e,t,n,r,o,i,s,a,l,c,u,d){this.#W=e,this.#h=t,this.#fe.add(n),this.#me=n,this.#r=r,this.#o=o,this.#s=c,this.#J=s,this.#F=a,this.#a=l,this.#i=i,this.#ge=u,this.#l=d,this.#re(t)}#re(e){e.on("Target.attachedToTarget",t=>{this.#be(t,e)}),e.on("Target.detachedFromTarget",this.#we.bind(this)),e.on("Target.targetInfoChanged",this.#ye.bind(this)),e.on("Inspector.targetCrashed",()=>{this.#ve(e)}),e.on("Page.frameAttached",this.#Ae.bind(this)),e.on("Page.frameSubtreeWillBeDetached",this.#_e.bind(this))}#Ae(e){const t=this.#o.findContext(e.parentFrameId);void 0!==t&&o.BrowsingContextImpl.create(e.frameId,e.parentFrameId,t.userContext,t.cdpTarget,this.#r,this.#o,this.#i,this.#F,"about:blank",void 0,this.#l)}#_e(e){this.#o.findContext(e.frameId)?.dispose(!0)}#be(e,t){const{sessionId:n,targetInfo:i}=e,s=this.#W.getCdpClient(n),l=async()=>{await s.sendCommand("Runtime.runIfWaitingForDebugger").then(()=>t.sendCommand("Target.detachFromTarget",e)).catch(e=>this.#l?.(r.LogType.debugError,e))};if(this.#me===i.targetId)return void l();const c="service_worker"===i.type?`${t.sessionId}_${i.targetId}`:i.targetId;if(this.#fe.has(c))return;this.#fe.add(c);const u=i.browserContextId&&i.browserContextId!==this.#ge?i.browserContextId:"default";switch(i.type){case"tab":return this.#re(s),void(async()=>{await s.sendCommand("Target.setAutoAttach",{autoAttach:!0,waitForDebuggerOnStart:!0,flatten:!0})})();case"page":case"iframe":{const e=this.#xe(s,t,i,u),n=this.#o.findContext(i.targetId);if(n&&"iframe"===i.type)n.updateCdpTarget(e);else{const n=this.#Se(i,t.sessionId);o.BrowsingContextImpl.create(i.targetId,n,u,e,this.#r,this.#o,this.#i,this.#F,""===i.url?"about:blank":i.url,i.openerFrameId??i.openerId,this.#l)}return}case"service_worker":case"worker":{const e=this.#i.findRealm({cdpSessionId:t.sessionId,sandbox:null});if(!e)return void l();const n=this.#xe(s,t,i,u);return void this.#Ee(a[i.type],n,e)}case"shared_worker":{const e=this.#xe(s,t,i,u);return void this.#Ee(a[i.type],e)}}l()}#Se(e,t){if("iframe"!==e.type)return null;const n=e.openerFrameId??e.openerId;return void 0!==n?n:void 0!==t?this.#o.findContextBySession(t)?.id??null:null}#xe(e,t,n,r){this.#re(e),this.#s.onCdpTargetCreated(n.targetId,r);const o=s.CdpTarget.create(n.targetId,e,this.#h,t,this.#i,this.#r,this.#s,this.#o,this.#J,this.#F,r,this.#l);return this.#J.onCdpTargetCreated(o),this.#a.onCdpTargetCreated(o),o}#Ce=new Map;#Ee(e,t,n){t.cdpClient.on("Runtime.executionContextCreated",r=>{const{uniqueId:s,id:a,origin:l}=r.context,c=new i.WorkerRealm(t.cdpClient,this.#r,a,this.#l,(0,o.serializeOrigin)(l),n?[n]:[],s,this.#i,e);this.#Ce.set(t.cdpSessionId,c)})}#we({sessionId:e,targetId:t}){t&&this.#s.find({targetId:t}).map(e=>{e.dispose(t)});const n=this.#o.findContextBySession(e);if(n)return void n.dispose(!0);const r=this.#Ce.get(e);r&&this.#i.deleteRealms({cdpSessionId:r.cdpClient.sessionId})}#ye(e){const t=this.#o.findContext(e.targetInfo.targetId);t&&t.onTargetInfoChanged(e)}#ve(e){const t=this.#i.findRealms({cdpSessionId:e.sessionId});for(const e of t)e.dispose()}}},"./node_modules/chromium-bidi/lib/cjs/bidiMapper/modules/context/BrowsingContextImpl.js":(e,t,n)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.BrowsingContextImpl=void 0,t.serializeOrigin=m;const o=n("./node_modules/chromium-bidi/lib/cjs/protocol/protocol.js"),i=n("./node_modules/chromium-bidi/lib/cjs/utils/assert.js"),s=n("./node_modules/chromium-bidi/lib/cjs/utils/Deferred.js"),a=n("./node_modules/chromium-bidi/lib/cjs/utils/log.js"),l=n("./node_modules/chromium-bidi/lib/cjs/utils/time.js"),c=n("./node_modules/chromium-bidi/lib/cjs/utils/unitConversions.js"),u=n("./node_modules/chromium-bidi/lib/cjs/utils/uuid.js"),d=n("./node_modules/chromium-bidi/lib/cjs/bidiMapper/modules/script/SharedId.js"),h=n("./node_modules/chromium-bidi/lib/cjs/bidiMapper/modules/script/WindowRealm.js"),p=n("./node_modules/chromium-bidi/lib/cjs/bidiMapper/modules/context/NavigationTracker.js");class f{static LOGGER_PREFIX=`${a.LogType.debug}:browsingContext`;#ke=new Set;#$;userContext;#Oe=(0,u.uuidv4)();#Te=new Map;#Ie;#Be=null;#Me;#Pe={DOMContentLoaded:new s.Deferred,load:new s.Deferred};#je;#Ne=new s.Deferred;#o;#r;#l;#Fe;#i;#F;#De;constructor(e,t,n,r,o,i,s,a,l,c,u){this.#je=r,this.#$=e,this.#Be=t,this.userContext=n,this.#r=o,this.#o=i,this.#i=s,this.#F=a,this.#l=u,this.#Me=c,this.#i.hiddenSandboxes.add(this.#Oe),this.#Fe=new p.NavigationTracker(l,e,o,u)}static create(e,t,n,i,s,a,l,c,u,d,h){const p=new r(e,t,n,i,s,a,l,c,u,d,h);return p.#Re(),a.addContext(p),p.isTopLevelContext()||p.parent.addChild(p.id),s.registerPromiseEvent(p.targetUnblockedOrThrow().then(()=>({kind:"success",value:{type:"event",method:o.ChromiumBidi.BrowsingContext.EventNames.ContextCreated,params:{...p.serializeToBidiValue(),url:u}}}),e=>({kind:"error",error:e})),p.id,o.ChromiumBidi.BrowsingContext.EventNames.ContextCreated),p}get navigableId(){return this.#Ie}get navigationId(){return this.#Fe.currentNavigationId}dispose(e){this.#Fe.dispose(),this.#i.deleteRealms({browsingContextId:this.id}),this.isTopLevelContext()||this.parent.#ke.delete(this.id),this.#Le(),e&&this.#r.registerEvent({type:"event",method:o.ChromiumBidi.BrowsingContext.EventNames.ContextDestroyed,params:this.serializeToBidiValue(null)},this.id),this.#ze(),this.#r.clearBufferedEvents(this.id),this.#o.deleteContextById(this.id)}get id(){return this.#$}get parentId(){return this.#Be}set parentId(e){null===this.#Be?(this.#Be=e,this.isTopLevelContext()||this.parent.addChild(this.id)):this.#l?.(a.LogType.debugError,"Parent context already set")}get parent(){return null===this.parentId?null:this.#o.getContext(this.parentId)}get directChildren(){return[...this.#ke].map(e=>this.#o.getContext(e))}get allChildren(){const e=this.directChildren;return e.concat(...e.map(e=>e.allChildren))}isTopLevelContext(){return null===this.#Be}get top(){let e=this,t=e.parent;for(;t;)e=t,t=e.parent;return e}addChild(e){this.#ke.add(e)}#ze(e=!1){this.directChildren.map(t=>t.dispose(e))}get cdpTarget(){return this.#je}updateCdpTarget(e){this.#je=e,this.#Re()}get url(){return this.#Fe.url}async lifecycleLoaded(){await this.#Pe.load}async targetUnblockedOrThrow(){const e=await this.#je.unblocked;if("error"===e.kind)throw e.error}async getOrCreateHiddenSandbox(){return await this.#He(this.#Oe)}async getOrCreateUserSandbox(e){const t=await this.#He(e);if(t.isHidden())throw new o.NoSuchFrameException(`Realm "${e}" not found`);return t}async#He(e){if(void 0===e||""===e)return await this.#Ne;let t=this.#i.findRealms({browsingContextId:this.id,sandbox:e});return 0===t.length&&(await this.#je.cdpClient.sendCommand("Page.createIsolatedWorld",{frameId:this.id,worldName:e}),t=this.#i.findRealms({browsingContextId:this.id,sandbox:e}),(0,i.assert)(0!==t.length)),t[0]}serializeToBidiValue(e=0,t=!0){return{context:this.#$,url:this.url,userContext:this.userContext,originalOpener:this.#Me??null,clientWindow:`${this.cdpTarget.windowId}`,children:null===e||e>0?this.directChildren.map(t=>t.serializeToBidiValue(null===e?e:e-1,!1)):null,...t?{parent:this.#Be}:{}}}onTargetInfoChanged(e){this.#Fe.onTargetInfoChanged(e.targetInfo.url)}#Re(){this.#je.cdpClient.on("Network.loadingFailed",e=>{this.#Fe.networkLoadingFailed(e.requestId,e.errorText)}),this.#je.cdpClient.on("Page.fileChooserOpened",e=>{if(this.id!==e.frameId)return;if(void 0===this.#Ie)return void this.#l?.(a.LogType.debugError,"LoaderId should be defined when file upload is shown",e);const t=void 0===e.backendNodeId?void 0:{sharedId:(0,d.getSharedId)(this.id,this.#Ie,e.backendNodeId)};this.#r.registerEvent({type:"event",method:o.ChromiumBidi.Input.EventNames.FileDialogOpened,params:{context:this.id,multiple:"selectMultiple"===e.mode,element:t}},this.id)}),this.#je.cdpClient.on("Page.frameNavigated",e=>{this.id===e.frame.id&&(this.#Fe.frameNavigated(e.frame.url+(e.frame.urlFragment??""),e.frame.loaderId,e.frame.unreachableUrl),this.#ze(),this.#Ue(e.frame.loaderId))}),this.#je.cdpClient.on("Page.frameStartedNavigating",e=>{this.id===e.frameId&&this.#Fe.frameStartedNavigating(e.url,e.loaderId,e.navigationType)}),this.#je.cdpClient.on("Page.navigatedWithinDocument",e=>{this.id===e.frameId&&(this.#Fe.navigatedWithinDocument(e.url,e.navigationType),"historyApi"!==e.navigationType||this.#r.registerEvent({type:"event",method:"browsingContext.historyUpdated",params:{context:this.id,timestamp:(0,l.getTimestamp)(),url:this.#Fe.url}},this.id))}),this.#je.cdpClient.on("Page.lifecycleEvent",e=>{if(this.id===e.frameId)if("init"!==e.name)if("commit"!==e.name){if(this.#Ie||(this.#Ie=e.loaderId),e.loaderId===this.#Ie)switch(e.name){case"DOMContentLoaded":this.#Fe.isInitialNavigation||this.#r.registerEvent({type:"event",method:o.ChromiumBidi.BrowsingContext.EventNames.DomContentLoaded,params:{context:this.id,navigation:this.#Fe.currentNavigationId,timestamp:(0,l.getTimestamp)(),url:this.#Fe.url}},this.id),this.#Pe.DOMContentLoaded.resolve();break;case"load":this.#Fe.isInitialNavigation||this.#r.registerEvent({type:"event",method:o.ChromiumBidi.BrowsingContext.EventNames.Load,params:{context:this.id,navigation:this.#Fe.currentNavigationId,timestamp:(0,l.getTimestamp)(),url:this.#Fe.url}},this.id),this.#Fe.loadPageEvent(e.loaderId),this.#Pe.load.resolve()}}else this.#Ie=e.loaderId;else this.#Ue(e.loaderId)}),this.#je.cdpClient.on("Runtime.executionContextCreated",e=>{const{auxData:t,name:n,uniqueId:r,id:o}=e.context;if(!t||t.frameId!==this.id)return;let i,s;switch(t.type){case"isolated":s=n,this.#Ne.isFinished||this.#l?.(a.LogType.debugError,"Unexpectedly, isolated realm created before the default one"),i=this.#Ne.isFinished?this.#Ne.result.origin:"";break;case"default":i=m(e.context.origin);break;default:return}const l=new h.WindowRealm(this.id,this.#o,this.#je.cdpClient,this.#r,o,this.#l,i,r,this.#i,s);t.isDefault&&(this.#Ne.resolve(l),Promise.all(this.#je.getChannels().map(e=>e.startListenerFromWindow(l,this.#r))))}),this.#je.cdpClient.on("Runtime.executionContextDestroyed",e=>{this.#Ne.isFinished&&this.#Ne.result.executionContextId===e.executionContextId&&(this.#Ne=new s.Deferred),this.#i.deleteRealms({cdpSessionId:this.#je.cdpSessionId,executionContextId:e.executionContextId})}),this.#je.cdpClient.on("Runtime.executionContextsCleared",()=>{this.#Ne.isFinished||this.#Ne.reject(new o.UnknownErrorException("execution contexts cleared")),this.#Ne=new s.Deferred,this.#i.deleteRealms({cdpSessionId:this.#je.cdpSessionId})}),this.#je.cdpClient.on("Page.javascriptDialogClosed",e=>{if(e.frameId&&this.id!==e.frameId)return;if(!e.frameId&&this.#Be&&this.#je.cdpClient!==this.#o.getContext(this.#Be)?.cdpTarget.cdpClient)return;const t=e.result;void 0===this.#De&&this.#l?.(a.LogType.debugError,"Unexpectedly no opening prompt event before closing one"),this.#r.registerEvent({type:"event",method:o.ChromiumBidi.BrowsingContext.EventNames.UserPromptClosed,params:{context:this.id,accepted:t,type:this.#De??"UNKNOWN",userText:t&&e.userInput?e.userInput:void 0}},this.id),this.#De=void 0}),this.#je.cdpClient.on("Page.javascriptDialogOpening",e=>{if(e.frameId&&this.id!==e.frameId)return;if(!e.frameId&&this.#Be&&this.#je.cdpClient!==this.#o.getContext(this.#Be)?.cdpTarget.cdpClient)return;const t=r.#Qe(e.type);this.#De=t;const n=this.#qe(t);switch(this.#r.registerEvent({type:"event",method:o.ChromiumBidi.BrowsingContext.EventNames.UserPromptOpened,params:{context:this.id,handler:n,type:t,message:e.message,..."prompt"===e.type?{defaultValue:e.defaultPrompt}:{}}},this.id),n){case"accept":this.handleUserPrompt(!0);break;case"dismiss":this.handleUserPrompt(!1)}}),this.#je.browserCdpClient.on("Browser.downloadWillBegin",e=>{this.id===e.frameId&&(this.#Te.set(e.guid,e.url),this.#r.registerEvent({type:"event",method:o.ChromiumBidi.BrowsingContext.EventNames.DownloadWillBegin,params:{context:this.id,suggestedFilename:e.suggestedFilename,navigation:e.guid,timestamp:(0,l.getTimestamp)(),url:e.url}},this.id))}),this.#je.browserCdpClient.on("Browser.downloadProgress",e=>{if(!this.#Te.has(e.guid))return;if("inProgress"===e.state)return;const t=this.#Te.get(e.guid);switch(e.state){case"canceled":this.#r.registerEvent({type:"event",method:o.ChromiumBidi.BrowsingContext.EventNames.DownloadEnd,params:{status:"canceled",context:this.id,navigation:e.guid,timestamp:(0,l.getTimestamp)(),url:t}},this.id);break;case"completed":this.#r.registerEvent({type:"event",method:o.ChromiumBidi.BrowsingContext.EventNames.DownloadEnd,params:{filepath:e.filePath??null,status:"complete",context:this.id,navigation:e.guid,timestamp:(0,l.getTimestamp)(),url:t}},this.id);break;default:throw new o.UnknownErrorException(`Unknown download state: ${e.state}`)}})}static#Qe(e){switch(e){case"alert":return"alert";case"beforeunload":return"beforeunload";case"confirm":return"confirm";case"prompt":return"prompt"}}#qe(e){const t="dismiss",n=this.#F.getActiveConfig(this.top.id,this.userContext);switch(e){case"alert":return n.userPromptHandler?.alert??n.userPromptHandler?.default??t;case"beforeunload":return n.userPromptHandler?.beforeUnload??n.userPromptHandler?.default??"accept";case"confirm":return n.userPromptHandler?.confirm??n.userPromptHandler?.default??t;case"prompt":return n.userPromptHandler?.prompt??n.userPromptHandler?.default??t}}#Ue(e){void 0!==e&&this.#Ie!==e&&(this.#We(),this.#Ie=e,this.#ze(!0))}#We(){this.#Pe.DOMContentLoaded.isFinished?this.#Pe.DOMContentLoaded=new s.Deferred:this.#l?.(r.LOGGER_PREFIX,"Document changed (DOMContentLoaded)"),this.#Pe.load.isFinished?this.#Pe.load=new s.Deferred:this.#l?.(r.LOGGER_PREFIX,"Document changed (load)")}#Le(){this.#Pe.DOMContentLoaded.isFinished||this.#Pe.DOMContentLoaded.reject(new o.UnknownErrorException("navigation canceled")),this.#Pe.load.isFinished||this.#Pe.load.reject(new o.UnknownErrorException("navigation canceled"))}async navigate(e,t){try{new URL(e)}catch{throw new o.InvalidArgumentException(`Invalid URL: ${e}`)}const n=this.#Fe.createPendingNavigation(e),r=(async()=>{const t=await this.#je.cdpClient.sendCommand("Page.navigate",{url:e,frameId:this.id});if(t.errorText)throw this.#Fe.failNavigation(n,t.errorText),new o.UnknownErrorException(t.errorText);this.#Fe.navigationCommandFinished(n,t.loaderId),this.#Ue(t.loaderId)})(),i=await Promise.race([this.#$e(t,r,n),n.finished]);if(i instanceof p.NavigationResult&&("browsingContext.navigationAborted"===i.eventName||"browsingContext.navigationFailed"===i.eventName))throw new o.UnknownErrorException(i.message??"unknown exception");return{navigation:n.navigationId,url:n.url}}async#$e(e,t,n){if(await Promise.all([n.committed,t]),"none"!==e)if(!0!==n.isFragmentNavigation)if("interactive"!==e){if("complete"!==e)throw new o.InvalidArgumentException(`Wait condition ${e} is not supported`);await this.#Pe.load}else await this.#Pe.DOMContentLoaded;else await n.finished}async reload(e,t){await this.targetUnblockedOrThrow(),this.#We();const n=this.#Fe.createPendingNavigation(this.#Fe.url),r=this.#je.cdpClient.sendCommand("Page.reload",{ignoreCache:e}),i=await Promise.race([this.#$e(t,r,n),n.finished]);if(i instanceof p.NavigationResult&&("browsingContext.navigationAborted"===i.eventName||"browsingContext.navigationFailed"===i.eventName))throw new o.UnknownErrorException(i.message??"unknown exception");return{navigation:n.navigationId,url:n.url}}async setViewport(e,t){await this.cdpTarget.setViewport(e,t)}async handleUserPrompt(e,t){await this.top.#je.cdpClient.sendCommand("Page.handleJavaScriptDialog",{accept:e??!0,promptText:t})}async activate(){await this.#je.cdpClient.sendCommand("Page.bringToFront")}async captureScreenshot(e){if(!this.isTopLevelContext())throw new o.UnsupportedOperationException(`Non-top-level 'context' (${e.context}) is currently not supported`);const t=function(e){const{quality:t,type:n}=e.format??{type:"image/png"};switch(n){case"image/png":return{format:"png"};case"image/jpeg":return{format:"jpeg",...void 0===t?{}:{quality:Math.round(100*t)}};case"image/webp":return{format:"webp",...void 0===t?{}:{quality:Math.round(100*t)}}}throw new o.InvalidArgumentException(`Image format '${n}' is not a supported format`)}(e);let n,r=!1;switch(e.origin??="viewport",e.origin){case"document":n=String(()=>{const e=document.documentElement;return{x:0,y:0,width:e.scrollWidth,height:e.scrollHeight}}),r=!0;break;case"viewport":n=String(()=>{const e=window.visualViewport;return{x:e.pageLeft,y:e.pageTop,width:e.width,height:e.height}})}const s=await this.getOrCreateHiddenSandbox(),a=await s.callFunction(n,!1);(0,i.assert)("success"===a.type);const l=g(a.result);(0,i.assert)(l);let c=l;if(e.clip){const t=e.clip;"viewport"===e.origin&&"box"===t.type&&(t.x+=l.x,t.y+=l.y),c=function(e,t){e=b(e),t=b(t);const n=Math.max(e.x,t.x),r=Math.max(e.y,t.y);return{x:n,y:r,width:Math.max(Math.min(e.x+e.width,t.x+t.width)-n,0),height:Math.max(Math.min(e.y+e.height,t.y+t.height)-r,0)}}(await this.#Ge(t),l)}if(0===c.width||0===c.height)throw new o.UnableToCaptureScreenException(`Unable to capture screenshot with zero dimensions: width=${c.width}, height=${c.height}`);return await this.#je.cdpClient.sendCommand("Page.captureScreenshot",{clip:{...c,scale:1},...t,captureBeyondViewport:r})}async print(e){if(!this.isTopLevelContext())throw new o.UnsupportedOperationException("Printing of non-top level contexts is not supported");const t={};if(void 0!==e.background&&(t.printBackground=e.background),void 0!==e.margin?.bottom&&(t.marginBottom=(0,c.inchesFromCm)(e.margin.bottom)),void 0!==e.margin?.left&&(t.marginLeft=(0,c.inchesFromCm)(e.margin.left)),void 0!==e.margin?.right&&(t.marginRight=(0,c.inchesFromCm)(e.margin.right)),void 0!==e.margin?.top&&(t.marginTop=(0,c.inchesFromCm)(e.margin.top)),void 0!==e.orientation&&(t.landscape="landscape"===e.orientation),void 0!==e.page?.height&&(t.paperHeight=(0,c.inchesFromCm)(e.page.height)),void 0!==e.page?.width&&(t.paperWidth=(0,c.inchesFromCm)(e.page.width)),void 0!==e.pageRanges){for(const t of e.pageRanges){if("number"==typeof t)continue;const e=t.split("-");if(e.length<1||e.length>2)throw new o.InvalidArgumentException(`Invalid page range: ${t} is not a valid integer range.`);if(1===e.length){w(e[0]??"");continue}let n,r;const[i="",s=""]=e;if(n=""===i?1:w(i),r=""===s?Number.MAX_SAFE_INTEGER:w(s),n>r)throw new o.InvalidArgumentException(`Invalid page range: ${i} > ${s}`)}t.pageRanges=e.pageRanges.join(",")}void 0!==e.scale&&(t.scale=e.scale),void 0!==e.shrinkToFit&&(t.preferCSSPageSize=!e.shrinkToFit);try{return{data:(await this.#je.cdpClient.sendCommand("Page.printToPDF",t)).data}}catch(e){if("invalid print parameters: content area is empty"===e.message)throw new o.UnsupportedOperationException(e.message);throw e}}async#Ge(e){switch(e.type){case"box":return{x:e.x,y:e.y,width:e.width,height:e.height};case"element":{const t=await this.getOrCreateHiddenSandbox(),n=await t.callFunction(String(e=>e instanceof Element),!1,{type:"undefined"},[e.element]);if("exception"===n.type)throw new o.NoSuchElementException(`Element '${e.element.sharedId}' was not found`);if((0,i.assert)("boolean"===n.result.type),!n.result.value)throw new o.NoSuchElementException(`Node '${e.element.sharedId}' is not an Element`);{const n=await t.callFunction(String(e=>{const t=e.getBoundingClientRect();return{x:t.x,y:t.y,height:t.height,width:t.width}}),!1,{type:"undefined"},[e.element]);(0,i.assert)("success"===n.type);const r=g(n.result);if(!r)throw new o.UnableToCaptureScreenException(`Could not get bounding box for Element '${e.element.sharedId}'`);return r}}}}async close(){await this.#je.cdpClient.sendCommand("Page.close")}async traverseHistory(e){if(0===e)return;const t=await this.#je.cdpClient.sendCommand("Page.getNavigationHistory"),n=t.entries[t.currentIndex+e];if(!n)throw new o.NoSuchHistoryEntryException(`No history entry at delta ${e}`);await this.#je.cdpClient.sendCommand("Page.navigateToHistoryEntry",{entryId:n.id})}async toggleModulesIfNeeded(){await Promise.all([this.#je.toggleNetworkIfNeeded(),this.#je.toggleDeviceAccessIfNeeded()])}async locateNodes(e){return await this.#Ve(await this.#Ne,e.locator,e.startNodes??[],e.maxNodeCount,e.serializationOptions)}async#Ye(e,t,n,r){switch(t.type){case"context":throw new Error("Unreachable");case"css":return{functionDeclaration:String((e,t,...n)=>{const r=(n=n.length>0?n:[document]).map(t=>(t=>{if(!(t instanceof HTMLElement||t instanceof Document||t instanceof DocumentFragment||t instanceof SVGElement))throw new Error("startNodes in css selector should be HTMLElement, SVGElement or Document or DocumentFragment");return[...t.querySelectorAll(e)]})(t)).flat(1);return 0===t?r:r.slice(0,t)}),argumentsLocalValues:[{type:"string",value:t.value},{type:"number",value:n??0},...r]};case"xpath":return{functionDeclaration:String((e,t,...n)=>{const r=(new XPathEvaluator).createExpression(e),o=(n=n.length>0?n:[document]).map(e=>(e=>{const t=r.evaluate(e,XPathResult.ORDERED_NODE_SNAPSHOT_TYPE),n=[];for(let e=0;e<t.snapshotLength;e++)n.push(t.snapshotItem(e));return n})(e)).flat(1);return 0===t?o:o.slice(0,t)}),argumentsLocalValues:[{type:"string",value:t.value},{type:"number",value:n??0},...r]};case"innerText":if(""===t.value)throw new o.InvalidSelectorException("innerText locator cannot be empty");return{functionDeclaration:String((e,t,n,r,o,...i)=>{const s=n?e.toUpperCase():e,a=(e,r)=>{const o=[];if(e instanceof DocumentFragment||e instanceof Document)return[...e.children].forEach(e=>o.push(...a(e,r))),o;if(!(e instanceof HTMLElement))return[];const i=e,l=n?i.innerText?.toUpperCase():i.innerText;if(!l.includes(s))return[];const c=[];for(const e of i.children)e instanceof HTMLElement&&c.push(e);if(0===c.length)t&&l===s?o.push(i):t||o.push(i);else{const e=r<=0?[]:c.map(e=>a(e,r-1)).flat(1);0===e.length?t&&l!==s||o.push(i):o.push(...e)}return o},l=(i=i.length>0?i:[document]).map(e=>a(e,o)).flat(1);return 0===r?l:l.slice(0,r)}),argumentsLocalValues:[{type:"string",value:t.value},{type:"boolean",value:"partial"!==t.matchType},{type:"boolean",value:!0===t.ignoreCase},{type:"number",value:n??0},{type:"number",value:t.maxDepth??1e3},...r]};case"accessibility":{if(!t.value.name&&!t.value.role)throw new o.InvalidSelectorException("Either name or role has to be specified");await Promise.all([this.#je.cdpClient.sendCommand("Accessibility.enable"),this.#je.cdpClient.sendCommand("Accessibility.getRootAXNode")]);const i=await e.evaluate("({getAccessibleName, getAccessibleRole})",!1,"root",void 0,!1,!0);if("success"!==i.type)throw new Error("Could not get bindings");if("object"!==i.result.type)throw new Error("Could not get bindings");return{functionDeclaration:String((e,t,n,r,...o)=>{const i=[];let s=!1;return function e(t,o){if(!s)for(const a of t){let t=!0;if(o.role){const e=n.getAccessibleRole(a);o.role!==e&&(t=!1)}if(o.name){const e=n.getAccessibleName(a);o.name!==e&&(t=!1)}if(t){if(0!==r&&i.length===r){s=!0;break}i.push(a)}const l=[];for(const e of a.children)e instanceof HTMLElement&&l.push(e);e(l,o)}}(o=o.length>0?o:Array.from(document.documentElement.children).filter(e=>e instanceof HTMLElement),{role:t,name:e}),i}),argumentsLocalValues:[{type:"string",value:t.value.name||""},{type:"string",value:t.value.role||""},{handle:i.result.handle},{type:"number",value:n??0},...r]}}}}async#Ve(e,t,n,i,s){if("context"===t.type){if(0!==n.length)throw new o.InvalidArgumentException("Start nodes are not supported");const r=t.value.context;if(!r)throw new o.InvalidSelectorException("Invalid context");const i=this.#o.getContext(r).parent;if(!i)throw new o.InvalidArgumentException("This context has no container");try{const{backendNodeId:t}=await i.#je.cdpClient.sendCommand("DOM.getFrameOwner",{frameId:r}),{object:n}=await i.#je.cdpClient.sendCommand("DOM.resolveNode",{backendNodeId:t}),o=await e.callFunction("function () { return this; }",!1,{handle:n.objectId},[],"none",s);if("exception"===o.type)throw new Error("Unknown exception");return{nodes:[o.result]}}catch{throw new o.InvalidArgumentException("Context does not exist")}}const a=await this.#Ye(e,t,i,n);s={...s,maxObjectDepth:1};const l=await e.callFunction(a.functionDeclaration,!1,{type:"undefined"},a.argumentsLocalValues,"none",s);if("success"!==l.type){if(this.#l?.(r.LOGGER_PREFIX,"Failed locateNodesByLocator",l),l.exceptionDetails.text?.endsWith("is not a valid selector.")||l.exceptionDetails.text?.endsWith("is not a valid XPath expression."))throw new o.InvalidSelectorException(`Not valid selector ${"string"==typeof t.value?t.value:JSON.stringify(t.value)}`);if("Error: startNodes in css selector should be HTMLElement, SVGElement or Document or DocumentFragment"===l.exceptionDetails.text)throw new o.InvalidArgumentException("startNodes in css selector should be HTMLElement, SVGElement or Document or DocumentFragment");throw new o.UnknownErrorException(`Unexpected error in selector script: ${l.exceptionDetails.text}`)}if("array"!==l.result.type)throw new o.UnknownErrorException(`Unexpected selector script result type: ${l.result.type}`);return{nodes:l.result.value.map(e=>{if("node"!==e.type)throw new o.UnknownErrorException(`Unexpected selector script result element: ${e.type}`);return e})}}#Je(){const e=new Set;return e.add(this.cdpTarget),this.allChildren.forEach(t=>e.add(t.cdpTarget)),Array.from(e)}async setTimezoneOverride(e){await Promise.all(this.#Je().map(async t=>await t.setTimezoneOverride(e)))}async setLocaleOverride(e){await Promise.all(this.#Je().map(async t=>await t.setLocaleOverride(e)))}async setGeolocationOverride(e){await Promise.all(this.#Je().map(async t=>await t.setGeolocationOverride(e)))}async setScreenOrientationOverride(e){await this.#je.setScreenOrientationOverride(e)}async setScriptingEnabled(e){await Promise.all(this.#Je().map(async t=>await t.setScriptingEnabled(e)))}async setUserAgentOverrideParams(e){await Promise.all(this.#Je().map(async t=>await t.setUserAgent(e)))}}function m(e){return["://",""].includes(e)&&(e="null"),e}function g(e){if("object"!==e.type||void 0===e.value)return;const t=e.value.find(([e])=>"x"===e)?.[1],n=e.value.find(([e])=>"y"===e)?.[1],r=e.value.find(([e])=>"height"===e)?.[1],o=e.value.find(([e])=>"width"===e)?.[1];return"number"===t?.type&&"number"===n?.type&&"number"===r?.type&&"number"===o?.type?{x:t.value,y:n.value,width:o.value,height:r.value}:void 0}function b(e){return{...e.width<0?{x:e.x+e.width,width:-e.width}:{x:e.x,width:e.width},...e.height<0?{y:e.y+e.height,height:-e.height}:{y:e.y,height:e.height}}}function w(e){if(e=e.trim(),!/^[0-9]+$/.test(e))throw new o.InvalidArgumentException(`Invalid integer: ${e}`);return parseInt(e)}t.BrowsingContextImpl=f,r=f},"./node_modules/chromium-bidi/lib/cjs/bidiMapper/modules/context/BrowsingContextProcessor.js":(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BrowsingContextProcessor=void 0;const r=n("./node_modules/chromium-bidi/lib/cjs/protocol/protocol.js");t.BrowsingContextProcessor=class{#h;#o;#Ke;#r;#D;constructor(e,t,n,o,i){this.#Ke=o,this.#D=n,this.#h=e,this.#o=t,this.#r=i,this.#r.addSubscribeHook(r.ChromiumBidi.BrowsingContext.EventNames.ContextCreated,this.#Xe.bind(this))}getTree(e){return{contexts:(void 0===e.root?this.#o.getTopLevelContexts():[this.#o.getContext(e.root)]).map(t=>t.serializeToBidiValue(e.maxDepth??Number.MAX_VALUE))}}async create(e){let t,n="default";if(void 0!==e.referenceContext){if(t=this.#o.getContext(e.referenceContext),!t.isTopLevelContext())throw new r.InvalidArgumentException("referenceContext should be a top-level context");n=t.userContext}void 0!==e.userContext&&(n=e.userContext);const o=this.#o.getAllContexts().filter(e=>e.userContext===n);let i,s=!1;switch(e.type){case"tab":s=!1;break;case"window":s=!0}o.length||(s=!0);try{i=await this.#h.sendCommand("Target.createTarget",{url:"about:blank",newWindow:s,browserContextId:"default"===n?void 0:n,background:!0===e.background})}catch(e){if(e.message.startsWith("Failed to find browser context with id")||"browserContextId"===e.message)throw new r.NoSuchUserContextException(`The context ${n} was not found`);throw e}const a=await this.#o.waitForContext(i.targetId);return await a.lifecycleLoaded(),{context:a.id}}navigate(e){return this.#o.getContext(e.context).navigate(e.url,e.wait??"none")}reload(e){return this.#o.getContext(e.context).reload(e.ignoreCache??!1,e.wait??"none")}async activate(e){const t=this.#o.getContext(e.context);if(!t.isTopLevelContext())throw new r.InvalidArgumentException("Activation is only supported on the top-level context");return await t.activate(),{}}async captureScreenshot(e){const t=this.#o.getContext(e.context);return await t.captureScreenshot(e)}async print(e){const t=this.#o.getContext(e.context);return await t.print(e)}async setViewport(e){const t={};void 0!==e.devicePixelRatio&&(t.devicePixelRatio=e.devicePixelRatio),void 0!==e.viewport&&(t.viewport=e.viewport);const n=await this.#Ze(e.context,e.userContexts);for(const n of e.userContexts??[])this.#Ke.updateUserContextConfig(n,t);return void 0!==e.context&&this.#Ke.updateBrowsingContextConfig(e.context,t),await Promise.all(n.map(t=>t.setViewport(e.viewport,e.devicePixelRatio))),{}}async#Ze(e,t){if(void 0===e&&void 0===t)throw new r.InvalidArgumentException("Either userContexts or context must be provided");if(void 0!==e&&void 0!==t)throw new r.InvalidArgumentException("userContexts and context are mutually exclusive");if(void 0!==e){const t=this.#o.getContext(e);if(!t.isTopLevelContext())throw new r.InvalidArgumentException("Emulating viewport is only supported on the top-level context");return[t]}await this.#D.verifyUserContextIdList(t);const n=[];for(const e of t){const t=this.#o.getTopLevelContexts().filter(t=>t.userContext===e);n.push(...t)}return[...new Set(n).values()]}async traverseHistory(e){const t=this.#o.getContext(e.context);if(!t)throw new r.InvalidArgumentException(`No browsing context with id ${e.context}`);if(!t.isTopLevelContext())throw new r.InvalidArgumentException("Traversing history is only supported on the top-level context");return await t.traverseHistory(e.delta),{}}async handleUserPrompt(e){const t=this.#o.getContext(e.context);try{await t.handleUserPrompt(e.accept,e.userText)}catch(e){if(e.message?.includes("No dialog is showing"))throw new r.NoSuchAlertException("No dialog is showing");throw e}return{}}async close(e){const t=this.#o.getContext(e.context);if(!t.isTopLevelContext())throw new r.InvalidArgumentException(`Non top-level browsing context ${t.id} cannot be closed.`);const n=t.cdpTarget.parentCdpClient;try{const r=new Promise(t=>{const r=o=>{o.targetId===e.context&&(n.off("Target.detachedFromTarget",r),t())};n.on("Target.detachedFromTarget",r)});try{e.promptUnload?await t.close():await n.sendCommand("Target.closeTarget",{targetId:e.context})}catch(e){if(!n.isCloseError(e))throw e}await r}catch(e){if(-32e3!==e.code||"Not attached to an active page"!==e.message)throw e}return{}}async locateNodes(e){const t=this.#o.getContext(e.context);return await t.locateNodes(e)}#Xe(e){return[this.#o.getContext(e),...this.#o.getContext(e).allChildren].forEach(e=>{this.#r.registerEvent({type:"event",method:r.ChromiumBidi.BrowsingContext.EventNames.ContextCreated,params:e.serializeToBidiValue()},e.id)}),Promise.resolve()}}},"./node_modules/chromium-bidi/lib/cjs/bidiMapper/modules/context/BrowsingContextStorage.js":(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BrowsingContextStorage=void 0;const r=n("./node_modules/chromium-bidi/lib/cjs/protocol/protocol.js"),o=n("./node_modules/chromium-bidi/lib/cjs/utils/EventEmitter.js");t.BrowsingContextStorage=class{#et=new Map;#tt=new o.EventEmitter;getTopLevelContexts(){return this.getAllContexts().filter(e=>e.isTopLevelContext())}getAllContexts(){return Array.from(this.#et.values())}deleteContextById(e){this.#et.delete(e)}deleteContext(e){this.#et.delete(e.id)}addContext(e){this.#et.set(e.id,e),this.#tt.emit("added",{browsingContext:e})}waitForContext(e){return this.#et.has(e)?Promise.resolve(this.getContext(e)):new Promise(t=>{const n=r=>{r.browsingContext.id===e&&(this.#tt.off("added",n),t(r.browsingContext))};this.#tt.on("added",n)})}hasContext(e){return this.#et.has(e)}findContext(e){return this.#et.get(e)}findTopLevelContextId(e){if(null===e)return null;const t=this.findContext(e);if(!t)return null;const n=t.parentId??null;return null===n?e:this.findTopLevelContextId(n)}findContextBySession(e){for(const t of this.#et.values())if(t.cdpTarget.cdpSessionId===e)return t}getContext(e){const t=this.findContext(e);if(void 0===t)throw new r.NoSuchFrameException(`Context ${e} not found`);return t}verifyTopLevelContextsList(e){const t=new Set;if(!e)return t;for(const n of e){const e=this.getContext(n);if(!e.isTopLevelContext())throw new r.InvalidArgumentException(`Non top-level context '${n}' given.`);t.add(e)}return t}verifyContextsList(e){if(e.length)for(const t of e)this.getContext(t)}}},"./node_modules/chromium-bidi/lib/cjs/bidiMapper/modules/context/NavigationTracker.js":(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NavigationTracker=t.NavigationState=t.NavigationResult=void 0;const r=n("./node_modules/chromium-bidi/lib/cjs/protocol/protocol.js"),o=n("./node_modules/chromium-bidi/lib/cjs/utils/Deferred.js"),i=n("./node_modules/chromium-bidi/lib/cjs/utils/log.js"),s=n("./node_modules/chromium-bidi/lib/cjs/utils/time.js"),a=n("./node_modules/chromium-bidi/lib/cjs/utils/urlHelpers.js"),l=n("./node_modules/chromium-bidi/lib/cjs/utils/uuid.js");class c{eventName;message;constructor(e,t){this.eventName=e,this.message=t}}t.NavigationResult=c;class u{navigationId=(0,l.uuidv4)();#nt;#rt=!1;#ot=new o.Deferred;url;loaderId;#it;#r;committed=new o.Deferred;isFragmentNavigation;get finished(){return this.#ot}constructor(e,t,n,r){this.#nt=t,this.url=e,this.#it=n,this.#r=r}navigationInfo(){return{context:this.#nt,navigation:this.navigationId,timestamp:(0,s.getTimestamp)(),url:this.url}}start(){this.#it||this.#rt||this.isFragmentNavigation||this.#r.registerEvent({type:"event",method:r.ChromiumBidi.BrowsingContext.EventNames.NavigationStarted,params:this.navigationInfo()},this.#nt),this.#rt=!0}#st(e){this.#rt=!0,this.#it||this.#ot.isFinished||"browsingContext.load"===e.eventName||this.#r.registerEvent({type:"event",method:e.eventName,params:this.navigationInfo()},this.#nt),this.#ot.resolve(e)}frameNavigated(){this.committed.resolve(),this.#it||this.#r.registerEvent({type:"event",method:r.ChromiumBidi.BrowsingContext.EventNames.NavigationCommitted,params:this.navigationInfo()},this.#nt)}fragmentNavigated(){this.committed.resolve(),this.#st(new c("browsingContext.fragmentNavigated"))}load(){this.#st(new c("browsingContext.load"))}fail(e){this.#st(new c(this.committed.isFinished?"browsingContext.navigationAborted":"browsingContext.navigationFailed",e))}}t.NavigationState=u;class d{#r;#l;#at=new Map;#nt;#lt;#ct;#ut=!0;constructor(e,t,n,r){this.#nt=t,this.#r=n,this.#l=r,this.#ut=!0,this.#lt=new u(e,t,(0,a.urlMatchesAboutBlank)(e),this.#r)}get currentNavigationId(){return!1===this.#ct?.isFragmentNavigation?this.#ct.navigationId:this.#lt.navigationId}get isInitialNavigation(){return this.#ut}get url(){return this.#lt.url}createPendingNavigation(e,t=!1){this.#l?.(i.LogType.debug,"createCommandNavigation"),this.#ut=t&&this.#ut&&(0,a.urlMatchesAboutBlank)(e),this.#ct?.fail("navigation canceled by concurrent navigation");const n=new u(e,this.#nt,this.#ut,this.#r);return this.#ct=n,n}dispose(){this.#ct?.fail("navigation canceled by context disposal"),this.#lt.fail("navigation canceled by context disposal")}onTargetInfoChanged(e){this.#l?.(i.LogType.debug,`onTargetInfoChanged ${e}`),this.#lt.url=e}#dt(e,t){return this.#at.has(t)?this.#at.get(t):void 0!==this.#ct&&void 0===this.#ct.loaderId?this.#ct:this.createPendingNavigation(e,!0)}frameNavigated(e,t,n){if(this.#l?.(i.LogType.debug,`frameNavigated ${e}`),void 0!==n){const e=this.#at.get(t)??this.#ct??this.createPendingNavigation(n,!0);return e.url=n,e.start(),void e.fail("the requested url is unreachable")}const r=this.#dt(e,t);r!==this.#lt&&this.#lt.fail("navigation canceled by concurrent navigation"),r.url=e,r.loaderId=t,this.#at.set(t,r),r.start(),r.frameNavigated(),this.#lt=r,this.#ct===r&&(this.#ct=void 0)}navigatedWithinDocument(e,t){if(this.#l?.(i.LogType.debug,`navigatedWithinDocument ${e}, ${t}`),this.#lt.url=e,"fragment"!==t)return;const n=!0===this.#ct?.isFragmentNavigation?this.#ct:new u(e,this.#nt,!1,this.#r);n.fragmentNavigated(),n===this.#ct&&(this.#ct=void 0)}loadPageEvent(e){this.#l?.(i.LogType.debug,"loadPageEvent"),this.#ut=!1,this.#at.get(e)?.load()}failNavigation(e,t){this.#l?.(i.LogType.debug,"failCommandNavigation"),e.fail(t)}navigationCommandFinished(e,t){this.#l?.(i.LogType.debug,`finishCommandNavigation ${e.navigationId}, ${t}`),void 0!==t&&(e.loaderId=t,this.#at.set(t,e)),e.isFragmentNavigation=void 0===t}frameStartedNavigating(e,t,n){if(this.#l?.(i.LogType.debug,`frameStartedNavigating ${e}, ${t}`),this.#ct&&void 0!==this.#ct?.loaderId&&this.#ct?.loaderId!==t&&(this.#ct?.fail("navigation canceled by concurrent navigation"),this.#ct=void 0),this.#at.has(t)){const e=this.#at.get(t);return e.isFragmentNavigation=d.#ht(n),void(this.#ct=e)}const r=this.#ct??this.createPendingNavigation(e,!0);this.#at.set(t,r),r.isFragmentNavigation=d.#ht(n),r.url=e,r.loaderId=t,r.start()}static#ht(e){return["historySameDocument","sameDocument"].includes(e)}networkLoadingFailed(e,t){this.#at.get(e)?.fail(t)}}t.NavigationTracker=d},"./node_modules/chromium-bidi/lib/cjs/bidiMapper/modules/emulation/EmulationProcessor.js":(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EmulationProcessor=void 0,t.isValidLocale=o,t.isValidTimezone=i,t.isTimeZoneOffsetString=s;const r=n("./node_modules/chromium-bidi/lib/cjs/protocol/ErrorResponse.js");function o(e){try{return new Intl.Locale(e),!0}catch(e){if(e instanceof RangeError)return!1;throw e}}function i(e){try{return Intl.DateTimeFormat(void 0,{timeZone:e}),!0}catch(e){if(e instanceof RangeError)return!1;throw e}}function s(e){return/^[+-](?:2[0-3]|[01]\d)(?::[0-5]\d)?$/.test(e)}t.EmulationProcessor=class{#D;#o;#Ke;constructor(e,t,n){this.#D=t,this.#o=e,this.#Ke=n}async setGeolocationOverride(e){if("coordinates"in e&&"error"in e)throw new r.InvalidArgumentException("Coordinates and error cannot be set at the same time");let t=null;if("coordinates"in e){if(null===(e.coordinates?.altitude??null)&&null!==(e.coordinates?.altitudeAccuracy??null))throw new r.InvalidArgumentException("Geolocation altitudeAccuracy can be set only with altitude");t=e.coordinates}else{if(!("error"in e))throw new r.InvalidArgumentException("Coordinates or error should be set");if("positionUnavailable"!==e.error.type)throw new r.InvalidArgumentException(`Unknown geolocation error ${e.error.type}`);t=e.error}const n=await this.#Ze(e.contexts,e.userContexts);for(const n of e.contexts??[])this.#Ke.updateBrowsingContextConfig(n,{geolocation:t});for(const n of e.userContexts??[])this.#Ke.updateUserContextConfig(n,{geolocation:t});return await Promise.all(n.map(async e=>await e.setGeolocationOverride(t))),{}}async setLocaleOverride(e){const t=e.locale??null;if(null!==t&&!o(t))throw new r.InvalidArgumentException(`Invalid locale "${t}"`);const n=await this.#Ze(e.contexts,e.userContexts);for(const n of e.contexts??[])this.#Ke.updateBrowsingContextConfig(n,{locale:t});for(const n of e.userContexts??[])this.#Ke.updateUserContextConfig(n,{locale:t});return await Promise.all(n.map(async e=>await e.setLocaleOverride(t))),{}}async setScriptingEnabled(e){const t=e.enabled,n=await this.#Ze(e.contexts,e.userContexts);for(const n of e.contexts??[])this.#Ke.updateBrowsingContextConfig(n,{scriptingEnabled:t});for(const n of e.userContexts??[])this.#Ke.updateUserContextConfig(n,{scriptingEnabled:t});return await Promise.all(n.map(async e=>await e.setScriptingEnabled(t))),{}}async setScreenOrientationOverride(e){const t=await this.#Ze(e.contexts,e.userContexts);for(const t of e.contexts??[])this.#Ke.updateBrowsingContextConfig(t,{screenOrientation:e.screenOrientation});for(const t of e.userContexts??[])this.#Ke.updateUserContextConfig(t,{screenOrientation:e.screenOrientation});return await Promise.all(t.map(async t=>await t.setScreenOrientationOverride(e.screenOrientation))),{}}async#Ze(e,t,n=!1){if(void 0===e&&void 0===t){if(n)return this.#o.getTopLevelContexts();throw new r.InvalidArgumentException("Either user contexts or browsing contexts must be provided")}if(void 0!==e&&void 0!==t)throw new r.InvalidArgumentException("User contexts and browsing contexts are mutually exclusive");const o=[];if(void 0===e){if(0===t.length)throw new r.InvalidArgumentException("user context should be provided");await this.#D.verifyUserContextIdList(t);for(const e of t){const t=this.#o.getTopLevelContexts().filter(t=>t.userContext===e);o.push(...t)}}else{if(0===e.length)throw new r.InvalidArgumentException("browsing context should be provided");for(const t of e){const e=this.#o.getContext(t);if(!e.isTopLevelContext())throw new r.InvalidArgumentException("The command is only supported on the top-level context");o.push(e)}}return[...new Set(o).values()]}async setTimezoneOverride(e){let t=e.timezone??null;if(null!==t&&!i(t))throw new r.InvalidArgumentException(`Invalid timezone "${t}"`);null!==t&&s(t)&&(t=`GMT${t}`);const n=await this.#Ze(e.contexts,e.userContexts);for(const n of e.contexts??[])this.#Ke.updateBrowsingContextConfig(n,{timezone:t});for(const n of e.userContexts??[])this.#Ke.updateUserContextConfig(n,{timezone:t});return await Promise.all(n.map(async e=>await e.setTimezoneOverride(t))),{}}async setUserAgentOverrideParams(e){if(""===e.userAgent)throw new r.UnsupportedOperationException("empty user agent string is not supported");const t=await this.#Ze(e.contexts,e.userContexts,!0);for(const t of e.contexts??[])this.#Ke.updateBrowsingContextConfig(t,{userAgent:e.userAgent});for(const t of e.userContexts??[])this.#Ke.updateUserContextConfig(t,{userAgent:e.userAgent});return void 0===e.contexts&&void 0===e.userContexts&&this.#Ke.updateGlobalConfig({userAgent:e.userAgent}),await Promise.all(t.map(async t=>await t.setUserAgentOverrideParams(e.userAgent))),{}}}},"./node_modules/chromium-bidi/lib/cjs/bidiMapper/modules/input/ActionDispatcher.js":(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActionDispatcher=void 0;const r=n("./node_modules/chromium-bidi/lib/cjs/protocol/protocol.js"),o=n("./node_modules/chromium-bidi/lib/cjs/utils/assert.js"),i=n("./node_modules/chromium-bidi/lib/cjs/utils/graphemeTools.js"),s=n("./node_modules/chromium-bidi/lib/cjs/bidiMapper/modules/input/InputSource.js"),a=n("./node_modules/chromium-bidi/lib/cjs/bidiMapper/modules/input/keyUtils.js"),l=n("./node_modules/chromium-bidi/lib/cjs/bidiMapper/modules/input/USKeyboardLayout.js"),c=(e=>{const t=e.getClientRects()[0],n=Math.max(0,Math.min(t.x,t.x+t.width)),r=Math.min(window.innerWidth,Math.max(t.x,t.x+t.width)),o=Math.max(0,Math.min(t.y,t.y+t.height));return[n+(r-n>>1),o+(Math.min(window.innerHeight,Math.max(t.y,t.y+t.height))-o>>1)]}).toString(),u=(()=>navigator.platform.toLowerCase().includes("mac")).toString();t.ActionDispatcher=class{static isMacOS=async e=>{const t=await e.getOrCreateHiddenSandbox(),n=await t.callFunction(u,!1);return(0,o.assert)("exception"!==n.type),(0,o.assert)("boolean"===n.result.type),n.result.value};#o;#pt=0;#ft=0;#mt;#gt;#bt;constructor(e,t,n,r){this.#o=t,this.#mt=e,this.#gt=n,this.#bt=r}get#wt(){return this.#o.getContext(this.#gt)}async dispatchActions(e){await this.#mt.queue.run(async()=>{for(const t of e)await this.dispatchTickActions(t)})}async dispatchTickActions(e){this.#pt=performance.now(),this.#ft=0;for(const{action:t}of e)"duration"in t&&void 0!==t.duration&&(this.#ft=Math.max(this.#ft,t.duration));const t=[new Promise(e=>setTimeout(e,this.#ft))];for(const n of e)t.push(this.#yt(n));await Promise.all(t)}async#yt({id:e,action:t}){const n=this.#mt.get(e),r=this.#mt.getGlobalKeyState();switch(t.type){case"keyDown":await this.#vt(n,t),this.#mt.cancelList.push({id:e,action:{...t,type:"keyUp"}});break;case"keyUp":await this.#At(n,t);break;case"pause":break;case"pointerDown":await this.#_t(n,r,t),this.#mt.cancelList.push({id:e,action:{...t,type:"pointerUp"}});break;case"pointerMove":await this.#xt(n,r,t);break;case"pointerUp":await this.#St(n,r,t);break;case"scroll":await this.#Et(n,r,t)}}async#_t(e,t,n){const{button:r}=n;if(e.pressed.has(r))return;e.pressed.add(r);const{x:o,y:i,subtype:a}=e,{width:l,height:c,pressure:u,twist:d,tangentialPressure:h}=n,{tiltX:g,tiltY:b}=f(n),{modifiers:w}=t,{radiusX:y,radiusY:v}=m(l??1,c??1);switch(a){case"mouse":case"pen":await this.#wt.cdpTarget.cdpClient.sendCommand("Input.dispatchMouseEvent",{type:"mousePressed",x:o,y:i,modifiers:w,button:p(r),buttons:e.buttons,clickCount:e.setClickCount(r,new s.PointerSource.ClickContext(o,i,performance.now())),pointerType:a,tangentialPressure:h,tiltX:g,tiltY:b,twist:d,force:u});break;case"touch":await this.#wt.cdpTarget.cdpClient.sendCommand("Input.dispatchTouchEvent",{type:"touchStart",touchPoints:[{x:o,y:i,radiusX:y,radiusY:v,tangentialPressure:h,tiltX:g,tiltY:b,twist:d,force:u,id:e.pointerId}],modifiers:w})}e.radiusX=y,e.radiusY=v,e.force=u}#St(e,t,n){const{button:r}=n;if(!e.pressed.has(r))return;e.pressed.delete(r);const{x:o,y:i,force:s,radiusX:a,radiusY:l,subtype:c}=e,{modifiers:u}=t;switch(c){case"mouse":case"pen":return this.#wt.cdpTarget.cdpClient.sendCommand("Input.dispatchMouseEvent",{type:"mouseReleased",x:o,y:i,modifiers:u,button:p(r),buttons:e.buttons,clickCount:e.getClickCount(r),pointerType:c});case"touch":return this.#wt.cdpTarget.cdpClient.sendCommand("Input.dispatchTouchEvent",{type:"touchEnd",touchPoints:[{x:o,y:i,id:e.pointerId,force:s,radiusX:a,radiusY:l}],modifiers:u})}}async#xt(e,t,n){const{x:o,y:i,subtype:s}=e,{width:a,height:l,pressure:c,twist:u,tangentialPressure:d,x:h,y:g,origin:b="viewport",duration:w=this.#ft}=n,{tiltX:y,tiltY:v}=f(n),{radiusX:A,radiusY:_}=m(a??1,l??1),{targetX:x,targetY:S}=await this.#Ct(b,h,g,o,i);if(x<0||S<0)throw new r.MoveTargetOutOfBoundsException(`Cannot move beyond viewport (x: ${x}, y: ${S})`);let E;do{const n=w>0?(performance.now()-this.#pt)/w:1;let r,a;if(E=n>=1,E?(r=x,a=S):(r=Math.round(n*(x-o)+o),a=Math.round(n*(S-i)+i)),e.x!==r||e.y!==a){const{modifiers:n}=t;switch(s){case"mouse":await this.#wt.cdpTarget.cdpClient.sendCommand("Input.dispatchMouseEvent",{type:"mouseMoved",x:r,y:a,modifiers:n,clickCount:0,button:p(e.pressed.values().next().value??5),buttons:e.buttons,pointerType:s,tangentialPressure:d,tiltX:y,tiltY:v,twist:u,force:c});break;case"pen":0!==e.pressed.size&&await this.#wt.cdpTarget.cdpClient.sendCommand("Input.dispatchMouseEvent",{type:"mouseMoved",x:r,y:a,modifiers:n,clickCount:0,button:p(e.pressed.values().next().value??5),buttons:e.buttons,pointerType:s,tangentialPressure:d,tiltX:y,tiltY:v,twist:u,force:c??.5});break;case"touch":0!==e.pressed.size&&await this.#wt.cdpTarget.cdpClient.sendCommand("Input.dispatchTouchEvent",{type:"touchMove",touchPoints:[{x:r,y:a,radiusX:A,radiusY:_,tangentialPressure:d,tiltX:y,tiltY:v,twist:u,force:c,id:e.pointerId}],modifiers:n})}e.x=r,e.y=a,e.radiusX=A,e.radiusY=_,e.force=c}}while(!E)}async#kt(){if(this.#wt.id===this.#wt.cdpTarget.id)return{x:0,y:0};const{backendNodeId:e}=await this.#wt.cdpTarget.cdpClient.sendCommand("DOM.getFrameOwner",{frameId:this.#wt.id}),{model:t}=await this.#wt.cdpTarget.cdpClient.sendCommand("DOM.getBoxModel",{backendNodeId:e});return{x:t.content[0],y:t.content[1]}}async#Ct(e,t,n,i,s){let a,l;const u=await this.#kt();switch(e){case"viewport":a=t+u.x,l=n+u.y;break;case"pointer":a=i+t+u.x,l=s+n+u.y;break;default:{const{x:i,y:s}=await async function(e,t){const n=await e.getOrCreateHiddenSandbox(),i=await n.callFunction(c,!1,{type:"undefined"},[t]);if("exception"===i.type)throw new r.NoSuchElementException(`Origin element ${t.sharedId} was not found`);(0,o.assert)("array"===i.result.type),(0,o.assert)("number"===i.result.value?.[0]?.type),(0,o.assert)("number"===i.result.value?.[1]?.type);const{result:{value:[{value:s},{value:a}]}}=i;return{x:s,y:a}}(this.#wt,e.element);a=i+t+u.x,l=s+n+u.y;break}}return{targetX:a,targetY:l}}async#Et(e,t,n){const{deltaX:o,deltaY:i,x:s,y:a,origin:l="viewport",duration:c=this.#ft}=n;if("pointer"===l)throw new r.InvalidArgumentException('"pointer" origin is invalid for scrolling.');const{targetX:u,targetY:d}=await this.#Ct(l,s,a,0,0);if(u<0||d<0)throw new r.MoveTargetOutOfBoundsException(`Cannot move beyond viewport (x: ${u}, y: ${d})`);let h,p=0,f=0;do{const e=c>0?(performance.now()-this.#pt)/c:1;let n,r;if(h=e>=1,h?(n=o-p,r=i-f):(n=Math.round(e*o-p),r=Math.round(e*i-f)),0!==n||0!==r){const{modifiers:e}=t;await this.#wt.cdpTarget.cdpClient.sendCommand("Input.dispatchMouseEvent",{type:"mouseWheel",deltaX:n,deltaY:r,x:u,y:d,modifiers:e}),p+=n,f+=r}}while(!h)}async#vt(e,t){const n=t.value;if(!(0,i.isSingleGrapheme)(n))throw new r.InvalidArgumentException(`Invalid key value: ${n}`);const o=(0,i.isSingleComplexGrapheme)(n),s=(0,a.getNormalizedKey)(n),c=e.pressed.has(s),u=(0,a.getKeyCode)(n),p=(0,a.getKeyLocation)(n);switch(s){case"Alt":e.alt=!0;break;case"Shift":e.shift=!0;break;case"Control":e.ctrl=!0;break;case"Meta":e.meta=!0}e.pressed.add(s);const{modifiers:f}=e,m=d(s,e,o),g=h(u??"",e)??m;let b;if(this.#bt&&e.meta)switch(u){case"KeyA":b="SelectAll";break;case"KeyC":b="Copy";break;case"KeyV":b=e.shift?"PasteAndMatchStyle":"Paste";break;case"KeyX":b="Cut";break;case"KeyZ":b=e.shift?"Redo":"Undo"}const w=[this.#wt.cdpTarget.cdpClient.sendCommand("Input.dispatchKeyEvent",{type:g?"keyDown":"rawKeyDown",windowsVirtualKeyCode:l.KeyToKeyCode[s],key:s,code:u,text:g,unmodifiedText:m,autoRepeat:c,isSystemKey:e.alt||void 0,location:p<3?p:void 0,isKeypad:3===p,modifiers:f,commands:b?[b]:void 0})];"Escape"===s&&(e.alt||(!this.#bt||e.ctrl||e.meta)&&this.#bt||w.push(this.#wt.cdpTarget.cdpClient.sendCommand("Input.cancelDragging"))),await Promise.all(w)}#At(e,t){const n=t.value;if(!(0,i.isSingleGrapheme)(n))throw new r.InvalidArgumentException(`Invalid key value: ${n}`);const o=(0,i.isSingleComplexGrapheme)(n),s=(0,a.getNormalizedKey)(n);if(!e.pressed.has(s))return;const c=(0,a.getKeyCode)(n),u=(0,a.getKeyLocation)(n);switch(s){case"Alt":e.alt=!1;break;case"Shift":e.shift=!1;break;case"Control":e.ctrl=!1;break;case"Meta":e.meta=!1}e.pressed.delete(s);const{modifiers:p}=e,f=d(s,e,o),m=h(c??"",e)??f;return this.#wt.cdpTarget.cdpClient.sendCommand("Input.dispatchKeyEvent",{type:"keyUp",windowsVirtualKeyCode:l.KeyToKeyCode[s],key:s,code:c,text:m,unmodifiedText:f,location:u<3?u:void 0,isSystemKey:e.alt||void 0,isKeypad:3===u,modifiers:p})}};const d=(e,t,n)=>n?e:"Enter"===e?"\r":1===[...e].length?t.shift?e.toLocaleUpperCase("en-US"):e:void 0,h=(e,t)=>{if(t.ctrl){switch(e){case"Digit2":if(t.shift)return"\0";break;case"KeyA":return"";case"KeyB":return"";case"KeyC":return"";case"KeyD":return"";case"KeyE":return"";case"KeyF":return"";case"KeyG":return"";case"KeyH":return"\b";case"KeyI":return"\t";case"KeyJ":return"\n";case"KeyK":return"\v";case"KeyL":return"\f";case"KeyM":return"\r";case"KeyN":return"";case"KeyO":return"";case"KeyP":return"";case"KeyQ":return"";case"KeyR":return"";case"KeyS":return"";case"KeyT":return"";case"KeyU":return"";case"KeyV":return"";case"KeyW":return"";case"KeyX":return"";case"KeyY":return"";case"KeyZ":return"";case"BracketLeft":return"";case"Backslash":return"";case"BracketRight":return"";case"Digit6":if(t.shift)return"";break;case"Minus":return""}return""}if(t.alt)return""};function p(e){switch(e){case 0:return"left";case 1:return"middle";case 2:return"right";case 3:return"back";case 4:return"forward";default:return"none"}}function f(e){const t=e.altitudeAngle??Math.PI/2,n=e.azimuthAngle??0;let r=0,o=0;if(0===t&&(0!==n&&n!==2*Math.PI||(r=Math.PI/2),n===Math.PI/2&&(o=Math.PI/2),n===Math.PI&&(r=-Math.PI/2),n===3*Math.PI/2&&(o=-Math.PI/2),n>0&&n<Math.PI/2&&(r=Math.PI/2,o=Math.PI/2),n>Math.PI/2&&n<Math.PI&&(r=-Math.PI/2,o=Math.PI/2),n>Math.PI&&n<3*Math.PI/2&&(r=-Math.PI/2,o=-Math.PI/2),n>3*Math.PI/2&&n<2*Math.PI&&(r=Math.PI/2,o=-Math.PI/2)),0!==t){const e=Math.tan(t);r=Math.atan(Math.cos(n)/e),o=Math.atan(Math.sin(n)/e)}const i=180/Math.PI;return{tiltX:Math.round(r*i),tiltY:Math.round(o*i)}}function m(e,t){return{radiusX:e?e/2:.5,radiusY:t?t/2:.5}}},"./node_modules/chromium-bidi/lib/cjs/bidiMapper/modules/input/InputProcessor.js":(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InputProcessor=void 0;const r=n("./node_modules/chromium-bidi/lib/cjs/protocol/protocol.js"),o=n("./node_modules/chromium-bidi/lib/cjs/utils/assert.js"),i=n("./node_modules/chromium-bidi/lib/cjs/bidiMapper/modules/input/ActionDispatcher.js"),s=n("./node_modules/chromium-bidi/lib/cjs/bidiMapper/modules/input/InputStateManager.js");t.InputProcessor=class{#o;#Ot=new s.InputStateManager;constructor(e){this.#o=e}async performActions(e){const t=this.#o.getContext(e.context),n=this.#Ot.get(t.top),r=this.#Tt(e,n),o=new i.ActionDispatcher(n,this.#o,e.context,await i.ActionDispatcher.isMacOS(t).catch(()=>!1));return await o.dispatchActions(r),{}}async releaseActions(e){const t=this.#o.getContext(e.context),n=t.top,r=this.#Ot.get(n),o=new i.ActionDispatcher(r,this.#o,e.context,await i.ActionDispatcher.isMacOS(t).catch(()=>!1));return await o.dispatchTickActions(r.cancelList.reverse()),this.#Ot.delete(n),{}}async setFiles(e){const t=this.#o.getContext(e.context),n=await t.getOrCreateHiddenSandbox();let i;try{i=await n.callFunction(String(function(e){return this instanceof HTMLInputElement?"file"!==this.type?2:this.disabled?3:e>1&&!this.multiple?4:void 0:this instanceof Element?1:0}),!1,e.element,[{type:"number",value:e.files.length}])}catch{throw new r.NoSuchNodeException(`Could not find element ${e.element.sharedId}`)}if((0,o.assert)("success"===i.type),"number"===i.result.type)switch(i.result.value){case 0:throw new r.NoSuchElementException(`Could not find element ${e.element.sharedId}`);case 1:throw new r.UnableToSetFileInputException(`Element ${e.element.sharedId} is not a input`);case 2:throw new r.UnableToSetFileInputException(`Input element ${e.element.sharedId} is not a file type`);case 3:throw new r.UnableToSetFileInputException(`Input element ${e.element.sharedId} is disabled`);case 4:throw new r.UnableToSetFileInputException("Cannot set multiple files on a non-multiple input element")}if(0===e.files.length)return await n.callFunction(String(function(){0!==this.files?.length?(this.files=(new DataTransfer).files,this.dispatchEvent(new Event("input",{bubbles:!0,composed:!0})),this.dispatchEvent(new Event("change",{bubbles:!0}))):this.dispatchEvent(new Event("cancel",{bubbles:!0}))}),!1,e.element),{};const s=[];for(let t=0;t<e.files.length;++t){const t=await n.callFunction(String(function(e){return this.files?.item(e)}),!1,e.element,[{type:"number",value:0}],"root");if((0,o.assert)("success"===t.type),"object"!==t.result.type)break;const{handle:r}=t.result;(0,o.assert)(void 0!==r);const{path:i}=await n.cdpClient.sendCommand("DOM.getFileInfo",{objectId:r});s.push(i),n.disown(r).catch(void 0)}s.sort();const a=[...e.files].sort();if(s.length!==e.files.length||a.some((e,t)=>s[t]!==e)){const{objectId:t}=await n.deserializeForCdp(e.element);(0,o.assert)(void 0!==t),await n.cdpClient.sendCommand("DOM.setFileInputFiles",{files:e.files,objectId:t})}else await n.callFunction(String(function(){this.dispatchEvent(new Event("cancel",{bubbles:!0}))}),!1,e.element);return{}}#Tt(e,t){const n=[];for(const o of e.actions){switch(o.type){case"pointer":{o.parameters??={pointerType:"mouse"},o.parameters.pointerType??="mouse";const e=t.getOrCreate(o.id,"pointer",o.parameters.pointerType);if(e.subtype!==o.parameters.pointerType)throw new r.InvalidArgumentException(`Expected input source ${o.id} to be ${e.subtype}; got ${o.parameters.pointerType}.`);e.resetClickCount();break}default:t.getOrCreate(o.id,o.type)}const e=o.actions.map(e=>({id:o.id,action:e}));for(let t=0;t<e.length;t++)n.length===t&&n.push([]),n[t].push(e[t])}return n}}},"./node_modules/chromium-bidi/lib/cjs/bidiMapper/modules/input/InputSource.js":(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WheelSource=t.PointerSource=t.KeySource=t.NoneSource=void 0,t.NoneSource=class{type="none"},t.KeySource=class{type="key";pressed=new Set;#It=0;get modifiers(){return this.#It}get alt(){return!(1&~this.#It)}set alt(e){this.#Bt(e,1)}get ctrl(){return!(2&~this.#It)}set ctrl(e){this.#Bt(e,2)}get meta(){return!(4&~this.#It)}set meta(e){this.#Bt(e,4)}get shift(){return!(8&~this.#It)}set shift(e){this.#Bt(e,8)}#Bt(e,t){e?this.#It|=t:this.#It&=~t}};t.PointerSource=class{type="pointer";subtype;pointerId;pressed=new Set;x=0;y=0;radiusX;radiusY;force;constructor(e,t){this.pointerId=e,this.subtype=t}get buttons(){let e=0;for(const t of this.pressed)switch(t){case 0:e|=1;break;case 1:e|=4;break;case 2:e|=2;break;case 3:e|=8;break;case 4:e|=16}return e}static ClickContext=class e{static#Mt=500;static#Pt=2;count=0;#jt;#Nt;#Ft;constructor(e,t,n){this.#jt=e,this.#Nt=t,this.#Ft=n}compare(t){return t.#Ft-this.#Ft>e.#Mt||Math.abs(t.#jt-this.#jt)>e.#Pt||Math.abs(t.#Nt-this.#Nt)>e.#Pt}};#Dt=new Map;setClickCount(e,t){let n=this.#Dt.get(e);return n&&!n.compare(t)||(n=t),++n.count,this.#Dt.set(e,n),n.count}getClickCount(e){return this.#Dt.get(e)?.count??0}resetClickCount(){this.#Dt=new Map}},t.WheelSource=class{type="wheel"}},"./node_modules/chromium-bidi/lib/cjs/bidiMapper/modules/input/InputState.js":(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InputState=void 0;const r=n("./node_modules/chromium-bidi/lib/cjs/protocol/protocol.js"),o=n("./node_modules/chromium-bidi/lib/cjs/utils/Mutex.js"),i=n("./node_modules/chromium-bidi/lib/cjs/bidiMapper/modules/input/InputSource.js");t.InputState=class{cancelList=[];#Rt=new Map;#Lt=new o.Mutex;getOrCreate(e,t,n){let o=this.#Rt.get(e);if(!o){switch(t){case"none":o=new i.NoneSource;break;case"key":o=new i.KeySource;break;case"pointer":{let e="mouse"===n?0:2;const t=new Set;for(const[,e]of this.#Rt)"pointer"===e.type&&t.add(e.pointerId);for(;t.has(e);)++e;o=new i.PointerSource(e,n);break}case"wheel":o=new i.WheelSource;break;default:throw new r.InvalidArgumentException(`Expected "none", "key", "pointer", or "wheel". Found unknown source type ${t}.`)}return this.#Rt.set(e,o),o}if(o.type!==t)throw new r.InvalidArgumentException(`Input source type of ${e} is ${o.type}, but received ${t}.`);return o}get(e){const t=this.#Rt.get(e);if(!t)throw new r.UnknownErrorException("Internal error.");return t}getGlobalKeyState(){const e=new i.KeySource;for(const[,t]of this.#Rt)if("key"===t.type){for(const n of t.pressed)e.pressed.add(n);e.alt||=t.alt,e.ctrl||=t.ctrl,e.meta||=t.meta,e.shift||=t.shift}return e}get queue(){return this.#Lt}}},"./node_modules/chromium-bidi/lib/cjs/bidiMapper/modules/input/InputStateManager.js":(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InputStateManager=void 0;const r=n("./node_modules/chromium-bidi/lib/cjs/utils/assert.js"),o=n("./node_modules/chromium-bidi/lib/cjs/bidiMapper/modules/input/InputState.js");class i extends WeakMap{get(e){return(0,r.assert)(e.isTopLevelContext()),this.has(e)||this.set(e,new o.InputState),super.get(e)}}t.InputStateManager=i},"./node_modules/chromium-bidi/lib/cjs/bidiMapper/modules/input/USKeyboardLayout.js":(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.KeyToKeyCode=void 0,t.KeyToKeyCode={0:48,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,9:57,Abort:3,Help:6,Backspace:8,Tab:9,Numpad5:12,NumpadEnter:13,Enter:13,"\\r":13,"\\n":13,ShiftLeft:16,ShiftRight:16,ControlLeft:17,ControlRight:17,AltLeft:18,AltRight:18,Pause:19,CapsLock:20,Escape:27,Convert:28,NonConvert:29,Space:32,Numpad9:33,PageUp:33,Numpad3:34,PageDown:34,End:35,Numpad1:35,Home:36,Numpad7:36,ArrowLeft:37,Numpad4:37,Numpad8:38,ArrowUp:38,ArrowRight:39,Numpad6:39,Numpad2:40,ArrowDown:40,Select:41,Open:43,PrintScreen:44,Insert:45,Numpad0:45,Delete:46,NumpadDecimal:46,Digit0:48,Digit1:49,Digit2:50,Digit3:51,Digit4:52,Digit5:53,Digit6:54,Digit7:55,Digit8:56,Digit9:57,KeyA:65,KeyB:66,KeyC:67,KeyD:68,KeyE:69,KeyF:70,KeyG:71,KeyH:72,KeyI:73,KeyJ:74,KeyK:75,KeyL:76,KeyM:77,KeyN:78,KeyO:79,KeyP:80,KeyQ:81,KeyR:82,KeyS:83,KeyT:84,KeyU:85,KeyV:86,KeyW:87,KeyX:88,KeyY:89,KeyZ:90,MetaLeft:91,MetaRight:92,ContextMenu:93,NumpadMultiply:106,NumpadAdd:107,NumpadSubtract:109,NumpadDivide:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,F13:124,F14:125,F15:126,F16:127,F17:128,F18:129,F19:130,F20:131,F21:132,F22:133,F23:134,F24:135,NumLock:144,ScrollLock:145,AudioVolumeMute:173,AudioVolumeDown:174,AudioVolumeUp:175,MediaTrackNext:176,MediaTrackPrevious:177,MediaStop:178,MediaPlayPause:179,Semicolon:186,Equal:187,NumpadEqual:187,Comma:188,Minus:189,Period:190,Slash:191,Backquote:192,BracketLeft:219,Backslash:220,BracketRight:221,Quote:222,AltGraph:225,Props:247,Cancel:3,Clear:12,Shift:16,Control:17,Alt:18,Accept:30,ModeChange:31," ":32,Print:42,Execute:43,"\\u0000":46,a:65,b:66,c:67,d:68,e:69,f:70,g:71,h:72,i:73,j:74,k:75,l:76,m:77,n:78,o:79,p:80,q:81,r:82,s:83,t:84,u:85,v:86,w:87,x:88,y:89,z:90,Meta:91,"*":106,"+":107,"-":109,"/":111,";":186,"=":187,",":188,".":190,"`":192,"[":219,"\\\\":220,"]":221,"'":222,Attn:246,CrSel:247,ExSel:248,EraseEof:249,Play:250,ZoomOut:251,")":48,"!":49,"@":50,"#":51,$:52,"%":53,"^":54,"&":55,"(":57,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,":":186,"<":188,_:189,">":190,"?":191,"~":192,"{":219,"|":220,"}":221,'"':222,Camera:44,EndCall:95,VolumeDown:182,VolumeUp:183}},"./node_modules/chromium-bidi/lib/cjs/bidiMapper/modules/input/keyUtils.js":(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getNormalizedKey=function(e){switch(e){case"":return"Unidentified";case"":return"Cancel";case"":return"Help";case"":return"Backspace";case"":return"Tab";case"":return"Clear";case"":case"":return"Enter";case"":case"":return"Shift";case"":case"":return"Control";case"":case"":return"Alt";case"":return"Pause";case"":return"Escape";case"":return" ";case"":case"":return"PageUp";case"":case"":return"PageDown";case"":case"":return"End";case"":case"":return"Home";case"":case"":return"ArrowLeft";case"":case"":return"ArrowUp";case"":case"":return"ArrowRight";case"":case"":return"ArrowDown";case"":case"":return"Insert";case"":case"":return"Delete";case"":return";";case"":return"=";case"":return"0";case"":return"1";case"":return"2";case"":return"3";case"":return"4";case"":return"5";case"":return"6";case"":return"7";case"":return"8";case"":return"9";case"":return"*";case"":return"+";case"":return",";case"":return"-";case"":return".";case"":return"/";case"":return"F1";case"":return"F2";case"":return"F3";case"":return"F4";case"":return"F5";case"":return"F6";case"":return"F7";case"":return"F8";case"":return"F9";case"":return"F10";case"":return"F11";case"":return"F12";case"":case"":return"Meta";case"":return"ZenkakuHankaku";default:return e}},t.getKeyCode=function(e){switch(e){case"`":case"~":return"Backquote";case"\\":case"|":return"Backslash";case"":return"Backspace";case"[":case"{":return"BracketLeft";case"]":case"}":return"BracketRight";case",":case"<":return"Comma";case"0":case")":return"Digit0";case"1":case"!":return"Digit1";case"2":case"@":return"Digit2";case"3":case"#":return"Digit3";case"4":case"$":return"Digit4";case"5":case"%":return"Digit5";case"6":case"^":return"Digit6";case"7":case"&":return"Digit7";case"8":case"*":return"Digit8";case"9":case"(":return"Digit9";case"=":case"+":return"Equal";case">":return"IntlBackslash";case"a":case"A":return"KeyA";case"b":case"B":return"KeyB";case"c":case"C":return"KeyC";case"d":case"D":return"KeyD";case"e":case"E":return"KeyE";case"f":case"F":return"KeyF";case"g":case"G":return"KeyG";case"h":case"H":return"KeyH";case"i":case"I":return"KeyI";case"j":case"J":return"KeyJ";case"k":case"K":return"KeyK";case"l":case"L":return"KeyL";case"m":case"M":return"KeyM";case"n":case"N":return"KeyN";case"o":case"O":return"KeyO";case"p":case"P":return"KeyP";case"q":case"Q":return"KeyQ";case"r":case"R":return"KeyR";case"s":case"S":return"KeyS";case"t":case"T":return"KeyT";case"u":case"U":return"KeyU";case"v":case"V":return"KeyV";case"w":case"W":return"KeyW";case"x":case"X":return"KeyX";case"y":case"Y":return"KeyY";case"z":case"Z":return"KeyZ";case"-":case"_":return"Minus";case".":return"Period";case"'":case'"':return"Quote";case";":case":":return"Semicolon";case"/":case"?":return"Slash";case"":return"AltLeft";case"":return"AltRight";case"":return"ControlLeft";case"":return"ControlRight";case"":return"Enter";case"":return"Pause";case"":return"MetaLeft";case"":return"MetaRight";case"":return"ShiftLeft";case"":return"ShiftRight";case" ":case"":return"Space";case"":return"Tab";case"":return"Delete";case"":return"End";case"":return"Help";case"":return"Home";case"":return"Insert";case"":return"PageDown";case"":return"PageUp";case"":return"ArrowDown";case"":return"ArrowLeft";case"":return"ArrowRight";case"":return"ArrowUp";case"":return"Escape";case"":return"F1";case"":return"F2";case"":return"F3";case"":return"F4";case"":return"F5";case"":return"F6";case"":return"F7";case"":return"F8";case"":return"F9";case"":return"F10";case"":return"F11";case"":return"F12";case"":return"NumpadEqual";case"":case"":return"Numpad0";case"":case"":return"Numpad1";case"":case"":return"Numpad2";case"":case"":return"Numpad3";case"":case"":return"Numpad4";case"":return"Numpad5";case"":case"":return"Numpad6";case"":case"":return"Numpad7";case"":case"":return"Numpad8";case"":case"":return"Numpad9";case"":return"NumpadAdd";case"":return"NumpadComma";case"":case"":return"NumpadDecimal";case"":return"NumpadDivide";case"":return"NumpadEnter";case"":return"NumpadMultiply";case"":return"NumpadSubtract";default:return}},t.getKeyLocation=function(e){switch(e){case"":case"":case"":case"":case"":return 1;case"":case"":case"":case"":case"":case"":case"":case"":case"":case"":case"":case"":case"":case"":case"":case"":case"":case"":case"":case"":case"":case"":case"":case"":case"":case"":case"":return 3;case"":case"":case"":case"":return 2;default:return 0}}},"./node_modules/chromium-bidi/lib/cjs/bidiMapper/modules/log/LogManager.js":(e,t,n)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.LogManager=void 0;const o=n("./node_modules/chromium-bidi/lib/cjs/protocol/protocol.js"),i=n("./node_modules/chromium-bidi/lib/cjs/utils/log.js"),s=n("./node_modules/chromium-bidi/lib/cjs/bidiMapper/modules/log/logHelper.js");function a(e){const t=e?.callFrames.map(e=>({columnNumber:e.columnNumber,functionName:e.functionName,lineNumber:e.lineNumber,url:e.url}));return t?{callFrames:t}:void 0}function l(e){switch(e){case"warning":return"warn";case"startGroup":return"group";case"startGroupCollapsed":return"groupCollapsed";case"endGroup":return"groupEnd"}return e}class c{#r;#i;#je;#l;constructor(e,t,n,r){this.#je=e,this.#i=t,this.#r=n,this.#l=r}static create(e,t,n,o){const i=new r(e,t,n,o);return i.#zt(),i}async#Ht(e,t){switch(e.type){case"undefined":return{type:"undefined"};case"boolean":return{type:"boolean",value:e.value};case"string":return{type:"string",value:e.value};case"number":return{type:"number",value:e.unserializableValue??e.value};case"bigint":if(void 0!==e.unserializableValue&&"n"===e.unserializableValue[e.unserializableValue.length-1])return{type:e.type,value:e.unserializableValue.slice(0,-1)};break;case"object":if("null"===e.subtype)return{type:"null"}}return await t.serializeCdpObject(e,"none")}#zt(){this.#je.cdpClient.on("Runtime.consoleAPICalled",e=>{const t=this.#i.findRealm({cdpSessionId:this.#je.cdpSessionId,executionContextId:e.executionContextId});if(void 0===t)return void this.#l?.(i.LogType.cdp,e);const n=Promise.all(e.args.map(e=>this.#Ht(e,t)));for(const r of t.associatedBrowsingContexts)this.#r.registerPromiseEvent(n.then(n=>{return{kind:"success",value:{type:"event",method:o.ChromiumBidi.Log.EventNames.LogEntryAdded,params:{level:(r=e.type,["error","assert"].includes(r)?"error":["debug","trace"].includes(r)?"debug":["warn","warning"].includes(r)?"warn":"info"),source:t.source,text:(0,s.getRemoteValuesText)(n,!0),timestamp:Math.round(e.timestamp),stackTrace:a(e.stackTrace),type:"console",method:l(e.type),args:n}}};var r},e=>({kind:"error",error:e})),r.id,o.ChromiumBidi.Log.EventNames.LogEntryAdded)}),this.#je.cdpClient.on("Runtime.exceptionThrown",e=>{const t=this.#i.findRealm({cdpSessionId:this.#je.cdpSessionId,executionContextId:e.exceptionDetails.executionContextId});if(void 0!==t)for(const n of t.associatedBrowsingContexts)this.#r.registerPromiseEvent(r.#Ut(e,t).then(n=>({kind:"success",value:{type:"event",method:o.ChromiumBidi.Log.EventNames.LogEntryAdded,params:{level:"error",source:t.source,text:n,timestamp:Math.round(e.timestamp),stackTrace:a(e.exceptionDetails.stackTrace),type:"javascript"}}}),e=>({kind:"error",error:e})),n.id,o.ChromiumBidi.Log.EventNames.LogEntryAdded);else this.#l?.(i.LogType.cdp,e)})}static async#Ut(e,t){return e.exceptionDetails.exception?void 0===t?JSON.stringify(e.exceptionDetails.exception):await t.stringifyObject(e.exceptionDetails.exception):e.exceptionDetails.text}}t.LogManager=c,r=c},"./node_modules/chromium-bidi/lib/cjs/bidiMapper/modules/log/logHelper.js":(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.logMessageFormatter=s,t.getRemoteValuesText=c;const r=n("./node_modules/chromium-bidi/lib/cjs/utils/assert.js"),o=["%s","%d","%i","%f","%o","%O","%c"];function i(e){return o.some(t=>e.includes(t))}function s(e){let t="";const n=e[0].value.toString(),s=e.slice(1,void 0),u=n.split(new RegExp(o.map(e=>`(${e})`).join("|"),"g"));for(const n of u)if(void 0!==n&&""!==n)if(i(n)){const o=s.shift();(0,r.assert)(o,`Less value is provided: "${c(e,!1)}"`),"%s"===n?t+=l(o):"%d"===n||"%i"===n?"bigint"===o.type||"number"===o.type||"string"===o.type?t+=parseInt(o.value.toString(),10):t+="NaN":"%f"===n?"bigint"===o.type||"number"===o.type||"string"===o.type?t+=parseFloat(o.value.toString()):t+="NaN":t+=a(o)}else t+=n;if(s.length>0)throw new Error(`More value is provided: "${c(e,!1)}"`);return t}function a(e){if("array"!==e.type&&"bigint"!==e.type&&"date"!==e.type&&"number"!==e.type&&"object"!==e.type&&"string"!==e.type)return l(e);if("bigint"===e.type)return`${e.value.toString()}n`;if("number"===e.type)return e.value.toString();if(["date","string"].includes(e.type))return JSON.stringify(e.value);if("object"===e.type)return`{${e.value.map(e=>`${JSON.stringify(e[0])}:${a(e[1])}`).join(",")}}`;if("array"===e.type)return`[${e.value?.map(e=>a(e)).join(",")??""}]`;throw Error(`Invalid value type: ${e}`)}function l(e){if(!Object.hasOwn(e,"value"))return e.type;switch(e.type){case"string":case"number":case"boolean":case"bigint":return String(e.value);case"regexp":return`/${e.value.pattern}/${e.value.flags??""}`;case"date":return new Date(e.value).toString();case"object":return`Object(${e.value?.length??""})`;case"array":return`Array(${e.value?.length??""})`;case"map":return`Map(${e.value?.length})`;case"set":return`Set(${e.value?.length})`;default:return e.type}}function c(e,t){const n=e[0];return n?"string"===n.type&&i(n.value.toString())&&t?s(e):e.map(e=>l(e)).join(" "):""}},"./node_modules/chromium-bidi/lib/cjs/bidiMapper/modules/network/NetworkProcessor.js":(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NetworkProcessor=void 0,t.parseBiDiHeaders=a;const r=n("./node_modules/chromium-bidi/lib/cjs/protocol/protocol.js"),o=n("./node_modules/chromium-bidi/lib/cjs/bidiMapper/modules/network/NetworkUtils.js");class i{#o;#J;#D;#Ke;constructor(e,t,n,r){this.#D=n,this.#o=e,this.#J=t,this.#Ke=r}async addIntercept(e){this.#o.verifyTopLevelContextsList(e.contexts);const t=e.urlPatterns??[],n=i.parseUrlPatterns(t),r=this.#J.addIntercept({urlPatterns:n,phases:e.phases,contexts:e.contexts});return await this.#Qt(),{intercept:r}}async continueRequest(e){if(void 0!==e.url&&i.parseUrlString(e.url),void 0!==e.method&&!i.isMethodValid(e.method))throw new r.InvalidArgumentException(`Method '${e.method}' is invalid.`);e.headers&&i.validateHeaders(e.headers);const t=this.#qt(e.request,["beforeRequestSent"]);try{await t.continueRequest(e)}catch(e){throw i.wrapInterceptionError(e)}return{}}async continueResponse(e){e.headers&&i.validateHeaders(e.headers);const t=this.#qt(e.request,["authRequired","responseStarted"]);try{await t.continueResponse(e)}catch(e){throw i.wrapInterceptionError(e)}return{}}async continueWithAuth(e){const t=e.request,n=this.#qt(t,["authRequired"]);return await n.continueWithAuth(e),{}}async failRequest({request:e}){const t=this.#Wt(e);if("authRequired"===t.interceptPhase)throw new r.InvalidArgumentException(`Request '${e}' in 'authRequired' phase cannot be failed`);if(!t.interceptPhase)throw new r.NoSuchRequestException(`No blocked request found for network id '${e}'`);return await t.failRequest("Failed"),{}}async provideResponse(e){e.headers&&i.validateHeaders(e.headers);const t=this.#qt(e.request,["beforeRequestSent","responseStarted","authRequired"]);try{await t.provideResponse(e)}catch(e){throw i.wrapInterceptionError(e)}return{}}async#Qt(){await Promise.all(this.#o.getAllContexts().map(e=>e.cdpTarget.toggleNetwork()))}async removeIntercept(e){return this.#J.removeIntercept(e.intercept),await this.#Qt(),{}}async setCacheBehavior(e){const t=this.#o.verifyTopLevelContextsList(e.contexts);if(0===t.size)return this.#J.defaultCacheBehavior=e.cacheBehavior,await Promise.all(this.#o.getAllContexts().map(e=>e.cdpTarget.toggleSetCacheDisabled())),{};const n="bypass"===e.cacheBehavior;return await Promise.all([...t.values()].map(e=>e.cdpTarget.toggleSetCacheDisabled(n))),{}}#Wt(e){const t=this.#J.getRequestById(e);if(!t)throw new r.NoSuchRequestException(`Network request with ID '${e}' doesn't exist`);return t}#qt(e,t){const n=this.#Wt(e);if(!n.interceptPhase)throw new r.NoSuchRequestException(`No blocked request found for network id '${e}'`);if(n.interceptPhase&&!t.includes(n.interceptPhase))throw new r.InvalidArgumentException(`Blocked request for network id '${e}' is in '${n.interceptPhase}' phase`);return n}static validateHeaders(e){for(const t of e){let e;if(e="string"===t.value.type?t.value.value:atob(t.value.value),e!==e.trim()||e.includes("\n")||e.includes("\0"))throw new r.InvalidArgumentException(`Header value '${e}' is not acceptable value`)}}static isMethodValid(e){return/^[!#$%&'*+\-.^_`|~a-zA-Z\d]+$/.test(e)}static parseUrlString(e){try{return new URL(e)}catch(t){throw new r.InvalidArgumentException(`Invalid URL '${e}': ${t}`)}}static parseUrlPatterns(e){return e.map(e=>{let t="",n=!0,i=!0,a=!0,l=!0,c=!0;switch(e.type){case"string":t=s(e.pattern);break;case"pattern":{if(void 0===e.protocol)n=!1,t+="http";else{if(""===e.protocol)throw new r.InvalidArgumentException("URL pattern must specify a protocol");if(e.protocol=s(e.protocol),!e.protocol.match(/^[a-zA-Z+-.]+$/))throw new r.InvalidArgumentException("Forbidden characters");t+=e.protocol}const u=t.toLocaleLowerCase();if(t+=":",(0,o.isSpecialScheme)(u)&&(t+="//"),void 0===e.hostname)"file"!==u&&(t+="placeholder"),i=!1;else{if(""===e.hostname)throw new r.InvalidArgumentException("URL pattern must specify a hostname");if("file"===e.protocol)throw new r.InvalidArgumentException("URL pattern protocol cannot be 'file'");e.hostname=s(e.hostname);let n=!1;for(const t of e.hostname){if("/"===t||"?"===t||"#"===t)throw new r.InvalidArgumentException("'/', '?', '#' are forbidden in hostname");if(!n&&":"===t)throw new r.InvalidArgumentException("':' is only allowed inside brackets in hostname");"["===t&&(n=!0),"]"===t&&(n=!1)}t+=e.hostname}if(void 0===e.port)a=!1;else{if(""===e.port)throw new r.InvalidArgumentException("URL pattern must specify a port");if(e.port=s(e.port),t+=":",!e.port.match(/^\d+$/))throw new r.InvalidArgumentException("Forbidden characters");t+=e.port}if(void 0===e.pathname)l=!1;else{if(e.pathname=s(e.pathname),"/"!==e.pathname[0]&&(t+="/"),e.pathname.includes("#")||e.pathname.includes("?"))throw new r.InvalidArgumentException("Forbidden characters");t+=e.pathname}if(void 0===e.search)c=!1;else{if(e.search=s(e.search),"?"!==e.search[0]&&(t+="?"),e.search.includes("#"))throw new r.InvalidArgumentException("Forbidden characters");t+=e.search}break}}const u=e=>{const t={"ftp:":21,"file:":null,"http:":80,"https:":443,"ws:":80,"wss:":443};return!(0,o.isSpecialScheme)(e.protocol)||null===t[e.protocol]||e.port&&String(t[e.protocol])!==e.port?e.port?e.port:void 0:""};try{const e=new URL(t);return{protocol:n?e.protocol.replace(/:$/,""):void 0,hostname:i?e.hostname:void 0,port:a?u(e):void 0,pathname:l&&e.pathname?e.pathname:void 0,search:c?e.search:void 0}}catch(e){throw new r.InvalidArgumentException(`${e.message} '${t}'`)}})}static wrapInterceptionError(e){return e?.message.includes("Invalid header")||e?.message.includes("Unsafe header")?new r.InvalidArgumentException(e.message):e}async addDataCollector(e){if(void 0!==e.userContexts&&void 0!==e.contexts)throw new r.InvalidArgumentException("'contexts' and 'userContexts' are mutually exclusive");if(void 0!==e.userContexts&&await this.#D.verifyUserContextIdList(e.userContexts),void 0!==e.contexts)for(const t of e.contexts)if(!this.#o.getContext(t).isTopLevelContext())throw new r.InvalidArgumentException("Data collectors are available only on top-level browsing contexts");const t=this.#J.addDataCollector(e);return await this.#Qt(),{collector:t}}async getData(e){return await this.#J.getCollectedData(e)}async removeDataCollector(e){return this.#J.removeDataCollector(e),await this.#Qt(),{}}disownData(e){return this.#J.disownData(e),{}}async setExtraHeaders(e){if(void 0!==e.userContexts&&void 0!==e.contexts)throw new r.InvalidArgumentException("contexts and userContexts are mutually exclusive");const t=a(e.headers),n=new Set;return void 0===e.userContexts&&void 0===e.contexts&&(this.#Ke.updateGlobalConfig({extraHeaders:t}),this.#o.getAllContexts().forEach(e=>n.add(e.cdpTarget))),void 0!==e.userContexts&&(await this.#D.verifyUserContextIdList(e.userContexts),e.userContexts.forEach(e=>{this.#Ke.updateUserContextConfig(e,{extraHeaders:t}),this.#o.getAllContexts().filter(t=>t.userContext===e).forEach(e=>n.add(e.cdpTarget))})),void 0!==e.contexts&&(this.#o.verifyTopLevelContextsList(e.contexts),e.contexts.forEach(e=>{this.#Ke.updateBrowsingContextConfig(e,{extraHeaders:t}),n.add(this.#o.getContext(e).cdpTarget),this.#o.getContext(e).allChildren.forEach(e=>n.add(e.cdpTarget))})),await Promise.all(Array.from(n).map(e=>e.setExtraHeaders(t))),{}}}function s(e){const t=new Set(["(",")","*","{","}"]);let n="",o=!1;for(const i of e){if(!o){if(t.has(i))throw new r.InvalidArgumentException("Forbidden characters");if("\\"===i){o=!0;continue}}n+=i,o=!1}return n}function a(e){const t={};for(const n of e){if("string"!==n.value.type)throw new r.UnsupportedOperationException("Only string headers values are supported");void 0===t[n.name]?t[n.name]=n.value.value:t[n.name]=`${t[n.name]}, ${n.value.value}`}return t}t.NetworkProcessor=i},"./node_modules/chromium-bidi/lib/cjs/bidiMapper/modules/network/NetworkRequest.js":(e,t,n)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.NetworkRequest=void 0;const o=n("./node_modules/chromium-bidi/lib/cjs/protocol/protocol.js"),i=n("./node_modules/chromium-bidi/lib/cjs/utils/assert.js"),s=n("./node_modules/chromium-bidi/lib/cjs/utils/DefaultMap.js"),a=n("./node_modules/chromium-bidi/lib/cjs/utils/Deferred.js"),l=n("./node_modules/chromium-bidi/lib/cjs/utils/log.js"),c=n("./node_modules/chromium-bidi/lib/cjs/bidiMapper/modules/network/NetworkUtils.js"),u=/(?<=realm=").*(?=")/;class d{static unknownParameter="UNKNOWN";#$;#$t;#Gt;#Vt=!1;#Yt;#Jt={};#Kt;#Xt;#Zt={};#r;#J;#je;#l;#en={[o.ChromiumBidi.Network.EventNames.AuthRequired]:!1,[o.ChromiumBidi.Network.EventNames.BeforeRequestSent]:!1,[o.ChromiumBidi.Network.EventNames.FetchError]:!1,[o.ChromiumBidi.Network.EventNames.ResponseCompleted]:!1,[o.ChromiumBidi.Network.EventNames.ResponseStarted]:!1};waitNextPhase=new a.Deferred;constructor(e,t,n,r,o=0,i){this.#$=e,this.#r=t,this.#J=n,this.#je=r,this.#Yt=o,this.#l=i}get id(){return this.#$}get fetchId(){return this.#$t}get interceptPhase(){return this.#Gt}get url(){const e=this.#Jt.info?.request.urlFragment??this.#Jt.paused?.request.urlFragment??"";return`${this.#Zt.paused?.request.url??this.#Kt?.url??this.#Zt.info?.url??this.#Jt.auth?.request.url??this.#Jt.info?.request.url??this.#Jt.paused?.request.url??r.unknownParameter}${e}`}get redirectCount(){return this.#Yt}get cdpTarget(){return this.#je}updateCdpTarget(e){e!==this.#je&&(this.#l?.(l.LogType.debugInfo,`Request ${this.id} was moved from ${this.#je.id} to ${e.id}`),this.#je=e)}get cdpClient(){return this.#je.cdpClient}isRedirecting(){return Boolean(this.#Jt.info)}#tn(){return this.url.startsWith("data:")}get#nn(){return this.#Kt?.method??this.#Jt.info?.request.method??this.#Jt.paused?.request.method??this.#Jt.auth?.request.method??this.#Zt.paused?.request.method}get#rn(){return this.#Jt.info&&this.#Jt.info.loaderId&&this.#Jt.info.loaderId===this.#Jt.info.requestId?this.#J.getNavigationId(this.#wt??void 0):null}get#on(){let e=[];return this.#Jt.extraInfo&&(e=this.#Jt.extraInfo.associatedCookies.filter(({blockedReasons:e})=>!Array.isArray(e)||0===e.length).map(({cookie:e})=>(0,c.cdpToBiDiCookie)(e))),e}get#in(){let e=0;return e="number"==typeof this.#Kt?.bodySize?this.#Kt.bodySize:(0,c.bidiBodySizeFromCdpPostDataEntries)(this.#Jt.info?.request.postDataEntries??[]),e}get#wt(){const e=this.#Zt.paused?.frameId??this.#Jt.info?.frameId??this.#Jt.paused?.frameId??this.#Jt.auth?.frameId;if(void 0!==e)return e;if("preflight"===this.#Jt?.info?.initiator.type&&void 0!==this.#Jt?.info?.initiator.requestId){const e=this.#J.getRequestById(this.#Jt?.info?.initiator.requestId);if(void 0!==e)return e.#Jt.info?.frameId??null}return null}get#sn(){return this.#Xt?.statusCode??this.#Zt.paused?.responseStatusCode??this.#Zt.extraInfo?.statusCode??this.#Zt.info?.status}get#an(){let e=[];if(this.#Kt?.headers){const t=new s.DefaultMap(()=>[]);for(const e of this.#Kt.headers)t.get(e.name).push(e.value.value);for(const[n,r]of t.entries())e.push({name:n,value:{type:"string",value:r.join("\n").trimEnd()}})}else e=[...(0,c.bidiNetworkHeadersFromCdpNetworkHeaders)(this.#Jt.info?.request.headers),...(0,c.bidiNetworkHeadersFromCdpNetworkHeaders)(this.#Jt.extraInfo?.headers)];return e}get#ln(){if(!this.#Zt.info)return;if(401!==this.#sn&&407!==this.#sn)return;const e=401===this.#sn?"WWW-Authenticate":"Proxy-Authenticate",t=[];for(const[n,r]of Object.entries(this.#Zt.info.headers))0===n.localeCompare(e,void 0,{sensitivity:"base"})&&t.push({scheme:r.split(" ").at(0)??"",realm:r.match(u)?.at(0)??""});return t}get#cn(){const e=(0,c.getTiming)((0,c.getTiming)(this.#Zt.info?.timing?.requestTime)-(0,c.getTiming)(this.#Jt.info?.timestamp));return{timeOrigin:Math.round(1e3*(0,c.getTiming)(this.#Jt.info?.wallTime)),requestTime:0,redirectStart:0,redirectEnd:0,fetchStart:(0,c.getTiming)(this.#Zt.info?.timing?.workerFetchStart,e),dnsStart:(0,c.getTiming)(this.#Zt.info?.timing?.dnsStart,e),dnsEnd:(0,c.getTiming)(this.#Zt.info?.timing?.dnsEnd,e),connectStart:(0,c.getTiming)(this.#Zt.info?.timing?.connectStart,e),connectEnd:(0,c.getTiming)(this.#Zt.info?.timing?.connectEnd,e),tlsStart:(0,c.getTiming)(this.#Zt.info?.timing?.sslStart,e),requestStart:(0,c.getTiming)(this.#Zt.info?.timing?.sendStart,e),responseStart:(0,c.getTiming)(this.#Zt.info?.timing?.receiveHeadersStart,e),responseEnd:(0,c.getTiming)(this.#Zt.info?.timing?.receiveHeadersEnd,e)}}#un(){this.waitNextPhase.resolve(),this.waitNextPhase=new a.Deferred}#dn(e){return this.#je.isSubscribedTo(`network.${e}`)?this.#J.getInterceptsForPhase(this,e):new Set}#hn(e){return this.#dn(e).size>0}handleRedirect(e){this.#Zt.hasExtraInfo=!1,this.#Zt.info=e.redirectResponse,this.#pn({wasRedirected:!0})}#pn(e={}){const t=e.wasRedirected||e.hasFailed||this.#tn()||Boolean(this.#Jt.extraInfo)||this.#Vt||Boolean(this.#Zt.info&&!this.#Zt.hasExtraInfo),n=this.#tn()||this.#Vt,r=!n&&this.#hn("beforeRequestSent"),o=!r||r&&Boolean(this.#Jt.paused);Boolean(this.#Jt.info)&&(r?o:t)&&this.#fn(this.#mn.bind(this));const i=Boolean(this.#Zt.extraInfo)||this.#Vt||Boolean(this.#Zt.info&&!this.#Zt.hasExtraInfo),s=!n&&this.#hn("responseStarted");(this.#Zt.info||s&&Boolean(this.#Zt.paused))&&this.#fn(this.#gn.bind(this));const a=!s||s&&Boolean(this.#Zt.paused);Boolean(this.#Zt.info)&&i&&a&&(this.#fn(this.#bn.bind(this)),this.#J.disposeRequest(this.id))}onRequestWillBeSentEvent(e){this.#Jt.info=e,this.#pn()}onRequestWillBeSentExtraInfoEvent(e){this.#Jt.extraInfo=e,this.#pn()}onResponseReceivedExtraInfoEvent(e){e.statusCode>=300&&e.statusCode<=399&&this.#Jt.info&&e.headers.location===this.#Jt.info.request.url||(this.#Zt.extraInfo=e,this.#pn())}onResponseReceivedEvent(e){this.#Zt.hasExtraInfo=e.hasExtraInfo,this.#Zt.info=e.response,this.#J.markRequestCollectedIfNeeded(this),this.#pn()}onServedFromCache(){this.#Vt=!0,this.#pn()}onLoadingFailedEvent(e){this.#pn({hasFailed:!0}),this.#fn(()=>({method:o.ChromiumBidi.Network.EventNames.FetchError,params:{...this.#wn(),errorText:e.errorText}}))}async failRequest(e){(0,i.assert)(this.#$t,"Network Interception not set-up."),await this.cdpClient.sendCommand("Fetch.failRequest",{requestId:this.#$t,errorReason:e}),this.#Gt=void 0}onRequestPaused(e){this.#$t=e.requestId,e.responseStatusCode||e.responseErrorReason?(this.#Zt.paused=e,this.#hn("responseStarted")&&!this.#en[o.ChromiumBidi.Network.EventNames.ResponseStarted]&&this.#$t!==this.id?this.#Gt="responseStarted":this.#yn()):(this.#Jt.paused=e,this.#hn("beforeRequestSent")&&!this.#en[o.ChromiumBidi.Network.EventNames.BeforeRequestSent]&&this.#$t!==this.id?this.#Gt="beforeRequestSent":this.#vn()),this.#pn()}onAuthRequired(e){this.#$t=e.requestId,this.#Jt.auth=e,this.#hn("authRequired")&&this.#$t!==this.id?this.#Gt="authRequired":this.#An({response:"Default"}),this.#fn(()=>({method:o.ChromiumBidi.Network.EventNames.AuthRequired,params:{...this.#wn("authRequired"),response:this.#_n()}}))}async continueRequest(e={}){const t=this.#xn(e.headers,e.cookies),n=(0,c.cdpFetchHeadersFromBidiNetworkHeaders)(t),r=h(e.body);var o;await this.#vn({url:e.url,method:e.method,headers:n,postData:r}),this.#Kt={url:e.url,method:e.method,headers:e.headers,cookies:e.cookies,bodySize:(o=e.body,"string"===o?.type?o.value.length:"base64"===o?.type?atob(o.value).length:0)}}async#vn(e={}){(0,i.assert)(this.#$t,"Network Interception not set-up."),await this.cdpClient.sendCommand("Fetch.continueRequest",{requestId:this.#$t,url:e.url,method:e.method,headers:e.headers,postData:e.postData}),this.#Gt=void 0}async continueResponse(e={}){if("authRequired"===this.interceptPhase){if(!e.credentials)return await this.#An({response:"ProvideCredentials"});await Promise.all([this.waitNextPhase,await this.#An({response:"ProvideCredentials",username:e.credentials.username,password:e.credentials.password})])}if("responseStarted"===this.#Gt){const t=this.#xn(e.headers,e.cookies),n=(0,c.cdpFetchHeadersFromBidiNetworkHeaders)(t);await this.#yn({responseCode:e.statusCode??this.#Zt.paused?.responseStatusCode,responsePhrase:e.reasonPhrase??this.#Zt.paused?.responseStatusText,responseHeaders:n??this.#Zt.paused?.responseHeaders}),this.#Xt={statusCode:e.statusCode,headers:t}}}async#yn({responseCode:e,responsePhrase:t,responseHeaders:n}={}){(0,i.assert)(this.#$t,"Network Interception not set-up."),await this.cdpClient.sendCommand("Fetch.continueResponse",{requestId:this.#$t,responseCode:e,responsePhrase:t,responseHeaders:n}),this.#Gt=void 0}async continueWithAuth(e){let t,n;if("provideCredentials"===e.action){const{credentials:r}=e;t=r.username,n=r.password}const r=(0,c.cdpAuthChallengeResponseFromBidiAuthContinueWithAuthAction)(e.action);await this.#An({response:r,username:t,password:n})}async provideResponse(e){if((0,i.assert)(this.#$t,"Network Interception not set-up."),"authRequired"===this.interceptPhase)return await this.#An({response:"ProvideCredentials"});if(!e.body&&!e.headers)return await this.#vn();const t=this.#xn(e.headers,e.cookies),n=(0,c.cdpFetchHeadersFromBidiNetworkHeaders)(t),r=e.statusCode??this.#sn??200;await this.cdpClient.sendCommand("Fetch.fulfillRequest",{requestId:this.#$t,responseCode:r,responsePhrase:e.reasonPhrase,responseHeaders:n,body:h(e.body)}),this.#Gt=void 0}dispose(){this.waitNextPhase.reject(new Error("waitNextPhase disposed"))}async#An(e){(0,i.assert)(this.#$t,"Network Interception not set-up."),await this.cdpClient.sendCommand("Fetch.continueWithAuth",{requestId:this.#$t,authChallengeResponse:e}),this.#Gt=void 0}#fn(e){let t;try{t=e()}catch(e){return void this.#l?.(l.LogType.debugError,e)}this.#Sn()||this.#en[t.method]&&t.method!==o.ChromiumBidi.Network.EventNames.AuthRequired||(this.#un(),this.#en[t.method]=!0,this.#wt?this.#r.registerEvent(Object.assign(t,{type:"event"}),this.#wt):this.#r.registerGlobalEvent(Object.assign(t,{type:"event"})))}#wn(e){const t={isBlocked:!1};if(e){const n=this.#dn(e);t.isBlocked=n.size>0,t.isBlocked&&(t.intercepts=[...n])}return{context:this.#wt,navigation:this.#rn,redirectCount:this.#Yt,request:this.#En(),timestamp:Math.round(1e3*(0,c.getTiming)(this.#Jt.info?.wallTime)),...t}}#_n(){this.#Zt.info?.fromDiskCache&&(this.#Zt.extraInfo=void 0);const e=this.#Zt.info?.headers??{},t=this.#Zt.extraInfo?.headers??{};for(const[n,r]of Object.entries(t))e[n]=r;const n=(0,c.bidiNetworkHeadersFromCdpNetworkHeaders)(e),r=this.#ln;return{...{url:this.url,protocol:this.#Zt.info?.protocol??"",status:this.#sn??-1,statusText:this.#Zt.info?.statusText||this.#Zt.paused?.responseStatusText||"",fromCache:this.#Zt.info?.fromDiskCache||this.#Zt.info?.fromPrefetchCache||this.#Vt,headers:this.#Xt?.headers??n,mimeType:this.#Zt.info?.mimeType||"",bytesReceived:this.#Zt.info?.encodedDataLength||0,headersSize:(0,c.computeHeadersSize)(n),bodySize:0,content:{size:0},...r?{authChallenges:r}:{}},"goog:securityDetails":this.#Zt.info?.securityDetails}}#En(){const e=this.#an;return{request:this.#$,url:this.url,method:this.#nn??r.unknownParameter,headers:e,cookies:this.#on,headersSize:(0,c.computeHeadersSize)(e),bodySize:this.#in,destination:this.#Cn(),initiatorType:this.#kn(),timings:this.#cn,"goog:postData":this.#Jt.info?.request?.postData,"goog:hasPostData":this.#Jt.info?.request?.hasPostData,"goog:resourceType":this.#Jt.info?.type,"goog:resourceInitiator":this.#Jt.info?.initiator}}#Cn(){switch(this.#Jt.info?.type){case"Script":return"script";case"Stylesheet":return"style";case"Image":return"image";case"Document":return"parser"===this.#Jt.info?.initiator.type?"iframe":"";default:return""}}#kn(){if("parser"===this.#Jt.info?.initiator.type)switch(this.#Jt.info?.type){case"Document":return"iframe";case"Font":return this.#Jt.info?.initiator?.url===this.#Jt.info?.documentURL?"font":"css";case"Image":return this.#Jt.info?.initiator?.url===this.#Jt.info?.documentURL?"img":"css";case"Script":return"script";case"Stylesheet":return"link";default:return null}return"Fetch"===this.#Jt?.info?.type?"fetch":null}#mn(){return(0,i.assert)(this.#Jt.info,"RequestWillBeSentEvent is not set"),{method:o.ChromiumBidi.Network.EventNames.BeforeRequestSent,params:{...this.#wn("beforeRequestSent"),initiator:{type:r.#On(this.#Jt.info.initiator.type),columnNumber:this.#Jt.info.initiator.columnNumber,lineNumber:this.#Jt.info.initiator.lineNumber,stackTrace:this.#Jt.info.initiator.stack,request:this.#Jt.info.initiator.requestId}}}}#gn(){return{method:o.ChromiumBidi.Network.EventNames.ResponseStarted,params:{...this.#wn("responseStarted"),response:this.#_n()}}}#bn(){return{method:o.ChromiumBidi.Network.EventNames.ResponseCompleted,params:{...this.#wn(),response:this.#_n()}}}#Sn(){const e="/favicon.ico";return this.#Jt.paused?.request.url.endsWith(e)??this.#Jt.info?.request.url.endsWith(e)??!1}#xn(e,t){if(!e&&!t)return;let n=e;const r=(0,c.networkHeaderFromCookieHeaders)(t);return r&&!n&&(n=this.#an),r&&n&&(n.filter(e=>0!==e.name.localeCompare("cookie",void 0,{sensitivity:"base"})),n.push(r)),n}static#On(e){switch(e){case"parser":case"script":case"preflight":return e;default:return"other"}}}function h(e){let t;return"string"===e?.type?t=(0,c.stringToBase64)(e.value):"base64"===e?.type&&(t=e.value),t}t.NetworkRequest=d,r=d},"./node_modules/chromium-bidi/lib/cjs/bidiMapper/modules/network/NetworkStorage.js":(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NetworkStorage=void 0;const r=n("./node_modules/chromium-bidi/lib/cjs/protocol/protocol.js"),o=n("./node_modules/chromium-bidi/lib/cjs/utils/log.js"),i=n("./node_modules/chromium-bidi/lib/cjs/utils/uuid.js"),s=n("./node_modules/chromium-bidi/lib/cjs/bidiMapper/modules/network/NetworkRequest.js"),a=n("./node_modules/chromium-bidi/lib/cjs/bidiMapper/modules/network/NetworkUtils.js");t.NetworkStorage=class{#o;#r;#l;#Tn=new Map;#In=new Map;#Bn=new Map;#Mn=new Map;#Pn="default";constructor(e,t,n,r){this.#o=t,this.#r=e,n.on("Target.detachedFromTarget",({sessionId:e})=>{this.disposeRequestMap(e)}),this.#l=r}#jn(e,t,n){let r=this.getRequestById(e);return r||(r=new s.NetworkRequest(e,this.#r,this,t,n,this.#l),this.addRequest(r),r)}onCdpTargetCreated(e){const t=e.cdpClient,n=[["Network.requestWillBeSent",t=>{const n=this.getRequestById(t.requestId);n?.updateCdpTarget(e),n&&n.isRedirecting()?(n.handleRedirect(t),this.disposeRequest(t.requestId),this.#jn(t.requestId,e,n.redirectCount+1).onRequestWillBeSentEvent(t)):this.#jn(t.requestId,e).onRequestWillBeSentEvent(t)}],["Network.requestWillBeSentExtraInfo",t=>{const n=this.#jn(t.requestId,e);n.updateCdpTarget(e),n.onRequestWillBeSentExtraInfoEvent(t)}],["Network.responseReceived",t=>{const n=this.#jn(t.requestId,e);n.updateCdpTarget(e),n.onResponseReceivedEvent(t)}],["Network.responseReceivedExtraInfo",t=>{const n=this.#jn(t.requestId,e);n.updateCdpTarget(e),n.onResponseReceivedExtraInfoEvent(t)}],["Network.requestServedFromCache",t=>{const n=this.#jn(t.requestId,e);n.updateCdpTarget(e),n.onServedFromCache()}],["Network.loadingFailed",t=>{const n=this.#jn(t.requestId,e);n.updateCdpTarget(e),n.onLoadingFailedEvent(t)}],["Fetch.requestPaused",t=>{const n=this.#jn(t.networkId??t.requestId,e);n.updateCdpTarget(e),n.onRequestPaused(t)}],["Fetch.authRequired",t=>{let n=this.getRequestByFetchId(t.requestId);n||(n=this.#jn(t.requestId,e)),n.updateCdpTarget(e),n.onAuthRequired(t)}],["Network.dataReceived",t=>{this.getRequestById(t.requestId)?.updateCdpTarget(e)}],["Network.loadingFinished",t=>{this.getRequestById(t.requestId)?.updateCdpTarget(e)}]];for(const[e,r]of n)t.on(e,r)}getCollectorsForBrowsingContext(e){if(!this.#o.hasContext(e))return this.#l?.(o.LogType.debugError,"trying to get collector for unknown browsing context"),[];const t=this.#o.getContext(e).userContext,n=new Set;for(const r of this.#Bn.values())r.contexts?.includes(e)&&n.add(r),r.userContexts?.includes(t)&&n.add(r),void 0===r.userContexts&&void 0===r.contexts&&n.add(r);return[...n.values()]}async getCollectedData(e){if(void 0!==e.collector&&!this.#Bn.has(e.collector))throw new r.NoSuchNetworkCollectorException(`Unknown collector ${e.collector}`);const t=this.#Mn.get(e.request);if(void 0===t)throw new r.NoSuchNetworkDataException(`No collected data for request ${e.request}`);if(void 0!==e.collector&&!t.has(e.collector))throw new r.NoSuchNetworkDataException(`Collector ${e.collector} didn't collect data for request ${e.request}`);if(e.disown&&void 0===e.collector)throw new r.InvalidArgumentException("Cannot disown collected data without collector ID");const n=this.getRequestById(e.request);if(void 0===n)throw new r.NoSuchNetworkDataException(`No collected data for request ${e.request}`);const o=await n.cdpClient.sendCommand("Network.getResponseBody",{requestId:n.id});return e.disown&&void 0!==e.collector&&(t.delete(e.collector),0===t.size&&(this.#Mn.delete(e.request),this.disposeRequest(n.id))),{bytes:{type:o.base64Encoded?"base64":"string",value:o.body}}}#Nn(e){const t=new Set;for(const n of this.#Bn.keys()){const r=this.#Bn.get(n);r.userContexts||r.contexts||t.add(n),r.contexts?.includes(e.cdpTarget.topLevelId)&&t.add(n),r.userContexts?.includes(this.#o.getContext(e.cdpTarget.topLevelId).userContext)&&t.add(n)}return this.#l?.(o.LogType.debug,`Request ${e.id} has ${t.size} collectors`),[...t.values()]}markRequestCollectedIfNeeded(e){const t=this.#Nn(e);t.length>0&&this.#Mn.set(e.id,new Set(t))}getInterceptionStages(e){const t={request:!1,response:!1,auth:!1};for(const n of this.#In.values())n.contexts&&!n.contexts.includes(e)||(t.request||=n.phases.includes("beforeRequestSent"),t.response||=n.phases.includes("responseStarted"),t.auth||=n.phases.includes("authRequired"));return t}getInterceptsForPhase(e,t){if(e.url===s.NetworkRequest.unknownParameter)return new Set;const n=new Set;for(const[r,o]of this.#In.entries())if(o.phases.includes(t)&&(!o.contexts||o.contexts.includes(e.cdpTarget.topLevelId)))if(0!==o.urlPatterns.length){for(const t of o.urlPatterns)if((0,a.matchUrlPattern)(t,e.url)){n.add(r);break}}else n.add(r);return n}disposeRequestMap(e){for(const t of this.#Tn.values())t.cdpClient.sessionId===e&&(this.#Tn.delete(t.id),t.dispose())}addIntercept(e){const t=(0,i.uuidv4)();return this.#In.set(t,e),t}removeIntercept(e){if(!this.#In.has(e))throw new r.NoSuchInterceptException(`Intercept '${e}' does not exist.`);this.#In.delete(e)}getRequestsByTarget(e){const t=[];for(const n of this.#Tn.values())n.cdpTarget===e&&t.push(n);return t}getRequestById(e){return this.#Tn.get(e)}getRequestByFetchId(e){for(const t of this.#Tn.values())if(t.fetchId===e)return t}addRequest(e){this.#Tn.set(e.id,e)}disposeRequest(e){this.#Mn.get(e)?.size||this.#Tn.delete(e)}getNavigationId(e){return void 0===e?null:this.#o.findContext(e)?.navigationId??null}set defaultCacheBehavior(e){this.#Pn=e}get defaultCacheBehavior(){return this.#Pn}addDataCollector(e){const t=(0,i.uuidv4)();return this.#Bn.set(t,e),t}removeDataCollector(e){const t=e.collector;if(!this.#Bn.has(t))throw new r.NoSuchNetworkCollectorException(`Collector ${e.collector} does not exist`);this.#Bn.delete(e.collector);for(const[e,n]of this.#Mn)n.has(t)&&(n.delete(t),0===n.size&&(this.#Mn.delete(e),this.disposeRequest(e)))}disownData(e){const t=e.collector,n=e.request;if(!this.#Bn.has(t))throw new r.NoSuchNetworkCollectorException(`Collector ${t} does not exist`);if(!this.#Mn.has(n))throw new r.NoSuchNetworkDataException(`No collected data for request ${n}`);const o=this.#Mn.get(n);if(!o.has(t))throw new r.NoSuchNetworkDataException(`No collected data for request ${n} and collector ${t}`);o.delete(t),0===o.size&&(this.#Mn.delete(n),this.disposeRequest(n))}}},"./node_modules/chromium-bidi/lib/cjs/bidiMapper/modules/network/NetworkUtils.js":(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.computeHeadersSize=function(e){const t=e.reduce((e,t)=>`${e}${t.name}: ${t.value.value}\r\n`,"");return(new TextEncoder).encode(t).length},t.stringToBase64=function(e){return function(e){const t=[];for(let n=0;n<e.length;n+=65534){const r=e.subarray(n,n+65534);t.push(String.fromCodePoint.apply(null,r))}const n=t.join("");return btoa(n)}((new TextEncoder).encode(e))},t.bidiNetworkHeadersFromCdpNetworkHeaders=function(e){return e?Object.entries(e).map(([e,t])=>({name:e,value:{type:"string",value:t}})):[]},t.bidiNetworkHeadersFromCdpNetworkHeadersEntries=function(e){return e?e.map(({name:e,value:t})=>({name:e,value:{type:"string",value:t}})):[]},t.cdpNetworkHeadersFromBidiNetworkHeaders=function(e){if(void 0!==e)return e.reduce((e,t)=>(e[t.name]=t.value.value,e),{})},t.bidiNetworkHeadersFromCdpFetchHeaders=function(e){return e?e.map(({name:e,value:t})=>({name:e,value:{type:"string",value:t}})):[]},t.cdpFetchHeadersFromBidiNetworkHeaders=function(e){if(void 0!==e)return e.map(({name:e,value:t})=>({name:e,value:t.value}))},t.networkHeaderFromCookieHeaders=function(e){if(void 0!==e)return{name:"Cookie",value:{type:"string",value:e.reduce((e,t,n)=>{n>0&&(e+=";");const r="base64"===t.value.type?btoa(t.value.value):t.value.value;return e+`${t.name}=${r}`},"")}}},t.cdpAuthChallengeResponseFromBidiAuthContinueWithAuthAction=function(e){switch(e){case"default":return"Default";case"cancel":return"CancelAuth";case"provideCredentials":return"ProvideCredentials"}},t.cdpToBiDiCookie=function(e){const t={name:e.name,value:{type:"string",value:e.value},domain:e.domain,path:e.path,size:e.size,httpOnly:e.httpOnly,secure:e.secure,sameSite:void 0===e.sameSite?"none":s(e.sameSite),...e.expires>=0?{expiry:e.expires}:void 0};return t["goog:session"]=e.session,t["goog:priority"]=e.priority,t["goog:sameParty"]=e.sameParty,t["goog:sourceScheme"]=e.sourceScheme,t["goog:sourcePort"]=e.sourcePort,void 0!==e.partitionKey&&(t["goog:partitionKey"]=e.partitionKey),void 0!==e.partitionKeyOpaque&&(t["goog:partitionKeyOpaque"]=e.partitionKeyOpaque),t},t.deserializeByteValue=i,t.bidiToCdpCookie=function(e,t){const n=i(e.cookie.value),r={name:e.cookie.name,value:n,domain:e.cookie.domain,path:e.cookie.path??"/",secure:e.cookie.secure??!1,httpOnly:e.cookie.httpOnly??!1,...void 0!==t.sourceOrigin&&{partitionKey:{hasCrossSiteAncestor:!1,topLevelSite:t.sourceOrigin}},...void 0!==e.cookie.expiry&&{expires:e.cookie.expiry},...void 0!==e.cookie.sameSite&&{sameSite:a(e.cookie.sameSite)}};return void 0!==e.cookie["goog:url"]&&(r.url=e.cookie["goog:url"]),void 0!==e.cookie["goog:priority"]&&(r.priority=e.cookie["goog:priority"]),void 0!==e.cookie["goog:sameParty"]&&(r.sameParty=e.cookie["goog:sameParty"]),void 0!==e.cookie["goog:sourceScheme"]&&(r.sourceScheme=e.cookie["goog:sourceScheme"]),void 0!==e.cookie["goog:sourcePort"]&&(r.sourcePort=e.cookie["goog:sourcePort"]),r},t.sameSiteBiDiToCdp=a,t.isSpecialScheme=function(e){return["ftp","file","http","https","ws","wss"].includes(e.replace(/:$/,""))},t.matchUrlPattern=function(e,t){const n=new URL(t);return(void 0===e.protocol||e.protocol===function(e){return e.protocol.replace(/:$/,"")}(n))&&((void 0===e.hostname||e.hostname===n.hostname)&&((void 0===e.port||e.port===n.port)&&((void 0===e.pathname||e.pathname===n.pathname)&&(void 0===e.search||e.search===n.search))))},t.bidiBodySizeFromCdpPostDataEntries=function(e){let t=0;for(const n of e)t+=atob(n.bytes??"").length;return t},t.getTiming=function(e,t=0){return e?e<=0||e+t<=0?0:e+t:0};const r=n("./node_modules/chromium-bidi/lib/cjs/protocol/ErrorResponse.js"),o=n("./node_modules/chromium-bidi/lib/cjs/utils/base64.js");function i(e){return"base64"===e.type?(0,o.base64ToString)(e.value):e.value}function s(e){switch(e){case"Strict":return"strict";case"None":return"none";default:return"lax"}}function a(e){switch(e){case"none":return"None";case"strict":return"Strict";case"default":case"lax":return"Lax"}throw new r.InvalidArgumentException(`Unknown 'sameSite' value ${e}`)}},"./node_modules/chromium-bidi/lib/cjs/bidiMapper/modules/permissions/PermissionsProcessor.js":(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PermissionsProcessor=void 0;const r=n("./node_modules/chromium-bidi/lib/cjs/protocol/protocol.js");t.PermissionsProcessor=class{#h;constructor(e){this.#h=e}async setPermissions(e){try{const t=e["goog:userContext"]||e.userContext;await this.#h.sendCommand("Browser.setPermission",{origin:e.origin,browserContextId:t&&"default"!==t?t:void 0,permission:{name:e.descriptor.name},setting:e.state})}catch(e){if("Permission can't be granted to opaque origins."===e.message)return{};throw new r.InvalidArgumentException(e.message)}return{}}}},"./node_modules/chromium-bidi/lib/cjs/bidiMapper/modules/script/ChannelProxy.js":(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChannelProxy=void 0;const r=n("./node_modules/chromium-bidi/lib/cjs/protocol/protocol.js"),o=n("./node_modules/chromium-bidi/lib/cjs/utils/log.js"),i=n("./node_modules/chromium-bidi/lib/cjs/utils/uuid.js");class s{#Fn;#$=(0,i.uuidv4)();#l;constructor(e,t){this.#Fn=e,this.#l=t}async init(e,t){const n=await s.#Dn(e),r=await s.#Rn(e,n);return this.#Ln(e,n,t),r}async startListenerFromWindow(e,t){try{const n=await this.#zn(e);this.#Ln(e,n,t)}catch(e){this.#l?.(o.LogType.debugError,e)}}static#Hn(){return`(${String(()=>{const e=[];let t=null;return{async getMessage(){const n=e.length>0?Promise.resolve():new Promise(e=>{t=e});return await n,e.shift()},sendMessage(n){e.push(n),null!==t&&(t(),t=null)}}})})()`}static async#Dn(e){const t=await e.cdpClient.sendCommand("Runtime.evaluate",{expression:this.#Hn(),contextId:e.executionContextId,serializationOptions:{serialization:"idOnly"}});if(t.exceptionDetails||void 0===t.result.objectId)throw new Error("Cannot create channel");return t.result.objectId}static async#Rn(e,t){return(await e.cdpClient.sendCommand("Runtime.callFunctionOn",{functionDeclaration:String(e=>e.sendMessage),arguments:[{objectId:t}],executionContextId:e.executionContextId,serializationOptions:{serialization:"idOnly"}})).result.objectId}async#Ln(e,t,n){for(;;)try{const o=await e.cdpClient.sendCommand("Runtime.callFunctionOn",{functionDeclaration:String(async e=>await e.getMessage()),arguments:[{objectId:t}],awaitPromise:!0,executionContextId:e.executionContextId,serializationOptions:{serialization:"deep",maxDepth:this.#Fn.serializationOptions?.maxObjectDepth??void 0}});if(o.exceptionDetails)throw new Error("Runtime.callFunctionOn in ChannelProxy",{cause:o.exceptionDetails});for(const t of e.associatedBrowsingContexts)n.registerEvent({type:"event",method:r.ChromiumBidi.Script.EventNames.Message,params:{channel:this.#Fn.channel,data:e.cdpToBidiValue(o,this.#Fn.ownership??"none"),source:e.source}},t.id)}catch(e){this.#l?.(o.LogType.debugError,e);break}}async#zn(e){const t=await e.cdpClient.sendCommand("Runtime.callFunctionOn",{functionDeclaration:String(e=>{const t=window;if(void 0===t[e])return new Promise(n=>t[e]=n);const n=t[e];return delete t[e],n}),arguments:[{value:this.#$}],executionContextId:e.executionContextId,awaitPromise:!0,serializationOptions:{serialization:"idOnly"}});if(void 0!==t.exceptionDetails||void 0===t.result.objectId)throw new Error(`ChannelHandle not found in window["${this.#$}"]`);return t.result.objectId}getEvalInWindowStr(){const e=String((e,t)=>{const n=window;return void 0===n[e]?n[e]=t:(n[e](t),delete n[e]),t.sendMessage}),t=s.#Hn();return`(${e})('${this.#$}',${t})`}}t.ChannelProxy=s},"./node_modules/chromium-bidi/lib/cjs/bidiMapper/modules/script/PreloadScript.js":(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PreloadScript=void 0;const r=n("./node_modules/chromium-bidi/lib/cjs/utils/uuid.js"),o=n("./node_modules/chromium-bidi/lib/cjs/bidiMapper/modules/script/ChannelProxy.js");t.PreloadScript=class{#$=(0,r.uuidv4)();#Un=[];#Qn;#qn=new Set;#Wn;#$n;#et;#Gn;get id(){return this.#$}get targetIds(){return this.#qn}constructor(e,t){this.#Wn=e.arguments?.map(e=>new o.ChannelProxy(e.value,t))??[],this.#Qn=e.functionDeclaration,this.#$n=e.sandbox,this.#et=e.contexts,this.#Gn=e.userContexts}get channels(){return this.#Wn}get contexts(){return this.#et}get userContexts(){return this.#Gn}#Vn(){const e=`[${this.channels.map(e=>e.getEvalInWindowStr()).join(", ")}]`;return`(()=>{(${this.#Qn})(...${e})})()`}async initInTargets(e,t){await Promise.all(Array.from(e).map(e=>this.initInTarget(e,t)))}async initInTarget(e,t){const n=await e.cdpClient.sendCommand("Page.addScriptToEvaluateOnNewDocument",{source:this.#Vn(),worldName:this.#$n,runImmediately:t});this.#Un.push({target:e,preloadScriptId:n.identifier}),this.#qn.add(e.id)}async remove(){await Promise.all([this.#Un.map(async e=>{const t=e.target,n=e.preloadScriptId;return await t.cdpClient.sendCommand("Page.removeScriptToEvaluateOnNewDocument",{identifier:n})})])}dispose(e){this.#Un=this.#Un.filter(t=>t.target?.id!==e),this.#qn.delete(e)}}},"./node_modules/chromium-bidi/lib/cjs/bidiMapper/modules/script/PreloadScriptStorage.js":(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PreloadScriptStorage=void 0;const r=n("./node_modules/chromium-bidi/lib/cjs/protocol/ErrorResponse.js");t.PreloadScriptStorage=class{#Yn=new Set;find(e){return e?[...this.#Yn].filter(t=>void 0===t.contexts&&void 0===t.userContexts||!(void 0===e.targetId||!t.targetIds.has(e.targetId))):[...this.#Yn]}add(e){this.#Yn.add(e)}remove(e){const t=[...this.#Yn].find(t=>t.id===e);if(void 0===t)throw new r.NoSuchScriptException(`No preload script with id '${e}'`);this.#Yn.delete(t)}getPreloadScript(e){const t=[...this.#Yn].find(t=>t.id===e);if(void 0===t)throw new r.NoSuchScriptException(`No preload script with id '${e}'`);return t}onCdpTargetCreated(e,t){const n=[...this.#Yn].filter(e=>!e.userContexts&&!e.contexts||e.userContexts?.includes(t));for(const t of n)t.targetIds.add(e)}}},"./node_modules/chromium-bidi/lib/cjs/bidiMapper/modules/script/Realm.js":(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Realm=void 0;const r=n("./node_modules/chromium-bidi/lib/cjs/protocol/protocol.js"),o=n("./node_modules/chromium-bidi/lib/cjs/utils/log.js"),i=n("./node_modules/chromium-bidi/lib/cjs/utils/uuid.js"),s=n("./node_modules/chromium-bidi/lib/cjs/bidiMapper/modules/script/ChannelProxy.js");class a{#V;#r;#Jn;#l;#Kn;#Xn;realmStorage;constructor(e,t,n,r,o,i,s){this.#V=e,this.#r=t,this.#Jn=n,this.#l=r,this.#Kn=o,this.#Xn=i,this.realmStorage=s,this.realmStorage.addRealm(this)}cdpToBidiValue(e,t){const n=this.serializeForBiDi(e.result.deepSerializedValue,new Map);if(e.result.objectId){const r=e.result.objectId;"root"===t?(n.handle=r,this.realmStorage.knownHandlesToRealmMap.set(r,this.realmId)):this.#Zn(r).catch(e=>this.#l?.(o.LogType.debugError,e))}return n}isHidden(){return!1}serializeForBiDi(e,t){if(Object.hasOwn(e,"weakLocalObjectReference")){const n=e.weakLocalObjectReference;t.has(n)||t.set(n,(0,i.uuidv4)()),e.internalId=t.get(n),delete e.weakLocalObjectReference}if("node"===e.type&&e.value&&Object.hasOwn(e.value,"frameId")&&delete e.value.frameId,"platformobject"===e.type)return{type:"object"};const n=e.value;if(void 0===n)return e;if(["array","set","htmlcollection","nodelist"].includes(e.type))for(const e in n)n[e]=this.serializeForBiDi(n[e],t);if(["object","map"].includes(e.type))for(const e in n)n[e]=[this.serializeForBiDi(n[e][0],t),this.serializeForBiDi(n[e][1],t)];return e}get realmId(){return this.#Xn}get executionContextId(){return this.#Jn}get origin(){return this.#Kn}get source(){return{realm:this.realmId}}get cdpClient(){return this.#V}get baseInfo(){return{realm:this.realmId,origin:this.origin}}async evaluate(e,t,n="none",r={},o=!1,i=!1){const s=await this.cdpClient.sendCommand("Runtime.evaluate",{contextId:this.executionContextId,expression:e,awaitPromise:t,serializationOptions:a.#er("deep",r),userGesture:o,includeCommandLineAPI:i});return s.exceptionDetails?await this.#tr(s.exceptionDetails,0,n):{realm:this.realmId,result:this.cdpToBidiValue(s,n),type:"success"}}#nr(e){if(0===this.associatedBrowsingContexts.length)this.#r.registerGlobalEvent(e);else for(const t of this.associatedBrowsingContexts)this.#r.registerEvent(e,t.id)}initialize(){this.isHidden()||this.#nr({type:"event",method:r.ChromiumBidi.Script.EventNames.RealmCreated,params:this.realmInfo})}async serializeCdpObject(e,t){const n=a.#rr(e),r=await this.cdpClient.sendCommand("Runtime.callFunctionOn",{functionDeclaration:String(e=>e),awaitPromise:!1,arguments:[n],serializationOptions:{serialization:"deep"},executionContextId:this.executionContextId});return this.cdpToBidiValue(r,t)}static#rr(e){return void 0!==e.objectId?{objectId:e.objectId}:void 0!==e.unserializableValue?{unserializableValue:e.unserializableValue}:{value:e.value}}async stringifyObject(e){const{result:t}=await this.cdpClient.sendCommand("Runtime.callFunctionOn",{functionDeclaration:String(e=>String(e)),awaitPromise:!1,arguments:[e],returnByValue:!0,executionContextId:this.executionContextId});return t.value}async#or(e){return(await Promise.all(e.map(async([e,t])=>{let n;return n="string"==typeof e?{value:e}:await this.deserializeForCdp(e),[n,await this.deserializeForCdp(t)]}))).flat()}async#ir(e){return await Promise.all(e.map(e=>this.deserializeForCdp(e)))}async#sr(e,t,n){const r=e.stackTrace?.callFrames.map(e=>({url:e.url,functionName:e.functionName,lineNumber:e.lineNumber-t,columnNumber:e.columnNumber}))??[],o=e.exception;return{exception:await this.serializeCdpObject(o,n),columnNumber:e.columnNumber,lineNumber:e.lineNumber-t,stackTrace:{callFrames:r},text:await this.stringifyObject(o)||e.text}}async callFunction(e,t,n={type:"undefined"},o=[],i="none",s={},l=!1){const c=`(...args) => {\n      function callFunction(f, args) {\n        const deserializedThis = args.shift();\n        const deserializedArgs = args;\n        return f.apply(deserializedThis, deserializedArgs);\n      }\n      return callFunction((\n        ${e}\n      ), args);\n    }`,u=[await this.deserializeForCdp(n),...await Promise.all(o.map(async e=>await this.deserializeForCdp(e)))];let d;try{d=await this.cdpClient.sendCommand("Runtime.callFunctionOn",{functionDeclaration:c,awaitPromise:t,arguments:u,serializationOptions:a.#er("deep",s),executionContextId:this.executionContextId,userGesture:l})}catch(e){if(-32e3===e.code&&["Could not find object with given id","Argument should belong to the same JavaScript world as target object","Invalid remote object id"].includes(e.message))throw new r.NoSuchHandleException("Handle was not found.");throw e}return d.exceptionDetails?await this.#tr(d.exceptionDetails,1,i):{type:"success",result:this.cdpToBidiValue(d,i),realm:this.realmId}}async deserializeForCdp(e){if("handle"in e&&e.handle)return{objectId:e.handle};if("handle"in e||"sharedId"in e)throw new r.NoSuchHandleException("Handle was not found.");switch(e.type){case"undefined":return{unserializableValue:"undefined"};case"null":return{unserializableValue:"null"};case"string":return{value:e.value};case"number":return"NaN"===e.value?{unserializableValue:"NaN"}:"-0"===e.value?{unserializableValue:"-0"}:"Infinity"===e.value?{unserializableValue:"Infinity"}:"-Infinity"===e.value?{unserializableValue:"-Infinity"}:{value:e.value};case"boolean":return{value:Boolean(e.value)};case"bigint":return{unserializableValue:`BigInt(${JSON.stringify(e.value)})`};case"date":return{unserializableValue:`new Date(Date.parse(${JSON.stringify(e.value)}))`};case"regexp":return{unserializableValue:`new RegExp(${JSON.stringify(e.value.pattern)}, ${JSON.stringify(e.value.flags)})`};case"map":{const t=await this.#or(e.value),{result:n}=await this.cdpClient.sendCommand("Runtime.callFunctionOn",{functionDeclaration:String((...e)=>{const t=new Map;for(let n=0;n<e.length;n+=2)t.set(e[n],e[n+1]);return t}),awaitPromise:!1,arguments:t,returnByValue:!1,executionContextId:this.executionContextId});return{objectId:n.objectId}}case"object":{const t=await this.#or(e.value),{result:n}=await this.cdpClient.sendCommand("Runtime.callFunctionOn",{functionDeclaration:String((...e)=>{const t={};for(let n=0;n<e.length;n+=2)t[e[n]]=e[n+1];return t}),awaitPromise:!1,arguments:t,returnByValue:!1,executionContextId:this.executionContextId});return{objectId:n.objectId}}case"array":{const t=await this.#ir(e.value),{result:n}=await this.cdpClient.sendCommand("Runtime.callFunctionOn",{functionDeclaration:String((...e)=>e),awaitPromise:!1,arguments:t,returnByValue:!1,executionContextId:this.executionContextId});return{objectId:n.objectId}}case"set":{const t=await this.#ir(e.value),{result:n}=await this.cdpClient.sendCommand("Runtime.callFunctionOn",{functionDeclaration:String((...e)=>new Set(e)),awaitPromise:!1,arguments:t,returnByValue:!1,executionContextId:this.executionContextId});return{objectId:n.objectId}}case"channel":{const t=new s.ChannelProxy(e.value,this.#l);return{objectId:await t.init(this,this.#r)}}}throw new Error(`Value ${JSON.stringify(e)} is not deserializable.`)}async#tr(e,t,n){return{exceptionDetails:await this.#sr(e,t,n),realm:this.realmId,type:"exception"}}static#er(e,t){return{serialization:e,additionalParameters:a.#ar(t),...a.#lr(t)}}static#ar(e){const t={};return void 0!==e.maxDomDepth&&(t.maxNodeDepth=null===e.maxDomDepth?1e3:e.maxDomDepth),void 0!==e.includeShadowTree&&(t.includeShadowTree=e.includeShadowTree),t}static#lr(e){return void 0===e.maxObjectDepth||null===e.maxObjectDepth?{}:{maxDepth:e.maxObjectDepth}}async#Zn(e){try{await this.cdpClient.sendCommand("Runtime.releaseObject",{objectId:e})}catch(e){if(-32e3!==e.code||"Invalid remote object id"!==e.message)throw e}}async disown(e){this.realmStorage.knownHandlesToRealmMap.get(e)===this.realmId&&(await this.#Zn(e),this.realmStorage.knownHandlesToRealmMap.delete(e))}dispose(){this.#nr({type:"event",method:r.ChromiumBidi.Script.EventNames.RealmDestroyed,params:{realm:this.realmId}})}}t.Realm=a},"./node_modules/chromium-bidi/lib/cjs/bidiMapper/modules/script/RealmStorage.js":(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RealmStorage=void 0;const r=n("./node_modules/chromium-bidi/lib/cjs/protocol/protocol.js"),o=n("./node_modules/chromium-bidi/lib/cjs/bidiMapper/modules/script/WindowRealm.js");t.RealmStorage=class{#cr=new Map;#ur=new Map;hiddenSandboxes=new Set;get knownHandlesToRealmMap(){return this.#cr}addRealm(e){this.#ur.set(e.realmId,e)}findRealms(e){const t=null===e.sandbox?void 0:e.sandbox;return Array.from(this.#ur.values()).filter(n=>!(void 0!==e.realmId&&e.realmId!==n.realmId||void 0!==e.browsingContextId&&!n.associatedBrowsingContexts.map(e=>e.id).includes(e.browsingContextId)||!(void 0===e.sandbox||n instanceof o.WindowRealm&&t===n.sandbox)||void 0!==e.executionContextId&&e.executionContextId!==n.executionContextId||void 0!==e.origin&&e.origin!==n.origin||void 0!==e.type&&e.type!==n.realmType||void 0!==e.cdpSessionId&&e.cdpSessionId!==n.cdpClient.sessionId||void 0!==e.isHidden&&e.isHidden!==n.isHidden()))}findRealm(e){return this.findRealms(e)[0]}getRealm(e){const t=this.findRealm(e);if(void 0===t)throw new r.NoSuchFrameException(`Realm ${JSON.stringify(e)} not found`);return t}deleteRealms(e){this.findRealms(e).map(e=>{e.dispose(),this.#ur.delete(e.realmId),Array.from(this.knownHandlesToRealmMap.entries()).filter(([,t])=>t===e.realmId).map(([e])=>this.knownHandlesToRealmMap.delete(e))})}}},"./node_modules/chromium-bidi/lib/cjs/bidiMapper/modules/script/ScriptProcessor.js":(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ScriptProcessor=void 0;const r=n("./node_modules/chromium-bidi/lib/cjs/protocol/protocol.js"),o=n("./node_modules/chromium-bidi/lib/cjs/bidiMapper/modules/script/PreloadScript.js");t.ScriptProcessor=class{#r;#o;#i;#s;#D;#l;constructor(e,t,n,o,i,s){this.#o=t,this.#i=n,this.#s=o,this.#D=i,this.#l=s,this.#r=e,this.#r.addSubscribeHook(r.ChromiumBidi.Script.EventNames.RealmCreated,this.#dr.bind(this))}#dr(e){const t=this.#o.getContext(e),n=[t,...this.#o.getContext(e).allChildren],o=new Set;for(const e of n){const t=this.#i.findRealms({browsingContextId:e.id});for(const e of t)o.add(e)}for(const e of o)this.#r.registerEvent({type:"event",method:r.ChromiumBidi.Script.EventNames.RealmCreated,params:e.realmInfo},t.id);return Promise.resolve()}async addPreloadScript(e){if(e.userContexts?.length&&e.contexts?.length)throw new r.InvalidArgumentException("Both userContexts and contexts cannot be specified.");const t=await this.#D.verifyUserContextIdList(e.userContexts??[]),n=this.#o.verifyTopLevelContextsList(e.contexts),i=new o.PreloadScript(e,this.#l);this.#s.add(i);let s=[];s=t.size?this.#o.getTopLevelContexts().filter(e=>t.has(e.userContext)):n.size?[...n.values()]:this.#o.getTopLevelContexts();const a=new Set(s.map(e=>e.cdpTarget));return await i.initInTargets(a,!1),{script:i.id}}async removePreloadScript(e){const{script:t}=e,n=this.#s.getPreloadScript(t);return await n.remove(),this.#s.remove(t),{}}async callFunction(e){const t=await this.#hr(e.target);return await t.callFunction(e.functionDeclaration,e.awaitPromise,e.this,e.arguments,e.resultOwnership,e.serializationOptions,e.userActivation)}async evaluate(e){const t=await this.#hr(e.target);return await t.evaluate(e.expression,e.awaitPromise,e.resultOwnership,e.serializationOptions,e.userActivation)}async disown(e){const t=await this.#hr(e.target);return await Promise.all(e.handles.map(async e=>await t.disown(e))),{}}getRealms(e){return void 0!==e.context&&this.#o.getContext(e.context),{realms:this.#i.findRealms({browsingContextId:e.context,type:e.type,isHidden:!1}).map(e=>e.realmInfo)}}async#hr(e){if("context"in e){const t=this.#o.getContext(e.context);return await t.getOrCreateUserSandbox(e.sandbox)}return this.#i.getRealm({realmId:e.realm,isHidden:!1})}}},"./node_modules/chromium-bidi/lib/cjs/bidiMapper/modules/script/SharedId.js":(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSharedId=function(e,t,n){return`f.${e}.d.${t}.e.${n}`},t.parseSharedId=function(e){const t=function(e){const t=e.match(new RegExp(`(.*)${n}(.*)`));if(!t)return null;const r=t[1],o=t[2];if(void 0===r||void 0===o)return null;const i=parseInt(o??"");return isNaN(i)?null:{documentId:r,backendNodeId:i}}(e);if(null!==t)return{...t,frameId:void 0};const r=e.match(/f\.(.*)\.d\.(.*)\.e\.([0-9]*)/);if(!r)return null;const o=r[1],i=r[2],s=r[3];if(void 0===o||void 0===i||void 0===s)return null;const a=parseInt(s??"");return isNaN(a)?null:{frameId:o,documentId:i,backendNodeId:a}};const n="_element_"},"./node_modules/chromium-bidi/lib/cjs/bidiMapper/modules/script/WindowRealm.js":(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WindowRealm=void 0;const r=n("./node_modules/chromium-bidi/lib/cjs/protocol/protocol.js"),o=n("./node_modules/chromium-bidi/lib/cjs/bidiMapper/modules/script/Realm.js"),i=n("./node_modules/chromium-bidi/lib/cjs/bidiMapper/modules/script/SharedId.js");class s extends o.Realm{#nt;#o;sandbox;constructor(e,t,n,r,o,i,s,a,l,c){super(n,r,o,i,s,a,l),this.#nt=e,this.#o=t,this.sandbox=c,this.initialize()}#pr(e){const t=this.#o.getAllContexts().find(t=>t.navigableId===e);return t?.id??"UNKNOWN"}get browsingContext(){return this.#o.getContext(this.#nt)}isHidden(){return this.realmStorage.hiddenSandboxes.has(this.sandbox)}get associatedBrowsingContexts(){return[this.browsingContext]}get realmType(){return"window"}get realmInfo(){return{...this.baseInfo,type:this.realmType,context:this.#nt,sandbox:this.sandbox}}get source(){return{realm:this.realmId,context:this.browsingContext.id}}serializeForBiDi(e,t){const n=e.value;if("node"===e.type&&void 0!==n){if(Object.hasOwn(n,"backendNodeId")){let t=this.browsingContext.navigableId??"UNKNOWN";Object.hasOwn(n,"loaderId")&&(t=n.loaderId,delete n.loaderId),e.sharedId=(0,i.getSharedId)(this.#pr(t),t,n.backendNodeId),delete n.backendNodeId}if(Object.hasOwn(n,"children"))for(const e in n.children)n.children[e]=this.serializeForBiDi(n.children[e],t);Object.hasOwn(n,"shadowRoot")&&null!==n.shadowRoot&&(n.shadowRoot=this.serializeForBiDi(n.shadowRoot,t)),""===n.namespaceURI&&(n.namespaceURI=null)}return super.serializeForBiDi(e,t)}async deserializeForCdp(e){if("sharedId"in e&&e.sharedId){const t=(0,i.parseSharedId)(e.sharedId);if(null===t)throw new r.NoSuchNodeException(`SharedId "${e.sharedId}" was not found.`);const{documentId:n,backendNodeId:o}=t;if(this.browsingContext.navigableId!==n)throw new r.NoSuchNodeException(`SharedId "${e.sharedId}" belongs to different document. Current document is ${this.browsingContext.navigableId}.`);try{const{object:e}=await this.cdpClient.sendCommand("DOM.resolveNode",{backendNodeId:o,executionContextId:this.executionContextId});return{objectId:e.objectId}}catch(t){if(-32e3===t.code&&"No node with given id found"===t.message)throw new r.NoSuchNodeException(`SharedId "${e.sharedId}" was not found.`);throw new r.UnknownErrorException(t.message,t.stack)}}return await super.deserializeForCdp(e)}async evaluate(e,t,n,r,o,i){return await this.#o.getContext(this.#nt).targetUnblockedOrThrow(),await super.evaluate(e,t,n,r,o,i)}async callFunction(e,t,n,r,o,i,s){return await this.#o.getContext(this.#nt).targetUnblockedOrThrow(),await super.callFunction(e,t,n,r,o,i,s)}}t.WindowRealm=s},"./node_modules/chromium-bidi/lib/cjs/bidiMapper/modules/script/WorkerRealm.js":(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WorkerRealm=void 0;const r=n("./node_modules/chromium-bidi/lib/cjs/bidiMapper/modules/script/Realm.js");class o extends r.Realm{#fr;#mr;constructor(e,t,n,r,o,i,s,a,l){super(e,t,n,r,o,s,a),this.#mr=i,this.#fr=l,this.initialize()}get associatedBrowsingContexts(){return this.#mr.flatMap(e=>e.associatedBrowsingContexts)}get realmType(){return this.#fr}get source(){return{realm:this.realmId,context:this.associatedBrowsingContexts[0]?.id}}get realmInfo(){const e=this.#mr.map(e=>e.realmId),{realmType:t}=this;switch(t){case"dedicated-worker":{const n=e[0];if(void 0===n||1!==e.length)throw new Error("Dedicated worker must have exactly one owner");return{...this.baseInfo,type:t,owners:[n]}}case"service-worker":case"shared-worker":return{...this.baseInfo,type:t}}}}t.WorkerRealm=o},"./node_modules/chromium-bidi/lib/cjs/bidiMapper/modules/session/EventManager.js":(e,t,n)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.EventManager=void 0;const o=n("./node_modules/chromium-bidi/lib/cjs/protocol/protocol.js"),i=n("./node_modules/chromium-bidi/lib/cjs/utils/Buffer.js"),s=n("./node_modules/chromium-bidi/lib/cjs/utils/DefaultMap.js"),a=n("./node_modules/chromium-bidi/lib/cjs/utils/EventEmitter.js"),l=n("./node_modules/chromium-bidi/lib/cjs/utils/IdWrapper.js"),c=n("./node_modules/chromium-bidi/lib/cjs/bidiMapper/OutgoingMessage.js"),u=n("./node_modules/chromium-bidi/lib/cjs/bidiMapper/modules/session/events.js"),d=n("./node_modules/chromium-bidi/lib/cjs/bidiMapper/modules/session/SubscriptionManager.js");class h{#gr=new l.IdWrapper;#gt;#br;constructor(e,t){this.#br=e,this.#gt=t}get id(){return this.#gr.id}get contextId(){return this.#gt}get event(){return this.#br}}const p=new Map([[o.ChromiumBidi.Log.EventNames.LogEntryAdded,100]]);class f extends a.EventEmitter{#wr=new s.DefaultMap(()=>new Set);#yr=new Map;#vr=new Map;#Ar;#o;#_r;#D;constructor(e,t){super(),this.#o=e,this.#D=t,this.#Ar=new d.SubscriptionManager(e),this.#_r=new s.DefaultMap(()=>[])}get subscriptionManager(){return this.#Ar}static#xr(e,t){return JSON.stringify({eventName:e,browsingContext:t})}addSubscribeHook(e,t){this.#_r.get(e).push(t)}registerEvent(e,t){this.registerPromiseEvent(Promise.resolve({kind:"success",value:e}),t,e.method)}registerGlobalEvent(e){this.registerGlobalPromiseEvent(Promise.resolve({kind:"success",value:e}),e.method)}registerPromiseEvent(e,t,n){const r=new h(e,t),o=this.#Ar.getGoogChannelsSubscribedToEvent(n,t);this.#Sr(r,n);for(const t of o)this.emit("event",{message:c.OutgoingMessage.createFromPromise(e,t),event:n}),this.#Er(r,t,n)}registerGlobalPromiseEvent(e,t){const n=new h(e,null),r=this.#Ar.getGoogChannelsSubscribedToEventGlobally(t);this.#Sr(n,t);for(const o of r)this.emit("event",{message:c.OutgoingMessage.createFromPromise(e,o),event:t}),this.#Er(n,o,t)}async subscribe(e,t,n,r){for(const t of e)(0,u.assertSupportedEvent)(t);if(n.length&&t.length)throw new o.InvalidArgumentException("Both userContexts and contexts cannot be specified.");this.#o.verifyContextsList(t),await this.#D.verifyUserContextIdList(n);const i=new Set((0,d.unrollEvents)(e)),s=new Map,a=new Set(t.length?t.map(e=>{const t=this.#o.findTopLevelContextId(e);if(!t)throw new o.InvalidArgumentException("Invalid context id");return t}):this.#o.getTopLevelContexts().map(e=>e.id));for(const e of i){const t=new Set(this.#o.getTopLevelContexts().map(e=>e.id).filter(t=>this.#Ar.isSubscribedTo(e,t)));s.set(e,(0,d.difference)(a,t))}const l=this.#Ar.subscribe(e,t,n,r);for(const e of l.eventNames)for(const t of a)for(const n of this.#Cr(e,t,r))this.emit("event",{message:c.OutgoingMessage.createFromPromise(n.event,r),event:e}),this.#Er(n,r,e);for(const[e,t]of s)for(const n of t)this.#_r.get(e).forEach(e=>e(n));return await this.toggleModulesIfNeeded(),l.id}async unsubscribe(e,t){for(const t of e)(0,u.assertSupportedEvent)(t);this.#Ar.unsubscribe(e,t),await this.toggleModulesIfNeeded()}async unsubscribeByIds(e){this.#Ar.unsubscribeById(e),await this.toggleModulesIfNeeded()}async toggleModulesIfNeeded(){await Promise.all(this.#o.getAllContexts().map(async e=>await e.toggleModulesIfNeeded()))}clearBufferedEvents(e){for(const t of p.keys()){const n=r.#xr(t,e);this.#yr.delete(n)}}#Sr(e,t){if(!p.has(t))return;const n=r.#xr(t,e.contextId);this.#yr.has(n)||this.#yr.set(n,new i.Buffer(p.get(t))),this.#yr.get(n).add(e),this.#wr.get(t).add(e.contextId)}#Er(e,t,n){if(!p.has(n))return;const o=r.#xr(n,e.contextId),i=Math.max(this.#vr.get(o)?.get(t)??0,e.id),s=this.#vr.get(o);s?s.set(t,i):this.#vr.set(o,new Map([[t,i]]))}#Cr(e,t,n){const o=r.#xr(e,t),i=this.#vr.get(o)?.get(n)??-1/0,s=this.#yr.get(o)?.get().filter(e=>e.id>i)??[];return null===t&&Array.from(this.#wr.get(e).keys()).filter(e=>null!==e&&this.#o.hasContext(e)).map(t=>this.#Cr(e,t,n)).forEach(e=>s.push(...e)),s.sort((e,t)=>e.id-t.id)}}t.EventManager=f,r=f},"./node_modules/chromium-bidi/lib/cjs/bidiMapper/modules/session/SessionProcessor.js":(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SessionProcessor=void 0;const r=n("./node_modules/chromium-bidi/lib/cjs/protocol/protocol.js");t.SessionProcessor=class{#r;#h;#kr;#Or=!1;constructor(e,t,n){this.#r=e,this.#h=t,this.#kr=n}status(){return{ready:!1,message:"already connected"}}#Tr(e){const t=[];for(const n of e.firstMatch??[{}]){const o={...e.alwaysMatch};for(const e of Object.keys(n)){if(void 0!==o[e])throw new r.InvalidArgumentException(`Capability ${e} in firstMatch is already defined in alwaysMatch`);o[e]=n[e]}t.push(o)}const n=t.find(e=>"chrome"===e.browserName)??t[0]??{};return n.unhandledPromptBehavior=this.#Ir(n.unhandledPromptBehavior),n}#Ir(e){if(void 0!==e){if("object"==typeof e)return e;if("string"!=typeof e)throw new r.InvalidArgumentException("Unexpected 'unhandledPromptBehavior' type: "+typeof e);switch(e){case"accept":case"accept and notify":return{default:"accept",beforeUnload:"accept"};case"dismiss":case"dismiss and notify":return{default:"dismiss",beforeUnload:"accept"};case"ignore":return{default:"ignore",beforeUnload:"accept"};default:throw new r.InvalidArgumentException(`Unexpected 'unhandledPromptBehavior' value: ${e}`)}}}async new(e){if(this.#Or)throw new Error("Session has been already created.");this.#Or=!0;const t=this.#Tr(e.capabilities);await this.#kr(t);const n=await this.#h.sendCommand("Browser.getVersion");return{sessionId:"unknown",capabilities:{...t,acceptInsecureCerts:t.acceptInsecureCerts??!1,browserName:n.product,browserVersion:n.revision,platformName:"",setWindowRect:!1,webSocketUrl:"",userAgent:n.userAgent}}}async subscribe(e,t=null){return{subscription:await this.#r.subscribe(e.events,e.contexts??[],e.userContexts??[],t)}}async unsubscribe(e,t=null){return"subscriptions"in e?(await this.#r.unsubscribeByIds(e.subscriptions),{}):(await this.#r.unsubscribe(e.events,t),{})}}},"./node_modules/chromium-bidi/lib/cjs/bidiMapper/modules/session/SubscriptionManager.js":(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SubscriptionManager=void 0,t.cartesianProduct=function(...e){return e.reduce((e,t)=>e.flatMap(e=>t.map(t=>[e,t].flat())))},t.unrollEvents=i,t.difference=a;const r=n("./node_modules/chromium-bidi/lib/cjs/protocol/protocol.js"),o=n("./node_modules/chromium-bidi/lib/cjs/utils/uuid.js");function i(e){const t=new Set;function n(e){for(const n of e)t.add(n)}for(const o of e)switch(o){case r.ChromiumBidi.BiDiModule.Bluetooth:n(Object.values(r.ChromiumBidi.Bluetooth.EventNames));break;case r.ChromiumBidi.BiDiModule.BrowsingContext:n(Object.values(r.ChromiumBidi.BrowsingContext.EventNames));break;case r.ChromiumBidi.BiDiModule.Input:n(Object.values(r.ChromiumBidi.Input.EventNames));break;case r.ChromiumBidi.BiDiModule.Log:n(Object.values(r.ChromiumBidi.Log.EventNames));break;case r.ChromiumBidi.BiDiModule.Network:n(Object.values(r.ChromiumBidi.Network.EventNames));break;case r.ChromiumBidi.BiDiModule.Script:n(Object.values(r.ChromiumBidi.Script.EventNames));break;default:t.add(o)}return t.values()}function s(e,t){const n=new Set;for(const r of e)t.has(r)&&n.add(r);return n}function a(e,t){const n=new Set;for(const r of e)t.has(r)||n.add(r);return n}t.SubscriptionManager=class{#Br=[];#Mr=new Set;#o;constructor(e){this.#o=e}getGoogChannelsSubscribedToEvent(e,t){const n=new Set;for(const r of this.#Br)this.#Pr(r,e,t)&&n.add(r.googChannel);return Array.from(n)}getGoogChannelsSubscribedToEventGlobally(e){const t=new Set;for(const n of this.#Br)this.#Pr(n,e)&&t.add(n.googChannel);return Array.from(t)}#Pr(e,t,n){let r=!1;for(const n of e.eventNames)if(n===t||n===t.split(".").at(0)||n.split(".").at(0)===t){r=!0;break}if(!r)return!1;if(0!==e.userContextIds.size){if(!n)return!1;const t=this.#o.findContext(n);return!!t&&e.userContextIds.has(t.userContext)}if(0!==e.topLevelTraversableIds.size){if(!n)return!1;const t=this.#o.findTopLevelContextId(n);return null!==t&&e.topLevelTraversableIds.has(t)}return!0}isSubscribedTo(e,t){for(const n of this.#Br)if(this.#Pr(n,e,t))return!0;return!1}subscribe(e,t,n,s){const a={id:(0,o.uuidv4)(),eventNames:new Set(i(e)),topLevelTraversableIds:new Set(t.map(e=>{const t=this.#o.findTopLevelContextId(e);if(!t)throw new r.NoSuchFrameException(`Top-level navigable not found for context id ${e}`);return t})),userContextIds:new Set(n),googChannel:s};return this.#Br.push(a),this.#Mr.add(a.id),a}unsubscribe(e,t){const n=new Set(i(e)),o=[],a=new Set;for(const e of this.#Br){if(e.googChannel!==t){o.push(e);continue}if(0!==e.userContextIds.size){o.push(e);continue}if(0===s(e.eventNames,n).size){o.push(e);continue}if(0!==e.topLevelTraversableIds.size){o.push(e);continue}const r=new Set(e.eventNames);for(const e of n)r.has(e)&&(a.add(e),r.delete(e));0!==r.size&&o.push({...e,eventNames:r})}if(!function(e,t){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}(a,n))throw new r.InvalidArgumentException("No subscription found");this.#Br=o}unsubscribeById(e){const t=new Set(e);if(0!==a(t,this.#Mr).size)throw new r.InvalidArgumentException("No subscription found");this.#Br=this.#Br.filter(e=>!t.has(e.id)),this.#Mr=a(this.#Mr,t)}}},"./node_modules/chromium-bidi/lib/cjs/bidiMapper/modules/session/events.js":(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isCdpEvent=o,t.assertSupportedEvent=function(e){if(!r.ChromiumBidi.EVENT_NAMES.has(e)&&!o(e))throw new r.InvalidArgumentException(`Unknown event: ${e}`)};const r=n("./node_modules/chromium-bidi/lib/cjs/protocol/protocol.js");function o(e){return e.split(".").at(0)?.startsWith(r.ChromiumBidi.BiDiModule.Cdp)??!1}},"./node_modules/chromium-bidi/lib/cjs/bidiMapper/modules/storage/StorageProcessor.js":(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StorageProcessor=void 0;const r=n("./node_modules/chromium-bidi/lib/cjs/protocol/protocol.js"),o=n("./node_modules/chromium-bidi/lib/cjs/utils/assert.js"),i=n("./node_modules/chromium-bidi/lib/cjs/utils/log.js"),s=n("./node_modules/chromium-bidi/lib/cjs/bidiMapper/modules/network/NetworkProcessor.js"),a=n("./node_modules/chromium-bidi/lib/cjs/bidiMapper/modules/network/NetworkUtils.js");t.StorageProcessor=class{#h;#o;#l;constructor(e,t,n){this.#o=t,this.#h=e,this.#l=n}async deleteCookies(e){const t=this.#jr(e.partition);let n;try{n=await this.#h.sendCommand("Storage.getCookies",{browserContextId:this.#Nr(t)})}catch(e){if(this.#Fr(e))throw new r.NoSuchUserContextException(e.message);throw e}const o=n.cookies.filter(e=>void 0===t.sourceOrigin||e.partitionKey?.topLevelSite===t.sourceOrigin).filter(t=>{const n=(0,a.cdpToBiDiCookie)(t);return this.#Dr(n,e.filter)}).map(e=>({...e,expires:1}));return await this.#h.sendCommand("Storage.setCookies",{cookies:o,browserContextId:this.#Nr(t)}),{partitionKey:t}}async getCookies(e){const t=this.#jr(e.partition);let n;try{n=await this.#h.sendCommand("Storage.getCookies",{browserContextId:this.#Nr(t)})}catch(e){if(this.#Fr(e))throw new r.NoSuchUserContextException(e.message);throw e}return{cookies:n.cookies.filter(e=>void 0===t.sourceOrigin||e.partitionKey?.topLevelSite===t.sourceOrigin).map(e=>(0,a.cdpToBiDiCookie)(e)).filter(t=>this.#Dr(t,e.filter)),partitionKey:t}}async setCookie(e){const t=this.#jr(e.partition),n=(0,a.bidiToCdpCookie)(e,t);try{await this.#h.sendCommand("Storage.setCookies",{cookies:[n],browserContextId:this.#Nr(t)})}catch(e){if(this.#Fr(e))throw new r.NoSuchUserContextException(e.message);throw this.#l?.(i.LogType.debugError,e),new r.UnableToSetCookieException(e.toString())}return{partitionKey:t}}#Fr(e){return e.message?.startsWith("Failed to find browser context for id")}#Nr(e){return"default"===e.userContext?void 0:e.userContext}#Rr(e){const t=e.context;return{userContext:this.#o.getContext(t).userContext}}#Lr(e){const t=new Map;let n=e.sourceOrigin;if(void 0!==n){const e=s.NetworkProcessor.parseUrlString(n);n="null"===e.origin?e.origin:`${e.protocol}//${e.hostname}`}for(const[n,r]of Object.entries(e))void 0===n||void 0===r||["type","sourceOrigin","userContext"].includes(n)||t.set(n,r);return t.size>0&&this.#l?.(i.LogType.debugInfo,`Unsupported partition keys: ${JSON.stringify(Object.fromEntries(t))}`),{userContext:e.userContext??"default",...void 0===n?{}:{sourceOrigin:n}}}#jr(e){return void 0===e?{userContext:"default"}:"context"===e.type?this.#Rr(e):((0,o.assert)("storageKey"===e.type,"Unknown partition type"),this.#Lr(e))}#Dr(e,t){return void 0===t||!(void 0!==t.domain&&t.domain!==e.domain||void 0!==t.name&&t.name!==e.name||void 0!==t.value&&(0,a.deserializeByteValue)(t.value)!==(0,a.deserializeByteValue)(e.value)||void 0!==t.path&&t.path!==e.path||void 0!==t.size&&t.size!==e.size||void 0!==t.httpOnly&&t.httpOnly!==e.httpOnly||void 0!==t.secure&&t.secure!==e.secure||void 0!==t.sameSite&&t.sameSite!==e.sameSite||void 0!==t.expiry&&t.expiry!==e.expiry)}}},"./node_modules/chromium-bidi/lib/cjs/bidiMapper/modules/webExtension/WebExtensionProcessor.js":(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WebExtensionProcessor=void 0;const r=n("./node_modules/chromium-bidi/lib/cjs/protocol/protocol.js");t.WebExtensionProcessor=class{#h;constructor(e){this.#h=e}async install(e){switch(e.extensionData.type){case"archivePath":case"base64":throw new r.UnsupportedOperationException("Archived and Base64 extensions are not supported")}try{return{extension:(await this.#h.sendCommand("Extensions.loadUnpacked",{path:e.extensionData.path})).id}}catch(e){if(e.message.startsWith("invalid web extension"))throw new r.InvalidWebExtensionException(e.message);throw e}}async uninstall(e){try{return await this.#h.sendCommand("Extensions.uninstall",{id:e.extension}),{}}catch(e){if("Uninstall failed. Reason: could not find extension."===e.message)throw new r.NoSuchWebExtensionException("no such web extension");throw e}}}},"./node_modules/chromium-bidi/lib/cjs/cdp/CdpClient.js":(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MapperCdpClient=t.CloseError=void 0;const r=n("./node_modules/chromium-bidi/lib/cjs/utils/EventEmitter.js");class o extends Error{}t.CloseError=o;class i extends r.EventEmitter{#W;#zr;constructor(e,t){super(),this.#W=e,this.#zr=t}get sessionId(){return this.#zr}sendCommand(e,...t){return this.#W.sendCommand(e,t[0],this.#zr)}isCloseError(e){return e instanceof o}}t.MapperCdpClient=i},"./node_modules/chromium-bidi/lib/cjs/cdp/CdpConnection.js":(e,t,n)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.MapperCdpConnection=void 0;const o=n("./node_modules/chromium-bidi/lib/cjs/utils/log.js"),i=n("./node_modules/chromium-bidi/lib/cjs/cdp/CdpClient.js");class s{static LOGGER_PREFIX_RECV=`${o.LogType.cdp}:RECV `;static LOGGER_PREFIX_SEND=`${o.LogType.cdp}:SEND `;#Hr;#t;#Ur=new Map;#Qr=new Map;#l;#qr=0;constructor(e,t){this.#t=e,this.#l=t,this.#t.setOnMessage(this.#Wr),this.#Hr=this.#$r(void 0)}close(){this.#t.close();for(const[,{reject:e,error:t}]of this.#Qr)e(t);this.#Qr.clear(),this.#Ur.clear()}async createBrowserSession(){const{sessionId:e}=await this.#Hr.sendCommand("Target.attachToBrowserTarget");return this.#$r(e)}getCdpClient(e){const t=this.#Ur.get(e);if(!t)throw new Error(`Unknown CDP session ID: ${e}`);return t}sendCommand(e,t,n){return new Promise((s,a)=>{const l=this.#qr++;this.#Qr.set(l,{sessionId:n,resolve:s,reject:a,error:new i.CloseError(`${e} ${JSON.stringify(t)} ${n??""} call rejected because the connection has been closed.`)});const c={id:l,method:e,params:t};n&&(c.sessionId=n),this.#t.sendMessage(JSON.stringify(c))?.catch(e=>{this.#l?.(o.LogType.debugError,e),this.#t.close()}),this.#l?.(r.LOGGER_PREFIX_SEND,c)})}#Wr=e=>{const t=JSON.parse(e);if(this.#l?.(r.LOGGER_PREFIX_RECV,t),"Target.attachedToTarget"===t.method){const{sessionId:e}=t.params;this.#$r(e)}if(void 0!==t.id){const e=this.#Qr.get(t.id);this.#Qr.delete(t.id),e&&(t.result?e.resolve(t.result):t.error&&e.reject(t.error))}else if(t.method){const e=this.#Ur.get(t.sessionId??void 0);if(e?.emit(t.method,t.params||{}),"Target.detachedFromTarget"===t.method){const{sessionId:e}=t.params,n=this.#Ur.get(e);n&&(this.#Ur.delete(e),n.removeAllListeners());for(const t of this.#Qr.values())t.sessionId===e&&t.reject(t.error)}}};#$r(e){const t=new i.MapperCdpClient(this,e);return this.#Ur.set(e,t),t}}t.MapperCdpConnection=s,r=s},"./node_modules/chromium-bidi/lib/cjs/protocol/ErrorResponse.js":(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UnavailableNetworkDataException=t.NoSuchNetworkDataException=t.NoSuchNetworkCollectorException=t.NoSuchWebExtensionException=t.InvalidWebExtensionException=t.UnderspecifiedStoragePartitionException=t.UnableToSetFileInputException=t.UnableToSetCookieException=t.NoSuchStoragePartitionException=t.UnsupportedOperationException=t.UnableToCloseBrowserException=t.UnableToCaptureScreenException=t.UnknownErrorException=t.UnknownCommandException=t.SessionNotCreatedException=t.NoSuchUserContextException=t.NoSuchScriptException=t.NoSuchRequestException=t.NoSuchNodeException=t.NoSuchInterceptException=t.NoSuchHistoryEntryException=t.NoSuchHandleException=t.NoSuchFrameException=t.NoSuchElementException=t.NoSuchAlertException=t.MoveTargetOutOfBoundsException=t.InvalidSessionIdException=t.InvalidSelectorException=t.InvalidArgumentException=t.Exception=void 0;class n extends Error{error;message;stacktrace;constructor(e,t,n){super(),this.error=e,this.message=t,this.stacktrace=n}toErrorResponse(e){return{type:"error",id:e,error:this.error,message:this.message,stacktrace:this.stacktrace}}}t.Exception=n,t.InvalidArgumentException=class extends n{constructor(e,t){super("invalid argument",e,t)}},t.InvalidSelectorException=class extends n{constructor(e,t){super("invalid selector",e,t)}},t.InvalidSessionIdException=class extends n{constructor(e,t){super("invalid session id",e,t)}},t.MoveTargetOutOfBoundsException=class extends n{constructor(e,t){super("move target out of bounds",e,t)}},t.NoSuchAlertException=class extends n{constructor(e,t){super("no such alert",e,t)}},t.NoSuchElementException=class extends n{constructor(e,t){super("no such element",e,t)}},t.NoSuchFrameException=class extends n{constructor(e,t){super("no such frame",e,t)}},t.NoSuchHandleException=class extends n{constructor(e,t){super("no such handle",e,t)}},t.NoSuchHistoryEntryException=class extends n{constructor(e,t){super("no such history entry",e,t)}},t.NoSuchInterceptException=class extends n{constructor(e,t){super("no such intercept",e,t)}},t.NoSuchNodeException=class extends n{constructor(e,t){super("no such node",e,t)}},t.NoSuchRequestException=class extends n{constructor(e,t){super("no such request",e,t)}},t.NoSuchScriptException=class extends n{constructor(e,t){super("no such script",e,t)}},t.NoSuchUserContextException=class extends n{constructor(e,t){super("no such user context",e,t)}},t.SessionNotCreatedException=class extends n{constructor(e,t){super("session not created",e,t)}},t.UnknownCommandException=class extends n{constructor(e,t){super("unknown command",e,t)}},t.UnknownErrorException=class extends n{constructor(e,t=(new Error).stack){super("unknown error",e,t)}},t.UnableToCaptureScreenException=class extends n{constructor(e,t){super("unable to capture screen",e,t)}},t.UnableToCloseBrowserException=class extends n{constructor(e,t){super("unable to close browser",e,t)}},t.UnsupportedOperationException=class extends n{constructor(e,t){super("unsupported operation",e,t)}},t.NoSuchStoragePartitionException=class extends n{constructor(e,t){super("no such storage partition",e,t)}},t.UnableToSetCookieException=class extends n{constructor(e,t){super("unable to set cookie",e,t)}},t.UnableToSetFileInputException=class extends n{constructor(e,t){super("unable to set file input",e,t)}},t.UnderspecifiedStoragePartitionException=class extends n{constructor(e,t){super("underspecified storage partition",e,t)}},t.InvalidWebExtensionException=class extends n{constructor(e,t){super("invalid web extension",e,t)}},t.NoSuchWebExtensionException=class extends n{constructor(e,t){super("no such web extension",e,t)}},t.NoSuchNetworkCollectorException=class extends n{constructor(e,t){super("no such network collector",e,t)}},t.NoSuchNetworkDataException=class extends n{constructor(e,t){super("no such network data",e,t)}},t.UnavailableNetworkDataException=class extends n{constructor(e,t){super("unavailable network data",e,t)}}},"./node_modules/chromium-bidi/lib/cjs/protocol/cdp.js":(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},"./node_modules/chromium-bidi/lib/cjs/protocol/chromium-bidi.js":(e,t)=>{"use strict";var n,r,o,i,s,a,l,c;Object.defineProperty(t,"__esModule",{value:!0}),t.EVENT_NAMES=t.Speculation=t.Bluetooth=t.Network=t.Input=t.BrowsingContext=t.Log=t.Script=t.BiDiModule=void 0,function(e){e.Bluetooth="bluetooth",e.Browser="browser",e.BrowsingContext="browsingContext",e.Cdp="goog:cdp",e.Input="input",e.Log="log",e.Network="network",e.Script="script",e.Session="session"}(n||(t.BiDiModule=n={})),function(e){let t;!function(e){e.Message="script.message",e.RealmCreated="script.realmCreated",e.RealmDestroyed="script.realmDestroyed"}(t=e.EventNames||(e.EventNames={}))}(r||(t.Script=r={})),function(e){let t;!function(e){e.LogEntryAdded="log.entryAdded"}(t=e.EventNames||(e.EventNames={}))}(o||(t.Log=o={})),function(e){let t;!function(e){e.ContextCreated="browsingContext.contextCreated",e.ContextDestroyed="browsingContext.contextDestroyed",e.DomContentLoaded="browsingContext.domContentLoaded",e.DownloadEnd="browsingContext.downloadEnd",e.DownloadWillBegin="browsingContext.downloadWillBegin",e.FragmentNavigated="browsingContext.fragmentNavigated",e.HistoryUpdated="browsingContext.historyUpdated",e.Load="browsingContext.load",e.NavigationAborted="browsingContext.navigationAborted",e.NavigationCommitted="browsingContext.navigationCommitted",e.NavigationFailed="browsingContext.navigationFailed",e.NavigationStarted="browsingContext.navigationStarted",e.UserPromptClosed="browsingContext.userPromptClosed",e.UserPromptOpened="browsingContext.userPromptOpened"}(t=e.EventNames||(e.EventNames={}))}(i||(t.BrowsingContext=i={})),function(e){let t;!function(e){e.FileDialogOpened="input.fileDialogOpened"}(t=e.EventNames||(e.EventNames={}))}(s||(t.Input=s={})),function(e){let t;!function(e){e.AuthRequired="network.authRequired",e.BeforeRequestSent="network.beforeRequestSent",e.FetchError="network.fetchError",e.ResponseCompleted="network.responseCompleted",e.ResponseStarted="network.responseStarted"}(t=e.EventNames||(e.EventNames={}))}(a||(t.Network=a={})),function(e){let t;!function(e){e.RequestDevicePromptUpdated="bluetooth.requestDevicePromptUpdated",e.GattConnectionAttempted="bluetooth.gattConnectionAttempted",e.CharacteristicEventGenerated="bluetooth.characteristicEventGenerated",e.DescriptorEventGenerated="bluetooth.descriptorEventGenerated"}(t=e.EventNames||(e.EventNames={}))}(l||(t.Bluetooth=l={})),function(e){let t;!function(e){e.PrefetchStatusUpdated="speculation.prefetchStatusUpdated"}(t=e.EventNames||(e.EventNames={}))}(c||(t.Speculation=c={})),t.EVENT_NAMES=new Set([...Object.values(n),...Object.values(l.EventNames),...Object.values(i.EventNames),...Object.values(s.EventNames),...Object.values(o.EventNames),...Object.values(a.EventNames),...Object.values(r.EventNames),...Object.values(c.EventNames)])},"./node_modules/chromium-bidi/lib/cjs/protocol/generated/webdriver-bidi-bluetooth.js":(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},"./node_modules/chromium-bidi/lib/cjs/protocol/generated/webdriver-bidi-permissions.js":(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},"./node_modules/chromium-bidi/lib/cjs/protocol/generated/webdriver-bidi.js":(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},"./node_modules/chromium-bidi/lib/cjs/protocol/protocol.js":function(e,t,n){"use strict";var r,o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||(r=function(e){return r=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},r(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n=r(e),s=0;s<n.length;s++)"default"!==n[s]&&o(t,e,n[s]);return i(t,e),t}),a=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||o(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.ChromiumBidi=t.Cdp=void 0,t.Cdp=s(n("./node_modules/chromium-bidi/lib/cjs/protocol/cdp.js")),t.ChromiumBidi=s(n("./node_modules/chromium-bidi/lib/cjs/protocol/chromium-bidi.js")),a(n("./node_modules/chromium-bidi/lib/cjs/protocol/generated/webdriver-bidi.js"),t),a(n("./node_modules/chromium-bidi/lib/cjs/protocol/ErrorResponse.js"),t),a(n("./node_modules/chromium-bidi/lib/cjs/protocol/generated/webdriver-bidi-permissions.js"),t),a(n("./node_modules/chromium-bidi/lib/cjs/protocol/generated/webdriver-bidi-bluetooth.js"),t)},"./node_modules/chromium-bidi/lib/cjs/utils/Buffer.js":(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Buffer=void 0,t.Buffer=class{#Gr;#Vr=[];#Yr;constructor(e,t){this.#Gr=e,this.#Yr=t}get(){return this.#Vr}add(e){for(this.#Vr.push(e);this.#Vr.length>this.#Gr;){const e=this.#Vr.shift();void 0!==e&&this.#Yr?.(e)}}}},"./node_modules/chromium-bidi/lib/cjs/utils/DefaultMap.js":(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultMap=void 0;class n extends Map{#Jr;constructor(e,t){super(t),this.#Jr=e}get(e){return this.has(e)||this.set(e,this.#Jr(e)),super.get(e)}}t.DefaultMap=n},"./node_modules/chromium-bidi/lib/cjs/utils/Deferred.js":(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Deferred=void 0;class n{#Kr=!1;#Xr;#Zr;#eo;#to;get isFinished(){return this.#Kr}get result(){if(!this.#Kr)throw new Error("Deferred is not finished yet");return this.#Zr}constructor(){this.#Xr=new Promise((e,t)=>{this.#eo=e,this.#to=t}),this.#Xr.catch(e=>{})}then(e,t){return this.#Xr.then(e,t)}catch(e){return this.#Xr.catch(e)}resolve(e){this.#Zr=e,this.#Kr||(this.#Kr=!0,this.#eo(e))}reject(e){this.#Kr||(this.#Kr=!0,this.#to(e))}finally(e){return this.#Xr.finally(e)}[Symbol.toStringTag]="Promise"}t.Deferred=n},"./node_modules/chromium-bidi/lib/cjs/utils/EventEmitter.js":function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.EventEmitter=void 0;const o=r(n("./node_modules/mitt/dist/mitt.mjs"));t.EventEmitter=class{#no=(0,o.default)();on(e,t){return this.#no.on(e,t),this}once(e,t){const n=r=>{t(r),this.off(e,n)};return this.on(e,n)}off(e,t){return this.#no.off(e,t),this}emit(e,t){this.#no.emit(e,t)}removeAllListeners(e){return e?this.#no.all.delete(e):this.#no.all.clear(),this}}},"./node_modules/chromium-bidi/lib/cjs/utils/IdWrapper.js":(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IdWrapper=void 0;class n{static#ro=0;#$;constructor(){this.#$=++n.#ro}get id(){return this.#$}}t.IdWrapper=n},"./node_modules/chromium-bidi/lib/cjs/utils/Mutex.js":(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Mutex=void 0,t.Mutex=class{#oo=!1;#io=[];acquire(){const e={resolved:!1};return this.#oo?new Promise(t=>{this.#io.push(()=>t(this.#so.bind(this,e)))}):(this.#oo=!0,Promise.resolve(this.#so.bind(this,e)))}#so(e){if(e.resolved)throw new Error("Cannot release more than once.");e.resolved=!0;const t=this.#io.shift();t?t():this.#oo=!1}async run(e){const t=await this.acquire();try{return await e()}finally{t()}}}},"./node_modules/chromium-bidi/lib/cjs/utils/ProcessingQueue.js":(e,t,n)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.ProcessingQueue=void 0;const o=n("./node_modules/chromium-bidi/lib/cjs/utils/log.js");class i{static LOGGER_PREFIX=`${o.LogType.debug}:queue`;#l;#ao;#lo=[];#co=!1;constructor(e,t){this.#ao=e,this.#l=t}add(e,t){this.#lo.push([e,t]),this.#uo()}async#uo(){if(!this.#co){for(this.#co=!0;this.#lo.length>0;){const e=this.#lo.shift();if(!e)continue;const[t,n]=e;this.#l?.(r.LOGGER_PREFIX,"Processing event:",n),await t.then(e=>{if("error"!==e.kind)return this.#ao(e.value);this.#l?.(o.LogType.debugError,"Event threw before sending:",e.error.message,e.error.stack)}).catch(e=>{this.#l?.(o.LogType.debugError,"Event was not processed:",e?.message)})}this.#co=!1}}}t.ProcessingQueue=i,r=i},"./node_modules/chromium-bidi/lib/cjs/utils/assert.js":(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.assert=function(e,t){if(!e)throw new Error(t??"Internal assertion failed.")}},"./node_modules/chromium-bidi/lib/cjs/utils/base64.js":(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.base64ToString=function(e){return"atob"in globalThis?globalThis.atob(e):Buffer.from(e,"base64").toString("ascii")}},"./node_modules/chromium-bidi/lib/cjs/utils/graphemeTools.js":(e,t)=>{"use strict";function n(e){return 1===[...new Intl.Segmenter("en",{granularity:"grapheme"}).segment(e)].length}Object.defineProperty(t,"__esModule",{value:!0}),t.isSingleComplexGrapheme=function(e){return n(e)&&e.length>1},t.isSingleGrapheme=n},"./node_modules/chromium-bidi/lib/cjs/utils/log.js":(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.LogType=void 0,function(e){e.bidi="bidi",e.cdp="cdp",e.debug="debug",e.debugError="debug:error",e.debugInfo="debug:info",e.debugWarn="debug:warn"}(n||(t.LogType=n={}))},"./node_modules/chromium-bidi/lib/cjs/utils/time.js":(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getTimestamp=function(){return(new Date).getTime()}},"./node_modules/chromium-bidi/lib/cjs/utils/unitConversions.js":(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.inchesFromCm=function(e){return e/2.54}},"./node_modules/chromium-bidi/lib/cjs/utils/urlHelpers.js":(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.urlMatchesAboutBlank=function(e){if(""===e)return!0;try{const t=new URL(e);return"about"===t.protocol.replace(/:$/,"").toLowerCase()&&"blank"===t.pathname.toLowerCase()&&""===t.username&&""===t.password&&""===t.host}catch(e){if(e instanceof TypeError)return!1;throw e}}},"./node_modules/chromium-bidi/lib/cjs/utils/uuid.js":(e,t,n)=>{"use strict";function r(e){return e.reduce((e,t)=>e+t.toString(16).padStart(2,"0"),"")}Object.defineProperty(t,"__esModule",{value:!0}),t.uuidv4=function(){if("crypto"in globalThis&&"randomUUID"in globalThis.crypto)return globalThis.crypto.randomUUID();const e=new Uint8Array(16);return"crypto"in globalThis&&"getRandomValues"in globalThis.crypto?globalThis.crypto.getRandomValues(e):n("crypto").webcrypto.getRandomValues(e),e[6]=15&e[6]|64,e[8]=63&e[8]|128,[r(e.subarray(0,4)),r(e.subarray(4,6)),r(e.subarray(6,8)),r(e.subarray(8,10)),r(e.subarray(10,16))].join("-")}},"./node_modules/fetch-blob/file.js":(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n("./node_modules/fetch-blob/index.js");const o=class extends r.A{#do=0;#ho="";constructor(e,t,n={}){if(arguments.length<2)throw new TypeError(`Failed to construct 'File': 2 arguments required, but only ${arguments.length} present.`);super(e,n),null===n&&(n={});const r=void 0===n.lastModified?Date.now():Number(n.lastModified);Number.isNaN(r)||(this.#do=r),this.#ho=String(t)}get name(){return this.#ho}get lastModified(){return this.#do}get[Symbol.toStringTag](){return"File"}static[Symbol.hasInstance](e){return!!e&&e instanceof r.A&&/^(File)$/.test(e[Symbol.toStringTag])}}},"./node_modules/fetch-blob/from.js":(e,t,n)=>{"use strict";n.d(t,{F8:()=>c,NX:()=>d,YQ:()=>a.A,ZH:()=>s.A,_M:()=>h,k4:()=>u});var r=n("node:fs"),o=n("node:path"),i=n("./node_modules/node-domexception/index.js"),s=n("./node_modules/fetch-blob/file.js"),a=n("./node_modules/fetch-blob/index.js");const{stat:l}=r.promises,c=(e,t)=>p((0,r.statSync)(e),e,t),u=(e,t)=>l(e).then(n=>p(n,e,t)),d=(e,t)=>l(e).then(n=>f(n,e,t)),h=(e,t)=>f((0,r.statSync)(e),e,t),p=(e,t,n="")=>new a.A([new m({path:t,size:e.size,lastModified:e.mtimeMs,start:0})],{type:n}),f=(e,t,n="")=>new s.A([new m({path:t,size:e.size,lastModified:e.mtimeMs,start:0})],(0,o.basename)(t),{type:n,lastModified:e.mtimeMs});class m{#po;#fo;constructor(e){this.#po=e.path,this.#fo=e.start,this.size=e.size,this.lastModified=e.lastModified}slice(e,t){return new m({path:this.#po,lastModified:this.lastModified,size:t-e,start:this.#fo+e})}async*stream(){const{mtimeMs:e}=await l(this.#po);if(e>this.lastModified)throw new i("The requested file could not be read, typically due to permission problems that have occurred after a reference to a file was acquired.","NotReadableError");yield*(0,r.createReadStream)(this.#po,{start:this.#fo,end:this.#fo+this.size-1})}get[Symbol.toStringTag](){return"Blob"}}},"./node_modules/fetch-blob/index.js":(e,t,n)=>{"use strict";async function*r(e,t=!0){for(const n of e)if("stream"in n)yield*n.stream();else if(ArrayBuffer.isView(n))if(t){let e=n.byteOffset;const t=n.byteOffset+n.byteLength;for(;e!==t;){const r=Math.min(t-e,65536),o=n.buffer.slice(e,e+r);e+=o.byteLength,yield new Uint8Array(o)}}else yield n;else{let e=0,t=n;for(;e!==t.size;){const n=t.slice(e,Math.min(t.size,e+65536)),r=await n.arrayBuffer();e+=r.byteLength,yield new Uint8Array(r)}}}n.d(t,{A:()=>i}),n("./node_modules/fetch-blob/streams.cjs");const o=class e{#mo=[];#go="";#bo=0;#wo="transparent";constructor(t=[],n={}){if("object"!=typeof t||null===t)throw new TypeError("Failed to construct 'Blob': The provided value cannot be converted to a sequence.");if("function"!=typeof t[Symbol.iterator])throw new TypeError("Failed to construct 'Blob': The object must have a callable @@iterator property.");if("object"!=typeof n&&"function"!=typeof n)throw new TypeError("Failed to construct 'Blob': parameter 2 cannot convert to dictionary.");null===n&&(n={});const r=new TextEncoder;for(const n of t){let t;t=ArrayBuffer.isView(n)?new Uint8Array(n.buffer.slice(n.byteOffset,n.byteOffset+n.byteLength)):n instanceof ArrayBuffer?new Uint8Array(n.slice(0)):n instanceof e?n:r.encode(`${n}`),this.#bo+=ArrayBuffer.isView(t)?t.byteLength:t.size,this.#mo.push(t)}this.#wo=`${void 0===n.endings?"transparent":n.endings}`;const o=void 0===n.type?"":String(n.type);this.#go=/^[\x20-\x7E]*$/.test(o)?o:""}get size(){return this.#bo}get type(){return this.#go}async text(){const e=new TextDecoder;let t="";for await(const n of r(this.#mo,!1))t+=e.decode(n,{stream:!0});return t+=e.decode(),t}async arrayBuffer(){const e=new Uint8Array(this.size);let t=0;for await(const n of r(this.#mo,!1))e.set(n,t),t+=n.length;return e.buffer}stream(){const e=r(this.#mo,!0);return new globalThis.ReadableStream({type:"bytes",async pull(t){const n=await e.next();n.done?t.close():t.enqueue(n.value)},async cancel(){await e.return()}})}slice(t=0,n=this.size,r=""){const{size:o}=this;let i=t<0?Math.max(o+t,0):Math.min(t,o),s=n<0?Math.max(o+n,0):Math.min(n,o);const a=Math.max(s-i,0),l=this.#mo,c=[];let u=0;for(const e of l){if(u>=a)break;const t=ArrayBuffer.isView(e)?e.byteLength:e.size;if(i&&t<=i)i-=t,s-=t;else{let n;ArrayBuffer.isView(e)?(n=e.subarray(i,Math.min(t,s)),u+=n.byteLength):(n=e.slice(i,Math.min(t,s)),u+=n.size),s-=t,c.push(n),i=0}}const d=new e([],{type:String(r).toLowerCase()});return d.#bo=a,d.#mo=c,d}get[Symbol.toStringTag](){return"Blob"}static[Symbol.hasInstance](e){return e&&"object"==typeof e&&"function"==typeof e.constructor&&("function"==typeof e.stream||"function"==typeof e.arrayBuffer)&&/^(Blob|File)$/.test(e[Symbol.toStringTag])}};Object.defineProperties(o.prototype,{size:{enumerable:!0},type:{enumerable:!0},slice:{enumerable:!0}});const i=o},"./node_modules/fetch-blob/streams.cjs":(e,t,n)=>{if(!globalThis.ReadableStream)try{const e=n("node:process"),{emitWarning:t}=e;try{e.emitWarning=()=>{},Object.assign(globalThis,n("node:stream/web")),e.emitWarning=t}catch(n){throw e.emitWarning=t,n}}catch(e){Object.assign(globalThis,n("./node_modules/web-streams-polyfill/dist/ponyfill.es2018.js"))}try{const{Blob:e}=n("buffer");e&&!e.prototype.stream&&(e.prototype.stream=function(e){let t=0;const n=this;return new ReadableStream({type:"bytes",async pull(e){const r=n.slice(t,Math.min(n.size,t+65536)),o=await r.arrayBuffer();t+=o.byteLength,e.enqueue(new Uint8Array(o)),t===n.size&&e.close()}})})}catch(e){}},"./node_modules/formdata-polyfill/esm.min.js":(e,t,n)=>{"use strict";n.d(t,{$n:()=>f,fS:()=>p});var r=n("./node_modules/fetch-blob/index.js"),o=n("./node_modules/fetch-blob/file.js"),{toStringTag:i,iterator:s,hasInstance:a}=Symbol,l=Math.random,c="append,set,get,getAll,delete,keys,values,entries,forEach,constructor".split(","),u=(e,t,n)=>(e+="",/^(Blob|File)$/.test(t&&t[i])?[(n=void 0!==n?n+"":"File"==t[i]?t.name:"blob",e),t.name!==n||"blob"==t[i]?new o.A([t],n,t):t]:[e,t+""]),d=(e,t)=>(t?e:e.replace(/\r?\n|\r/g,"\r\n")).replace(/\n/g,"%0A").replace(/\r/g,"%0D").replace(/"/g,"%22"),h=(e,t,n)=>{if(t.length<n)throw new TypeError(`Failed to execute '${e}' on 'FormData': ${n} arguments required, but only ${t.length} present.`)};const p=class{#yo=[];constructor(...e){if(e.length)throw new TypeError("Failed to construct 'FormData': parameter 1 is not of type 'HTMLFormElement'.")}get[i](){return"FormData"}[s](){return this.entries()}static[a](e){return e&&"object"==typeof e&&"FormData"===e[i]&&!c.some(t=>"function"!=typeof e[t])}append(...e){h("append",arguments,2),this.#yo.push(u(...e))}delete(e){h("delete",arguments,1),e+="",this.#yo=this.#yo.filter(([t])=>t!==e)}get(e){h("get",arguments,1),e+="";for(var t=this.#yo,n=t.length,r=0;r<n;r++)if(t[r][0]===e)return t[r][1];return null}getAll(e,t){return h("getAll",arguments,1),t=[],e+="",this.#yo.forEach(n=>n[0]===e&&t.push(n[1])),t}has(e){return h("has",arguments,1),e+="",this.#yo.some(t=>t[0]===e)}forEach(e,t){for(var[n,r]of(h("forEach",arguments,1),this))e.call(t,r,n,this)}set(...e){h("set",arguments,2);var t=[],n=!0;e=u(...e),this.#yo.forEach(r=>{r[0]===e[0]?n&&(n=!t.push(e)):t.push(r)}),n&&t.push(e),this.#yo=t}*entries(){yield*this.#yo}*keys(){for(var[e]of this)yield e}*values(){for(var[,e]of this)yield e}};function f(e,t=r.A){var n=`${l()}${l()}`.replace(/\./g,"").slice(-28).padStart(32,"-"),o=[],i=`--${n}\r\nContent-Disposition: form-data; name="`;return e.forEach((e,t)=>"string"==typeof e?o.push(i+d(t)+`"\r\n\r\n${e.replace(/\r(?!\n)|(?<!\r)\n/g,"\r\n")}\r\n`):o.push(i+d(t)+`"; filename="${d(e.name,1)}"\r\nContent-Type: ${e.type||"application/octet-stream"}\r\n\r\n`,e,"\r\n")),o.push(`--${n}--`),new t(o,{type:"multipart/form-data; boundary="+n})}},"./node_modules/mitt/dist/mitt.mjs":(e,t,n)=>{"use strict";function r(e){return{all:e=e||new Map,on:function(t,n){var r=e.get(t);r?r.push(n):e.set(t,[n])},off:function(t,n){var r=e.get(t);r&&(n?r.splice(r.indexOf(n)>>>0,1):e.set(t,[]))},emit:function(t,n){var r=e.get(t);r&&r.slice().map(function(e){e(n)}),(r=e.get("*"))&&r.slice().map(function(e){e(t,n)})}}}n.r(t),n.d(t,{default:()=>r})},"./node_modules/node-domexception/index.js":(e,t,n)=>{if(!globalThis.DOMException)try{const{MessageChannel:e}=n("worker_threads"),t=(new e).port1,r=new ArrayBuffer;t.postMessage(r,[r,r])}catch(e){"DOMException"===e.constructor.name&&(globalThis.DOMException=e.constructor)}e.exports=globalThis.DOMException},"./node_modules/node-fetch/src/index.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{AbortError:()=>q,Blob:()=>W.YQ,FetchError:()=>p,File:()=>W.ZH,FormData:()=>d.fS,Headers:()=>T,Request:()=>U,Response:()=>P,blobFrom:()=>W.k4,blobFromSync:()=>W.F8,default:()=>G,fileFrom:()=>W.NX,fileFromSync:()=>W._M,isRedirect:()=>B});const r=require("node:http"),o=require("node:https"),i=require("node:zlib"),s=require("node:stream"),a=require("node:buffer"),l=function(e){if(!/^data:/i.test(e))throw new TypeError('`uri` does not appear to be a Data URI (must begin with "data:")');const t=(e=e.replace(/\r?\n/g,"")).indexOf(",");if(-1===t||t<=4)throw new TypeError("malformed data: URI");const n=e.substring(5,t).split(";");let r="",o=!1;const i=n[0]||"text/plain";let s=i;for(let e=1;e<n.length;e++)"base64"===n[e]?o=!0:n[e]&&(s+=`;${n[e]}`,0===n[e].indexOf("charset=")&&(r=n[e].substring(8)));n[0]||r.length||(s+=";charset=US-ASCII",r="US-ASCII");const a=o?"base64":"ascii",l=unescape(e.substring(t+1)),c=Buffer.from(l,a);return c.type=i,c.typeFull=s,c.charset=r,c},c=require("node:util");var u=n("./node_modules/fetch-blob/index.js"),d=n("./node_modules/formdata-polyfill/esm.min.js");class h extends Error{constructor(e,t){super(e),Error.captureStackTrace(this,this.constructor),this.type=t}get name(){return this.constructor.name}get[Symbol.toStringTag](){return this.constructor.name}}class p extends h{constructor(e,t,n){super(e,t),n&&(this.code=this.errno=n.code,this.erroredSysCall=n.syscall)}}const f=Symbol.toStringTag,m=e=>"object"==typeof e&&"function"==typeof e.append&&"function"==typeof e.delete&&"function"==typeof e.get&&"function"==typeof e.getAll&&"function"==typeof e.has&&"function"==typeof e.set&&"function"==typeof e.sort&&"URLSearchParams"===e[f],g=e=>e&&"object"==typeof e&&"function"==typeof e.arrayBuffer&&"string"==typeof e.type&&"function"==typeof e.stream&&"function"==typeof e.constructor&&/^(Blob|File)$/.test(e[f]),b=(e,t)=>{const n=new URL(t).hostname,r=new URL(e).hostname;return n===r||n.endsWith(`.${r}`)},w=(e,t)=>new URL(t).protocol===new URL(e).protocol,y=(0,c.promisify)(s.pipeline),v=Symbol("Body internals");class A{constructor(e,{size:t=0}={}){let n=null;null===e?e=null:m(e)?e=a.Buffer.from(e.toString()):g(e)||a.Buffer.isBuffer(e)||(c.types.isAnyArrayBuffer(e)?e=a.Buffer.from(e):ArrayBuffer.isView(e)?e=a.Buffer.from(e.buffer,e.byteOffset,e.byteLength):e instanceof s||(e instanceof d.fS?n=(e=(0,d.$n)(e)).type.split("=")[1]:e=a.Buffer.from(String(e))));let r=e;a.Buffer.isBuffer(e)?r=s.Readable.from(e):g(e)&&(r=s.Readable.from(e.stream())),this[v]={body:e,stream:r,boundary:n,disturbed:!1,error:null},this.size=t,e instanceof s&&e.on("error",e=>{const t=e instanceof h?e:new p(`Invalid response body while trying to fetch ${this.url}: ${e.message}`,"system",e);this[v].error=t})}get body(){return this[v].stream}get bodyUsed(){return this[v].disturbed}async arrayBuffer(){const{buffer:e,byteOffset:t,byteLength:n}=await _(this);return e.slice(t,t+n)}async formData(){const e=this.headers.get("content-type");if(e.startsWith("application/x-www-form-urlencoded")){const e=new d.fS,t=new URLSearchParams(await this.text());for(const[n,r]of t)e.append(n,r);return e}const{toFormData:t}=await n.e(460).then(n.bind(n,"./node_modules/node-fetch/src/utils/multipart-parser.js"));return t(this.body,e)}async blob(){const e=this.headers&&this.headers.get("content-type")||this[v].body&&this[v].body.type||"",t=await this.arrayBuffer();return new u.A([t],{type:e})}async json(){const e=await this.text();return JSON.parse(e)}async text(){const e=await _(this);return(new TextDecoder).decode(e)}buffer(){return _(this)}}async function _(e){if(e[v].disturbed)throw new TypeError(`body used already for: ${e.url}`);if(e[v].disturbed=!0,e[v].error)throw e[v].error;const{body:t}=e;if(null===t)return a.Buffer.alloc(0);if(!(t instanceof s))return a.Buffer.alloc(0);const n=[];let r=0;try{for await(const o of t){if(e.size>0&&r+o.length>e.size){const n=new p(`content size at ${e.url} over limit: ${e.size}`,"max-size");throw t.destroy(n),n}r+=o.length,n.push(o)}}catch(t){throw t instanceof h?t:new p(`Invalid response body while trying to fetch ${e.url}: ${t.message}`,"system",t)}if(!0!==t.readableEnded&&!0!==t._readableState.ended)throw new p(`Premature close of server response while trying to fetch ${e.url}`);try{return n.every(e=>"string"==typeof e)?a.Buffer.from(n.join("")):a.Buffer.concat(n,r)}catch(t){throw new p(`Could not create Buffer from response body for ${e.url}: ${t.message}`,"system",t)}}A.prototype.buffer=(0,c.deprecate)(A.prototype.buffer,"Please use 'response.arrayBuffer()' instead of 'response.buffer()'","node-fetch#buffer"),Object.defineProperties(A.prototype,{body:{enumerable:!0},bodyUsed:{enumerable:!0},arrayBuffer:{enumerable:!0},blob:{enumerable:!0},json:{enumerable:!0},text:{enumerable:!0},data:{get:(0,c.deprecate)(()=>{},"data doesn't exist, use json(), text(), arrayBuffer(), or body instead","https://github.com/node-fetch/node-fetch/issues/1000 (response)")}});const x=(e,t)=>{let n,r,{body:o}=e[v];if(e.bodyUsed)throw new Error("cannot clone body after it is used");return o instanceof s&&"function"!=typeof o.getBoundary&&(n=new s.PassThrough({highWaterMark:t}),r=new s.PassThrough({highWaterMark:t}),o.pipe(n),o.pipe(r),e[v].stream=n,o=r),o},S=(0,c.deprecate)(e=>e.getBoundary(),"form-data doesn't follow the spec and requires special treatment. Use alternative package","https://github.com/node-fetch/node-fetch/issues/1167"),E=(e,t)=>null===e?null:"string"==typeof e?"text/plain;charset=UTF-8":m(e)?"application/x-www-form-urlencoded;charset=UTF-8":g(e)?e.type||null:a.Buffer.isBuffer(e)||c.types.isAnyArrayBuffer(e)||ArrayBuffer.isView(e)?null:e instanceof d.fS?`multipart/form-data; boundary=${t[v].boundary}`:e&&"function"==typeof e.getBoundary?`multipart/form-data;boundary=${S(e)}`:e instanceof s?null:"text/plain;charset=UTF-8",C=async(e,{body:t})=>{null===t?e.end():await y(t,e)},k="function"==typeof r.validateHeaderName?r.validateHeaderName:e=>{if(!/^[\^`\-\w!#$%&'*+.|~]+$/.test(e)){const t=new TypeError(`Header name must be a valid HTTP token [${e}]`);throw Object.defineProperty(t,"code",{value:"ERR_INVALID_HTTP_TOKEN"}),t}},O="function"==typeof r.validateHeaderValue?r.validateHeaderValue:(e,t)=>{if(/[^\t\u0020-\u007E\u0080-\u00FF]/.test(t)){const t=new TypeError(`Invalid character in header content ["${e}"]`);throw Object.defineProperty(t,"code",{value:"ERR_INVALID_CHAR"}),t}};class T extends URLSearchParams{constructor(e){let t=[];if(e instanceof T){const n=e.raw();for(const[e,r]of Object.entries(n))t.push(...r.map(t=>[e,t]))}else if(null==e);else{if("object"!=typeof e||c.types.isBoxedPrimitive(e))throw new TypeError("Failed to construct 'Headers': The provided value is not of type '(sequence<sequence<ByteString>> or record<ByteString, ByteString>)");{const n=e[Symbol.iterator];if(null==n)t.push(...Object.entries(e));else{if("function"!=typeof n)throw new TypeError("Header pairs must be iterable");t=[...e].map(e=>{if("object"!=typeof e||c.types.isBoxedPrimitive(e))throw new TypeError("Each header pair must be an iterable object");return[...e]}).map(e=>{if(2!==e.length)throw new TypeError("Each header pair must be a name/value tuple");return[...e]})}}}return t=t.length>0?t.map(([e,t])=>(k(e),O(e,String(t)),[String(e).toLowerCase(),String(t)])):void 0,super(t),new Proxy(this,{get(e,t,n){switch(t){case"append":case"set":return(n,r)=>(k(n),O(n,String(r)),URLSearchParams.prototype[t].call(e,String(n).toLowerCase(),String(r)));case"delete":case"has":case"getAll":return n=>(k(n),URLSearchParams.prototype[t].call(e,String(n).toLowerCase()));case"keys":return()=>(e.sort(),new Set(URLSearchParams.prototype.keys.call(e)).keys());default:return Reflect.get(e,t,n)}}})}get[Symbol.toStringTag](){return this.constructor.name}toString(){return Object.prototype.toString.call(this)}get(e){const t=this.getAll(e);if(0===t.length)return null;let n=t.join(", ");return/^content-encoding$/i.test(e)&&(n=n.toLowerCase()),n}forEach(e,t=void 0){for(const n of this.keys())Reflect.apply(e,t,[this.get(n),n,this])}*values(){for(const e of this.keys())yield this.get(e)}*entries(){for(const e of this.keys())yield[e,this.get(e)]}[Symbol.iterator](){return this.entries()}raw(){return[...this.keys()].reduce((e,t)=>(e[t]=this.getAll(t),e),{})}[Symbol.for("nodejs.util.inspect.custom")](){return[...this.keys()].reduce((e,t)=>{const n=this.getAll(t);return e[t]="host"===t?n[0]:n.length>1?n:n[0],e},{})}}Object.defineProperties(T.prototype,["get","entries","forEach","values"].reduce((e,t)=>(e[t]={enumerable:!0},e),{}));const I=new Set([301,302,303,307,308]),B=e=>I.has(e),M=Symbol("Response internals");class P extends A{constructor(e=null,t={}){super(e,t);const n=null!=t.status?t.status:200,r=new T(t.headers);if(null!==e&&!r.has("Content-Type")){const t=E(e,this);t&&r.append("Content-Type",t)}this[M]={type:"default",url:t.url,status:n,statusText:t.statusText||"",headers:r,counter:t.counter,highWaterMark:t.highWaterMark}}get type(){return this[M].type}get url(){return this[M].url||""}get status(){return this[M].status}get ok(){return this[M].status>=200&&this[M].status<300}get redirected(){return this[M].counter>0}get statusText(){return this[M].statusText}get headers(){return this[M].headers}get highWaterMark(){return this[M].highWaterMark}clone(){return new P(x(this,this.highWaterMark),{type:this.type,url:this.url,status:this.status,statusText:this.statusText,headers:this.headers,ok:this.ok,redirected:this.redirected,size:this.size,highWaterMark:this.highWaterMark})}static redirect(e,t=302){if(!B(t))throw new RangeError('Failed to execute "redirect" on "response": Invalid status code');return new P(null,{headers:{location:new URL(e).toString()},status:t})}static error(){const e=new P(null,{status:0,statusText:""});return e[M].type="error",e}static json(e=void 0,t={}){const n=JSON.stringify(e);if(void 0===n)throw new TypeError("data is not JSON serializable");const r=new T(t&&t.headers);return r.has("content-type")||r.set("content-type","application/json"),new P(n,{...t,headers:r})}get[Symbol.toStringTag](){return"Response"}}Object.defineProperties(P.prototype,{type:{enumerable:!0},url:{enumerable:!0},status:{enumerable:!0},ok:{enumerable:!0},redirected:{enumerable:!0},statusText:{enumerable:!0},headers:{enumerable:!0},clone:{enumerable:!0}});const j=require("node:url"),N=require("node:net");function F(e,t=!1){return null==e?"no-referrer":(e=new URL(e),/^(about|blob|data):$/.test(e.protocol)?"no-referrer":(e.username="",e.password="",e.hash="",t&&(e.pathname="",e.search=""),e))}const D=new Set(["","no-referrer","no-referrer-when-downgrade","same-origin","origin","strict-origin","origin-when-cross-origin","strict-origin-when-cross-origin","unsafe-url"]);function R(e){return!!/^about:(blank|srcdoc)$/.test(e)||"data:"===e.protocol||!!/^(blob|filesystem):$/.test(e.protocol)||function(e){if(/^(http|ws)s:$/.test(e.protocol))return!0;const t=e.host.replace(/(^\[)|(]$)/g,""),n=(0,N.isIP)(t);return!(4!==n||!/^127\./.test(t))||!(6!==n||!/^(((0+:){7})|(::(0+:){0,6}))0*1$/.test(t))||"localhost"!==e.host&&!e.host.endsWith(".localhost")&&"file:"===e.protocol}(e)}const L=Symbol("Request internals"),z=e=>"object"==typeof e&&"object"==typeof e[L],H=(0,c.deprecate)(()=>{},".data is not a valid RequestInit property, use .body instead","https://github.com/node-fetch/node-fetch/issues/1000 (request)");class U extends A{constructor(e,t={}){let n;if(z(e)?n=new URL(e.url):(n=new URL(e),e={}),""!==n.username||""!==n.password)throw new TypeError(`${n} is an url with embedded credentials.`);let r=t.method||e.method||"GET";if(/^(delete|get|head|options|post|put)$/i.test(r)&&(r=r.toUpperCase()),!z(t)&&"data"in t&&H(),(null!=t.body||z(e)&&null!==e.body)&&("GET"===r||"HEAD"===r))throw new TypeError("Request with GET/HEAD method cannot have body");const o=t.body?t.body:z(e)&&null!==e.body?x(e):null;super(o,{size:t.size||e.size||0});const i=new T(t.headers||e.headers||{});if(null!==o&&!i.has("Content-Type")){const e=E(o,this);e&&i.set("Content-Type",e)}let s=z(e)?e.signal:null;if("signal"in t&&(s=t.signal),null!=s&&("object"!=typeof(a=s)||"AbortSignal"!==a[f]&&"EventTarget"!==a[f]))throw new TypeError("Expected signal to be an instanceof AbortSignal or EventTarget");var a;let l=null==t.referrer?e.referrer:t.referrer;if(""===l)l="no-referrer";else if(l){const e=new URL(l);l=/^about:(\/\/)?client$/.test(e)?"client":e}else l=void 0;this[L]={method:r,redirect:t.redirect||e.redirect||"follow",headers:i,parsedURL:n,signal:s,referrer:l},this.follow=void 0===t.follow?void 0===e.follow?20:e.follow:t.follow,this.compress=void 0===t.compress?void 0===e.compress||e.compress:t.compress,this.counter=t.counter||e.counter||0,this.agent=t.agent||e.agent,this.highWaterMark=t.highWaterMark||e.highWaterMark||16384,this.insecureHTTPParser=t.insecureHTTPParser||e.insecureHTTPParser||!1,this.referrerPolicy=t.referrerPolicy||e.referrerPolicy||""}get method(){return this[L].method}get url(){return(0,j.format)(this[L].parsedURL)}get headers(){return this[L].headers}get redirect(){return this[L].redirect}get signal(){return this[L].signal}get referrer(){return"no-referrer"===this[L].referrer?"":"client"===this[L].referrer?"about:client":this[L].referrer?this[L].referrer.toString():void 0}get referrerPolicy(){return this[L].referrerPolicy}set referrerPolicy(e){this[L].referrerPolicy=function(e){if(!D.has(e))throw new TypeError(`Invalid referrerPolicy: ${e}`);return e}(e)}clone(){return new U(this)}get[Symbol.toStringTag](){return"Request"}}Object.defineProperties(U.prototype,{method:{enumerable:!0},url:{enumerable:!0},headers:{enumerable:!0},redirect:{enumerable:!0},clone:{enumerable:!0},signal:{enumerable:!0},referrer:{enumerable:!0},referrerPolicy:{enumerable:!0}});const Q=e=>{const{parsedURL:t}=e[L],n=new T(e[L].headers);n.has("Accept")||n.set("Accept","*/*");let r=null;if(null===e.body&&/^(post|put)$/i.test(e.method)&&(r="0"),null!==e.body){const t=(e=>{const{body:t}=e[v];return null===t?0:g(t)?t.size:a.Buffer.isBuffer(t)?t.length:t&&"function"==typeof t.getLengthSync&&t.hasKnownLength&&t.hasKnownLength()?t.getLengthSync():null})(e);"number"!=typeof t||Number.isNaN(t)||(r=String(t))}r&&n.set("Content-Length",r),""===e.referrerPolicy&&(e.referrerPolicy="strict-origin-when-cross-origin"),e.referrer&&"no-referrer"!==e.referrer?e[L].referrer=function(e,{referrerURLCallback:t,referrerOriginCallback:n}={}){if("no-referrer"===e.referrer||""===e.referrerPolicy)return null;const r=e.referrerPolicy;if("about:client"===e.referrer)return"no-referrer";const o=e.referrer;let i=F(o),s=F(o,!0);i.toString().length>4096&&(i=s),t&&(i=t(i)),n&&(s=n(s));const a=new URL(e.url);switch(r){case"no-referrer":return"no-referrer";case"origin":return s;case"unsafe-url":return i;case"strict-origin":return R(i)&&!R(a)?"no-referrer":s.toString();case"strict-origin-when-cross-origin":return i.origin===a.origin?i:R(i)&&!R(a)?"no-referrer":s;case"same-origin":return i.origin===a.origin?i:"no-referrer";case"origin-when-cross-origin":return i.origin===a.origin?i:s;case"no-referrer-when-downgrade":return R(i)&&!R(a)?"no-referrer":i;default:throw new TypeError(`Invalid referrerPolicy: ${r}`)}}(e):e[L].referrer="no-referrer",e[L].referrer instanceof URL&&n.set("Referer",e.referrer),n.has("User-Agent")||n.set("User-Agent","node-fetch"),e.compress&&!n.has("Accept-Encoding")&&n.set("Accept-Encoding","gzip, deflate, br");let{agent:o}=e;"function"==typeof o&&(o=o(t));const i=(e=>{if(e.search)return e.search;const t=e.href.length-1,n=e.hash||("#"===e.href[t]?"#":"");return"?"===e.href[t-n.length]?"?":""})(t);return{parsedURL:t,options:{path:t.pathname+i,method:e.method,headers:n[Symbol.for("nodejs.util.inspect.custom")](),insecureHTTPParser:e.insecureHTTPParser,agent:o}}};class q extends h{constructor(e,t="aborted"){super(e,t)}}var W=n("./node_modules/fetch-blob/from.js");const $=new Set(["data:","http:","https:"]);async function G(e,t){return new Promise((n,c)=>{const u=new U(e,t),{parsedURL:d,options:h}=Q(u);if(!$.has(d.protocol))throw new TypeError(`node-fetch cannot load ${e}. URL scheme "${d.protocol.replace(/:$/,"")}" is not supported.`);if("data:"===d.protocol){const e=l(u.url),t=new P(e,{headers:{"Content-Type":e.typeFull}});return void n(t)}const f=("https:"===d.protocol?o:r).request,{signal:m}=u;let g=null;const y=()=>{const e=new q("The operation was aborted.");c(e),u.body&&u.body instanceof s.Readable&&u.body.destroy(e),g&&g.body&&g.body.emit("error",e)};if(m&&m.aborted)return void y();const v=()=>{y(),_()},A=f(d.toString(),h);m&&m.addEventListener("abort",v);const _=()=>{A.abort(),m&&m.removeEventListener("abort",v)};A.on("error",e=>{c(new p(`request to ${u.url} failed, reason: ${e.message}`,"system",e)),_()}),function(e){const t=a.Buffer.from("0\r\n\r\n");let n,r=!1,o=!1;e.on("response",e=>{const{headers:t}=e;r="chunked"===t["transfer-encoding"]&&!t["content-length"]}),e.on("socket",i=>{const s=()=>{if(r&&!o){const e=new Error("Premature close");e.code="ERR_STREAM_PREMATURE_CLOSE",(e=>{g&&g.body&&g.body.destroy(e)})(e)}},l=e=>{o=0===a.Buffer.compare(e.slice(-5),t),!o&&n&&(o=0===a.Buffer.compare(n.slice(-3),t.slice(0,3))&&0===a.Buffer.compare(e.slice(-2),t.slice(3))),n=e};i.prependListener("close",s),i.on("data",l),e.on("close",()=>{i.removeListener("close",s),i.removeListener("data",l)})})}(A),process.version<"v14"&&A.on("socket",e=>{let t;e.prependListener("end",()=>{t=e._eventsCount}),e.prependListener("close",n=>{if(g&&t<e._eventsCount&&!n){const e=new Error("Premature close");e.code="ERR_STREAM_PREMATURE_CLOSE",g.body.emit("error",e)}})}),A.on("response",e=>{A.setTimeout(0);const r=function(e=[]){return new T(e.reduce((e,t,n,r)=>(n%2==0&&e.push(r.slice(n,n+2)),e),[]).filter(([e,t])=>{try{return k(e),O(e,String(t)),!0}catch{return!1}}))}(e.rawHeaders);if(B(e.statusCode)){const o=r.get("Location");let i=null;try{i=null===o?null:new URL(o,u.url)}catch{if("manual"!==u.redirect)return c(new p(`uri requested responds with an invalid redirect URL: ${o}`,"invalid-redirect")),void _()}switch(u.redirect){case"error":return c(new p(`uri requested responds with a redirect, redirect mode is set to error: ${u.url}`,"no-redirect")),void _();case"manual":break;case"follow":{if(null===i)break;if(u.counter>=u.follow)return c(new p(`maximum redirect reached at: ${u.url}`,"max-redirect")),void _();const o={headers:new T(u.headers),follow:u.follow,counter:u.counter+1,agent:u.agent,compress:u.compress,method:u.method,body:x(u),signal:u.signal,size:u.size,referrer:u.referrer,referrerPolicy:u.referrerPolicy};if(!b(u.url,i)||!w(u.url,i))for(const e of["authorization","www-authenticate","cookie","cookie2"])o.headers.delete(e);if(303!==e.statusCode&&u.body&&t.body instanceof s.Readable)return c(new p("Cannot follow redirect with body being a readable stream","unsupported-redirect")),void _();303!==e.statusCode&&(301!==e.statusCode&&302!==e.statusCode||"POST"!==u.method)||(o.method="GET",o.body=void 0,o.headers.delete("content-length"));const a=function(e){const t=(e.get("referrer-policy")||"").split(/[,\s]+/);let n="";for(const e of t)e&&D.has(e)&&(n=e);return n}(r);return a&&(o.referrerPolicy=a),n(G(new U(i,o))),void _()}default:return c(new TypeError(`Redirect option '${u.redirect}' is not a valid value of RequestRedirect`))}}m&&e.once("end",()=>{m.removeEventListener("abort",v)});let o=(0,s.pipeline)(e,new s.PassThrough,e=>{e&&c(e)});process.version<"v12.10"&&e.on("aborted",v);const a={url:u.url,status:e.statusCode,statusText:e.statusMessage,headers:r,size:u.size,counter:u.counter,highWaterMark:u.highWaterMark},l=r.get("Content-Encoding");if(!u.compress||"HEAD"===u.method||null===l||204===e.statusCode||304===e.statusCode)return g=new P(o,a),void n(g);const d={flush:i.Z_SYNC_FLUSH,finishFlush:i.Z_SYNC_FLUSH};if("gzip"===l||"x-gzip"===l)return o=(0,s.pipeline)(o,i.createGunzip(d),e=>{e&&c(e)}),g=new P(o,a),void n(g);if("deflate"===l||"x-deflate"===l){const t=(0,s.pipeline)(e,new s.PassThrough,e=>{e&&c(e)});return t.once("data",e=>{o=8==(15&e[0])?(0,s.pipeline)(o,i.createInflate(),e=>{e&&c(e)}):(0,s.pipeline)(o,i.createInflateRaw(),e=>{e&&c(e)}),g=new P(o,a),n(g)}),void t.once("end",()=>{g||(g=new P(o,a),n(g))})}if("br"===l)return o=(0,s.pipeline)(o,i.createBrotliDecompress(),e=>{e&&c(e)}),g=new P(o,a),void n(g);g=new P(o,a),n(g)}),C(A,u).catch(c)})}},"./node_modules/node-gyp-build/index.js":(e,t,n)=>{const r=require;"function"==typeof r.addon?e.exports=r.addon.bind(r):e.exports=n("./node_modules/node-gyp-build/node-gyp-build.js")},"./node_modules/node-gyp-build/node-gyp-build.js":(e,t,n)=>{var r=n("fs"),o=n("path"),i=n("os"),s=require,a=process.config&&process.config.variables||{},l=!!process.env.PREBUILDS_ONLY,c=process.versions.modules,u=process.versions&&process.versions.electron||process.env.ELECTRON_RUN_AS_NODE||"undefined"!=typeof window&&window.process&&"renderer"===window.process.type?"electron":process.versions&&process.versions.nw?"node-webkit":"node",d=process.env.npm_config_arch||i.arch(),h=process.env.npm_config_platform||i.platform(),p=process.env.LIBC||(function(e){return"linux"===e&&r.existsSync("/etc/alpine-release")}(h)?"musl":"glibc"),f=process.env.ARM_VERSION||("arm64"===d?"8":a.arm_version)||"",m=(process.versions.uv||"").split(".")[0];function g(e){return s(g.resolve(e))}function b(e){try{return r.readdirSync(e)}catch(e){return[]}}function w(e,t){var n=b(e).filter(t);return n[0]&&o.join(e,n[0])}function y(e){return/\.node$/.test(e)}function v(e){var t=e.split("-");if(2===t.length){var n=t[0],r=t[1].split("+");if(n&&r.length&&r.every(Boolean))return{name:e,platform:n,architectures:r}}}function A(e,t){return function(n){return null!=n&&n.platform===e&&n.architectures.includes(t)}}function _(e,t){return e.architectures.length-t.architectures.length}function x(e){var t=e.split("."),n={file:e,specificity:0};if("node"===t.pop()){for(var r=0;r<t.length;r++){var o=t[r];if("node"===o||"electron"===o||"node-webkit"===o)n.runtime=o;else if("napi"===o)n.napi=!0;else if("abi"===o.slice(0,3))n.abi=o.slice(3);else if("uv"===o.slice(0,2))n.uv=o.slice(2);else if("armv"===o.slice(0,4))n.armv=o.slice(4);else{if("glibc"!==o&&"musl"!==o)continue;n.libc=o}n.specificity++}return n}}function S(e,t){return function(n){return!(null==n||n.runtime&&n.runtime!==e&&!function(e){return"node"===e.runtime&&e.napi}(n)||n.abi&&n.abi!==t&&!n.napi||n.uv&&n.uv!==m||n.armv&&n.armv!==f||n.libc&&n.libc!==p)}}function E(e){return function(t,n){return t.runtime!==n.runtime?t.runtime===e?-1:1:t.abi!==n.abi?t.abi?-1:1:t.specificity!==n.specificity?t.specificity>n.specificity?-1:1:0}}e.exports=g,g.resolve=g.path=function(e){e=o.resolve(e||".");try{var t=s(o.join(e,"package.json")).name.toUpperCase().replace(/-/g,"_");process.env[t+"_PREBUILD"]&&(e=process.env[t+"_PREBUILD"])}catch(e){}if(!l){var n=w(o.join(e,"build/Release"),y);if(n)return n;var r=w(o.join(e,"build/Debug"),y);if(r)return r}var i=C(e);if(i)return i;var a=C(o.dirname(process.execPath));if(a)return a;var g=["platform="+h,"arch="+d,"runtime="+u,"abi="+c,"uv="+m,f?"armv="+f:"","libc="+p,"node="+process.versions.node,process.versions.electron?"electron="+process.versions.electron:"","webpack=true"].filter(Boolean).join(" ");throw new Error("No native build was found for "+g+"\n    loaded from: "+e+"\n");function C(e){var t=b(o.join(e,"prebuilds")).map(v).filter(A(h,d)).sort(_)[0];if(t){var n=o.join(e,"prebuilds",t.name),r=b(n).map(x).filter(S(u,c)).sort(E(u))[0];return r?o.join(n,r.file):void 0}}},g.parseTags=x,g.matchTags=S,g.compareTags=E,g.parseTuple=v,g.matchTuple=A,g.compareTuples=_},"./node_modules/playwright-core/browsers.json":e=>{"use strict";e.exports=JSON.parse('{"comment":"Do not edit this file, use utils/roll_browser.js","browsers":[{"name":"chromium","revision":"1191","installByDefault":true,"browserVersion":"141.0.7390.16"},{"name":"chromium-headless-shell","revision":"1191","installByDefault":true,"browserVersion":"141.0.7390.16"},{"name":"chromium-tip-of-tree","revision":"1369","installByDefault":false,"browserVersion":"142.0.7417.0"},{"name":"chromium-tip-of-tree-headless-shell","revision":"1369","installByDefault":false,"browserVersion":"142.0.7417.0"},{"name":"firefox","revision":"1492","installByDefault":true,"browserVersion":"142.0.1"},{"name":"firefox-beta","revision":"1487","installByDefault":false,"browserVersion":"143.0b10"},{"name":"webkit","revision":"2213","installByDefault":true,"revisionOverrides":{"debian11-x64":"2105","debian11-arm64":"2105","mac10.14":"1446","mac10.15":"1616","mac11":"1816","mac11-arm64":"1816","mac12":"2009","mac12-arm64":"2009","mac13":"2140","mac13-arm64":"2140","ubuntu20.04-x64":"2092","ubuntu20.04-arm64":"2092"},"browserVersion":"26.0"},{"name":"ffmpeg","revision":"1011","installByDefault":true,"revisionOverrides":{"mac12":"1010","mac12-arm64":"1010"}},{"name":"winldd","revision":"1007","installByDefault":false},{"name":"android","revision":"1001","installByDefault":false}]}')},"./node_modules/playwright-core/index.js":(e,t,n)=>{const r=process.versions.node,o=r.split("."),[i]=[+o[0]];i<18&&(console.error("You are running Node.js "+r+".\nPlaywright requires Node.js 18 or higher. \nPlease update your version of Node.js."),process.exit(1)),e.exports=n("./node_modules/playwright-core/lib/inprocess.js")},"./node_modules/playwright-core/lib/androidServerImpl.js":(e,t,n)=>{"use strict";var r,o=Object.defineProperty,i=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,l={};((e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})})(l,{AndroidServerLauncherImpl:()=>f}),e.exports=(r=l,((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let n of s(t))a.call(e,n)||undefined===n||o(e,n,{get:()=>t[n],enumerable:!(r=i(t,n))||r.enumerable});return e})(o({},"__esModule",{value:!0}),r));var c=n("./node_modules/playwright-core/lib/remote/playwrightServer.js"),u=n("./node_modules/playwright-core/lib/server/playwright.js"),d=n("./node_modules/playwright-core/lib/server/utils/crypto.js"),h=n("./node_modules/playwright-core/lib/utilsBundle.js"),p=n("./node_modules/playwright-core/lib/server/progress.js");class f{async launchServer(e={}){const t=(0,u.createPlaywright)({sdkLanguage:"javascript",isServer:!0}),n=new p.ProgressController;let r=await n.run(n=>t.android.devices(n,{host:e.adbHost,port:e.adbPort,omitDriverInstall:e.omitDriverInstall}));if(0===r.length)throw new Error("No devices found");if(e.deviceSerialNumber&&(r=r.filter(t=>t.serial===e.deviceSerialNumber),0===r.length))throw new Error(`No device with serial number '${e.deviceSerialNumber}' was found`);if(r.length>1)throw new Error("More than one device found. Please specify deviceSerialNumber");const o=r[0],i=e.wsPath?e.wsPath.startsWith("/")?e.wsPath:`/${e.wsPath}`:`/${(0,d.createGuid)()}`,s=new c.PlaywrightServer({mode:"launchServer",path:i,maxConnections:1,preLaunchedAndroidDevice:o}),a=await s.listen(e.port,e.host),l=new h.ws.EventEmitter;return l.wsEndpoint=()=>a,l.close=()=>o.close(),l.kill=()=>o.close(),o.on("close",()=>{s.close(),l.emit("close")}),l}}},"./node_modules/playwright-core/lib/browserServerImpl.js":(e,t,n)=>{"use strict";var r,o=Object.create,i=Object.defineProperty,s=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,l=Object.getPrototypeOf,c=Object.prototype.hasOwnProperty,u=(e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let o of a(t))c.call(e,o)||o===n||i(e,o,{get:()=>t[o],enumerable:!(r=s(t,o))||r.enumerable});return e},d={};((e,t)=>{for(var n in t)i(e,n,{get:t[n],enumerable:!0})})(d,{BrowserServerLauncherImpl:()=>_}),e.exports=(r=d,u(i({},"__esModule",{value:!0}),r));var h=n("./node_modules/playwright-core/lib/remote/playwrightServer.js"),p=n("./node_modules/playwright-core/lib/server/helper.js"),f=n("./node_modules/playwright-core/lib/server/playwright.js"),m=n("./node_modules/playwright-core/lib/server/utils/crypto.js"),g=n("./node_modules/playwright-core/lib/server/utils/debug.js"),b=n("./node_modules/playwright-core/lib/utils/isomorphic/stackTrace.js"),w=n("./node_modules/playwright-core/lib/utils/isomorphic/time.js"),y=n("./node_modules/playwright-core/lib/utilsBundle.js"),v=((e,t,n)=>(n=null!=e?o(l(e)):{},u(e&&e.__esModule?n:i(n,"default",{value:e,enumerable:!0}),e)))(n("./node_modules/playwright-core/lib/protocol/validatorPrimitives.js")),A=n("./node_modules/playwright-core/lib/server/progress.js");class _{constructor(e){this._browserName=e}async launchServer(e={}){const t=(0,f.createPlaywright)({sdkLanguage:"javascript",isServer:!0}),n={id:"",startTime:0,endTime:0,type:"Internal",method:"",params:{},log:[],internal:!0},r={tChannelImpl:(e,t,n)=>{throw new v.ValidationError(`${n}: channels are not expected in launchServer`)},binary:"buffer",isUnderTest:g.isUnderTest};let o,i={...e,ignoreDefaultArgs:Array.isArray(e.ignoreDefaultArgs)?e.ignoreDefaultArgs:void 0,ignoreAllDefaultArgs:!!e.ignoreDefaultArgs&&!Array.isArray(e.ignoreDefaultArgs),env:e.env?x(e.env):void 0,timeout:e.timeout??w.DEFAULT_PLAYWRIGHT_LAUNCH_TIMEOUT};try{const s=new A.ProgressController(n);o=await s.run(async n=>{if(void 0!==e._userDataDir){const o=v.scheme.BrowserTypeLaunchPersistentContextParams;return i=o({...i,userDataDir:e._userDataDir},"",r),(await t[this._browserName].launchPersistentContext(n,e._userDataDir,i))._browser}{const s=v.scheme.BrowserTypeLaunchParams;return i=s(i,"",r),await t[this._browserName].launch(n,i,(o=e.logger,o?(e,t)=>{o.isEnabled("protocol","verbose")&&o.log("protocol","verbose",("send"===e?"SEND  ":" RECV ")+JSON.stringify(t),[],{})}:void 0))}var o})}catch(e){const t=p.helper.formatBrowserLogs(n.log);throw(0,b.rewriteErrorMessage)(e,`${e.message} Failed to launch browser.${t}`),e}return this.launchServerOnExistingBrowser(o,e)}async launchServerOnExistingBrowser(e,t){const n=t.wsPath?t.wsPath.startsWith("/")?t.wsPath:`/${t.wsPath}`:`/${(0,m.createGuid)()}`,r=new h.PlaywrightServer({mode:t._sharedBrowser?"launchServerShared":"launchServer",path:n,maxConnections:1/0,preLaunchedBrowser:e,debugController:t._debugController}),o=await r.listen(t.port,t.host),i=new y.ws.EventEmitter;return i.process=()=>e.options.browserProcess.process,i.wsEndpoint=()=>o,i.close=()=>e.options.browserProcess.close(),i[Symbol.asyncDispose]=i.close,i.kill=()=>e.options.browserProcess.kill(),i._disconnectForTest=()=>r.close(),i._userDataDirForTest=e._userDataDirForTest,e.options.browserProcess.onclose=(e,t)=>{r.close(),i.emit("close",e,t)},i}}function x(e){const t=[];for(const n in e)Object.is(e[n],void 0)||t.push({name:n,value:String(e[n])});return t}},"./node_modules/playwright-core/lib/client/accessibility.js":e=>{"use strict";var t,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,i=Object.prototype.hasOwnProperty,s={};function a(e){const t={...e,value:void 0!==e.valueNumber?e.valueNumber:e.valueString,checked:"checked"===e.checked||"unchecked"!==e.checked&&e.checked,pressed:"pressed"===e.pressed||"released"!==e.pressed&&e.pressed,children:e.children?e.children.map(a):void 0};return delete t.valueNumber,delete t.valueString,t}((e,t)=>{for(var r in t)n(e,r,{get:t[r],enumerable:!0})})(s,{Accessibility:()=>l}),e.exports=(t=s,((e,t,s,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let s of o(t))i.call(e,s)||undefined===s||n(e,s,{get:()=>t[s],enumerable:!(a=r(t,s))||a.enumerable});return e})(n({},"__esModule",{value:!0}),t));class l{constructor(e){this._channel=e}async snapshot(e={}){const t=e.root?e.root._elementChannel:void 0,n=await this._channel.accessibilitySnapshot({interestingOnly:e.interestingOnly,root:t});return n.rootAXNode?a(n.rootAXNode):null}}},"./node_modules/playwright-core/lib/client/android.js":(e,t,n)=>{"use strict";var r,o=Object.defineProperty,i=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,l={};((e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})})(l,{Android:()=>v,AndroidDevice:()=>A,AndroidInput:()=>S,AndroidSocket:()=>_,AndroidWebView:()=>C}),e.exports=(r=l,((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let n of s(t))a.call(e,n)||undefined===n||o(e,n,{get:()=>t[n],enumerable:!(r=i(t,n))||r.enumerable});return e})(o({},"__esModule",{value:!0}),r));var c=n("./node_modules/playwright-core/lib/client/eventEmitter.js"),u=n("./node_modules/playwright-core/lib/client/browserContext.js"),d=n("./node_modules/playwright-core/lib/client/channelOwner.js"),h=n("./node_modules/playwright-core/lib/client/errors.js"),p=n("./node_modules/playwright-core/lib/client/events.js"),f=n("./node_modules/playwright-core/lib/client/waiter.js"),m=n("./node_modules/playwright-core/lib/client/timeoutSettings.js"),g=n("./node_modules/playwright-core/lib/utils/isomorphic/rtti.js"),b=n("./node_modules/playwright-core/lib/utils/isomorphic/time.js"),w=n("./node_modules/playwright-core/lib/utils/isomorphic/timeoutRunner.js"),y=n("./node_modules/playwright-core/lib/client/webSocket.js");class v extends d.ChannelOwner{static from(e){return e._object}constructor(e,t,n,r){super(e,t,n,r),this._timeoutSettings=new m.TimeoutSettings(this._platform)}setDefaultTimeout(e){this._timeoutSettings.setDefaultTimeout(e)}async devices(e={}){const{devices:t}=await this._channel.devices(e);return t.map(e=>A.from(e))}async launchServer(e={}){if(!this._serverLauncher)throw new Error("Launching server is not supported");return await this._serverLauncher.launchServer(e)}async connect(e,t={}){return await this._wrapApiCall(async()=>{const n=t.timeout?(0,b.monotonicTime)()+t.timeout:0,r={"x-playwright-browser":"android",...t.headers},o={wsEndpoint:e,headers:r,slowMo:t.slowMo,timeout:t.timeout||0},i=await(0,y.connectOverWebSocket)(this._connection,o);let s;i.on("close",()=>{s?._didClose()});const a=await(0,w.raceAgainstDeadline)(async()=>{const e=await i.initializePlaywright();if(!e._initializer.preConnectedAndroidDevice)throw i.close(),new Error("Malformed endpoint. Did you use Android.launchServer method?");return s=A.from(e._initializer.preConnectedAndroidDevice),s._shouldCloseConnectionOnClose=!0,s.on(p.Events.AndroidDevice.Close,()=>i.close()),s},n);if(a.timedOut)throw i.close(),new Error(`Timeout ${t.timeout}ms exceeded`);return a.result})}}class A extends d.ChannelOwner{constructor(e,t,n,r){super(e,t,n,r),this._webViews=new Map,this._shouldCloseConnectionOnClose=!1,this._android=e,this.input=new S(this),this._timeoutSettings=new m.TimeoutSettings(this._platform,e._timeoutSettings),this._channel.on("webViewAdded",({webView:e})=>this._onWebViewAdded(e)),this._channel.on("webViewRemoved",({socketName:e})=>this._onWebViewRemoved(e)),this._channel.on("close",()=>this._didClose())}static from(e){return e._object}_onWebViewAdded(e){const t=new C(this,e);this._webViews.set(e.socketName,t),this.emit(p.Events.AndroidDevice.WebView,t)}_onWebViewRemoved(e){const t=this._webViews.get(e);this._webViews.delete(e),t&&t.emit(p.Events.AndroidWebView.Close)}setDefaultTimeout(e){this._timeoutSettings.setDefaultTimeout(e)}serial(){return this._initializer.serial}model(){return this._initializer.model}webViews(){return[...this._webViews.values()]}async webView(e,t){const n=t=>e.pkg?t.pkg()===e.pkg:!!e.socketName&&t._socketName()===e.socketName;return[...this._webViews.values()].find(n)||await this.waitForEvent("webview",{...t,predicate:n})}async wait(e,t={}){await this._channel.wait({androidSelector:E(e),...t,timeout:this._timeoutSettings.timeout(t)})}async fill(e,t,n={}){await this._channel.fill({androidSelector:E(e),text:t,...n,timeout:this._timeoutSettings.timeout(n)})}async press(e,t,n={}){await this.tap(e,n),await this.input.press(t)}async tap(e,t={}){await this._channel.tap({androidSelector:E(e),...t,timeout:this._timeoutSettings.timeout(t)})}async drag(e,t,n={}){await this._channel.drag({androidSelector:E(e),dest:t,...n,timeout:this._timeoutSettings.timeout(n)})}async fling(e,t,n={}){await this._channel.fling({androidSelector:E(e),direction:t,...n,timeout:this._timeoutSettings.timeout(n)})}async longTap(e,t={}){await this._channel.longTap({androidSelector:E(e),...t,timeout:this._timeoutSettings.timeout(t)})}async pinchClose(e,t,n={}){await this._channel.pinchClose({androidSelector:E(e),percent:t,...n,timeout:this._timeoutSettings.timeout(n)})}async pinchOpen(e,t,n={}){await this._channel.pinchOpen({androidSelector:E(e),percent:t,...n,timeout:this._timeoutSettings.timeout(n)})}async scroll(e,t,n,r={}){await this._channel.scroll({androidSelector:E(e),direction:t,percent:n,...r,timeout:this._timeoutSettings.timeout(r)})}async swipe(e,t,n,r={}){await this._channel.swipe({androidSelector:E(e),direction:t,percent:n,...r,timeout:this._timeoutSettings.timeout(r)})}async info(e){return(await this._channel.info({androidSelector:E(e)})).info}async screenshot(e={}){const{binary:t}=await this._channel.screenshot();return e.path&&await this._platform.fs().promises.writeFile(e.path,t),t}async[Symbol.asyncDispose](){await this.close()}async close(){try{this._shouldCloseConnectionOnClose?this._connection.close():await this._channel.close()}catch(e){if((0,h.isTargetClosedError)(e))return;throw e}}_didClose(){this.emit(p.Events.AndroidDevice.Close,this)}async shell(e){const{result:t}=await this._channel.shell({command:e});return t}async open(e){return _.from((await this._channel.open({command:e})).socket)}async installApk(e,t){await this._channel.installApk({file:await x(this._platform,e),args:t&&t.args})}async push(e,t,n){await this._channel.push({file:await x(this._platform,e),path:t,mode:n?n.mode:void 0})}async launchBrowser(e={}){const t=await(0,u.prepareBrowserContextParams)(this._platform,e),n=await this._channel.launchBrowser(t),r=u.BrowserContext.from(n.context),o=this._android._playwright.selectors;return o._contextsForSelectors.add(r),r.once(p.Events.BrowserContext.Close,()=>o._contextsForSelectors.delete(r)),await r._initializeHarFromOptions(e.recordHar),r}async waitForEvent(e,t={}){return await this._wrapApiCall(async()=>{const n=this._timeoutSettings.timeout("function"==typeof t?{}:t),r="function"==typeof t?t:t.predicate,o=f.Waiter.createForEvent(this,e);o.rejectOnTimeout(n,`Timeout ${n}ms exceeded while waiting for event "${e}"`),e!==p.Events.AndroidDevice.Close&&o.rejectOnEvent(this,p.Events.AndroidDevice.Close,()=>new h.TargetClosedError);const i=await o.waitForEvent(this,e,r);return o.dispose(),i})}}class _ extends d.ChannelOwner{static from(e){return e._object}constructor(e,t,n,r){super(e,t,n,r),this._channel.on("data",({data:e})=>this.emit(p.Events.AndroidSocket.Data,e)),this._channel.on("close",()=>this.emit(p.Events.AndroidSocket.Close))}async write(e){await this._channel.write({data:e})}async close(){await this._channel.close()}async[Symbol.asyncDispose](){await this.close()}}async function x(e,t){return(0,g.isString)(t)?await e.fs().promises.readFile(t):t}class S{constructor(e){this._device=e}async type(e){await this._device._channel.inputType({text:e})}async press(e){await this._device._channel.inputPress({key:e})}async tap(e){await this._device._channel.inputTap({point:e})}async swipe(e,t,n){await this._device._channel.inputSwipe({segments:t,steps:n})}async drag(e,t,n){await this._device._channel.inputDrag({from:e,to:t,steps:n})}}function E(e){const{checkable:t,checked:n,clazz:r,clickable:o,depth:i,desc:s,enabled:a,focusable:l,focused:c,hasChild:u,hasDescendant:d,longClickable:h,pkg:p,res:f,scrollable:m,selected:b,text:w}=e,y=e=>{if(void 0!==e)return(0,g.isRegExp)(e)?e.source:"^"+e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")+"$"};return{checkable:t,checked:n,clazz:y(r),pkg:y(p),desc:y(s),res:y(f),text:y(w),clickable:o,depth:i,enabled:a,focusable:l,focused:c,hasChild:u?{androidSelector:E(u.selector)}:void 0,hasDescendant:d?{androidSelector:E(d.selector),maxDepth:d.maxDepth}:void 0,longClickable:h,scrollable:m,selected:b}}class C extends c.EventEmitter{constructor(e,t){super(e._platform),this._device=e,this._data=t}pid(){return this._data.pid}pkg(){return this._data.pkg}_socketName(){return this._data.socketName}async page(){return this._pagePromise||(this._pagePromise=this._fetchPage()),await this._pagePromise}async _fetchPage(){const{context:e}=await this._device._channel.connectToWebView({socketName:this._data.socketName});return u.BrowserContext.from(e).pages()[0]}}},"./node_modules/playwright-core/lib/client/artifact.js":(e,t,n)=>{"use strict";var r,o=Object.defineProperty,i=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,l={};((e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})})(l,{Artifact:()=>h}),e.exports=(r=l,((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let n of s(t))a.call(e,n)||undefined===n||o(e,n,{get:()=>t[n],enumerable:!(r=i(t,n))||r.enumerable});return e})(o({},"__esModule",{value:!0}),r));var c=n("./node_modules/playwright-core/lib/client/channelOwner.js"),u=n("./node_modules/playwright-core/lib/client/stream.js"),d=n("./node_modules/playwright-core/lib/client/fileUtils.js");class h extends c.ChannelOwner{static from(e){return e._object}async pathAfterFinished(){if(this._connection.isRemote())throw new Error("Path is not available when connecting remotely. Use saveAs() to save a local copy.");return(await this._channel.pathAfterFinished()).value}async saveAs(e){if(!this._connection.isRemote())return void await this._channel.saveAs({path:e});const t=await this._channel.saveAsStream(),n=u.Stream.from(t.stream);await(0,d.mkdirIfNeeded)(this._platform,e),await new Promise((t,r)=>{n.stream().pipe(this._platform.fs().createWriteStream(e)).on("finish",t).on("error",r)})}async failure(){return(await this._channel.failure()).error||null}async createReadStream(){const e=await this._channel.stream();return u.Stream.from(e.stream).stream()}async readIntoBuffer(){const e=await this.createReadStream();return await new Promise((t,n)=>{const r=[];e.on("data",e=>{r.push(e)}),e.on("end",()=>{t(Buffer.concat(r))}),e.on("error",n)})}async cancel(){return await this._channel.cancel()}async delete(){return await this._channel.delete()}}},"./node_modules/playwright-core/lib/client/browser.js":(e,t,n)=>{"use strict";var r,o=Object.defineProperty,i=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,l={};((e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})})(l,{Browser:()=>g}),e.exports=(r=l,((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let n of s(t))a.call(e,n)||undefined===n||o(e,n,{get:()=>t[n],enumerable:!(r=i(t,n))||r.enumerable});return e})(o({},"__esModule",{value:!0}),r));var c=n("./node_modules/playwright-core/lib/client/artifact.js"),u=n("./node_modules/playwright-core/lib/client/browserContext.js"),d=n("./node_modules/playwright-core/lib/client/cdpSession.js"),h=n("./node_modules/playwright-core/lib/client/channelOwner.js"),p=n("./node_modules/playwright-core/lib/client/errors.js"),f=n("./node_modules/playwright-core/lib/client/events.js"),m=n("./node_modules/playwright-core/lib/client/fileUtils.js");class g extends h.ChannelOwner{constructor(e,t,n,r){super(e,t,n,r),this._contexts=new Set,this._isConnected=!0,this._shouldCloseConnectionOnClose=!1,this._options={},this._name=r.name,this._channel.on("context",({context:e})=>this._didCreateContext(u.BrowserContext.from(e))),this._channel.on("close",()=>this._didClose()),this._closedPromise=new Promise(e=>this.once(f.Events.Browser.Disconnected,e))}static from(e){return e._object}browserType(){return this._browserType}async newContext(e={}){return await this._innerNewContext(e,!1)}async _newContextForReuse(e={}){return await this._innerNewContext(e,!0)}async _disconnectFromReusedContext(e){const t=[...this._contexts].find(e=>e._forReuse);if(t){await this._instrumentation.runBeforeCloseBrowserContext(t);for(const e of t.pages())e._onClose();t._onClose(),await this._channel.disconnectFromReusedContext({reason:e})}}async _innerNewContext(e={},t){e=this._browserType._playwright.selectors._withSelectorOptions({...this._browserType._playwright._defaultContextOptions,...e});const n=await(0,u.prepareBrowserContextParams)(this._platform,e),r=t?await this._channel.newContextForReuse(n):await this._channel.newContext(n),o=u.BrowserContext.from(r.context);return t&&(o._forReuse=!0),e.logger&&(o._logger=e.logger),await o._initializeHarFromOptions(e.recordHar),await this._instrumentation.runAfterCreateBrowserContext(o),o}_connectToBrowserType(e,t,n){this._browserType=e,this._options=t,this._logger=n;for(const e of this._contexts)this._setupBrowserContext(e)}_didCreateContext(e){e._browser=this,this._contexts.add(e),this._browserType&&this._setupBrowserContext(e)}_setupBrowserContext(e){e._logger=this._logger,e.tracing._tracesDir=this._options.tracesDir,this._browserType._contexts.add(e),this._browserType._playwright.selectors._contextsForSelectors.add(e),e.setDefaultTimeout(this._browserType._playwright._defaultContextTimeout),e.setDefaultNavigationTimeout(this._browserType._playwright._defaultContextNavigationTimeout)}contexts(){return[...this._contexts]}version(){return this._initializer.version}async newPage(e={}){return await this._wrapApiCall(async()=>{const t=await this.newContext(e),n=await t.newPage();return n._ownedContext=t,t._ownerPage=n,n},{title:"Create page"})}isConnected(){return this._isConnected}async newBrowserCDPSession(){return d.CDPSession.from((await this._channel.newBrowserCDPSession()).session)}async _launchServer(e={}){const t=this._browserType._serverLauncher,n=this._connection.toImpl?.(this);if(!t||!n)throw new Error("Launching server is not supported");return await t.launchServerOnExistingBrowser(n,{_sharedBrowser:!0,...e})}async startTracing(e,t={}){this._path=t.path,await this._channel.startTracing({...t,page:e?e._channel:void 0})}async stopTracing(){const e=c.Artifact.from((await this._channel.stopTracing()).artifact),t=await e.readIntoBuffer();return await e.delete(),this._path&&(await(0,m.mkdirIfNeeded)(this._platform,this._path),await this._platform.fs().promises.writeFile(this._path,t),this._path=void 0),t}async[Symbol.asyncDispose](){await this.close()}async close(e={}){this._closeReason=e.reason;try{this._shouldCloseConnectionOnClose?this._connection.close():await this._channel.close(e),await this._closedPromise}catch(e){if((0,p.isTargetClosedError)(e))return;throw e}}_didClose(){this._isConnected=!1,this.emit(f.Events.Browser.Disconnected,this)}}},"./node_modules/playwright-core/lib/client/browserContext.js":(e,t,n)=>{"use strict";var r,o=Object.create,i=Object.defineProperty,s=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,l=Object.getPrototypeOf,c=Object.prototype.hasOwnProperty,u=(e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let o of a(t))c.call(e,o)||o===n||i(e,o,{get:()=>t[o],enumerable:!(r=s(t,o))||r.enumerable});return e},d={};((e,t)=>{for(var n in t)i(e,n,{get:t[n],enumerable:!0})})(d,{BrowserContext:()=>F,prepareBrowserContextParams:()=>R,toClientCertificatesProtocol:()=>z}),e.exports=(r=d,u(i({},"__esModule",{value:!0}),r));var h=n("./node_modules/playwright-core/lib/client/artifact.js"),p=n("./node_modules/playwright-core/lib/client/cdpSession.js"),f=n("./node_modules/playwright-core/lib/client/channelOwner.js"),m=n("./node_modules/playwright-core/lib/client/clientHelper.js"),g=n("./node_modules/playwright-core/lib/client/clock.js"),b=n("./node_modules/playwright-core/lib/client/consoleMessage.js"),w=n("./node_modules/playwright-core/lib/client/dialog.js"),y=n("./node_modules/playwright-core/lib/client/errors.js"),v=n("./node_modules/playwright-core/lib/client/events.js"),A=n("./node_modules/playwright-core/lib/client/fetch.js"),_=n("./node_modules/playwright-core/lib/client/frame.js"),x=n("./node_modules/playwright-core/lib/client/harRouter.js"),S=((e,t,n)=>(n=null!=e?o(l(e)):{},u(e&&e.__esModule?n:i(n,"default",{value:e,enumerable:!0}),e)))(n("./node_modules/playwright-core/lib/client/network.js")),E=n("./node_modules/playwright-core/lib/client/page.js"),C=n("./node_modules/playwright-core/lib/client/tracing.js"),k=n("./node_modules/playwright-core/lib/client/waiter.js"),O=n("./node_modules/playwright-core/lib/client/webError.js"),T=n("./node_modules/playwright-core/lib/client/worker.js"),I=n("./node_modules/playwright-core/lib/client/timeoutSettings.js"),B=n("./node_modules/playwright-core/lib/client/fileUtils.js"),M=n("./node_modules/playwright-core/lib/utils/isomorphic/headers.js"),P=n("./node_modules/playwright-core/lib/utils/isomorphic/urlMatch.js"),j=n("./node_modules/playwright-core/lib/utils/isomorphic/rtti.js"),N=n("./node_modules/playwright-core/lib/utils/isomorphic/stackTrace.js");class F extends f.ChannelOwner{constructor(e,t,n,r){super(e,t,n,r),this._pages=new Set,this._routes=[],this._webSocketRoutes=[],this._browser=null,this._bindings=new Map,this._forReuse=!1,this._serviceWorkers=new Set,this._harRecorders=new Map,this._closingStatus="none",this._harRouters=[],this._options=r.options,this._timeoutSettings=new I.TimeoutSettings(this._platform),this.tracing=C.Tracing.from(r.tracing),this.request=A.APIRequestContext.from(r.requestContext),this.request._timeoutSettings=this._timeoutSettings,this.clock=new g.Clock(this),this._channel.on("bindingCall",({binding:e})=>this._onBinding(E.BindingCall.from(e))),this._channel.on("close",()=>this._onClose()),this._channel.on("page",({page:e})=>this._onPage(E.Page.from(e))),this._channel.on("route",({route:e})=>this._onRoute(S.Route.from(e))),this._channel.on("webSocketRoute",({webSocketRoute:e})=>this._onWebSocketRoute(S.WebSocketRoute.from(e))),this._channel.on("serviceWorker",({worker:e})=>{const t=T.Worker.from(e);t._context=this,this._serviceWorkers.add(t),this.emit(v.Events.BrowserContext.ServiceWorker,t)}),this._channel.on("console",e=>{const t=new b.ConsoleMessage(this._platform,e,E.Page.fromNullable(e.page));this.emit(v.Events.BrowserContext.Console,t);const n=t.page();n&&n.emit(v.Events.Page.Console,t)}),this._channel.on("pageError",({error:e,page:t})=>{const n=E.Page.from(t),r=(0,y.parseError)(e);this.emit(v.Events.BrowserContext.WebError,new O.WebError(n,r)),n&&n.emit(v.Events.Page.PageError,r)}),this._channel.on("dialog",({dialog:e})=>{const t=w.Dialog.from(e);let n=this.emit(v.Events.BrowserContext.Dialog,t);const r=t.page();r&&(n=r.emit(v.Events.Page.Dialog,t)||n),n||("beforeunload"===t.type()?e.accept({}).catch(()=>{}):e.dismiss().catch(()=>{}))}),this._channel.on("request",({request:e,page:t})=>this._onRequest(S.Request.from(e),E.Page.fromNullable(t))),this._channel.on("requestFailed",({request:e,failureText:t,responseEndTiming:n,page:r})=>this._onRequestFailed(S.Request.from(e),n,t,E.Page.fromNullable(r))),this._channel.on("requestFinished",e=>this._onRequestFinished(e)),this._channel.on("response",({response:e,page:t})=>this._onResponse(S.Response.from(e),E.Page.fromNullable(t))),this._channel.on("recorderEvent",({event:e,data:t,page:n,code:r})=>{"actionAdded"===e?this._onRecorderEventSink?.actionAdded?.(E.Page.from(n),t,r):"actionUpdated"===e?this._onRecorderEventSink?.actionUpdated?.(E.Page.from(n),t,r):"signalAdded"===e&&this._onRecorderEventSink?.signalAdded?.(E.Page.from(n),t)}),this._closedPromise=new Promise(e=>this.once(v.Events.BrowserContext.Close,e)),this._setEventToSubscriptionMapping(new Map([[v.Events.BrowserContext.Console,"console"],[v.Events.BrowserContext.Dialog,"dialog"],[v.Events.BrowserContext.Request,"request"],[v.Events.BrowserContext.Response,"response"],[v.Events.BrowserContext.RequestFinished,"requestFinished"],[v.Events.BrowserContext.RequestFailed,"requestFailed"]]))}static from(e){return e._object}static fromNullable(e){return e?F.from(e):null}async _initializeHarFromOptions(e){if(!e)return;const t=e.path.endsWith(".zip")?"attach":"embed";await this._recordIntoHAR(e.path,null,{url:e.urlFilter,updateContent:e.content??(e.omitContent?"omit":t),updateMode:e.mode??"full"})}_onPage(e){this._pages.add(e),this.emit(v.Events.BrowserContext.Page,e),e._opener&&!e._opener.isClosed()&&e._opener.emit(v.Events.Page.Popup,e)}_onRequest(e,t){this.emit(v.Events.BrowserContext.Request,e),t&&t.emit(v.Events.Page.Request,e)}_onResponse(e,t){this.emit(v.Events.BrowserContext.Response,e),t&&t.emit(v.Events.Page.Response,e)}_onRequestFailed(e,t,n,r){e._failureText=n||null,e._setResponseEndTiming(t),this.emit(v.Events.BrowserContext.RequestFailed,e),r&&r.emit(v.Events.Page.RequestFailed,e)}_onRequestFinished(e){const{responseEndTiming:t}=e,n=S.Request.from(e.request),r=S.Response.fromNullable(e.response),o=E.Page.fromNullable(e.page);n._setResponseEndTiming(t),this.emit(v.Events.BrowserContext.RequestFinished,n),o&&o.emit(v.Events.Page.RequestFinished,n),r&&r._finishedPromise.resolve(null)}async _onRoute(e){e._context=this;const t=e.request()._safePage(),n=this._routes.slice();for(const r of n){if(t?._closeWasCalled||"none"!==this._closingStatus)return;if(!r.matches(e.request().url()))continue;const n=this._routes.indexOf(r);if(-1===n)continue;r.willExpire()&&this._routes.splice(n,1);const o=await r.handle(e);if(this._routes.length||this._updateInterceptionPatterns({internal:!0}).catch(()=>{}),o)return}await e._innerContinue(!0).catch(()=>{})}async _onWebSocketRoute(e){const t=this._webSocketRoutes.find(t=>t.matches(e.url()));t?await t.handle(e):e.connectToServer()}async _onBinding(e){const t=this._bindings.get(e._initializer.name);t&&await e.call(t)}setDefaultNavigationTimeout(e){this._timeoutSettings.setDefaultNavigationTimeout(e)}setDefaultTimeout(e){this._timeoutSettings.setDefaultTimeout(e)}browser(){return this._browser}pages(){return[...this._pages]}async newPage(){if(this._ownerPage)throw new Error("Please use browser.newContext()");return E.Page.from((await this._channel.newPage()).page)}async cookies(e){return e||(e=[]),e&&"string"==typeof e&&(e=[e]),(await this._channel.cookies({urls:e})).cookies}async addCookies(e){await this._channel.addCookies({cookies:e})}async clearCookies(e={}){await this._channel.clearCookies({name:(0,j.isString)(e.name)?e.name:void 0,nameRegexSource:(0,j.isRegExp)(e.name)?e.name.source:void 0,nameRegexFlags:(0,j.isRegExp)(e.name)?e.name.flags:void 0,domain:(0,j.isString)(e.domain)?e.domain:void 0,domainRegexSource:(0,j.isRegExp)(e.domain)?e.domain.source:void 0,domainRegexFlags:(0,j.isRegExp)(e.domain)?e.domain.flags:void 0,path:(0,j.isString)(e.path)?e.path:void 0,pathRegexSource:(0,j.isRegExp)(e.path)?e.path.source:void 0,pathRegexFlags:(0,j.isRegExp)(e.path)?e.path.flags:void 0})}async grantPermissions(e,t){await this._channel.grantPermissions({permissions:e,...t})}async clearPermissions(){await this._channel.clearPermissions()}async setGeolocation(e){await this._channel.setGeolocation({geolocation:e||void 0})}async setExtraHTTPHeaders(e){S.validateHeaders(e),await this._channel.setExtraHTTPHeaders({headers:(0,M.headersObjectToArray)(e)})}async setOffline(e){await this._channel.setOffline({offline:e})}async setHTTPCredentials(e){await this._channel.setHTTPCredentials({httpCredentials:e||void 0})}async addInitScript(e,t){const n=await(0,m.evaluationScript)(this._platform,e,t);await this._channel.addInitScript({source:n})}async exposeBinding(e,t,n={}){await this._channel.exposeBinding({name:e,needsHandle:n.handle}),this._bindings.set(e,t)}async exposeFunction(e,t){await this._channel.exposeBinding({name:e}),this._bindings.set(e,(e,...n)=>t(...n))}async route(e,t,n={}){this._routes.unshift(new S.RouteHandler(this._platform,this._options.baseURL,e,t,n.times)),await this._updateInterceptionPatterns({title:"Route requests"})}async routeWebSocket(e,t){this._webSocketRoutes.unshift(new S.WebSocketRouteHandler(this._options.baseURL,e,t)),await this._updateWebSocketInterceptionPatterns({title:"Route WebSockets"})}async _recordIntoHAR(e,t,n={}){const{harId:r}=await this._channel.harStart({page:t?._channel,options:{zip:e.endsWith(".zip"),content:n.updateContent??"attach",urlGlob:(0,j.isString)(n.url)?n.url:void 0,urlRegexSource:(0,j.isRegExp)(n.url)?n.url.source:void 0,urlRegexFlags:(0,j.isRegExp)(n.url)?n.url.flags:void 0,mode:n.updateMode??"minimal"}});this._harRecorders.set(r,{path:e,content:n.updateContent??"attach"})}async routeFromHAR(e,t={}){const n=this._connection.localUtils();if(!n)throw new Error("Route from har is not supported in thin clients");if(t.update)return void await this._recordIntoHAR(e,null,t);const r=await x.HarRouter.create(n,e,t.notFound||"abort",{urlMatch:t.url});this._harRouters.push(r),await r.addContextRoute(this)}_disposeHarRouters(){this._harRouters.forEach(e=>e.dispose()),this._harRouters=[]}async unrouteAll(e){await this._unrouteInternal(this._routes,[],e?.behavior),this._disposeHarRouters()}async unroute(e,t){const n=[],r=[];for(const o of this._routes)!(0,P.urlMatchesEqual)(o.url,e)||t&&o.handler!==t?r.push(o):n.push(o);await this._unrouteInternal(n,r,"default")}async _unrouteInternal(e,t,n){if(this._routes=t,n&&"default"!==n){const t=e.map(e=>e.stop(n));await Promise.all(t)}await this._updateInterceptionPatterns({title:"Unroute requests"})}async _updateInterceptionPatterns(e){const t=S.RouteHandler.prepareInterceptionPatterns(this._routes);await this._wrapApiCall(()=>this._channel.setNetworkInterceptionPatterns({patterns:t}),e)}async _updateWebSocketInterceptionPatterns(e){const t=S.WebSocketRouteHandler.prepareInterceptionPatterns(this._webSocketRoutes);await this._wrapApiCall(()=>this._channel.setWebSocketInterceptionPatterns({patterns:t}),e)}_effectiveCloseReason(){return this._closeReason||this._browser?._closeReason}async waitForEvent(e,t={}){return await this._wrapApiCall(async()=>{const n=this._timeoutSettings.timeout("function"==typeof t?{}:t),r="function"==typeof t?t:t.predicate,o=k.Waiter.createForEvent(this,e);o.rejectOnTimeout(n,`Timeout ${n}ms exceeded while waiting for event "${e}"`),e!==v.Events.BrowserContext.Close&&o.rejectOnEvent(this,v.Events.BrowserContext.Close,()=>new y.TargetClosedError(this._effectiveCloseReason()));const i=await o.waitForEvent(this,e,r);return o.dispose(),i})}async storageState(e={}){const t=await this._channel.storageState({indexedDB:e.indexedDB});return e.path&&(await(0,B.mkdirIfNeeded)(this._platform,e.path),await this._platform.fs().promises.writeFile(e.path,JSON.stringify(t,void 0,2),"utf8")),t}backgroundPages(){return[]}serviceWorkers(){return[...this._serviceWorkers]}async newCDPSession(e){if(!(e instanceof E.Page||e instanceof _.Frame))throw new Error("page: expected Page or Frame");const t=await this._channel.newCDPSession(e instanceof E.Page?{page:e._channel}:{frame:e._channel});return p.CDPSession.from(t.session)}_onClose(){this._closingStatus="closed",this._browser?._contexts.delete(this),this._browser?._browserType._contexts.delete(this),this._browser?._browserType._playwright.selectors._contextsForSelectors.delete(this),this._disposeHarRouters(),this.tracing._resetStackCounter(),this.emit(v.Events.BrowserContext.Close,this)}async[Symbol.asyncDispose](){await this.close()}async close(e={}){"none"===this._closingStatus&&(this._closeReason=e.reason,this._closingStatus="closing",await this.request.dispose(e),await this._instrumentation.runBeforeCloseBrowserContext(this),await this._wrapApiCall(async()=>{for(const[e,t]of this._harRecorders){const n=await this._channel.harExport({harId:e}),r=h.Artifact.from(n.artifact),o="attach"===t.content||t.path.endsWith(".zip"),i=t.path.endsWith(".zip");if(o&&!i){const e=this._connection.localUtils();if(!e)throw new Error("Uncompressed har is not supported in thin clients");await r.saveAs(t.path+".tmp"),await e.harUnzip({zipFile:t.path+".tmp",harFile:t.path})}else await r.saveAs(t.path);await r.delete()}},{internal:!0}),await this._channel.close(e),await this._closedPromise)}async _enableRecorder(e,t){t&&(this._onRecorderEventSink=t),await this._channel.enableRecorder(e)}async _disableRecorder(){this._onRecorderEventSink=void 0,await this._channel.disableRecorder()}}async function D(e,t){if("string"!=typeof t)return t;try{return JSON.parse(await e.fs().promises.readFile(t,"utf8"))}catch(e){throw(0,N.rewriteErrorMessage)(e,`Error reading storage state from ${t}:\n`+e.message),e}}async function R(e,t){if(t.videoSize&&!t.videosPath)throw new Error('"videoSize" option requires "videosPath" to be specified');t.extraHTTPHeaders&&S.validateHeaders(t.extraHTTPHeaders);const n={...t,viewport:null===t.viewport?void 0:t.viewport,noDefaultViewport:null===t.viewport,extraHTTPHeaders:t.extraHTTPHeaders?(0,M.headersObjectToArray)(t.extraHTTPHeaders):void 0,storageState:t.storageState?await D(e,t.storageState):void 0,serviceWorkers:t.serviceWorkers,colorScheme:null===t.colorScheme?"no-override":t.colorScheme,reducedMotion:null===t.reducedMotion?"no-override":t.reducedMotion,forcedColors:null===t.forcedColors?"no-override":t.forcedColors,contrast:null===t.contrast?"no-override":t.contrast,acceptDownloads:L(t.acceptDownloads),clientCertificates:await z(e,t.clientCertificates)};return!n.recordVideo&&t.videosPath&&(n.recordVideo={dir:t.videosPath,size:t.videoSize}),n.recordVideo&&n.recordVideo.dir&&(n.recordVideo.dir=e.path().resolve(n.recordVideo.dir)),n}function L(e){if(void 0!==e)return e?"accept":"deny"}async function z(e,t){if(!t)return;const n=async(t,n)=>t||(n?await e.fs().promises.readFile(n):void 0);return await Promise.all(t.map(async e=>({origin:e.origin,cert:await n(e.cert,e.certPath),key:await n(e.key,e.keyPath),pfx:await n(e.pfx,e.pfxPath),passphrase:e.passphrase})))}},"./node_modules/playwright-core/lib/client/browserType.js":(e,t,n)=>{"use strict";var r,o=Object.defineProperty,i=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,l={};((e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})})(l,{BrowserType:()=>v}),e.exports=(r=l,((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let n of s(t))a.call(e,n)||undefined===n||o(e,n,{get:()=>t[n],enumerable:!(r=i(t,n))||r.enumerable});return e})(o({},"__esModule",{value:!0}),r));var c=n("./node_modules/playwright-core/lib/client/browser.js"),u=n("./node_modules/playwright-core/lib/client/browserContext.js"),d=n("./node_modules/playwright-core/lib/client/channelOwner.js"),h=n("./node_modules/playwright-core/lib/client/clientHelper.js"),p=n("./node_modules/playwright-core/lib/client/events.js"),f=n("./node_modules/playwright-core/lib/utils/isomorphic/assert.js"),m=n("./node_modules/playwright-core/lib/utils/isomorphic/headers.js"),g=n("./node_modules/playwright-core/lib/utils/isomorphic/time.js"),b=n("./node_modules/playwright-core/lib/utils/isomorphic/timeoutRunner.js"),w=n("./node_modules/playwright-core/lib/client/webSocket.js"),y=n("./node_modules/playwright-core/lib/client/timeoutSettings.js");class v extends d.ChannelOwner{constructor(){super(...arguments),this._contexts=new Set}static from(e){return e._object}executablePath(){if(!this._initializer.executablePath)throw new Error("Browser is not supported on current platform");return this._initializer.executablePath}name(){return this._initializer.name}async launch(e={}){(0,f.assert)(!e.userDataDir,"userDataDir option is not supported in `browserType.launch`. Use `browserType.launchPersistentContext` instead"),(0,f.assert)(!e.port,"Cannot specify a port without launching as a server.");const t=e.logger||this._playwright._defaultLaunchOptions?.logger;e={...this._playwright._defaultLaunchOptions,...e};const n={...e,ignoreDefaultArgs:Array.isArray(e.ignoreDefaultArgs)?e.ignoreDefaultArgs:void 0,ignoreAllDefaultArgs:!!e.ignoreDefaultArgs&&!Array.isArray(e.ignoreDefaultArgs),env:e.env?(0,h.envObjectToArray)(e.env):void 0,timeout:new y.TimeoutSettings(this._platform).launchTimeout(e)};return await this._wrapApiCall(async()=>{const r=c.Browser.from((await this._channel.launch(n)).browser);return r._connectToBrowserType(this,e,t),r})}async launchServer(e={}){if(!this._serverLauncher)throw new Error("Launching server is not supported");return e={...this._playwright._defaultLaunchOptions,...e},await this._serverLauncher.launchServer(e)}async launchPersistentContext(e,t={}){const n=t.logger||this._playwright._defaultLaunchOptions?.logger;(0,f.assert)(!t.port,"Cannot specify a port without launching as a server."),t=this._playwright.selectors._withSelectorOptions({...this._playwright._defaultLaunchOptions,...this._playwright._defaultContextOptions,...t});const r={...await(0,u.prepareBrowserContextParams)(this._platform,t),ignoreDefaultArgs:Array.isArray(t.ignoreDefaultArgs)?t.ignoreDefaultArgs:void 0,ignoreAllDefaultArgs:!!t.ignoreDefaultArgs&&!Array.isArray(t.ignoreDefaultArgs),env:t.env?(0,h.envObjectToArray)(t.env):void 0,channel:t.channel,userDataDir:this._platform.path().isAbsolute(e)||!e?e:this._platform.path().resolve(e),timeout:new y.TimeoutSettings(this._platform).launchTimeout(t)},o=await this._wrapApiCall(async()=>{const e=await this._channel.launchPersistentContext(r);c.Browser.from(e.browser)._connectToBrowserType(this,t,n);const o=u.BrowserContext.from(e.context);return await o._initializeHarFromOptions(t.recordHar),o});return await this._instrumentation.runAfterCreateBrowserContext(o),o}async connect(e,t){return"string"==typeof e?await this._connect({...t,wsEndpoint:e}):((0,f.assert)(e.wsEndpoint,"options.wsEndpoint is required"),await this._connect(e))}async _connect(e){const t=e.logger;return await this._wrapApiCall(async()=>{const n=e.timeout?(0,g.monotonicTime)()+e.timeout:0,r={"x-playwright-browser":this.name(),...e.headers},o={wsEndpoint:e.wsEndpoint,headers:r,exposeNetwork:e.exposeNetwork??e._exposeNetwork,slowMo:e.slowMo,timeout:e.timeout||0};e.__testHookRedirectPortForwarding&&(o.socksProxyRedirectPortForTest=e.__testHookRedirectPortForwarding);const i=await(0,w.connectOverWebSocket)(this._connection,o);let s;i.on("close",()=>{for(const e of s?.contexts()||[]){for(const t of e.pages())t._onClose();e._onClose()}setTimeout(()=>s?._didClose(),0)});const a=await(0,b.raceAgainstDeadline)(async()=>{e.__testHookBeforeCreateBrowser&&await e.__testHookBeforeCreateBrowser();const n=await i.initializePlaywright();if(!n._initializer.preLaunchedBrowser)throw i.close(),new Error("Malformed endpoint. Did you use BrowserType.launchServer method?");return n.selectors=this._playwright.selectors,s=c.Browser.from(n._initializer.preLaunchedBrowser),s._connectToBrowserType(this,{},t),s._shouldCloseConnectionOnClose=!0,s.on(p.Events.Browser.Disconnected,()=>i.close()),s},n);if(a.timedOut)throw i.close(),new Error(`Timeout ${e.timeout}ms exceeded`);return a.result})}async connectOverCDP(e,t){if("string"==typeof e)return await this._connectOverCDP(e,t);const n="endpointURL"in e?e.endpointURL:e.wsEndpoint;return(0,f.assert)(n,"Cannot connect over CDP without wsEndpoint."),await this.connectOverCDP(n,e)}async _connectOverCDP(e,t={}){if("chromium"!==this.name())throw new Error("Connecting over CDP is only supported in Chromium.");const n=t.headers?(0,m.headersObjectToArray)(t.headers):void 0,r=await this._channel.connectOverCDP({endpointURL:e,headers:n,slowMo:t.slowMo,timeout:new y.TimeoutSettings(this._platform).timeout(t)}),o=c.Browser.from(r.browser);return o._connectToBrowserType(this,{},t.logger),r.defaultContext&&await this._instrumentation.runAfterCreateBrowserContext(u.BrowserContext.from(r.defaultContext)),o}}},"./node_modules/playwright-core/lib/client/cdpSession.js":(e,t,n)=>{"use strict";var r,o=Object.defineProperty,i=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,l={};((e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})})(l,{CDPSession:()=>u}),e.exports=(r=l,((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let n of s(t))a.call(e,n)||undefined===n||o(e,n,{get:()=>t[n],enumerable:!(r=i(t,n))||r.enumerable});return e})(o({},"__esModule",{value:!0}),r));var c=n("./node_modules/playwright-core/lib/client/channelOwner.js");class u extends c.ChannelOwner{static from(e){return e._object}constructor(e,t,n,r){super(e,t,n,r),this._channel.on("event",({method:e,params:t})=>{this.emit(e,t)}),this.on=super.on,this.addListener=super.addListener,this.off=super.removeListener,this.removeListener=super.removeListener,this.once=super.once}async send(e,t){return(await this._channel.send({method:e,params:t})).result}async detach(){return await this._channel.detach()}}},"./node_modules/playwright-core/lib/client/channelOwner.js":(e,t,n)=>{"use strict";var r,o=Object.defineProperty,i=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,l={};((e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})})(l,{ChannelOwner:()=>f}),e.exports=(r=l,((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let n of s(t))a.call(e,n)||undefined===n||o(e,n,{get:()=>t[n],enumerable:!(r=i(t,n))||r.enumerable});return e})(o({},"__esModule",{value:!0}),r));var c=n("./node_modules/playwright-core/lib/client/eventEmitter.js"),u=n("./node_modules/playwright-core/lib/protocol/validator.js"),d=n("./node_modules/playwright-core/lib/utils/isomorphic/protocolMetainfo.js"),h=n("./node_modules/playwright-core/lib/client/clientStackTrace.js"),p=n("./node_modules/playwright-core/lib/utils/isomorphic/stackTrace.js");class f extends c.EventEmitter{constructor(e,t,n,r){const o=e instanceof f?e._connection:e;super(o._platform),this._objects=new Map,this._eventToSubscriptionMapping=new Map,this._wasCollected=!1,this.setMaxListeners(0),this._connection=o,this._type=t,this._guid=n,this._parent=e instanceof f?e:void 0,this._instrumentation=this._connection._instrumentation,this._connection._objects.set(n,this),this._parent&&(this._parent._objects.set(n,this),this._logger=this._parent._logger),this._channel=this._createChannel(new c.EventEmitter(o._platform)),this._initializer=r}_setEventToSubscriptionMapping(e){this._eventToSubscriptionMapping=e}_updateSubscription(e,t){const n=this._eventToSubscriptionMapping.get(String(e));n&&this._channel.updateSubscription({event:n,enabled:t}).catch(()=>{})}on(e,t){return this.listenerCount(e)||this._updateSubscription(e,!0),super.on(e,t),this}addListener(e,t){return this.listenerCount(e)||this._updateSubscription(e,!0),super.addListener(e,t),this}prependListener(e,t){return this.listenerCount(e)||this._updateSubscription(e,!0),super.prependListener(e,t),this}off(e,t){return super.off(e,t),this.listenerCount(e)||this._updateSubscription(e,!1),this}removeListener(e,t){return super.removeListener(e,t),this.listenerCount(e)||this._updateSubscription(e,!1),this}_adopt(e){e._parent._objects.delete(e._guid),this._objects.set(e._guid,e),e._parent=this}_dispose(e){this._parent&&this._parent._objects.delete(this._guid),this._connection._objects.delete(this._guid),this._wasCollected="gc"===e;for(const t of[...this._objects.values()])t._dispose(e);this._objects.clear()}_debugScopeState(){return{_guid:this._guid,objects:Array.from(this._objects.values()).map(e=>e._debugScopeState())}}_validatorToWireContext(){return{tChannelImpl:g,binary:this._connection.rawBuffers()?"buffer":"toBase64",isUnderTest:()=>this._platform.isUnderTest()}}_createChannel(e){const t=new Proxy(e,{get:(e,t)=>{if("string"==typeof t){const e=(0,u.maybeFindValidator)(this._type,t,"Params"),{internal:n}=d.methodMetainfo.get(this._type+"."+t)||{};if(e)return async r=>await this._wrapApiCall(async n=>{const o=e(r,"",this._validatorToWireContext());return n.internal||n.reported?await this._connection.sendMessageToServer(this,t,o,{internal:!0}):(n.reported=!0,this._instrumentation.onApiCallBegin(n,{type:this._type,method:t,params:r}),m(this._platform,this._logger,`=> ${n.apiName} started`),await this._connection.sendMessageToServer(this,t,o,n))},{internal:n})}return e[t]}});return t._object=this,t}async _wrapApiCall(e,t){const n=this._logger,r=this._platform.zones.current().data();if(r)return await e(r);const o=(0,h.captureLibraryStackTrace)(this._platform),i={title:t?.title,apiName:o.apiName,frames:o.frames,internal:t?.internal??!1,reported:!1,userData:void 0,stepId:void 0};try{const r=await this._platform.zones.current().push(i).run(async()=>await e(i));return t?.internal||(m(this._platform,n,`<= ${i.apiName} succeeded`),this._instrumentation.onApiCallEnd(i)),r}catch(e){const r=(this._platform.showInternalStackFrames()||this._platform.isUnderTest())&&e.stack?"\n<inner error>\n"+e.stack:"";i.apiName&&!i.apiName.includes("<anonymous>")&&(e.message=i.apiName+": "+e.message);const s="\n"+(0,p.stringifyStackFrames)(o.frames).join("\n")+r;throw s.trim()?e.stack=e.message+s:e.stack="",t?.internal||(i.error=e,m(this._platform,n,`<= ${i.apiName} failed`),this._instrumentation.onApiCallEnd(i)),e}}toJSON(){return{_type:this._type,_guid:this._guid}}}function m(e,t,n){t&&t.isEnabled("api","info")&&t.log("api","info",n,[],{color:"cyan"}),e.log("api",n)}function g(e,t,n,r){if(t._object instanceof f&&("*"===e||e.includes(t._object._type)))return{guid:t._object._guid};throw new u.ValidationError(`${n}: expected channel ${e.toString()}`)}},"./node_modules/playwright-core/lib/client/clientHelper.js":(e,t,n)=>{"use strict";var r,o=Object.defineProperty,i=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,l={};((e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})})(l,{addSourceUrlToScript:()=>h,envObjectToArray:()=>u,evaluationScript:()=>d}),e.exports=(r=l,((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let n of s(t))a.call(e,n)||undefined===n||o(e,n,{get:()=>t[n],enumerable:!(r=i(t,n))||r.enumerable});return e})(o({},"__esModule",{value:!0}),r));var c=n("./node_modules/playwright-core/lib/utils/isomorphic/rtti.js");function u(e){const t=[];for(const n in e)Object.is(e[n],void 0)||t.push({name:n,value:String(e[n])});return t}async function d(e,t,n,r=!0){if("function"==typeof t)return`(${t.toString()})(${Object.is(n,void 0)?"undefined":JSON.stringify(n)})`;if(void 0!==n)throw new Error("Cannot evaluate a string with arguments");if((0,c.isString)(t))return t;if(void 0!==t.content)return t.content;if(void 0!==t.path){let n=await e.fs().promises.readFile(t.path,"utf8");return r&&(n=h(n,t.path)),n}throw new Error("Either path or content property must be present")}function h(e,t){return`${e}\n//# sourceURL=${t.replace(/\n/g,"")}`}},"./node_modules/playwright-core/lib/client/clientInstrumentation.js":e=>{"use strict";var t,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,i=Object.prototype.hasOwnProperty,s={};function a(){const e=[];return new Proxy({},{get:(t,n)=>"string"!=typeof n?t[n]:"addListener"===n?t=>e.push(t):"removeListener"===n?t=>e.splice(e.indexOf(t),1):"removeAllListeners"===n?()=>e.splice(0,e.length):n.startsWith("run")?async(...t)=>{for(const r of e)await(r[n]?.(...t))}:n.startsWith("on")?(...t)=>{for(const r of e)r[n]?.(...t)}:t[n]})}((e,t)=>{for(var r in t)n(e,r,{get:t[r],enumerable:!0})})(s,{createInstrumentation:()=>a}),e.exports=(t=s,((e,t,s,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let s of o(t))i.call(e,s)||undefined===s||n(e,s,{get:()=>t[s],enumerable:!(a=r(t,s))||a.enumerable});return e})(n({},"__esModule",{value:!0}),t))},"./node_modules/playwright-core/lib/client/clientStackTrace.js":(e,t,n)=>{"use strict";var r,o=Object.defineProperty,i=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,l={};((e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})})(l,{captureLibraryStackTrace:()=>u}),e.exports=(r=l,((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let n of s(t))a.call(e,n)||undefined===n||o(e,n,{get:()=>t[n],enumerable:!(r=i(t,n))||r.enumerable});return e})(o({},"__esModule",{value:!0}),r));var c=n("./node_modules/playwright-core/lib/utils/isomorphic/stackTrace.js");function u(e){let t=(0,c.captureRawStack)().map(t=>{const n=(0,c.parseStackFrame)(t,e.pathSeparator,e.showInternalStackFrames());if(!n||!n.file)return null;const r=!!e.coreDir&&n.file.startsWith(e.coreDir);return{frame:n,frameText:t,isPlaywrightLibrary:r}}).filter(Boolean),n="";for(let e=0;e<t.length-1;e++){const o=t[e];if(o.isPlaywrightLibrary&&!t[e+1].isPlaywrightLibrary){n=n||r(o.frame.function);break}}function r(e){if(!e)return"";const t=e.match(/(API|JS|CDP|[A-Z])(.*)/);return t?t[1].toLowerCase()+t[2]:e}const o=e.boxedStackPrefixes();return t=t.filter(e=>!o.some(t=>e.frame.file.startsWith(t))),{frames:t.map(e=>e.frame),apiName:n}}},"./node_modules/playwright-core/lib/client/clock.js":e=>{"use strict";var t,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,i=Object.prototype.hasOwnProperty,s={};((e,t)=>{for(var r in t)n(e,r,{get:t[r],enumerable:!0})})(s,{Clock:()=>a}),e.exports=(t=s,((e,t,s,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let s of o(t))i.call(e,s)||undefined===s||n(e,s,{get:()=>t[s],enumerable:!(a=r(t,s))||a.enumerable});return e})(n({},"__esModule",{value:!0}),t));class a{constructor(e){this._browserContext=e}async install(e={}){await this._browserContext._channel.clockInstall(void 0!==e.time?l(e.time):{})}async fastForward(e){await this._browserContext._channel.clockFastForward(c(e))}async pauseAt(e){await this._browserContext._channel.clockPauseAt(l(e))}async resume(){await this._browserContext._channel.clockResume({})}async runFor(e){await this._browserContext._channel.clockRunFor(c(e))}async setFixedTime(e){await this._browserContext._channel.clockSetFixedTime(l(e))}async setSystemTime(e){await this._browserContext._channel.clockSetSystemTime(l(e))}}function l(e){if("number"==typeof e)return{timeNumber:e};if("string"==typeof e)return{timeString:e};if(!isFinite(e.getTime()))throw new Error(`Invalid date: ${e}`);return{timeNumber:e.getTime()}}function c(e){return{ticksNumber:"number"==typeof e?e:void 0,ticksString:"string"==typeof e?e:void 0}}},"./node_modules/playwright-core/lib/client/connection.js":(e,t,n)=>{"use strict";var r,o=Object.defineProperty,i=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,l={};((e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})})(l,{Connection:()=>R}),e.exports=(r=l,((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let n of s(t))a.call(e,n)||undefined===n||o(e,n,{get:()=>t[n],enumerable:!(r=i(t,n))||r.enumerable});return e})(o({},"__esModule",{value:!0}),r));var c=n("./node_modules/playwright-core/lib/client/eventEmitter.js"),u=n("./node_modules/playwright-core/lib/client/android.js"),d=n("./node_modules/playwright-core/lib/client/artifact.js"),h=n("./node_modules/playwright-core/lib/client/browser.js"),p=n("./node_modules/playwright-core/lib/client/browserContext.js"),f=n("./node_modules/playwright-core/lib/client/browserType.js"),m=n("./node_modules/playwright-core/lib/client/cdpSession.js"),g=n("./node_modules/playwright-core/lib/client/channelOwner.js"),b=n("./node_modules/playwright-core/lib/client/clientInstrumentation.js"),w=n("./node_modules/playwright-core/lib/client/dialog.js"),y=n("./node_modules/playwright-core/lib/client/electron.js"),v=n("./node_modules/playwright-core/lib/client/elementHandle.js"),A=n("./node_modules/playwright-core/lib/client/errors.js"),_=n("./node_modules/playwright-core/lib/client/fetch.js"),x=n("./node_modules/playwright-core/lib/client/frame.js"),S=n("./node_modules/playwright-core/lib/client/jsHandle.js"),E=n("./node_modules/playwright-core/lib/client/jsonPipe.js"),C=n("./node_modules/playwright-core/lib/client/localUtils.js"),k=n("./node_modules/playwright-core/lib/client/network.js"),O=n("./node_modules/playwright-core/lib/client/page.js"),T=n("./node_modules/playwright-core/lib/client/playwright.js"),I=n("./node_modules/playwright-core/lib/client/stream.js"),B=n("./node_modules/playwright-core/lib/client/tracing.js"),M=n("./node_modules/playwright-core/lib/client/worker.js"),P=n("./node_modules/playwright-core/lib/client/writableStream.js"),j=n("./node_modules/playwright-core/lib/protocol/validator.js"),N=n("./node_modules/playwright-core/lib/utils/isomorphic/stackTrace.js");class F extends g.ChannelOwner{constructor(e){super(e,"Root","",{})}async initialize(){return T.Playwright.from((await this._channel.initialize({sdkLanguage:"javascript"})).playwright)}}class D extends g.ChannelOwner{}class R extends c.EventEmitter{constructor(e,t,n,r=[]){super(e),this._objects=new Map,this.onmessage=e=>{},this._lastId=0,this._callbacks=new Map,this._isRemote=!1,this._rawBuffers=!1,this._tracingCount=0,this._instrumentation=n||(0,b.createInstrumentation)(),this._localUtils=t,this._rootObject=new F(this),this.headers=r}markAsRemote(){this._isRemote=!0}isRemote(){return this._isRemote}useRawBuffers(){this._rawBuffers=!0}rawBuffers(){return this._rawBuffers}localUtils(){return this._localUtils}async initializePlaywright(){return await this._rootObject.initialize()}getObjectWithKnownName(e){return this._objects.get(e)}setIsTracing(e){e?this._tracingCount++:this._tracingCount--}async sendMessageToServer(e,t,n,r){if(this._closedError)throw this._closedError;if(e._wasCollected)throw new Error("The object has been collected to prevent unbounded heap growth.");const o=e._guid,i=e._type,s=++this._lastId,a={id:s,guid:o,method:t,params:n};this._platform.isLogEnabled("channel")&&this._platform.log("channel","SEND> "+JSON.stringify(a));const l=r.frames?.[0]?{file:r.frames[0].file,line:r.frames[0].line,column:r.frames[0].column}:void 0,c={title:r.title,location:l,internal:r.internal,stepId:r.stepId};return this._tracingCount&&r.frames&&"LocalUtils"!==i&&this._localUtils?.addStackToTracingNoReply({callData:{stack:r.frames??[],id:s}}).catch(()=>{}),this._platform.zones.empty.run(()=>this.onmessage({...a,metadata:c})),await new Promise((e,n)=>this._callbacks.set(s,{resolve:e,reject:n,title:r.title,type:i,method:t}))}_validatorFromWireContext(){return{tChannelImpl:this._tChannelImplFromWire.bind(this),binary:this._rawBuffers?"buffer":"fromBase64",isUnderTest:()=>this._platform.isUnderTest()}}dispatch(e){if(this._closedError)return;const{id:t,guid:n,method:r,params:o,result:i,error:s,log:a}=e;if(t){this._platform.isLogEnabled("channel")&&this._platform.log("channel","<RECV "+JSON.stringify(e));const n=this._callbacks.get(t);if(!n)throw new Error(`Cannot find command to respond: ${t}`);if(this._callbacks.delete(t),s&&!i){const e=(0,A.parseError)(s);(0,N.rewriteErrorMessage)(e,e.message+function(e,t){return t&&t.some(e=>!!e)?`\nCall log:\n${e.colors.dim(t.join("\n"))}\n`:""}(this._platform,a)),n.reject(e)}else{const e=(0,j.findValidator)(n.type,n.method,"Result");n.resolve(e(i,"",this._validatorFromWireContext()))}return}if(this._platform.isLogEnabled("channel")&&this._platform.log("channel","<EVENT "+JSON.stringify(e)),"__create__"===r)return void this._createRemoteObject(n,o.type,o.guid,o.initializer);const l=this._objects.get(n);if(!l)throw new Error(`Cannot find object to "${r}": ${n}`);if("__adopt__"===r){const e=this._objects.get(o.guid);if(!e)throw new Error(`Unknown new child: ${o.guid}`);return void l._adopt(e)}if("__dispose__"===r)return void l._dispose(o.reason);const c=(0,j.findValidator)(l._type,r,"Event");l._channel.emit(r,c(o,"",this._validatorFromWireContext()))}close(e){if(!this._closedError){this._closedError=new A.TargetClosedError(e);for(const e of this._callbacks.values())e.reject(this._closedError);this._callbacks.clear(),this.emit("close")}}_tChannelImplFromWire(e,t,n,r){if(t&&"object"==typeof t&&"string"==typeof t.guid){const r=this._objects.get(t.guid);if(!r)throw new Error(`Object with guid ${t.guid} was not bound in the connection`);if("*"!==e&&!e.includes(r._type))throw new j.ValidationError(`${n}: expected channel ${e.toString()}`);return r._channel}throw new j.ValidationError(`${n}: expected channel ${e.toString()}`)}_createRemoteObject(e,t,n,r){const o=this._objects.get(e);if(!o)throw new Error(`Cannot find parent object ${e} to create ${n}`);let i;switch(r=(0,j.findValidator)(t,"","Initializer")(r,"",this._validatorFromWireContext()),t){case"Android":i=new u.Android(o,t,n,r);break;case"AndroidSocket":i=new u.AndroidSocket(o,t,n,r);break;case"AndroidDevice":i=new u.AndroidDevice(o,t,n,r);break;case"APIRequestContext":i=new _.APIRequestContext(o,t,n,r);break;case"Artifact":i=new d.Artifact(o,t,n,r);break;case"BindingCall":i=new O.BindingCall(o,t,n,r);break;case"Browser":i=new h.Browser(o,t,n,r);break;case"BrowserContext":i=new p.BrowserContext(o,t,n,r);break;case"BrowserType":i=new f.BrowserType(o,t,n,r);break;case"CDPSession":i=new m.CDPSession(o,t,n,r);break;case"Dialog":i=new w.Dialog(o,t,n,r);break;case"Electron":i=new y.Electron(o,t,n,r);break;case"ElectronApplication":i=new y.ElectronApplication(o,t,n,r);break;case"ElementHandle":i=new v.ElementHandle(o,t,n,r);break;case"Frame":i=new x.Frame(o,t,n,r);break;case"JSHandle":i=new S.JSHandle(o,t,n,r);break;case"JsonPipe":i=new E.JsonPipe(o,t,n,r);break;case"LocalUtils":i=new C.LocalUtils(o,t,n,r),this._localUtils||(this._localUtils=i);break;case"Page":i=new O.Page(o,t,n,r);break;case"Playwright":i=new T.Playwright(o,t,n,r);break;case"Request":i=new k.Request(o,t,n,r);break;case"Response":i=new k.Response(o,t,n,r);break;case"Route":i=new k.Route(o,t,n,r);break;case"Stream":i=new I.Stream(o,t,n,r);break;case"SocksSupport":i=new D(o,t,n,r);break;case"Tracing":i=new B.Tracing(o,t,n,r);break;case"WebSocket":i=new k.WebSocket(o,t,n,r);break;case"WebSocketRoute":i=new k.WebSocketRoute(o,t,n,r);break;case"Worker":i=new M.Worker(o,t,n,r);break;case"WritableStream":i=new P.WritableStream(o,t,n,r);break;default:throw new Error("Missing type "+t)}return i}}},"./node_modules/playwright-core/lib/client/consoleMessage.js":(e,t,n)=>{"use strict";var r,o=Object.defineProperty,i=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,l={};((e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})})(l,{ConsoleMessage:()=>u}),e.exports=(r=l,((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let n of s(t))a.call(e,n)||undefined===n||o(e,n,{get:()=>t[n],enumerable:!(r=i(t,n))||r.enumerable});return e})(o({},"__esModule",{value:!0}),r));var c=n("./node_modules/playwright-core/lib/client/jsHandle.js");class u{constructor(e,t,n){this._page=n,this._event=t,e.inspectCustom&&(this[e.inspectCustom]=()=>this._inspect())}page(){return this._page}type(){return this._event.type}text(){return this._event.text}args(){return this._event.args.map(c.JSHandle.from)}location(){return this._event.location}_inspect(){return this.text()}}},"./node_modules/playwright-core/lib/client/coverage.js":e=>{"use strict";var t,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,i=Object.prototype.hasOwnProperty,s={};((e,t)=>{for(var r in t)n(e,r,{get:t[r],enumerable:!0})})(s,{Coverage:()=>a}),e.exports=(t=s,((e,t,s,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let s of o(t))i.call(e,s)||undefined===s||n(e,s,{get:()=>t[s],enumerable:!(a=r(t,s))||a.enumerable});return e})(n({},"__esModule",{value:!0}),t));class a{constructor(e){this._channel=e}async startJSCoverage(e={}){await this._channel.startJSCoverage(e)}async stopJSCoverage(){return(await this._channel.stopJSCoverage()).entries}async startCSSCoverage(e={}){await this._channel.startCSSCoverage(e)}async stopCSSCoverage(){return(await this._channel.stopCSSCoverage()).entries}}},"./node_modules/playwright-core/lib/client/dialog.js":(e,t,n)=>{"use strict";var r,o=Object.defineProperty,i=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,l={};((e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})})(l,{Dialog:()=>d}),e.exports=(r=l,((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let n of s(t))a.call(e,n)||undefined===n||o(e,n,{get:()=>t[n],enumerable:!(r=i(t,n))||r.enumerable});return e})(o({},"__esModule",{value:!0}),r));var c=n("./node_modules/playwright-core/lib/client/channelOwner.js"),u=n("./node_modules/playwright-core/lib/client/page.js");class d extends c.ChannelOwner{static from(e){return e._object}constructor(e,t,n,r){super(e,t,n,r),this._page=u.Page.fromNullable(r.page)}page(){return this._page}type(){return this._initializer.type}message(){return this._initializer.message}defaultValue(){return this._initializer.defaultValue}async accept(e){await this._channel.accept({promptText:e})}async dismiss(){await this._channel.dismiss()}}},"./node_modules/playwright-core/lib/client/download.js":e=>{"use strict";var t,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,i=Object.prototype.hasOwnProperty,s={};((e,t)=>{for(var r in t)n(e,r,{get:t[r],enumerable:!0})})(s,{Download:()=>a}),e.exports=(t=s,((e,t,s,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let s of o(t))i.call(e,s)||undefined===s||n(e,s,{get:()=>t[s],enumerable:!(a=r(t,s))||a.enumerable});return e})(n({},"__esModule",{value:!0}),t));class a{constructor(e,t,n,r){this._page=e,this._url=t,this._suggestedFilename=n,this._artifact=r}page(){return this._page}url(){return this._url}suggestedFilename(){return this._suggestedFilename}async path(){return await this._artifact.pathAfterFinished()}async saveAs(e){return await this._artifact.saveAs(e)}async failure(){return await this._artifact.failure()}async createReadStream(){return await this._artifact.createReadStream()}async cancel(){return await this._artifact.cancel()}async delete(){return await this._artifact.delete()}}},"./node_modules/playwright-core/lib/client/electron.js":(e,t,n)=>{"use strict";var r,o=Object.defineProperty,i=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,l={};((e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})})(l,{Electron:()=>w,ElectronApplication:()=>y}),e.exports=(r=l,((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let n of s(t))a.call(e,n)||undefined===n||o(e,n,{get:()=>t[n],enumerable:!(r=i(t,n))||r.enumerable});return e})(o({},"__esModule",{value:!0}),r));var c=n("./node_modules/playwright-core/lib/client/browserContext.js"),u=n("./node_modules/playwright-core/lib/client/channelOwner.js"),d=n("./node_modules/playwright-core/lib/client/clientHelper.js"),h=n("./node_modules/playwright-core/lib/client/consoleMessage.js"),p=n("./node_modules/playwright-core/lib/client/errors.js"),f=n("./node_modules/playwright-core/lib/client/events.js"),m=n("./node_modules/playwright-core/lib/client/jsHandle.js"),g=n("./node_modules/playwright-core/lib/client/waiter.js"),b=n("./node_modules/playwright-core/lib/client/timeoutSettings.js");class w extends u.ChannelOwner{static from(e){return e._object}constructor(e,t,n,r){super(e,t,n,r)}async launch(e={}){e=this._playwright.selectors._withSelectorOptions(e);const t={...await(0,c.prepareBrowserContextParams)(this._platform,e),env:(0,d.envObjectToArray)(e.env?e.env:this._platform.env),tracesDir:e.tracesDir,timeout:new b.TimeoutSettings(this._platform).launchTimeout(e)},n=y.from((await this._channel.launch(t)).electronApplication);return this._playwright.selectors._contextsForSelectors.add(n._context),n.once(f.Events.ElectronApplication.Close,()=>this._playwright.selectors._contextsForSelectors.delete(n._context)),await n._context._initializeHarFromOptions(e.recordHar),n._context.tracing._tracesDir=e.tracesDir,n}}class y extends u.ChannelOwner{constructor(e,t,n,r){super(e,t,n,r),this._windows=new Set,this._timeoutSettings=new b.TimeoutSettings(this._platform),this._context=c.BrowserContext.from(r.context);for(const e of this._context._pages)this._onPage(e);this._context.on(f.Events.BrowserContext.Page,e=>this._onPage(e)),this._channel.on("close",()=>{this.emit(f.Events.ElectronApplication.Close)}),this._channel.on("console",e=>this.emit(f.Events.ElectronApplication.Console,new h.ConsoleMessage(this._platform,e,null))),this._setEventToSubscriptionMapping(new Map([[f.Events.ElectronApplication.Console,"console"]]))}static from(e){return e._object}process(){return this._connection.toImpl?.(this)?.process()}_onPage(e){this._windows.add(e),this.emit(f.Events.ElectronApplication.Window,e),e.once(f.Events.Page.Close,()=>this._windows.delete(e))}windows(){return[...this._windows]}async firstWindow(e){return this._windows.size?this._windows.values().next().value:await this.waitForEvent("window",e)}context(){return this._context}async[Symbol.asyncDispose](){await this.close()}async close(){try{await this._context.close()}catch(e){if((0,p.isTargetClosedError)(e))return;throw e}}async waitForEvent(e,t={}){return await this._wrapApiCall(async()=>{const n=this._timeoutSettings.timeout("function"==typeof t?{}:t),r="function"==typeof t?t:t.predicate,o=g.Waiter.createForEvent(this,e);o.rejectOnTimeout(n,`Timeout ${n}ms exceeded while waiting for event "${e}"`),e!==f.Events.ElectronApplication.Close&&o.rejectOnEvent(this,f.Events.ElectronApplication.Close,()=>new p.TargetClosedError);const i=await o.waitForEvent(this,e,r);return o.dispose(),i})}async browserWindow(e){const t=await this._channel.browserWindow({page:e._channel});return m.JSHandle.from(t.handle)}async evaluate(e,t){const n=await this._channel.evaluateExpression({expression:String(e),isFunction:"function"==typeof e,arg:(0,m.serializeArgument)(t)});return(0,m.parseResult)(n.value)}async evaluateHandle(e,t){const n=await this._channel.evaluateExpressionHandle({expression:String(e),isFunction:"function"==typeof e,arg:(0,m.serializeArgument)(t)});return m.JSHandle.from(n.handle)}}},"./node_modules/playwright-core/lib/client/elementHandle.js":(e,t,n)=>{"use strict";var r,o=Object.defineProperty,i=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,l={};((e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})})(l,{ElementHandle:()=>g,convertInputFiles:()=>w,convertSelectOptionValues:()=>b,determineScreenshotType:()=>y}),e.exports=(r=l,((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let n of s(t))a.call(e,n)||undefined===n||o(e,n,{get:()=>t[n],enumerable:!(r=i(t,n))||r.enumerable});return e})(o({},"__esModule",{value:!0}),r));var c=n("./node_modules/playwright-core/lib/client/frame.js"),u=n("./node_modules/playwright-core/lib/client/jsHandle.js"),d=n("./node_modules/playwright-core/lib/utils/isomorphic/assert.js"),h=n("./node_modules/playwright-core/lib/client/fileUtils.js"),p=n("./node_modules/playwright-core/lib/utils/isomorphic/rtti.js"),f=n("./node_modules/playwright-core/lib/client/writableStream.js"),m=n("./node_modules/playwright-core/lib/utils/isomorphic/mimeType.js");class g extends u.JSHandle{static from(e){return e._object}static fromNullable(e){return e?g.from(e):null}constructor(e,t,n,r){super(e,t,n,r),this._frame=e,this._elementChannel=this._channel}asElement(){return this}async ownerFrame(){return c.Frame.fromNullable((await this._elementChannel.ownerFrame()).frame)}async contentFrame(){return c.Frame.fromNullable((await this._elementChannel.contentFrame()).frame)}async getAttribute(e){const t=(await this._elementChannel.getAttribute({name:e})).value;return void 0===t?null:t}async inputValue(){return(await this._elementChannel.inputValue()).value}async textContent(){const e=(await this._elementChannel.textContent()).value;return void 0===e?null:e}async innerText(){return(await this._elementChannel.innerText()).value}async innerHTML(){return(await this._elementChannel.innerHTML()).value}async isChecked(){return(await this._elementChannel.isChecked()).value}async isDisabled(){return(await this._elementChannel.isDisabled()).value}async isEditable(){return(await this._elementChannel.isEditable()).value}async isEnabled(){return(await this._elementChannel.isEnabled()).value}async isHidden(){return(await this._elementChannel.isHidden()).value}async isVisible(){return(await this._elementChannel.isVisible()).value}async dispatchEvent(e,t={}){await this._elementChannel.dispatchEvent({type:e,eventInit:(0,u.serializeArgument)(t)})}async scrollIntoViewIfNeeded(e={}){await this._elementChannel.scrollIntoViewIfNeeded({...e,timeout:this._frame._timeout(e)})}async hover(e={}){await this._elementChannel.hover({...e,timeout:this._frame._timeout(e)})}async click(e={}){return await this._elementChannel.click({...e,timeout:this._frame._timeout(e)})}async dblclick(e={}){return await this._elementChannel.dblclick({...e,timeout:this._frame._timeout(e)})}async tap(e={}){return await this._elementChannel.tap({...e,timeout:this._frame._timeout(e)})}async selectOption(e,t={}){return(await this._elementChannel.selectOption({...b(e),...t,timeout:this._frame._timeout(t)})).values}async fill(e,t={}){return await this._elementChannel.fill({value:e,...t,timeout:this._frame._timeout(t)})}async selectText(e={}){await this._elementChannel.selectText({...e,timeout:this._frame._timeout(e)})}async setInputFiles(e,t={}){const n=await this.ownerFrame();if(!n)throw new Error("Cannot set input files to detached element");const r=await w(this._platform,e,n.page().context());await this._elementChannel.setInputFiles({...r,...t,timeout:this._frame._timeout(t)})}async focus(){await this._elementChannel.focus()}async type(e,t={}){await this._elementChannel.type({text:e,...t,timeout:this._frame._timeout(t)})}async press(e,t={}){await this._elementChannel.press({key:e,...t,timeout:this._frame._timeout(t)})}async check(e={}){return await this._elementChannel.check({...e,timeout:this._frame._timeout(e)})}async uncheck(e={}){return await this._elementChannel.uncheck({...e,timeout:this._frame._timeout(e)})}async setChecked(e,t){e?await this.check(t):await this.uncheck(t)}async boundingBox(){const e=(await this._elementChannel.boundingBox()).value;return void 0===e?null:e}async screenshot(e={}){const t=e.mask,n={...e,mask:void 0,timeout:this._frame._timeout(e)};n.type||(n.type=y(e)),t&&(n.mask=t.map(e=>({frame:e._frame._channel,selector:e._selector})));const r=await this._elementChannel.screenshot(n);return e.path&&(await(0,h.mkdirIfNeeded)(this._platform,e.path),await this._platform.fs().promises.writeFile(e.path,r.binary)),r.binary}async $(e){return g.fromNullable((await this._elementChannel.querySelector({selector:e})).element)}async $$(e){return(await this._elementChannel.querySelectorAll({selector:e})).elements.map(e=>g.from(e))}async $eval(e,t,n){const r=await this._elementChannel.evalOnSelector({selector:e,expression:String(t),isFunction:"function"==typeof t,arg:(0,u.serializeArgument)(n)});return(0,u.parseResult)(r.value)}async $$eval(e,t,n){const r=await this._elementChannel.evalOnSelectorAll({selector:e,expression:String(t),isFunction:"function"==typeof t,arg:(0,u.serializeArgument)(n)});return(0,u.parseResult)(r.value)}async waitForElementState(e,t={}){return await this._elementChannel.waitForElementState({state:e,...t,timeout:this._frame._timeout(t)})}async waitForSelector(e,t={}){const n=await this._elementChannel.waitForSelector({selector:e,...t,timeout:this._frame._timeout(t)});return g.fromNullable(n.element)}}function b(e){if(null===e)return{};if(Array.isArray(e)||(e=[e]),!e.length)return{};for(let t=0;t<e.length;t++)(0,d.assert)(null!==e[t],`options[${t}]: expected object, got null`);return e[0]instanceof g?{elements:e.map(e=>e._elementChannel)}:(0,p.isString)(e[0])?{options:e.map(e=>({valueOrLabel:e}))}:{options:e}}async function w(e,t,n){const r=Array.isArray(t)?t.slice():[t];if(r.some(e=>"string"==typeof e)){if(!r.every(e=>"string"==typeof e))throw new Error("File paths cannot be mixed with buffers");const[t,o]=await async function(e,t){let n,r;for(const o of t)if((await e.fs().promises.stat(o)).isDirectory()){if(r)throw new Error("Multiple directories are not supported");r=e.path().resolve(o)}else n??=[],n.push(e.path().resolve(o));if(n?.length&&r)throw new Error("File paths must be all files or a single directory");return[n,r]}(e,r);if(n._connection.isRemote()){const r=o?(await e.fs().promises.readdir(o,{withFileTypes:!0,recursive:!0})).filter(e=>e.isFile()).map(t=>e.path().join(t.path,t.name)):t,{writableStreams:i,rootDir:s}=await n._wrapApiCall(async()=>n._channel.createTempFiles({rootDirName:o?e.path().basename(o):void 0,items:await Promise.all(r.map(async t=>{const n=(await e.fs().promises.stat(t)).mtimeMs;return{name:o?e.path().relative(o,t):e.path().basename(t),lastModifiedMs:n}}))}),{internal:!0});for(let t=0;t<r.length;t++){const n=f.WritableStream.from(i[t]);await e.streamFile(r[t],n.stream())}return{directoryStream:s,streams:o?void 0:i}}return{localPaths:t,localDirectory:o}}const o=r;if(function(e){return e.reduce((e,t)=>e+(t.buffer?t.buffer.byteLength:0),0)>=h.fileUploadSizeLimit}(o))throw new Error("Cannot set buffer larger than 50Mb, please write it to a file and pass its path instead.");return{payloads:o}}function y(e){if(e.path){const t=(0,m.getMimeTypeForPath)(e.path);if("image/png"===t)return"png";if("image/jpeg"===t)return"jpeg";throw new Error(`path: unsupported mime type "${t}"`)}return e.type}},"./node_modules/playwright-core/lib/client/errors.js":(e,t,n)=>{"use strict";var r,o=Object.defineProperty,i=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,l={};((e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})})(l,{TargetClosedError:()=>h,TimeoutError:()=>d,isTargetClosedError:()=>p,parseError:()=>m,serializeError:()=>f}),e.exports=(r=l,((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let n of s(t))a.call(e,n)||undefined===n||o(e,n,{get:()=>t[n],enumerable:!(r=i(t,n))||r.enumerable});return e})(o({},"__esModule",{value:!0}),r));var c=n("./node_modules/playwright-core/lib/protocol/serializers.js"),u=n("./node_modules/playwright-core/lib/utils/isomorphic/rtti.js");class d extends Error{constructor(e){super(e),this.name="TimeoutError"}}class h extends Error{constructor(e){super(e||"Target page, context or browser has been closed")}}function p(e){return e instanceof h}function f(e){return(0,u.isError)(e)?{error:{message:e.message,stack:e.stack,name:e.name}}:{value:(0,c.serializeValue)(e,e=>({fallThrough:e}))}}function m(e){if(!e.error){if(void 0===e.value)throw new Error("Serialized error must have either an error or a value");return(0,c.parseSerializedValue)(e.value,void 0)}if("TimeoutError"===e.error.name){const t=new d(e.error.message);return t.stack=e.error.stack||"",t}if("TargetClosedError"===e.error.name){const t=new h(e.error.message);return t.stack=e.error.stack||"",t}const t=new Error(e.error.message);return t.stack=e.error.stack||"",t.name=e.error.name,t}},"./node_modules/playwright-core/lib/client/eventEmitter.js":e=>{"use strict";var t,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,i=Object.prototype.hasOwnProperty,s={};((e,t)=>{for(var r in t)n(e,r,{get:t[r],enumerable:!0})})(s,{EventEmitter:()=>a}),e.exports=(t=s,((e,t,s,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let s of o(t))i.call(e,s)||undefined===s||n(e,s,{get:()=>t[s],enumerable:!(a=r(t,s))||a.enumerable});return e})(n({},"__esModule",{value:!0}),t));class a{constructor(e){this._events=void 0,this._eventsCount=0,this._maxListeners=void 0,this._pendingHandlers=new Map,this._platform=e,void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0,this.on=this.addListener,this.off=this.removeListener}setMaxListeners(e){if("number"!=typeof e||e<0||Number.isNaN(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this}getMaxListeners(){return void 0===this._maxListeners?this._platform.defaultMaxListeners():this._maxListeners}emit(e,...t){const n=this._events;if(void 0===n)return!1;const r=n?.[e];if(void 0===r)return!1;if("function"==typeof r)this._callHandler(e,r,t);else{const n=r.length,o=r.slice();for(let r=0;r<n;++r)this._callHandler(e,o[r],t)}return!0}_callHandler(e,t,n){const r=Reflect.apply(t,this,n);if(!(r instanceof Promise))return;let o=this._pendingHandlers.get(e);o||(o=new Set,this._pendingHandlers.set(e,o)),o.add(r),r.catch(e=>{if(!this._rejectionHandler)throw e;this._rejectionHandler(e)}).finally(()=>o.delete(r))}addListener(e,t){return this._addListener(e,t,!1)}on(e,t){return this._addListener(e,t,!1)}_addListener(e,t,n){l(t);let r,o=this._events;if(void 0===o?(o=this._events=Object.create(null),this._eventsCount=0):(void 0!==o.newListener&&(this.emit("newListener",e,u(t)),o=this._events),r=o[e]),void 0===r)r=o[e]=t,++this._eventsCount;else{"function"==typeof r?r=o[e]=n?[t,r]:[r,t]:n?r.unshift(t):r.push(t);const i=this.getMaxListeners();if(i>0&&r.length>i&&!r.warned){r.warned=!0;const t=new Error("Possible EventEmitter memory leak detected. "+r.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");t.name="MaxListenersExceededWarning",t.emitter=this,t.type=e,t.count=r.length,this._platform.isUnderTest()||console.warn(t)}}return this}prependListener(e,t){return this._addListener(e,t,!0)}once(e,t){return l(t),this.on(e,new c(this,e,t).wrapperFunction),this}prependOnceListener(e,t){return l(t),this.prependListener(e,new c(this,e,t).wrapperFunction),this}removeListener(e,t){l(t);const n=this._events;if(void 0===n)return this;const r=n[e];if(void 0===r)return this;if(r===t||r.listener===t)0===--this._eventsCount?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener??t));else if("function"!=typeof r){let o,i=-1;for(let e=r.length-1;e>=0;e--)if(r[e]===t||d(r[e])===t){o=d(r[e]),i=e;break}if(i<0)return this;0===i?r.shift():r.splice(i,1),1===r.length&&(n[e]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",e,o||t)}return this}off(e,t){return this.removeListener(e,t)}removeAllListeners(e,t){if(this._removeAllListeners(e),!t)return this;if("wait"===t.behavior){const t=[];return this._rejectionHandler=e=>t.push(e),this._waitFor(e).then(()=>{if(t.length)throw t[0]})}return"ignoreErrors"===t.behavior&&(this._rejectionHandler=()=>{}),Promise.resolve()}_removeAllListeners(e){const t=this._events;if(!t)return;if(!t.removeListener)return void(void 0===e?(this._events=Object.create(null),this._eventsCount=0):void 0!==t[e]&&(0===--this._eventsCount?this._events=Object.create(null):delete t[e]));if(void 0===e){const e=Object.keys(t);let n;for(let t=0;t<e.length;++t)n=e[t],"removeListener"!==n&&this._removeAllListeners(n);return this._removeAllListeners("removeListener"),this._events=Object.create(null),void(this._eventsCount=0)}const n=t[e];if("function"==typeof n)this.removeListener(e,n);else if(void 0!==n)for(let t=n.length-1;t>=0;t--)this.removeListener(e,n[t])}listeners(e){return this._listeners(this,e,!0)}rawListeners(e){return this._listeners(this,e,!1)}listenerCount(e){const t=this._events;if(void 0!==t){const n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}eventNames(){return this._eventsCount>0&&this._events?Reflect.ownKeys(this._events):[]}async _waitFor(e){let t=[];if(e)t=[...this._pendingHandlers.get(e)||[]];else{t=[];for(const[,e]of this._pendingHandlers)t.push(...e)}await Promise.all(t)}_listeners(e,t,n){const r=e._events;if(void 0===r)return[];const o=r[t];return void 0===o?[]:"function"==typeof o?n?[u(o)]:[o]:n?o.map(e=>d(e)??e):o.slice()}}function l(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}class c{constructor(e,t,n){this._fired=!1,this._eventEmitter=e,this._eventType=t,this._listener=n,this.wrapperFunction=this._handle.bind(this),this.wrapperFunction.listener=n}_handle(...e){if(!this._fired)return this._fired=!0,this._eventEmitter.removeListener(this._eventType,this.wrapperFunction),this._listener.apply(this._eventEmitter,e)}}function u(e){return d(e)??e}function d(e){return e.listener}},"./node_modules/playwright-core/lib/client/events.js":e=>{"use strict";var t,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,i=Object.prototype.hasOwnProperty,s={};((e,t)=>{for(var r in t)n(e,r,{get:t[r],enumerable:!0})})(s,{Events:()=>a}),e.exports=(t=s,((e,t,s,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let s of o(t))i.call(e,s)||undefined===s||n(e,s,{get:()=>t[s],enumerable:!(a=r(t,s))||a.enumerable});return e})(n({},"__esModule",{value:!0}),t));const a={AndroidDevice:{WebView:"webview",Close:"close"},AndroidSocket:{Data:"data",Close:"close"},AndroidWebView:{Close:"close"},Browser:{Disconnected:"disconnected"},BrowserContext:{Console:"console",Close:"close",Dialog:"dialog",Page:"page",WebError:"weberror",BackgroundPage:"backgroundpage",ServiceWorker:"serviceworker",Request:"request",Response:"response",RequestFailed:"requestfailed",RequestFinished:"requestfinished"},BrowserServer:{Close:"close"},Page:{Close:"close",Crash:"crash",Console:"console",Dialog:"dialog",Download:"download",FileChooser:"filechooser",DOMContentLoaded:"domcontentloaded",PageError:"pageerror",Request:"request",Response:"response",RequestFailed:"requestfailed",RequestFinished:"requestfinished",FrameAttached:"frameattached",FrameDetached:"framedetached",FrameNavigated:"framenavigated",Load:"load",Popup:"popup",WebSocket:"websocket",Worker:"worker"},WebSocket:{Close:"close",Error:"socketerror",FrameReceived:"framereceived",FrameSent:"framesent"},Worker:{Close:"close",Console:"console"},ElectronApplication:{Close:"close",Console:"console",Window:"window"}}},"./node_modules/playwright-core/lib/client/fetch.js":(e,t,n)=>{"use strict";var r,o=Object.defineProperty,i=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,l={};((e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})})(l,{APIRequest:()=>y,APIRequestContext:()=>v,APIResponse:()=>_}),e.exports=(r=l,((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let n of s(t))a.call(e,n)||undefined===n||o(e,n,{get:()=>t[n],enumerable:!(r=i(t,n))||r.enumerable});return e})(o({},"__esModule",{value:!0}),r));var c=n("./node_modules/playwright-core/lib/client/browserContext.js"),u=n("./node_modules/playwright-core/lib/client/channelOwner.js"),d=n("./node_modules/playwright-core/lib/client/errors.js"),h=n("./node_modules/playwright-core/lib/client/network.js"),p=n("./node_modules/playwright-core/lib/client/tracing.js"),f=n("./node_modules/playwright-core/lib/utils/isomorphic/assert.js"),m=n("./node_modules/playwright-core/lib/client/fileUtils.js"),g=n("./node_modules/playwright-core/lib/utils/isomorphic/headers.js"),b=n("./node_modules/playwright-core/lib/utils/isomorphic/rtti.js"),w=n("./node_modules/playwright-core/lib/client/timeoutSettings.js");class y{constructor(e){this._contexts=new Set,this._playwright=e}async newContext(e={}){const t="string"==typeof(e={...this._playwright._defaultContextOptions,...e}).storageState?JSON.parse(await this._playwright._platform.fs().promises.readFile(e.storageState,"utf8")):e.storageState,n=v.from((await this._playwright._channel.newRequest({...e,extraHTTPHeaders:e.extraHTTPHeaders?(0,g.headersObjectToArray)(e.extraHTTPHeaders):void 0,storageState:t,tracesDir:this._playwright._defaultLaunchOptions?.tracesDir,clientCertificates:await(0,c.toClientCertificatesProtocol)(this._playwright._platform,e.clientCertificates)})).request);return this._contexts.add(n),n._request=this,n._timeoutSettings.setDefaultTimeout(e.timeout??this._playwright._defaultContextTimeout),n._tracing._tracesDir=this._playwright._defaultLaunchOptions?.tracesDir,await n._instrumentation.runAfterCreateRequestContext(n),n}}class v extends u.ChannelOwner{static from(e){return e._object}constructor(e,t,n,r){super(e,t,n,r),this._tracing=p.Tracing.from(r.tracing),this._timeoutSettings=new w.TimeoutSettings(this._platform)}async[Symbol.asyncDispose](){await this.dispose()}async dispose(e={}){this._closeReason=e.reason,await this._instrumentation.runBeforeCloseRequestContext(this);try{await this._channel.dispose(e)}catch(e){if((0,d.isTargetClosedError)(e))return;throw e}this._tracing._resetStackCounter(),this._request?._contexts.delete(this)}async delete(e,t){return await this.fetch(e,{...t,method:"DELETE"})}async head(e,t){return await this.fetch(e,{...t,method:"HEAD"})}async get(e,t){return await this.fetch(e,{...t,method:"GET"})}async patch(e,t){return await this.fetch(e,{...t,method:"PATCH"})}async post(e,t){return await this.fetch(e,{...t,method:"POST"})}async put(e,t){return await this.fetch(e,{...t,method:"PUT"})}async fetch(e,t={}){const n=(0,b.isString)(e)?e:void 0,r=(0,b.isString)(e)?void 0:e;return await this._innerFetch({url:n,request:r,...t})}async _innerFetch(e={}){return await this._wrapApiCall(async()=>{if(this._closeReason)throw new d.TargetClosedError(this._closeReason);(0,f.assert)(e.request||"string"==typeof e.url,"First argument must be either URL string or Request"),(0,f.assert)((void 0===e.data?0:1)+(void 0===e.form?0:1)+(void 0===e.multipart?0:1)<=1,"Only one of 'data', 'form' or 'multipart' can be specified"),(0,f.assert)(void 0===e.maxRedirects||e.maxRedirects>=0,"'maxRedirects' must be greater than or equal to '0'"),(0,f.assert)(void 0===e.maxRetries||e.maxRetries>=0,"'maxRetries' must be greater than or equal to '0'");const t=void 0!==e.url?e.url:e.request.url(),n=e.method||e.request?.method();let r;"string"==typeof e.params?r=e.params:e.params instanceof URLSearchParams&&(r=e.params.toString());const o=e.headers||e.request?.headers(),i=o?(0,g.headersObjectToArray)(o):void 0;let s,a,l,c;if(void 0!==e.data)if((0,b.isString)(e.data))!function(e){if(!e)return!1;for(const{name:t,value:n}of e)if("content-type"===t.toLocaleLowerCase())return"application/json"===n;return!1}(i)?c=Buffer.from(e.data,"utf8"):s=function(e){if("string"!=typeof e)return!1;try{return JSON.parse(e),!0}catch(e){if(e instanceof SyntaxError)return!1;throw e}}(e.data)?e.data:JSON.stringify(e.data);else if(Buffer.isBuffer(e.data))c=e.data;else{if("object"!=typeof e.data&&"number"!=typeof e.data&&"boolean"!=typeof e.data)throw new Error("Unexpected 'data' type");s=JSON.stringify(e.data)}else if(e.form)if(globalThis.FormData&&e.form instanceof FormData){a=[];for(const[t,n]of e.form.entries()){if("string"!=typeof n)throw new Error(`Expected string for options.form["${t}"], found File. Please use options.multipart instead.`);a.push({name:t,value:n})}}else a=E(e.form);else if(e.multipart)if(l=[],globalThis.FormData&&e.multipart instanceof FormData){const t=e.multipart;for(const[e,n]of t.entries())if((0,b.isString)(n))l.push({name:e,value:n});else{const t={name:n.name,mimeType:n.type,buffer:Buffer.from(await n.arrayBuffer())};l.push({name:e,file:t})}}else for(const[t,n]of Object.entries(e.multipart))l.push(await A(this._platform,t,n));void 0===c&&void 0===s&&void 0===a&&void 0===l&&(c=e.request?.postDataBuffer()||void 0);const u={__testHookLookup:e.__testHookLookup},h=await this._channel.fetch({url:t,params:"object"==typeof e.params?E(e.params):void 0,encodedParams:r,method:n,headers:i,postData:c,jsonData:s,formData:a,multipartData:l,timeout:this._timeoutSettings.timeout(e),failOnStatusCode:e.failOnStatusCode,ignoreHTTPSErrors:e.ignoreHTTPSErrors,maxRedirects:e.maxRedirects,maxRetries:e.maxRetries,...u});return new _(this,h.response)})}async storageState(e={}){const t=await this._channel.storageState({indexedDB:e.indexedDB});return e.path&&(await(0,m.mkdirIfNeeded)(this._platform,e.path),await this._platform.fs().promises.writeFile(e.path,JSON.stringify(t,void 0,2),"utf8")),t}}async function A(e,t,n){const r=typeof n;if(function(e){return"object"==typeof e&&e.name&&e.mimeType&&e.buffer}(n)){const e=n;if(!Buffer.isBuffer(e.buffer))throw new Error(`Unexpected buffer type of 'data.${t}'`);return{name:t,file:x(e)}}return"string"===r||"number"===r||"boolean"===r?{name:t,value:String(n)}:{name:t,file:await S(e,n)}}class _{constructor(e,t){this._request=e,this._initializer=t,this._headers=new h.RawHeaders(this._initializer.headers),e._platform.inspectCustom&&(this[e._platform.inspectCustom]=()=>this._inspect())}ok(){return this._initializer.status>=200&&this._initializer.status<=299}url(){return this._initializer.url}status(){return this._initializer.status}statusText(){return this._initializer.statusText}headers(){return this._headers.headers()}headersArray(){return this._headers.headersArray()}async body(){return await this._request._wrapApiCall(async()=>{try{const e=await this._request._channel.fetchResponseBody({fetchUid:this._fetchUid()});if(void 0===e.binary)throw new Error("Response has been disposed");return e.binary}catch(e){if((0,d.isTargetClosedError)(e))throw new Error("Response has been disposed");throw e}},{internal:!0})}async text(){return(await this.body()).toString("utf8")}async json(){const e=await this.text();return JSON.parse(e)}async[Symbol.asyncDispose](){await this.dispose()}async dispose(){await this._request._channel.disposeAPIResponse({fetchUid:this._fetchUid()})}_inspect(){const e=this.headersArray().map(({name:e,value:t})=>`  ${e}: ${t}`);return`APIResponse: ${this.status()} ${this.statusText()}\n${e.join("\n")}`}_fetchUid(){return this._initializer.fetchUid}async _fetchLog(){const{log:e}=await this._request._channel.fetchLog({fetchUid:this._fetchUid()});return e}}function x(e){return{name:e.name,mimeType:e.mimeType,buffer:e.buffer}}async function S(e,t){const n=await new Promise((e,n)=>{const r=[];t.on("data",e=>r.push(e)),t.on("end",()=>e(Buffer.concat(r))),t.on("error",e=>n(e))}),r=Buffer.isBuffer(t.path)?t.path.toString("utf8"):t.path;return{name:e.path().basename(r),buffer:n}}function E(e){if(!e)return;const t=[];for(const[n,r]of Object.entries(e))void 0!==r&&t.push({name:n,value:String(r)});return t}},"./node_modules/playwright-core/lib/client/fileChooser.js":e=>{"use strict";var t,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,i=Object.prototype.hasOwnProperty,s={};((e,t)=>{for(var r in t)n(e,r,{get:t[r],enumerable:!0})})(s,{FileChooser:()=>a}),e.exports=(t=s,((e,t,s,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let s of o(t))i.call(e,s)||undefined===s||n(e,s,{get:()=>t[s],enumerable:!(a=r(t,s))||a.enumerable});return e})(n({},"__esModule",{value:!0}),t));class a{constructor(e,t,n){this._page=e,this._elementHandle=t,this._isMultiple=n}element(){return this._elementHandle}isMultiple(){return this._isMultiple}page(){return this._page}async setFiles(e,t){return await this._elementHandle.setInputFiles(e,t)}}},"./node_modules/playwright-core/lib/client/fileUtils.js":e=>{"use strict";var t,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,i=Object.prototype.hasOwnProperty,s={};((e,t)=>{for(var r in t)n(e,r,{get:t[r],enumerable:!0})})(s,{fileUploadSizeLimit:()=>a,mkdirIfNeeded:()=>l}),e.exports=(t=s,((e,t,s,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let s of o(t))i.call(e,s)||undefined===s||n(e,s,{get:()=>t[s],enumerable:!(a=r(t,s))||a.enumerable});return e})(n({},"__esModule",{value:!0}),t));const a=52428800;async function l(e,t){await e.fs().promises.mkdir(e.path().dirname(t),{recursive:!0}).catch(()=>{})}},"./node_modules/playwright-core/lib/client/frame.js":(e,t,n)=>{"use strict";var r,o=Object.create,i=Object.defineProperty,s=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,l=Object.getPrototypeOf,c=Object.prototype.hasOwnProperty,u=(e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let o of a(t))c.call(e,o)||o===n||i(e,o,{get:()=>t[o],enumerable:!(r=s(t,o))||r.enumerable});return e},d={};((e,t)=>{for(var n in t)i(e,n,{get:t[n],enumerable:!0})})(d,{Frame:()=>C,verifyLoadState:()=>k}),e.exports=(r=d,u(i({},"__esModule",{value:!0}),r));var h=n("./node_modules/playwright-core/lib/client/eventEmitter.js"),p=n("./node_modules/playwright-core/lib/client/channelOwner.js"),f=n("./node_modules/playwright-core/lib/client/clientHelper.js"),m=n("./node_modules/playwright-core/lib/client/elementHandle.js"),g=n("./node_modules/playwright-core/lib/client/events.js"),b=n("./node_modules/playwright-core/lib/client/jsHandle.js"),w=n("./node_modules/playwright-core/lib/client/locator.js"),y=((e,t,n)=>(n=null!=e?o(l(e)):{},u(e&&e.__esModule?n:i(n,"default",{value:e,enumerable:!0}),e)))(n("./node_modules/playwright-core/lib/client/network.js")),v=n("./node_modules/playwright-core/lib/client/types.js"),A=n("./node_modules/playwright-core/lib/client/waiter.js"),_=n("./node_modules/playwright-core/lib/utils/isomorphic/assert.js"),x=n("./node_modules/playwright-core/lib/utils/isomorphic/locatorUtils.js"),S=n("./node_modules/playwright-core/lib/utils/isomorphic/urlMatch.js"),E=n("./node_modules/playwright-core/lib/client/timeoutSettings.js");class C extends p.ChannelOwner{constructor(e,t,n,r){super(e,t,n,r),this._parentFrame=null,this._url="",this._name="",this._detached=!1,this._childFrames=new Set,this._eventEmitter=new h.EventEmitter(e._platform),this._eventEmitter.setMaxListeners(0),this._parentFrame=C.fromNullable(r.parentFrame),this._parentFrame&&this._parentFrame._childFrames.add(this),this._name=r.name,this._url=r.url,this._loadStates=new Set(r.loadStates),this._channel.on("loadstate",e=>{e.add&&(this._loadStates.add(e.add),this._eventEmitter.emit("loadstate",e.add)),e.remove&&this._loadStates.delete(e.remove),!this._parentFrame&&"load"===e.add&&this._page&&this._page.emit(g.Events.Page.Load,this._page),!this._parentFrame&&"domcontentloaded"===e.add&&this._page&&this._page.emit(g.Events.Page.DOMContentLoaded,this._page)}),this._channel.on("navigated",e=>{this._url=e.url,this._name=e.name,this._eventEmitter.emit("navigated",e),!e.error&&this._page&&this._page.emit(g.Events.Page.FrameNavigated,this)})}static from(e){return e._object}static fromNullable(e){return e?C.from(e):null}page(){return this._page}_timeout(e){return(this._page?._timeoutSettings||new E.TimeoutSettings(this._platform)).timeout(e||{})}_navigationTimeout(e){return(this._page?._timeoutSettings||new E.TimeoutSettings(this._platform)).navigationTimeout(e||{})}async goto(e,t={}){const n=k("waitUntil",void 0===t.waitUntil?"load":t.waitUntil);return y.Response.fromNullable((await this._channel.goto({url:e,...t,waitUntil:n,timeout:this._navigationTimeout(t)})).response)}_setupNavigationWaiter(e){const t=new A.Waiter(this._page,"");this._page.isClosed()&&t.rejectImmediately(this._page._closeErrorWithReason()),t.rejectOnEvent(this._page,g.Events.Page.Close,()=>this._page._closeErrorWithReason()),t.rejectOnEvent(this._page,g.Events.Page.Crash,new Error("Navigation failed because page crashed!")),t.rejectOnEvent(this._page,g.Events.Page.FrameDetached,new Error("Navigating frame was detached!"),e=>e===this);const n=this._page._timeoutSettings.navigationTimeout(e);return t.rejectOnTimeout(n,`Timeout ${n}ms exceeded.`),t}async waitForNavigation(e={}){return await this._page._wrapApiCall(async()=>{const t=k("waitUntil",void 0===e.waitUntil?"load":e.waitUntil),n=this._setupNavigationWaiter(e),r="string"==typeof e.url?` to "${e.url}"`:"";n.log(`waiting for navigation${r} until "${t}"`);const o=await n.waitForEvent(this._eventEmitter,"navigated",t=>!!t.error||(n.log(`  navigated to "${t.url}"`),(0,S.urlMatches)(this._page?.context()._options.baseURL,t.url,e.url)));if(o.error){const e=new Error(o.error);e.stack="",await n.waitForPromise(Promise.reject(e))}this._loadStates.has(t)||await n.waitForEvent(this._eventEmitter,"loadstate",e=>(n.log(`  "${e}" event fired`),e===t));const i=o.newDocument?y.Request.fromNullable(o.newDocument.request):null,s=i?await n.waitForPromise(i._finalRequest()._internalResponse()):null;return n.dispose(),s},{title:"Wait for navigation"})}async waitForLoadState(e="load",t={}){return e=k("state",e),await this._page._wrapApiCall(async()=>{const n=this._setupNavigationWaiter(t);this._loadStates.has(e)?n.log(`  not waiting, "${e}" event already fired`):await n.waitForEvent(this._eventEmitter,"loadstate",t=>(n.log(`  "${t}" event fired`),t===e)),n.dispose()},{title:`Wait for load state "${e}"`})}async waitForURL(e,t={}){if((0,S.urlMatches)(this._page?.context()._options.baseURL,this.url(),e))return await this.waitForLoadState(t.waitUntil,t);await this.waitForNavigation({url:e,...t})}async frameElement(){return m.ElementHandle.from((await this._channel.frameElement()).element)}async evaluateHandle(e,t){(0,b.assertMaxArguments)(arguments.length,2);const n=await this._channel.evaluateExpressionHandle({expression:String(e),isFunction:"function"==typeof e,arg:(0,b.serializeArgument)(t)});return b.JSHandle.from(n.handle)}async evaluate(e,t){(0,b.assertMaxArguments)(arguments.length,2);const n=await this._channel.evaluateExpression({expression:String(e),isFunction:"function"==typeof e,arg:(0,b.serializeArgument)(t)});return(0,b.parseResult)(n.value)}async _evaluateFunction(e){const t=await this._channel.evaluateExpression({expression:e,isFunction:!0,arg:(0,b.serializeArgument)(void 0)});return(0,b.parseResult)(t.value)}async _evaluateExposeUtilityScript(e,t){(0,b.assertMaxArguments)(arguments.length,2);const n=await this._channel.evaluateExpression({expression:String(e),isFunction:"function"==typeof e,arg:(0,b.serializeArgument)(t)});return(0,b.parseResult)(n.value)}async $(e,t){const n=await this._channel.querySelector({selector:e,...t});return m.ElementHandle.fromNullable(n.element)}async waitForSelector(e,t={}){if(t.visibility)throw new Error("options.visibility is not supported, did you mean options.state?");if(t.waitFor&&"visible"!==t.waitFor)throw new Error("options.waitFor is not supported, did you mean options.state?");const n=await this._channel.waitForSelector({selector:e,...t,timeout:this._timeout(t)});return m.ElementHandle.fromNullable(n.element)}async dispatchEvent(e,t,n,r={}){await this._channel.dispatchEvent({selector:e,type:t,eventInit:(0,b.serializeArgument)(n),...r,timeout:this._timeout(r)})}async $eval(e,t,n){(0,b.assertMaxArguments)(arguments.length,3);const r=await this._channel.evalOnSelector({selector:e,expression:String(t),isFunction:"function"==typeof t,arg:(0,b.serializeArgument)(n)});return(0,b.parseResult)(r.value)}async $$eval(e,t,n){(0,b.assertMaxArguments)(arguments.length,3);const r=await this._channel.evalOnSelectorAll({selector:e,expression:String(t),isFunction:"function"==typeof t,arg:(0,b.serializeArgument)(n)});return(0,b.parseResult)(r.value)}async $$(e){return(await this._channel.querySelectorAll({selector:e})).elements.map(e=>m.ElementHandle.from(e))}async _queryCount(e,t){return(await this._channel.queryCount({selector:e,...t})).value}async content(){return(await this._channel.content()).value}async setContent(e,t={}){const n=k("waitUntil",void 0===t.waitUntil?"load":t.waitUntil);await this._channel.setContent({html:e,...t,waitUntil:n,timeout:this._navigationTimeout(t)})}name(){return this._name||""}url(){return this._url}parentFrame(){return this._parentFrame}childFrames(){return Array.from(this._childFrames)}isDetached(){return this._detached}async addScriptTag(e={}){const t={...e};return t.path&&(t.content=(await this._platform.fs().promises.readFile(t.path)).toString(),t.content=(0,f.addSourceUrlToScript)(t.content,t.path)),m.ElementHandle.from((await this._channel.addScriptTag({...t})).element)}async addStyleTag(e={}){const t={...e};return t.path&&(t.content=(await this._platform.fs().promises.readFile(t.path)).toString(),t.content+="/*# sourceURL="+t.path.replace(/\n/g,"")+"*/"),m.ElementHandle.from((await this._channel.addStyleTag({...t})).element)}async click(e,t={}){return await this._channel.click({selector:e,...t,timeout:this._timeout(t)})}async dblclick(e,t={}){return await this._channel.dblclick({selector:e,...t,timeout:this._timeout(t)})}async dragAndDrop(e,t,n={}){return await this._channel.dragAndDrop({source:e,target:t,...n,timeout:this._timeout(n)})}async tap(e,t={}){return await this._channel.tap({selector:e,...t,timeout:this._timeout(t)})}async fill(e,t,n={}){return await this._channel.fill({selector:e,value:t,...n,timeout:this._timeout(n)})}async _highlight(e){return await this._channel.highlight({selector:e})}locator(e,t){return new w.Locator(this,e,t)}getByTestId(e){return this.locator((0,x.getByTestIdSelector)((0,w.testIdAttributeName)(),e))}getByAltText(e,t){return this.locator((0,x.getByAltTextSelector)(e,t))}getByLabel(e,t){return this.locator((0,x.getByLabelSelector)(e,t))}getByPlaceholder(e,t){return this.locator((0,x.getByPlaceholderSelector)(e,t))}getByText(e,t){return this.locator((0,x.getByTextSelector)(e,t))}getByTitle(e,t){return this.locator((0,x.getByTitleSelector)(e,t))}getByRole(e,t={}){return this.locator((0,x.getByRoleSelector)(e,t))}frameLocator(e){return new w.FrameLocator(this,e)}async focus(e,t={}){await this._channel.focus({selector:e,...t,timeout:this._timeout(t)})}async textContent(e,t={}){const n=(await this._channel.textContent({selector:e,...t,timeout:this._timeout(t)})).value;return void 0===n?null:n}async innerText(e,t={}){return(await this._channel.innerText({selector:e,...t,timeout:this._timeout(t)})).value}async innerHTML(e,t={}){return(await this._channel.innerHTML({selector:e,...t,timeout:this._timeout(t)})).value}async getAttribute(e,t,n={}){const r=(await this._channel.getAttribute({selector:e,name:t,...n,timeout:this._timeout(n)})).value;return void 0===r?null:r}async inputValue(e,t={}){return(await this._channel.inputValue({selector:e,...t,timeout:this._timeout(t)})).value}async isChecked(e,t={}){return(await this._channel.isChecked({selector:e,...t,timeout:this._timeout(t)})).value}async isDisabled(e,t={}){return(await this._channel.isDisabled({selector:e,...t,timeout:this._timeout(t)})).value}async isEditable(e,t={}){return(await this._channel.isEditable({selector:e,...t,timeout:this._timeout(t)})).value}async isEnabled(e,t={}){return(await this._channel.isEnabled({selector:e,...t,timeout:this._timeout(t)})).value}async isHidden(e,t={}){return(await this._channel.isHidden({selector:e,...t})).value}async isVisible(e,t={}){return(await this._channel.isVisible({selector:e,...t})).value}async hover(e,t={}){await this._channel.hover({selector:e,...t,timeout:this._timeout(t)})}async selectOption(e,t,n={}){return(await this._channel.selectOption({selector:e,...(0,m.convertSelectOptionValues)(t),...n,timeout:this._timeout(n)})).values}async setInputFiles(e,t,n={}){const r=await(0,m.convertInputFiles)(this._platform,t,this.page().context());await this._channel.setInputFiles({selector:e,...r,...n,timeout:this._timeout(n)})}async type(e,t,n={}){await this._channel.type({selector:e,text:t,...n,timeout:this._timeout(n)})}async press(e,t,n={}){await this._channel.press({selector:e,key:t,...n,timeout:this._timeout(n)})}async check(e,t={}){await this._channel.check({selector:e,...t,timeout:this._timeout(t)})}async uncheck(e,t={}){await this._channel.uncheck({selector:e,...t,timeout:this._timeout(t)})}async setChecked(e,t,n){t?await this.check(e,n):await this.uncheck(e,n)}async waitForTimeout(e){await this._channel.waitForTimeout({waitTimeout:e})}async waitForFunction(e,t,n={}){"string"==typeof n.polling&&(0,_.assert)("raf"===n.polling,"Unknown polling option: "+n.polling);const r=await this._channel.waitForFunction({...n,pollingInterval:"raf"===n.polling?void 0:n.polling,expression:String(e),isFunction:"function"==typeof e,arg:(0,b.serializeArgument)(t),timeout:this._timeout(n)});return b.JSHandle.from(r.handle)}async title(){return(await this._channel.title()).value}async _expect(e,t){const n={expression:e,...t,isNot:!!t.isNot};n.expectedValue=(0,b.serializeArgument)(t.expectedValue);const r=await this._channel.expect(n);return void 0!==r.received&&(r.received=(0,b.parseResult)(r.received)),r}}function k(e,t){if("networkidle0"===t&&(t="networkidle"),!v.kLifecycleEvents.has(t))throw new Error(`${e}: expected one of (load|domcontentloaded|networkidle|commit)`);return t}},"./node_modules/playwright-core/lib/client/harRouter.js":e=>{"use strict";var t,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,i=Object.prototype.hasOwnProperty,s={};((e,t)=>{for(var r in t)n(e,r,{get:t[r],enumerable:!0})})(s,{HarRouter:()=>a}),e.exports=(t=s,((e,t,s,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let s of o(t))i.call(e,s)||undefined===s||n(e,s,{get:()=>t[s],enumerable:!(a=r(t,s))||a.enumerable});return e})(n({},"__esModule",{value:!0}),t));class a{static async create(e,t,n,r){const{harId:o,error:i}=await e.harOpen({file:t});if(i)throw new Error(i);return new a(e,o,n,r)}constructor(e,t,n,r){this._localUtils=e,this._harId=t,this._options=r,this._notFoundAction=n}async _handle(e){const t=e.request(),n=await this._localUtils.harLookup({harId:this._harId,url:t.url(),method:t.method(),headers:await t.headersArray(),postData:t.postDataBuffer()||void 0,isNavigationRequest:t.isNavigationRequest()});if("redirect"===n.action)return e._platform.log("api",`HAR: ${e.request().url()} redirected to ${n.redirectURL}`),void await e._redirectNavigationRequest(n.redirectURL);if("fulfill"!==n.action)"error"===n.action&&e._platform.log("api","HAR: "+n.message),"abort"!==this._notFoundAction?await e.fallback():await e.abort();else{if(-1===n.status)return;await e.fulfill({status:n.status,headers:Object.fromEntries(n.headers.map(e=>[e.name,e.value])),body:n.body})}}async addContextRoute(e){await e.route(this._options.urlMatch||"**/*",e=>this._handle(e))}async addPageRoute(e){await e.route(this._options.urlMatch||"**/*",e=>this._handle(e))}async[Symbol.asyncDispose](){await this.dispose()}dispose(){this._localUtils.harClose({harId:this._harId}).catch(()=>{})}}},"./node_modules/playwright-core/lib/client/input.js":e=>{"use strict";var t,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,i=Object.prototype.hasOwnProperty,s={};((e,t)=>{for(var r in t)n(e,r,{get:t[r],enumerable:!0})})(s,{Keyboard:()=>a,Mouse:()=>l,Touchscreen:()=>c}),e.exports=(t=s,((e,t,s,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let s of o(t))i.call(e,s)||undefined===s||n(e,s,{get:()=>t[s],enumerable:!(a=r(t,s))||a.enumerable});return e})(n({},"__esModule",{value:!0}),t));class a{constructor(e){this._page=e}async down(e){await this._page._channel.keyboardDown({key:e})}async up(e){await this._page._channel.keyboardUp({key:e})}async insertText(e){await this._page._channel.keyboardInsertText({text:e})}async type(e,t={}){await this._page._channel.keyboardType({text:e,...t})}async press(e,t={}){await this._page._channel.keyboardPress({key:e,...t})}}class l{constructor(e){this._page=e}async move(e,t,n={}){await this._page._channel.mouseMove({x:e,y:t,...n})}async down(e={}){await this._page._channel.mouseDown({...e})}async up(e={}){await this._page._channel.mouseUp(e)}async click(e,t,n={}){await this._page._channel.mouseClick({x:e,y:t,...n})}async dblclick(e,t,n={}){await this._page._wrapApiCall(async()=>{await this.click(e,t,{...n,clickCount:2})},{title:"Double click"})}async wheel(e,t){await this._page._channel.mouseWheel({deltaX:e,deltaY:t})}}class c{constructor(e){this._page=e}async tap(e,t){await this._page._channel.touchscreenTap({x:e,y:t})}}},"./node_modules/playwright-core/lib/client/jsHandle.js":(e,t,n)=>{"use strict";var r,o=Object.defineProperty,i=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,l={};((e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})})(l,{JSHandle:()=>h,assertMaxArguments:()=>m,parseResult:()=>f,serializeArgument:()=>p}),e.exports=(r=l,((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let n of s(t))a.call(e,n)||undefined===n||o(e,n,{get:()=>t[n],enumerable:!(r=i(t,n))||r.enumerable});return e})(o({},"__esModule",{value:!0}),r));var c=n("./node_modules/playwright-core/lib/client/channelOwner.js"),u=n("./node_modules/playwright-core/lib/client/errors.js"),d=n("./node_modules/playwright-core/lib/protocol/serializers.js");class h extends c.ChannelOwner{static from(e){return e._object}constructor(e,t,n,r){super(e,t,n,r),this._preview=this._initializer.preview,this._channel.on("previewUpdated",({preview:e})=>this._preview=e)}async evaluate(e,t){return f((await this._channel.evaluateExpression({expression:String(e),isFunction:"function"==typeof e,arg:p(t)})).value)}async _evaluateFunction(e){return f((await this._channel.evaluateExpression({expression:e,isFunction:!0,arg:p(void 0)})).value)}async evaluateHandle(e,t){const n=await this._channel.evaluateExpressionHandle({expression:String(e),isFunction:"function"==typeof e,arg:p(t)});return h.from(n.handle)}async getProperty(e){const t=await this._channel.getProperty({name:e});return h.from(t.handle)}async getProperties(){const e=new Map;for(const{name:t,value:n}of(await this._channel.getPropertyList()).properties)e.set(t,h.from(n));return e}async jsonValue(){return f((await this._channel.jsonValue()).value)}asElement(){return null}async[Symbol.asyncDispose](){await this.dispose()}async dispose(){try{await this._channel.dispose()}catch(e){if((0,u.isTargetClosedError)(e))return;throw e}}toString(){return this._preview}}function p(e){const t=[];return{value:(0,d.serializeValue)(e,e=>{return e instanceof h?{h:(n=e._channel,t.push(n),t.length-1)}:{fallThrough:e};var n}),handles:t}}function f(e){return(0,d.parseSerializedValue)(e,void 0)}function m(e,t){if(e>t)throw new Error("Too many arguments. If you need to pass more than 1 argument to the function wrap them in an object.")}},"./node_modules/playwright-core/lib/client/jsonPipe.js":(e,t,n)=>{"use strict";var r,o=Object.defineProperty,i=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,l={};((e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})})(l,{JsonPipe:()=>u}),e.exports=(r=l,((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let n of s(t))a.call(e,n)||undefined===n||o(e,n,{get:()=>t[n],enumerable:!(r=i(t,n))||r.enumerable});return e})(o({},"__esModule",{value:!0}),r));var c=n("./node_modules/playwright-core/lib/client/channelOwner.js");class u extends c.ChannelOwner{static from(e){return e._object}constructor(e,t,n,r){super(e,t,n,r)}channel(){return this._channel}}},"./node_modules/playwright-core/lib/client/localUtils.js":(e,t,n)=>{"use strict";var r,o=Object.defineProperty,i=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,l={};((e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})})(l,{LocalUtils:()=>u}),e.exports=(r=l,((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let n of s(t))a.call(e,n)||undefined===n||o(e,n,{get:()=>t[n],enumerable:!(r=i(t,n))||r.enumerable});return e})(o({},"__esModule",{value:!0}),r));var c=n("./node_modules/playwright-core/lib/client/channelOwner.js");class u extends c.ChannelOwner{constructor(e,t,n,r){super(e,t,n,r),this.devices={};for(const{name:e,descriptor:t}of r.deviceDescriptors)this.devices[e]=t}async zip(e){return await this._channel.zip(e)}async harOpen(e){return await this._channel.harOpen(e)}async harLookup(e){return await this._channel.harLookup(e)}async harClose(e){return await this._channel.harClose(e)}async harUnzip(e){return await this._channel.harUnzip(e)}async tracingStarted(e){return await this._channel.tracingStarted(e)}async traceDiscarded(e){return await this._channel.traceDiscarded(e)}async addStackToTracingNoReply(e){return await this._channel.addStackToTracingNoReply(e)}}},"./node_modules/playwright-core/lib/client/locator.js":(e,t,n)=>{"use strict";var r,o=Object.defineProperty,i=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,l={};((e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})})(l,{FrameLocator:()=>g,Locator:()=>m,setTestIdAttribute:()=>y,testIdAttributeName:()=>w}),e.exports=(r=l,((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let n of s(t))a.call(e,n)||undefined===n||o(e,n,{get:()=>t[n],enumerable:!(r=i(t,n))||r.enumerable});return e})(o({},"__esModule",{value:!0}),r));var c=n("./node_modules/playwright-core/lib/client/elementHandle.js"),u=n("./node_modules/playwright-core/lib/utils/isomorphic/locatorGenerators.js"),d=n("./node_modules/playwright-core/lib/utils/isomorphic/locatorUtils.js"),h=n("./node_modules/playwright-core/lib/utils/isomorphic/stringUtils.js"),p=n("./node_modules/playwright-core/lib/utils/isomorphic/rtti.js"),f=n("./node_modules/playwright-core/lib/utils/isomorphic/time.js");class m{constructor(e,t,n){if(this._frame=e,this._selector=t,n?.hasText&&(this._selector+=` >> internal:has-text=${(0,h.escapeForTextSelector)(n.hasText,!1)}`),n?.hasNotText&&(this._selector+=` >> internal:has-not-text=${(0,h.escapeForTextSelector)(n.hasNotText,!1)}`),n?.has){const t=n.has;if(t._frame!==e)throw new Error('Inner "has" locator must belong to the same frame.');this._selector+=" >> internal:has="+JSON.stringify(t._selector)}if(n?.hasNot){const t=n.hasNot;if(t._frame!==e)throw new Error('Inner "hasNot" locator must belong to the same frame.');this._selector+=" >> internal:has-not="+JSON.stringify(t._selector)}void 0!==n?.visible&&(this._selector+=" >> visible="+(n.visible?"true":"false")),this._frame._platform.inspectCustom&&(this[this._frame._platform.inspectCustom]=()=>this._inspect())}async _withElement(e,t){const n=this._frame._timeout({timeout:t.timeout}),r=n?(0,f.monotonicTime)()+n:0;return await this._frame._wrapApiCall(async()=>{const t=await this._frame._channel.waitForSelector({selector:this._selector,strict:!0,state:"attached",timeout:n}),o=c.ElementHandle.fromNullable(t.element);if(!o)throw new Error(`Could not resolve ${this._selector} to DOM Element`);try{return await e(o,r?r-(0,f.monotonicTime)():0)}finally{await o.dispose()}},{title:t.title,internal:t.internal})}_equals(e){return this._frame===e._frame&&this._selector===e._selector}page(){return this._frame.page()}async boundingBox(e){return await this._withElement(e=>e.boundingBox(),{title:"Bounding box",timeout:e?.timeout})}async check(e={}){return await this._frame.check(this._selector,{strict:!0,...e})}async click(e={}){return await this._frame.click(this._selector,{strict:!0,...e})}async dblclick(e={}){await this._frame.dblclick(this._selector,{strict:!0,...e})}async dispatchEvent(e,t={},n){return await this._frame.dispatchEvent(this._selector,e,t,{strict:!0,...n})}async dragTo(e,t={}){return await this._frame.dragAndDrop(this._selector,e._selector,{strict:!0,...t})}async evaluate(e,t,n){return await this._withElement(n=>n.evaluate(e,t),{title:"Evaluate",timeout:n?.timeout})}async _evaluateFunction(e,t){return await this._withElement(t=>t._evaluateFunction(e),{title:"Evaluate",timeout:t?.timeout})}async evaluateAll(e,t){return await this._frame.$$eval(this._selector,e,t)}async evaluateHandle(e,t,n){return await this._withElement(n=>n.evaluateHandle(e,t),{title:"Evaluate",timeout:n?.timeout})}async fill(e,t={}){return await this._frame.fill(this._selector,e,{strict:!0,...t})}async clear(e={}){await this._frame._wrapApiCall(()=>this.fill("",e),{title:"Clear"})}async _highlight(){return await this._frame._highlight(this._selector)}async highlight(){return await this._frame._highlight(this._selector)}locator(e,t){if((0,p.isString)(e))return new m(this._frame,this._selector+" >> "+e,t);if(e._frame!==this._frame)throw new Error("Locators must belong to the same frame.");return new m(this._frame,this._selector+" >> internal:chain="+JSON.stringify(e._selector),t)}getByTestId(e){return this.locator((0,d.getByTestIdSelector)(w(),e))}getByAltText(e,t){return this.locator((0,d.getByAltTextSelector)(e,t))}getByLabel(e,t){return this.locator((0,d.getByLabelSelector)(e,t))}getByPlaceholder(e,t){return this.locator((0,d.getByPlaceholderSelector)(e,t))}getByText(e,t){return this.locator((0,d.getByTextSelector)(e,t))}getByTitle(e,t){return this.locator((0,d.getByTitleSelector)(e,t))}getByRole(e,t={}){return this.locator((0,d.getByRoleSelector)(e,t))}frameLocator(e){return new g(this._frame,this._selector+" >> "+e)}filter(e){return new m(this._frame,this._selector,e)}async elementHandle(e){return await this._frame.waitForSelector(this._selector,{strict:!0,state:"attached",...e})}async elementHandles(){return await this._frame.$$(this._selector)}contentFrame(){return new g(this._frame,this._selector)}describe(e){return new m(this._frame,this._selector+" >> internal:describe="+JSON.stringify(e))}first(){return new m(this._frame,this._selector+" >> nth=0")}last(){return new m(this._frame,this._selector+" >> nth=-1")}nth(e){return new m(this._frame,this._selector+` >> nth=${e}`)}and(e){if(e._frame!==this._frame)throw new Error("Locators must belong to the same frame.");return new m(this._frame,this._selector+" >> internal:and="+JSON.stringify(e._selector))}or(e){if(e._frame!==this._frame)throw new Error("Locators must belong to the same frame.");return new m(this._frame,this._selector+" >> internal:or="+JSON.stringify(e._selector))}async focus(e){return await this._frame.focus(this._selector,{strict:!0,...e})}async blur(e){await this._frame._channel.blur({selector:this._selector,strict:!0,...e,timeout:this._frame._timeout(e)})}async count(e){return await this._frame._queryCount(this._selector,e)}async _resolveSelector(){return await this._frame._channel.resolveSelector({selector:this._selector})}async getAttribute(e,t){return await this._frame.getAttribute(this._selector,e,{strict:!0,...t})}async hover(e={}){return await this._frame.hover(this._selector,{strict:!0,...e})}async innerHTML(e){return await this._frame.innerHTML(this._selector,{strict:!0,...e})}async innerText(e){return await this._frame.innerText(this._selector,{strict:!0,...e})}async inputValue(e){return await this._frame.inputValue(this._selector,{strict:!0,...e})}async isChecked(e){return await this._frame.isChecked(this._selector,{strict:!0,...e})}async isDisabled(e){return await this._frame.isDisabled(this._selector,{strict:!0,...e})}async isEditable(e){return await this._frame.isEditable(this._selector,{strict:!0,...e})}async isEnabled(e){return await this._frame.isEnabled(this._selector,{strict:!0,...e})}async isHidden(e){return await this._frame.isHidden(this._selector,{strict:!0,...e})}async isVisible(e){return await this._frame.isVisible(this._selector,{strict:!0,...e})}async press(e,t={}){return await this._frame.press(this._selector,e,{strict:!0,...t})}async screenshot(e={}){const t=e.mask;return await this._withElement((n,r)=>n.screenshot({...e,mask:t,timeout:r}),{title:"Screenshot",timeout:e.timeout})}async ariaSnapshot(e){return(await this._frame._channel.ariaSnapshot({...e,selector:this._selector,timeout:this._frame._timeout(e)})).snapshot}async scrollIntoViewIfNeeded(e={}){return await this._withElement((t,n)=>t.scrollIntoViewIfNeeded({...e,timeout:n}),{title:"Scroll into view",timeout:e.timeout})}async selectOption(e,t={}){return await this._frame.selectOption(this._selector,e,{strict:!0,...t})}async selectText(e={}){return await this._withElement((t,n)=>t.selectText({...e,timeout:n}),{title:"Select text",timeout:e.timeout})}async setChecked(e,t){e?await this.check(t):await this.uncheck(t)}async setInputFiles(e,t={}){return await this._frame.setInputFiles(this._selector,e,{strict:!0,...t})}async tap(e={}){return await this._frame.tap(this._selector,{strict:!0,...e})}async textContent(e){return await this._frame.textContent(this._selector,{strict:!0,...e})}async type(e,t={}){return await this._frame.type(this._selector,e,{strict:!0,...t})}async pressSequentially(e,t={}){return await this.type(e,t)}async uncheck(e={}){return await this._frame.uncheck(this._selector,{strict:!0,...e})}async all(){return new Array(await this.count()).fill(0).map((e,t)=>this.nth(t))}async allInnerTexts(){return await this._frame.$$eval(this._selector,e=>e.map(e=>e.innerText))}async allTextContents(){return await this._frame.$$eval(this._selector,e=>e.map(e=>e.textContent||""))}async waitFor(e){await this._frame._channel.waitForSelector({selector:this._selector,strict:!0,omitReturnValue:!0,...e,timeout:this._frame._timeout(e)})}async _expect(e,t){return this._frame._expect(e,{...t,selector:this._selector})}_inspect(){return this.toString()}toString(){return(0,u.asLocator)("javascript",this._selector)}}class g{constructor(e,t){this._frame=e,this._frameSelector=t}locator(e,t){if((0,p.isString)(e))return new m(this._frame,this._frameSelector+" >> internal:control=enter-frame >> "+e,t);if(e._frame!==this._frame)throw new Error("Locators must belong to the same frame.");return new m(this._frame,this._frameSelector+" >> internal:control=enter-frame >> "+e._selector,t)}getByTestId(e){return this.locator((0,d.getByTestIdSelector)(w(),e))}getByAltText(e,t){return this.locator((0,d.getByAltTextSelector)(e,t))}getByLabel(e,t){return this.locator((0,d.getByLabelSelector)(e,t))}getByPlaceholder(e,t){return this.locator((0,d.getByPlaceholderSelector)(e,t))}getByText(e,t){return this.locator((0,d.getByTextSelector)(e,t))}getByTitle(e,t){return this.locator((0,d.getByTitleSelector)(e,t))}getByRole(e,t={}){return this.locator((0,d.getByRoleSelector)(e,t))}owner(){return new m(this._frame,this._frameSelector)}frameLocator(e){return new g(this._frame,this._frameSelector+" >> internal:control=enter-frame >> "+e)}first(){return new g(this._frame,this._frameSelector+" >> nth=0")}last(){return new g(this._frame,this._frameSelector+" >> nth=-1")}nth(e){return new g(this._frame,this._frameSelector+` >> nth=${e}`)}}let b="data-testid";function w(){return b}function y(e){b=e}},"./node_modules/playwright-core/lib/client/network.js":(e,t,n)=>{"use strict";var r,o=Object.defineProperty,i=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,l={};((e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})})(l,{RawHeaders:()=>M,Request:()=>S,Response:()=>O,Route:()=>E,RouteHandler:()=>B,WebSocket:()=>T,WebSocketRoute:()=>C,WebSocketRouteHandler:()=>k,validateHeaders:()=>I}),e.exports=(r=l,((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let n of s(t))a.call(e,n)||undefined===n||o(e,n,{get:()=>t[n],enumerable:!(r=i(t,n))||r.enumerable});return e})(o({},"__esModule",{value:!0}),r));var c=n("./node_modules/playwright-core/lib/client/channelOwner.js"),u=n("./node_modules/playwright-core/lib/client/errors.js"),d=n("./node_modules/playwright-core/lib/client/events.js"),h=n("./node_modules/playwright-core/lib/client/fetch.js"),p=n("./node_modules/playwright-core/lib/client/frame.js"),f=n("./node_modules/playwright-core/lib/client/waiter.js"),m=n("./node_modules/playwright-core/lib/client/worker.js"),g=n("./node_modules/playwright-core/lib/utils/isomorphic/assert.js"),b=n("./node_modules/playwright-core/lib/utils/isomorphic/headers.js"),w=n("./node_modules/playwright-core/lib/utils/isomorphic/urlMatch.js"),y=n("./node_modules/playwright-core/lib/utils/isomorphic/manualPromise.js"),v=n("./node_modules/playwright-core/lib/utils/isomorphic/multimap.js"),A=n("./node_modules/playwright-core/lib/utils/isomorphic/rtti.js"),_=n("./node_modules/playwright-core/lib/utils/isomorphic/stackTrace.js"),x=n("./node_modules/playwright-core/lib/utils/isomorphic/mimeType.js");class S extends c.ChannelOwner{constructor(e,t,n,r){super(e,t,n,r),this._redirectedFrom=null,this._redirectedTo=null,this._failureText=null,this._fallbackOverrides={},this._redirectedFrom=S.fromNullable(r.redirectedFrom),this._redirectedFrom&&(this._redirectedFrom._redirectedTo=this),this._provisionalHeaders=new M(r.headers),this._timing={startTime:0,domainLookupStart:-1,domainLookupEnd:-1,connectStart:-1,secureConnectionStart:-1,connectEnd:-1,requestStart:-1,responseStart:-1,responseEnd:-1}}static from(e){return e._object}static fromNullable(e){return e?S.from(e):null}url(){return this._fallbackOverrides.url||this._initializer.url}resourceType(){return this._initializer.resourceType}method(){return this._fallbackOverrides.method||this._initializer.method}postData(){return(this._fallbackOverrides.postDataBuffer||this._initializer.postData)?.toString("utf-8")||null}postDataBuffer(){return this._fallbackOverrides.postDataBuffer||this._initializer.postData||null}postDataJSON(){const e=this.postData();if(!e)return null;const t=this.headers()["content-type"];if(t?.includes("application/x-www-form-urlencoded")){const t={},n=new URLSearchParams(e);for(const[e,r]of n.entries())t[e]=r;return t}try{return JSON.parse(e)}catch(t){throw new Error("POST data is not a valid JSON object: "+e)}}headers(){return this._fallbackOverrides.headers?M._fromHeadersObjectLossy(this._fallbackOverrides.headers).headers():this._provisionalHeaders.headers()}async _actualHeaders(){return this._fallbackOverrides.headers?M._fromHeadersObjectLossy(this._fallbackOverrides.headers):(this._actualHeadersPromise||(this._actualHeadersPromise=this._wrapApiCall(async()=>new M((await this._channel.rawRequestHeaders()).headers),{internal:!0})),await this._actualHeadersPromise)}async allHeaders(){return(await this._actualHeaders()).headers()}async headersArray(){return(await this._actualHeaders()).headersArray()}async headerValue(e){return(await this._actualHeaders()).get(e)}async response(){return O.fromNullable((await this._channel.response()).response)}async _internalResponse(){return O.fromNullable((await this._channel.response()).response)}frame(){if(!this._initializer.frame)throw(0,g.assert)(this.serviceWorker()),new Error("Service Worker requests do not have an associated frame.");const e=p.Frame.from(this._initializer.frame);if(!e._page)throw new Error(["Frame for this navigation request is not available, because the request","was issued before the frame is created. You can check whether the request","is a navigation request by calling isNavigationRequest() method."].join("\n"));return e}_safePage(){return p.Frame.fromNullable(this._initializer.frame)?._page||null}serviceWorker(){return this._initializer.serviceWorker?m.Worker.from(this._initializer.serviceWorker):null}isNavigationRequest(){return this._initializer.isNavigationRequest}redirectedFrom(){return this._redirectedFrom}redirectedTo(){return this._redirectedTo}failure(){return null===this._failureText?null:{errorText:this._failureText}}timing(){return this._timing}async sizes(){const e=await this.response();if(!e)throw new Error("Unable to fetch sizes for failed request");return(await e._channel.sizes()).sizes}_setResponseEndTiming(e){this._timing.responseEnd=e,-1===this._timing.responseStart&&(this._timing.responseStart=e)}_finalRequest(){return this._redirectedTo?this._redirectedTo._finalRequest():this}_applyFallbackOverrides(e){e.url&&(this._fallbackOverrides.url=e.url),e.method&&(this._fallbackOverrides.method=e.method),e.headers&&(this._fallbackOverrides.headers=e.headers),(0,A.isString)(e.postData)?this._fallbackOverrides.postDataBuffer=Buffer.from(e.postData,"utf-8"):e.postData instanceof Buffer?this._fallbackOverrides.postDataBuffer=e.postData:e.postData&&(this._fallbackOverrides.postDataBuffer=Buffer.from(JSON.stringify(e.postData),"utf-8"))}_fallbackOverridesForContinue(){return this._fallbackOverrides}_targetClosedScope(){return this.serviceWorker()?._closedScope||this._safePage()?._closedOrCrashedScope||new y.LongStandingScope}}class E extends c.ChannelOwner{constructor(e,t,n,r){super(e,t,n,r),this._handlingPromise=null,this._didThrow=!1}static from(e){return e._object}request(){return S.from(this._initializer.request)}async _raceWithTargetClose(e){return await this.request()._targetClosedScope().safeRace(e)}async _startHandling(){return this._handlingPromise=new y.ManualPromise,await this._handlingPromise}async fallback(e={}){this._checkNotHandled(),this.request()._applyFallbackOverrides(e),this._reportHandled(!1)}async abort(e){await this._handleRoute(async()=>{await this._raceWithTargetClose(this._channel.abort({errorCode:e}))})}async _redirectNavigationRequest(e){await this._handleRoute(async()=>{await this._raceWithTargetClose(this._channel.redirectNavigationRequest({url:e}))})}async fetch(e={}){return await this._wrapApiCall(async()=>await this._context.request._innerFetch({request:this.request(),data:e.postData,...e}))}async fulfill(e={}){await this._handleRoute(async()=>{await this._innerFulfill(e)})}async _handleRoute(e){this._checkNotHandled();try{await e(),this._reportHandled(!0)}catch(e){throw this._didThrow=!0,e}}async _innerFulfill(e={}){let t,{status:n,headers:r,body:o}=e;void 0!==e.json&&((0,g.assert)(void 0===e.body,"Can specify either body or json parameters"),o=JSON.stringify(e.json)),e.response instanceof h.APIResponse&&(n??=e.response.status(),r??=e.response.headers(),void 0===o&&void 0===e.path&&(e.response._request._connection===this._connection?t=e.response._fetchUid():o=await e.response.body()));let i=!1,s=0;if(e.path){const t=await this._platform.fs().promises.readFile(e.path);o=t.toString("base64"),i=!0,s=t.length}else(0,A.isString)(o)?(i=!1,s=Buffer.byteLength(o)):o&&(s=o.length,o=o.toString("base64"),i=!0);const a={};for(const e of Object.keys(r||{}))a[e.toLowerCase()]=String(r[e]);e.contentType?a["content-type"]=String(e.contentType):e.json?a["content-type"]="application/json":e.path&&(a["content-type"]=(0,x.getMimeTypeForPath)(e.path)||"application/octet-stream"),s&&!("content-length"in a)&&(a["content-length"]=String(s)),await this._raceWithTargetClose(this._channel.fulfill({status:n||200,headers:(0,b.headersObjectToArray)(a),body:o,isBase64:i,fetchResponseUid:t}))}async continue(e={}){await this._handleRoute(async()=>{this.request()._applyFallbackOverrides(e),await this._innerContinue(!1)})}_checkNotHandled(){if(!this._handlingPromise)throw new Error("Route is already handled!")}_reportHandled(e){const t=this._handlingPromise;this._handlingPromise=null,t.resolve(e)}async _innerContinue(e){const t=this.request()._fallbackOverridesForContinue();return await this._raceWithTargetClose(this._channel.continue({url:t.url,method:t.method,headers:t.headers?(0,b.headersObjectToArray)(t.headers):void 0,postData:t.postDataBuffer,isFallback:e}))}}class C extends c.ChannelOwner{constructor(e,t,n,r){super(e,t,n,r),this._connected=!1,this._server={onMessage:e=>{this._onServerMessage=e},onClose:e=>{this._onServerClose=e},connectToServer:()=>{throw new Error("connectToServer must be called on the page-side WebSocketRoute")},url:()=>this._initializer.url,close:async(e={})=>{await this._channel.closeServer({...e,wasClean:!0}).catch(()=>{})},send:e=>{(0,A.isString)(e)?this._channel.sendToServer({message:e,isBase64:!1}).catch(()=>{}):this._channel.sendToServer({message:e.toString("base64"),isBase64:!0}).catch(()=>{})},async[Symbol.asyncDispose](){await this.close()}},this._channel.on("messageFromPage",({message:e,isBase64:t})=>{this._onPageMessage?this._onPageMessage(t?Buffer.from(e,"base64"):e):this._connected&&this._channel.sendToServer({message:e,isBase64:t}).catch(()=>{})}),this._channel.on("messageFromServer",({message:e,isBase64:t})=>{this._onServerMessage?this._onServerMessage(t?Buffer.from(e,"base64"):e):this._channel.sendToPage({message:e,isBase64:t}).catch(()=>{})}),this._channel.on("closePage",({code:e,reason:t,wasClean:n})=>{this._onPageClose?this._onPageClose(e,t):this._channel.closeServer({code:e,reason:t,wasClean:n}).catch(()=>{})}),this._channel.on("closeServer",({code:e,reason:t,wasClean:n})=>{this._onServerClose?this._onServerClose(e,t):this._channel.closePage({code:e,reason:t,wasClean:n}).catch(()=>{})})}static from(e){return e._object}url(){return this._initializer.url}async close(e={}){await this._channel.closePage({...e,wasClean:!0}).catch(()=>{})}connectToServer(){if(this._connected)throw new Error("Already connected to the server");return this._connected=!0,this._channel.connect().catch(()=>{}),this._server}send(e){(0,A.isString)(e)?this._channel.sendToPage({message:e,isBase64:!1}).catch(()=>{}):this._channel.sendToPage({message:e.toString("base64"),isBase64:!0}).catch(()=>{})}onMessage(e){this._onPageMessage=e}onClose(e){this._onPageClose=e}async[Symbol.asyncDispose](){await this.close()}async _afterHandle(){this._connected||await this._channel.ensureOpened().catch(()=>{})}}class k{constructor(e,t,n){this._baseURL=e,this.url=t,this.handler=n}static prepareInterceptionPatterns(e){const t=[];let n=!1;for(const r of e)(0,A.isString)(r.url)?t.push({glob:r.url}):(0,A.isRegExp)(r.url)?t.push({regexSource:r.url.source,regexFlags:r.url.flags}):n=!0;return n?[{glob:"**/*"}]:t}matches(e){return(0,w.urlMatches)(this._baseURL,e,this.url,!0)}async handle(e){const t=this.handler;await t(e),await e._afterHandle()}}class O extends c.ChannelOwner{constructor(e,t,n,r){super(e,t,n,r),this._finishedPromise=new y.ManualPromise,this._provisionalHeaders=new M(r.headers),this._request=S.from(this._initializer.request),Object.assign(this._request._timing,this._initializer.timing)}static from(e){return e._object}static fromNullable(e){return e?O.from(e):null}url(){return this._initializer.url}ok(){return 0===this._initializer.status||this._initializer.status>=200&&this._initializer.status<=299}status(){return this._initializer.status}statusText(){return this._initializer.statusText}fromServiceWorker(){return this._initializer.fromServiceWorker}headers(){return this._provisionalHeaders.headers()}async _actualHeaders(){return this._actualHeadersPromise||(this._actualHeadersPromise=(async()=>new M((await this._channel.rawResponseHeaders()).headers))()),await this._actualHeadersPromise}async allHeaders(){return(await this._actualHeaders()).headers()}async headersArray(){return(await this._actualHeaders()).headersArray().slice()}async headerValue(e){return(await this._actualHeaders()).get(e)}async headerValues(e){return(await this._actualHeaders()).getAll(e)}async finished(){return await this.request()._targetClosedScope().race(this._finishedPromise)}async body(){return(await this._channel.body()).binary}async text(){return(await this.body()).toString("utf8")}async json(){const e=await this.text();return JSON.parse(e)}request(){return this._request}frame(){return this._request.frame()}async serverAddr(){return(await this._channel.serverAddr()).value||null}async securityDetails(){return(await this._channel.securityDetails()).value||null}}class T extends c.ChannelOwner{static from(e){return e._object}constructor(e,t,n,r){super(e,t,n,r),this._isClosed=!1,this._page=e,this._channel.on("frameSent",e=>{1===e.opcode?this.emit(d.Events.WebSocket.FrameSent,{payload:e.data}):2===e.opcode&&this.emit(d.Events.WebSocket.FrameSent,{payload:Buffer.from(e.data,"base64")})}),this._channel.on("frameReceived",e=>{1===e.opcode?this.emit(d.Events.WebSocket.FrameReceived,{payload:e.data}):2===e.opcode&&this.emit(d.Events.WebSocket.FrameReceived,{payload:Buffer.from(e.data,"base64")})}),this._channel.on("socketError",({error:e})=>this.emit(d.Events.WebSocket.Error,e)),this._channel.on("close",()=>{this._isClosed=!0,this.emit(d.Events.WebSocket.Close,this)})}url(){return this._initializer.url}isClosed(){return this._isClosed}async waitForEvent(e,t={}){return await this._wrapApiCall(async()=>{const n=this._page._timeoutSettings.timeout("function"==typeof t?{}:t),r="function"==typeof t?t:t.predicate,o=f.Waiter.createForEvent(this,e);o.rejectOnTimeout(n,`Timeout ${n}ms exceeded while waiting for event "${e}"`),e!==d.Events.WebSocket.Error&&o.rejectOnEvent(this,d.Events.WebSocket.Error,new Error("Socket error")),e!==d.Events.WebSocket.Close&&o.rejectOnEvent(this,d.Events.WebSocket.Close,new Error("Socket closed")),o.rejectOnEvent(this._page,d.Events.Page.Close,()=>this._page._closeErrorWithReason());const i=await o.waitForEvent(this,e,r);return o.dispose(),i})}}function I(e){for(const t of Object.keys(e)){const n=e[t];if(!Object.is(n,void 0)&&!(0,A.isString)(n))throw new Error(`Expected value of header "${t}" to be String, but "${typeof n}" is found.`)}}class B{constructor(e,t,n,r,o=Number.MAX_SAFE_INTEGER){this.handledCount=0,this._ignoreException=!1,this._activeInvocations=new Set,this._baseURL=t,this._times=o,this.url=n,this.handler=r,this._savedZone=e.zones.current().pop()}static prepareInterceptionPatterns(e){const t=[];let n=!1;for(const r of e)(0,A.isString)(r.url)?t.push({glob:r.url}):(0,A.isRegExp)(r.url)?t.push({regexSource:r.url.source,regexFlags:r.url.flags}):n=!0;return n?[{glob:"**/*"}]:t}matches(e){return(0,w.urlMatches)(this._baseURL,e,this.url)}async handle(e){return await this._savedZone.run(async()=>this._handleImpl(e))}async _handleImpl(e){const t={complete:new y.ManualPromise,route:e};this._activeInvocations.add(t);try{return await this._handleInternal(e)}catch(e){if(this._ignoreException)return!1;throw(0,u.isTargetClosedError)(e)&&(0,_.rewriteErrorMessage)(e,`"${e.message}" while running route callback.\nConsider awaiting \`await page.unrouteAll({ behavior: 'ignoreErrors' })\`\nbefore the end of the test to ignore remaining routes in flight.`),e}finally{t.complete.resolve(),this._activeInvocations.delete(t)}}async stop(e){if("ignoreErrors"===e)this._ignoreException=!0;else{const e=[];for(const t of this._activeInvocations)t.route._didThrow||e.push(t.complete);await Promise.all(e)}}async _handleInternal(e){++this.handledCount;const t=e._startHandling(),n=this.handler,[r]=await Promise.all([t,n(e,e.request())]);return r}willExpire(){return this.handledCount+1>=this._times}}class M{constructor(e){this._headersMap=new v.MultiMap,this._headersArray=e;for(const t of e)this._headersMap.set(t.name.toLowerCase(),t.value)}static _fromHeadersObjectLossy(e){const t=Object.entries(e).map(([e,t])=>({name:e,value:t})).filter(e=>void 0!==e.value);return new M(t)}get(e){const t=this.getAll(e);return t&&t.length?t.join("set-cookie"===e.toLowerCase()?"\n":", "):null}getAll(e){return[...this._headersMap.get(e.toLowerCase())]}headers(){const e={};for(const t of this._headersMap.keys())e[t]=this.get(t);return e}headersArray(){return this._headersArray}}},"./node_modules/playwright-core/lib/client/page.js":(e,t,n)=>{"use strict";var r,o=Object.defineProperty,i=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,l={};((e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})})(l,{BindingCall:()=>D,Page:()=>F}),e.exports=(r=l,((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let n of s(t))a.call(e,n)||undefined===n||o(e,n,{get:()=>t[n],enumerable:!(r=i(t,n))||r.enumerable});return e})(o({},"__esModule",{value:!0}),r));var c=n("./node_modules/playwright-core/lib/client/accessibility.js"),u=n("./node_modules/playwright-core/lib/client/artifact.js"),d=n("./node_modules/playwright-core/lib/client/channelOwner.js"),h=n("./node_modules/playwright-core/lib/client/clientHelper.js"),p=n("./node_modules/playwright-core/lib/client/coverage.js"),f=n("./node_modules/playwright-core/lib/client/download.js"),m=n("./node_modules/playwright-core/lib/client/elementHandle.js"),g=n("./node_modules/playwright-core/lib/client/errors.js"),b=n("./node_modules/playwright-core/lib/client/events.js"),w=n("./node_modules/playwright-core/lib/client/fileChooser.js"),y=n("./node_modules/playwright-core/lib/client/frame.js"),v=n("./node_modules/playwright-core/lib/client/harRouter.js"),A=n("./node_modules/playwright-core/lib/client/input.js"),_=n("./node_modules/playwright-core/lib/client/jsHandle.js"),x=n("./node_modules/playwright-core/lib/client/network.js"),S=n("./node_modules/playwright-core/lib/client/video.js"),E=n("./node_modules/playwright-core/lib/client/waiter.js"),C=n("./node_modules/playwright-core/lib/client/worker.js"),k=n("./node_modules/playwright-core/lib/client/timeoutSettings.js"),O=n("./node_modules/playwright-core/lib/utils/isomorphic/assert.js"),T=n("./node_modules/playwright-core/lib/client/fileUtils.js"),I=n("./node_modules/playwright-core/lib/utils/isomorphic/headers.js"),B=n("./node_modules/playwright-core/lib/utils/isomorphic/stringUtils.js"),M=n("./node_modules/playwright-core/lib/utils/isomorphic/urlMatch.js"),P=n("./node_modules/playwright-core/lib/utils/isomorphic/manualPromise.js"),j=n("./node_modules/playwright-core/lib/utils/isomorphic/rtti.js"),N=n("./node_modules/playwright-core/lib/client/consoleMessage.js");class F extends d.ChannelOwner{constructor(e,t,n,r){super(e,t,n,r),this._frames=new Set,this._workers=new Set,this._closed=!1,this._closedOrCrashedScope=new P.LongStandingScope,this._routes=[],this._webSocketRoutes=[],this._bindings=new Map,this._video=null,this._closeWasCalled=!1,this._harRouters=[],this._locatorHandlers=new Map,this._browserContext=e,this._timeoutSettings=new k.TimeoutSettings(this._platform,this._browserContext._timeoutSettings),this.accessibility=new c.Accessibility(this._channel),this.keyboard=new A.Keyboard(this),this.mouse=new A.Mouse(this),this.request=this._browserContext.request,this.touchscreen=new A.Touchscreen(this),this.clock=this._browserContext.clock,this._mainFrame=y.Frame.from(r.mainFrame),this._mainFrame._page=this,this._frames.add(this._mainFrame),this._viewportSize=r.viewportSize,this._closed=r.isClosed,this._opener=F.fromNullable(r.opener),this._channel.on("bindingCall",({binding:e})=>this._onBinding(D.from(e))),this._channel.on("close",()=>this._onClose()),this._channel.on("crash",()=>this._onCrash()),this._channel.on("download",({url:e,suggestedFilename:t,artifact:n})=>{const r=u.Artifact.from(n);this.emit(b.Events.Page.Download,new f.Download(this,e,t,r))}),this._channel.on("fileChooser",({element:e,isMultiple:t})=>this.emit(b.Events.Page.FileChooser,new w.FileChooser(this,m.ElementHandle.from(e),t))),this._channel.on("frameAttached",({frame:e})=>this._onFrameAttached(y.Frame.from(e))),this._channel.on("frameDetached",({frame:e})=>this._onFrameDetached(y.Frame.from(e))),this._channel.on("locatorHandlerTriggered",({uid:e})=>this._onLocatorHandlerTriggered(e)),this._channel.on("route",({route:e})=>this._onRoute(x.Route.from(e))),this._channel.on("webSocketRoute",({webSocketRoute:e})=>this._onWebSocketRoute(x.WebSocketRoute.from(e))),this._channel.on("video",({artifact:e})=>{const t=u.Artifact.from(e);this._forceVideo()._artifactReady(t)}),this._channel.on("viewportSizeChanged",({viewportSize:e})=>this._viewportSize=e),this._channel.on("webSocket",({webSocket:e})=>this.emit(b.Events.Page.WebSocket,x.WebSocket.from(e))),this._channel.on("worker",({worker:e})=>this._onWorker(C.Worker.from(e))),this.coverage=new p.Coverage(this._channel),this.once(b.Events.Page.Close,()=>this._closedOrCrashedScope.close(this._closeErrorWithReason())),this.once(b.Events.Page.Crash,()=>this._closedOrCrashedScope.close(new g.TargetClosedError)),this._setEventToSubscriptionMapping(new Map([[b.Events.Page.Console,"console"],[b.Events.Page.Dialog,"dialog"],[b.Events.Page.Request,"request"],[b.Events.Page.Response,"response"],[b.Events.Page.RequestFinished,"requestFinished"],[b.Events.Page.RequestFailed,"requestFailed"],[b.Events.Page.FileChooser,"fileChooser"]]))}static from(e){return e._object}static fromNullable(e){return e?F.from(e):null}_onFrameAttached(e){e._page=this,this._frames.add(e),e._parentFrame&&e._parentFrame._childFrames.add(e),this.emit(b.Events.Page.FrameAttached,e)}_onFrameDetached(e){this._frames.delete(e),e._detached=!0,e._parentFrame&&e._parentFrame._childFrames.delete(e),this.emit(b.Events.Page.FrameDetached,e)}async _onRoute(e){e._context=this.context();const t=this._routes.slice();for(const n of t){if(this._closeWasCalled||"none"!==this._browserContext._closingStatus)return;if(!n.matches(e.request().url()))continue;const t=this._routes.indexOf(n);if(-1===t)continue;n.willExpire()&&this._routes.splice(t,1);const r=await n.handle(e);if(this._routes.length||this._updateInterceptionPatterns({internal:!0}).catch(()=>{}),r)return}await this._browserContext._onRoute(e)}async _onWebSocketRoute(e){const t=this._webSocketRoutes.find(t=>t.matches(e.url()));t?await t.handle(e):await this._browserContext._onWebSocketRoute(e)}async _onBinding(e){const t=this._bindings.get(e._initializer.name);t?await e.call(t):await this._browserContext._onBinding(e)}_onWorker(e){this._workers.add(e),e._page=this,this.emit(b.Events.Page.Worker,e)}_onClose(){this._closed=!0,this._browserContext._pages.delete(this),this._disposeHarRouters(),this.emit(b.Events.Page.Close,this)}_onCrash(){this.emit(b.Events.Page.Crash,this)}context(){return this._browserContext}async opener(){return!this._opener||this._opener.isClosed()?null:this._opener}mainFrame(){return this._mainFrame}frame(e){const t=(0,j.isString)(e)?e:e.name,n=(0,j.isObject)(e)?e.url:void 0;return(0,O.assert)(t||n,"Either name or url matcher should be specified"),this.frames().find(e=>t?e.name()===t:(0,M.urlMatches)(this._browserContext._options.baseURL,e.url(),n))||null}frames(){return[...this._frames]}setDefaultNavigationTimeout(e){this._timeoutSettings.setDefaultNavigationTimeout(e)}setDefaultTimeout(e){this._timeoutSettings.setDefaultTimeout(e)}_forceVideo(){return this._video||(this._video=new S.Video(this,this._connection)),this._video}video(){return this._browserContext._options.recordVideo?this._forceVideo():null}async $(e,t){return await this._mainFrame.$(e,t)}async waitForSelector(e,t){return await this._mainFrame.waitForSelector(e,t)}async dispatchEvent(e,t,n,r){return await this._mainFrame.dispatchEvent(e,t,n,r)}async evaluateHandle(e,t){return(0,_.assertMaxArguments)(arguments.length,2),await this._mainFrame.evaluateHandle(e,t)}async $eval(e,t,n){return(0,_.assertMaxArguments)(arguments.length,3),await this._mainFrame.$eval(e,t,n)}async $$eval(e,t,n){return(0,_.assertMaxArguments)(arguments.length,3),await this._mainFrame.$$eval(e,t,n)}async $$(e){return await this._mainFrame.$$(e)}async addScriptTag(e={}){return await this._mainFrame.addScriptTag(e)}async addStyleTag(e={}){return await this._mainFrame.addStyleTag(e)}async exposeFunction(e,t){await this._channel.exposeBinding({name:e}),this._bindings.set(e,(e,...n)=>t(...n))}async exposeBinding(e,t,n={}){await this._channel.exposeBinding({name:e,needsHandle:n.handle}),this._bindings.set(e,t)}async setExtraHTTPHeaders(e){(0,x.validateHeaders)(e),await this._channel.setExtraHTTPHeaders({headers:(0,I.headersObjectToArray)(e)})}url(){return this._mainFrame.url()}async content(){return await this._mainFrame.content()}async setContent(e,t){return await this._mainFrame.setContent(e,t)}async goto(e,t){return await this._mainFrame.goto(e,t)}async reload(e={}){const t=(0,y.verifyLoadState)("waitUntil",void 0===e.waitUntil?"load":e.waitUntil);return x.Response.fromNullable((await this._channel.reload({...e,waitUntil:t,timeout:this._timeoutSettings.navigationTimeout(e)})).response)}async addLocatorHandler(e,t,n={}){if(e._frame!==this._mainFrame)throw new Error("Locator must belong to the main frame of this page");if(0===n.times)return;const{uid:r}=await this._channel.registerLocatorHandler({selector:e._selector,noWaitAfter:n.noWaitAfter});this._locatorHandlers.set(r,{locator:e,handler:t,times:n.times})}async _onLocatorHandlerTriggered(e){let t=!1;try{const n=this._locatorHandlers.get(e);n&&0!==n.times&&(void 0!==n.times&&n.times--,await n.handler(n.locator)),t=0===n?.times}finally{t&&this._locatorHandlers.delete(e),this._channel.resolveLocatorHandlerNoReply({uid:e,remove:t}).catch(()=>{})}}async removeLocatorHandler(e){for(const[t,n]of this._locatorHandlers)n.locator._equals(e)&&(this._locatorHandlers.delete(t),await this._channel.unregisterLocatorHandler({uid:t}).catch(()=>{}))}async waitForLoadState(e,t){return await this._mainFrame.waitForLoadState(e,t)}async waitForNavigation(e){return await this._mainFrame.waitForNavigation(e)}async waitForURL(e,t){return await this._mainFrame.waitForURL(e,t)}async waitForRequest(e,t={}){const n=R(e),r=n?`waiting for request ${n}`:void 0;return await this._waitForEvent(b.Events.Page.Request,{predicate:async t=>(0,j.isString)(e)||(0,j.isRegExp)(e)?(0,M.urlMatches)(this._browserContext._options.baseURL,t.url(),e):await e(t),timeout:t.timeout},r)}async waitForResponse(e,t={}){const n=R(e),r=n?`waiting for response ${n}`:void 0;return await this._waitForEvent(b.Events.Page.Response,{predicate:async t=>(0,j.isString)(e)||(0,j.isRegExp)(e)?(0,M.urlMatches)(this._browserContext._options.baseURL,t.url(),e):await e(t),timeout:t.timeout},r)}async waitForEvent(e,t={}){return await this._waitForEvent(e,t,`waiting for event "${e}"`)}_closeErrorWithReason(){return new g.TargetClosedError(this._closeReason||this._browserContext._effectiveCloseReason())}async _waitForEvent(e,t,n){return await this._wrapApiCall(async()=>{const r=this._timeoutSettings.timeout("function"==typeof t?{}:t),o="function"==typeof t?t:t.predicate,i=E.Waiter.createForEvent(this,e);n&&i.log(n),i.rejectOnTimeout(r,`Timeout ${r}ms exceeded while waiting for event "${e}"`),e!==b.Events.Page.Crash&&i.rejectOnEvent(this,b.Events.Page.Crash,new Error("Page crashed")),e!==b.Events.Page.Close&&i.rejectOnEvent(this,b.Events.Page.Close,()=>this._closeErrorWithReason());const s=await i.waitForEvent(this,e,o);return i.dispose(),s})}async goBack(e={}){const t=(0,y.verifyLoadState)("waitUntil",void 0===e.waitUntil?"load":e.waitUntil);return x.Response.fromNullable((await this._channel.goBack({...e,waitUntil:t,timeout:this._timeoutSettings.navigationTimeout(e)})).response)}async goForward(e={}){const t=(0,y.verifyLoadState)("waitUntil",void 0===e.waitUntil?"load":e.waitUntil);return x.Response.fromNullable((await this._channel.goForward({...e,waitUntil:t,timeout:this._timeoutSettings.navigationTimeout(e)})).response)}async requestGC(){await this._channel.requestGC()}async emulateMedia(e={}){await this._channel.emulateMedia({media:null===e.media?"no-override":e.media,colorScheme:null===e.colorScheme?"no-override":e.colorScheme,reducedMotion:null===e.reducedMotion?"no-override":e.reducedMotion,forcedColors:null===e.forcedColors?"no-override":e.forcedColors,contrast:null===e.contrast?"no-override":e.contrast})}async setViewportSize(e){this._viewportSize=e,await this._channel.setViewportSize({viewportSize:e})}viewportSize(){return this._viewportSize||null}async evaluate(e,t){return(0,_.assertMaxArguments)(arguments.length,2),await this._mainFrame.evaluate(e,t)}async _evaluateFunction(e){return this._mainFrame._evaluateFunction(e)}async addInitScript(e,t){const n=await(0,h.evaluationScript)(this._platform,e,t);await this._channel.addInitScript({source:n})}async route(e,t,n={}){this._routes.unshift(new x.RouteHandler(this._platform,this._browserContext._options.baseURL,e,t,n.times)),await this._updateInterceptionPatterns({title:"Route requests"})}async routeFromHAR(e,t={}){const n=this._connection.localUtils();if(!n)throw new Error("Route from har is not supported in thin clients");if(t.update)return void await this._browserContext._recordIntoHAR(e,this,t);const r=await v.HarRouter.create(n,e,t.notFound||"abort",{urlMatch:t.url});this._harRouters.push(r),await r.addPageRoute(this)}async routeWebSocket(e,t){this._webSocketRoutes.unshift(new x.WebSocketRouteHandler(this._browserContext._options.baseURL,e,t)),await this._updateWebSocketInterceptionPatterns({title:"Route WebSockets"})}_disposeHarRouters(){this._harRouters.forEach(e=>e.dispose()),this._harRouters=[]}async unrouteAll(e){await this._unrouteInternal(this._routes,[],e?.behavior),this._disposeHarRouters()}async unroute(e,t){const n=[],r=[];for(const o of this._routes)!(0,M.urlMatchesEqual)(o.url,e)||t&&o.handler!==t?r.push(o):n.push(o);await this._unrouteInternal(n,r,"default")}async _unrouteInternal(e,t,n){if(this._routes=t,n&&"default"!==n){const t=e.map(e=>e.stop(n));await Promise.all(t)}await this._updateInterceptionPatterns({title:"Unroute requests"})}async _updateInterceptionPatterns(e){const t=x.RouteHandler.prepareInterceptionPatterns(this._routes);await this._wrapApiCall(()=>this._channel.setNetworkInterceptionPatterns({patterns:t}),e)}async _updateWebSocketInterceptionPatterns(e){const t=x.WebSocketRouteHandler.prepareInterceptionPatterns(this._webSocketRoutes);await this._wrapApiCall(()=>this._channel.setWebSocketInterceptionPatterns({patterns:t}),e)}async screenshot(e={}){const t=e.mask,n={...e,mask:void 0,timeout:this._timeoutSettings.timeout(e)};n.type||(n.type=(0,m.determineScreenshotType)(e)),t&&(n.mask=t.map(e=>({frame:e._frame._channel,selector:e._selector})));const r=await this._channel.screenshot(n);return e.path&&(await(0,T.mkdirIfNeeded)(this._platform,e.path),await this._platform.fs().promises.writeFile(e.path,r.binary)),r.binary}async _expectScreenshot(e){const t=e?.mask?e?.mask.map(e=>({frame:e._frame._channel,selector:e._selector})):void 0,n=e.locator?{frame:e.locator._frame._channel,selector:e.locator._selector}:void 0;return await this._channel.expectScreenshot({...e,isNot:!!e.isNot,locator:n,mask:t})}async title(){return await this._mainFrame.title()}async bringToFront(){await this._channel.bringToFront()}async[Symbol.asyncDispose](){await this.close()}async close(e={}){this._closeReason=e.reason,this._closeWasCalled=!0;try{this._ownedContext?await this._ownedContext.close():await this._channel.close(e)}catch(t){if((0,g.isTargetClosedError)(t)&&!e.runBeforeUnload)return;throw t}}isClosed(){return this._closed}async click(e,t){return await this._mainFrame.click(e,t)}async dragAndDrop(e,t,n){return await this._mainFrame.dragAndDrop(e,t,n)}async dblclick(e,t){await this._mainFrame.dblclick(e,t)}async tap(e,t){return await this._mainFrame.tap(e,t)}async fill(e,t,n){return await this._mainFrame.fill(e,t,n)}async consoleMessages(){const{messages:e}=await this._channel.consoleMessages();return e.map(e=>new N.ConsoleMessage(this._platform,e,this))}async pageErrors(){const{errors:e}=await this._channel.pageErrors();return e.map(e=>(0,g.parseError)(e))}locator(e,t){return this.mainFrame().locator(e,t)}getByTestId(e){return this.mainFrame().getByTestId(e)}getByAltText(e,t){return this.mainFrame().getByAltText(e,t)}getByLabel(e,t){return this.mainFrame().getByLabel(e,t)}getByPlaceholder(e,t){return this.mainFrame().getByPlaceholder(e,t)}getByText(e,t){return this.mainFrame().getByText(e,t)}getByTitle(e,t){return this.mainFrame().getByTitle(e,t)}getByRole(e,t={}){return this.mainFrame().getByRole(e,t)}frameLocator(e){return this.mainFrame().frameLocator(e)}async focus(e,t){return await this._mainFrame.focus(e,t)}async textContent(e,t){return await this._mainFrame.textContent(e,t)}async innerText(e,t){return await this._mainFrame.innerText(e,t)}async innerHTML(e,t){return await this._mainFrame.innerHTML(e,t)}async getAttribute(e,t,n){return await this._mainFrame.getAttribute(e,t,n)}async inputValue(e,t){return await this._mainFrame.inputValue(e,t)}async isChecked(e,t){return await this._mainFrame.isChecked(e,t)}async isDisabled(e,t){return await this._mainFrame.isDisabled(e,t)}async isEditable(e,t){return await this._mainFrame.isEditable(e,t)}async isEnabled(e,t){return await this._mainFrame.isEnabled(e,t)}async isHidden(e,t){return await this._mainFrame.isHidden(e,t)}async isVisible(e,t){return await this._mainFrame.isVisible(e,t)}async hover(e,t){return await this._mainFrame.hover(e,t)}async selectOption(e,t,n){return await this._mainFrame.selectOption(e,t,n)}async setInputFiles(e,t,n){return await this._mainFrame.setInputFiles(e,t,n)}async type(e,t,n){return await this._mainFrame.type(e,t,n)}async press(e,t,n){return await this._mainFrame.press(e,t,n)}async check(e,t){return await this._mainFrame.check(e,t)}async uncheck(e,t){return await this._mainFrame.uncheck(e,t)}async setChecked(e,t,n){return await this._mainFrame.setChecked(e,t,n)}async waitForTimeout(e){return await this._mainFrame.waitForTimeout(e)}async waitForFunction(e,t,n){return await this._mainFrame.waitForFunction(e,t,n)}async requests(){const{requests:e}=await this._channel.requests();return e.map(e=>x.Request.from(e))}workers(){return[...this._workers]}async pause(e){if(this._platform.isJSDebuggerAttached())return;const t=this._browserContext._timeoutSettings.defaultNavigationTimeout(),n=this._browserContext._timeoutSettings.defaultTimeout();this._browserContext.setDefaultNavigationTimeout(0),this._browserContext.setDefaultTimeout(0),this._instrumentation?.onWillPause({keepTestTimeout:!!e?.__testHookKeepTestTimeout}),await this._closedOrCrashedScope.safeRace(this.context()._channel.pause()),this._browserContext.setDefaultNavigationTimeout(t),this._browserContext.setDefaultTimeout(n)}async pdf(e={}){const t={...e};t.margin&&(t.margin={...t.margin}),"number"==typeof e.width&&(t.width=e.width+"px"),"number"==typeof e.height&&(t.height=e.height+"px");for(const n of["top","right","bottom","left"]){const r=n;e.margin&&"number"==typeof e.margin[r]&&(t.margin[r]=t.margin[r]+"px")}const n=await this._channel.pdf(t);if(e.path){const t=this._platform;await t.fs().promises.mkdir(t.path().dirname(e.path),{recursive:!0}),await t.fs().promises.writeFile(e.path,n.pdf)}return n.pdf}async _snapshotForAI(e={}){return(await this._channel.snapshotForAI({timeout:this._timeoutSettings.timeout(e)})).snapshot}}class D extends d.ChannelOwner{static from(e){return e._object}constructor(e,t,n,r){super(e,t,n,r)}async call(e){try{const t=y.Frame.from(this._initializer.frame),n={context:t._page.context(),page:t._page,frame:t};let r;r=this._initializer.handle?await e(n,_.JSHandle.from(this._initializer.handle)):await e(n,...this._initializer.args.map(_.parseResult)),this._channel.resolve({result:(0,_.serializeArgument)(r)}).catch(()=>{})}catch(e){this._channel.reject({error:(0,g.serializeError)(e)}).catch(()=>{})}}}function R(e){return(0,j.isRegExp)(e)?`/${(0,B.trimStringWithEllipsis)(e.source,50)}/${e.flags}`:(0,j.isString)(e)?`"${(0,B.trimStringWithEllipsis)(e,50)}"`:void 0}},"./node_modules/playwright-core/lib/client/playwright.js":(e,t,n)=>{"use strict";var r,o=Object.defineProperty,i=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,l={};((e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})})(l,{Playwright:()=>b}),e.exports=(r=l,((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let n of s(t))a.call(e,n)||undefined===n||o(e,n,{get:()=>t[n],enumerable:!(r=i(t,n))||r.enumerable});return e})(o({},"__esModule",{value:!0}),r));var c=n("./node_modules/playwright-core/lib/client/android.js"),u=n("./node_modules/playwright-core/lib/client/browser.js"),d=n("./node_modules/playwright-core/lib/client/browserType.js"),h=n("./node_modules/playwright-core/lib/client/channelOwner.js"),p=n("./node_modules/playwright-core/lib/client/electron.js"),f=n("./node_modules/playwright-core/lib/client/errors.js"),m=n("./node_modules/playwright-core/lib/client/fetch.js"),g=n("./node_modules/playwright-core/lib/client/selectors.js");class b extends h.ChannelOwner{constructor(e,t,n,r){super(e,t,n,r),this.request=new m.APIRequest(this),this.chromium=d.BrowserType.from(r.chromium),this.chromium._playwright=this,this.firefox=d.BrowserType.from(r.firefox),this.firefox._playwright=this,this.webkit=d.BrowserType.from(r.webkit),this.webkit._playwright=this,this._android=c.Android.from(r.android),this._android._playwright=this,this._electron=p.Electron.from(r.electron),this._electron._playwright=this,this._bidiChromium=d.BrowserType.from(r._bidiChromium),this._bidiChromium._playwright=this,this._bidiFirefox=d.BrowserType.from(r._bidiFirefox),this._bidiFirefox._playwright=this,this.devices=this._connection.localUtils()?.devices??{},this.selectors=new g.Selectors(this._connection._platform),this.errors={TimeoutError:f.TimeoutError}}static from(e){return e._object}_browserTypes(){return[this.chromium,this.firefox,this.webkit,this._bidiChromium,this._bidiFirefox]}_preLaunchedBrowser(){const e=u.Browser.from(this._initializer.preLaunchedBrowser);return e._connectToBrowserType(this[e._name],{},void 0),e}_allContexts(){return this._browserTypes().flatMap(e=>[...e._contexts])}_allPages(){return this._allContexts().flatMap(e=>e.pages())}}},"./node_modules/playwright-core/lib/client/selectors.js":(e,t,n)=>{"use strict";var r,o=Object.defineProperty,i=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,l={};((e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})})(l,{Selectors:()=>d}),e.exports=(r=l,((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let n of s(t))a.call(e,n)||undefined===n||o(e,n,{get:()=>t[n],enumerable:!(r=i(t,n))||r.enumerable});return e})(o({},"__esModule",{value:!0}),r));var c=n("./node_modules/playwright-core/lib/client/clientHelper.js"),u=n("./node_modules/playwright-core/lib/client/locator.js");class d{constructor(e){this._selectorEngines=[],this._contextsForSelectors=new Set,this._platform=e}async register(e,t,n={}){if(this._selectorEngines.some(t=>t.name===e))throw new Error(`selectors.register: "${e}" selector engine has been already registered`);const r=await(0,c.evaluationScript)(this._platform,t,void 0,!1),o={...n,name:e,source:r};for(const e of this._contextsForSelectors)await e._channel.registerSelectorEngine({selectorEngine:o});this._selectorEngines.push(o)}setTestIdAttribute(e){this._testIdAttributeName=e,(0,u.setTestIdAttribute)(e);for(const t of this._contextsForSelectors)t._channel.setTestIdAttributeName({testIdAttributeName:e}).catch(()=>{})}_withSelectorOptions(e){return{...e,selectorEngines:this._selectorEngines,testIdAttributeName:this._testIdAttributeName}}}},"./node_modules/playwright-core/lib/client/stream.js":(e,t,n)=>{"use strict";var r,o=Object.defineProperty,i=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,l={};((e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})})(l,{Stream:()=>u}),e.exports=(r=l,((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let n of s(t))a.call(e,n)||undefined===n||o(e,n,{get:()=>t[n],enumerable:!(r=i(t,n))||r.enumerable});return e})(o({},"__esModule",{value:!0}),r));var c=n("./node_modules/playwright-core/lib/client/channelOwner.js");class u extends c.ChannelOwner{static from(e){return e._object}constructor(e,t,n,r){super(e,t,n,r)}stream(){return this._platform.streamReadable(this._channel)}}},"./node_modules/playwright-core/lib/client/timeoutSettings.js":(e,t,n)=>{"use strict";var r,o=Object.defineProperty,i=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,l={};((e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})})(l,{TimeoutSettings:()=>u}),e.exports=(r=l,((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let n of s(t))a.call(e,n)||undefined===n||o(e,n,{get:()=>t[n],enumerable:!(r=i(t,n))||r.enumerable});return e})(o({},"__esModule",{value:!0}),r));var c=n("./node_modules/playwright-core/lib/utils/isomorphic/time.js");class u{constructor(e,t){this._parent=t,this._platform=e}setDefaultTimeout(e){this._defaultTimeout=e}setDefaultNavigationTimeout(e){this._defaultNavigationTimeout=e}defaultNavigationTimeout(){return this._defaultNavigationTimeout}defaultTimeout(){return this._defaultTimeout}navigationTimeout(e){return"number"==typeof e.timeout?e.timeout:void 0!==this._defaultNavigationTimeout?this._defaultNavigationTimeout:this._platform.isDebugMode()?0:void 0!==this._defaultTimeout?this._defaultTimeout:this._parent?this._parent.navigationTimeout(e):c.DEFAULT_PLAYWRIGHT_TIMEOUT}timeout(e){return"number"==typeof e.timeout?e.timeout:this._platform.isDebugMode()?0:void 0!==this._defaultTimeout?this._defaultTimeout:this._parent?this._parent.timeout(e):c.DEFAULT_PLAYWRIGHT_TIMEOUT}launchTimeout(e){return"number"==typeof e.timeout?e.timeout:this._platform.isDebugMode()?0:this._parent?this._parent.launchTimeout(e):c.DEFAULT_PLAYWRIGHT_LAUNCH_TIMEOUT}}},"./node_modules/playwright-core/lib/client/tracing.js":(e,t,n)=>{"use strict";var r,o=Object.defineProperty,i=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,l={};((e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})})(l,{Tracing:()=>d}),e.exports=(r=l,((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let n of s(t))a.call(e,n)||undefined===n||o(e,n,{get:()=>t[n],enumerable:!(r=i(t,n))||r.enumerable});return e})(o({},"__esModule",{value:!0}),r));var c=n("./node_modules/playwright-core/lib/client/artifact.js"),u=n("./node_modules/playwright-core/lib/client/channelOwner.js");class d extends u.ChannelOwner{constructor(e,t,n,r){super(e,t,n,r),this._includeSources=!1,this._isTracing=!1}static from(e){return e._object}async start(e={}){await this._wrapApiCall(async()=>{this._includeSources=!!e.sources,await this._channel.tracingStart({name:e.name,snapshots:e.snapshots,screenshots:e.screenshots,live:e._live});const{traceName:t}=await this._channel.tracingStartChunk({name:e.name,title:e.title});await this._startCollectingStacks(t)})}async startChunk(e={}){await this._wrapApiCall(async()=>{const{traceName:t}=await this._channel.tracingStartChunk(e);await this._startCollectingStacks(t)})}async group(e,t={}){await this._channel.tracingGroup({name:e,location:t.location})}async groupEnd(){await this._channel.tracingGroupEnd()}async _startCollectingStacks(e){this._isTracing||(this._isTracing=!0,this._connection.setIsTracing(!0));const t=await(this._connection.localUtils()?.tracingStarted({tracesDir:this._tracesDir,traceName:e}));this._stacksId=t?.stacksId}async stopChunk(e={}){await this._wrapApiCall(async()=>{await this._doStopChunk(e.path)})}async stop(e={}){await this._wrapApiCall(async()=>{await this._doStopChunk(e.path),await this._channel.tracingStop()})}async _doStopChunk(e){if(this._resetStackCounter(),!e)return await this._channel.tracingStopChunk({mode:"discard"}),void(this._stacksId&&await this._connection.localUtils().traceDiscarded({stacksId:this._stacksId}));const t=this._connection.localUtils();if(!t)throw new Error("Cannot save trace in thin clients");if(!this._connection.isRemote()){const n=await this._channel.tracingStopChunk({mode:"entries"});return void await t.zip({zipFile:e,entries:n.entries,mode:"write",stacksId:this._stacksId,includeSources:this._includeSources})}const n=await this._channel.tracingStopChunk({mode:"archive"});if(!n.artifact)return void(this._stacksId&&await t.traceDiscarded({stacksId:this._stacksId}));const r=c.Artifact.from(n.artifact);await r.saveAs(e),await r.delete(),await t.zip({zipFile:e,entries:[],mode:"append",stacksId:this._stacksId,includeSources:this._includeSources})}_resetStackCounter(){this._isTracing&&(this._isTracing=!1,this._connection.setIsTracing(!1))}}},"./node_modules/playwright-core/lib/client/types.js":e=>{"use strict";var t,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,i=Object.prototype.hasOwnProperty,s={};((e,t)=>{for(var r in t)n(e,r,{get:t[r],enumerable:!0})})(s,{kLifecycleEvents:()=>a}),e.exports=(t=s,((e,t,s,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let s of o(t))i.call(e,s)||undefined===s||n(e,s,{get:()=>t[s],enumerable:!(a=r(t,s))||a.enumerable});return e})(n({},"__esModule",{value:!0}),t));const a=new Set(["load","domcontentloaded","networkidle","commit"])},"./node_modules/playwright-core/lib/client/video.js":(e,t,n)=>{"use strict";var r,o=Object.defineProperty,i=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,l={};((e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})})(l,{Video:()=>u}),e.exports=(r=l,((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let n of s(t))a.call(e,n)||undefined===n||o(e,n,{get:()=>t[n],enumerable:!(r=i(t,n))||r.enumerable});return e})(o({},"__esModule",{value:!0}),r));var c=n("./node_modules/playwright-core/lib/utils/isomorphic/manualPromise.js");class u{constructor(e,t){this._artifact=null,this._artifactReadyPromise=new c.ManualPromise,this._isRemote=!1,this._isRemote=t.isRemote(),this._artifact=e._closedOrCrashedScope.safeRace(this._artifactReadyPromise)}_artifactReady(e){this._artifactReadyPromise.resolve(e)}async path(){if(this._isRemote)throw new Error("Path is not available when connecting remotely. Use saveAs() to save a local copy.");const e=await this._artifact;if(!e)throw new Error("Page did not produce any video frames");return e._initializer.absolutePath}async saveAs(e){const t=await this._artifact;if(!t)throw new Error("Page did not produce any video frames");return await t.saveAs(e)}async delete(){const e=await this._artifact;e&&await e.delete()}}},"./node_modules/playwright-core/lib/client/waiter.js":(e,t,n)=>{"use strict";var r,o=Object.defineProperty,i=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,l={};((e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})})(l,{Waiter:()=>d}),e.exports=(r=l,((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let n of s(t))a.call(e,n)||undefined===n||o(e,n,{get:()=>t[n],enumerable:!(r=i(t,n))||r.enumerable});return e})(o({},"__esModule",{value:!0}),r));var c=n("./node_modules/playwright-core/lib/client/errors.js"),u=n("./node_modules/playwright-core/lib/utils/isomorphic/stackTrace.js");class d{constructor(e,t){this._failures=[],this._logs=[],this._waitId=e._platform.createGuid(),this._channelOwner=e,this._savedZone=e._platform.zones.current().pop(),this._channelOwner._channel.waitForEventInfo({info:{waitId:this._waitId,phase:"before",event:t}}).catch(()=>{}),this._dispose=[()=>this._channelOwner._wrapApiCall(async()=>{await this._channelOwner._channel.waitForEventInfo({info:{waitId:this._waitId,phase:"after",error:this._error}})},{internal:!0}).catch(()=>{})]}static createForEvent(e,t){return new d(e,t)}async waitForEvent(e,t,n){const{promise:r,dispose:o}=h(e,t,this._savedZone,n);return await this.waitForPromise(r,o)}rejectOnEvent(e,t,n,r){const{promise:o,dispose:i}=h(e,t,this._savedZone,r);this._rejectOn(o.then(()=>{throw"function"==typeof n?n():n}),i)}rejectOnTimeout(e,t){if(!e)return;const{promise:n,dispose:r}=function(e){let t;return{promise:new Promise(n=>t=setTimeout(n,e)),dispose:()=>clearTimeout(t)}}(e);this._rejectOn(n.then(()=>{throw new c.TimeoutError(t)}),r)}rejectImmediately(e){this._immediateError=e}dispose(){for(const e of this._dispose)e()}async waitForPromise(e,t){try{if(this._immediateError)throw this._immediateError;const n=await Promise.race([e,...this._failures]);return t&&t(),n}catch(e){throw t&&t(),this._error=e.message,this.dispose(),(0,u.rewriteErrorMessage)(e,e.message+function(e){if(!e.length)return"";const t=" logs ";return`\n${"=".repeat(27)}${t}${"=".repeat(27)}\n${e.join("\n")}\n${"=".repeat(60)}`}(this._logs)),e}}log(e){this._logs.push(e),this._channelOwner._wrapApiCall(async()=>{await this._channelOwner._channel.waitForEventInfo({info:{waitId:this._waitId,phase:"log",message:e}})},{internal:!0}).catch(()=>{})}_rejectOn(e,t){this._failures.push(e),t&&this._dispose.push(t)}}function h(e,t,n,r){let o;return{promise:new Promise((i,s)=>{o=async a=>{await n.run(async()=>{try{if(r&&!await r(a))return;e.removeListener(t,o),i(a)}catch(n){e.removeListener(t,o),s(n)}})},e.addListener(t,o)}),dispose:()=>e.removeListener(t,o)}}},"./node_modules/playwright-core/lib/client/webError.js":e=>{"use strict";var t,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,i=Object.prototype.hasOwnProperty,s={};((e,t)=>{for(var r in t)n(e,r,{get:t[r],enumerable:!0})})(s,{WebError:()=>a}),e.exports=(t=s,((e,t,s,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let s of o(t))i.call(e,s)||undefined===s||n(e,s,{get:()=>t[s],enumerable:!(a=r(t,s))||a.enumerable});return e})(n({},"__esModule",{value:!0}),t));class a{constructor(e,t){this._page=e,this._error=t}page(){return this._page}error(){return this._error}}},"./node_modules/playwright-core/lib/client/webSocket.js":(e,t,n)=>{"use strict";var r,o=Object.defineProperty,i=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,l={};((e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})})(l,{connectOverWebSocket:()=>u}),e.exports=(r=l,((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let n of s(t))a.call(e,n)||undefined===n||o(e,n,{get:()=>t[n],enumerable:!(r=i(t,n))||r.enumerable});return e})(o({},"__esModule",{value:!0}),r));var c=n("./node_modules/playwright-core/lib/client/connection.js");async function u(e,t){const n=e.localUtils(),r=n?new d(n):new h,o=await r.connect(t),i=new c.Connection(e._platform,n,e._instrumentation,o);let s;i.markAsRemote(),i.on("close",()=>r.close());const a=e=>{i.close(e||s)};return r.onClose(e=>a(e)),i.onmessage=e=>r.send(e).catch(()=>a()),r.onMessage(e=>{try{i.dispatch(e)}catch(e){s=String(e),r.close().catch(()=>{})}}),i}class d{constructor(e){this._owner=e}async connect(e){const{pipe:t,headers:n}=await this._owner._channel.connect(e);return this._pipe=t,n}async send(e){await this._pipe.send({message:e})}onMessage(e){this._pipe.on("message",({message:t})=>e(t))}onClose(e){this._pipe.on("closed",({reason:t})=>e(t))}async close(){await this._pipe.close().catch(()=>{})}}class h{async connect(e){return this._ws=new window.WebSocket(e.wsEndpoint),[]}async send(e){this._ws.send(JSON.stringify(e))}onMessage(e){this._ws.addEventListener("message",t=>e(JSON.parse(t.data)))}onClose(e){this._ws.addEventListener("close",()=>e())}async close(){this._ws.close()}}},"./node_modules/playwright-core/lib/client/worker.js":(e,t,n)=>{"use strict";var r,o=Object.defineProperty,i=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,l={};((e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})})(l,{Worker:()=>m}),e.exports=(r=l,((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let n of s(t))a.call(e,n)||undefined===n||o(e,n,{get:()=>t[n],enumerable:!(r=i(t,n))||r.enumerable});return e})(o({},"__esModule",{value:!0}),r));var c=n("./node_modules/playwright-core/lib/client/channelOwner.js"),u=n("./node_modules/playwright-core/lib/client/consoleMessage.js"),d=n("./node_modules/playwright-core/lib/client/errors.js"),h=n("./node_modules/playwright-core/lib/client/events.js"),p=n("./node_modules/playwright-core/lib/client/jsHandle.js"),f=n("./node_modules/playwright-core/lib/utils/isomorphic/manualPromise.js");class m extends c.ChannelOwner{constructor(e,t,n,r){super(e,t,n,r),this._closedScope=new f.LongStandingScope,this._channel.on("close",()=>{this._page&&this._page._workers.delete(this),this._context&&this._context._serviceWorkers.delete(this),this.emit(h.Events.Worker.Close,this)}),this._channel.on("console",e=>{this.emit(h.Events.Worker.Console,new u.ConsoleMessage(this._page?.context()._platform??this._context?._platform,e,null))}),this.once(h.Events.Worker.Close,()=>this._closedScope.close(this._page?._closeErrorWithReason()||new d.TargetClosedError)),this._setEventToSubscriptionMapping(new Map([[h.Events.Worker.Console,"console"]]))}static from(e){return e._object}url(){return this._initializer.url}async evaluate(e,t){(0,p.assertMaxArguments)(arguments.length,2);const n=await this._channel.evaluateExpression({expression:String(e),isFunction:"function"==typeof e,arg:(0,p.serializeArgument)(t)});return(0,p.parseResult)(n.value)}async evaluateHandle(e,t){(0,p.assertMaxArguments)(arguments.length,2);const n=await this._channel.evaluateExpressionHandle({expression:String(e),isFunction:"function"==typeof e,arg:(0,p.serializeArgument)(t)});return p.JSHandle.from(n.handle)}}},"./node_modules/playwright-core/lib/client/writableStream.js":(e,t,n)=>{"use strict";var r,o=Object.defineProperty,i=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,l={};((e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})})(l,{WritableStream:()=>u}),e.exports=(r=l,((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let n of s(t))a.call(e,n)||undefined===n||o(e,n,{get:()=>t[n],enumerable:!(r=i(t,n))||r.enumerable});return e})(o({},"__esModule",{value:!0}),r));var c=n("./node_modules/playwright-core/lib/client/channelOwner.js");class u extends c.ChannelOwner{static from(e){return e._object}constructor(e,t,n,r){super(e,t,n,r)}stream(){return this._platform.streamWritable(this._channel)}}},"./node_modules/playwright-core/lib/generated/bindingsControllerSource.js":e=>{"use strict";var t,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,i=Object.prototype.hasOwnProperty,s={};((e,t)=>{for(var r in t)n(e,r,{get:t[r],enumerable:!0})})(s,{source:()=>a}),e.exports=(t=s,((e,t,s,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let s of o(t))i.call(e,s)||undefined===s||n(e,s,{get:()=>t[s],enumerable:!(a=r(t,s))||a.enumerable});return e})(n({},"__esModule",{value:!0}),t));const a='\nvar __commonJS = obj => {\n  let required = false;\n  let result;\n  return function __require() {\n    if (!required) {\n      required = true;\n      let fn;\n      for (const name in obj) { fn = obj[name]; break; }\n      const module = { exports: {} };\n      fn(module.exports, module);\n      result = module.exports;\n    }\n    return result;\n  }\n};\nvar __export = (target, all) => {for (var name in all) target[name] = all[name];};\nvar __toESM = mod => ({ ...mod, \'default\': mod });\nvar __toCommonJS = mod => ({ ...mod, __esModule: true });\n\n\n// packages/injected/src/bindingsController.ts\nvar bindingsController_exports = {};\n__export(bindingsController_exports, {\n  BindingsController: () => BindingsController\n});\nmodule.exports = __toCommonJS(bindingsController_exports);\n\n// packages/playwright-core/src/utils/isomorphic/utilityScriptSerializers.ts\nfunction isRegExp(obj) {\n  try {\n    return obj instanceof RegExp || Object.prototype.toString.call(obj) === "[object RegExp]";\n  } catch (error) {\n    return false;\n  }\n}\nfunction isDate(obj) {\n  try {\n    return obj instanceof Date || Object.prototype.toString.call(obj) === "[object Date]";\n  } catch (error) {\n    return false;\n  }\n}\nfunction isURL(obj) {\n  try {\n    return obj instanceof URL || Object.prototype.toString.call(obj) === "[object URL]";\n  } catch (error) {\n    return false;\n  }\n}\nfunction isError(obj) {\n  var _a;\n  try {\n    return obj instanceof Error || obj && ((_a = Object.getPrototypeOf(obj)) == null ? void 0 : _a.name) === "Error";\n  } catch (error) {\n    return false;\n  }\n}\nfunction isTypedArray(obj, constructor) {\n  try {\n    return obj instanceof constructor || Object.prototype.toString.call(obj) === `[object ${constructor.name}]`;\n  } catch (error) {\n    return false;\n  }\n}\nvar typedArrayConstructors = {\n  i8: Int8Array,\n  ui8: Uint8Array,\n  ui8c: Uint8ClampedArray,\n  i16: Int16Array,\n  ui16: Uint16Array,\n  i32: Int32Array,\n  ui32: Uint32Array,\n  // TODO: add Float16Array once it\'s in baseline\n  f32: Float32Array,\n  f64: Float64Array,\n  bi64: BigInt64Array,\n  bui64: BigUint64Array\n};\nfunction typedArrayToBase64(array) {\n  if ("toBase64" in array)\n    return array.toBase64();\n  const binary = Array.from(new Uint8Array(array.buffer, array.byteOffset, array.byteLength)).map((b) => String.fromCharCode(b)).join("");\n  return btoa(binary);\n}\nfunction serializeAsCallArgument(value, handleSerializer) {\n  return serialize(value, handleSerializer, { visited: /* @__PURE__ */ new Map(), lastId: 0 });\n}\nfunction serialize(value, handleSerializer, visitorInfo) {\n  if (value && typeof value === "object") {\n    if (typeof globalThis.Window === "function" && value instanceof globalThis.Window)\n      return "ref: <Window>";\n    if (typeof globalThis.Document === "function" && value instanceof globalThis.Document)\n      return "ref: <Document>";\n    if (typeof globalThis.Node === "function" && value instanceof globalThis.Node)\n      return "ref: <Node>";\n  }\n  return innerSerialize(value, handleSerializer, visitorInfo);\n}\nfunction innerSerialize(value, handleSerializer, visitorInfo) {\n  var _a;\n  const result = handleSerializer(value);\n  if ("fallThrough" in result)\n    value = result.fallThrough;\n  else\n    return result;\n  if (typeof value === "symbol")\n    return { v: "undefined" };\n  if (Object.is(value, void 0))\n    return { v: "undefined" };\n  if (Object.is(value, null))\n    return { v: "null" };\n  if (Object.is(value, NaN))\n    return { v: "NaN" };\n  if (Object.is(value, Infinity))\n    return { v: "Infinity" };\n  if (Object.is(value, -Infinity))\n    return { v: "-Infinity" };\n  if (Object.is(value, -0))\n    return { v: "-0" };\n  if (typeof value === "boolean")\n    return value;\n  if (typeof value === "number")\n    return value;\n  if (typeof value === "string")\n    return value;\n  if (typeof value === "bigint")\n    return { bi: value.toString() };\n  if (isError(value)) {\n    let stack;\n    if ((_a = value.stack) == null ? void 0 : _a.startsWith(value.name + ": " + value.message)) {\n      stack = value.stack;\n    } else {\n      stack = `${value.name}: ${value.message}\n${value.stack}`;\n    }\n    return { e: { n: value.name, m: value.message, s: stack } };\n  }\n  if (isDate(value))\n    return { d: value.toJSON() };\n  if (isURL(value))\n    return { u: value.toJSON() };\n  if (isRegExp(value))\n    return { r: { p: value.source, f: value.flags } };\n  for (const [k, ctor] of Object.entries(typedArrayConstructors)) {\n    if (isTypedArray(value, ctor))\n      return { ta: { b: typedArrayToBase64(value), k } };\n  }\n  const id = visitorInfo.visited.get(value);\n  if (id)\n    return { ref: id };\n  if (Array.isArray(value)) {\n    const a = [];\n    const id2 = ++visitorInfo.lastId;\n    visitorInfo.visited.set(value, id2);\n    for (let i = 0; i < value.length; ++i)\n      a.push(serialize(value[i], handleSerializer, visitorInfo));\n    return { a, id: id2 };\n  }\n  if (typeof value === "object") {\n    const o = [];\n    const id2 = ++visitorInfo.lastId;\n    visitorInfo.visited.set(value, id2);\n    for (const name of Object.keys(value)) {\n      let item;\n      try {\n        item = value[name];\n      } catch (e) {\n        continue;\n      }\n      if (name === "toJSON" && typeof item === "function")\n        o.push({ k: name, v: { o: [], id: 0 } });\n      else\n        o.push({ k: name, v: serialize(item, handleSerializer, visitorInfo) });\n    }\n    let jsonWrapper;\n    try {\n      if (o.length === 0 && value.toJSON && typeof value.toJSON === "function")\n        jsonWrapper = { value: value.toJSON() };\n    } catch (e) {\n    }\n    if (jsonWrapper)\n      return innerSerialize(jsonWrapper.value, handleSerializer, visitorInfo);\n    return { o, id: id2 };\n  }\n}\n\n// packages/injected/src/bindingsController.ts\nvar BindingsController = class {\n  constructor(global, globalBindingName) {\n    this._bindings = /* @__PURE__ */ new Map();\n    this._global = global;\n    this._globalBindingName = globalBindingName;\n  }\n  addBinding(bindingName, needsHandle) {\n    const data = {\n      callbacks: /* @__PURE__ */ new Map(),\n      lastSeq: 0,\n      handles: /* @__PURE__ */ new Map(),\n      removed: false\n    };\n    this._bindings.set(bindingName, data);\n    this._global[bindingName] = (...args) => {\n      if (data.removed)\n        throw new Error(`binding "${bindingName}" has been removed`);\n      if (needsHandle && args.slice(1).some((arg) => arg !== void 0))\n        throw new Error(`exposeBindingHandle supports a single argument, ${args.length} received`);\n      const seq = ++data.lastSeq;\n      const promise = new Promise((resolve, reject) => data.callbacks.set(seq, { resolve, reject }));\n      let payload;\n      if (needsHandle) {\n        data.handles.set(seq, args[0]);\n        payload = { name: bindingName, seq };\n      } else {\n        const serializedArgs = [];\n        for (let i = 0; i < args.length; i++) {\n          serializedArgs[i] = serializeAsCallArgument(args[i], (v) => {\n            return { fallThrough: v };\n          });\n        }\n        payload = { name: bindingName, seq, serializedArgs };\n      }\n      this._global[this._globalBindingName](JSON.stringify(payload));\n      return promise;\n    };\n  }\n  removeBinding(bindingName) {\n    const data = this._bindings.get(bindingName);\n    if (data)\n      data.removed = true;\n    this._bindings.delete(bindingName);\n    delete this._global[bindingName];\n  }\n  takeBindingHandle(arg) {\n    const handles = this._bindings.get(arg.name).handles;\n    const handle = handles.get(arg.seq);\n    handles.delete(arg.seq);\n    return handle;\n  }\n  deliverBindingResult(arg) {\n    const callbacks = this._bindings.get(arg.name).callbacks;\n    if ("error" in arg)\n      callbacks.get(arg.seq).reject(arg.error);\n    else\n      callbacks.get(arg.seq).resolve(arg.result);\n    callbacks.delete(arg.seq);\n  }\n};\n'},"./node_modules/playwright-core/lib/generated/clockSource.js":e=>{"use strict";var t,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,i=Object.prototype.hasOwnProperty,s={};((e,t)=>{for(var r in t)n(e,r,{get:t[r],enumerable:!0})})(s,{source:()=>a}),e.exports=(t=s,((e,t,s,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let s of o(t))i.call(e,s)||undefined===s||n(e,s,{get:()=>t[s],enumerable:!(a=r(t,s))||a.enumerable});return e})(n({},"__esModule",{value:!0}),t));const a='\nvar __commonJS = obj => {\n  let required = false;\n  let result;\n  return function __require() {\n    if (!required) {\n      required = true;\n      let fn;\n      for (const name in obj) { fn = obj[name]; break; }\n      const module = { exports: {} };\n      fn(module.exports, module);\n      result = module.exports;\n    }\n    return result;\n  }\n};\nvar __export = (target, all) => {for (var name in all) target[name] = all[name];};\nvar __toESM = mod => ({ ...mod, \'default\': mod });\nvar __toCommonJS = mod => ({ ...mod, __esModule: true });\n\n\n// packages/injected/src/clock.ts\nvar clock_exports = {};\n__export(clock_exports, {\n  ClockController: () => ClockController,\n  createClock: () => createClock,\n  inject: () => inject,\n  install: () => install\n});\nmodule.exports = __toCommonJS(clock_exports);\nvar ClockController = class {\n  constructor(embedder) {\n    this._duringTick = false;\n    this._uniqueTimerId = idCounterStart;\n    this.disposables = [];\n    this._log = [];\n    this._timers = /* @__PURE__ */ new Map();\n    this._now = { time: asWallTime(0), isFixedTime: false, ticks: 0, origin: asWallTime(-1) };\n    this._embedder = embedder;\n  }\n  uninstall() {\n    this.disposables.forEach((dispose) => dispose());\n    this.disposables.length = 0;\n  }\n  now() {\n    this._replayLogOnce();\n    this._syncRealTime();\n    return this._now.time;\n  }\n  install(time) {\n    this._replayLogOnce();\n    this._innerSetTime(asWallTime(time));\n  }\n  setSystemTime(time) {\n    this._replayLogOnce();\n    this._innerSetTime(asWallTime(time));\n  }\n  setFixedTime(time) {\n    this._replayLogOnce();\n    this._innerSetFixedTime(asWallTime(time));\n  }\n  performanceNow() {\n    this._replayLogOnce();\n    this._syncRealTime();\n    return this._now.ticks;\n  }\n  _syncRealTime() {\n    if (!this._realTime)\n      return;\n    const now = this._embedder.performanceNow();\n    const sinceLastSync = now - this._realTime.lastSyncTicks;\n    if (sinceLastSync > 0) {\n      this._advanceNow(shiftTicks(this._now.ticks, sinceLastSync));\n      this._realTime.lastSyncTicks = now;\n    }\n  }\n  _innerSetTime(time) {\n    this._now.time = time;\n    this._now.isFixedTime = false;\n    if (this._now.origin < 0)\n      this._now.origin = this._now.time;\n  }\n  _innerSetFixedTime(time) {\n    this._innerSetTime(time);\n    this._now.isFixedTime = true;\n  }\n  _advanceNow(to) {\n    if (!this._now.isFixedTime)\n      this._now.time = asWallTime(this._now.time + to - this._now.ticks);\n    this._now.ticks = to;\n  }\n  async log(type, time, param) {\n    this._log.push({ type, time, param });\n  }\n  async runFor(ticks) {\n    this._replayLogOnce();\n    if (ticks < 0)\n      throw new TypeError("Negative ticks are not supported");\n    await this._runTo(shiftTicks(this._now.ticks, ticks));\n  }\n  async _runTo(to) {\n    to = Math.ceil(to);\n    if (this._now.ticks > to)\n      return;\n    let firstException;\n    while (true) {\n      const result = await this._callFirstTimer(to);\n      if (!result.timerFound)\n        break;\n      firstException = firstException || result.error;\n    }\n    this._advanceNow(to);\n    if (firstException)\n      throw firstException;\n  }\n  async pauseAt(time) {\n    this._replayLogOnce();\n    this._innerPause();\n    const toConsume = time - this._now.time;\n    await this._innerFastForwardTo(shiftTicks(this._now.ticks, toConsume));\n    return toConsume;\n  }\n  _innerPause() {\n    this._realTime = void 0;\n    this._updateRealTimeTimer();\n  }\n  resume() {\n    this._replayLogOnce();\n    this._innerResume();\n  }\n  _innerResume() {\n    const now = this._embedder.performanceNow();\n    this._realTime = { startTicks: now, lastSyncTicks: now };\n    this._updateRealTimeTimer();\n  }\n  _updateRealTimeTimer() {\n    var _a;\n    if (!this._realTime) {\n      (_a = this._currentRealTimeTimer) == null ? void 0 : _a.dispose();\n      this._currentRealTimeTimer = void 0;\n      return;\n    }\n    const firstTimer = this._firstTimer();\n    const callAt = Math.min(firstTimer ? firstTimer.callAt : this._now.ticks + maxTimeout, this._now.ticks + 100);\n    if (this._currentRealTimeTimer && this._currentRealTimeTimer.callAt < callAt)\n      return;\n    if (this._currentRealTimeTimer) {\n      this._currentRealTimeTimer.dispose();\n      this._currentRealTimeTimer = void 0;\n    }\n    this._currentRealTimeTimer = {\n      callAt,\n      dispose: this._embedder.setTimeout(() => {\n        this._currentRealTimeTimer = void 0;\n        this._syncRealTime();\n        void this._runTo(this._now.ticks).catch((e) => console.error(e)).then(() => this._updateRealTimeTimer());\n      }, callAt - this._now.ticks)\n    };\n  }\n  async fastForward(ticks) {\n    this._replayLogOnce();\n    await this._innerFastForwardTo(shiftTicks(this._now.ticks, ticks | 0));\n  }\n  async _innerFastForwardTo(to) {\n    if (to < this._now.ticks)\n      throw new Error("Cannot fast-forward to the past");\n    for (const timer of this._timers.values()) {\n      if (to > timer.callAt)\n        timer.callAt = to;\n    }\n    await this._runTo(to);\n  }\n  addTimer(options) {\n    this._replayLogOnce();\n    if (options.type === "AnimationFrame" /* AnimationFrame */ && !options.func)\n      throw new Error("Callback must be provided to requestAnimationFrame calls");\n    if (options.type === "IdleCallback" /* IdleCallback */ && !options.func)\n      throw new Error("Callback must be provided to requestIdleCallback calls");\n    if (["Timeout" /* Timeout */, "Interval" /* Interval */].includes(options.type) && !options.func && options.delay === void 0)\n      throw new Error("Callback must be provided to timer calls");\n    let delay = options.delay ? +options.delay : 0;\n    if (!Number.isFinite(delay))\n      delay = 0;\n    delay = delay > maxTimeout ? 1 : delay;\n    delay = Math.max(0, delay);\n    const timer = {\n      type: options.type,\n      func: options.func,\n      args: options.args || [],\n      delay,\n      callAt: shiftTicks(this._now.ticks, delay || (this._duringTick ? 1 : 0)),\n      createdAt: this._now.ticks,\n      id: this._uniqueTimerId++,\n      error: new Error()\n    };\n    this._timers.set(timer.id, timer);\n    if (this._realTime)\n      this._updateRealTimeTimer();\n    return timer.id;\n  }\n  countTimers() {\n    return this._timers.size;\n  }\n  _firstTimer(beforeTick) {\n    let firstTimer = null;\n    for (const timer of this._timers.values()) {\n      const isInRange = beforeTick === void 0 || timer.callAt <= beforeTick;\n      if (isInRange && (!firstTimer || compareTimers(firstTimer, timer) === 1))\n        firstTimer = timer;\n    }\n    return firstTimer;\n  }\n  _takeFirstTimer(beforeTick) {\n    const timer = this._firstTimer(beforeTick);\n    if (!timer)\n      return null;\n    this._advanceNow(timer.callAt);\n    if (timer.type === "Interval" /* Interval */)\n      timer.callAt = shiftTicks(timer.callAt, timer.delay);\n    else\n      this._timers.delete(timer.id);\n    return timer;\n  }\n  async _callFirstTimer(beforeTick) {\n    const timer = this._takeFirstTimer(beforeTick);\n    if (!timer)\n      return { timerFound: false };\n    this._duringTick = true;\n    try {\n      if (typeof timer.func !== "function") {\n        let error2;\n        try {\n          (() => {\n            globalThis.eval(timer.func);\n          })();\n        } catch (e) {\n          error2 = e;\n        }\n        await new Promise((f) => this._embedder.setTimeout(f));\n        return { timerFound: true, error: error2 };\n      }\n      let args = timer.args;\n      if (timer.type === "AnimationFrame" /* AnimationFrame */)\n        args = [this._now.ticks];\n      else if (timer.type === "IdleCallback" /* IdleCallback */)\n        args = [{ didTimeout: false, timeRemaining: () => 0 }];\n      let error;\n      try {\n        timer.func.apply(null, args);\n      } catch (e) {\n        error = e;\n      }\n      await new Promise((f) => this._embedder.setTimeout(f));\n      return { timerFound: true, error };\n    } finally {\n      this._duringTick = false;\n    }\n  }\n  getTimeToNextFrame() {\n    return 16 - this._now.ticks % 16;\n  }\n  clearTimer(timerId, type) {\n    this._replayLogOnce();\n    if (!timerId) {\n      return;\n    }\n    const id = Number(timerId);\n    if (Number.isNaN(id) || id < idCounterStart) {\n      const handlerName = getClearHandler(type);\n      new Error(`Clock: ${handlerName} was invoked to clear a native timer instead of one created by the clock library.`);\n    }\n    const timer = this._timers.get(id);\n    if (timer) {\n      if (timer.type === type || timer.type === "Timeout" && type === "Interval" || timer.type === "Interval" && type === "Timeout") {\n        this._timers.delete(id);\n      } else {\n        const clear = getClearHandler(type);\n        const schedule = getScheduleHandler(timer.type);\n        throw new Error(\n          `Cannot clear timer: timer created with ${schedule}() but cleared with ${clear}()`\n        );\n      }\n    }\n  }\n  _replayLogOnce() {\n    if (!this._log.length)\n      return;\n    let lastLogTime = -1;\n    let isPaused = false;\n    for (const { type, time, param } of this._log) {\n      if (!isPaused && lastLogTime !== -1)\n        this._advanceNow(shiftTicks(this._now.ticks, time - lastLogTime));\n      lastLogTime = time;\n      if (type === "install") {\n        this._innerSetTime(asWallTime(param));\n      } else if (type === "fastForward" || type === "runFor") {\n        this._advanceNow(shiftTicks(this._now.ticks, param));\n      } else if (type === "pauseAt") {\n        isPaused = true;\n        this._innerPause();\n        this._innerSetTime(asWallTime(param));\n      } else if (type === "resume") {\n        this._innerResume();\n        isPaused = false;\n      } else if (type === "setFixedTime") {\n        this._innerSetFixedTime(asWallTime(param));\n      } else if (type === "setSystemTime") {\n        this._innerSetTime(asWallTime(param));\n      }\n    }\n    if (!isPaused && lastLogTime > 0)\n      this._advanceNow(shiftTicks(this._now.ticks, this._embedder.dateNow() - lastLogTime));\n    this._log.length = 0;\n  }\n};\nfunction mirrorDateProperties(target, source) {\n  for (const prop in source) {\n    if (source.hasOwnProperty(prop))\n      target[prop] = source[prop];\n  }\n  target.toString = () => source.toString();\n  target.prototype = source.prototype;\n  target.parse = source.parse;\n  target.UTC = source.UTC;\n  target.prototype.toUTCString = source.prototype.toUTCString;\n  target.isFake = true;\n  return target;\n}\nfunction createDate(clock, NativeDate) {\n  function ClockDate(year, month, date, hour, minute, second, ms) {\n    if (!(this instanceof ClockDate))\n      return new NativeDate(clock.now()).toString();\n    switch (arguments.length) {\n      case 0:\n        return new NativeDate(clock.now());\n      case 1:\n        return new NativeDate(year);\n      case 2:\n        return new NativeDate(year, month);\n      case 3:\n        return new NativeDate(year, month, date);\n      case 4:\n        return new NativeDate(year, month, date, hour);\n      case 5:\n        return new NativeDate(year, month, date, hour, minute);\n      case 6:\n        return new NativeDate(\n          year,\n          month,\n          date,\n          hour,\n          minute,\n          second\n        );\n      default:\n        return new NativeDate(\n          year,\n          month,\n          date,\n          hour,\n          minute,\n          second,\n          ms\n        );\n    }\n  }\n  ClockDate.now = () => clock.now();\n  return mirrorDateProperties(ClockDate, NativeDate);\n}\nfunction createIntl(clock, NativeIntl) {\n  const ClockIntl = {};\n  for (const key of Object.getOwnPropertyNames(NativeIntl))\n    ClockIntl[key] = NativeIntl[key];\n  ClockIntl.DateTimeFormat = function(...args) {\n    const realFormatter = new NativeIntl.DateTimeFormat(...args);\n    const formatter = {\n      formatRange: realFormatter.formatRange.bind(realFormatter),\n      formatRangeToParts: realFormatter.formatRangeToParts.bind(realFormatter),\n      resolvedOptions: realFormatter.resolvedOptions.bind(realFormatter),\n      format: (date) => realFormatter.format(date || clock.now()),\n      formatToParts: (date) => realFormatter.formatToParts(date || clock.now())\n    };\n    return formatter;\n  };\n  ClockIntl.DateTimeFormat.prototype = Object.create(\n    NativeIntl.DateTimeFormat.prototype\n  );\n  ClockIntl.DateTimeFormat.supportedLocalesOf = NativeIntl.DateTimeFormat.supportedLocalesOf;\n  return ClockIntl;\n}\nfunction compareTimers(a, b) {\n  if (a.callAt < b.callAt)\n    return -1;\n  if (a.callAt > b.callAt)\n    return 1;\n  if (a.type === "Immediate" /* Immediate */ && b.type !== "Immediate" /* Immediate */)\n    return -1;\n  if (a.type !== "Immediate" /* Immediate */ && b.type === "Immediate" /* Immediate */)\n    return 1;\n  if (a.createdAt < b.createdAt)\n    return -1;\n  if (a.createdAt > b.createdAt)\n    return 1;\n  if (a.id < b.id)\n    return -1;\n  if (a.id > b.id)\n    return 1;\n}\nvar maxTimeout = Math.pow(2, 31) - 1;\nvar idCounterStart = 1e12;\nfunction platformOriginals(globalObject) {\n  const raw = {\n    setTimeout: globalObject.setTimeout,\n    clearTimeout: globalObject.clearTimeout,\n    setInterval: globalObject.setInterval,\n    clearInterval: globalObject.clearInterval,\n    requestAnimationFrame: globalObject.requestAnimationFrame ? globalObject.requestAnimationFrame : void 0,\n    cancelAnimationFrame: globalObject.cancelAnimationFrame ? globalObject.cancelAnimationFrame : void 0,\n    requestIdleCallback: globalObject.requestIdleCallback ? globalObject.requestIdleCallback : void 0,\n    cancelIdleCallback: globalObject.cancelIdleCallback ? globalObject.cancelIdleCallback : void 0,\n    Date: globalObject.Date,\n    performance: globalObject.performance,\n    Intl: globalObject.Intl\n  };\n  const bound = { ...raw };\n  for (const key of Object.keys(bound)) {\n    if (key !== "Date" && typeof bound[key] === "function")\n      bound[key] = bound[key].bind(globalObject);\n  }\n  return { raw, bound };\n}\nfunction getScheduleHandler(type) {\n  if (type === "IdleCallback" || type === "AnimationFrame")\n    return `request${type}`;\n  return `set${type}`;\n}\nfunction createApi(clock, originals) {\n  return {\n    setTimeout: (func, timeout, ...args) => {\n      const delay = timeout ? +timeout : timeout;\n      return clock.addTimer({\n        type: "Timeout" /* Timeout */,\n        func,\n        args,\n        delay\n      });\n    },\n    clearTimeout: (timerId) => {\n      if (timerId)\n        clock.clearTimer(timerId, "Timeout" /* Timeout */);\n    },\n    setInterval: (func, timeout, ...args) => {\n      const delay = timeout ? +timeout : timeout;\n      return clock.addTimer({\n        type: "Interval" /* Interval */,\n        func,\n        args,\n        delay\n      });\n    },\n    clearInterval: (timerId) => {\n      if (timerId)\n        return clock.clearTimer(timerId, "Interval" /* Interval */);\n    },\n    requestAnimationFrame: (callback) => {\n      return clock.addTimer({\n        type: "AnimationFrame" /* AnimationFrame */,\n        func: callback,\n        delay: clock.getTimeToNextFrame()\n      });\n    },\n    cancelAnimationFrame: (timerId) => {\n      if (timerId)\n        return clock.clearTimer(timerId, "AnimationFrame" /* AnimationFrame */);\n    },\n    requestIdleCallback: (callback, options) => {\n      let timeToNextIdlePeriod = 0;\n      if (clock.countTimers() > 0)\n        timeToNextIdlePeriod = 50;\n      return clock.addTimer({\n        type: "IdleCallback" /* IdleCallback */,\n        func: callback,\n        delay: (options == null ? void 0 : options.timeout) ? Math.min(options == null ? void 0 : options.timeout, timeToNextIdlePeriod) : timeToNextIdlePeriod\n      });\n    },\n    cancelIdleCallback: (timerId) => {\n      if (timerId)\n        return clock.clearTimer(timerId, "IdleCallback" /* IdleCallback */);\n    },\n    Intl: originals.Intl ? createIntl(clock, originals.Intl) : void 0,\n    Date: createDate(clock, originals.Date),\n    performance: originals.performance ? fakePerformance(clock, originals.performance) : void 0\n  };\n}\nfunction getClearHandler(type) {\n  if (type === "IdleCallback" || type === "AnimationFrame")\n    return `cancel${type}`;\n  return `clear${type}`;\n}\nfunction fakePerformance(clock, performance) {\n  const result = {\n    now: () => clock.performanceNow()\n  };\n  result.__defineGetter__("timeOrigin", () => clock._now.origin || 0);\n  for (const key of Object.keys(performance.__proto__)) {\n    if (key === "now" || key === "timeOrigin")\n      continue;\n    if (key === "getEntries" || key === "getEntriesByName" || key === "getEntriesByType")\n      result[key] = () => [];\n    else\n      result[key] = () => {\n      };\n  }\n  return result;\n}\nfunction createClock(globalObject) {\n  const originals = platformOriginals(globalObject);\n  const embedder = {\n    dateNow: () => originals.raw.Date.now(),\n    performanceNow: () => Math.ceil(originals.raw.performance.now()),\n    setTimeout: (task, timeout) => {\n      const timerId = originals.bound.setTimeout(task, timeout);\n      return () => originals.bound.clearTimeout(timerId);\n    },\n    setInterval: (task, delay) => {\n      const intervalId = originals.bound.setInterval(task, delay);\n      return () => originals.bound.clearInterval(intervalId);\n    }\n  };\n  const clock = new ClockController(embedder);\n  const api = createApi(clock, originals.bound);\n  return { clock, api, originals: originals.raw };\n}\nfunction install(globalObject, config = {}) {\n  var _a, _b;\n  if ((_a = globalObject.Date) == null ? void 0 : _a.isFake) {\n    throw new TypeError(`Can\'t install fake timers twice on the same global object.`);\n  }\n  const { clock, api, originals } = createClock(globalObject);\n  const toFake = ((_b = config.toFake) == null ? void 0 : _b.length) ? config.toFake : Object.keys(originals);\n  for (const method of toFake) {\n    if (method === "Date") {\n      globalObject.Date = mirrorDateProperties(api.Date, globalObject.Date);\n    } else if (method === "Intl") {\n      globalObject.Intl = api[method];\n    } else if (method === "performance") {\n      globalObject.performance = api[method];\n      const kEventTimeStamp = Symbol("playwrightEventTimeStamp");\n      Object.defineProperty(Event.prototype, "timeStamp", {\n        get() {\n          var _a2;\n          if (!this[kEventTimeStamp])\n            this[kEventTimeStamp] = (_a2 = api.performance) == null ? void 0 : _a2.now();\n          return this[kEventTimeStamp];\n        }\n      });\n    } else {\n      globalObject[method] = (...args) => {\n        return api[method].apply(api, args);\n      };\n    }\n    clock.disposables.push(() => {\n      globalObject[method] = originals[method];\n    });\n  }\n  return { clock, api, originals };\n}\nfunction inject(globalObject) {\n  const builtins = platformOriginals(globalObject).bound;\n  const { clock: controller } = install(globalObject);\n  controller.resume();\n  return {\n    controller,\n    builtins\n  };\n}\nfunction asWallTime(n) {\n  return n;\n}\nfunction shiftTicks(ticks, ms) {\n  return ticks + ms;\n}\n'},"./node_modules/playwright-core/lib/generated/injectedScriptSource.js":e=>{"use strict";var t,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,i=Object.prototype.hasOwnProperty,s={};((e,t)=>{for(var r in t)n(e,r,{get:t[r],enumerable:!0})})(s,{source:()=>a}),e.exports=(t=s,((e,t,s,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let s of o(t))i.call(e,s)||undefined===s||n(e,s,{get:()=>t[s],enumerable:!(a=r(t,s))||a.enumerable});return e})(n({},"__esModule",{value:!0}),t));const a='\nvar __commonJS = obj => {\n  let required = false;\n  let result;\n  return function __require() {\n    if (!required) {\n      required = true;\n      let fn;\n      for (const name in obj) { fn = obj[name]; break; }\n      const module = { exports: {} };\n      fn(module.exports, module);\n      result = module.exports;\n    }\n    return result;\n  }\n};\nvar __export = (target, all) => {for (var name in all) target[name] = all[name];};\nvar __toESM = mod => ({ ...mod, \'default\': mod });\nvar __toCommonJS = mod => ({ ...mod, __esModule: true });\n\n\n// packages/injected/src/injectedScript.ts\nvar injectedScript_exports = {};\n__export(injectedScript_exports, {\n  InjectedScript: () => InjectedScript\n});\nmodule.exports = __toCommonJS(injectedScript_exports);\n\n// packages/playwright-core/src/utils/isomorphic/ariaSnapshot.ts\nfunction parseAriaSnapshot(yaml, text, options = {}) {\n  var _a;\n  const lineCounter = new yaml.LineCounter();\n  const parseOptions = {\n    keepSourceTokens: true,\n    lineCounter,\n    ...options\n  };\n  const yamlDoc = yaml.parseDocument(text, parseOptions);\n  const errors = [];\n  const convertRange = (range) => {\n    return [lineCounter.linePos(range[0]), lineCounter.linePos(range[1])];\n  };\n  const addError = (error) => {\n    errors.push({\n      message: error.message,\n      range: [lineCounter.linePos(error.pos[0]), lineCounter.linePos(error.pos[1])]\n    });\n  };\n  const convertSeq = (container, seq) => {\n    for (const item of seq.items) {\n      const itemIsString = item instanceof yaml.Scalar && typeof item.value === "string";\n      if (itemIsString) {\n        const childNode = KeyParser.parse(item, parseOptions, errors);\n        if (childNode) {\n          container.children = container.children || [];\n          container.children.push(childNode);\n        }\n        continue;\n      }\n      const itemIsMap = item instanceof yaml.YAMLMap;\n      if (itemIsMap) {\n        convertMap(container, item);\n        continue;\n      }\n      errors.push({\n        message: "Sequence items should be strings or maps",\n        range: convertRange(item.range || seq.range)\n      });\n    }\n  };\n  const convertMap = (container, map) => {\n    var _a2;\n    for (const entry of map.items) {\n      container.children = container.children || [];\n      const keyIsString = entry.key instanceof yaml.Scalar && typeof entry.key.value === "string";\n      if (!keyIsString) {\n        errors.push({\n          message: "Only string keys are supported",\n          range: convertRange(entry.key.range || map.range)\n        });\n        continue;\n      }\n      const key = entry.key;\n      const value = entry.value;\n      if (key.value === "text") {\n        const valueIsString = value instanceof yaml.Scalar && typeof value.value === "string";\n        if (!valueIsString) {\n          errors.push({\n            message: "Text value should be a string",\n            range: convertRange(entry.value.range || map.range)\n          });\n          continue;\n        }\n        container.children.push({\n          kind: "text",\n          text: textValue(value.value)\n        });\n        continue;\n      }\n      if (key.value === "/children") {\n        const valueIsString = value instanceof yaml.Scalar && typeof value.value === "string";\n        if (!valueIsString || value.value !== "contain" && value.value !== "equal" && value.value !== "deep-equal") {\n          errors.push({\n            message: \'Strict value should be "contain", "equal" or "deep-equal"\',\n            range: convertRange(entry.value.range || map.range)\n          });\n          continue;\n        }\n        container.containerMode = value.value;\n        continue;\n      }\n      if (key.value.startsWith("/")) {\n        const valueIsString = value instanceof yaml.Scalar && typeof value.value === "string";\n        if (!valueIsString) {\n          errors.push({\n            message: "Property value should be a string",\n            range: convertRange(entry.value.range || map.range)\n          });\n          continue;\n        }\n        container.props = (_a2 = container.props) != null ? _a2 : {};\n        container.props[key.value.slice(1)] = textValue(value.value);\n        continue;\n      }\n      const childNode = KeyParser.parse(key, parseOptions, errors);\n      if (!childNode)\n        continue;\n      const valueIsScalar = value instanceof yaml.Scalar;\n      if (valueIsScalar) {\n        const type = typeof value.value;\n        if (type !== "string" && type !== "number" && type !== "boolean") {\n          errors.push({\n            message: "Node value should be a string or a sequence",\n            range: convertRange(entry.value.range || map.range)\n          });\n          continue;\n        }\n        container.children.push({\n          ...childNode,\n          children: [{\n            kind: "text",\n            text: textValue(String(value.value))\n          }]\n        });\n        continue;\n      }\n      const valueIsSequence = value instanceof yaml.YAMLSeq;\n      if (valueIsSequence) {\n        container.children.push(childNode);\n        convertSeq(childNode, value);\n        continue;\n      }\n      errors.push({\n        message: "Map values should be strings or sequences",\n        range: convertRange(entry.value.range || map.range)\n      });\n    }\n  };\n  const fragment = { kind: "role", role: "fragment" };\n  yamlDoc.errors.forEach(addError);\n  if (errors.length)\n    return { errors, fragment };\n  if (!(yamlDoc.contents instanceof yaml.YAMLSeq)) {\n    errors.push({\n      message: \'Aria snapshot must be a YAML sequence, elements starting with " -"\',\n      range: yamlDoc.contents ? convertRange(yamlDoc.contents.range) : [{ line: 0, col: 0 }, { line: 0, col: 0 }]\n    });\n  }\n  if (errors.length)\n    return { errors, fragment };\n  convertSeq(fragment, yamlDoc.contents);\n  if (errors.length)\n    return { errors, fragment: emptyFragment };\n  if (((_a = fragment.children) == null ? void 0 : _a.length) === 1 && (!fragment.containerMode || fragment.containerMode === "contain"))\n    return { fragment: fragment.children[0], errors: [] };\n  return { fragment, errors: [] };\n}\nvar emptyFragment = { kind: "role", role: "fragment" };\nfunction normalizeWhitespace(text) {\n  return text.replace(/[\\u200b\\u00ad]/g, "").replace(/[\\r\\n\\s\\t]+/g, " ").trim();\n}\nfunction textValue(value) {\n  return {\n    raw: value,\n    normalized: normalizeWhitespace(value)\n  };\n}\nvar KeyParser = class _KeyParser {\n  static parse(text, options, errors) {\n    try {\n      return new _KeyParser(text.value)._parse();\n    } catch (e) {\n      if (e instanceof ParserError) {\n        const message = options.prettyErrors === false ? e.message : e.message + ":\\n\\n" + text.value + "\\n" + " ".repeat(e.pos) + "^\\n";\n        errors.push({\n          message,\n          range: [options.lineCounter.linePos(text.range[0]), options.lineCounter.linePos(text.range[0] + e.pos)]\n        });\n        return null;\n      }\n      throw e;\n    }\n  }\n  constructor(input) {\n    this._input = input;\n    this._pos = 0;\n    this._length = input.length;\n  }\n  _peek() {\n    return this._input[this._pos] || "";\n  }\n  _next() {\n    if (this._pos < this._length)\n      return this._input[this._pos++];\n    return null;\n  }\n  _eof() {\n    return this._pos >= this._length;\n  }\n  _isWhitespace() {\n    return !this._eof() && /\\s/.test(this._peek());\n  }\n  _skipWhitespace() {\n    while (this._isWhitespace())\n      this._pos++;\n  }\n  _readIdentifier(type) {\n    if (this._eof())\n      this._throwError(`Unexpected end of input when expecting ${type}`);\n    const start = this._pos;\n    while (!this._eof() && /[a-zA-Z]/.test(this._peek()))\n      this._pos++;\n    return this._input.slice(start, this._pos);\n  }\n  _readString() {\n    let result = "";\n    let escaped = false;\n    while (!this._eof()) {\n      const ch = this._next();\n      if (escaped) {\n        result += ch;\n        escaped = false;\n      } else if (ch === "\\\\") {\n        escaped = true;\n      } else if (ch === \'"\') {\n        return result;\n      } else {\n        result += ch;\n      }\n    }\n    this._throwError("Unterminated string");\n  }\n  _throwError(message, offset = 0) {\n    throw new ParserError(message, offset || this._pos);\n  }\n  _readRegex() {\n    let result = "";\n    let escaped = false;\n    let insideClass = false;\n    while (!this._eof()) {\n      const ch = this._next();\n      if (escaped) {\n        result += ch;\n        escaped = false;\n      } else if (ch === "\\\\") {\n        escaped = true;\n        result += ch;\n      } else if (ch === "/" && !insideClass) {\n        return { pattern: result };\n      } else if (ch === "[") {\n        insideClass = true;\n        result += ch;\n      } else if (ch === "]" && insideClass) {\n        result += ch;\n        insideClass = false;\n      } else {\n        result += ch;\n      }\n    }\n    this._throwError("Unterminated regex");\n  }\n  _readStringOrRegex() {\n    const ch = this._peek();\n    if (ch === \'"\') {\n      this._next();\n      return normalizeWhitespace(this._readString());\n    }\n    if (ch === "/") {\n      this._next();\n      return this._readRegex();\n    }\n    return null;\n  }\n  _readAttributes(result) {\n    let errorPos = this._pos;\n    while (true) {\n      this._skipWhitespace();\n      if (this._peek() === "[") {\n        this._next();\n        this._skipWhitespace();\n        errorPos = this._pos;\n        const flagName = this._readIdentifier("attribute");\n        this._skipWhitespace();\n        let flagValue = "";\n        if (this._peek() === "=") {\n          this._next();\n          this._skipWhitespace();\n          errorPos = this._pos;\n          while (this._peek() !== "]" && !this._isWhitespace() && !this._eof())\n            flagValue += this._next();\n        }\n        this._skipWhitespace();\n        if (this._peek() !== "]")\n          this._throwError("Expected ]");\n        this._next();\n        this._applyAttribute(result, flagName, flagValue || "true", errorPos);\n      } else {\n        break;\n      }\n    }\n  }\n  _parse() {\n    this._skipWhitespace();\n    const role = this._readIdentifier("role");\n    this._skipWhitespace();\n    const name = this._readStringOrRegex() || "";\n    const result = { kind: "role", role, name };\n    this._readAttributes(result);\n    this._skipWhitespace();\n    if (!this._eof())\n      this._throwError("Unexpected input");\n    return result;\n  }\n  _applyAttribute(node, key, value, errorPos) {\n    if (key === "checked") {\n      this._assert(value === "true" || value === "false" || value === "mixed", \'Value of "checked" attribute must be a boolean or "mixed"\', errorPos);\n      node.checked = value === "true" ? true : value === "false" ? false : "mixed";\n      return;\n    }\n    if (key === "disabled") {\n      this._assert(value === "true" || value === "false", \'Value of "disabled" attribute must be a boolean\', errorPos);\n      node.disabled = value === "true";\n      return;\n    }\n    if (key === "expanded") {\n      this._assert(value === "true" || value === "false", \'Value of "expanded" attribute must be a boolean\', errorPos);\n      node.expanded = value === "true";\n      return;\n    }\n    if (key === "active") {\n      this._assert(value === "true" || value === "false", \'Value of "active" attribute must be a boolean\', errorPos);\n      node.active = value === "true";\n      return;\n    }\n    if (key === "level") {\n      this._assert(!isNaN(Number(value)), \'Value of "level" attribute must be a number\', errorPos);\n      node.level = Number(value);\n      return;\n    }\n    if (key === "pressed") {\n      this._assert(value === "true" || value === "false" || value === "mixed", \'Value of "pressed" attribute must be a boolean or "mixed"\', errorPos);\n      node.pressed = value === "true" ? true : value === "false" ? false : "mixed";\n      return;\n    }\n    if (key === "selected") {\n      this._assert(value === "true" || value === "false", \'Value of "selected" attribute must be a boolean\', errorPos);\n      node.selected = value === "true";\n      return;\n    }\n    this._assert(false, `Unsupported attribute [${key}]`, errorPos);\n  }\n  _assert(value, message, valuePos) {\n    if (!value)\n      this._throwError(message || "Assertion error", valuePos);\n  }\n};\nvar ParserError = class extends Error {\n  constructor(message, pos) {\n    super(message);\n    this.pos = pos;\n  }\n};\n\n// packages/playwright-core/src/utils/isomorphic/cssTokenizer.ts\nvar between = function(num, first, last) {\n  return num >= first && num <= last;\n};\nfunction digit(code) {\n  return between(code, 48, 57);\n}\nfunction hexdigit(code) {\n  return digit(code) || between(code, 65, 70) || between(code, 97, 102);\n}\nfunction uppercaseletter(code) {\n  return between(code, 65, 90);\n}\nfunction lowercaseletter(code) {\n  return between(code, 97, 122);\n}\nfunction letter(code) {\n  return uppercaseletter(code) || lowercaseletter(code);\n}\nfunction nonascii(code) {\n  return code >= 128;\n}\nfunction namestartchar(code) {\n  return letter(code) || nonascii(code) || code === 95;\n}\nfunction namechar(code) {\n  return namestartchar(code) || digit(code) || code === 45;\n}\nfunction nonprintable(code) {\n  return between(code, 0, 8) || code === 11 || between(code, 14, 31) || code === 127;\n}\nfunction newline(code) {\n  return code === 10;\n}\nfunction whitespace(code) {\n  return newline(code) || code === 9 || code === 32;\n}\nvar maximumallowedcodepoint = 1114111;\nvar InvalidCharacterError = class extends Error {\n  constructor(message) {\n    super(message);\n    this.name = "InvalidCharacterError";\n  }\n};\nfunction preprocess(str) {\n  const codepoints = [];\n  for (let i = 0; i < str.length; i++) {\n    let code = str.charCodeAt(i);\n    if (code === 13 && str.charCodeAt(i + 1) === 10) {\n      code = 10;\n      i++;\n    }\n    if (code === 13 || code === 12)\n      code = 10;\n    if (code === 0)\n      code = 65533;\n    if (between(code, 55296, 56319) && between(str.charCodeAt(i + 1), 56320, 57343)) {\n      const lead = code - 55296;\n      const trail = str.charCodeAt(i + 1) - 56320;\n      code = Math.pow(2, 16) + lead * Math.pow(2, 10) + trail;\n      i++;\n    }\n    codepoints.push(code);\n  }\n  return codepoints;\n}\nfunction stringFromCode(code) {\n  if (code <= 65535)\n    return String.fromCharCode(code);\n  code -= Math.pow(2, 16);\n  const lead = Math.floor(code / Math.pow(2, 10)) + 55296;\n  const trail = code % Math.pow(2, 10) + 56320;\n  return String.fromCharCode(lead) + String.fromCharCode(trail);\n}\nfunction tokenize(str1) {\n  const str = preprocess(str1);\n  let i = -1;\n  const tokens = [];\n  let code;\n  let line = 0;\n  let column = 0;\n  let lastLineLength = 0;\n  const incrLineno = function() {\n    line += 1;\n    lastLineLength = column;\n    column = 0;\n  };\n  const locStart = { line, column };\n  const codepoint = function(i2) {\n    if (i2 >= str.length)\n      return -1;\n    return str[i2];\n  };\n  const next = function(num) {\n    if (num === void 0)\n      num = 1;\n    if (num > 3)\n      throw "Spec Error: no more than three codepoints of lookahead.";\n    return codepoint(i + num);\n  };\n  const consume = function(num) {\n    if (num === void 0)\n      num = 1;\n    i += num;\n    code = codepoint(i);\n    if (newline(code))\n      incrLineno();\n    else\n      column += num;\n    return true;\n  };\n  const reconsume = function() {\n    i -= 1;\n    if (newline(code)) {\n      line -= 1;\n      column = lastLineLength;\n    } else {\n      column -= 1;\n    }\n    locStart.line = line;\n    locStart.column = column;\n    return true;\n  };\n  const eof = function(codepoint2) {\n    if (codepoint2 === void 0)\n      codepoint2 = code;\n    return codepoint2 === -1;\n  };\n  const donothing = function() {\n  };\n  const parseerror = function() {\n  };\n  const consumeAToken = function() {\n    consumeComments();\n    consume();\n    if (whitespace(code)) {\n      while (whitespace(next()))\n        consume();\n      return new WhitespaceToken();\n    } else if (code === 34) {\n      return consumeAStringToken();\n    } else if (code === 35) {\n      if (namechar(next()) || areAValidEscape(next(1), next(2))) {\n        const token = new HashToken("");\n        if (wouldStartAnIdentifier(next(1), next(2), next(3)))\n          token.type = "id";\n        token.value = consumeAName();\n        return token;\n      } else {\n        return new DelimToken(code);\n      }\n    } else if (code === 36) {\n      if (next() === 61) {\n        consume();\n        return new SuffixMatchToken();\n      } else {\n        return new DelimToken(code);\n      }\n    } else if (code === 39) {\n      return consumeAStringToken();\n    } else if (code === 40) {\n      return new OpenParenToken();\n    } else if (code === 41) {\n      return new CloseParenToken();\n    } else if (code === 42) {\n      if (next() === 61) {\n        consume();\n        return new SubstringMatchToken();\n      } else {\n        return new DelimToken(code);\n      }\n    } else if (code === 43) {\n      if (startsWithANumber()) {\n        reconsume();\n        return consumeANumericToken();\n      } else {\n        return new DelimToken(code);\n      }\n    } else if (code === 44) {\n      return new CommaToken();\n    } else if (code === 45) {\n      if (startsWithANumber()) {\n        reconsume();\n        return consumeANumericToken();\n      } else if (next(1) === 45 && next(2) === 62) {\n        consume(2);\n        return new CDCToken();\n      } else if (startsWithAnIdentifier()) {\n        reconsume();\n        return consumeAnIdentlikeToken();\n      } else {\n        return new DelimToken(code);\n      }\n    } else if (code === 46) {\n      if (startsWithANumber()) {\n        reconsume();\n        return consumeANumericToken();\n      } else {\n        return new DelimToken(code);\n      }\n    } else if (code === 58) {\n      return new ColonToken();\n    } else if (code === 59) {\n      return new SemicolonToken();\n    } else if (code === 60) {\n      if (next(1) === 33 && next(2) === 45 && next(3) === 45) {\n        consume(3);\n        return new CDOToken();\n      } else {\n        return new DelimToken(code);\n      }\n    } else if (code === 64) {\n      if (wouldStartAnIdentifier(next(1), next(2), next(3)))\n        return new AtKeywordToken(consumeAName());\n      else\n        return new DelimToken(code);\n    } else if (code === 91) {\n      return new OpenSquareToken();\n    } else if (code === 92) {\n      if (startsWithAValidEscape()) {\n        reconsume();\n        return consumeAnIdentlikeToken();\n      } else {\n        parseerror();\n        return new DelimToken(code);\n      }\n    } else if (code === 93) {\n      return new CloseSquareToken();\n    } else if (code === 94) {\n      if (next() === 61) {\n        consume();\n        return new PrefixMatchToken();\n      } else {\n        return new DelimToken(code);\n      }\n    } else if (code === 123) {\n      return new OpenCurlyToken();\n    } else if (code === 124) {\n      if (next() === 61) {\n        consume();\n        return new DashMatchToken();\n      } else if (next() === 124) {\n        consume();\n        return new ColumnToken();\n      } else {\n        return new DelimToken(code);\n      }\n    } else if (code === 125) {\n      return new CloseCurlyToken();\n    } else if (code === 126) {\n      if (next() === 61) {\n        consume();\n        return new IncludeMatchToken();\n      } else {\n        return new DelimToken(code);\n      }\n    } else if (digit(code)) {\n      reconsume();\n      return consumeANumericToken();\n    } else if (namestartchar(code)) {\n      reconsume();\n      return consumeAnIdentlikeToken();\n    } else if (eof()) {\n      return new EOFToken();\n    } else {\n      return new DelimToken(code);\n    }\n  };\n  const consumeComments = function() {\n    while (next(1) === 47 && next(2) === 42) {\n      consume(2);\n      while (true) {\n        consume();\n        if (code === 42 && next() === 47) {\n          consume();\n          break;\n        } else if (eof()) {\n          parseerror();\n          return;\n        }\n      }\n    }\n  };\n  const consumeANumericToken = function() {\n    const num = consumeANumber();\n    if (wouldStartAnIdentifier(next(1), next(2), next(3))) {\n      const token = new DimensionToken();\n      token.value = num.value;\n      token.repr = num.repr;\n      token.type = num.type;\n      token.unit = consumeAName();\n      return token;\n    } else if (next() === 37) {\n      consume();\n      const token = new PercentageToken();\n      token.value = num.value;\n      token.repr = num.repr;\n      return token;\n    } else {\n      const token = new NumberToken();\n      token.value = num.value;\n      token.repr = num.repr;\n      token.type = num.type;\n      return token;\n    }\n  };\n  const consumeAnIdentlikeToken = function() {\n    const str2 = consumeAName();\n    if (str2.toLowerCase() === "url" && next() === 40) {\n      consume();\n      while (whitespace(next(1)) && whitespace(next(2)))\n        consume();\n      if (next() === 34 || next() === 39)\n        return new FunctionToken(str2);\n      else if (whitespace(next()) && (next(2) === 34 || next(2) === 39))\n        return new FunctionToken(str2);\n      else\n        return consumeAURLToken();\n    } else if (next() === 40) {\n      consume();\n      return new FunctionToken(str2);\n    } else {\n      return new IdentToken(str2);\n    }\n  };\n  const consumeAStringToken = function(endingCodePoint) {\n    if (endingCodePoint === void 0)\n      endingCodePoint = code;\n    let string = "";\n    while (consume()) {\n      if (code === endingCodePoint || eof()) {\n        return new StringToken(string);\n      } else if (newline(code)) {\n        parseerror();\n        reconsume();\n        return new BadStringToken();\n      } else if (code === 92) {\n        if (eof(next()))\n          donothing();\n        else if (newline(next()))\n          consume();\n        else\n          string += stringFromCode(consumeEscape());\n      } else {\n        string += stringFromCode(code);\n      }\n    }\n    throw new Error("Internal error");\n  };\n  const consumeAURLToken = function() {\n    const token = new URLToken("");\n    while (whitespace(next()))\n      consume();\n    if (eof(next()))\n      return token;\n    while (consume()) {\n      if (code === 41 || eof()) {\n        return token;\n      } else if (whitespace(code)) {\n        while (whitespace(next()))\n          consume();\n        if (next() === 41 || eof(next())) {\n          consume();\n          return token;\n        } else {\n          consumeTheRemnantsOfABadURL();\n          return new BadURLToken();\n        }\n      } else if (code === 34 || code === 39 || code === 40 || nonprintable(code)) {\n        parseerror();\n        consumeTheRemnantsOfABadURL();\n        return new BadURLToken();\n      } else if (code === 92) {\n        if (startsWithAValidEscape()) {\n          token.value += stringFromCode(consumeEscape());\n        } else {\n          parseerror();\n          consumeTheRemnantsOfABadURL();\n          return new BadURLToken();\n        }\n      } else {\n        token.value += stringFromCode(code);\n      }\n    }\n    throw new Error("Internal error");\n  };\n  const consumeEscape = function() {\n    consume();\n    if (hexdigit(code)) {\n      const digits = [code];\n      for (let total = 0; total < 5; total++) {\n        if (hexdigit(next())) {\n          consume();\n          digits.push(code);\n        } else {\n          break;\n        }\n      }\n      if (whitespace(next()))\n        consume();\n      let value = parseInt(digits.map(function(x) {\n        return String.fromCharCode(x);\n      }).join(""), 16);\n      if (value > maximumallowedcodepoint)\n        value = 65533;\n      return value;\n    } else if (eof()) {\n      return 65533;\n    } else {\n      return code;\n    }\n  };\n  const areAValidEscape = function(c1, c2) {\n    if (c1 !== 92)\n      return false;\n    if (newline(c2))\n      return false;\n    return true;\n  };\n  const startsWithAValidEscape = function() {\n    return areAValidEscape(code, next());\n  };\n  const wouldStartAnIdentifier = function(c1, c2, c3) {\n    if (c1 === 45)\n      return namestartchar(c2) || c2 === 45 || areAValidEscape(c2, c3);\n    else if (namestartchar(c1))\n      return true;\n    else if (c1 === 92)\n      return areAValidEscape(c1, c2);\n    else\n      return false;\n  };\n  const startsWithAnIdentifier = function() {\n    return wouldStartAnIdentifier(code, next(1), next(2));\n  };\n  const wouldStartANumber = function(c1, c2, c3) {\n    if (c1 === 43 || c1 === 45) {\n      if (digit(c2))\n        return true;\n      if (c2 === 46 && digit(c3))\n        return true;\n      return false;\n    } else if (c1 === 46) {\n      if (digit(c2))\n        return true;\n      return false;\n    } else if (digit(c1)) {\n      return true;\n    } else {\n      return false;\n    }\n  };\n  const startsWithANumber = function() {\n    return wouldStartANumber(code, next(1), next(2));\n  };\n  const consumeAName = function() {\n    let result = "";\n    while (consume()) {\n      if (namechar(code)) {\n        result += stringFromCode(code);\n      } else if (startsWithAValidEscape()) {\n        result += stringFromCode(consumeEscape());\n      } else {\n        reconsume();\n        return result;\n      }\n    }\n    throw new Error("Internal parse error");\n  };\n  const consumeANumber = function() {\n    let repr = "";\n    let type = "integer";\n    if (next() === 43 || next() === 45) {\n      consume();\n      repr += stringFromCode(code);\n    }\n    while (digit(next())) {\n      consume();\n      repr += stringFromCode(code);\n    }\n    if (next(1) === 46 && digit(next(2))) {\n      consume();\n      repr += stringFromCode(code);\n      consume();\n      repr += stringFromCode(code);\n      type = "number";\n      while (digit(next())) {\n        consume();\n        repr += stringFromCode(code);\n      }\n    }\n    const c1 = next(1), c2 = next(2), c3 = next(3);\n    if ((c1 === 69 || c1 === 101) && digit(c2)) {\n      consume();\n      repr += stringFromCode(code);\n      consume();\n      repr += stringFromCode(code);\n      type = "number";\n      while (digit(next())) {\n        consume();\n        repr += stringFromCode(code);\n      }\n    } else if ((c1 === 69 || c1 === 101) && (c2 === 43 || c2 === 45) && digit(c3)) {\n      consume();\n      repr += stringFromCode(code);\n      consume();\n      repr += stringFromCode(code);\n      consume();\n      repr += stringFromCode(code);\n      type = "number";\n      while (digit(next())) {\n        consume();\n        repr += stringFromCode(code);\n      }\n    }\n    const value = convertAStringToANumber(repr);\n    return { type, value, repr };\n  };\n  const convertAStringToANumber = function(string) {\n    return +string;\n  };\n  const consumeTheRemnantsOfABadURL = function() {\n    while (consume()) {\n      if (code === 41 || eof()) {\n        return;\n      } else if (startsWithAValidEscape()) {\n        consumeEscape();\n        donothing();\n      } else {\n        donothing();\n      }\n    }\n  };\n  let iterationCount = 0;\n  while (!eof(next())) {\n    tokens.push(consumeAToken());\n    iterationCount++;\n    if (iterationCount > str.length * 2)\n      throw new Error("I\'m infinite-looping!");\n  }\n  return tokens;\n}\nvar CSSParserToken = class {\n  constructor() {\n    this.tokenType = "";\n  }\n  toJSON() {\n    return { token: this.tokenType };\n  }\n  toString() {\n    return this.tokenType;\n  }\n  toSource() {\n    return "" + this;\n  }\n};\nvar BadStringToken = class extends CSSParserToken {\n  constructor() {\n    super(...arguments);\n    this.tokenType = "BADSTRING";\n  }\n};\nvar BadURLToken = class extends CSSParserToken {\n  constructor() {\n    super(...arguments);\n    this.tokenType = "BADURL";\n  }\n};\nvar WhitespaceToken = class extends CSSParserToken {\n  constructor() {\n    super(...arguments);\n    this.tokenType = "WHITESPACE";\n  }\n  toString() {\n    return "WS";\n  }\n  toSource() {\n    return " ";\n  }\n};\nvar CDOToken = class extends CSSParserToken {\n  constructor() {\n    super(...arguments);\n    this.tokenType = "CDO";\n  }\n  toSource() {\n    return "\x3c!--";\n  }\n};\nvar CDCToken = class extends CSSParserToken {\n  constructor() {\n    super(...arguments);\n    this.tokenType = "CDC";\n  }\n  toSource() {\n    return "--\x3e";\n  }\n};\nvar ColonToken = class extends CSSParserToken {\n  constructor() {\n    super(...arguments);\n    this.tokenType = ":";\n  }\n};\nvar SemicolonToken = class extends CSSParserToken {\n  constructor() {\n    super(...arguments);\n    this.tokenType = ";";\n  }\n};\nvar CommaToken = class extends CSSParserToken {\n  constructor() {\n    super(...arguments);\n    this.tokenType = ",";\n  }\n};\nvar GroupingToken = class extends CSSParserToken {\n  constructor() {\n    super(...arguments);\n    this.value = "";\n    this.mirror = "";\n  }\n};\nvar OpenCurlyToken = class extends GroupingToken {\n  constructor() {\n    super();\n    this.tokenType = "{";\n    this.value = "{";\n    this.mirror = "}";\n  }\n};\nvar CloseCurlyToken = class extends GroupingToken {\n  constructor() {\n    super();\n    this.tokenType = "}";\n    this.value = "}";\n    this.mirror = "{";\n  }\n};\nvar OpenSquareToken = class extends GroupingToken {\n  constructor() {\n    super();\n    this.tokenType = "[";\n    this.value = "[";\n    this.mirror = "]";\n  }\n};\nvar CloseSquareToken = class extends GroupingToken {\n  constructor() {\n    super();\n    this.tokenType = "]";\n    this.value = "]";\n    this.mirror = "[";\n  }\n};\nvar OpenParenToken = class extends GroupingToken {\n  constructor() {\n    super();\n    this.tokenType = "(";\n    this.value = "(";\n    this.mirror = ")";\n  }\n};\nvar CloseParenToken = class extends GroupingToken {\n  constructor() {\n    super();\n    this.tokenType = ")";\n    this.value = ")";\n    this.mirror = "(";\n  }\n};\nvar IncludeMatchToken = class extends CSSParserToken {\n  constructor() {\n    super(...arguments);\n    this.tokenType = "~=";\n  }\n};\nvar DashMatchToken = class extends CSSParserToken {\n  constructor() {\n    super(...arguments);\n    this.tokenType = "|=";\n  }\n};\nvar PrefixMatchToken = class extends CSSParserToken {\n  constructor() {\n    super(...arguments);\n    this.tokenType = "^=";\n  }\n};\nvar SuffixMatchToken = class extends CSSParserToken {\n  constructor() {\n    super(...arguments);\n    this.tokenType = "$=";\n  }\n};\nvar SubstringMatchToken = class extends CSSParserToken {\n  constructor() {\n    super(...arguments);\n    this.tokenType = "*=";\n  }\n};\nvar ColumnToken = class extends CSSParserToken {\n  constructor() {\n    super(...arguments);\n    this.tokenType = "||";\n  }\n};\nvar EOFToken = class extends CSSParserToken {\n  constructor() {\n    super(...arguments);\n    this.tokenType = "EOF";\n  }\n  toSource() {\n    return "";\n  }\n};\nvar DelimToken = class extends CSSParserToken {\n  constructor(code) {\n    super();\n    this.tokenType = "DELIM";\n    this.value = "";\n    this.value = stringFromCode(code);\n  }\n  toString() {\n    return "DELIM(" + this.value + ")";\n  }\n  toJSON() {\n    const json = this.constructor.prototype.constructor.prototype.toJSON.call(this);\n    json.value = this.value;\n    return json;\n  }\n  toSource() {\n    if (this.value === "\\\\")\n      return "\\\\\\n";\n    else\n      return this.value;\n  }\n};\nvar StringValuedToken = class extends CSSParserToken {\n  constructor() {\n    super(...arguments);\n    this.value = "";\n  }\n  ASCIIMatch(str) {\n    return this.value.toLowerCase() === str.toLowerCase();\n  }\n  toJSON() {\n    const json = this.constructor.prototype.constructor.prototype.toJSON.call(this);\n    json.value = this.value;\n    return json;\n  }\n};\nvar IdentToken = class extends StringValuedToken {\n  constructor(val) {\n    super();\n    this.tokenType = "IDENT";\n    this.value = val;\n  }\n  toString() {\n    return "IDENT(" + this.value + ")";\n  }\n  toSource() {\n    return escapeIdent(this.value);\n  }\n};\nvar FunctionToken = class extends StringValuedToken {\n  constructor(val) {\n    super();\n    this.tokenType = "FUNCTION";\n    this.value = val;\n    this.mirror = ")";\n  }\n  toString() {\n    return "FUNCTION(" + this.value + ")";\n  }\n  toSource() {\n    return escapeIdent(this.value) + "(";\n  }\n};\nvar AtKeywordToken = class extends StringValuedToken {\n  constructor(val) {\n    super();\n    this.tokenType = "AT-KEYWORD";\n    this.value = val;\n  }\n  toString() {\n    return "AT(" + this.value + ")";\n  }\n  toSource() {\n    return "@" + escapeIdent(this.value);\n  }\n};\nvar HashToken = class extends StringValuedToken {\n  constructor(val) {\n    super();\n    this.tokenType = "HASH";\n    this.value = val;\n    this.type = "unrestricted";\n  }\n  toString() {\n    return "HASH(" + this.value + ")";\n  }\n  toJSON() {\n    const json = this.constructor.prototype.constructor.prototype.toJSON.call(this);\n    json.value = this.value;\n    json.type = this.type;\n    return json;\n  }\n  toSource() {\n    if (this.type === "id")\n      return "#" + escapeIdent(this.value);\n    else\n      return "#" + escapeHash(this.value);\n  }\n};\nvar StringToken = class extends StringValuedToken {\n  constructor(val) {\n    super();\n    this.tokenType = "STRING";\n    this.value = val;\n  }\n  toString() {\n    return \'"\' + escapeString(this.value) + \'"\';\n  }\n};\nvar URLToken = class extends StringValuedToken {\n  constructor(val) {\n    super();\n    this.tokenType = "URL";\n    this.value = val;\n  }\n  toString() {\n    return "URL(" + this.value + ")";\n  }\n  toSource() {\n    return \'url("\' + escapeString(this.value) + \'")\';\n  }\n};\nvar NumberToken = class extends CSSParserToken {\n  constructor() {\n    super();\n    this.tokenType = "NUMBER";\n    this.type = "integer";\n    this.repr = "";\n  }\n  toString() {\n    if (this.type === "integer")\n      return "INT(" + this.value + ")";\n    return "NUMBER(" + this.value + ")";\n  }\n  toJSON() {\n    const json = super.toJSON();\n    json.value = this.value;\n    json.type = this.type;\n    json.repr = this.repr;\n    return json;\n  }\n  toSource() {\n    return this.repr;\n  }\n};\nvar PercentageToken = class extends CSSParserToken {\n  constructor() {\n    super();\n    this.tokenType = "PERCENTAGE";\n    this.repr = "";\n  }\n  toString() {\n    return "PERCENTAGE(" + this.value + ")";\n  }\n  toJSON() {\n    const json = this.constructor.prototype.constructor.prototype.toJSON.call(this);\n    json.value = this.value;\n    json.repr = this.repr;\n    return json;\n  }\n  toSource() {\n    return this.repr + "%";\n  }\n};\nvar DimensionToken = class extends CSSParserToken {\n  constructor() {\n    super();\n    this.tokenType = "DIMENSION";\n    this.type = "integer";\n    this.repr = "";\n    this.unit = "";\n  }\n  toString() {\n    return "DIM(" + this.value + "," + this.unit + ")";\n  }\n  toJSON() {\n    const json = this.constructor.prototype.constructor.prototype.toJSON.call(this);\n    json.value = this.value;\n    json.type = this.type;\n    json.repr = this.repr;\n    json.unit = this.unit;\n    return json;\n  }\n  toSource() {\n    const source = this.repr;\n    let unit = escapeIdent(this.unit);\n    if (unit[0].toLowerCase() === "e" && (unit[1] === "-" || between(unit.charCodeAt(1), 48, 57))) {\n      unit = "\\\\65 " + unit.slice(1, unit.length);\n    }\n    return source + unit;\n  }\n};\nfunction escapeIdent(string) {\n  string = "" + string;\n  let result = "";\n  const firstcode = string.charCodeAt(0);\n  for (let i = 0; i < string.length; i++) {\n    const code = string.charCodeAt(i);\n    if (code === 0)\n      throw new InvalidCharacterError("Invalid character: the input contains U+0000.");\n    if (between(code, 1, 31) || code === 127 || i === 0 && between(code, 48, 57) || i === 1 && between(code, 48, 57) && firstcode === 45)\n      result += "\\\\" + code.toString(16) + " ";\n    else if (code >= 128 || code === 45 || code === 95 || between(code, 48, 57) || between(code, 65, 90) || between(code, 97, 122))\n      result += string[i];\n    else\n      result += "\\\\" + string[i];\n  }\n  return result;\n}\nfunction escapeHash(string) {\n  string = "" + string;\n  let result = "";\n  for (let i = 0; i < string.length; i++) {\n    const code = string.charCodeAt(i);\n    if (code === 0)\n      throw new InvalidCharacterError("Invalid character: the input contains U+0000.");\n    if (code >= 128 || code === 45 || code === 95 || between(code, 48, 57) || between(code, 65, 90) || between(code, 97, 122))\n      result += string[i];\n    else\n      result += "\\\\" + code.toString(16) + " ";\n  }\n  return result;\n}\nfunction escapeString(string) {\n  string = "" + string;\n  let result = "";\n  for (let i = 0; i < string.length; i++) {\n    const code = string.charCodeAt(i);\n    if (code === 0)\n      throw new InvalidCharacterError("Invalid character: the input contains U+0000.");\n    if (between(code, 1, 31) || code === 127)\n      result += "\\\\" + code.toString(16) + " ";\n    else if (code === 34 || code === 92)\n      result += "\\\\" + string[i];\n    else\n      result += string[i];\n  }\n  return result;\n}\n\n// packages/playwright-core/src/utils/isomorphic/cssParser.ts\nvar InvalidSelectorError = class extends Error {\n};\nfunction parseCSS(selector, customNames) {\n  let tokens;\n  try {\n    tokens = tokenize(selector);\n    if (!(tokens[tokens.length - 1] instanceof EOFToken))\n      tokens.push(new EOFToken());\n  } catch (e) {\n    const newMessage = e.message + ` while parsing css selector "${selector}". Did you mean to CSS.escape it?`;\n    const index = (e.stack || "").indexOf(e.message);\n    if (index !== -1)\n      e.stack = e.stack.substring(0, index) + newMessage + e.stack.substring(index + e.message.length);\n    e.message = newMessage;\n    throw e;\n  }\n  const unsupportedToken = tokens.find((token) => {\n    return token instanceof AtKeywordToken || token instanceof BadStringToken || token instanceof BadURLToken || token instanceof ColumnToken || token instanceof CDOToken || token instanceof CDCToken || token instanceof SemicolonToken || // TODO: Consider using these for something, e.g. to escape complex strings.\n    // For example :xpath{ (//div/bar[@attr="foo"])[2]/baz }\n    // Or this way :xpath( {complex-xpath-goes-here("hello")} )\n    token instanceof OpenCurlyToken || token instanceof CloseCurlyToken || // TODO: Consider treating these as strings?\n    token instanceof URLToken || token instanceof PercentageToken;\n  });\n  if (unsupportedToken)\n    throw new InvalidSelectorError(`Unsupported token "${unsupportedToken.toSource()}" while parsing css selector "${selector}". Did you mean to CSS.escape it?`);\n  let pos = 0;\n  const names = /* @__PURE__ */ new Set();\n  function unexpected() {\n    return new InvalidSelectorError(`Unexpected token "${tokens[pos].toSource()}" while parsing css selector "${selector}". Did you mean to CSS.escape it?`);\n  }\n  function skipWhitespace() {\n    while (tokens[pos] instanceof WhitespaceToken)\n      pos++;\n  }\n  function isIdent(p = pos) {\n    return tokens[p] instanceof IdentToken;\n  }\n  function isString(p = pos) {\n    return tokens[p] instanceof StringToken;\n  }\n  function isNumber(p = pos) {\n    return tokens[p] instanceof NumberToken;\n  }\n  function isComma(p = pos) {\n    return tokens[p] instanceof CommaToken;\n  }\n  function isOpenParen(p = pos) {\n    return tokens[p] instanceof OpenParenToken;\n  }\n  function isCloseParen(p = pos) {\n    return tokens[p] instanceof CloseParenToken;\n  }\n  function isFunction(p = pos) {\n    return tokens[p] instanceof FunctionToken;\n  }\n  function isStar(p = pos) {\n    return tokens[p] instanceof DelimToken && tokens[p].value === "*";\n  }\n  function isEOF(p = pos) {\n    return tokens[p] instanceof EOFToken;\n  }\n  function isClauseCombinator(p = pos) {\n    return tokens[p] instanceof DelimToken && [">", "+", "~"].includes(tokens[p].value);\n  }\n  function isSelectorClauseEnd(p = pos) {\n    return isComma(p) || isCloseParen(p) || isEOF(p) || isClauseCombinator(p) || tokens[p] instanceof WhitespaceToken;\n  }\n  function consumeFunctionArguments() {\n    const result2 = [consumeArgument()];\n    while (true) {\n      skipWhitespace();\n      if (!isComma())\n        break;\n      pos++;\n      result2.push(consumeArgument());\n    }\n    return result2;\n  }\n  function consumeArgument() {\n    skipWhitespace();\n    if (isNumber())\n      return tokens[pos++].value;\n    if (isString())\n      return tokens[pos++].value;\n    return consumeComplexSelector();\n  }\n  function consumeComplexSelector() {\n    const result2 = { simples: [] };\n    skipWhitespace();\n    if (isClauseCombinator()) {\n      result2.simples.push({ selector: { functions: [{ name: "scope", args: [] }] }, combinator: "" });\n    } else {\n      result2.simples.push({ selector: consumeSimpleSelector(), combinator: "" });\n    }\n    while (true) {\n      skipWhitespace();\n      if (isClauseCombinator()) {\n        result2.simples[result2.simples.length - 1].combinator = tokens[pos++].value;\n        skipWhitespace();\n      } else if (isSelectorClauseEnd()) {\n        break;\n      }\n      result2.simples.push({ combinator: "", selector: consumeSimpleSelector() });\n    }\n    return result2;\n  }\n  function consumeSimpleSelector() {\n    let rawCSSString = "";\n    const functions = [];\n    while (!isSelectorClauseEnd()) {\n      if (isIdent() || isStar()) {\n        rawCSSString += tokens[pos++].toSource();\n      } else if (tokens[pos] instanceof HashToken) {\n        rawCSSString += tokens[pos++].toSource();\n      } else if (tokens[pos] instanceof DelimToken && tokens[pos].value === ".") {\n        pos++;\n        if (isIdent())\n          rawCSSString += "." + tokens[pos++].toSource();\n        else\n          throw unexpected();\n      } else if (tokens[pos] instanceof ColonToken) {\n        pos++;\n        if (isIdent()) {\n          if (!customNames.has(tokens[pos].value.toLowerCase())) {\n            rawCSSString += ":" + tokens[pos++].toSource();\n          } else {\n            const name = tokens[pos++].value.toLowerCase();\n            functions.push({ name, args: [] });\n            names.add(name);\n          }\n        } else if (isFunction()) {\n          const name = tokens[pos++].value.toLowerCase();\n          if (!customNames.has(name)) {\n            rawCSSString += `:${name}(${consumeBuiltinFunctionArguments()})`;\n          } else {\n            functions.push({ name, args: consumeFunctionArguments() });\n            names.add(name);\n          }\n          skipWhitespace();\n          if (!isCloseParen())\n            throw unexpected();\n          pos++;\n        } else {\n          throw unexpected();\n        }\n      } else if (tokens[pos] instanceof OpenSquareToken) {\n        rawCSSString += "[";\n        pos++;\n        while (!(tokens[pos] instanceof CloseSquareToken) && !isEOF())\n          rawCSSString += tokens[pos++].toSource();\n        if (!(tokens[pos] instanceof CloseSquareToken))\n          throw unexpected();\n        rawCSSString += "]";\n        pos++;\n      } else {\n        throw unexpected();\n      }\n    }\n    if (!rawCSSString && !functions.length)\n      throw unexpected();\n    return { css: rawCSSString || void 0, functions };\n  }\n  function consumeBuiltinFunctionArguments() {\n    let s = "";\n    let balance = 1;\n    while (!isEOF()) {\n      if (isOpenParen() || isFunction())\n        balance++;\n      if (isCloseParen())\n        balance--;\n      if (!balance)\n        break;\n      s += tokens[pos++].toSource();\n    }\n    return s;\n  }\n  const result = consumeFunctionArguments();\n  if (!isEOF())\n    throw unexpected();\n  if (result.some((arg) => typeof arg !== "object" || !("simples" in arg)))\n    throw new InvalidSelectorError(`Error while parsing css selector "${selector}". Did you mean to CSS.escape it?`);\n  return { selector: result, names: Array.from(names) };\n}\n\n// packages/playwright-core/src/utils/isomorphic/selectorParser.ts\nvar kNestedSelectorNames = /* @__PURE__ */ new Set(["internal:has", "internal:has-not", "internal:and", "internal:or", "internal:chain", "left-of", "right-of", "above", "below", "near"]);\nvar kNestedSelectorNamesWithDistance = /* @__PURE__ */ new Set(["left-of", "right-of", "above", "below", "near"]);\nvar customCSSNames = /* @__PURE__ */ new Set(["not", "is", "where", "has", "scope", "light", "visible", "text", "text-matches", "text-is", "has-text", "above", "below", "right-of", "left-of", "near", "nth-match"]);\nfunction parseSelector(selector) {\n  const parsedStrings = parseSelectorString(selector);\n  const parts = [];\n  for (const part of parsedStrings.parts) {\n    if (part.name === "css" || part.name === "css:light") {\n      if (part.name === "css:light")\n        part.body = ":light(" + part.body + ")";\n      const parsedCSS = parseCSS(part.body, customCSSNames);\n      parts.push({\n        name: "css",\n        body: parsedCSS.selector,\n        source: part.body\n      });\n      continue;\n    }\n    if (kNestedSelectorNames.has(part.name)) {\n      let innerSelector;\n      let distance;\n      try {\n        const unescaped = JSON.parse("[" + part.body + "]");\n        if (!Array.isArray(unescaped) || unescaped.length < 1 || unescaped.length > 2 || typeof unescaped[0] !== "string")\n          throw new InvalidSelectorError(`Malformed selector: ${part.name}=` + part.body);\n        innerSelector = unescaped[0];\n        if (unescaped.length === 2) {\n          if (typeof unescaped[1] !== "number" || !kNestedSelectorNamesWithDistance.has(part.name))\n            throw new InvalidSelectorError(`Malformed selector: ${part.name}=` + part.body);\n          distance = unescaped[1];\n        }\n      } catch (e) {\n        throw new InvalidSelectorError(`Malformed selector: ${part.name}=` + part.body);\n      }\n      const nested = { name: part.name, source: part.body, body: { parsed: parseSelector(innerSelector), distance } };\n      const lastFrame = [...nested.body.parsed.parts].reverse().find((part2) => part2.name === "internal:control" && part2.body === "enter-frame");\n      const lastFrameIndex = lastFrame ? nested.body.parsed.parts.indexOf(lastFrame) : -1;\n      if (lastFrameIndex !== -1 && selectorPartsEqual(nested.body.parsed.parts.slice(0, lastFrameIndex + 1), parts.slice(0, lastFrameIndex + 1)))\n        nested.body.parsed.parts.splice(0, lastFrameIndex + 1);\n      parts.push(nested);\n      continue;\n    }\n    parts.push({ ...part, source: part.body });\n  }\n  if (kNestedSelectorNames.has(parts[0].name))\n    throw new InvalidSelectorError(`"${parts[0].name}" selector cannot be first`);\n  return {\n    capture: parsedStrings.capture,\n    parts\n  };\n}\nfunction selectorPartsEqual(list1, list2) {\n  return stringifySelector({ parts: list1 }) === stringifySelector({ parts: list2 });\n}\nfunction stringifySelector(selector, forceEngineName) {\n  if (typeof selector === "string")\n    return selector;\n  return selector.parts.map((p, i) => {\n    let includeEngine = true;\n    if (!forceEngineName && i !== selector.capture) {\n      if (p.name === "css")\n        includeEngine = false;\n      else if (p.name === "xpath" && p.source.startsWith("//") || p.source.startsWith(".."))\n        includeEngine = false;\n    }\n    const prefix = includeEngine ? p.name + "=" : "";\n    return `${i === selector.capture ? "*" : ""}${prefix}${p.source}`;\n  }).join(" >> ");\n}\nfunction visitAllSelectorParts(selector, visitor) {\n  const visit = (selector2, nested) => {\n    for (const part of selector2.parts) {\n      visitor(part, nested);\n      if (kNestedSelectorNames.has(part.name))\n        visit(part.body.parsed, true);\n    }\n  };\n  visit(selector, false);\n}\nfunction parseSelectorString(selector) {\n  let index = 0;\n  let quote;\n  let start = 0;\n  const result = { parts: [] };\n  const append = () => {\n    const part = selector.substring(start, index).trim();\n    const eqIndex = part.indexOf("=");\n    let name;\n    let body;\n    if (eqIndex !== -1 && part.substring(0, eqIndex).trim().match(/^[a-zA-Z_0-9-+:*]+$/)) {\n      name = part.substring(0, eqIndex).trim();\n      body = part.substring(eqIndex + 1);\n    } else if (part.length > 1 && part[0] === \'"\' && part[part.length - 1] === \'"\') {\n      name = "text";\n      body = part;\n    } else if (part.length > 1 && part[0] === "\'" && part[part.length - 1] === "\'") {\n      name = "text";\n      body = part;\n    } else if (/^\\(*\\/\\//.test(part) || part.startsWith("..")) {\n      name = "xpath";\n      body = part;\n    } else {\n      name = "css";\n      body = part;\n    }\n    let capture = false;\n    if (name[0] === "*") {\n      capture = true;\n      name = name.substring(1);\n    }\n    result.parts.push({ name, body });\n    if (capture) {\n      if (result.capture !== void 0)\n        throw new InvalidSelectorError(`Only one of the selectors can capture using * modifier`);\n      result.capture = result.parts.length - 1;\n    }\n  };\n  if (!selector.includes(">>")) {\n    index = selector.length;\n    append();\n    return result;\n  }\n  const shouldIgnoreTextSelectorQuote = () => {\n    const prefix = selector.substring(start, index);\n    const match = prefix.match(/^\\s*text\\s*=(.*)$/);\n    return !!match && !!match[1];\n  };\n  while (index < selector.length) {\n    const c = selector[index];\n    if (c === "\\\\" && index + 1 < selector.length) {\n      index += 2;\n    } else if (c === quote) {\n      quote = void 0;\n      index++;\n    } else if (!quote && (c === \'"\' || c === "\'" || c === "`") && !shouldIgnoreTextSelectorQuote()) {\n      quote = c;\n      index++;\n    } else if (!quote && c === ">" && selector[index + 1] === ">") {\n      append();\n      index += 2;\n      start = index;\n    } else {\n      index++;\n    }\n  }\n  append();\n  return result;\n}\nfunction parseAttributeSelector(selector, allowUnquotedStrings) {\n  let wp = 0;\n  let EOL = selector.length === 0;\n  const next = () => selector[wp] || "";\n  const eat1 = () => {\n    const result2 = next();\n    ++wp;\n    EOL = wp >= selector.length;\n    return result2;\n  };\n  const syntaxError = (stage) => {\n    if (EOL)\n      throw new InvalidSelectorError(`Unexpected end of selector while parsing selector \\`${selector}\\``);\n    throw new InvalidSelectorError(`Error while parsing selector \\`${selector}\\` - unexpected symbol "${next()}" at position ${wp}` + (stage ? " during " + stage : ""));\n  };\n  function skipSpaces() {\n    while (!EOL && /\\s/.test(next()))\n      eat1();\n  }\n  function isCSSNameChar(char) {\n    return char >= "\\x80" || char >= "0" && char <= "9" || char >= "A" && char <= "Z" || char >= "a" && char <= "z" || char >= "0" && char <= "9" || char === "_" || char === "-";\n  }\n  function readIdentifier() {\n    let result2 = "";\n    skipSpaces();\n    while (!EOL && isCSSNameChar(next()))\n      result2 += eat1();\n    return result2;\n  }\n  function readQuotedString(quote) {\n    let result2 = eat1();\n    if (result2 !== quote)\n      syntaxError("parsing quoted string");\n    while (!EOL && next() !== quote) {\n      if (next() === "\\\\")\n        eat1();\n      result2 += eat1();\n    }\n    if (next() !== quote)\n      syntaxError("parsing quoted string");\n    result2 += eat1();\n    return result2;\n  }\n  function readRegularExpression() {\n    if (eat1() !== "/")\n      syntaxError("parsing regular expression");\n    let source = "";\n    let inClass = false;\n    while (!EOL) {\n      if (next() === "\\\\") {\n        source += eat1();\n        if (EOL)\n          syntaxError("parsing regular expression");\n      } else if (inClass && next() === "]") {\n        inClass = false;\n      } else if (!inClass && next() === "[") {\n        inClass = true;\n      } else if (!inClass && next() === "/") {\n        break;\n      }\n      source += eat1();\n    }\n    if (eat1() !== "/")\n      syntaxError("parsing regular expression");\n    let flags = "";\n    while (!EOL && next().match(/[dgimsuy]/))\n      flags += eat1();\n    try {\n      return new RegExp(source, flags);\n    } catch (e) {\n      throw new InvalidSelectorError(`Error while parsing selector \\`${selector}\\`: ${e.message}`);\n    }\n  }\n  function readAttributeToken() {\n    let token = "";\n    skipSpaces();\n    if (next() === `\'` || next() === `"`)\n      token = readQuotedString(next()).slice(1, -1);\n    else\n      token = readIdentifier();\n    if (!token)\n      syntaxError("parsing property path");\n    return token;\n  }\n  function readOperator() {\n    skipSpaces();\n    let op = "";\n    if (!EOL)\n      op += eat1();\n    if (!EOL && op !== "=")\n      op += eat1();\n    if (!["=", "*=", "^=", "$=", "|=", "~="].includes(op))\n      syntaxError("parsing operator");\n    return op;\n  }\n  function readAttribute() {\n    eat1();\n    const jsonPath = [];\n    jsonPath.push(readAttributeToken());\n    skipSpaces();\n    while (next() === ".") {\n      eat1();\n      jsonPath.push(readAttributeToken());\n      skipSpaces();\n    }\n    if (next() === "]") {\n      eat1();\n      return { name: jsonPath.join("."), jsonPath, op: "<truthy>", value: null, caseSensitive: false };\n    }\n    const operator = readOperator();\n    let value = void 0;\n    let caseSensitive = true;\n    skipSpaces();\n    if (next() === "/") {\n      if (operator !== "=")\n        throw new InvalidSelectorError(`Error while parsing selector \\`${selector}\\` - cannot use ${operator} in attribute with regular expression`);\n      value = readRegularExpression();\n    } else if (next() === `\'` || next() === `"`) {\n      value = readQuotedString(next()).slice(1, -1);\n      skipSpaces();\n      if (next() === "i" || next() === "I") {\n        caseSensitive = false;\n        eat1();\n      } else if (next() === "s" || next() === "S") {\n        caseSensitive = true;\n        eat1();\n      }\n    } else {\n      value = "";\n      while (!EOL && (isCSSNameChar(next()) || next() === "+" || next() === "."))\n        value += eat1();\n      if (value === "true") {\n        value = true;\n      } else if (value === "false") {\n        value = false;\n      } else {\n        if (!allowUnquotedStrings) {\n          value = +value;\n          if (Number.isNaN(value))\n            syntaxError("parsing attribute value");\n        }\n      }\n    }\n    skipSpaces();\n    if (next() !== "]")\n      syntaxError("parsing attribute value");\n    eat1();\n    if (operator !== "=" && typeof value !== "string")\n      throw new InvalidSelectorError(`Error while parsing selector \\`${selector}\\` - cannot use ${operator} in attribute with non-string matching value - ${value}`);\n    return { name: jsonPath.join("."), jsonPath, op: operator, value, caseSensitive };\n  }\n  const result = {\n    name: "",\n    attributes: []\n  };\n  result.name = readIdentifier();\n  skipSpaces();\n  while (next() === "[") {\n    result.attributes.push(readAttribute());\n    skipSpaces();\n  }\n  if (!EOL)\n    syntaxError(void 0);\n  if (!result.name && !result.attributes.length)\n    throw new InvalidSelectorError(`Error while parsing selector \\`${selector}\\` - selector cannot be empty`);\n  return result;\n}\n\n// packages/playwright-core/src/utils/isomorphic/stringUtils.ts\nfunction escapeWithQuotes(text, char = "\'") {\n  const stringified = JSON.stringify(text);\n  const escapedText = stringified.substring(1, stringified.length - 1).replace(/\\\\"/g, \'"\');\n  if (char === "\'")\n    return char + escapedText.replace(/[\']/g, "\\\\\'") + char;\n  if (char === \'"\')\n    return char + escapedText.replace(/["]/g, \'\\\\"\') + char;\n  if (char === "`")\n    return char + escapedText.replace(/[`]/g, "\\\\`") + char;\n  throw new Error("Invalid escape char");\n}\nfunction toTitleCase(name) {\n  return name.charAt(0).toUpperCase() + name.substring(1);\n}\nfunction toSnakeCase(name) {\n  return name.replace(/([a-z0-9])([A-Z])/g, "$1_$2").replace(/([A-Z])([A-Z][a-z])/g, "$1_$2").toLowerCase();\n}\nfunction quoteCSSAttributeValue(text) {\n  return `"${text.replace(/["\\\\]/g, (char) => "\\\\" + char)}"`;\n}\nvar normalizedWhitespaceCache;\nfunction cacheNormalizedWhitespaces() {\n  normalizedWhitespaceCache = /* @__PURE__ */ new Map();\n}\nfunction normalizeWhiteSpace(text) {\n  let result = normalizedWhitespaceCache == null ? void 0 : normalizedWhitespaceCache.get(text);\n  if (result === void 0) {\n    result = text.replace(/[\\u200b\\u00ad]/g, "").trim().replace(/\\s+/g, " ");\n    normalizedWhitespaceCache == null ? void 0 : normalizedWhitespaceCache.set(text, result);\n  }\n  return result;\n}\nfunction normalizeEscapedRegexQuotes(source) {\n  return source.replace(/(^|[^\\\\])(\\\\\\\\)*\\\\([\'"`])/g, "$1$2$3");\n}\nfunction escapeRegexForSelector(re) {\n  if (re.unicode || re.unicodeSets)\n    return String(re);\n  return String(re).replace(/(^|[^\\\\])(\\\\\\\\)*(["\'`])/g, "$1$2\\\\$3").replace(/>>/g, "\\\\>\\\\>");\n}\nfunction escapeForTextSelector(text, exact) {\n  if (typeof text !== "string")\n    return escapeRegexForSelector(text);\n  return `${JSON.stringify(text)}${exact ? "s" : "i"}`;\n}\nfunction escapeForAttributeSelector(value, exact) {\n  if (typeof value !== "string")\n    return escapeRegexForSelector(value);\n  return `"${value.replace(/\\\\/g, "\\\\\\\\").replace(/["]/g, \'\\\\"\')}"${exact ? "s" : "i"}`;\n}\nfunction trimString(input, cap, suffix = "") {\n  if (input.length <= cap)\n    return input;\n  const chars = [...input];\n  if (chars.length > cap)\n    return chars.slice(0, cap - suffix.length).join("") + suffix;\n  return chars.join("");\n}\nfunction trimStringWithEllipsis(input, cap) {\n  return trimString(input, cap, "\\u2026");\n}\nfunction escapeRegExp(s) {\n  return s.replace(/[.*+?^${}()|[\\]\\\\]/g, "\\\\$&");\n}\nfunction longestCommonSubstring(s1, s2) {\n  const n = s1.length;\n  const m = s2.length;\n  let maxLen = 0;\n  let endingIndex = 0;\n  const dp = Array(n + 1).fill(null).map(() => Array(m + 1).fill(0));\n  for (let i = 1; i <= n; i++) {\n    for (let j = 1; j <= m; j++) {\n      if (s1[i - 1] === s2[j - 1]) {\n        dp[i][j] = dp[i - 1][j - 1] + 1;\n        if (dp[i][j] > maxLen) {\n          maxLen = dp[i][j];\n          endingIndex = i;\n        }\n      }\n    }\n  }\n  return s1.slice(endingIndex - maxLen, endingIndex);\n}\n\n// packages/playwright-core/src/utils/isomorphic/locatorGenerators.ts\nfunction asLocator(lang, selector, isFrameLocator = false) {\n  return asLocators(lang, selector, isFrameLocator, 1)[0];\n}\nfunction asLocators(lang, selector, isFrameLocator = false, maxOutputSize = 20, preferredQuote) {\n  try {\n    return innerAsLocators(new generators[lang](preferredQuote), parseSelector(selector), isFrameLocator, maxOutputSize);\n  } catch (e) {\n    return [selector];\n  }\n}\nfunction innerAsLocators(factory, parsed, isFrameLocator = false, maxOutputSize = 20) {\n  const parts = [...parsed.parts];\n  const tokens = [];\n  let nextBase = isFrameLocator ? "frame-locator" : "page";\n  for (let index = 0; index < parts.length; index++) {\n    const part = parts[index];\n    const base = nextBase;\n    nextBase = "locator";\n    if (part.name === "internal:describe")\n      continue;\n    if (part.name === "nth") {\n      if (part.body === "0")\n        tokens.push([factory.generateLocator(base, "first", ""), factory.generateLocator(base, "nth", "0")]);\n      else if (part.body === "-1")\n        tokens.push([factory.generateLocator(base, "last", ""), factory.generateLocator(base, "nth", "-1")]);\n      else\n        tokens.push([factory.generateLocator(base, "nth", part.body)]);\n      continue;\n    }\n    if (part.name === "visible") {\n      tokens.push([factory.generateLocator(base, "visible", part.body), factory.generateLocator(base, "default", `visible=${part.body}`)]);\n      continue;\n    }\n    if (part.name === "internal:text") {\n      const { exact, text } = detectExact(part.body);\n      tokens.push([factory.generateLocator(base, "text", text, { exact })]);\n      continue;\n    }\n    if (part.name === "internal:has-text") {\n      const { exact, text } = detectExact(part.body);\n      if (!exact) {\n        tokens.push([factory.generateLocator(base, "has-text", text, { exact })]);\n        continue;\n      }\n    }\n    if (part.name === "internal:has-not-text") {\n      const { exact, text } = detectExact(part.body);\n      if (!exact) {\n        tokens.push([factory.generateLocator(base, "has-not-text", text, { exact })]);\n        continue;\n      }\n    }\n    if (part.name === "internal:has") {\n      const inners = innerAsLocators(factory, part.body.parsed, false, maxOutputSize);\n      tokens.push(inners.map((inner) => factory.generateLocator(base, "has", inner)));\n      continue;\n    }\n    if (part.name === "internal:has-not") {\n      const inners = innerAsLocators(factory, part.body.parsed, false, maxOutputSize);\n      tokens.push(inners.map((inner) => factory.generateLocator(base, "hasNot", inner)));\n      continue;\n    }\n    if (part.name === "internal:and") {\n      const inners = innerAsLocators(factory, part.body.parsed, false, maxOutputSize);\n      tokens.push(inners.map((inner) => factory.generateLocator(base, "and", inner)));\n      continue;\n    }\n    if (part.name === "internal:or") {\n      const inners = innerAsLocators(factory, part.body.parsed, false, maxOutputSize);\n      tokens.push(inners.map((inner) => factory.generateLocator(base, "or", inner)));\n      continue;\n    }\n    if (part.name === "internal:chain") {\n      const inners = innerAsLocators(factory, part.body.parsed, false, maxOutputSize);\n      tokens.push(inners.map((inner) => factory.generateLocator(base, "chain", inner)));\n      continue;\n    }\n    if (part.name === "internal:label") {\n      const { exact, text } = detectExact(part.body);\n      tokens.push([factory.generateLocator(base, "label", text, { exact })]);\n      continue;\n    }\n    if (part.name === "internal:role") {\n      const attrSelector = parseAttributeSelector(part.body, true);\n      const options = { attrs: [] };\n      for (const attr of attrSelector.attributes) {\n        if (attr.name === "name") {\n          options.exact = attr.caseSensitive;\n          options.name = attr.value;\n        } else {\n          if (attr.name === "level" && typeof attr.value === "string")\n            attr.value = +attr.value;\n          options.attrs.push({ name: attr.name === "include-hidden" ? "includeHidden" : attr.name, value: attr.value });\n        }\n      }\n      tokens.push([factory.generateLocator(base, "role", attrSelector.name, options)]);\n      continue;\n    }\n    if (part.name === "internal:testid") {\n      const attrSelector = parseAttributeSelector(part.body, true);\n      const { value } = attrSelector.attributes[0];\n      tokens.push([factory.generateLocator(base, "test-id", value)]);\n      continue;\n    }\n    if (part.name === "internal:attr") {\n      const attrSelector = parseAttributeSelector(part.body, true);\n      const { name, value, caseSensitive } = attrSelector.attributes[0];\n      const text = value;\n      const exact = !!caseSensitive;\n      if (name === "placeholder") {\n        tokens.push([factory.generateLocator(base, "placeholder", text, { exact })]);\n        continue;\n      }\n      if (name === "alt") {\n        tokens.push([factory.generateLocator(base, "alt", text, { exact })]);\n        continue;\n      }\n      if (name === "title") {\n        tokens.push([factory.generateLocator(base, "title", text, { exact })]);\n        continue;\n      }\n    }\n    if (part.name === "internal:control" && part.body === "enter-frame") {\n      const lastTokens = tokens[tokens.length - 1];\n      const lastPart = parts[index - 1];\n      const transformed = lastTokens.map((token) => factory.chainLocators([token, factory.generateLocator(base, "frame", "")]));\n      if (["xpath", "css"].includes(lastPart.name)) {\n        transformed.push(\n          factory.generateLocator(base, "frame-locator", stringifySelector({ parts: [lastPart] })),\n          factory.generateLocator(base, "frame-locator", stringifySelector({ parts: [lastPart] }, true))\n        );\n      }\n      lastTokens.splice(0, lastTokens.length, ...transformed);\n      nextBase = "frame-locator";\n      continue;\n    }\n    const nextPart = parts[index + 1];\n    const selectorPart = stringifySelector({ parts: [part] });\n    const locatorPart = factory.generateLocator(base, "default", selectorPart);\n    if (nextPart && ["internal:has-text", "internal:has-not-text"].includes(nextPart.name)) {\n      const { exact, text } = detectExact(nextPart.body);\n      if (!exact) {\n        const nextLocatorPart = factory.generateLocator("locator", nextPart.name === "internal:has-text" ? "has-text" : "has-not-text", text, { exact });\n        const options = {};\n        if (nextPart.name === "internal:has-text")\n          options.hasText = text;\n        else\n          options.hasNotText = text;\n        const combinedPart = factory.generateLocator(base, "default", selectorPart, options);\n        tokens.push([factory.chainLocators([locatorPart, nextLocatorPart]), combinedPart]);\n        index++;\n        continue;\n      }\n    }\n    let locatorPartWithEngine;\n    if (["xpath", "css"].includes(part.name)) {\n      const selectorPart2 = stringifySelector(\n        { parts: [part] },\n        /* forceEngineName */\n        true\n      );\n      locatorPartWithEngine = factory.generateLocator(base, "default", selectorPart2);\n    }\n    tokens.push([locatorPart, locatorPartWithEngine].filter(Boolean));\n  }\n  return combineTokens(factory, tokens, maxOutputSize);\n}\nfunction combineTokens(factory, tokens, maxOutputSize) {\n  const currentTokens = tokens.map(() => "");\n  const result = [];\n  const visit = (index) => {\n    if (index === tokens.length) {\n      result.push(factory.chainLocators(currentTokens));\n      return result.length < maxOutputSize;\n    }\n    for (const taken of tokens[index]) {\n      currentTokens[index] = taken;\n      if (!visit(index + 1))\n        return false;\n    }\n    return true;\n  };\n  visit(0);\n  return result;\n}\nfunction detectExact(text) {\n  let exact = false;\n  const match = text.match(/^\\/(.*)\\/([igm]*)$/);\n  if (match)\n    return { text: new RegExp(match[1], match[2]) };\n  if (text.endsWith(\'"\')) {\n    text = JSON.parse(text);\n    exact = true;\n  } else if (text.endsWith(\'"s\')) {\n    text = JSON.parse(text.substring(0, text.length - 1));\n    exact = true;\n  } else if (text.endsWith(\'"i\')) {\n    text = JSON.parse(text.substring(0, text.length - 1));\n    exact = false;\n  }\n  return { exact, text };\n}\nvar JavaScriptLocatorFactory = class {\n  constructor(preferredQuote) {\n    this.preferredQuote = preferredQuote;\n  }\n  generateLocator(base, kind, body, options = {}) {\n    switch (kind) {\n      case "default":\n        if (options.hasText !== void 0)\n          return `locator(${this.quote(body)}, { hasText: ${this.toHasText(options.hasText)} })`;\n        if (options.hasNotText !== void 0)\n          return `locator(${this.quote(body)}, { hasNotText: ${this.toHasText(options.hasNotText)} })`;\n        return `locator(${this.quote(body)})`;\n      case "frame-locator":\n        return `frameLocator(${this.quote(body)})`;\n      case "frame":\n        return `contentFrame()`;\n      case "nth":\n        return `nth(${body})`;\n      case "first":\n        return `first()`;\n      case "last":\n        return `last()`;\n      case "visible":\n        return `filter({ visible: ${body === "true" ? "true" : "false"} })`;\n      case "role":\n        const attrs = [];\n        if (isRegExp(options.name)) {\n          attrs.push(`name: ${this.regexToSourceString(options.name)}`);\n        } else if (typeof options.name === "string") {\n          attrs.push(`name: ${this.quote(options.name)}`);\n          if (options.exact)\n            attrs.push(`exact: true`);\n        }\n        for (const { name, value } of options.attrs)\n          attrs.push(`${name}: ${typeof value === "string" ? this.quote(value) : value}`);\n        const attrString = attrs.length ? `, { ${attrs.join(", ")} }` : "";\n        return `getByRole(${this.quote(body)}${attrString})`;\n      case "has-text":\n        return `filter({ hasText: ${this.toHasText(body)} })`;\n      case "has-not-text":\n        return `filter({ hasNotText: ${this.toHasText(body)} })`;\n      case "has":\n        return `filter({ has: ${body} })`;\n      case "hasNot":\n        return `filter({ hasNot: ${body} })`;\n      case "and":\n        return `and(${body})`;\n      case "or":\n        return `or(${body})`;\n      case "chain":\n        return `locator(${body})`;\n      case "test-id":\n        return `getByTestId(${this.toTestIdValue(body)})`;\n      case "text":\n        return this.toCallWithExact("getByText", body, !!options.exact);\n      case "alt":\n        return this.toCallWithExact("getByAltText", body, !!options.exact);\n      case "placeholder":\n        return this.toCallWithExact("getByPlaceholder", body, !!options.exact);\n      case "label":\n        return this.toCallWithExact("getByLabel", body, !!options.exact);\n      case "title":\n        return this.toCallWithExact("getByTitle", body, !!options.exact);\n      default:\n        throw new Error("Unknown selector kind " + kind);\n    }\n  }\n  chainLocators(locators) {\n    return locators.join(".");\n  }\n  regexToSourceString(re) {\n    return normalizeEscapedRegexQuotes(String(re));\n  }\n  toCallWithExact(method, body, exact) {\n    if (isRegExp(body))\n      return `${method}(${this.regexToSourceString(body)})`;\n    return exact ? `${method}(${this.quote(body)}, { exact: true })` : `${method}(${this.quote(body)})`;\n  }\n  toHasText(body) {\n    if (isRegExp(body))\n      return this.regexToSourceString(body);\n    return this.quote(body);\n  }\n  toTestIdValue(value) {\n    if (isRegExp(value))\n      return this.regexToSourceString(value);\n    return this.quote(value);\n  }\n  quote(text) {\n    var _a;\n    return escapeWithQuotes(text, (_a = this.preferredQuote) != null ? _a : "\'");\n  }\n};\nvar PythonLocatorFactory = class {\n  generateLocator(base, kind, body, options = {}) {\n    switch (kind) {\n      case "default":\n        if (options.hasText !== void 0)\n          return `locator(${this.quote(body)}, has_text=${this.toHasText(options.hasText)})`;\n        if (options.hasNotText !== void 0)\n          return `locator(${this.quote(body)}, has_not_text=${this.toHasText(options.hasNotText)})`;\n        return `locator(${this.quote(body)})`;\n      case "frame-locator":\n        return `frame_locator(${this.quote(body)})`;\n      case "frame":\n        return `content_frame`;\n      case "nth":\n        return `nth(${body})`;\n      case "first":\n        return `first`;\n      case "last":\n        return `last`;\n      case "visible":\n        return `filter(visible=${body === "true" ? "True" : "False"})`;\n      case "role":\n        const attrs = [];\n        if (isRegExp(options.name)) {\n          attrs.push(`name=${this.regexToString(options.name)}`);\n        } else if (typeof options.name === "string") {\n          attrs.push(`name=${this.quote(options.name)}`);\n          if (options.exact)\n            attrs.push(`exact=True`);\n        }\n        for (const { name, value } of options.attrs) {\n          let valueString = typeof value === "string" ? this.quote(value) : value;\n          if (typeof value === "boolean")\n            valueString = value ? "True" : "False";\n          attrs.push(`${toSnakeCase(name)}=${valueString}`);\n        }\n        const attrString = attrs.length ? `, ${attrs.join(", ")}` : "";\n        return `get_by_role(${this.quote(body)}${attrString})`;\n      case "has-text":\n        return `filter(has_text=${this.toHasText(body)})`;\n      case "has-not-text":\n        return `filter(has_not_text=${this.toHasText(body)})`;\n      case "has":\n        return `filter(has=${body})`;\n      case "hasNot":\n        return `filter(has_not=${body})`;\n      case "and":\n        return `and_(${body})`;\n      case "or":\n        return `or_(${body})`;\n      case "chain":\n        return `locator(${body})`;\n      case "test-id":\n        return `get_by_test_id(${this.toTestIdValue(body)})`;\n      case "text":\n        return this.toCallWithExact("get_by_text", body, !!options.exact);\n      case "alt":\n        return this.toCallWithExact("get_by_alt_text", body, !!options.exact);\n      case "placeholder":\n        return this.toCallWithExact("get_by_placeholder", body, !!options.exact);\n      case "label":\n        return this.toCallWithExact("get_by_label", body, !!options.exact);\n      case "title":\n        return this.toCallWithExact("get_by_title", body, !!options.exact);\n      default:\n        throw new Error("Unknown selector kind " + kind);\n    }\n  }\n  chainLocators(locators) {\n    return locators.join(".");\n  }\n  regexToString(body) {\n    const suffix = body.flags.includes("i") ? ", re.IGNORECASE" : "";\n    return `re.compile(r"${normalizeEscapedRegexQuotes(body.source).replace(/\\\\\\//, "/").replace(/"/g, \'\\\\"\')}"${suffix})`;\n  }\n  toCallWithExact(method, body, exact) {\n    if (isRegExp(body))\n      return `${method}(${this.regexToString(body)})`;\n    if (exact)\n      return `${method}(${this.quote(body)}, exact=True)`;\n    return `${method}(${this.quote(body)})`;\n  }\n  toHasText(body) {\n    if (isRegExp(body))\n      return this.regexToString(body);\n    return `${this.quote(body)}`;\n  }\n  toTestIdValue(value) {\n    if (isRegExp(value))\n      return this.regexToString(value);\n    return this.quote(value);\n  }\n  quote(text) {\n    return escapeWithQuotes(text, \'"\');\n  }\n};\nvar JavaLocatorFactory = class {\n  generateLocator(base, kind, body, options = {}) {\n    let clazz;\n    switch (base) {\n      case "page":\n        clazz = "Page";\n        break;\n      case "frame-locator":\n        clazz = "FrameLocator";\n        break;\n      case "locator":\n        clazz = "Locator";\n        break;\n    }\n    switch (kind) {\n      case "default":\n        if (options.hasText !== void 0)\n          return `locator(${this.quote(body)}, new ${clazz}.LocatorOptions().setHasText(${this.toHasText(options.hasText)}))`;\n        if (options.hasNotText !== void 0)\n          return `locator(${this.quote(body)}, new ${clazz}.LocatorOptions().setHasNotText(${this.toHasText(options.hasNotText)}))`;\n        return `locator(${this.quote(body)})`;\n      case "frame-locator":\n        return `frameLocator(${this.quote(body)})`;\n      case "frame":\n        return `contentFrame()`;\n      case "nth":\n        return `nth(${body})`;\n      case "first":\n        return `first()`;\n      case "last":\n        return `last()`;\n      case "visible":\n        return `filter(new ${clazz}.FilterOptions().setVisible(${body === "true" ? "true" : "false"}))`;\n      case "role":\n        const attrs = [];\n        if (isRegExp(options.name)) {\n          attrs.push(`.setName(${this.regexToString(options.name)})`);\n        } else if (typeof options.name === "string") {\n          attrs.push(`.setName(${this.quote(options.name)})`);\n          if (options.exact)\n            attrs.push(`.setExact(true)`);\n        }\n        for (const { name, value } of options.attrs)\n          attrs.push(`.set${toTitleCase(name)}(${typeof value === "string" ? this.quote(value) : value})`);\n        const attrString = attrs.length ? `, new ${clazz}.GetByRoleOptions()${attrs.join("")}` : "";\n        return `getByRole(AriaRole.${toSnakeCase(body).toUpperCase()}${attrString})`;\n      case "has-text":\n        return `filter(new ${clazz}.FilterOptions().setHasText(${this.toHasText(body)}))`;\n      case "has-not-text":\n        return `filter(new ${clazz}.FilterOptions().setHasNotText(${this.toHasText(body)}))`;\n      case "has":\n        return `filter(new ${clazz}.FilterOptions().setHas(${body}))`;\n      case "hasNot":\n        return `filter(new ${clazz}.FilterOptions().setHasNot(${body}))`;\n      case "and":\n        return `and(${body})`;\n      case "or":\n        return `or(${body})`;\n      case "chain":\n        return `locator(${body})`;\n      case "test-id":\n        return `getByTestId(${this.toTestIdValue(body)})`;\n      case "text":\n        return this.toCallWithExact(clazz, "getByText", body, !!options.exact);\n      case "alt":\n        return this.toCallWithExact(clazz, "getByAltText", body, !!options.exact);\n      case "placeholder":\n        return this.toCallWithExact(clazz, "getByPlaceholder", body, !!options.exact);\n      case "label":\n        return this.toCallWithExact(clazz, "getByLabel", body, !!options.exact);\n      case "title":\n        return this.toCallWithExact(clazz, "getByTitle", body, !!options.exact);\n      default:\n        throw new Error("Unknown selector kind " + kind);\n    }\n  }\n  chainLocators(locators) {\n    return locators.join(".");\n  }\n  regexToString(body) {\n    const suffix = body.flags.includes("i") ? ", Pattern.CASE_INSENSITIVE" : "";\n    return `Pattern.compile(${this.quote(normalizeEscapedRegexQuotes(body.source))}${suffix})`;\n  }\n  toCallWithExact(clazz, method, body, exact) {\n    if (isRegExp(body))\n      return `${method}(${this.regexToString(body)})`;\n    if (exact)\n      return `${method}(${this.quote(body)}, new ${clazz}.${toTitleCase(method)}Options().setExact(true))`;\n    return `${method}(${this.quote(body)})`;\n  }\n  toHasText(body) {\n    if (isRegExp(body))\n      return this.regexToString(body);\n    return this.quote(body);\n  }\n  toTestIdValue(value) {\n    if (isRegExp(value))\n      return this.regexToString(value);\n    return this.quote(value);\n  }\n  quote(text) {\n    return escapeWithQuotes(text, \'"\');\n  }\n};\nvar CSharpLocatorFactory = class {\n  generateLocator(base, kind, body, options = {}) {\n    switch (kind) {\n      case "default":\n        if (options.hasText !== void 0)\n          return `Locator(${this.quote(body)}, new() { ${this.toHasText(options.hasText)} })`;\n        if (options.hasNotText !== void 0)\n          return `Locator(${this.quote(body)}, new() { ${this.toHasNotText(options.hasNotText)} })`;\n        return `Locator(${this.quote(body)})`;\n      case "frame-locator":\n        return `FrameLocator(${this.quote(body)})`;\n      case "frame":\n        return `ContentFrame`;\n      case "nth":\n        return `Nth(${body})`;\n      case "first":\n        return `First`;\n      case "last":\n        return `Last`;\n      case "visible":\n        return `Filter(new() { Visible = ${body === "true" ? "true" : "false"} })`;\n      case "role":\n        const attrs = [];\n        if (isRegExp(options.name)) {\n          attrs.push(`NameRegex = ${this.regexToString(options.name)}`);\n        } else if (typeof options.name === "string") {\n          attrs.push(`Name = ${this.quote(options.name)}`);\n          if (options.exact)\n            attrs.push(`Exact = true`);\n        }\n        for (const { name, value } of options.attrs)\n          attrs.push(`${toTitleCase(name)} = ${typeof value === "string" ? this.quote(value) : value}`);\n        const attrString = attrs.length ? `, new() { ${attrs.join(", ")} }` : "";\n        return `GetByRole(AriaRole.${toTitleCase(body)}${attrString})`;\n      case "has-text":\n        return `Filter(new() { ${this.toHasText(body)} })`;\n      case "has-not-text":\n        return `Filter(new() { ${this.toHasNotText(body)} })`;\n      case "has":\n        return `Filter(new() { Has = ${body} })`;\n      case "hasNot":\n        return `Filter(new() { HasNot = ${body} })`;\n      case "and":\n        return `And(${body})`;\n      case "or":\n        return `Or(${body})`;\n      case "chain":\n        return `Locator(${body})`;\n      case "test-id":\n        return `GetByTestId(${this.toTestIdValue(body)})`;\n      case "text":\n        return this.toCallWithExact("GetByText", body, !!options.exact);\n      case "alt":\n        return this.toCallWithExact("GetByAltText", body, !!options.exact);\n      case "placeholder":\n        return this.toCallWithExact("GetByPlaceholder", body, !!options.exact);\n      case "label":\n        return this.toCallWithExact("GetByLabel", body, !!options.exact);\n      case "title":\n        return this.toCallWithExact("GetByTitle", body, !!options.exact);\n      default:\n        throw new Error("Unknown selector kind " + kind);\n    }\n  }\n  chainLocators(locators) {\n    return locators.join(".");\n  }\n  regexToString(body) {\n    const suffix = body.flags.includes("i") ? ", RegexOptions.IgnoreCase" : "";\n    return `new Regex(${this.quote(normalizeEscapedRegexQuotes(body.source))}${suffix})`;\n  }\n  toCallWithExact(method, body, exact) {\n    if (isRegExp(body))\n      return `${method}(${this.regexToString(body)})`;\n    if (exact)\n      return `${method}(${this.quote(body)}, new() { Exact = true })`;\n    return `${method}(${this.quote(body)})`;\n  }\n  toHasText(body) {\n    if (isRegExp(body))\n      return `HasTextRegex = ${this.regexToString(body)}`;\n    return `HasText = ${this.quote(body)}`;\n  }\n  toTestIdValue(value) {\n    if (isRegExp(value))\n      return this.regexToString(value);\n    return this.quote(value);\n  }\n  toHasNotText(body) {\n    if (isRegExp(body))\n      return `HasNotTextRegex = ${this.regexToString(body)}`;\n    return `HasNotText = ${this.quote(body)}`;\n  }\n  quote(text) {\n    return escapeWithQuotes(text, \'"\');\n  }\n};\nvar JsonlLocatorFactory = class {\n  generateLocator(base, kind, body, options = {}) {\n    return JSON.stringify({\n      kind,\n      body,\n      options\n    });\n  }\n  chainLocators(locators) {\n    const objects = locators.map((l) => JSON.parse(l));\n    for (let i = 0; i < objects.length - 1; ++i)\n      objects[i].next = objects[i + 1];\n    return JSON.stringify(objects[0]);\n  }\n};\nvar generators = {\n  javascript: JavaScriptLocatorFactory,\n  python: PythonLocatorFactory,\n  java: JavaLocatorFactory,\n  csharp: CSharpLocatorFactory,\n  jsonl: JsonlLocatorFactory\n};\nfunction isRegExp(obj) {\n  return obj instanceof RegExp;\n}\n\n// packages/injected/src/domUtils.ts\nvar globalOptions = {};\nfunction setGlobalOptions(options) {\n  globalOptions = options;\n}\nfunction isInsideScope(scope, element) {\n  while (element) {\n    if (scope.contains(element))\n      return true;\n    element = enclosingShadowHost(element);\n  }\n  return false;\n}\nfunction parentElementOrShadowHost(element) {\n  if (element.parentElement)\n    return element.parentElement;\n  if (!element.parentNode)\n    return;\n  if (element.parentNode.nodeType === 11 && element.parentNode.host)\n    return element.parentNode.host;\n}\nfunction enclosingShadowRootOrDocument(element) {\n  let node = element;\n  while (node.parentNode)\n    node = node.parentNode;\n  if (node.nodeType === 11 || node.nodeType === 9)\n    return node;\n}\nfunction enclosingShadowHost(element) {\n  while (element.parentElement)\n    element = element.parentElement;\n  return parentElementOrShadowHost(element);\n}\nfunction closestCrossShadow(element, css, scope) {\n  while (element) {\n    const closest = element.closest(css);\n    if (scope && closest !== scope && (closest == null ? void 0 : closest.contains(scope)))\n      return;\n    if (closest)\n      return closest;\n    element = enclosingShadowHost(element);\n  }\n}\nfunction getElementComputedStyle(element, pseudo) {\n  const cache = pseudo === "::before" ? cacheStyleBefore : pseudo === "::after" ? cacheStyleAfter : cacheStyle;\n  if (cache && cache.has(element))\n    return cache.get(element);\n  const style = element.ownerDocument && element.ownerDocument.defaultView ? element.ownerDocument.defaultView.getComputedStyle(element, pseudo) : void 0;\n  cache == null ? void 0 : cache.set(element, style);\n  return style;\n}\nfunction isElementStyleVisibilityVisible(element, style) {\n  style = style != null ? style : getElementComputedStyle(element);\n  if (!style)\n    return true;\n  if (Element.prototype.checkVisibility && globalOptions.browserNameForWorkarounds !== "webkit") {\n    if (!element.checkVisibility())\n      return false;\n  } else {\n    const detailsOrSummary = element.closest("details,summary");\n    if (detailsOrSummary !== element && (detailsOrSummary == null ? void 0 : detailsOrSummary.nodeName) === "DETAILS" && !detailsOrSummary.open)\n      return false;\n  }\n  if (style.visibility !== "visible")\n    return false;\n  return true;\n}\nfunction computeBox(element) {\n  const style = getElementComputedStyle(element);\n  if (!style)\n    return { visible: true, inline: false };\n  if (style.display === "contents") {\n    for (let child = element.firstChild; child; child = child.nextSibling) {\n      if (child.nodeType === 1 && isElementVisible(child))\n        return { visible: true, inline: false, style };\n      if (child.nodeType === 3 && isVisibleTextNode(child))\n        return { visible: true, inline: true, style };\n    }\n    return { visible: false, inline: false, style };\n  }\n  if (!isElementStyleVisibilityVisible(element, style))\n    return { style, visible: false, inline: false };\n  const rect = element.getBoundingClientRect();\n  return { rect, style, visible: rect.width > 0 && rect.height > 0, inline: style.display === "inline" };\n}\nfunction isElementVisible(element) {\n  return computeBox(element).visible;\n}\nfunction isVisibleTextNode(node) {\n  const range = node.ownerDocument.createRange();\n  range.selectNode(node);\n  const rect = range.getBoundingClientRect();\n  return rect.width > 0 && rect.height > 0;\n}\nfunction elementSafeTagName(element) {\n  const tagName = element.tagName;\n  if (typeof tagName === "string")\n    return tagName.toUpperCase();\n  if (element instanceof HTMLFormElement)\n    return "FORM";\n  return element.tagName.toUpperCase();\n}\nvar cacheStyle;\nvar cacheStyleBefore;\nvar cacheStyleAfter;\nvar cachesCounter = 0;\nfunction beginDOMCaches() {\n  ++cachesCounter;\n  cacheStyle != null ? cacheStyle : cacheStyle = /* @__PURE__ */ new Map();\n  cacheStyleBefore != null ? cacheStyleBefore : cacheStyleBefore = /* @__PURE__ */ new Map();\n  cacheStyleAfter != null ? cacheStyleAfter : cacheStyleAfter = /* @__PURE__ */ new Map();\n}\nfunction endDOMCaches() {\n  if (!--cachesCounter) {\n    cacheStyle = void 0;\n    cacheStyleBefore = void 0;\n    cacheStyleAfter = void 0;\n  }\n}\n\n// packages/injected/src/roleUtils.ts\nfunction hasExplicitAccessibleName(e) {\n  return e.hasAttribute("aria-label") || e.hasAttribute("aria-labelledby");\n}\nvar kAncestorPreventingLandmark = "article:not([role]), aside:not([role]), main:not([role]), nav:not([role]), section:not([role]), [role=article], [role=complementary], [role=main], [role=navigation], [role=region]";\nvar kGlobalAriaAttributes = [\n  ["aria-atomic", void 0],\n  ["aria-busy", void 0],\n  ["aria-controls", void 0],\n  ["aria-current", void 0],\n  ["aria-describedby", void 0],\n  ["aria-details", void 0],\n  // Global use deprecated in ARIA 1.2\n  // [\'aria-disabled\', undefined],\n  ["aria-dropeffect", void 0],\n  // Global use deprecated in ARIA 1.2\n  // [\'aria-errormessage\', undefined],\n  ["aria-flowto", void 0],\n  ["aria-grabbed", void 0],\n  // Global use deprecated in ARIA 1.2\n  // [\'aria-haspopup\', undefined],\n  ["aria-hidden", void 0],\n  // Global use deprecated in ARIA 1.2\n  // [\'aria-invalid\', undefined],\n  ["aria-keyshortcuts", void 0],\n  ["aria-label", ["caption", "code", "deletion", "emphasis", "generic", "insertion", "paragraph", "presentation", "strong", "subscript", "superscript"]],\n  ["aria-labelledby", ["caption", "code", "deletion", "emphasis", "generic", "insertion", "paragraph", "presentation", "strong", "subscript", "superscript"]],\n  ["aria-live", void 0],\n  ["aria-owns", void 0],\n  ["aria-relevant", void 0],\n  ["aria-roledescription", ["generic"]]\n];\nfunction hasGlobalAriaAttribute(element, forRole) {\n  return kGlobalAriaAttributes.some(([attr, prohibited]) => {\n    return !(prohibited == null ? void 0 : prohibited.includes(forRole || "")) && element.hasAttribute(attr);\n  });\n}\nfunction hasTabIndex(element) {\n  return !Number.isNaN(Number(String(element.getAttribute("tabindex"))));\n}\nfunction isFocusable(element) {\n  return !isNativelyDisabled(element) && (isNativelyFocusable(element) || hasTabIndex(element));\n}\nfunction isNativelyFocusable(element) {\n  const tagName = elementSafeTagName(element);\n  if (["BUTTON", "DETAILS", "SELECT", "TEXTAREA"].includes(tagName))\n    return true;\n  if (tagName === "A" || tagName === "AREA")\n    return element.hasAttribute("href");\n  if (tagName === "INPUT")\n    return !element.hidden;\n  return false;\n}\nvar kImplicitRoleByTagName = {\n  "A": (e) => {\n    return e.hasAttribute("href") ? "link" : null;\n  },\n  "AREA": (e) => {\n    return e.hasAttribute("href") ? "link" : null;\n  },\n  "ARTICLE": () => "article",\n  "ASIDE": () => "complementary",\n  "BLOCKQUOTE": () => "blockquote",\n  "BUTTON": () => "button",\n  "CAPTION": () => "caption",\n  "CODE": () => "code",\n  "DATALIST": () => "listbox",\n  "DD": () => "definition",\n  "DEL": () => "deletion",\n  "DETAILS": () => "group",\n  "DFN": () => "term",\n  "DIALOG": () => "dialog",\n  "DT": () => "term",\n  "EM": () => "emphasis",\n  "FIELDSET": () => "group",\n  "FIGURE": () => "figure",\n  "FOOTER": (e) => closestCrossShadow(e, kAncestorPreventingLandmark) ? null : "contentinfo",\n  "FORM": (e) => hasExplicitAccessibleName(e) ? "form" : null,\n  "H1": () => "heading",\n  "H2": () => "heading",\n  "H3": () => "heading",\n  "H4": () => "heading",\n  "H5": () => "heading",\n  "H6": () => "heading",\n  "HEADER": (e) => closestCrossShadow(e, kAncestorPreventingLandmark) ? null : "banner",\n  "HR": () => "separator",\n  "HTML": () => "document",\n  "IMG": (e) => e.getAttribute("alt") === "" && !e.getAttribute("title") && !hasGlobalAriaAttribute(e) && !hasTabIndex(e) ? "presentation" : "img",\n  "INPUT": (e) => {\n    const type = e.type.toLowerCase();\n    if (type === "search")\n      return e.hasAttribute("list") ? "combobox" : "searchbox";\n    if (["email", "tel", "text", "url", ""].includes(type)) {\n      const list = getIdRefs(e, e.getAttribute("list"))[0];\n      return list && elementSafeTagName(list) === "DATALIST" ? "combobox" : "textbox";\n    }\n    if (type === "hidden")\n      return null;\n    if (type === "file")\n      return "button";\n    return inputTypeToRole[type] || "textbox";\n  },\n  "INS": () => "insertion",\n  "LI": () => "listitem",\n  "MAIN": () => "main",\n  "MARK": () => "mark",\n  "MATH": () => "math",\n  "MENU": () => "list",\n  "METER": () => "meter",\n  "NAV": () => "navigation",\n  "OL": () => "list",\n  "OPTGROUP": () => "group",\n  "OPTION": () => "option",\n  "OUTPUT": () => "status",\n  "P": () => "paragraph",\n  "PROGRESS": () => "progressbar",\n  "SEARCH": () => "search",\n  "SECTION": (e) => hasExplicitAccessibleName(e) ? "region" : null,\n  "SELECT": (e) => e.hasAttribute("multiple") || e.size > 1 ? "listbox" : "combobox",\n  "STRONG": () => "strong",\n  "SUB": () => "subscript",\n  "SUP": () => "superscript",\n  // For <svg> we default to Chrome behavior:\n  // - Chrome reports \'img\'.\n  // - Firefox reports \'diagram\' that is not in official ARIA spec yet.\n  // - Safari reports \'no role\', but still computes accessible name.\n  "SVG": () => "img",\n  "TABLE": () => "table",\n  "TBODY": () => "rowgroup",\n  "TD": (e) => {\n    const table = closestCrossShadow(e, "table");\n    const role = table ? getExplicitAriaRole(table) : "";\n    return role === "grid" || role === "treegrid" ? "gridcell" : "cell";\n  },\n  "TEXTAREA": () => "textbox",\n  "TFOOT": () => "rowgroup",\n  "TH": (e) => {\n    if (e.getAttribute("scope") === "col")\n      return "columnheader";\n    if (e.getAttribute("scope") === "row")\n      return "rowheader";\n    const table = closestCrossShadow(e, "table");\n    const role = table ? getExplicitAriaRole(table) : "";\n    return role === "grid" || role === "treegrid" ? "gridcell" : "cell";\n  },\n  "THEAD": () => "rowgroup",\n  "TIME": () => "time",\n  "TR": () => "row",\n  "UL": () => "list"\n};\nvar kPresentationInheritanceParents = {\n  "DD": ["DL", "DIV"],\n  "DIV": ["DL"],\n  "DT": ["DL", "DIV"],\n  "LI": ["OL", "UL"],\n  "TBODY": ["TABLE"],\n  "TD": ["TR"],\n  "TFOOT": ["TABLE"],\n  "TH": ["TR"],\n  "THEAD": ["TABLE"],\n  "TR": ["THEAD", "TBODY", "TFOOT", "TABLE"]\n};\nfunction getImplicitAriaRole(element) {\n  var _a;\n  const implicitRole = ((_a = kImplicitRoleByTagName[elementSafeTagName(element)]) == null ? void 0 : _a.call(kImplicitRoleByTagName, element)) || "";\n  if (!implicitRole)\n    return null;\n  let ancestor = element;\n  while (ancestor) {\n    const parent = parentElementOrShadowHost(ancestor);\n    const parents = kPresentationInheritanceParents[elementSafeTagName(ancestor)];\n    if (!parents || !parent || !parents.includes(elementSafeTagName(parent)))\n      break;\n    const parentExplicitRole = getExplicitAriaRole(parent);\n    if ((parentExplicitRole === "none" || parentExplicitRole === "presentation") && !hasPresentationConflictResolution(parent, parentExplicitRole))\n      return parentExplicitRole;\n    ancestor = parent;\n  }\n  return implicitRole;\n}\nvar validRoles = [\n  "alert",\n  "alertdialog",\n  "application",\n  "article",\n  "banner",\n  "blockquote",\n  "button",\n  "caption",\n  "cell",\n  "checkbox",\n  "code",\n  "columnheader",\n  "combobox",\n  "complementary",\n  "contentinfo",\n  "definition",\n  "deletion",\n  "dialog",\n  "directory",\n  "document",\n  "emphasis",\n  "feed",\n  "figure",\n  "form",\n  "generic",\n  "grid",\n  "gridcell",\n  "group",\n  "heading",\n  "img",\n  "insertion",\n  "link",\n  "list",\n  "listbox",\n  "listitem",\n  "log",\n  "main",\n  "mark",\n  "marquee",\n  "math",\n  "meter",\n  "menu",\n  "menubar",\n  "menuitem",\n  "menuitemcheckbox",\n  "menuitemradio",\n  "navigation",\n  "none",\n  "note",\n  "option",\n  "paragraph",\n  "presentation",\n  "progressbar",\n  "radio",\n  "radiogroup",\n  "region",\n  "row",\n  "rowgroup",\n  "rowheader",\n  "scrollbar",\n  "search",\n  "searchbox",\n  "separator",\n  "slider",\n  "spinbutton",\n  "status",\n  "strong",\n  "subscript",\n  "superscript",\n  "switch",\n  "tab",\n  "table",\n  "tablist",\n  "tabpanel",\n  "term",\n  "textbox",\n  "time",\n  "timer",\n  "toolbar",\n  "tooltip",\n  "tree",\n  "treegrid",\n  "treeitem"\n];\nfunction getExplicitAriaRole(element) {\n  const roles = (element.getAttribute("role") || "").split(" ").map((role) => role.trim());\n  return roles.find((role) => validRoles.includes(role)) || null;\n}\nfunction hasPresentationConflictResolution(element, role) {\n  return hasGlobalAriaAttribute(element, role) || isFocusable(element);\n}\nfunction getAriaRole(element) {\n  const explicitRole = getExplicitAriaRole(element);\n  if (!explicitRole)\n    return getImplicitAriaRole(element);\n  if (explicitRole === "none" || explicitRole === "presentation") {\n    const implicitRole = getImplicitAriaRole(element);\n    if (hasPresentationConflictResolution(element, implicitRole))\n      return implicitRole;\n  }\n  return explicitRole;\n}\nfunction getAriaBoolean(attr) {\n  return attr === null ? void 0 : attr.toLowerCase() === "true";\n}\nfunction isElementIgnoredForAria(element) {\n  return ["STYLE", "SCRIPT", "NOSCRIPT", "TEMPLATE"].includes(elementSafeTagName(element));\n}\nfunction isElementHiddenForAria(element) {\n  if (isElementIgnoredForAria(element))\n    return true;\n  const style = getElementComputedStyle(element);\n  const isSlot = element.nodeName === "SLOT";\n  if ((style == null ? void 0 : style.display) === "contents" && !isSlot) {\n    for (let child = element.firstChild; child; child = child.nextSibling) {\n      if (child.nodeType === 1 && !isElementHiddenForAria(child))\n        return false;\n      if (child.nodeType === 3 && isVisibleTextNode(child))\n        return false;\n    }\n    return true;\n  }\n  const isOptionInsideSelect = element.nodeName === "OPTION" && !!element.closest("select");\n  if (!isOptionInsideSelect && !isSlot && !isElementStyleVisibilityVisible(element, style))\n    return true;\n  return belongsToDisplayNoneOrAriaHiddenOrNonSlotted(element);\n}\nfunction belongsToDisplayNoneOrAriaHiddenOrNonSlotted(element) {\n  let hidden = cacheIsHidden == null ? void 0 : cacheIsHidden.get(element);\n  if (hidden === void 0) {\n    hidden = false;\n    if (element.parentElement && element.parentElement.shadowRoot && !element.assignedSlot)\n      hidden = true;\n    if (!hidden) {\n      const style = getElementComputedStyle(element);\n      hidden = !style || style.display === "none" || getAriaBoolean(element.getAttribute("aria-hidden")) === true;\n    }\n    if (!hidden) {\n      const parent = parentElementOrShadowHost(element);\n      if (parent)\n        hidden = belongsToDisplayNoneOrAriaHiddenOrNonSlotted(parent);\n    }\n    cacheIsHidden == null ? void 0 : cacheIsHidden.set(element, hidden);\n  }\n  return hidden;\n}\nfunction getIdRefs(element, ref) {\n  if (!ref)\n    return [];\n  const root = enclosingShadowRootOrDocument(element);\n  if (!root)\n    return [];\n  try {\n    const ids = ref.split(" ").filter((id) => !!id);\n    const result = [];\n    for (const id of ids) {\n      const firstElement = root.querySelector("#" + CSS.escape(id));\n      if (firstElement && !result.includes(firstElement))\n        result.push(firstElement);\n    }\n    return result;\n  } catch (e) {\n    return [];\n  }\n}\nfunction trimFlatString(s) {\n  return s.trim();\n}\nfunction asFlatString(s) {\n  return s.split("\\xA0").map((chunk) => chunk.replace(/\\r\\n/g, "\\n").replace(/[\\u200b\\u00ad]/g, "").replace(/\\s\\s*/g, " ")).join("\\xA0").trim();\n}\nfunction queryInAriaOwned(element, selector) {\n  const result = [...element.querySelectorAll(selector)];\n  for (const owned of getIdRefs(element, element.getAttribute("aria-owns"))) {\n    if (owned.matches(selector))\n      result.push(owned);\n    result.push(...owned.querySelectorAll(selector));\n  }\n  return result;\n}\nfunction getCSSContent(element, pseudo) {\n  const cache = pseudo === "::before" ? cachePseudoContentBefore : pseudo === "::after" ? cachePseudoContentAfter : cachePseudoContent;\n  if (cache == null ? void 0 : cache.has(element))\n    return cache == null ? void 0 : cache.get(element);\n  const style = getElementComputedStyle(element, pseudo);\n  let content;\n  if (style) {\n    const contentValue = style.content;\n    if (contentValue && contentValue !== "none" && contentValue !== "normal") {\n      if (style.display !== "none" && style.visibility !== "hidden") {\n        content = parseCSSContentPropertyAsString(element, contentValue, !!pseudo);\n      }\n    }\n  }\n  if (pseudo && content !== void 0) {\n    const display = (style == null ? void 0 : style.display) || "inline";\n    if (display !== "inline")\n      content = " " + content + " ";\n  }\n  if (cache)\n    cache.set(element, content);\n  return content;\n}\nfunction parseCSSContentPropertyAsString(element, content, isPseudo) {\n  if (!content || content === "none" || content === "normal") {\n    return;\n  }\n  try {\n    let tokens = tokenize(content).filter((token) => !(token instanceof WhitespaceToken));\n    const delimIndex = tokens.findIndex((token) => token instanceof DelimToken && token.value === "/");\n    if (delimIndex !== -1) {\n      tokens = tokens.slice(delimIndex + 1);\n    } else if (!isPseudo) {\n      return;\n    }\n    const accumulated = [];\n    let index = 0;\n    while (index < tokens.length) {\n      if (tokens[index] instanceof StringToken) {\n        accumulated.push(tokens[index].value);\n        index++;\n      } else if (index + 2 < tokens.length && tokens[index] instanceof FunctionToken && tokens[index].value === "attr" && tokens[index + 1] instanceof IdentToken && tokens[index + 2] instanceof CloseParenToken) {\n        const attrName = tokens[index + 1].value;\n        accumulated.push(element.getAttribute(attrName) || "");\n        index += 3;\n      } else {\n        return;\n      }\n    }\n    return accumulated.join("");\n  } catch {\n  }\n}\nfunction getAriaLabelledByElements(element) {\n  const ref = element.getAttribute("aria-labelledby");\n  if (ref === null)\n    return null;\n  const refs = getIdRefs(element, ref);\n  return refs.length ? refs : null;\n}\nfunction allowsNameFromContent(role, targetDescendant) {\n  const alwaysAllowsNameFromContent = ["button", "cell", "checkbox", "columnheader", "gridcell", "heading", "link", "menuitem", "menuitemcheckbox", "menuitemradio", "option", "radio", "row", "rowheader", "switch", "tab", "tooltip", "treeitem"].includes(role);\n  const descendantAllowsNameFromContent = targetDescendant && ["", "caption", "code", "contentinfo", "definition", "deletion", "emphasis", "insertion", "list", "listitem", "mark", "none", "paragraph", "presentation", "region", "row", "rowgroup", "section", "strong", "subscript", "superscript", "table", "term", "time"].includes(role);\n  return alwaysAllowsNameFromContent || descendantAllowsNameFromContent;\n}\nfunction getElementAccessibleName(element, includeHidden) {\n  const cache = includeHidden ? cacheAccessibleNameHidden : cacheAccessibleName;\n  let accessibleName = cache == null ? void 0 : cache.get(element);\n  if (accessibleName === void 0) {\n    accessibleName = "";\n    const elementProhibitsNaming = ["caption", "code", "definition", "deletion", "emphasis", "generic", "insertion", "mark", "paragraph", "presentation", "strong", "subscript", "suggestion", "superscript", "term", "time"].includes(getAriaRole(element) || "");\n    if (!elementProhibitsNaming) {\n      accessibleName = asFlatString(getTextAlternativeInternal(element, {\n        includeHidden,\n        visitedElements: /* @__PURE__ */ new Set(),\n        embeddedInTargetElement: "self"\n      }));\n    }\n    cache == null ? void 0 : cache.set(element, accessibleName);\n  }\n  return accessibleName;\n}\nfunction getElementAccessibleDescription(element, includeHidden) {\n  const cache = includeHidden ? cacheAccessibleDescriptionHidden : cacheAccessibleDescription;\n  let accessibleDescription = cache == null ? void 0 : cache.get(element);\n  if (accessibleDescription === void 0) {\n    accessibleDescription = "";\n    if (element.hasAttribute("aria-describedby")) {\n      const describedBy = getIdRefs(element, element.getAttribute("aria-describedby"));\n      accessibleDescription = asFlatString(describedBy.map((ref) => getTextAlternativeInternal(ref, {\n        includeHidden,\n        visitedElements: /* @__PURE__ */ new Set(),\n        embeddedInDescribedBy: { element: ref, hidden: isElementHiddenForAria(ref) }\n      })).join(" "));\n    } else if (element.hasAttribute("aria-description")) {\n      accessibleDescription = asFlatString(element.getAttribute("aria-description") || "");\n    } else {\n      accessibleDescription = asFlatString(element.getAttribute("title") || "");\n    }\n    cache == null ? void 0 : cache.set(element, accessibleDescription);\n  }\n  return accessibleDescription;\n}\nfunction getAriaInvalid(element) {\n  const ariaInvalid = element.getAttribute("aria-invalid");\n  if (!ariaInvalid || ariaInvalid.trim() === "" || ariaInvalid.toLocaleLowerCase() === "false")\n    return "false";\n  if (ariaInvalid === "true" || ariaInvalid === "grammar" || ariaInvalid === "spelling")\n    return ariaInvalid;\n  return "true";\n}\nfunction getValidityInvalid(element) {\n  if ("validity" in element) {\n    const validity = element.validity;\n    return (validity == null ? void 0 : validity.valid) === false;\n  }\n  return false;\n}\nfunction getElementAccessibleErrorMessage(element) {\n  const cache = cacheAccessibleErrorMessage;\n  let accessibleErrorMessage = cacheAccessibleErrorMessage == null ? void 0 : cacheAccessibleErrorMessage.get(element);\n  if (accessibleErrorMessage === void 0) {\n    accessibleErrorMessage = "";\n    const isAriaInvalid = getAriaInvalid(element) !== "false";\n    const isValidityInvalid = getValidityInvalid(element);\n    if (isAriaInvalid || isValidityInvalid) {\n      const errorMessageId = element.getAttribute("aria-errormessage");\n      const errorMessages = getIdRefs(element, errorMessageId);\n      const parts = errorMessages.map((errorMessage) => asFlatString(\n        getTextAlternativeInternal(errorMessage, {\n          visitedElements: /* @__PURE__ */ new Set(),\n          embeddedInDescribedBy: { element: errorMessage, hidden: isElementHiddenForAria(errorMessage) }\n        })\n      ));\n      accessibleErrorMessage = parts.join(" ").trim();\n    }\n    cache == null ? void 0 : cache.set(element, accessibleErrorMessage);\n  }\n  return accessibleErrorMessage;\n}\nfunction getTextAlternativeInternal(element, options) {\n  var _a, _b, _c, _d;\n  if (options.visitedElements.has(element))\n    return "";\n  const childOptions = {\n    ...options,\n    embeddedInTargetElement: options.embeddedInTargetElement === "self" ? "descendant" : options.embeddedInTargetElement\n  };\n  if (!options.includeHidden) {\n    const isEmbeddedInHiddenReferenceTraversal = !!((_a = options.embeddedInLabelledBy) == null ? void 0 : _a.hidden) || !!((_b = options.embeddedInDescribedBy) == null ? void 0 : _b.hidden) || !!((_c = options.embeddedInNativeTextAlternative) == null ? void 0 : _c.hidden) || !!((_d = options.embeddedInLabel) == null ? void 0 : _d.hidden);\n    if (isElementIgnoredForAria(element) || !isEmbeddedInHiddenReferenceTraversal && isElementHiddenForAria(element)) {\n      options.visitedElements.add(element);\n      return "";\n    }\n  }\n  const labelledBy = getAriaLabelledByElements(element);\n  if (!options.embeddedInLabelledBy) {\n    const accessibleName = (labelledBy || []).map((ref) => getTextAlternativeInternal(ref, {\n      ...options,\n      embeddedInLabelledBy: { element: ref, hidden: isElementHiddenForAria(ref) },\n      embeddedInDescribedBy: void 0,\n      embeddedInTargetElement: void 0,\n      embeddedInLabel: void 0,\n      embeddedInNativeTextAlternative: void 0\n    })).join(" ");\n    if (accessibleName)\n      return accessibleName;\n  }\n  const role = getAriaRole(element) || "";\n  const tagName = elementSafeTagName(element);\n  if (!!options.embeddedInLabel || !!options.embeddedInLabelledBy || options.embeddedInTargetElement === "descendant") {\n    const isOwnLabel = [...element.labels || []].includes(element);\n    const isOwnLabelledBy = (labelledBy || []).includes(element);\n    if (!isOwnLabel && !isOwnLabelledBy) {\n      if (role === "textbox") {\n        options.visitedElements.add(element);\n        if (tagName === "INPUT" || tagName === "TEXTAREA")\n          return element.value;\n        return element.textContent || "";\n      }\n      if (["combobox", "listbox"].includes(role)) {\n        options.visitedElements.add(element);\n        let selectedOptions;\n        if (tagName === "SELECT") {\n          selectedOptions = [...element.selectedOptions];\n          if (!selectedOptions.length && element.options.length)\n            selectedOptions.push(element.options[0]);\n        } else {\n          const listbox = role === "combobox" ? queryInAriaOwned(element, "*").find((e) => getAriaRole(e) === "listbox") : element;\n          selectedOptions = listbox ? queryInAriaOwned(listbox, \'[aria-selected="true"]\').filter((e) => getAriaRole(e) === "option") : [];\n        }\n        if (!selectedOptions.length && tagName === "INPUT") {\n          return element.value;\n        }\n        return selectedOptions.map((option) => getTextAlternativeInternal(option, childOptions)).join(" ");\n      }\n      if (["progressbar", "scrollbar", "slider", "spinbutton", "meter"].includes(role)) {\n        options.visitedElements.add(element);\n        if (element.hasAttribute("aria-valuetext"))\n          return element.getAttribute("aria-valuetext") || "";\n        if (element.hasAttribute("aria-valuenow"))\n          return element.getAttribute("aria-valuenow") || "";\n        return element.getAttribute("value") || "";\n      }\n      if (["menu"].includes(role)) {\n        options.visitedElements.add(element);\n        return "";\n      }\n    }\n  }\n  const ariaLabel = element.getAttribute("aria-label") || "";\n  if (trimFlatString(ariaLabel)) {\n    options.visitedElements.add(element);\n    return ariaLabel;\n  }\n  if (!["presentation", "none"].includes(role)) {\n    if (tagName === "INPUT" && ["button", "submit", "reset"].includes(element.type)) {\n      options.visitedElements.add(element);\n      const value = element.value || "";\n      if (trimFlatString(value))\n        return value;\n      if (element.type === "submit")\n        return "Submit";\n      if (element.type === "reset")\n        return "Reset";\n      const title = element.getAttribute("title") || "";\n      return title;\n    }\n    if (tagName === "INPUT" && element.type === "file") {\n      options.visitedElements.add(element);\n      const labels = element.labels || [];\n      if (labels.length && !options.embeddedInLabelledBy)\n        return getAccessibleNameFromAssociatedLabels(labels, options);\n      return "Choose File";\n    }\n    if (tagName === "INPUT" && element.type === "image") {\n      options.visitedElements.add(element);\n      const labels = element.labels || [];\n      if (labels.length && !options.embeddedInLabelledBy)\n        return getAccessibleNameFromAssociatedLabels(labels, options);\n      const alt = element.getAttribute("alt") || "";\n      if (trimFlatString(alt))\n        return alt;\n      const title = element.getAttribute("title") || "";\n      if (trimFlatString(title))\n        return title;\n      return "Submit";\n    }\n    if (!labelledBy && tagName === "BUTTON") {\n      options.visitedElements.add(element);\n      const labels = element.labels || [];\n      if (labels.length)\n        return getAccessibleNameFromAssociatedLabels(labels, options);\n    }\n    if (!labelledBy && tagName === "OUTPUT") {\n      options.visitedElements.add(element);\n      const labels = element.labels || [];\n      if (labels.length)\n        return getAccessibleNameFromAssociatedLabels(labels, options);\n      return element.getAttribute("title") || "";\n    }\n    if (!labelledBy && (tagName === "TEXTAREA" || tagName === "SELECT" || tagName === "INPUT")) {\n      options.visitedElements.add(element);\n      const labels = element.labels || [];\n      if (labels.length)\n        return getAccessibleNameFromAssociatedLabels(labels, options);\n      const usePlaceholder = tagName === "INPUT" && ["text", "password", "search", "tel", "email", "url"].includes(element.type) || tagName === "TEXTAREA";\n      const placeholder = element.getAttribute("placeholder") || "";\n      const title = element.getAttribute("title") || "";\n      if (!usePlaceholder || title)\n        return title;\n      return placeholder;\n    }\n    if (!labelledBy && tagName === "FIELDSET") {\n      options.visitedElements.add(element);\n      for (let child = element.firstElementChild; child; child = child.nextElementSibling) {\n        if (elementSafeTagName(child) === "LEGEND") {\n          return getTextAlternativeInternal(child, {\n            ...childOptions,\n            embeddedInNativeTextAlternative: { element: child, hidden: isElementHiddenForAria(child) }\n          });\n        }\n      }\n      const title = element.getAttribute("title") || "";\n      return title;\n    }\n    if (!labelledBy && tagName === "FIGURE") {\n      options.visitedElements.add(element);\n      for (let child = element.firstElementChild; child; child = child.nextElementSibling) {\n        if (elementSafeTagName(child) === "FIGCAPTION") {\n          return getTextAlternativeInternal(child, {\n            ...childOptions,\n            embeddedInNativeTextAlternative: { element: child, hidden: isElementHiddenForAria(child) }\n          });\n        }\n      }\n      const title = element.getAttribute("title") || "";\n      return title;\n    }\n    if (tagName === "IMG") {\n      options.visitedElements.add(element);\n      const alt = element.getAttribute("alt") || "";\n      if (trimFlatString(alt))\n        return alt;\n      const title = element.getAttribute("title") || "";\n      return title;\n    }\n    if (tagName === "TABLE") {\n      options.visitedElements.add(element);\n      for (let child = element.firstElementChild; child; child = child.nextElementSibling) {\n        if (elementSafeTagName(child) === "CAPTION") {\n          return getTextAlternativeInternal(child, {\n            ...childOptions,\n            embeddedInNativeTextAlternative: { element: child, hidden: isElementHiddenForAria(child) }\n          });\n        }\n      }\n      const summary = element.getAttribute("summary") || "";\n      if (summary)\n        return summary;\n    }\n    if (tagName === "AREA") {\n      options.visitedElements.add(element);\n      const alt = element.getAttribute("alt") || "";\n      if (trimFlatString(alt))\n        return alt;\n      const title = element.getAttribute("title") || "";\n      return title;\n    }\n    if (tagName === "SVG" || element.ownerSVGElement) {\n      options.visitedElements.add(element);\n      for (let child = element.firstElementChild; child; child = child.nextElementSibling) {\n        if (elementSafeTagName(child) === "TITLE" && child.ownerSVGElement) {\n          return getTextAlternativeInternal(child, {\n            ...childOptions,\n            embeddedInLabelledBy: { element: child, hidden: isElementHiddenForAria(child) }\n          });\n        }\n      }\n    }\n    if (element.ownerSVGElement && tagName === "A") {\n      const title = element.getAttribute("xlink:title") || "";\n      if (trimFlatString(title)) {\n        options.visitedElements.add(element);\n        return title;\n      }\n    }\n  }\n  const shouldNameFromContentForSummary = tagName === "SUMMARY" && !["presentation", "none"].includes(role);\n  if (allowsNameFromContent(role, options.embeddedInTargetElement === "descendant") || shouldNameFromContentForSummary || !!options.embeddedInLabelledBy || !!options.embeddedInDescribedBy || !!options.embeddedInLabel || !!options.embeddedInNativeTextAlternative) {\n    options.visitedElements.add(element);\n    const accessibleName = innerAccumulatedElementText(element, childOptions);\n    const maybeTrimmedAccessibleName = options.embeddedInTargetElement === "self" ? trimFlatString(accessibleName) : accessibleName;\n    if (maybeTrimmedAccessibleName)\n      return accessibleName;\n  }\n  if (!["presentation", "none"].includes(role) || tagName === "IFRAME") {\n    options.visitedElements.add(element);\n    const title = element.getAttribute("title") || "";\n    if (trimFlatString(title))\n      return title;\n  }\n  options.visitedElements.add(element);\n  return "";\n}\nfunction innerAccumulatedElementText(element, options) {\n  const tokens = [];\n  const visit = (node, skipSlotted) => {\n    var _a;\n    if (skipSlotted && node.assignedSlot)\n      return;\n    if (node.nodeType === 1) {\n      const display = ((_a = getElementComputedStyle(node)) == null ? void 0 : _a.display) || "inline";\n      let token = getTextAlternativeInternal(node, options);\n      if (display !== "inline" || node.nodeName === "BR")\n        token = " " + token + " ";\n      tokens.push(token);\n    } else if (node.nodeType === 3) {\n      tokens.push(node.textContent || "");\n    }\n  };\n  tokens.push(getCSSContent(element, "::before") || "");\n  const content = getCSSContent(element);\n  if (content !== void 0) {\n    tokens.push(content);\n  } else {\n    const assignedNodes = element.nodeName === "SLOT" ? element.assignedNodes() : [];\n    if (assignedNodes.length) {\n      for (const child of assignedNodes)\n        visit(child, false);\n    } else {\n      for (let child = element.firstChild; child; child = child.nextSibling)\n        visit(child, true);\n      if (element.shadowRoot) {\n        for (let child = element.shadowRoot.firstChild; child; child = child.nextSibling)\n          visit(child, true);\n      }\n      for (const owned of getIdRefs(element, element.getAttribute("aria-owns")))\n        visit(owned, true);\n    }\n  }\n  tokens.push(getCSSContent(element, "::after") || "");\n  return tokens.join("");\n}\nvar kAriaSelectedRoles = ["gridcell", "option", "row", "tab", "rowheader", "columnheader", "treeitem"];\nfunction getAriaSelected(element) {\n  if (elementSafeTagName(element) === "OPTION")\n    return element.selected;\n  if (kAriaSelectedRoles.includes(getAriaRole(element) || ""))\n    return getAriaBoolean(element.getAttribute("aria-selected")) === true;\n  return false;\n}\nvar kAriaCheckedRoles = ["checkbox", "menuitemcheckbox", "option", "radio", "switch", "menuitemradio", "treeitem"];\nfunction getAriaChecked(element) {\n  const result = getChecked(element, true);\n  return result === "error" ? false : result;\n}\nfunction getCheckedAllowMixed(element) {\n  return getChecked(element, true);\n}\nfunction getCheckedWithoutMixed(element) {\n  const result = getChecked(element, false);\n  return result;\n}\nfunction getChecked(element, allowMixed) {\n  const tagName = elementSafeTagName(element);\n  if (allowMixed && tagName === "INPUT" && element.indeterminate)\n    return "mixed";\n  if (tagName === "INPUT" && ["checkbox", "radio"].includes(element.type))\n    return element.checked;\n  if (kAriaCheckedRoles.includes(getAriaRole(element) || "")) {\n    const checked = element.getAttribute("aria-checked");\n    if (checked === "true")\n      return true;\n    if (allowMixed && checked === "mixed")\n      return "mixed";\n    return false;\n  }\n  return "error";\n}\nvar kAriaReadonlyRoles = ["checkbox", "combobox", "grid", "gridcell", "listbox", "radiogroup", "slider", "spinbutton", "textbox", "columnheader", "rowheader", "searchbox", "switch", "treegrid"];\nfunction getReadonly(element) {\n  const tagName = elementSafeTagName(element);\n  if (["INPUT", "TEXTAREA", "SELECT"].includes(tagName))\n    return element.hasAttribute("readonly");\n  if (kAriaReadonlyRoles.includes(getAriaRole(element) || ""))\n    return element.getAttribute("aria-readonly") === "true";\n  if (element.isContentEditable)\n    return false;\n  return "error";\n}\nvar kAriaPressedRoles = ["button"];\nfunction getAriaPressed(element) {\n  if (kAriaPressedRoles.includes(getAriaRole(element) || "")) {\n    const pressed = element.getAttribute("aria-pressed");\n    if (pressed === "true")\n      return true;\n    if (pressed === "mixed")\n      return "mixed";\n  }\n  return false;\n}\nvar kAriaExpandedRoles = ["application", "button", "checkbox", "combobox", "gridcell", "link", "listbox", "menuitem", "row", "rowheader", "tab", "treeitem", "columnheader", "menuitemcheckbox", "menuitemradio", "rowheader", "switch"];\nfunction getAriaExpanded(element) {\n  if (elementSafeTagName(element) === "DETAILS")\n    return element.open;\n  if (kAriaExpandedRoles.includes(getAriaRole(element) || "")) {\n    const expanded = element.getAttribute("aria-expanded");\n    if (expanded === null)\n      return void 0;\n    if (expanded === "true")\n      return true;\n    return false;\n  }\n  return void 0;\n}\nvar kAriaLevelRoles = ["heading", "listitem", "row", "treeitem"];\nfunction getAriaLevel(element) {\n  const native = { "H1": 1, "H2": 2, "H3": 3, "H4": 4, "H5": 5, "H6": 6 }[elementSafeTagName(element)];\n  if (native)\n    return native;\n  if (kAriaLevelRoles.includes(getAriaRole(element) || "")) {\n    const attr = element.getAttribute("aria-level");\n    const value = attr === null ? Number.NaN : Number(attr);\n    if (Number.isInteger(value) && value >= 1)\n      return value;\n  }\n  return 0;\n}\nvar kAriaDisabledRoles = ["application", "button", "composite", "gridcell", "group", "input", "link", "menuitem", "scrollbar", "separator", "tab", "checkbox", "columnheader", "combobox", "grid", "listbox", "menu", "menubar", "menuitemcheckbox", "menuitemradio", "option", "radio", "radiogroup", "row", "rowheader", "searchbox", "select", "slider", "spinbutton", "switch", "tablist", "textbox", "toolbar", "tree", "treegrid", "treeitem"];\nfunction getAriaDisabled(element) {\n  return isNativelyDisabled(element) || hasExplicitAriaDisabled(element);\n}\nfunction isNativelyDisabled(element) {\n  const isNativeFormControl = ["BUTTON", "INPUT", "SELECT", "TEXTAREA", "OPTION", "OPTGROUP"].includes(elementSafeTagName(element));\n  return isNativeFormControl && (element.hasAttribute("disabled") || belongsToDisabledOptGroup(element) || belongsToDisabledFieldSet(element));\n}\nfunction belongsToDisabledOptGroup(element) {\n  return elementSafeTagName(element) === "OPTION" && !!element.closest("OPTGROUP[DISABLED]");\n}\nfunction belongsToDisabledFieldSet(element) {\n  const fieldSetElement = element == null ? void 0 : element.closest("FIELDSET[DISABLED]");\n  if (!fieldSetElement)\n    return false;\n  const legendElement = fieldSetElement.querySelector(":scope > LEGEND");\n  return !legendElement || !legendElement.contains(element);\n}\nfunction hasExplicitAriaDisabled(element, isAncestor = false) {\n  if (!element)\n    return false;\n  if (isAncestor || kAriaDisabledRoles.includes(getAriaRole(element) || "")) {\n    const attribute = (element.getAttribute("aria-disabled") || "").toLowerCase();\n    if (attribute === "true")\n      return true;\n    if (attribute === "false")\n      return false;\n    return hasExplicitAriaDisabled(parentElementOrShadowHost(element), true);\n  }\n  return false;\n}\nfunction getAccessibleNameFromAssociatedLabels(labels, options) {\n  return [...labels].map((label) => getTextAlternativeInternal(label, {\n    ...options,\n    embeddedInLabel: { element: label, hidden: isElementHiddenForAria(label) },\n    embeddedInNativeTextAlternative: void 0,\n    embeddedInLabelledBy: void 0,\n    embeddedInDescribedBy: void 0,\n    embeddedInTargetElement: void 0\n  })).filter((accessibleName) => !!accessibleName).join(" ");\n}\nfunction receivesPointerEvents(element) {\n  const cache = cachePointerEvents;\n  let e = element;\n  let result;\n  const parents = [];\n  for (; e; e = parentElementOrShadowHost(e)) {\n    const cached = cache.get(e);\n    if (cached !== void 0) {\n      result = cached;\n      break;\n    }\n    parents.push(e);\n    const style = getElementComputedStyle(e);\n    if (!style) {\n      result = true;\n      break;\n    }\n    const value = style.pointerEvents;\n    if (value) {\n      result = value !== "none";\n      break;\n    }\n  }\n  if (result === void 0)\n    result = true;\n  for (const parent of parents)\n    cache.set(parent, result);\n  return result;\n}\nvar cacheAccessibleName;\nvar cacheAccessibleNameHidden;\nvar cacheAccessibleDescription;\nvar cacheAccessibleDescriptionHidden;\nvar cacheAccessibleErrorMessage;\nvar cacheIsHidden;\nvar cachePseudoContent;\nvar cachePseudoContentBefore;\nvar cachePseudoContentAfter;\nvar cachePointerEvents;\nvar cachesCounter2 = 0;\nfunction beginAriaCaches() {\n  beginDOMCaches();\n  ++cachesCounter2;\n  cacheAccessibleName != null ? cacheAccessibleName : cacheAccessibleName = /* @__PURE__ */ new Map();\n  cacheAccessibleNameHidden != null ? cacheAccessibleNameHidden : cacheAccessibleNameHidden = /* @__PURE__ */ new Map();\n  cacheAccessibleDescription != null ? cacheAccessibleDescription : cacheAccessibleDescription = /* @__PURE__ */ new Map();\n  cacheAccessibleDescriptionHidden != null ? cacheAccessibleDescriptionHidden : cacheAccessibleDescriptionHidden = /* @__PURE__ */ new Map();\n  cacheAccessibleErrorMessage != null ? cacheAccessibleErrorMessage : cacheAccessibleErrorMessage = /* @__PURE__ */ new Map();\n  cacheIsHidden != null ? cacheIsHidden : cacheIsHidden = /* @__PURE__ */ new Map();\n  cachePseudoContent != null ? cachePseudoContent : cachePseudoContent = /* @__PURE__ */ new Map();\n  cachePseudoContentBefore != null ? cachePseudoContentBefore : cachePseudoContentBefore = /* @__PURE__ */ new Map();\n  cachePseudoContentAfter != null ? cachePseudoContentAfter : cachePseudoContentAfter = /* @__PURE__ */ new Map();\n  cachePointerEvents != null ? cachePointerEvents : cachePointerEvents = /* @__PURE__ */ new Map();\n}\nfunction endAriaCaches() {\n  if (!--cachesCounter2) {\n    cacheAccessibleName = void 0;\n    cacheAccessibleNameHidden = void 0;\n    cacheAccessibleDescription = void 0;\n    cacheAccessibleDescriptionHidden = void 0;\n    cacheAccessibleErrorMessage = void 0;\n    cacheIsHidden = void 0;\n    cachePseudoContent = void 0;\n    cachePseudoContentBefore = void 0;\n    cachePseudoContentAfter = void 0;\n    cachePointerEvents = void 0;\n  }\n  endDOMCaches();\n}\nvar inputTypeToRole = {\n  "button": "button",\n  "checkbox": "checkbox",\n  "image": "button",\n  "number": "spinbutton",\n  "radio": "radio",\n  "range": "slider",\n  "reset": "button",\n  "submit": "button"\n};\n\n// packages/injected/src/yaml.ts\nfunction yamlEscapeKeyIfNeeded(str) {\n  if (!yamlStringNeedsQuotes(str))\n    return str;\n  return `\'` + str.replace(/\'/g, `\'\'`) + `\'`;\n}\nfunction yamlEscapeValueIfNeeded(str) {\n  if (!yamlStringNeedsQuotes(str))\n    return str;\n  return \'"\' + str.replace(/[\\\\"\\x00-\\x1f\\x7f-\\x9f]/g, (c) => {\n    switch (c) {\n      case "\\\\":\n        return "\\\\\\\\";\n      case \'"\':\n        return \'\\\\"\';\n      case "\\b":\n        return "\\\\b";\n      case "\\f":\n        return "\\\\f";\n      case "\\n":\n        return "\\\\n";\n      case "\\r":\n        return "\\\\r";\n      case "\t":\n        return "\\\\t";\n      default:\n        const code = c.charCodeAt(0);\n        return "\\\\x" + code.toString(16).padStart(2, "0");\n    }\n  }) + \'"\';\n}\nfunction yamlStringNeedsQuotes(str) {\n  if (str.length === 0)\n    return true;\n  if (/^\\s|\\s$/.test(str))\n    return true;\n  if (/[\\x00-\\x08\\x0b\\x0c\\x0e-\\x1f\\x7f-\\x9f]/.test(str))\n    return true;\n  if (/^-/.test(str))\n    return true;\n  if (/[\\n:](\\s|$)/.test(str))\n    return true;\n  if (/\\s#/.test(str))\n    return true;\n  if (/[\\n\\r]/.test(str))\n    return true;\n  if (/^[&*\\],?!>|@"\'#%]/.test(str))\n    return true;\n  if (/[{}`]/.test(str))\n    return true;\n  if (/^\\[/.test(str))\n    return true;\n  if (!isNaN(Number(str)) || ["y", "n", "yes", "no", "true", "false", "on", "off", "null"].includes(str.toLowerCase()))\n    return true;\n  return false;\n}\n\n// packages/injected/src/ariaSnapshot.ts\nvar lastRef = 0;\nfunction toInternalOptions(options) {\n  if (options.mode === "ai") {\n    return {\n      visibility: "ariaOrVisible",\n      refs: "interactable",\n      refPrefix: options.refPrefix,\n      includeGenericRole: true,\n      renderActive: true,\n      renderCursorPointer: true\n    };\n  }\n  if (options.mode === "autoexpect") {\n    return { visibility: "ariaAndVisible", refs: "none" };\n  }\n  if (options.mode === "codegen") {\n    return { visibility: "aria", refs: "none", renderStringsAsRegex: true };\n  }\n  return { visibility: "aria", refs: "none" };\n}\nfunction generateAriaTree(rootElement, publicOptions) {\n  const options = toInternalOptions(publicOptions);\n  const visited = /* @__PURE__ */ new Set();\n  const snapshot = {\n    root: { role: "fragment", name: "", children: [], element: rootElement, props: {}, box: computeBox(rootElement), receivesPointerEvents: true },\n    elements: /* @__PURE__ */ new Map(),\n    refs: /* @__PURE__ */ new Map()\n  };\n  const visit = (ariaNode, node, parentElementVisible) => {\n    if (visited.has(node))\n      return;\n    visited.add(node);\n    if (node.nodeType === Node.TEXT_NODE && node.nodeValue) {\n      if (!parentElementVisible)\n        return;\n      const text = node.nodeValue;\n      if (ariaNode.role !== "textbox" && text)\n        ariaNode.children.push(node.nodeValue || "");\n      return;\n    }\n    if (node.nodeType !== Node.ELEMENT_NODE)\n      return;\n    const element = node;\n    const isElementVisibleForAria = !isElementHiddenForAria(element);\n    let visible = isElementVisibleForAria;\n    if (options.visibility === "ariaOrVisible")\n      visible = isElementVisibleForAria || isElementVisible(element);\n    if (options.visibility === "ariaAndVisible")\n      visible = isElementVisibleForAria && isElementVisible(element);\n    if (options.visibility === "aria" && !visible)\n      return;\n    const ariaChildren = [];\n    if (element.hasAttribute("aria-owns")) {\n      const ids = element.getAttribute("aria-owns").split(/\\s+/);\n      for (const id of ids) {\n        const ownedElement = rootElement.ownerDocument.getElementById(id);\n        if (ownedElement)\n          ariaChildren.push(ownedElement);\n      }\n    }\n    const childAriaNode = visible ? toAriaNode(element, options) : null;\n    if (childAriaNode) {\n      if (childAriaNode.ref) {\n        snapshot.elements.set(childAriaNode.ref, element);\n        snapshot.refs.set(element, childAriaNode.ref);\n      }\n      ariaNode.children.push(childAriaNode);\n    }\n    processElement(childAriaNode || ariaNode, element, ariaChildren, visible);\n  };\n  function processElement(ariaNode, element, ariaChildren, parentElementVisible) {\n    var _a;\n    const display = ((_a = getElementComputedStyle(element)) == null ? void 0 : _a.display) || "inline";\n    const treatAsBlock = display !== "inline" || element.nodeName === "BR" ? " " : "";\n    if (treatAsBlock)\n      ariaNode.children.push(treatAsBlock);\n    ariaNode.children.push(getCSSContent(element, "::before") || "");\n    const assignedNodes = element.nodeName === "SLOT" ? element.assignedNodes() : [];\n    if (assignedNodes.length) {\n      for (const child of assignedNodes)\n        visit(ariaNode, child, parentElementVisible);\n    } else {\n      for (let child = element.firstChild; child; child = child.nextSibling) {\n        if (!child.assignedSlot)\n          visit(ariaNode, child, parentElementVisible);\n      }\n      if (element.shadowRoot) {\n        for (let child = element.shadowRoot.firstChild; child; child = child.nextSibling)\n          visit(ariaNode, child, parentElementVisible);\n      }\n    }\n    for (const child of ariaChildren)\n      visit(ariaNode, child, parentElementVisible);\n    ariaNode.children.push(getCSSContent(element, "::after") || "");\n    if (treatAsBlock)\n      ariaNode.children.push(treatAsBlock);\n    if (ariaNode.children.length === 1 && ariaNode.name === ariaNode.children[0])\n      ariaNode.children = [];\n    if (ariaNode.role === "link" && element.hasAttribute("href")) {\n      const href = element.getAttribute("href");\n      ariaNode.props["url"] = href;\n    }\n    if (ariaNode.role === "textbox" && element.hasAttribute("placeholder") && element.getAttribute("placeholder") !== ariaNode.name) {\n      const placeholder = element.getAttribute("placeholder");\n      ariaNode.props["placeholder"] = placeholder;\n    }\n  }\n  beginAriaCaches();\n  try {\n    visit(snapshot.root, rootElement, true);\n  } finally {\n    endAriaCaches();\n  }\n  normalizeStringChildren(snapshot.root);\n  normalizeGenericRoles(snapshot.root);\n  return snapshot;\n}\nfunction computeAriaRef(ariaNode, options) {\n  var _a;\n  if (options.refs === "none")\n    return;\n  if (options.refs === "interactable" && (!ariaNode.box.visible || !ariaNode.receivesPointerEvents))\n    return;\n  let ariaRef;\n  ariaRef = ariaNode.element._ariaRef;\n  if (!ariaRef || ariaRef.role !== ariaNode.role || ariaRef.name !== ariaNode.name) {\n    ariaRef = { role: ariaNode.role, name: ariaNode.name, ref: ((_a = options.refPrefix) != null ? _a : "") + "e" + ++lastRef };\n    ariaNode.element._ariaRef = ariaRef;\n  }\n  ariaNode.ref = ariaRef.ref;\n}\nfunction toAriaNode(element, options) {\n  var _a;\n  const active = element.ownerDocument.activeElement === element;\n  if (element.nodeName === "IFRAME") {\n    const ariaNode = {\n      role: "iframe",\n      name: "",\n      children: [],\n      props: {},\n      element,\n      box: computeBox(element),\n      receivesPointerEvents: true,\n      active\n    };\n    computeAriaRef(ariaNode, options);\n    return ariaNode;\n  }\n  const defaultRole = options.includeGenericRole ? "generic" : null;\n  const role = (_a = getAriaRole(element)) != null ? _a : defaultRole;\n  if (!role || role === "presentation" || role === "none")\n    return null;\n  const name = normalizeWhiteSpace(getElementAccessibleName(element, false) || "");\n  const receivesPointerEvents2 = receivesPointerEvents(element);\n  const box = computeBox(element);\n  if (role === "generic" && box.inline && element.childNodes.length === 1 && element.childNodes[0].nodeType === Node.TEXT_NODE)\n    return null;\n  const result = {\n    role,\n    name,\n    children: [],\n    props: {},\n    element,\n    box,\n    receivesPointerEvents: receivesPointerEvents2,\n    active\n  };\n  computeAriaRef(result, options);\n  if (kAriaCheckedRoles.includes(role))\n    result.checked = getAriaChecked(element);\n  if (kAriaDisabledRoles.includes(role))\n    result.disabled = getAriaDisabled(element);\n  if (kAriaExpandedRoles.includes(role))\n    result.expanded = getAriaExpanded(element);\n  if (kAriaLevelRoles.includes(role))\n    result.level = getAriaLevel(element);\n  if (kAriaPressedRoles.includes(role))\n    result.pressed = getAriaPressed(element);\n  if (kAriaSelectedRoles.includes(role))\n    result.selected = getAriaSelected(element);\n  if (element instanceof HTMLInputElement || element instanceof HTMLTextAreaElement) {\n    if (element.type !== "checkbox" && element.type !== "radio" && element.type !== "file")\n      result.children = [element.value];\n  }\n  return result;\n}\nfunction normalizeGenericRoles(node) {\n  const normalizeChildren = (node2) => {\n    const result = [];\n    for (const child of node2.children || []) {\n      if (typeof child === "string") {\n        result.push(child);\n        continue;\n      }\n      const normalized = normalizeChildren(child);\n      result.push(...normalized);\n    }\n    const removeSelf = node2.role === "generic" && !node2.name && result.length <= 1 && result.every((c) => typeof c !== "string" && !!c.ref);\n    if (removeSelf)\n      return result;\n    node2.children = result;\n    return [node2];\n  };\n  normalizeChildren(node);\n}\nfunction normalizeStringChildren(rootA11yNode) {\n  const flushChildren = (buffer, normalizedChildren) => {\n    if (!buffer.length)\n      return;\n    const text = normalizeWhiteSpace(buffer.join(""));\n    if (text)\n      normalizedChildren.push(text);\n    buffer.length = 0;\n  };\n  const visit = (ariaNode) => {\n    const normalizedChildren = [];\n    const buffer = [];\n    for (const child of ariaNode.children || []) {\n      if (typeof child === "string") {\n        buffer.push(child);\n      } else {\n        flushChildren(buffer, normalizedChildren);\n        visit(child);\n        normalizedChildren.push(child);\n      }\n    }\n    flushChildren(buffer, normalizedChildren);\n    ariaNode.children = normalizedChildren.length ? normalizedChildren : [];\n    if (ariaNode.children.length === 1 && ariaNode.children[0] === ariaNode.name)\n      ariaNode.children = [];\n  };\n  visit(rootA11yNode);\n}\nfunction matchesStringOrRegex(text, template) {\n  if (!template)\n    return true;\n  if (!text)\n    return false;\n  if (typeof template === "string")\n    return text === template;\n  return !!text.match(new RegExp(template.pattern));\n}\nfunction matchesTextValue(text, template) {\n  if (!(template == null ? void 0 : template.normalized))\n    return true;\n  if (!text)\n    return false;\n  if (text === template.normalized)\n    return true;\n  if (text === template.raw)\n    return true;\n  const regex = cachedRegex(template);\n  if (regex)\n    return !!text.match(regex);\n  return false;\n}\nvar cachedRegexSymbol = Symbol("cachedRegex");\nfunction cachedRegex(template) {\n  if (template[cachedRegexSymbol] !== void 0)\n    return template[cachedRegexSymbol];\n  const { raw } = template;\n  const canBeRegex = raw.startsWith("/") && raw.endsWith("/") && raw.length > 1;\n  let regex;\n  try {\n    regex = canBeRegex ? new RegExp(raw.slice(1, -1)) : null;\n  } catch (e) {\n    regex = null;\n  }\n  template[cachedRegexSymbol] = regex;\n  return regex;\n}\nfunction matchesExpectAriaTemplate(rootElement, template) {\n  const snapshot = generateAriaTree(rootElement, { mode: "expect" });\n  const matches = matchesNodeDeep(snapshot.root, template, false, false);\n  return {\n    matches,\n    received: {\n      raw: renderAriaTree(snapshot, { mode: "expect" }),\n      regex: renderAriaTree(snapshot, { mode: "codegen" })\n    }\n  };\n}\nfunction getAllElementsMatchingExpectAriaTemplate(rootElement, template) {\n  const root = generateAriaTree(rootElement, { mode: "expect" }).root;\n  const matches = matchesNodeDeep(root, template, true, false);\n  return matches.map((n) => n.element);\n}\nfunction matchesNode(node, template, isDeepEqual) {\n  var _a;\n  if (typeof node === "string" && template.kind === "text")\n    return matchesTextValue(node, template.text);\n  if (node === null || typeof node !== "object" || template.kind !== "role")\n    return false;\n  if (template.role !== "fragment" && template.role !== node.role)\n    return false;\n  if (template.checked !== void 0 && template.checked !== node.checked)\n    return false;\n  if (template.disabled !== void 0 && template.disabled !== node.disabled)\n    return false;\n  if (template.expanded !== void 0 && template.expanded !== node.expanded)\n    return false;\n  if (template.level !== void 0 && template.level !== node.level)\n    return false;\n  if (template.pressed !== void 0 && template.pressed !== node.pressed)\n    return false;\n  if (template.selected !== void 0 && template.selected !== node.selected)\n    return false;\n  if (!matchesStringOrRegex(node.name, template.name))\n    return false;\n  if (!matchesTextValue(node.props.url, (_a = template.props) == null ? void 0 : _a.url))\n    return false;\n  if (template.containerMode === "contain")\n    return containsList(node.children || [], template.children || []);\n  if (template.containerMode === "equal")\n    return listEqual(node.children || [], template.children || [], false);\n  if (template.containerMode === "deep-equal" || isDeepEqual)\n    return listEqual(node.children || [], template.children || [], true);\n  return containsList(node.children || [], template.children || []);\n}\nfunction listEqual(children, template, isDeepEqual) {\n  if (template.length !== children.length)\n    return false;\n  for (let i = 0; i < template.length; ++i) {\n    if (!matchesNode(children[i], template[i], isDeepEqual))\n      return false;\n  }\n  return true;\n}\nfunction containsList(children, template) {\n  if (template.length > children.length)\n    return false;\n  const cc = children.slice();\n  const tt = template.slice();\n  for (const t of tt) {\n    let c = cc.shift();\n    while (c) {\n      if (matchesNode(c, t, false))\n        break;\n      c = cc.shift();\n    }\n    if (!c)\n      return false;\n  }\n  return true;\n}\nfunction matchesNodeDeep(root, template, collectAll, isDeepEqual) {\n  const results = [];\n  const visit = (node, parent) => {\n    if (matchesNode(node, template, isDeepEqual)) {\n      const result = typeof node === "string" ? parent : node;\n      if (result)\n        results.push(result);\n      return !collectAll;\n    }\n    if (typeof node === "string")\n      return false;\n    for (const child of node.children || []) {\n      if (visit(child, node))\n        return true;\n    }\n    return false;\n  };\n  visit(root, null);\n  return results;\n}\nfunction renderAriaTree(ariaSnapshot, publicOptions) {\n  const options = toInternalOptions(publicOptions);\n  const lines = [];\n  const includeText = options.renderStringsAsRegex ? textContributesInfo : () => true;\n  const renderString = options.renderStringsAsRegex ? convertToBestGuessRegex : (str) => str;\n  const visit = (ariaNode2, parentAriaNode, indent, renderCursorPointer) => {\n    if (typeof ariaNode2 === "string") {\n      if (parentAriaNode && !includeText(parentAriaNode, ariaNode2))\n        return;\n      const text = yamlEscapeValueIfNeeded(renderString(ariaNode2));\n      if (text)\n        lines.push(indent + "- text: " + text);\n      return;\n    }\n    let key = ariaNode2.role;\n    if (ariaNode2.name && ariaNode2.name.length <= 900) {\n      const name = renderString(ariaNode2.name);\n      if (name) {\n        const stringifiedName = name.startsWith("/") && name.endsWith("/") ? name : JSON.stringify(name);\n        key += " " + stringifiedName;\n      }\n    }\n    if (ariaNode2.checked === "mixed")\n      key += ` [checked=mixed]`;\n    if (ariaNode2.checked === true)\n      key += ` [checked]`;\n    if (ariaNode2.disabled)\n      key += ` [disabled]`;\n    if (ariaNode2.expanded)\n      key += ` [expanded]`;\n    if (ariaNode2.active && options.renderActive)\n      key += ` [active]`;\n    if (ariaNode2.level)\n      key += ` [level=${ariaNode2.level}]`;\n    if (ariaNode2.pressed === "mixed")\n      key += ` [pressed=mixed]`;\n    if (ariaNode2.pressed === true)\n      key += ` [pressed]`;\n    if (ariaNode2.selected === true)\n      key += ` [selected]`;\n    let inCursorPointer = false;\n    if (ariaNode2.ref) {\n      key += ` [ref=${ariaNode2.ref}]`;\n      if (renderCursorPointer && hasPointerCursor(ariaNode2)) {\n        inCursorPointer = true;\n        key += " [cursor=pointer]";\n      }\n    }\n    const escapedKey = indent + "- " + yamlEscapeKeyIfNeeded(key);\n    const hasProps = !!Object.keys(ariaNode2.props).length;\n    if (!ariaNode2.children.length && !hasProps) {\n      lines.push(escapedKey);\n    } else if (ariaNode2.children.length === 1 && typeof ariaNode2.children[0] === "string" && !hasProps) {\n      const text = includeText(ariaNode2, ariaNode2.children[0]) ? renderString(ariaNode2.children[0]) : null;\n      if (text)\n        lines.push(escapedKey + ": " + yamlEscapeValueIfNeeded(text));\n      else\n        lines.push(escapedKey);\n    } else {\n      lines.push(escapedKey + ":");\n      for (const [name, value] of Object.entries(ariaNode2.props))\n        lines.push(indent + "  - /" + name + ": " + yamlEscapeValueIfNeeded(value));\n      for (const child of ariaNode2.children || [])\n        visit(child, ariaNode2, indent + "  ", renderCursorPointer && !inCursorPointer);\n    }\n  };\n  const ariaNode = ariaSnapshot.root;\n  if (ariaNode.role === "fragment") {\n    for (const child of ariaNode.children || [])\n      visit(child, ariaNode, "", !!options.renderCursorPointer);\n  } else {\n    visit(ariaNode, null, "", !!options.renderCursorPointer);\n  }\n  return lines.join("\\n");\n}\nfunction convertToBestGuessRegex(text) {\n  const dynamicContent = [\n    // 2mb\n    { regex: /\\b[\\d,.]+[bkmBKM]+\\b/, replacement: "[\\\\d,.]+[bkmBKM]+" },\n    // 2ms, 20s\n    { regex: /\\b\\d+[hmsp]+\\b/, replacement: "\\\\d+[hmsp]+" },\n    { regex: /\\b[\\d,.]+[hmsp]+\\b/, replacement: "[\\\\d,.]+[hmsp]+" },\n    // Do not replace single digits with regex by default.\n    // 2+ digits: [Issue 22, 22.3, 2.33, 2,333]\n    { regex: /\\b\\d+,\\d+\\b/, replacement: "\\\\d+,\\\\d+" },\n    { regex: /\\b\\d+\\.\\d{2,}\\b/, replacement: "\\\\d+\\\\.\\\\d+" },\n    { regex: /\\b\\d{2,}\\.\\d+\\b/, replacement: "\\\\d+\\\\.\\\\d+" },\n    { regex: /\\b\\d{2,}\\b/, replacement: "\\\\d+" }\n  ];\n  let pattern = "";\n  let lastIndex = 0;\n  const combinedRegex = new RegExp(dynamicContent.map((r) => "(" + r.regex.source + ")").join("|"), "g");\n  text.replace(combinedRegex, (match, ...args) => {\n    const offset = args[args.length - 2];\n    const groups = args.slice(0, -2);\n    pattern += escapeRegExp(text.slice(lastIndex, offset));\n    for (let i = 0; i < groups.length; i++) {\n      if (groups[i]) {\n        const { replacement } = dynamicContent[i];\n        pattern += replacement;\n        break;\n      }\n    }\n    lastIndex = offset + match.length;\n    return match;\n  });\n  if (!pattern)\n    return text;\n  pattern += escapeRegExp(text.slice(lastIndex));\n  return String(new RegExp(pattern));\n}\nfunction textContributesInfo(node, text) {\n  if (!text.length)\n    return false;\n  if (!node.name)\n    return true;\n  if (node.name.length > text.length)\n    return false;\n  const substr = text.length <= 200 && node.name.length <= 200 ? longestCommonSubstring(text, node.name) : "";\n  let filtered = text;\n  while (substr && filtered.includes(substr))\n    filtered = filtered.replace(substr, "");\n  return filtered.trim().length / text.length > 0.1;\n}\nfunction hasPointerCursor(ariaNode) {\n  var _a;\n  return ((_a = ariaNode.box.style) == null ? void 0 : _a.cursor) === "pointer";\n}\n\n// packages/injected/src/highlight.css?inline\nvar highlight_default = ":host{font-size:13px;font-family:system-ui,Ubuntu,Droid Sans,sans-serif;color:#333}svg{position:absolute;height:0}x-pw-tooltip{backdrop-filter:blur(5px);background-color:#fff;border-radius:6px;box-shadow:0 .5rem 1.2rem #0000004d;display:none;font-size:12.8px;font-weight:400;left:0;line-height:1.5;max-width:600px;position:absolute;top:0;padding:0;flex-direction:column;overflow:hidden}x-pw-tooltip-line{display:flex;max-width:600px;padding:6px;user-select:none;cursor:pointer}x-pw-tooltip-footer{display:flex;max-width:600px;padding:6px;user-select:none;color:#777}x-pw-dialog{background-color:#fff;pointer-events:auto;border-radius:6px;box-shadow:0 .5rem 1.2rem #0000004d;display:flex;flex-direction:column;position:absolute;z-index:10;font-size:13px}x-pw-dialog:not(.autosize){width:400px;height:150px}x-pw-dialog-body{display:flex;flex-direction:column;flex:auto}x-pw-dialog-body label{margin:5px 8px;display:flex;flex-direction:row;align-items:center}x-pw-highlight{position:absolute;top:0;left:0;width:0;height:0}x-pw-action-point{position:absolute;width:20px;height:20px;background:red;border-radius:10px;margin:-10px 0 0 -10px;z-index:2}x-pw-separator{height:1px;margin:6px 9px;background:#949494e5}x-pw-tool-gripper{height:28px;width:24px;margin:2px 0;cursor:grab}x-pw-tool-gripper:active{cursor:grabbing}x-pw-tool-gripper>x-div{width:16px;height:16px;margin:6px 4px;clip-path:url(#icon-gripper);background-color:#555}x-pw-tools-list>label{display:flex;align-items:center;margin:0 10px;user-select:none}x-pw-tools-list{display:flex;width:100%;border-bottom:1px solid #dddddd}x-pw-tool-item{pointer-events:auto;height:28px;width:28px;border-radius:3px}x-pw-tool-item:not(.disabled){cursor:pointer}x-pw-tool-item:not(.disabled):hover{background-color:#dbdbdb}x-pw-tool-item.toggled{background-color:#8acae480}x-pw-tool-item.toggled:not(.disabled):hover{background-color:#8acae4c4}x-pw-tool-item>x-div{width:16px;height:16px;margin:6px;background-color:#3a3a3a}x-pw-tool-item.disabled>x-div{background-color:#61616180;cursor:default}x-pw-tool-item.record.toggled{background-color:transparent}x-pw-tool-item.record.toggled:not(.disabled):hover{background-color:#dbdbdb}x-pw-tool-item.record.toggled>x-div{background-color:#a1260d}x-pw-tool-item.record.disabled.toggled>x-div{opacity:.8}x-pw-tool-item.accept>x-div{background-color:#388a34}x-pw-tool-item.record>x-div{clip-path:url(#icon-circle-large-filled)}x-pw-tool-item.record.toggled>x-div{clip-path:url(#icon-stop-circle)}x-pw-tool-item.pick-locator>x-div{clip-path:url(#icon-inspect)}x-pw-tool-item.text>x-div{clip-path:url(#icon-whole-word)}x-pw-tool-item.visibility>x-div{clip-path:url(#icon-eye)}x-pw-tool-item.value>x-div{clip-path:url(#icon-symbol-constant)}x-pw-tool-item.snapshot>x-div{clip-path:url(#icon-gist)}x-pw-tool-item.accept>x-div{clip-path:url(#icon-check)}x-pw-tool-item.cancel>x-div{clip-path:url(#icon-close)}x-pw-tool-item.succeeded>x-div{clip-path:url(#icon-pass);background-color:#388a34!important}x-pw-overlay{position:absolute;top:0;max-width:min-content;z-index:2147483647;background:transparent;pointer-events:auto}x-pw-overlay x-pw-tools-list{background-color:#fffd;box-shadow:#0000001a 0 5px 5px;border-radius:3px;border-bottom:none}x-pw-overlay x-pw-tool-item{margin:2px}textarea.text-editor{font-family:system-ui,Ubuntu,Droid Sans,sans-serif;flex:auto;border:none;margin:6px 10px;color:#333;outline:1px solid transparent!important;resize:none;padding:0;font-size:13px}textarea.text-editor.does-not-match{outline:1px solid red!important}x-div{display:block}x-spacer{flex:auto}*{box-sizing:border-box}*[hidden]{display:none!important}x-locator-editor{flex:none;width:100%;height:60px;padding:4px;border-bottom:1px solid #dddddd;outline:1px solid transparent}x-locator-editor.does-not-match{outline:1px solid red}.CodeMirror{width:100%!important;height:100%!important}x-pw-action-list{flex:auto;display:flex;flex-direction:column;user-select:none}x-pw-action-item{padding:6px 10px;cursor:pointer;overflow:hidden}x-pw-action-item:hover{background-color:#f2f2f2}x-pw-action-item:last-child{border-bottom-left-radius:6px;border-bottom-right-radius:6px}\\n";\n\n// packages/injected/src/highlight.ts\nvar Highlight = class {\n  constructor(injectedScript) {\n    this._renderedEntries = [];\n    this._language = "javascript";\n    this._injectedScript = injectedScript;\n    const document = injectedScript.document;\n    this._isUnderTest = injectedScript.isUnderTest;\n    this._glassPaneElement = document.createElement("x-pw-glass");\n    this._glassPaneElement.style.position = "fixed";\n    this._glassPaneElement.style.top = "0";\n    this._glassPaneElement.style.right = "0";\n    this._glassPaneElement.style.bottom = "0";\n    this._glassPaneElement.style.left = "0";\n    this._glassPaneElement.style.zIndex = "2147483647";\n    this._glassPaneElement.style.pointerEvents = "none";\n    this._glassPaneElement.style.display = "flex";\n    this._glassPaneElement.style.backgroundColor = "transparent";\n    this._actionPointElement = document.createElement("x-pw-action-point");\n    this._actionPointElement.setAttribute("hidden", "true");\n    this._glassPaneShadow = this._glassPaneElement.attachShadow({ mode: this._isUnderTest ? "open" : "closed" });\n    if (typeof this._glassPaneShadow.adoptedStyleSheets.push === "function") {\n      const sheet = new this._injectedScript.window.CSSStyleSheet();\n      sheet.replaceSync(highlight_default);\n      this._glassPaneShadow.adoptedStyleSheets.push(sheet);\n    } else {\n      const styleElement = this._injectedScript.document.createElement("style");\n      styleElement.textContent = highlight_default;\n      this._glassPaneShadow.appendChild(styleElement);\n    }\n    this._glassPaneShadow.appendChild(this._actionPointElement);\n  }\n  install() {\n    if (!this._injectedScript.document.documentElement)\n      return;\n    if (!this._injectedScript.document.documentElement.contains(this._glassPaneElement) || this._glassPaneElement.nextElementSibling)\n      this._injectedScript.document.documentElement.appendChild(this._glassPaneElement);\n  }\n  setLanguage(language) {\n    this._language = language;\n  }\n  runHighlightOnRaf(selector) {\n    if (this._rafRequest)\n      this._injectedScript.utils.builtins.cancelAnimationFrame(this._rafRequest);\n    const elements = this._injectedScript.querySelectorAll(selector, this._injectedScript.document.documentElement);\n    const locator = asLocator(this._language, stringifySelector(selector));\n    const color = elements.length > 1 ? "#f6b26b7f" : "#6fa8dc7f";\n    this.updateHighlight(elements.map((element, index) => {\n      const suffix = elements.length > 1 ? ` [${index + 1} of ${elements.length}]` : "";\n      return { element, color, tooltipText: locator + suffix };\n    }));\n    this._rafRequest = this._injectedScript.utils.builtins.requestAnimationFrame(() => this.runHighlightOnRaf(selector));\n  }\n  uninstall() {\n    if (this._rafRequest)\n      this._injectedScript.utils.builtins.cancelAnimationFrame(this._rafRequest);\n    this._glassPaneElement.remove();\n  }\n  showActionPoint(x, y) {\n    this._actionPointElement.style.top = y + "px";\n    this._actionPointElement.style.left = x + "px";\n    this._actionPointElement.hidden = false;\n  }\n  hideActionPoint() {\n    this._actionPointElement.hidden = true;\n  }\n  clearHighlight() {\n    var _a, _b;\n    for (const entry of this._renderedEntries) {\n      (_a = entry.highlightElement) == null ? void 0 : _a.remove();\n      (_b = entry.tooltipElement) == null ? void 0 : _b.remove();\n    }\n    this._renderedEntries = [];\n  }\n  maskElements(elements, color) {\n    this.updateHighlight(elements.map((element) => ({ element, color })));\n  }\n  updateHighlight(entries) {\n    if (this._highlightIsUpToDate(entries))\n      return;\n    this.clearHighlight();\n    for (const entry of entries) {\n      const highlightElement = this._createHighlightElement();\n      this._glassPaneShadow.appendChild(highlightElement);\n      let tooltipElement;\n      if (entry.tooltipText) {\n        tooltipElement = this._injectedScript.document.createElement("x-pw-tooltip");\n        this._glassPaneShadow.appendChild(tooltipElement);\n        tooltipElement.style.top = "0";\n        tooltipElement.style.left = "0";\n        tooltipElement.style.display = "flex";\n        const lineElement = this._injectedScript.document.createElement("x-pw-tooltip-line");\n        lineElement.textContent = entry.tooltipText;\n        tooltipElement.appendChild(lineElement);\n      }\n      this._renderedEntries.push({ targetElement: entry.element, color: entry.color, tooltipElement, highlightElement });\n    }\n    for (const entry of this._renderedEntries) {\n      entry.box = entry.targetElement.getBoundingClientRect();\n      if (!entry.tooltipElement)\n        continue;\n      const { anchorLeft, anchorTop } = this.tooltipPosition(entry.box, entry.tooltipElement);\n      entry.tooltipTop = anchorTop;\n      entry.tooltipLeft = anchorLeft;\n    }\n    for (const entry of this._renderedEntries) {\n      if (entry.tooltipElement) {\n        entry.tooltipElement.style.top = entry.tooltipTop + "px";\n        entry.tooltipElement.style.left = entry.tooltipLeft + "px";\n      }\n      const box = entry.box;\n      entry.highlightElement.style.backgroundColor = entry.color;\n      entry.highlightElement.style.left = box.x + "px";\n      entry.highlightElement.style.top = box.y + "px";\n      entry.highlightElement.style.width = box.width + "px";\n      entry.highlightElement.style.height = box.height + "px";\n      entry.highlightElement.style.display = "block";\n      if (this._isUnderTest)\n        console.error("Highlight box for test: " + JSON.stringify({ x: box.x, y: box.y, width: box.width, height: box.height }));\n    }\n  }\n  firstBox() {\n    var _a;\n    return (_a = this._renderedEntries[0]) == null ? void 0 : _a.box;\n  }\n  firstTooltipBox() {\n    const entry = this._renderedEntries[0];\n    if (!entry || !entry.tooltipElement || entry.tooltipLeft === void 0 || entry.tooltipTop === void 0)\n      return;\n    return {\n      x: entry.tooltipLeft,\n      y: entry.tooltipTop,\n      left: entry.tooltipLeft,\n      top: entry.tooltipTop,\n      width: entry.tooltipElement.offsetWidth,\n      height: entry.tooltipElement.offsetHeight,\n      bottom: entry.tooltipTop + entry.tooltipElement.offsetHeight,\n      right: entry.tooltipLeft + entry.tooltipElement.offsetWidth,\n      toJSON: () => {\n      }\n    };\n  }\n  tooltipPosition(box, tooltipElement) {\n    const tooltipWidth = tooltipElement.offsetWidth;\n    const tooltipHeight = tooltipElement.offsetHeight;\n    const totalWidth = this._glassPaneElement.offsetWidth;\n    const totalHeight = this._glassPaneElement.offsetHeight;\n    let anchorLeft = Math.max(5, box.left);\n    if (anchorLeft + tooltipWidth > totalWidth - 5)\n      anchorLeft = totalWidth - tooltipWidth - 5;\n    let anchorTop = Math.max(0, box.bottom) + 5;\n    if (anchorTop + tooltipHeight > totalHeight - 5) {\n      if (Math.max(0, box.top) > tooltipHeight + 5) {\n        anchorTop = Math.max(0, box.top) - tooltipHeight - 5;\n      } else {\n        anchorTop = totalHeight - 5 - tooltipHeight;\n      }\n    }\n    return { anchorLeft, anchorTop };\n  }\n  _highlightIsUpToDate(entries) {\n    if (entries.length !== this._renderedEntries.length)\n      return false;\n    for (let i = 0; i < this._renderedEntries.length; ++i) {\n      if (entries[i].element !== this._renderedEntries[i].targetElement)\n        return false;\n      if (entries[i].color !== this._renderedEntries[i].color)\n        return false;\n      const oldBox = this._renderedEntries[i].box;\n      if (!oldBox)\n        return false;\n      const box = entries[i].element.getBoundingClientRect();\n      if (box.top !== oldBox.top || box.right !== oldBox.right || box.bottom !== oldBox.bottom || box.left !== oldBox.left)\n        return false;\n    }\n    return true;\n  }\n  _createHighlightElement() {\n    return this._injectedScript.document.createElement("x-pw-highlight");\n  }\n  appendChild(element) {\n    this._glassPaneShadow.appendChild(element);\n  }\n  onGlassPaneClick(handler) {\n    this._glassPaneElement.style.pointerEvents = "auto";\n    this._glassPaneElement.style.backgroundColor = "rgba(0, 0, 0, 0.3)";\n    this._glassPaneElement.addEventListener("click", handler);\n  }\n  offGlassPaneClick(handler) {\n    this._glassPaneElement.style.pointerEvents = "none";\n    this._glassPaneElement.style.backgroundColor = "transparent";\n    this._glassPaneElement.removeEventListener("click", handler);\n  }\n};\n\n// packages/injected/src/layoutSelectorUtils.ts\nfunction boxRightOf(box1, box2, maxDistance) {\n  const distance = box1.left - box2.right;\n  if (distance < 0 || maxDistance !== void 0 && distance > maxDistance)\n    return;\n  return distance + Math.max(box2.bottom - box1.bottom, 0) + Math.max(box1.top - box2.top, 0);\n}\nfunction boxLeftOf(box1, box2, maxDistance) {\n  const distance = box2.left - box1.right;\n  if (distance < 0 || maxDistance !== void 0 && distance > maxDistance)\n    return;\n  return distance + Math.max(box2.bottom - box1.bottom, 0) + Math.max(box1.top - box2.top, 0);\n}\nfunction boxAbove(box1, box2, maxDistance) {\n  const distance = box2.top - box1.bottom;\n  if (distance < 0 || maxDistance !== void 0 && distance > maxDistance)\n    return;\n  return distance + Math.max(box1.left - box2.left, 0) + Math.max(box2.right - box1.right, 0);\n}\nfunction boxBelow(box1, box2, maxDistance) {\n  const distance = box1.top - box2.bottom;\n  if (distance < 0 || maxDistance !== void 0 && distance > maxDistance)\n    return;\n  return distance + Math.max(box1.left - box2.left, 0) + Math.max(box2.right - box1.right, 0);\n}\nfunction boxNear(box1, box2, maxDistance) {\n  const kThreshold = maxDistance === void 0 ? 50 : maxDistance;\n  let score = 0;\n  if (box1.left - box2.right >= 0)\n    score += box1.left - box2.right;\n  if (box2.left - box1.right >= 0)\n    score += box2.left - box1.right;\n  if (box2.top - box1.bottom >= 0)\n    score += box2.top - box1.bottom;\n  if (box1.top - box2.bottom >= 0)\n    score += box1.top - box2.bottom;\n  return score > kThreshold ? void 0 : score;\n}\nvar kLayoutSelectorNames = ["left-of", "right-of", "above", "below", "near"];\nfunction layoutSelectorScore(name, element, inner, maxDistance) {\n  const box = element.getBoundingClientRect();\n  const scorer = { "left-of": boxLeftOf, "right-of": boxRightOf, "above": boxAbove, "below": boxBelow, "near": boxNear }[name];\n  let bestScore;\n  for (const e of inner) {\n    if (e === element)\n      continue;\n    const score = scorer(box, e.getBoundingClientRect(), maxDistance);\n    if (score === void 0)\n      continue;\n    if (bestScore === void 0 || score < bestScore)\n      bestScore = score;\n  }\n  return bestScore;\n}\n\n// packages/injected/src/selectorUtils.ts\nfunction matchesComponentAttribute(obj, attr) {\n  for (const token of attr.jsonPath) {\n    if (obj !== void 0 && obj !== null)\n      obj = obj[token];\n  }\n  return matchesAttributePart(obj, attr);\n}\nfunction matchesAttributePart(value, attr) {\n  const objValue = typeof value === "string" && !attr.caseSensitive ? value.toUpperCase() : value;\n  const attrValue = typeof attr.value === "string" && !attr.caseSensitive ? attr.value.toUpperCase() : attr.value;\n  if (attr.op === "<truthy>")\n    return !!objValue;\n  if (attr.op === "=") {\n    if (attrValue instanceof RegExp)\n      return typeof objValue === "string" && !!objValue.match(attrValue);\n    return objValue === attrValue;\n  }\n  if (typeof objValue !== "string" || typeof attrValue !== "string")\n    return false;\n  if (attr.op === "*=")\n    return objValue.includes(attrValue);\n  if (attr.op === "^=")\n    return objValue.startsWith(attrValue);\n  if (attr.op === "$=")\n    return objValue.endsWith(attrValue);\n  if (attr.op === "|=")\n    return objValue === attrValue || objValue.startsWith(attrValue + "-");\n  if (attr.op === "~=")\n    return objValue.split(" ").includes(attrValue);\n  return false;\n}\nfunction shouldSkipForTextMatching(element) {\n  const document = element.ownerDocument;\n  return element.nodeName === "SCRIPT" || element.nodeName === "NOSCRIPT" || element.nodeName === "STYLE" || document.head && document.head.contains(element);\n}\nfunction elementText(cache, root) {\n  let value = cache.get(root);\n  if (value === void 0) {\n    value = { full: "", normalized: "", immediate: [] };\n    if (!shouldSkipForTextMatching(root)) {\n      let currentImmediate = "";\n      if (root instanceof HTMLInputElement && (root.type === "submit" || root.type === "button")) {\n        value = { full: root.value, normalized: normalizeWhiteSpace(root.value), immediate: [root.value] };\n      } else {\n        for (let child = root.firstChild; child; child = child.nextSibling) {\n          if (child.nodeType === Node.TEXT_NODE) {\n            value.full += child.nodeValue || "";\n            currentImmediate += child.nodeValue || "";\n          } else if (child.nodeType === Node.COMMENT_NODE) {\n            continue;\n          } else {\n            if (currentImmediate)\n              value.immediate.push(currentImmediate);\n            currentImmediate = "";\n            if (child.nodeType === Node.ELEMENT_NODE)\n              value.full += elementText(cache, child).full;\n          }\n        }\n        if (currentImmediate)\n          value.immediate.push(currentImmediate);\n        if (root.shadowRoot)\n          value.full += elementText(cache, root.shadowRoot).full;\n        if (value.full)\n          value.normalized = normalizeWhiteSpace(value.full);\n      }\n    }\n    cache.set(root, value);\n  }\n  return value;\n}\nfunction elementMatchesText(cache, element, matcher) {\n  if (shouldSkipForTextMatching(element))\n    return "none";\n  if (!matcher(elementText(cache, element)))\n    return "none";\n  for (let child = element.firstChild; child; child = child.nextSibling) {\n    if (child.nodeType === Node.ELEMENT_NODE && matcher(elementText(cache, child)))\n      return "selfAndChildren";\n  }\n  if (element.shadowRoot && matcher(elementText(cache, element.shadowRoot)))\n    return "selfAndChildren";\n  return "self";\n}\nfunction getElementLabels(textCache, element) {\n  const labels = getAriaLabelledByElements(element);\n  if (labels)\n    return labels.map((label) => elementText(textCache, label));\n  const ariaLabel = element.getAttribute("aria-label");\n  if (ariaLabel !== null && !!ariaLabel.trim())\n    return [{ full: ariaLabel, normalized: normalizeWhiteSpace(ariaLabel), immediate: [ariaLabel] }];\n  const isNonHiddenInput = element.nodeName === "INPUT" && element.type !== "hidden";\n  if (["BUTTON", "METER", "OUTPUT", "PROGRESS", "SELECT", "TEXTAREA"].includes(element.nodeName) || isNonHiddenInput) {\n    const labels2 = element.labels;\n    if (labels2)\n      return [...labels2].map((label) => elementText(textCache, label));\n  }\n  return [];\n}\n\n// packages/injected/src/reactSelectorEngine.ts\nfunction getFunctionComponentName(component) {\n  return component.displayName || component.name || "Anonymous";\n}\nfunction getComponentName(reactElement) {\n  if (reactElement.type) {\n    switch (typeof reactElement.type) {\n      case "function":\n        return getFunctionComponentName(reactElement.type);\n      case "string":\n        return reactElement.type;\n      case "object":\n        return reactElement.type.displayName || (reactElement.type.render ? getFunctionComponentName(reactElement.type.render) : "");\n    }\n  }\n  if (reactElement._currentElement) {\n    const elementType = reactElement._currentElement.type;\n    if (typeof elementType === "string")\n      return elementType;\n    if (typeof elementType === "function")\n      return elementType.displayName || elementType.name || "Anonymous";\n  }\n  return "";\n}\nfunction getComponentKey(reactElement) {\n  var _a, _b;\n  return (_b = reactElement.key) != null ? _b : (_a = reactElement._currentElement) == null ? void 0 : _a.key;\n}\nfunction getChildren(reactElement) {\n  if (reactElement.child) {\n    const children = [];\n    for (let child = reactElement.child; child; child = child.sibling)\n      children.push(child);\n    return children;\n  }\n  if (!reactElement._currentElement)\n    return [];\n  const isKnownElement = (reactElement2) => {\n    var _a;\n    const elementType = (_a = reactElement2._currentElement) == null ? void 0 : _a.type;\n    return typeof elementType === "function" || typeof elementType === "string";\n  };\n  if (reactElement._renderedComponent) {\n    const child = reactElement._renderedComponent;\n    return isKnownElement(child) ? [child] : [];\n  }\n  if (reactElement._renderedChildren)\n    return [...Object.values(reactElement._renderedChildren)].filter(isKnownElement);\n  return [];\n}\nfunction getProps(reactElement) {\n  var _a;\n  const props = (\n    /* React 16+ */\n    reactElement.memoizedProps || /* React 15 */\n    ((_a = reactElement._currentElement) == null ? void 0 : _a.props)\n  );\n  if (!props || typeof props === "string")\n    return props;\n  const result = { ...props };\n  delete result.children;\n  return result;\n}\nfunction buildComponentsTree(reactElement) {\n  var _a;\n  const treeNode = {\n    key: getComponentKey(reactElement),\n    name: getComponentName(reactElement),\n    children: getChildren(reactElement).map(buildComponentsTree),\n    rootElements: [],\n    props: getProps(reactElement)\n  };\n  const rootElement = (\n    /* React 16+ */\n    reactElement.stateNode || /* React 15 */\n    reactElement._hostNode || /* React 15 */\n    ((_a = reactElement._renderedComponent) == null ? void 0 : _a._hostNode)\n  );\n  if (rootElement instanceof Element) {\n    treeNode.rootElements.push(rootElement);\n  } else {\n    for (const child of treeNode.children)\n      treeNode.rootElements.push(...child.rootElements);\n  }\n  return treeNode;\n}\nfunction filterComponentsTree(treeNode, searchFn, result = []) {\n  if (searchFn(treeNode))\n    result.push(treeNode);\n  for (const child of treeNode.children)\n    filterComponentsTree(child, searchFn, result);\n  return result;\n}\nfunction findReactRoots(root, roots = []) {\n  const document = root.ownerDocument || root;\n  const walker = document.createTreeWalker(root, NodeFilter.SHOW_ELEMENT);\n  do {\n    const node = walker.currentNode;\n    const reactNode = node;\n    const rootKey = Object.keys(reactNode).find((key) => key.startsWith("__reactContainer") && reactNode[key] !== null);\n    if (rootKey) {\n      roots.push(reactNode[rootKey].stateNode.current);\n    } else {\n      const legacyRootKey = "_reactRootContainer";\n      if (reactNode.hasOwnProperty(legacyRootKey) && reactNode[legacyRootKey] !== null) {\n        roots.push(reactNode[legacyRootKey]._internalRoot.current);\n      }\n    }\n    if (node instanceof Element && node.hasAttribute("data-reactroot")) {\n      for (const key of Object.keys(node)) {\n        if (key.startsWith("__reactInternalInstance") || key.startsWith("__reactFiber"))\n          roots.push(node[key]);\n      }\n    }\n    const shadowRoot = node instanceof Element ? node.shadowRoot : null;\n    if (shadowRoot)\n      findReactRoots(shadowRoot, roots);\n  } while (walker.nextNode());\n  return roots;\n}\nvar createReactEngine = () => ({\n  queryAll(scope, selector) {\n    const { name, attributes } = parseAttributeSelector(selector, false);\n    const reactRoots = findReactRoots(scope.ownerDocument || scope);\n    const trees = reactRoots.map((reactRoot) => buildComponentsTree(reactRoot));\n    const treeNodes = trees.map((tree) => filterComponentsTree(tree, (treeNode) => {\n      var _a;\n      const props = (_a = treeNode.props) != null ? _a : {};\n      if (treeNode.key !== void 0)\n        props.key = treeNode.key;\n      if (name && treeNode.name !== name)\n        return false;\n      if (treeNode.rootElements.some((domNode) => !isInsideScope(scope, domNode)))\n        return false;\n      for (const attr of attributes) {\n        if (!matchesComponentAttribute(props, attr))\n          return false;\n      }\n      return true;\n    })).flat();\n    const allRootElements = /* @__PURE__ */ new Set();\n    for (const treeNode of treeNodes) {\n      for (const domNode of treeNode.rootElements)\n        allRootElements.add(domNode);\n    }\n    return [...allRootElements];\n  }\n});\n\n// packages/injected/src/roleSelectorEngine.ts\nvar kSupportedAttributes = ["selected", "checked", "pressed", "expanded", "level", "disabled", "name", "include-hidden"];\nkSupportedAttributes.sort();\nfunction validateSupportedRole(attr, roles, role) {\n  if (!roles.includes(role))\n    throw new Error(`"${attr}" attribute is only supported for roles: ${roles.slice().sort().map((role2) => `"${role2}"`).join(", ")}`);\n}\nfunction validateSupportedValues(attr, values) {\n  if (attr.op !== "<truthy>" && !values.includes(attr.value))\n    throw new Error(`"${attr.name}" must be one of ${values.map((v) => JSON.stringify(v)).join(", ")}`);\n}\nfunction validateSupportedOp(attr, ops) {\n  if (!ops.includes(attr.op))\n    throw new Error(`"${attr.name}" does not support "${attr.op}" matcher`);\n}\nfunction validateAttributes(attrs, role) {\n  const options = { role };\n  for (const attr of attrs) {\n    switch (attr.name) {\n      case "checked": {\n        validateSupportedRole(attr.name, kAriaCheckedRoles, role);\n        validateSupportedValues(attr, [true, false, "mixed"]);\n        validateSupportedOp(attr, ["<truthy>", "="]);\n        options.checked = attr.op === "<truthy>" ? true : attr.value;\n        break;\n      }\n      case "pressed": {\n        validateSupportedRole(attr.name, kAriaPressedRoles, role);\n        validateSupportedValues(attr, [true, false, "mixed"]);\n        validateSupportedOp(attr, ["<truthy>", "="]);\n        options.pressed = attr.op === "<truthy>" ? true : attr.value;\n        break;\n      }\n      case "selected": {\n        validateSupportedRole(attr.name, kAriaSelectedRoles, role);\n        validateSupportedValues(attr, [true, false]);\n        validateSupportedOp(attr, ["<truthy>", "="]);\n        options.selected = attr.op === "<truthy>" ? true : attr.value;\n        break;\n      }\n      case "expanded": {\n        validateSupportedRole(attr.name, kAriaExpandedRoles, role);\n        validateSupportedValues(attr, [true, false]);\n        validateSupportedOp(attr, ["<truthy>", "="]);\n        options.expanded = attr.op === "<truthy>" ? true : attr.value;\n        break;\n      }\n      case "level": {\n        validateSupportedRole(attr.name, kAriaLevelRoles, role);\n        if (typeof attr.value === "string")\n          attr.value = +attr.value;\n        if (attr.op !== "=" || typeof attr.value !== "number" || Number.isNaN(attr.value))\n          throw new Error(`"level" attribute must be compared to a number`);\n        options.level = attr.value;\n        break;\n      }\n      case "disabled": {\n        validateSupportedValues(attr, [true, false]);\n        validateSupportedOp(attr, ["<truthy>", "="]);\n        options.disabled = attr.op === "<truthy>" ? true : attr.value;\n        break;\n      }\n      case "name": {\n        if (attr.op === "<truthy>")\n          throw new Error(`"name" attribute must have a value`);\n        if (typeof attr.value !== "string" && !(attr.value instanceof RegExp))\n          throw new Error(`"name" attribute must be a string or a regular expression`);\n        options.name = attr.value;\n        options.nameOp = attr.op;\n        options.exact = attr.caseSensitive;\n        break;\n      }\n      case "include-hidden": {\n        validateSupportedValues(attr, [true, false]);\n        validateSupportedOp(attr, ["<truthy>", "="]);\n        options.includeHidden = attr.op === "<truthy>" ? true : attr.value;\n        break;\n      }\n      default: {\n        throw new Error(`Unknown attribute "${attr.name}", must be one of ${kSupportedAttributes.map((a) => `"${a}"`).join(", ")}.`);\n      }\n    }\n  }\n  return options;\n}\nfunction queryRole(scope, options, internal) {\n  const result = [];\n  const match = (element) => {\n    if (getAriaRole(element) !== options.role)\n      return;\n    if (options.selected !== void 0 && getAriaSelected(element) !== options.selected)\n      return;\n    if (options.checked !== void 0 && getAriaChecked(element) !== options.checked)\n      return;\n    if (options.pressed !== void 0 && getAriaPressed(element) !== options.pressed)\n      return;\n    if (options.expanded !== void 0 && getAriaExpanded(element) !== options.expanded)\n      return;\n    if (options.level !== void 0 && getAriaLevel(element) !== options.level)\n      return;\n    if (options.disabled !== void 0 && getAriaDisabled(element) !== options.disabled)\n      return;\n    if (!options.includeHidden) {\n      const isHidden = isElementHiddenForAria(element);\n      if (isHidden)\n        return;\n    }\n    if (options.name !== void 0) {\n      const accessibleName = normalizeWhiteSpace(getElementAccessibleName(element, !!options.includeHidden));\n      if (typeof options.name === "string")\n        options.name = normalizeWhiteSpace(options.name);\n      if (internal && !options.exact && options.nameOp === "=")\n        options.nameOp = "*=";\n      if (!matchesAttributePart(accessibleName, { name: "", jsonPath: [], op: options.nameOp || "=", value: options.name, caseSensitive: !!options.exact }))\n        return;\n    }\n    result.push(element);\n  };\n  const query = (root) => {\n    const shadows = [];\n    if (root.shadowRoot)\n      shadows.push(root.shadowRoot);\n    for (const element of root.querySelectorAll("*")) {\n      match(element);\n      if (element.shadowRoot)\n        shadows.push(element.shadowRoot);\n    }\n    shadows.forEach(query);\n  };\n  query(scope);\n  return result;\n}\nfunction createRoleEngine(internal) {\n  return {\n    queryAll: (scope, selector) => {\n      const parsed = parseAttributeSelector(selector, true);\n      const role = parsed.name.toLowerCase();\n      if (!role)\n        throw new Error(`Role must not be empty`);\n      const options = validateAttributes(parsed.attributes, role);\n      beginAriaCaches();\n      try {\n        return queryRole(scope, options, internal);\n      } finally {\n        endAriaCaches();\n      }\n    }\n  };\n}\n\n// packages/injected/src/selectorEvaluator.ts\nvar SelectorEvaluatorImpl = class {\n  constructor() {\n    this._retainCacheCounter = 0;\n    this._cacheText = /* @__PURE__ */ new Map();\n    this._cacheQueryCSS = /* @__PURE__ */ new Map();\n    this._cacheMatches = /* @__PURE__ */ new Map();\n    this._cacheQuery = /* @__PURE__ */ new Map();\n    this._cacheMatchesSimple = /* @__PURE__ */ new Map();\n    this._cacheMatchesParents = /* @__PURE__ */ new Map();\n    this._cacheCallMatches = /* @__PURE__ */ new Map();\n    this._cacheCallQuery = /* @__PURE__ */ new Map();\n    this._cacheQuerySimple = /* @__PURE__ */ new Map();\n    this._engines = /* @__PURE__ */ new Map();\n    this._engines.set("not", notEngine);\n    this._engines.set("is", isEngine);\n    this._engines.set("where", isEngine);\n    this._engines.set("has", hasEngine);\n    this._engines.set("scope", scopeEngine);\n    this._engines.set("light", lightEngine);\n    this._engines.set("visible", visibleEngine);\n    this._engines.set("text", textEngine);\n    this._engines.set("text-is", textIsEngine);\n    this._engines.set("text-matches", textMatchesEngine);\n    this._engines.set("has-text", hasTextEngine);\n    this._engines.set("right-of", createLayoutEngine("right-of"));\n    this._engines.set("left-of", createLayoutEngine("left-of"));\n    this._engines.set("above", createLayoutEngine("above"));\n    this._engines.set("below", createLayoutEngine("below"));\n    this._engines.set("near", createLayoutEngine("near"));\n    this._engines.set("nth-match", nthMatchEngine);\n    const allNames = [...this._engines.keys()];\n    allNames.sort();\n    const parserNames = [...customCSSNames];\n    parserNames.sort();\n    if (allNames.join("|") !== parserNames.join("|"))\n      throw new Error(`Please keep customCSSNames in sync with evaluator engines: ${allNames.join("|")} vs ${parserNames.join("|")}`);\n  }\n  begin() {\n    ++this._retainCacheCounter;\n  }\n  end() {\n    --this._retainCacheCounter;\n    if (!this._retainCacheCounter) {\n      this._cacheQueryCSS.clear();\n      this._cacheMatches.clear();\n      this._cacheQuery.clear();\n      this._cacheMatchesSimple.clear();\n      this._cacheMatchesParents.clear();\n      this._cacheCallMatches.clear();\n      this._cacheCallQuery.clear();\n      this._cacheQuerySimple.clear();\n      this._cacheText.clear();\n    }\n  }\n  _cached(cache, main, rest, cb) {\n    if (!cache.has(main))\n      cache.set(main, []);\n    const entries = cache.get(main);\n    const entry = entries.find((e) => rest.every((value, index) => e.rest[index] === value));\n    if (entry)\n      return entry.result;\n    const result = cb();\n    entries.push({ rest, result });\n    return result;\n  }\n  _checkSelector(s) {\n    const wellFormed = typeof s === "object" && s && (Array.isArray(s) || "simples" in s && s.simples.length);\n    if (!wellFormed)\n      throw new Error(`Malformed selector "${s}"`);\n    return s;\n  }\n  matches(element, s, context) {\n    const selector = this._checkSelector(s);\n    this.begin();\n    try {\n      return this._cached(this._cacheMatches, element, [selector, context.scope, context.pierceShadow, context.originalScope], () => {\n        if (Array.isArray(selector))\n          return this._matchesEngine(isEngine, element, selector, context);\n        if (this._hasScopeClause(selector))\n          context = this._expandContextForScopeMatching(context);\n        if (!this._matchesSimple(element, selector.simples[selector.simples.length - 1].selector, context))\n          return false;\n        return this._matchesParents(element, selector, selector.simples.length - 2, context);\n      });\n    } finally {\n      this.end();\n    }\n  }\n  query(context, s) {\n    const selector = this._checkSelector(s);\n    this.begin();\n    try {\n      return this._cached(this._cacheQuery, selector, [context.scope, context.pierceShadow, context.originalScope], () => {\n        if (Array.isArray(selector))\n          return this._queryEngine(isEngine, context, selector);\n        if (this._hasScopeClause(selector))\n          context = this._expandContextForScopeMatching(context);\n        const previousScoreMap = this._scoreMap;\n        this._scoreMap = /* @__PURE__ */ new Map();\n        let elements = this._querySimple(context, selector.simples[selector.simples.length - 1].selector);\n        elements = elements.filter((element) => this._matchesParents(element, selector, selector.simples.length - 2, context));\n        if (this._scoreMap.size) {\n          elements.sort((a, b) => {\n            const aScore = this._scoreMap.get(a);\n            const bScore = this._scoreMap.get(b);\n            if (aScore === bScore)\n              return 0;\n            if (aScore === void 0)\n              return 1;\n            if (bScore === void 0)\n              return -1;\n            return aScore - bScore;\n          });\n        }\n        this._scoreMap = previousScoreMap;\n        return elements;\n      });\n    } finally {\n      this.end();\n    }\n  }\n  _markScore(element, score) {\n    if (this._scoreMap)\n      this._scoreMap.set(element, score);\n  }\n  _hasScopeClause(selector) {\n    return selector.simples.some((simple) => simple.selector.functions.some((f) => f.name === "scope"));\n  }\n  _expandContextForScopeMatching(context) {\n    if (context.scope.nodeType !== 1)\n      return context;\n    const scope = parentElementOrShadowHost(context.scope);\n    if (!scope)\n      return context;\n    return { ...context, scope, originalScope: context.originalScope || context.scope };\n  }\n  _matchesSimple(element, simple, context) {\n    return this._cached(this._cacheMatchesSimple, element, [simple, context.scope, context.pierceShadow, context.originalScope], () => {\n      if (element === context.scope)\n        return false;\n      if (simple.css && !this._matchesCSS(element, simple.css))\n        return false;\n      for (const func of simple.functions) {\n        if (!this._matchesEngine(this._getEngine(func.name), element, func.args, context))\n          return false;\n      }\n      return true;\n    });\n  }\n  _querySimple(context, simple) {\n    if (!simple.functions.length)\n      return this._queryCSS(context, simple.css || "*");\n    return this._cached(this._cacheQuerySimple, simple, [context.scope, context.pierceShadow, context.originalScope], () => {\n      let css = simple.css;\n      const funcs = simple.functions;\n      if (css === "*" && funcs.length)\n        css = void 0;\n      let elements;\n      let firstIndex = -1;\n      if (css !== void 0) {\n        elements = this._queryCSS(context, css);\n      } else {\n        firstIndex = funcs.findIndex((func) => this._getEngine(func.name).query !== void 0);\n        if (firstIndex === -1)\n          firstIndex = 0;\n        elements = this._queryEngine(this._getEngine(funcs[firstIndex].name), context, funcs[firstIndex].args);\n      }\n      for (let i = 0; i < funcs.length; i++) {\n        if (i === firstIndex)\n          continue;\n        const engine = this._getEngine(funcs[i].name);\n        if (engine.matches !== void 0)\n          elements = elements.filter((e) => this._matchesEngine(engine, e, funcs[i].args, context));\n      }\n      for (let i = 0; i < funcs.length; i++) {\n        if (i === firstIndex)\n          continue;\n        const engine = this._getEngine(funcs[i].name);\n        if (engine.matches === void 0)\n          elements = elements.filter((e) => this._matchesEngine(engine, e, funcs[i].args, context));\n      }\n      return elements;\n    });\n  }\n  _matchesParents(element, complex, index, context) {\n    if (index < 0)\n      return true;\n    return this._cached(this._cacheMatchesParents, element, [complex, index, context.scope, context.pierceShadow, context.originalScope], () => {\n      const { selector: simple, combinator } = complex.simples[index];\n      if (combinator === ">") {\n        const parent = parentElementOrShadowHostInContext(element, context);\n        if (!parent || !this._matchesSimple(parent, simple, context))\n          return false;\n        return this._matchesParents(parent, complex, index - 1, context);\n      }\n      if (combinator === "+") {\n        const previousSibling = previousSiblingInContext(element, context);\n        if (!previousSibling || !this._matchesSimple(previousSibling, simple, context))\n          return false;\n        return this._matchesParents(previousSibling, complex, index - 1, context);\n      }\n      if (combinator === "") {\n        let parent = parentElementOrShadowHostInContext(element, context);\n        while (parent) {\n          if (this._matchesSimple(parent, simple, context)) {\n            if (this._matchesParents(parent, complex, index - 1, context))\n              return true;\n            if (complex.simples[index - 1].combinator === "")\n              break;\n          }\n          parent = parentElementOrShadowHostInContext(parent, context);\n        }\n        return false;\n      }\n      if (combinator === "~") {\n        let previousSibling = previousSiblingInContext(element, context);\n        while (previousSibling) {\n          if (this._matchesSimple(previousSibling, simple, context)) {\n            if (this._matchesParents(previousSibling, complex, index - 1, context))\n              return true;\n            if (complex.simples[index - 1].combinator === "~")\n              break;\n          }\n          previousSibling = previousSiblingInContext(previousSibling, context);\n        }\n        return false;\n      }\n      if (combinator === ">=") {\n        let parent = element;\n        while (parent) {\n          if (this._matchesSimple(parent, simple, context)) {\n            if (this._matchesParents(parent, complex, index - 1, context))\n              return true;\n            if (complex.simples[index - 1].combinator === "")\n              break;\n          }\n          parent = parentElementOrShadowHostInContext(parent, context);\n        }\n        return false;\n      }\n      throw new Error(`Unsupported combinator "${combinator}"`);\n    });\n  }\n  _matchesEngine(engine, element, args, context) {\n    if (engine.matches)\n      return this._callMatches(engine, element, args, context);\n    if (engine.query)\n      return this._callQuery(engine, args, context).includes(element);\n    throw new Error(`Selector engine should implement "matches" or "query"`);\n  }\n  _queryEngine(engine, context, args) {\n    if (engine.query)\n      return this._callQuery(engine, args, context);\n    if (engine.matches)\n      return this._queryCSS(context, "*").filter((element) => this._callMatches(engine, element, args, context));\n    throw new Error(`Selector engine should implement "matches" or "query"`);\n  }\n  _callMatches(engine, element, args, context) {\n    return this._cached(this._cacheCallMatches, element, [engine, context.scope, context.pierceShadow, context.originalScope, ...args], () => {\n      return engine.matches(element, args, context, this);\n    });\n  }\n  _callQuery(engine, args, context) {\n    return this._cached(this._cacheCallQuery, engine, [context.scope, context.pierceShadow, context.originalScope, ...args], () => {\n      return engine.query(context, args, this);\n    });\n  }\n  _matchesCSS(element, css) {\n    return element.matches(css);\n  }\n  _queryCSS(context, css) {\n    return this._cached(this._cacheQueryCSS, css, [context.scope, context.pierceShadow, context.originalScope], () => {\n      let result = [];\n      function query(root) {\n        result = result.concat([...root.querySelectorAll(css)]);\n        if (!context.pierceShadow)\n          return;\n        if (root.shadowRoot)\n          query(root.shadowRoot);\n        for (const element of root.querySelectorAll("*")) {\n          if (element.shadowRoot)\n            query(element.shadowRoot);\n        }\n      }\n      query(context.scope);\n      return result;\n    });\n  }\n  _getEngine(name) {\n    const engine = this._engines.get(name);\n    if (!engine)\n      throw new Error(`Unknown selector engine "${name}"`);\n    return engine;\n  }\n};\nvar isEngine = {\n  matches(element, args, context, evaluator) {\n    if (args.length === 0)\n      throw new Error(`"is" engine expects non-empty selector list`);\n    return args.some((selector) => evaluator.matches(element, selector, context));\n  },\n  query(context, args, evaluator) {\n    if (args.length === 0)\n      throw new Error(`"is" engine expects non-empty selector list`);\n    let elements = [];\n    for (const arg of args)\n      elements = elements.concat(evaluator.query(context, arg));\n    return args.length === 1 ? elements : sortInDOMOrder(elements);\n  }\n};\nvar hasEngine = {\n  matches(element, args, context, evaluator) {\n    if (args.length === 0)\n      throw new Error(`"has" engine expects non-empty selector list`);\n    return evaluator.query({ ...context, scope: element }, args).length > 0;\n  }\n  // TODO: we can implement efficient "query" by matching "args" and returning\n  // all parents/descendants, just have to be careful with the ":scope" matching.\n};\nvar scopeEngine = {\n  matches(element, args, context, evaluator) {\n    if (args.length !== 0)\n      throw new Error(`"scope" engine expects no arguments`);\n    const actualScope = context.originalScope || context.scope;\n    if (actualScope.nodeType === 9)\n      return element === actualScope.documentElement;\n    return element === actualScope;\n  },\n  query(context, args, evaluator) {\n    if (args.length !== 0)\n      throw new Error(`"scope" engine expects no arguments`);\n    const actualScope = context.originalScope || context.scope;\n    if (actualScope.nodeType === 9) {\n      const root = actualScope.documentElement;\n      return root ? [root] : [];\n    }\n    if (actualScope.nodeType === 1)\n      return [actualScope];\n    return [];\n  }\n};\nvar notEngine = {\n  matches(element, args, context, evaluator) {\n    if (args.length === 0)\n      throw new Error(`"not" engine expects non-empty selector list`);\n    return !evaluator.matches(element, args, context);\n  }\n};\nvar lightEngine = {\n  query(context, args, evaluator) {\n    return evaluator.query({ ...context, pierceShadow: false }, args);\n  },\n  matches(element, args, context, evaluator) {\n    return evaluator.matches(element, args, { ...context, pierceShadow: false });\n  }\n};\nvar visibleEngine = {\n  matches(element, args, context, evaluator) {\n    if (args.length)\n      throw new Error(`"visible" engine expects no arguments`);\n    return isElementVisible(element);\n  }\n};\nvar textEngine = {\n  matches(element, args, context, evaluator) {\n    if (args.length !== 1 || typeof args[0] !== "string")\n      throw new Error(`"text" engine expects a single string`);\n    const text = normalizeWhiteSpace(args[0]).toLowerCase();\n    const matcher = (elementText2) => elementText2.normalized.toLowerCase().includes(text);\n    return elementMatchesText(evaluator._cacheText, element, matcher) === "self";\n  }\n};\nvar textIsEngine = {\n  matches(element, args, context, evaluator) {\n    if (args.length !== 1 || typeof args[0] !== "string")\n      throw new Error(`"text-is" engine expects a single string`);\n    const text = normalizeWhiteSpace(args[0]);\n    const matcher = (elementText2) => {\n      if (!text && !elementText2.immediate.length)\n        return true;\n      return elementText2.immediate.some((s) => normalizeWhiteSpace(s) === text);\n    };\n    return elementMatchesText(evaluator._cacheText, element, matcher) !== "none";\n  }\n};\nvar textMatchesEngine = {\n  matches(element, args, context, evaluator) {\n    if (args.length === 0 || typeof args[0] !== "string" || args.length > 2 || args.length === 2 && typeof args[1] !== "string")\n      throw new Error(`"text-matches" engine expects a regexp body and optional regexp flags`);\n    const re = new RegExp(args[0], args.length === 2 ? args[1] : void 0);\n    const matcher = (elementText2) => re.test(elementText2.full);\n    return elementMatchesText(evaluator._cacheText, element, matcher) === "self";\n  }\n};\nvar hasTextEngine = {\n  matches(element, args, context, evaluator) {\n    if (args.length !== 1 || typeof args[0] !== "string")\n      throw new Error(`"has-text" engine expects a single string`);\n    if (shouldSkipForTextMatching(element))\n      return false;\n    const text = normalizeWhiteSpace(args[0]).toLowerCase();\n    const matcher = (elementText2) => elementText2.normalized.toLowerCase().includes(text);\n    return matcher(elementText(evaluator._cacheText, element));\n  }\n};\nfunction createLayoutEngine(name) {\n  return {\n    matches(element, args, context, evaluator) {\n      const maxDistance = args.length && typeof args[args.length - 1] === "number" ? args[args.length - 1] : void 0;\n      const queryArgs = maxDistance === void 0 ? args : args.slice(0, args.length - 1);\n      if (args.length < 1 + (maxDistance === void 0 ? 0 : 1))\n        throw new Error(`"${name}" engine expects a selector list and optional maximum distance in pixels`);\n      const inner = evaluator.query(context, queryArgs);\n      const score = layoutSelectorScore(name, element, inner, maxDistance);\n      if (score === void 0)\n        return false;\n      evaluator._markScore(element, score);\n      return true;\n    }\n  };\n}\nvar nthMatchEngine = {\n  query(context, args, evaluator) {\n    let index = args[args.length - 1];\n    if (args.length < 2)\n      throw new Error(`"nth-match" engine expects non-empty selector list and an index argument`);\n    if (typeof index !== "number" || index < 1)\n      throw new Error(`"nth-match" engine expects a one-based index as the last argument`);\n    const elements = isEngine.query(context, args.slice(0, args.length - 1), evaluator);\n    index--;\n    return index < elements.length ? [elements[index]] : [];\n  }\n};\nfunction parentElementOrShadowHostInContext(element, context) {\n  if (element === context.scope)\n    return;\n  if (!context.pierceShadow)\n    return element.parentElement || void 0;\n  return parentElementOrShadowHost(element);\n}\nfunction previousSiblingInContext(element, context) {\n  if (element === context.scope)\n    return;\n  return element.previousElementSibling || void 0;\n}\nfunction sortInDOMOrder(elements) {\n  const elementToEntry = /* @__PURE__ */ new Map();\n  const roots = [];\n  const result = [];\n  function append(element) {\n    let entry = elementToEntry.get(element);\n    if (entry)\n      return entry;\n    const parent = parentElementOrShadowHost(element);\n    if (parent) {\n      const parentEntry = append(parent);\n      parentEntry.children.push(element);\n    } else {\n      roots.push(element);\n    }\n    entry = { children: [], taken: false };\n    elementToEntry.set(element, entry);\n    return entry;\n  }\n  for (const e of elements)\n    append(e).taken = true;\n  function visit(element) {\n    const entry = elementToEntry.get(element);\n    if (entry.taken)\n      result.push(element);\n    if (entry.children.length > 1) {\n      const set = new Set(entry.children);\n      entry.children = [];\n      let child = element.firstElementChild;\n      while (child && entry.children.length < set.size) {\n        if (set.has(child))\n          entry.children.push(child);\n        child = child.nextElementSibling;\n      }\n      child = element.shadowRoot ? element.shadowRoot.firstElementChild : null;\n      while (child && entry.children.length < set.size) {\n        if (set.has(child))\n          entry.children.push(child);\n        child = child.nextElementSibling;\n      }\n    }\n    entry.children.forEach(visit);\n  }\n  roots.forEach(visit);\n  return result;\n}\n\n// packages/injected/src/selectorGenerator.ts\nvar kTextScoreRange = 10;\nvar kExactPenalty = kTextScoreRange / 2;\nvar kTestIdScore = 1;\nvar kOtherTestIdScore = 2;\nvar kIframeByAttributeScore = 10;\nvar kBeginPenalizedScore = 50;\nvar kRoleWithNameScore = 100;\nvar kPlaceholderScore = 120;\nvar kLabelScore = 140;\nvar kAltTextScore = 160;\nvar kTextScore = 180;\nvar kTitleScore = 200;\nvar kTextScoreRegex = 250;\nvar kPlaceholderScoreExact = kPlaceholderScore + kExactPenalty;\nvar kLabelScoreExact = kLabelScore + kExactPenalty;\nvar kRoleWithNameScoreExact = kRoleWithNameScore + kExactPenalty;\nvar kAltTextScoreExact = kAltTextScore + kExactPenalty;\nvar kTextScoreExact = kTextScore + kExactPenalty;\nvar kTitleScoreExact = kTitleScore + kExactPenalty;\nvar kEndPenalizedScore = 300;\nvar kCSSIdScore = 500;\nvar kRoleWithoutNameScore = 510;\nvar kCSSInputTypeNameScore = 520;\nvar kCSSTagNameScore = 530;\nvar kNthScore = 1e4;\nvar kCSSFallbackScore = 1e7;\nvar kScoreThresholdForTextExpect = 1e3;\nfunction generateSelector(injectedScript, targetElement, options) {\n  var _a;\n  injectedScript._evaluator.begin();\n  const cache = { allowText: /* @__PURE__ */ new Map(), disallowText: /* @__PURE__ */ new Map() };\n  beginAriaCaches();\n  beginDOMCaches();\n  try {\n    let selectors = [];\n    if (options.forTextExpect) {\n      let targetTokens = cssFallback(injectedScript, targetElement.ownerDocument.documentElement, options);\n      for (let element = targetElement; element; element = parentElementOrShadowHost(element)) {\n        const tokens = generateSelectorFor(cache, injectedScript, element, { ...options, noText: true });\n        if (!tokens)\n          continue;\n        const score = combineScores(tokens);\n        if (score <= kScoreThresholdForTextExpect) {\n          targetTokens = tokens;\n          break;\n        }\n      }\n      selectors = [joinTokens(targetTokens)];\n    } else {\n      if (!targetElement.matches("input,textarea,select") && !targetElement.isContentEditable) {\n        const interactiveParent = closestCrossShadow(targetElement, "button,select,input,[role=button],[role=checkbox],[role=radio],a,[role=link]", options.root);\n        if (interactiveParent && isElementVisible(interactiveParent))\n          targetElement = interactiveParent;\n      }\n      if (options.multiple) {\n        const withText = generateSelectorFor(cache, injectedScript, targetElement, options);\n        const withoutText = generateSelectorFor(cache, injectedScript, targetElement, { ...options, noText: true });\n        let tokens = [withText, withoutText];\n        cache.allowText.clear();\n        cache.disallowText.clear();\n        if (withText && hasCSSIdToken(withText))\n          tokens.push(generateSelectorFor(cache, injectedScript, targetElement, { ...options, noCSSId: true }));\n        if (withoutText && hasCSSIdToken(withoutText))\n          tokens.push(generateSelectorFor(cache, injectedScript, targetElement, { ...options, noText: true, noCSSId: true }));\n        tokens = tokens.filter(Boolean);\n        if (!tokens.length) {\n          const css = cssFallback(injectedScript, targetElement, options);\n          tokens.push(css);\n          if (hasCSSIdToken(css))\n            tokens.push(cssFallback(injectedScript, targetElement, { ...options, noCSSId: true }));\n        }\n        selectors = [...new Set(tokens.map((t) => joinTokens(t)))];\n      } else {\n        const targetTokens = generateSelectorFor(cache, injectedScript, targetElement, options) || cssFallback(injectedScript, targetElement, options);\n        selectors = [joinTokens(targetTokens)];\n      }\n    }\n    const selector = selectors[0];\n    const parsedSelector = injectedScript.parseSelector(selector);\n    return {\n      selector,\n      selectors,\n      elements: injectedScript.querySelectorAll(parsedSelector, (_a = options.root) != null ? _a : targetElement.ownerDocument)\n    };\n  } finally {\n    endDOMCaches();\n    endAriaCaches();\n    injectedScript._evaluator.end();\n  }\n}\nfunction generateSelectorFor(cache, injectedScript, targetElement, options) {\n  var _a;\n  if (options.root && !isInsideScope(options.root, targetElement))\n    throw new Error(`Target element must belong to the root\'s subtree`);\n  if (targetElement === options.root)\n    return [{ engine: "css", selector: ":scope", score: 1 }];\n  if (targetElement.ownerDocument.documentElement === targetElement)\n    return [{ engine: "css", selector: "html", score: 1 }];\n  let result = null;\n  const updateResult = (candidate) => {\n    if (!result || combineScores(candidate) < combineScores(result))\n      result = candidate;\n  };\n  const candidates = [];\n  if (!options.noText) {\n    for (const candidate of buildTextCandidates(injectedScript, targetElement, !options.isRecursive))\n      candidates.push({ candidate, isTextCandidate: true });\n  }\n  for (const token of buildNoTextCandidates(injectedScript, targetElement, options)) {\n    if (options.omitInternalEngines && token.engine.startsWith("internal:"))\n      continue;\n    candidates.push({ candidate: [token], isTextCandidate: false });\n  }\n  candidates.sort((a, b) => combineScores(a.candidate) - combineScores(b.candidate));\n  for (const { candidate, isTextCandidate } of candidates) {\n    const elements = injectedScript.querySelectorAll(injectedScript.parseSelector(joinTokens(candidate)), (_a = options.root) != null ? _a : targetElement.ownerDocument);\n    if (!elements.includes(targetElement)) {\n      continue;\n    }\n    if (elements.length === 1) {\n      updateResult(candidate);\n      break;\n    }\n    const index = elements.indexOf(targetElement);\n    if (index > 5) {\n      continue;\n    }\n    updateResult([...candidate, { engine: "nth", selector: String(index), score: kNthScore }]);\n    if (options.isRecursive) {\n      continue;\n    }\n    for (let parent = parentElementOrShadowHost(targetElement); parent && parent !== options.root; parent = parentElementOrShadowHost(parent)) {\n      const filtered = elements.filter((e) => isInsideScope(parent, e) && e !== parent);\n      const newIndex = filtered.indexOf(targetElement);\n      if (filtered.length > 5 || newIndex === -1 || newIndex === index && filtered.length > 1) {\n        continue;\n      }\n      const inParent = filtered.length === 1 ? candidate : [...candidate, { engine: "nth", selector: String(newIndex), score: kNthScore }];\n      const idealSelectorForParent = { engine: "", selector: "", score: 1 };\n      if (result && combineScores([idealSelectorForParent, ...inParent]) >= combineScores(result)) {\n        continue;\n      }\n      const noText = !!options.noText || isTextCandidate;\n      const cacheMap = noText ? cache.disallowText : cache.allowText;\n      let parentTokens = cacheMap.get(parent);\n      if (parentTokens === void 0) {\n        parentTokens = generateSelectorFor(cache, injectedScript, parent, { ...options, isRecursive: true, noText }) || cssFallback(injectedScript, parent, options);\n        cacheMap.set(parent, parentTokens);\n      }\n      if (!parentTokens)\n        continue;\n      updateResult([...parentTokens, ...inParent]);\n    }\n  }\n  return result;\n}\nfunction buildNoTextCandidates(injectedScript, element, options) {\n  const candidates = [];\n  {\n    for (const attr of ["data-testid", "data-test-id", "data-test"]) {\n      if (attr !== options.testIdAttributeName && element.getAttribute(attr))\n        candidates.push({ engine: "css", selector: `[${attr}=${quoteCSSAttributeValue(element.getAttribute(attr))}]`, score: kOtherTestIdScore });\n    }\n    if (!options.noCSSId) {\n      const idAttr = element.getAttribute("id");\n      if (idAttr && !isGuidLike(idAttr))\n        candidates.push({ engine: "css", selector: makeSelectorForId(idAttr), score: kCSSIdScore });\n    }\n    candidates.push({ engine: "css", selector: escapeNodeName(element), score: kCSSTagNameScore });\n  }\n  if (element.nodeName === "IFRAME") {\n    for (const attribute of ["name", "title"]) {\n      if (element.getAttribute(attribute))\n        candidates.push({ engine: "css", selector: `${escapeNodeName(element)}[${attribute}=${quoteCSSAttributeValue(element.getAttribute(attribute))}]`, score: kIframeByAttributeScore });\n    }\n    if (element.getAttribute(options.testIdAttributeName))\n      candidates.push({ engine: "css", selector: `[${options.testIdAttributeName}=${quoteCSSAttributeValue(element.getAttribute(options.testIdAttributeName))}]`, score: kTestIdScore });\n    penalizeScoreForLength([candidates]);\n    return candidates;\n  }\n  if (element.getAttribute(options.testIdAttributeName))\n    candidates.push({ engine: "internal:testid", selector: `[${options.testIdAttributeName}=${escapeForAttributeSelector(element.getAttribute(options.testIdAttributeName), true)}]`, score: kTestIdScore });\n  if (element.nodeName === "INPUT" || element.nodeName === "TEXTAREA") {\n    const input = element;\n    if (input.placeholder) {\n      candidates.push({ engine: "internal:attr", selector: `[placeholder=${escapeForAttributeSelector(input.placeholder, true)}]`, score: kPlaceholderScoreExact });\n      for (const alternative of suitableTextAlternatives(input.placeholder))\n        candidates.push({ engine: "internal:attr", selector: `[placeholder=${escapeForAttributeSelector(alternative.text, false)}]`, score: kPlaceholderScore - alternative.scoreBonus });\n    }\n  }\n  const labels = getElementLabels(injectedScript._evaluator._cacheText, element);\n  for (const label of labels) {\n    const labelText = label.normalized;\n    candidates.push({ engine: "internal:label", selector: escapeForTextSelector(labelText, true), score: kLabelScoreExact });\n    for (const alternative of suitableTextAlternatives(labelText))\n      candidates.push({ engine: "internal:label", selector: escapeForTextSelector(alternative.text, false), score: kLabelScore - alternative.scoreBonus });\n  }\n  const ariaRole = getAriaRole(element);\n  if (ariaRole && !["none", "presentation"].includes(ariaRole))\n    candidates.push({ engine: "internal:role", selector: ariaRole, score: kRoleWithoutNameScore });\n  if (element.getAttribute("name") && ["BUTTON", "FORM", "FIELDSET", "FRAME", "IFRAME", "INPUT", "KEYGEN", "OBJECT", "OUTPUT", "SELECT", "TEXTAREA", "MAP", "META", "PARAM"].includes(element.nodeName))\n    candidates.push({ engine: "css", selector: `${escapeNodeName(element)}[name=${quoteCSSAttributeValue(element.getAttribute("name"))}]`, score: kCSSInputTypeNameScore });\n  if (["INPUT", "TEXTAREA"].includes(element.nodeName) && element.getAttribute("type") !== "hidden") {\n    if (element.getAttribute("type"))\n      candidates.push({ engine: "css", selector: `${escapeNodeName(element)}[type=${quoteCSSAttributeValue(element.getAttribute("type"))}]`, score: kCSSInputTypeNameScore });\n  }\n  if (["INPUT", "TEXTAREA", "SELECT"].includes(element.nodeName) && element.getAttribute("type") !== "hidden")\n    candidates.push({ engine: "css", selector: escapeNodeName(element), score: kCSSInputTypeNameScore + 1 });\n  penalizeScoreForLength([candidates]);\n  return candidates;\n}\nfunction buildTextCandidates(injectedScript, element, isTargetNode) {\n  if (element.nodeName === "SELECT")\n    return [];\n  const candidates = [];\n  const title = element.getAttribute("title");\n  if (title) {\n    candidates.push([{ engine: "internal:attr", selector: `[title=${escapeForAttributeSelector(title, true)}]`, score: kTitleScoreExact }]);\n    for (const alternative of suitableTextAlternatives(title))\n      candidates.push([{ engine: "internal:attr", selector: `[title=${escapeForAttributeSelector(alternative.text, false)}]`, score: kTitleScore - alternative.scoreBonus }]);\n  }\n  const alt = element.getAttribute("alt");\n  if (alt && ["APPLET", "AREA", "IMG", "INPUT"].includes(element.nodeName)) {\n    candidates.push([{ engine: "internal:attr", selector: `[alt=${escapeForAttributeSelector(alt, true)}]`, score: kAltTextScoreExact }]);\n    for (const alternative of suitableTextAlternatives(alt))\n      candidates.push([{ engine: "internal:attr", selector: `[alt=${escapeForAttributeSelector(alternative.text, false)}]`, score: kAltTextScore - alternative.scoreBonus }]);\n  }\n  const text = elementText(injectedScript._evaluator._cacheText, element).normalized;\n  const textAlternatives = text ? suitableTextAlternatives(text) : [];\n  if (text) {\n    if (isTargetNode) {\n      if (text.length <= 80)\n        candidates.push([{ engine: "internal:text", selector: escapeForTextSelector(text, true), score: kTextScoreExact }]);\n      for (const alternative of textAlternatives)\n        candidates.push([{ engine: "internal:text", selector: escapeForTextSelector(alternative.text, false), score: kTextScore - alternative.scoreBonus }]);\n    }\n    const cssToken = { engine: "css", selector: escapeNodeName(element), score: kCSSTagNameScore };\n    for (const alternative of textAlternatives)\n      candidates.push([cssToken, { engine: "internal:has-text", selector: escapeForTextSelector(alternative.text, false), score: kTextScore - alternative.scoreBonus }]);\n    if (isTargetNode && text.length <= 80) {\n      const re = new RegExp("^" + escapeRegExp(text) + "$");\n      candidates.push([cssToken, { engine: "internal:has-text", selector: escapeForTextSelector(re, false), score: kTextScoreRegex }]);\n    }\n  }\n  const ariaRole = getAriaRole(element);\n  if (ariaRole && !["none", "presentation"].includes(ariaRole)) {\n    const ariaName = getElementAccessibleName(element, false);\n    if (ariaName) {\n      const roleToken = { engine: "internal:role", selector: `${ariaRole}[name=${escapeForAttributeSelector(ariaName, true)}]`, score: kRoleWithNameScoreExact };\n      candidates.push([roleToken]);\n      for (const alternative of suitableTextAlternatives(ariaName))\n        candidates.push([{ engine: "internal:role", selector: `${ariaRole}[name=${escapeForAttributeSelector(alternative.text, false)}]`, score: kRoleWithNameScore - alternative.scoreBonus }]);\n    } else {\n      const roleToken = { engine: "internal:role", selector: `${ariaRole}`, score: kRoleWithoutNameScore };\n      for (const alternative of textAlternatives)\n        candidates.push([roleToken, { engine: "internal:has-text", selector: escapeForTextSelector(alternative.text, false), score: kTextScore - alternative.scoreBonus }]);\n      if (isTargetNode && text.length <= 80) {\n        const re = new RegExp("^" + escapeRegExp(text) + "$");\n        candidates.push([roleToken, { engine: "internal:has-text", selector: escapeForTextSelector(re, false), score: kTextScoreRegex }]);\n      }\n    }\n  }\n  penalizeScoreForLength(candidates);\n  return candidates;\n}\nfunction makeSelectorForId(id) {\n  return /^[a-zA-Z][a-zA-Z0-9\\-\\_]+$/.test(id) ? "#" + id : `[id=${quoteCSSAttributeValue(id)}]`;\n}\nfunction hasCSSIdToken(tokens) {\n  return tokens.some((token) => token.engine === "css" && (token.selector.startsWith("#") || token.selector.startsWith(\'[id="\')));\n}\nfunction cssFallback(injectedScript, targetElement, options) {\n  var _a;\n  const root = (_a = options.root) != null ? _a : targetElement.ownerDocument;\n  const tokens = [];\n  function uniqueCSSSelector(prefix) {\n    const path = tokens.slice();\n    if (prefix)\n      path.unshift(prefix);\n    const selector = path.join(" > ");\n    const parsedSelector = injectedScript.parseSelector(selector);\n    const node = injectedScript.querySelector(parsedSelector, root, false);\n    return node === targetElement ? selector : void 0;\n  }\n  function makeStrict(selector) {\n    const token = { engine: "css", selector, score: kCSSFallbackScore };\n    const parsedSelector = injectedScript.parseSelector(selector);\n    const elements = injectedScript.querySelectorAll(parsedSelector, root);\n    if (elements.length === 1)\n      return [token];\n    const nth = { engine: "nth", selector: String(elements.indexOf(targetElement)), score: kNthScore };\n    return [token, nth];\n  }\n  for (let element = targetElement; element && element !== root; element = parentElementOrShadowHost(element)) {\n    let bestTokenForLevel = "";\n    if (element.id && !options.noCSSId) {\n      const token = makeSelectorForId(element.id);\n      const selector = uniqueCSSSelector(token);\n      if (selector)\n        return makeStrict(selector);\n      bestTokenForLevel = token;\n    }\n    const parent = element.parentNode;\n    const classes = [...element.classList].map(escapeClassName);\n    for (let i = 0; i < classes.length; ++i) {\n      const token = "." + classes.slice(0, i + 1).join(".");\n      const selector = uniqueCSSSelector(token);\n      if (selector)\n        return makeStrict(selector);\n      if (!bestTokenForLevel && parent) {\n        const sameClassSiblings = parent.querySelectorAll(token);\n        if (sameClassSiblings.length === 1)\n          bestTokenForLevel = token;\n      }\n    }\n    if (parent) {\n      const siblings = [...parent.children];\n      const nodeName = element.nodeName;\n      const sameTagSiblings = siblings.filter((sibling) => sibling.nodeName === nodeName);\n      const token = sameTagSiblings.indexOf(element) === 0 ? escapeNodeName(element) : `${escapeNodeName(element)}:nth-child(${1 + siblings.indexOf(element)})`;\n      const selector = uniqueCSSSelector(token);\n      if (selector)\n        return makeStrict(selector);\n      if (!bestTokenForLevel)\n        bestTokenForLevel = token;\n    } else if (!bestTokenForLevel) {\n      bestTokenForLevel = escapeNodeName(element);\n    }\n    tokens.unshift(bestTokenForLevel);\n  }\n  return makeStrict(uniqueCSSSelector());\n}\nfunction penalizeScoreForLength(groups) {\n  for (const group of groups) {\n    for (const token of group) {\n      if (token.score > kBeginPenalizedScore && token.score < kEndPenalizedScore)\n        token.score += Math.min(kTextScoreRange, token.selector.length / 10 | 0);\n    }\n  }\n}\nfunction joinTokens(tokens) {\n  const parts = [];\n  let lastEngine = "";\n  for (const { engine, selector } of tokens) {\n    if (parts.length && (lastEngine !== "css" || engine !== "css" || selector.startsWith(":nth-match(")))\n      parts.push(">>");\n    lastEngine = engine;\n    if (engine === "css")\n      parts.push(selector);\n    else\n      parts.push(`${engine}=${selector}`);\n  }\n  return parts.join(" ");\n}\nfunction combineScores(tokens) {\n  let score = 0;\n  for (let i = 0; i < tokens.length; i++)\n    score += tokens[i].score * (tokens.length - i);\n  return score;\n}\nfunction isGuidLike(id) {\n  let lastCharacterType;\n  let transitionCount = 0;\n  for (let i = 0; i < id.length; ++i) {\n    const c = id[i];\n    let characterType;\n    if (c === "-" || c === "_")\n      continue;\n    if (c >= "a" && c <= "z")\n      characterType = "lower";\n    else if (c >= "A" && c <= "Z")\n      characterType = "upper";\n    else if (c >= "0" && c <= "9")\n      characterType = "digit";\n    else\n      characterType = "other";\n    if (characterType === "lower" && lastCharacterType === "upper") {\n      lastCharacterType = characterType;\n      continue;\n    }\n    if (lastCharacterType && lastCharacterType !== characterType)\n      ++transitionCount;\n    lastCharacterType = characterType;\n  }\n  return transitionCount >= id.length / 4;\n}\nfunction trimWordBoundary(text, maxLength) {\n  if (text.length <= maxLength)\n    return text;\n  text = text.substring(0, maxLength);\n  const match = text.match(/^(.*)\\b(.+?)$/);\n  if (!match)\n    return "";\n  return match[1].trimEnd();\n}\nfunction suitableTextAlternatives(text) {\n  let result = [];\n  {\n    const match = text.match(/^([\\d.,]+)[^.,\\w]/);\n    const leadingNumberLength = match ? match[1].length : 0;\n    if (leadingNumberLength) {\n      const alt = trimWordBoundary(text.substring(leadingNumberLength).trimStart(), 80);\n      result.push({ text: alt, scoreBonus: alt.length <= 30 ? 2 : 1 });\n    }\n  }\n  {\n    const match = text.match(/[^.,\\w]([\\d.,]+)$/);\n    const trailingNumberLength = match ? match[1].length : 0;\n    if (trailingNumberLength) {\n      const alt = trimWordBoundary(text.substring(0, text.length - trailingNumberLength).trimEnd(), 80);\n      result.push({ text: alt, scoreBonus: alt.length <= 30 ? 2 : 1 });\n    }\n  }\n  if (text.length <= 30) {\n    result.push({ text, scoreBonus: 0 });\n  } else {\n    result.push({ text: trimWordBoundary(text, 80), scoreBonus: 0 });\n    result.push({ text: trimWordBoundary(text, 30), scoreBonus: 1 });\n  }\n  result = result.filter((r) => r.text);\n  if (!result.length)\n    result.push({ text: text.substring(0, 80), scoreBonus: 0 });\n  return result;\n}\nfunction escapeNodeName(node) {\n  return node.nodeName.toLocaleLowerCase().replace(/[:\\.]/g, (char) => "\\\\" + char);\n}\nfunction escapeClassName(className) {\n  let result = "";\n  for (let i = 0; i < className.length; i++)\n    result += cssEscapeCharacter(className, i);\n  return result;\n}\nfunction cssEscapeCharacter(s, i) {\n  const c = s.charCodeAt(i);\n  if (c === 0)\n    return "\\uFFFD";\n  if (c >= 1 && c <= 31 || c >= 48 && c <= 57 && (i === 0 || i === 1 && s.charCodeAt(0) === 45))\n    return "\\\\" + c.toString(16) + " ";\n  if (i === 0 && c === 45 && s.length === 1)\n    return "\\\\" + s.charAt(i);\n  if (c >= 128 || c === 45 || c === 95 || c >= 48 && c <= 57 || c >= 65 && c <= 90 || c >= 97 && c <= 122)\n    return s.charAt(i);\n  return "\\\\" + s.charAt(i);\n}\n\n// packages/injected/src/vueSelectorEngine.ts\nfunction basename(filename, ext) {\n  const normalized = filename.replace(/^[a-zA-Z]:/, "").replace(/\\\\/g, "/");\n  let result = normalized.substring(normalized.lastIndexOf("/") + 1);\n  if (ext && result.endsWith(ext))\n    result = result.substring(0, result.length - ext.length);\n  return result;\n}\nfunction toUpper(_, c) {\n  return c ? c.toUpperCase() : "";\n}\nvar classifyRE = /(?:^|[-_/])(\\w)/g;\nvar classify = (str) => {\n  return str && str.replace(classifyRE, toUpper);\n};\nfunction buildComponentsTreeVue3(instance) {\n  function getComponentTypeName(options) {\n    const name = options.name || options._componentTag || options.__playwright_guessedName;\n    if (name)\n      return name;\n    const file = options.__file;\n    if (file)\n      return classify(basename(file, ".vue"));\n  }\n  function saveComponentName(instance2, key) {\n    instance2.type.__playwright_guessedName = key;\n    return key;\n  }\n  function getInstanceName(instance2) {\n    var _a, _b, _c, _d;\n    const name = getComponentTypeName(instance2.type || {});\n    if (name)\n      return name;\n    if (instance2.root === instance2)\n      return "Root";\n    for (const key in (_b = (_a = instance2.parent) == null ? void 0 : _a.type) == null ? void 0 : _b.components) {\n      if (((_c = instance2.parent) == null ? void 0 : _c.type.components[key]) === instance2.type)\n        return saveComponentName(instance2, key);\n    }\n    for (const key in (_d = instance2.appContext) == null ? void 0 : _d.components) {\n      if (instance2.appContext.components[key] === instance2.type)\n        return saveComponentName(instance2, key);\n    }\n    return "Anonymous Component";\n  }\n  function isBeingDestroyed(instance2) {\n    return instance2._isBeingDestroyed || instance2.isUnmounted;\n  }\n  function isFragment(instance2) {\n    return instance2.subTree.type.toString() === "Symbol(Fragment)";\n  }\n  function getInternalInstanceChildren(subTree) {\n    const list = [];\n    if (subTree.component)\n      list.push(subTree.component);\n    if (subTree.suspense)\n      list.push(...getInternalInstanceChildren(subTree.suspense.activeBranch));\n    if (Array.isArray(subTree.children)) {\n      subTree.children.forEach((childSubTree) => {\n        if (childSubTree.component)\n          list.push(childSubTree.component);\n        else\n          list.push(...getInternalInstanceChildren(childSubTree));\n      });\n    }\n    return list.filter((child) => {\n      var _a;\n      return !isBeingDestroyed(child) && !((_a = child.type.devtools) == null ? void 0 : _a.hide);\n    });\n  }\n  function getRootElementsFromComponentInstance(instance2) {\n    if (isFragment(instance2))\n      return getFragmentRootElements(instance2.subTree);\n    return [instance2.subTree.el];\n  }\n  function getFragmentRootElements(vnode) {\n    if (!vnode.children)\n      return [];\n    const list = [];\n    for (let i = 0, l = vnode.children.length; i < l; i++) {\n      const childVnode = vnode.children[i];\n      if (childVnode.component)\n        list.push(...getRootElementsFromComponentInstance(childVnode.component));\n      else if (childVnode.el)\n        list.push(childVnode.el);\n    }\n    return list;\n  }\n  function buildComponentsTree2(instance2) {\n    return {\n      name: getInstanceName(instance2),\n      children: getInternalInstanceChildren(instance2.subTree).map(buildComponentsTree2),\n      rootElements: getRootElementsFromComponentInstance(instance2),\n      props: instance2.props\n    };\n  }\n  return buildComponentsTree2(instance);\n}\nfunction buildComponentsTreeVue2(instance) {\n  function getComponentName2(options) {\n    const name = options.displayName || options.name || options._componentTag;\n    if (name)\n      return name;\n    const file = options.__file;\n    if (file)\n      return classify(basename(file, ".vue"));\n  }\n  function getInstanceName(instance2) {\n    const name = getComponentName2(instance2.$options || instance2.fnOptions || {});\n    if (name)\n      return name;\n    return instance2.$root === instance2 ? "Root" : "Anonymous Component";\n  }\n  function getInternalInstanceChildren(instance2) {\n    if (instance2.$children)\n      return instance2.$children;\n    if (Array.isArray(instance2.subTree.children))\n      return instance2.subTree.children.filter((vnode) => !!vnode.component).map((vnode) => vnode.component);\n    return [];\n  }\n  function buildComponentsTree2(instance2) {\n    return {\n      name: getInstanceName(instance2),\n      children: getInternalInstanceChildren(instance2).map(buildComponentsTree2),\n      rootElements: [instance2.$el],\n      props: instance2._props\n    };\n  }\n  return buildComponentsTree2(instance);\n}\nfunction filterComponentsTree2(treeNode, searchFn, result = []) {\n  if (searchFn(treeNode))\n    result.push(treeNode);\n  for (const child of treeNode.children)\n    filterComponentsTree2(child, searchFn, result);\n  return result;\n}\nfunction findVueRoots(root, roots = []) {\n  const document = root.ownerDocument || root;\n  const walker = document.createTreeWalker(root, NodeFilter.SHOW_ELEMENT);\n  const vue2Roots = /* @__PURE__ */ new Set();\n  do {\n    const node = walker.currentNode;\n    if (node.__vue__)\n      vue2Roots.add(node.__vue__.$root);\n    if (node.__vue_app__ && node._vnode && node._vnode.component)\n      roots.push({ root: node._vnode.component, version: 3 });\n    const shadowRoot = node instanceof Element ? node.shadowRoot : null;\n    if (shadowRoot)\n      findVueRoots(shadowRoot, roots);\n  } while (walker.nextNode());\n  for (const vue2root of vue2Roots) {\n    roots.push({\n      version: 2,\n      root: vue2root\n    });\n  }\n  return roots;\n}\nvar createVueEngine = () => ({\n  queryAll(scope, selector) {\n    const document = scope.ownerDocument || scope;\n    const { name, attributes } = parseAttributeSelector(selector, false);\n    const vueRoots = findVueRoots(document);\n    const trees = vueRoots.map((vueRoot) => vueRoot.version === 3 ? buildComponentsTreeVue3(vueRoot.root) : buildComponentsTreeVue2(vueRoot.root));\n    const treeNodes = trees.map((tree) => filterComponentsTree2(tree, (treeNode) => {\n      if (name && treeNode.name !== name)\n        return false;\n      if (treeNode.rootElements.some((rootElement) => !isInsideScope(scope, rootElement)))\n        return false;\n      for (const attr of attributes) {\n        if (!matchesComponentAttribute(treeNode.props, attr))\n          return false;\n      }\n      return true;\n    })).flat();\n    const allRootElements = /* @__PURE__ */ new Set();\n    for (const treeNode of treeNodes) {\n      for (const rootElement of treeNode.rootElements)\n        allRootElements.add(rootElement);\n    }\n    return [...allRootElements];\n  }\n});\n\n// packages/injected/src/xpathSelectorEngine.ts\nvar XPathEngine = {\n  queryAll(root, selector) {\n    if (selector.startsWith("/") && root.nodeType !== Node.DOCUMENT_NODE)\n      selector = "." + selector;\n    const result = [];\n    const document = root.ownerDocument || root;\n    if (!document)\n      return result;\n    const it = document.evaluate(selector, root, null, XPathResult.ORDERED_NODE_ITERATOR_TYPE);\n    for (let node = it.iterateNext(); node; node = it.iterateNext()) {\n      if (node.nodeType === Node.ELEMENT_NODE)\n        result.push(node);\n    }\n    return result;\n  }\n};\n\n// packages/playwright-core/src/utils/isomorphic/locatorUtils.ts\nfunction getByAttributeTextSelector(attrName, text, options) {\n  return `internal:attr=[${attrName}=${escapeForAttributeSelector(text, (options == null ? void 0 : options.exact) || false)}]`;\n}\nfunction getByTestIdSelector(testIdAttributeName, testId) {\n  return `internal:testid=[${testIdAttributeName}=${escapeForAttributeSelector(testId, true)}]`;\n}\nfunction getByLabelSelector(text, options) {\n  return "internal:label=" + escapeForTextSelector(text, !!(options == null ? void 0 : options.exact));\n}\nfunction getByAltTextSelector(text, options) {\n  return getByAttributeTextSelector("alt", text, options);\n}\nfunction getByTitleSelector(text, options) {\n  return getByAttributeTextSelector("title", text, options);\n}\nfunction getByPlaceholderSelector(text, options) {\n  return getByAttributeTextSelector("placeholder", text, options);\n}\nfunction getByTextSelector(text, options) {\n  return "internal:text=" + escapeForTextSelector(text, !!(options == null ? void 0 : options.exact));\n}\nfunction getByRoleSelector(role, options = {}) {\n  const props = [];\n  if (options.checked !== void 0)\n    props.push(["checked", String(options.checked)]);\n  if (options.disabled !== void 0)\n    props.push(["disabled", String(options.disabled)]);\n  if (options.selected !== void 0)\n    props.push(["selected", String(options.selected)]);\n  if (options.expanded !== void 0)\n    props.push(["expanded", String(options.expanded)]);\n  if (options.includeHidden !== void 0)\n    props.push(["include-hidden", String(options.includeHidden)]);\n  if (options.level !== void 0)\n    props.push(["level", String(options.level)]);\n  if (options.name !== void 0)\n    props.push(["name", escapeForAttributeSelector(options.name, !!options.exact)]);\n  if (options.pressed !== void 0)\n    props.push(["pressed", String(options.pressed)]);\n  return `internal:role=${role}${props.map(([n, v]) => `[${n}=${v}]`).join("")}`;\n}\n\n// packages/injected/src/consoleApi.ts\nvar selectorSymbol = Symbol("selector");\nselectorSymbol;\nvar _Locator = class _Locator {\n  constructor(injectedScript, selector, options) {\n    if (options == null ? void 0 : options.hasText)\n      selector += ` >> internal:has-text=${escapeForTextSelector(options.hasText, false)}`;\n    if (options == null ? void 0 : options.hasNotText)\n      selector += ` >> internal:has-not-text=${escapeForTextSelector(options.hasNotText, false)}`;\n    if (options == null ? void 0 : options.has)\n      selector += ` >> internal:has=` + JSON.stringify(options.has[selectorSymbol]);\n    if (options == null ? void 0 : options.hasNot)\n      selector += ` >> internal:has-not=` + JSON.stringify(options.hasNot[selectorSymbol]);\n    if ((options == null ? void 0 : options.visible) !== void 0)\n      selector += ` >> visible=${options.visible ? "true" : "false"}`;\n    this[selectorSymbol] = selector;\n    if (selector) {\n      const parsed = injectedScript.parseSelector(selector);\n      this.element = injectedScript.querySelector(parsed, injectedScript.document, false);\n      this.elements = injectedScript.querySelectorAll(parsed, injectedScript.document);\n    }\n    const selectorBase = selector;\n    const self = this;\n    self.locator = (selector2, options2) => {\n      return new _Locator(injectedScript, selectorBase ? selectorBase + " >> " + selector2 : selector2, options2);\n    };\n    self.getByTestId = (testId) => self.locator(getByTestIdSelector(injectedScript.testIdAttributeNameForStrictErrorAndConsoleCodegen(), testId));\n    self.getByAltText = (text, options2) => self.locator(getByAltTextSelector(text, options2));\n    self.getByLabel = (text, options2) => self.locator(getByLabelSelector(text, options2));\n    self.getByPlaceholder = (text, options2) => self.locator(getByPlaceholderSelector(text, options2));\n    self.getByText = (text, options2) => self.locator(getByTextSelector(text, options2));\n    self.getByTitle = (text, options2) => self.locator(getByTitleSelector(text, options2));\n    self.getByRole = (role, options2 = {}) => self.locator(getByRoleSelector(role, options2));\n    self.filter = (options2) => new _Locator(injectedScript, selector, options2);\n    self.first = () => self.locator("nth=0");\n    self.last = () => self.locator("nth=-1");\n    self.nth = (index) => self.locator(`nth=${index}`);\n    self.and = (locator) => new _Locator(injectedScript, selectorBase + ` >> internal:and=` + JSON.stringify(locator[selectorSymbol]));\n    self.or = (locator) => new _Locator(injectedScript, selectorBase + ` >> internal:or=` + JSON.stringify(locator[selectorSymbol]));\n  }\n};\nvar Locator = _Locator;\nvar ConsoleAPI = class {\n  constructor(injectedScript) {\n    this._injectedScript = injectedScript;\n  }\n  install() {\n    if (this._injectedScript.window.playwright)\n      return;\n    this._injectedScript.window.playwright = {\n      $: (selector, strict) => this._querySelector(selector, !!strict),\n      $$: (selector) => this._querySelectorAll(selector),\n      inspect: (selector) => this._inspect(selector),\n      selector: (element) => this._selector(element),\n      generateLocator: (element, language) => this._generateLocator(element, language),\n      ariaSnapshot: (element, options) => {\n        return this._injectedScript.ariaSnapshot(element || this._injectedScript.document.body, options || { mode: "expect" });\n      },\n      resume: () => this._resume(),\n      ...new Locator(this._injectedScript, "")\n    };\n    delete this._injectedScript.window.playwright.filter;\n    delete this._injectedScript.window.playwright.first;\n    delete this._injectedScript.window.playwright.last;\n    delete this._injectedScript.window.playwright.nth;\n    delete this._injectedScript.window.playwright.and;\n    delete this._injectedScript.window.playwright.or;\n  }\n  _querySelector(selector, strict) {\n    if (typeof selector !== "string")\n      throw new Error(`Usage: playwright.query(\'Playwright >> selector\').`);\n    const parsed = this._injectedScript.parseSelector(selector);\n    return this._injectedScript.querySelector(parsed, this._injectedScript.document, strict);\n  }\n  _querySelectorAll(selector) {\n    if (typeof selector !== "string")\n      throw new Error(`Usage: playwright.$$(\'Playwright >> selector\').`);\n    const parsed = this._injectedScript.parseSelector(selector);\n    return this._injectedScript.querySelectorAll(parsed, this._injectedScript.document);\n  }\n  _inspect(selector) {\n    if (typeof selector !== "string")\n      throw new Error(`Usage: playwright.inspect(\'Playwright >> selector\').`);\n    this._injectedScript.window.inspect(this._querySelector(selector, false));\n  }\n  _selector(element) {\n    if (!(element instanceof Element))\n      throw new Error(`Usage: playwright.selector(element).`);\n    return this._injectedScript.generateSelectorSimple(element);\n  }\n  _generateLocator(element, language) {\n    if (!(element instanceof Element))\n      throw new Error(`Usage: playwright.locator(element).`);\n    const selector = this._injectedScript.generateSelectorSimple(element);\n    return asLocator(language || "javascript", selector);\n  }\n  _resume() {\n    if (!this._injectedScript.window.__pw_resume)\n      return false;\n    this._injectedScript.window.__pw_resume().catch(() => {\n    });\n  }\n};\n\n// packages/playwright-core/src/utils/isomorphic/utilityScriptSerializers.ts\nfunction isRegExp2(obj) {\n  try {\n    return obj instanceof RegExp || Object.prototype.toString.call(obj) === "[object RegExp]";\n  } catch (error) {\n    return false;\n  }\n}\nfunction isDate(obj) {\n  try {\n    return obj instanceof Date || Object.prototype.toString.call(obj) === "[object Date]";\n  } catch (error) {\n    return false;\n  }\n}\nfunction isURL(obj) {\n  try {\n    return obj instanceof URL || Object.prototype.toString.call(obj) === "[object URL]";\n  } catch (error) {\n    return false;\n  }\n}\nfunction isError(obj) {\n  var _a;\n  try {\n    return obj instanceof Error || obj && ((_a = Object.getPrototypeOf(obj)) == null ? void 0 : _a.name) === "Error";\n  } catch (error) {\n    return false;\n  }\n}\nfunction isTypedArray(obj, constructor) {\n  try {\n    return obj instanceof constructor || Object.prototype.toString.call(obj) === `[object ${constructor.name}]`;\n  } catch (error) {\n    return false;\n  }\n}\nvar typedArrayConstructors = {\n  i8: Int8Array,\n  ui8: Uint8Array,\n  ui8c: Uint8ClampedArray,\n  i16: Int16Array,\n  ui16: Uint16Array,\n  i32: Int32Array,\n  ui32: Uint32Array,\n  // TODO: add Float16Array once it\'s in baseline\n  f32: Float32Array,\n  f64: Float64Array,\n  bi64: BigInt64Array,\n  bui64: BigUint64Array\n};\nfunction typedArrayToBase64(array) {\n  if ("toBase64" in array)\n    return array.toBase64();\n  const binary = Array.from(new Uint8Array(array.buffer, array.byteOffset, array.byteLength)).map((b) => String.fromCharCode(b)).join("");\n  return btoa(binary);\n}\nfunction base64ToTypedArray(base64, TypedArrayConstructor) {\n  const binary = atob(base64);\n  const bytes = new Uint8Array(binary.length);\n  for (let i = 0; i < binary.length; i++)\n    bytes[i] = binary.charCodeAt(i);\n  return new TypedArrayConstructor(bytes.buffer);\n}\nfunction parseEvaluationResultValue(value, handles = [], refs = /* @__PURE__ */ new Map()) {\n  if (Object.is(value, void 0))\n    return void 0;\n  if (typeof value === "object" && value) {\n    if ("ref" in value)\n      return refs.get(value.ref);\n    if ("v" in value) {\n      if (value.v === "undefined")\n        return void 0;\n      if (value.v === "null")\n        return null;\n      if (value.v === "NaN")\n        return NaN;\n      if (value.v === "Infinity")\n        return Infinity;\n      if (value.v === "-Infinity")\n        return -Infinity;\n      if (value.v === "-0")\n        return -0;\n      return void 0;\n    }\n    if ("d" in value) {\n      return new Date(value.d);\n    }\n    if ("u" in value)\n      return new URL(value.u);\n    if ("bi" in value)\n      return BigInt(value.bi);\n    if ("e" in value) {\n      const error = new Error(value.e.m);\n      error.name = value.e.n;\n      error.stack = value.e.s;\n      return error;\n    }\n    if ("r" in value)\n      return new RegExp(value.r.p, value.r.f);\n    if ("a" in value) {\n      const result = [];\n      refs.set(value.id, result);\n      for (const a of value.a)\n        result.push(parseEvaluationResultValue(a, handles, refs));\n      return result;\n    }\n    if ("o" in value) {\n      const result = {};\n      refs.set(value.id, result);\n      for (const { k, v } of value.o) {\n        if (k === "__proto__")\n          continue;\n        result[k] = parseEvaluationResultValue(v, handles, refs);\n      }\n      return result;\n    }\n    if ("h" in value)\n      return handles[value.h];\n    if ("ta" in value)\n      return base64ToTypedArray(value.ta.b, typedArrayConstructors[value.ta.k]);\n  }\n  return value;\n}\nfunction serializeAsCallArgument(value, handleSerializer) {\n  return serialize(value, handleSerializer, { visited: /* @__PURE__ */ new Map(), lastId: 0 });\n}\nfunction serialize(value, handleSerializer, visitorInfo) {\n  if (value && typeof value === "object") {\n    if (typeof globalThis.Window === "function" && value instanceof globalThis.Window)\n      return "ref: <Window>";\n    if (typeof globalThis.Document === "function" && value instanceof globalThis.Document)\n      return "ref: <Document>";\n    if (typeof globalThis.Node === "function" && value instanceof globalThis.Node)\n      return "ref: <Node>";\n  }\n  return innerSerialize(value, handleSerializer, visitorInfo);\n}\nfunction innerSerialize(value, handleSerializer, visitorInfo) {\n  var _a;\n  const result = handleSerializer(value);\n  if ("fallThrough" in result)\n    value = result.fallThrough;\n  else\n    return result;\n  if (typeof value === "symbol")\n    return { v: "undefined" };\n  if (Object.is(value, void 0))\n    return { v: "undefined" };\n  if (Object.is(value, null))\n    return { v: "null" };\n  if (Object.is(value, NaN))\n    return { v: "NaN" };\n  if (Object.is(value, Infinity))\n    return { v: "Infinity" };\n  if (Object.is(value, -Infinity))\n    return { v: "-Infinity" };\n  if (Object.is(value, -0))\n    return { v: "-0" };\n  if (typeof value === "boolean")\n    return value;\n  if (typeof value === "number")\n    return value;\n  if (typeof value === "string")\n    return value;\n  if (typeof value === "bigint")\n    return { bi: value.toString() };\n  if (isError(value)) {\n    let stack;\n    if ((_a = value.stack) == null ? void 0 : _a.startsWith(value.name + ": " + value.message)) {\n      stack = value.stack;\n    } else {\n      stack = `${value.name}: ${value.message}\n${value.stack}`;\n    }\n    return { e: { n: value.name, m: value.message, s: stack } };\n  }\n  if (isDate(value))\n    return { d: value.toJSON() };\n  if (isURL(value))\n    return { u: value.toJSON() };\n  if (isRegExp2(value))\n    return { r: { p: value.source, f: value.flags } };\n  for (const [k, ctor] of Object.entries(typedArrayConstructors)) {\n    if (isTypedArray(value, ctor))\n      return { ta: { b: typedArrayToBase64(value), k } };\n  }\n  const id = visitorInfo.visited.get(value);\n  if (id)\n    return { ref: id };\n  if (Array.isArray(value)) {\n    const a = [];\n    const id2 = ++visitorInfo.lastId;\n    visitorInfo.visited.set(value, id2);\n    for (let i = 0; i < value.length; ++i)\n      a.push(serialize(value[i], handleSerializer, visitorInfo));\n    return { a, id: id2 };\n  }\n  if (typeof value === "object") {\n    const o = [];\n    const id2 = ++visitorInfo.lastId;\n    visitorInfo.visited.set(value, id2);\n    for (const name of Object.keys(value)) {\n      let item;\n      try {\n        item = value[name];\n      } catch (e) {\n        continue;\n      }\n      if (name === "toJSON" && typeof item === "function")\n        o.push({ k: name, v: { o: [], id: 0 } });\n      else\n        o.push({ k: name, v: serialize(item, handleSerializer, visitorInfo) });\n    }\n    let jsonWrapper;\n    try {\n      if (o.length === 0 && value.toJSON && typeof value.toJSON === "function")\n        jsonWrapper = { value: value.toJSON() };\n    } catch (e) {\n    }\n    if (jsonWrapper)\n      return innerSerialize(jsonWrapper.value, handleSerializer, visitorInfo);\n    return { o, id: id2 };\n  }\n}\n\n// packages/injected/src/utilityScript.ts\nvar UtilityScript = class {\n  constructor(global, isUnderTest) {\n    var _a, _b, _c, _d, _e, _f, _g, _h;\n    this.global = global;\n    this.isUnderTest = isUnderTest;\n    if (global.__pwClock) {\n      this.builtins = global.__pwClock.builtins;\n    } else {\n      this.builtins = {\n        setTimeout: (_a = global.setTimeout) == null ? void 0 : _a.bind(global),\n        clearTimeout: (_b = global.clearTimeout) == null ? void 0 : _b.bind(global),\n        setInterval: (_c = global.setInterval) == null ? void 0 : _c.bind(global),\n        clearInterval: (_d = global.clearInterval) == null ? void 0 : _d.bind(global),\n        requestAnimationFrame: (_e = global.requestAnimationFrame) == null ? void 0 : _e.bind(global),\n        cancelAnimationFrame: (_f = global.cancelAnimationFrame) == null ? void 0 : _f.bind(global),\n        requestIdleCallback: (_g = global.requestIdleCallback) == null ? void 0 : _g.bind(global),\n        cancelIdleCallback: (_h = global.cancelIdleCallback) == null ? void 0 : _h.bind(global),\n        performance: global.performance,\n        Intl: global.Intl,\n        Date: global.Date\n      };\n    }\n    if (this.isUnderTest)\n      global.builtins = this.builtins;\n  }\n  evaluate(isFunction, returnByValue, expression, argCount, ...argsAndHandles) {\n    const args = argsAndHandles.slice(0, argCount);\n    const handles = argsAndHandles.slice(argCount);\n    const parameters = [];\n    for (let i = 0; i < args.length; i++)\n      parameters[i] = parseEvaluationResultValue(args[i], handles);\n    let result = this.global.eval(expression);\n    if (isFunction === true) {\n      result = result(...parameters);\n    } else if (isFunction === false) {\n      result = result;\n    } else {\n      if (typeof result === "function")\n        result = result(...parameters);\n    }\n    return returnByValue ? this._promiseAwareJsonValueNoThrow(result) : result;\n  }\n  jsonValue(returnByValue, value) {\n    if (value === void 0)\n      return void 0;\n    return serializeAsCallArgument(value, (value2) => ({ fallThrough: value2 }));\n  }\n  _promiseAwareJsonValueNoThrow(value) {\n    const safeJson = (value2) => {\n      try {\n        return this.jsonValue(true, value2);\n      } catch (e) {\n        return void 0;\n      }\n    };\n    if (value && typeof value === "object" && typeof value.then === "function") {\n      return (async () => {\n        const promiseValue = await value;\n        return safeJson(promiseValue);\n      })();\n    }\n    return safeJson(value);\n  }\n};\n\n// packages/injected/src/injectedScript.ts\nvar InjectedScript = class {\n  constructor(window, options) {\n    this._testIdAttributeNameForStrictErrorAndConsoleCodegen = "data-testid";\n    // Recorder must use any external dependencies through InjectedScript.\n    // Otherwise it will end up with a copy of all modules it uses, and any\n    // module-level globals will be duplicated, which leads to subtle bugs.\n    this.utils = {\n      asLocator,\n      cacheNormalizedWhitespaces,\n      elementText,\n      getAriaRole,\n      getElementAccessibleDescription,\n      getElementAccessibleName,\n      isElementVisible,\n      isInsideScope,\n      normalizeWhiteSpace,\n      parseAriaSnapshot,\n      generateAriaTree,\n      // Builtins protect injected code from clock emulation.\n      builtins: null\n    };\n    this.window = window;\n    this.document = window.document;\n    this.isUnderTest = options.isUnderTest;\n    this.utils.builtins = new UtilityScript(window, options.isUnderTest).builtins;\n    this._sdkLanguage = options.sdkLanguage;\n    this._testIdAttributeNameForStrictErrorAndConsoleCodegen = options.testIdAttributeName;\n    this._evaluator = new SelectorEvaluatorImpl();\n    this.consoleApi = new ConsoleAPI(this);\n    this.onGlobalListenersRemoved = /* @__PURE__ */ new Set();\n    this._autoClosingTags = /* @__PURE__ */ new Set(["AREA", "BASE", "BR", "COL", "COMMAND", "EMBED", "HR", "IMG", "INPUT", "KEYGEN", "LINK", "MENUITEM", "META", "PARAM", "SOURCE", "TRACK", "WBR"]);\n    this._booleanAttributes = /* @__PURE__ */ new Set(["checked", "selected", "disabled", "readonly", "multiple"]);\n    this._eventTypes = /* @__PURE__ */ new Map([\n      ["auxclick", "mouse"],\n      ["click", "mouse"],\n      ["dblclick", "mouse"],\n      ["mousedown", "mouse"],\n      ["mouseeenter", "mouse"],\n      ["mouseleave", "mouse"],\n      ["mousemove", "mouse"],\n      ["mouseout", "mouse"],\n      ["mouseover", "mouse"],\n      ["mouseup", "mouse"],\n      ["mouseleave", "mouse"],\n      ["mousewheel", "mouse"],\n      ["keydown", "keyboard"],\n      ["keyup", "keyboard"],\n      ["keypress", "keyboard"],\n      ["textInput", "keyboard"],\n      ["touchstart", "touch"],\n      ["touchmove", "touch"],\n      ["touchend", "touch"],\n      ["touchcancel", "touch"],\n      ["pointerover", "pointer"],\n      ["pointerout", "pointer"],\n      ["pointerenter", "pointer"],\n      ["pointerleave", "pointer"],\n      ["pointerdown", "pointer"],\n      ["pointerup", "pointer"],\n      ["pointermove", "pointer"],\n      ["pointercancel", "pointer"],\n      ["gotpointercapture", "pointer"],\n      ["lostpointercapture", "pointer"],\n      ["focus", "focus"],\n      ["blur", "focus"],\n      ["drag", "drag"],\n      ["dragstart", "drag"],\n      ["dragend", "drag"],\n      ["dragover", "drag"],\n      ["dragenter", "drag"],\n      ["dragleave", "drag"],\n      ["dragexit", "drag"],\n      ["drop", "drag"],\n      ["wheel", "wheel"],\n      ["deviceorientation", "deviceorientation"],\n      ["deviceorientationabsolute", "deviceorientation"],\n      ["devicemotion", "devicemotion"]\n    ]);\n    this._hoverHitTargetInterceptorEvents = /* @__PURE__ */ new Set(["mousemove"]);\n    this._tapHitTargetInterceptorEvents = /* @__PURE__ */ new Set(["pointerdown", "pointerup", "touchstart", "touchend", "touchcancel"]);\n    this._mouseHitTargetInterceptorEvents = /* @__PURE__ */ new Set(["mousedown", "mouseup", "pointerdown", "pointerup", "click", "auxclick", "dblclick", "contextmenu"]);\n    this._allHitTargetInterceptorEvents = /* @__PURE__ */ new Set([...this._hoverHitTargetInterceptorEvents, ...this._tapHitTargetInterceptorEvents, ...this._mouseHitTargetInterceptorEvents]);\n    this._engines = /* @__PURE__ */ new Map();\n    this._engines.set("xpath", XPathEngine);\n    this._engines.set("xpath:light", XPathEngine);\n    this._engines.set("_react", createReactEngine());\n    this._engines.set("_vue", createVueEngine());\n    this._engines.set("role", createRoleEngine(false));\n    this._engines.set("text", this._createTextEngine(true, false));\n    this._engines.set("text:light", this._createTextEngine(false, false));\n    this._engines.set("id", this._createAttributeEngine("id", true));\n    this._engines.set("id:light", this._createAttributeEngine("id", false));\n    this._engines.set("data-testid", this._createAttributeEngine("data-testid", true));\n    this._engines.set("data-testid:light", this._createAttributeEngine("data-testid", false));\n    this._engines.set("data-test-id", this._createAttributeEngine("data-test-id", true));\n    this._engines.set("data-test-id:light", this._createAttributeEngine("data-test-id", false));\n    this._engines.set("data-test", this._createAttributeEngine("data-test", true));\n    this._engines.set("data-test:light", this._createAttributeEngine("data-test", false));\n    this._engines.set("css", this._createCSSEngine());\n    this._engines.set("nth", { queryAll: () => [] });\n    this._engines.set("visible", this._createVisibleEngine());\n    this._engines.set("internal:control", this._createControlEngine());\n    this._engines.set("internal:has", this._createHasEngine());\n    this._engines.set("internal:has-not", this._createHasNotEngine());\n    this._engines.set("internal:and", { queryAll: () => [] });\n    this._engines.set("internal:or", { queryAll: () => [] });\n    this._engines.set("internal:chain", this._createInternalChainEngine());\n    this._engines.set("internal:label", this._createInternalLabelEngine());\n    this._engines.set("internal:text", this._createTextEngine(true, true));\n    this._engines.set("internal:has-text", this._createInternalHasTextEngine());\n    this._engines.set("internal:has-not-text", this._createInternalHasNotTextEngine());\n    this._engines.set("internal:attr", this._createNamedAttributeEngine());\n    this._engines.set("internal:testid", this._createNamedAttributeEngine());\n    this._engines.set("internal:role", createRoleEngine(true));\n    this._engines.set("internal:describe", this._createDescribeEngine());\n    this._engines.set("aria-ref", this._createAriaRefEngine());\n    for (const { name, source } of options.customEngines)\n      this._engines.set(name, this.eval(source));\n    this._stableRafCount = options.stableRafCount;\n    this._browserName = options.browserName;\n    this._isUtilityWorld = !!options.isUtilityWorld;\n    setGlobalOptions({ browserNameForWorkarounds: options.browserName });\n    this._setupGlobalListenersRemovalDetection();\n    this._setupHitTargetInterceptors();\n    if (this.isUnderTest)\n      this.window.__injectedScript = this;\n  }\n  eval(expression) {\n    return this.window.eval(expression);\n  }\n  testIdAttributeNameForStrictErrorAndConsoleCodegen() {\n    return this._testIdAttributeNameForStrictErrorAndConsoleCodegen;\n  }\n  parseSelector(selector) {\n    const result = parseSelector(selector);\n    visitAllSelectorParts(result, (part) => {\n      if (!this._engines.has(part.name))\n        throw this.createStacklessError(`Unknown engine "${part.name}" while parsing selector ${selector}`);\n    });\n    return result;\n  }\n  generateSelector(targetElement, options) {\n    return generateSelector(this, targetElement, options);\n  }\n  generateSelectorSimple(targetElement, options) {\n    return generateSelector(this, targetElement, { ...options, testIdAttributeName: this._testIdAttributeNameForStrictErrorAndConsoleCodegen }).selector;\n  }\n  querySelector(selector, root, strict) {\n    const result = this.querySelectorAll(selector, root);\n    if (strict && result.length > 1)\n      throw this.strictModeViolationError(selector, result);\n    return result[0];\n  }\n  _queryNth(elements, part) {\n    const list = [...elements];\n    let nth = +part.body;\n    if (nth === -1)\n      nth = list.length - 1;\n    return new Set(list.slice(nth, nth + 1));\n  }\n  _queryLayoutSelector(elements, part, originalRoot) {\n    const name = part.name;\n    const body = part.body;\n    const result = [];\n    const inner = this.querySelectorAll(body.parsed, originalRoot);\n    for (const element of elements) {\n      const score = layoutSelectorScore(name, element, inner, body.distance);\n      if (score !== void 0)\n        result.push({ element, score });\n    }\n    result.sort((a, b) => a.score - b.score);\n    return new Set(result.map((r) => r.element));\n  }\n  ariaSnapshot(node, options) {\n    if (node.nodeType !== Node.ELEMENT_NODE)\n      throw this.createStacklessError("Can only capture aria snapshot of Element nodes.");\n    this._lastAriaSnapshot = generateAriaTree(node, options);\n    return renderAriaTree(this._lastAriaSnapshot, options);\n  }\n  ariaSnapshotForRecorder() {\n    const tree = generateAriaTree(this.document.body, { mode: "ai" });\n    const ariaSnapshot = renderAriaTree(tree, { mode: "ai" });\n    return { ariaSnapshot, refs: tree.refs };\n  }\n  getAllElementsMatchingExpectAriaTemplate(document, template) {\n    return getAllElementsMatchingExpectAriaTemplate(document.documentElement, template);\n  }\n  querySelectorAll(selector, root) {\n    if (selector.capture !== void 0) {\n      if (selector.parts.some((part) => part.name === "nth"))\n        throw this.createStacklessError(`Can\'t query n-th element in a request with the capture.`);\n      const withHas = { parts: selector.parts.slice(0, selector.capture + 1) };\n      if (selector.capture < selector.parts.length - 1) {\n        const parsed = { parts: selector.parts.slice(selector.capture + 1) };\n        const has = { name: "internal:has", body: { parsed }, source: stringifySelector(parsed) };\n        withHas.parts.push(has);\n      }\n      return this.querySelectorAll(withHas, root);\n    }\n    if (!root["querySelectorAll"])\n      throw this.createStacklessError("Node is not queryable.");\n    if (selector.capture !== void 0) {\n      throw this.createStacklessError("Internal error: there should not be a capture in the selector.");\n    }\n    if (root.nodeType === 11 && selector.parts.length === 1 && selector.parts[0].name === "css" && selector.parts[0].source === ":scope")\n      return [root];\n    this._evaluator.begin();\n    try {\n      let roots = /* @__PURE__ */ new Set([root]);\n      for (const part of selector.parts) {\n        if (part.name === "nth") {\n          roots = this._queryNth(roots, part);\n        } else if (part.name === "internal:and") {\n          const andElements = this.querySelectorAll(part.body.parsed, root);\n          roots = new Set(andElements.filter((e) => roots.has(e)));\n        } else if (part.name === "internal:or") {\n          const orElements = this.querySelectorAll(part.body.parsed, root);\n          roots = new Set(sortInDOMOrder(/* @__PURE__ */ new Set([...roots, ...orElements])));\n        } else if (kLayoutSelectorNames.includes(part.name)) {\n          roots = this._queryLayoutSelector(roots, part, root);\n        } else {\n          const next = /* @__PURE__ */ new Set();\n          for (const root2 of roots) {\n            const all = this._queryEngineAll(part, root2);\n            for (const one of all)\n              next.add(one);\n          }\n          roots = next;\n        }\n      }\n      return [...roots];\n    } finally {\n      this._evaluator.end();\n    }\n  }\n  _queryEngineAll(part, root) {\n    const result = this._engines.get(part.name).queryAll(root, part.body);\n    for (const element of result) {\n      if (!("nodeName" in element))\n        throw this.createStacklessError(`Expected a Node but got ${Object.prototype.toString.call(element)}`);\n    }\n    return result;\n  }\n  _createAttributeEngine(attribute, shadow) {\n    const toCSS = (selector) => {\n      const css = `[${attribute}=${JSON.stringify(selector)}]`;\n      return [{ simples: [{ selector: { css, functions: [] }, combinator: "" }] }];\n    };\n    return {\n      queryAll: (root, selector) => {\n        return this._evaluator.query({ scope: root, pierceShadow: shadow }, toCSS(selector));\n      }\n    };\n  }\n  _createCSSEngine() {\n    return {\n      queryAll: (root, body) => {\n        return this._evaluator.query({ scope: root, pierceShadow: true }, body);\n      }\n    };\n  }\n  _createTextEngine(shadow, internal) {\n    const queryAll = (root, selector) => {\n      const { matcher, kind } = createTextMatcher(selector, internal);\n      const result = [];\n      let lastDidNotMatchSelf = null;\n      const appendElement = (element) => {\n        if (kind === "lax" && lastDidNotMatchSelf && lastDidNotMatchSelf.contains(element))\n          return false;\n        const matches = elementMatchesText(this._evaluator._cacheText, element, matcher);\n        if (matches === "none")\n          lastDidNotMatchSelf = element;\n        if (matches === "self" || matches === "selfAndChildren" && kind === "strict" && !internal)\n          result.push(element);\n      };\n      if (root.nodeType === Node.ELEMENT_NODE)\n        appendElement(root);\n      const elements = this._evaluator._queryCSS({ scope: root, pierceShadow: shadow }, "*");\n      for (const element of elements)\n        appendElement(element);\n      return result;\n    };\n    return { queryAll };\n  }\n  _createInternalHasTextEngine() {\n    return {\n      queryAll: (root, selector) => {\n        if (root.nodeType !== 1)\n          return [];\n        const element = root;\n        const text = elementText(this._evaluator._cacheText, element);\n        const { matcher } = createTextMatcher(selector, true);\n        return matcher(text) ? [element] : [];\n      }\n    };\n  }\n  _createInternalHasNotTextEngine() {\n    return {\n      queryAll: (root, selector) => {\n        if (root.nodeType !== 1)\n          return [];\n        const element = root;\n        const text = elementText(this._evaluator._cacheText, element);\n        const { matcher } = createTextMatcher(selector, true);\n        return matcher(text) ? [] : [element];\n      }\n    };\n  }\n  _createInternalLabelEngine() {\n    return {\n      queryAll: (root, selector) => {\n        const { matcher } = createTextMatcher(selector, true);\n        const allElements = this._evaluator._queryCSS({ scope: root, pierceShadow: true }, "*");\n        return allElements.filter((element) => {\n          return getElementLabels(this._evaluator._cacheText, element).some((label) => matcher(label));\n        });\n      }\n    };\n  }\n  _createNamedAttributeEngine() {\n    const queryAll = (root, selector) => {\n      const parsed = parseAttributeSelector(selector, true);\n      if (parsed.name || parsed.attributes.length !== 1)\n        throw new Error("Malformed attribute selector: " + selector);\n      const { name, value, caseSensitive } = parsed.attributes[0];\n      const lowerCaseValue = caseSensitive ? null : value.toLowerCase();\n      let matcher;\n      if (value instanceof RegExp)\n        matcher = (s) => !!s.match(value);\n      else if (caseSensitive)\n        matcher = (s) => s === value;\n      else\n        matcher = (s) => s.toLowerCase().includes(lowerCaseValue);\n      const elements = this._evaluator._queryCSS({ scope: root, pierceShadow: true }, `[${name}]`);\n      return elements.filter((e) => matcher(e.getAttribute(name)));\n    };\n    return { queryAll };\n  }\n  _createDescribeEngine() {\n    const queryAll = (root) => {\n      if (root.nodeType !== 1)\n        return [];\n      return [root];\n    };\n    return { queryAll };\n  }\n  _createControlEngine() {\n    return {\n      queryAll(root, body) {\n        if (body === "enter-frame")\n          return [];\n        if (body === "return-empty")\n          return [];\n        if (body === "component") {\n          if (root.nodeType !== 1)\n            return [];\n          return [root.childElementCount === 1 ? root.firstElementChild : root];\n        }\n        throw new Error(`Internal error, unknown internal:control selector ${body}`);\n      }\n    };\n  }\n  _createHasEngine() {\n    const queryAll = (root, body) => {\n      if (root.nodeType !== 1)\n        return [];\n      const has = !!this.querySelector(body.parsed, root, false);\n      return has ? [root] : [];\n    };\n    return { queryAll };\n  }\n  _createHasNotEngine() {\n    const queryAll = (root, body) => {\n      if (root.nodeType !== 1)\n        return [];\n      const has = !!this.querySelector(body.parsed, root, false);\n      return has ? [] : [root];\n    };\n    return { queryAll };\n  }\n  _createVisibleEngine() {\n    const queryAll = (root, body) => {\n      if (root.nodeType !== 1)\n        return [];\n      const visible = body === "true";\n      return isElementVisible(root) === visible ? [root] : [];\n    };\n    return { queryAll };\n  }\n  _createInternalChainEngine() {\n    const queryAll = (root, body) => {\n      return this.querySelectorAll(body.parsed, root);\n    };\n    return { queryAll };\n  }\n  extend(source, params) {\n    const constrFunction = this.window.eval(`\n    (() => {\n      const module = {};\n      ${source}\n      return module.exports.default();\n    })()`);\n    return new constrFunction(this, params);\n  }\n  async viewportRatio(element) {\n    return await new Promise((resolve) => {\n      const observer = new IntersectionObserver((entries) => {\n        resolve(entries[0].intersectionRatio);\n        observer.disconnect();\n      });\n      observer.observe(element);\n      this.utils.builtins.requestAnimationFrame(() => {\n      });\n    });\n  }\n  getElementBorderWidth(node) {\n    if (node.nodeType !== Node.ELEMENT_NODE || !node.ownerDocument || !node.ownerDocument.defaultView)\n      return { left: 0, top: 0 };\n    const style = node.ownerDocument.defaultView.getComputedStyle(node);\n    return { left: parseInt(style.borderLeftWidth || "", 10), top: parseInt(style.borderTopWidth || "", 10) };\n  }\n  describeIFrameStyle(iframe) {\n    if (!iframe.ownerDocument || !iframe.ownerDocument.defaultView)\n      return "error:notconnected";\n    const defaultView = iframe.ownerDocument.defaultView;\n    for (let e = iframe; e; e = parentElementOrShadowHost(e)) {\n      if (defaultView.getComputedStyle(e).transform !== "none")\n        return "transformed";\n    }\n    const iframeStyle = defaultView.getComputedStyle(iframe);\n    return {\n      left: parseInt(iframeStyle.borderLeftWidth || "", 10) + parseInt(iframeStyle.paddingLeft || "", 10),\n      top: parseInt(iframeStyle.borderTopWidth || "", 10) + parseInt(iframeStyle.paddingTop || "", 10)\n    };\n  }\n  retarget(node, behavior) {\n    let element = node.nodeType === Node.ELEMENT_NODE ? node : node.parentElement;\n    if (!element)\n      return null;\n    if (behavior === "none")\n      return element;\n    if (!element.matches("input, textarea, select") && !element.isContentEditable) {\n      if (behavior === "button-link")\n        element = element.closest("button, [role=button], a, [role=link]") || element;\n      else\n        element = element.closest("button, [role=button], [role=checkbox], [role=radio]") || element;\n    }\n    if (behavior === "follow-label") {\n      if (!element.matches("a, input, textarea, button, select, [role=link], [role=button], [role=checkbox], [role=radio]") && !element.isContentEditable) {\n        const enclosingLabel = element.closest("label");\n        if (enclosingLabel && enclosingLabel.control)\n          element = enclosingLabel.control;\n      }\n    }\n    return element;\n  }\n  async checkElementStates(node, states) {\n    if (states.includes("stable")) {\n      const stableResult = await this._checkElementIsStable(node);\n      if (stableResult === false)\n        return { missingState: "stable" };\n      if (stableResult === "error:notconnected")\n        return "error:notconnected";\n    }\n    for (const state of states) {\n      if (state !== "stable") {\n        const result = this.elementState(node, state);\n        if (result.received === "error:notconnected")\n          return "error:notconnected";\n        if (!result.matches)\n          return { missingState: state };\n      }\n    }\n  }\n  async _checkElementIsStable(node) {\n    const continuePolling = Symbol("continuePolling");\n    let lastRect;\n    let stableRafCounter = 0;\n    let lastTime = 0;\n    const check = () => {\n      const element = this.retarget(node, "no-follow-label");\n      if (!element)\n        return "error:notconnected";\n      const time = this.utils.builtins.performance.now();\n      if (this._stableRafCount > 1 && time - lastTime < 15)\n        return continuePolling;\n      lastTime = time;\n      const clientRect = element.getBoundingClientRect();\n      const rect = { x: clientRect.top, y: clientRect.left, width: clientRect.width, height: clientRect.height };\n      if (lastRect) {\n        const samePosition = rect.x === lastRect.x && rect.y === lastRect.y && rect.width === lastRect.width && rect.height === lastRect.height;\n        if (!samePosition)\n          return false;\n        if (++stableRafCounter >= this._stableRafCount)\n          return true;\n      }\n      lastRect = rect;\n      return continuePolling;\n    };\n    let fulfill;\n    let reject;\n    const result = new Promise((f, r) => {\n      fulfill = f;\n      reject = r;\n    });\n    const raf = () => {\n      try {\n        const success = check();\n        if (success !== continuePolling)\n          fulfill(success);\n        else\n          this.utils.builtins.requestAnimationFrame(raf);\n      } catch (e) {\n        reject(e);\n      }\n    };\n    this.utils.builtins.requestAnimationFrame(raf);\n    return result;\n  }\n  _createAriaRefEngine() {\n    const queryAll = (root, selector) => {\n      var _a, _b;\n      const result = (_b = (_a = this._lastAriaSnapshot) == null ? void 0 : _a.elements) == null ? void 0 : _b.get(selector);\n      return result && result.isConnected ? [result] : [];\n    };\n    return { queryAll };\n  }\n  elementState(node, state) {\n    const element = this.retarget(node, ["visible", "hidden"].includes(state) ? "none" : "follow-label");\n    if (!element || !element.isConnected) {\n      if (state === "hidden")\n        return { matches: true, received: "hidden" };\n      return { matches: false, received: "error:notconnected" };\n    }\n    if (state === "visible" || state === "hidden") {\n      const visible = isElementVisible(element);\n      return {\n        matches: state === "visible" ? visible : !visible,\n        received: visible ? "visible" : "hidden"\n      };\n    }\n    if (state === "disabled" || state === "enabled") {\n      const disabled = getAriaDisabled(element);\n      return {\n        matches: state === "disabled" ? disabled : !disabled,\n        received: disabled ? "disabled" : "enabled"\n      };\n    }\n    if (state === "editable") {\n      const disabled = getAriaDisabled(element);\n      const readonly = getReadonly(element);\n      if (readonly === "error")\n        throw this.createStacklessError("Element is not an <input>, <textarea>, <select> or [contenteditable] and does not have a role allowing [aria-readonly]");\n      return {\n        matches: !disabled && !readonly,\n        received: disabled ? "disabled" : readonly ? "readOnly" : "editable"\n      };\n    }\n    if (state === "checked" || state === "unchecked") {\n      const need = state === "checked";\n      const checked = getCheckedWithoutMixed(element);\n      if (checked === "error")\n        throw this.createStacklessError("Not a checkbox or radio button");\n      const isRadio = element.nodeName === "INPUT" && element.type === "radio";\n      return {\n        matches: need === checked,\n        received: checked ? "checked" : "unchecked",\n        isRadio\n      };\n    }\n    if (state === "indeterminate") {\n      const checked = getCheckedAllowMixed(element);\n      if (checked === "error")\n        throw this.createStacklessError("Not a checkbox or radio button");\n      return {\n        matches: checked === "mixed",\n        received: checked === true ? "checked" : checked === false ? "unchecked" : "mixed"\n      };\n    }\n    throw this.createStacklessError(`Unexpected element state "${state}"`);\n  }\n  selectOptions(node, optionsToSelect) {\n    const element = this.retarget(node, "follow-label");\n    if (!element)\n      return "error:notconnected";\n    if (element.nodeName.toLowerCase() !== "select")\n      throw this.createStacklessError("Element is not a <select> element");\n    const select = element;\n    const options = [...select.options];\n    const selectedOptions = [];\n    let remainingOptionsToSelect = optionsToSelect.slice();\n    for (let index = 0; index < options.length; index++) {\n      const option = options[index];\n      const filter = (optionToSelect) => {\n        if (optionToSelect instanceof Node)\n          return option === optionToSelect;\n        let matches = true;\n        if (optionToSelect.valueOrLabel !== void 0)\n          matches = matches && (optionToSelect.valueOrLabel === option.value || optionToSelect.valueOrLabel === option.label);\n        if (optionToSelect.value !== void 0)\n          matches = matches && optionToSelect.value === option.value;\n        if (optionToSelect.label !== void 0)\n          matches = matches && optionToSelect.label === option.label;\n        if (optionToSelect.index !== void 0)\n          matches = matches && optionToSelect.index === index;\n        return matches;\n      };\n      if (!remainingOptionsToSelect.some(filter))\n        continue;\n      if (!this.elementState(option, "enabled").matches)\n        return "error:optionnotenabled";\n      selectedOptions.push(option);\n      if (select.multiple) {\n        remainingOptionsToSelect = remainingOptionsToSelect.filter((o) => !filter(o));\n      } else {\n        remainingOptionsToSelect = [];\n        break;\n      }\n    }\n    if (remainingOptionsToSelect.length)\n      return "error:optionsnotfound";\n    select.value = void 0;\n    selectedOptions.forEach((option) => option.selected = true);\n    select.dispatchEvent(new Event("input", { bubbles: true, composed: true }));\n    select.dispatchEvent(new Event("change", { bubbles: true }));\n    return selectedOptions.map((option) => option.value);\n  }\n  fill(node, value) {\n    const element = this.retarget(node, "follow-label");\n    if (!element)\n      return "error:notconnected";\n    if (element.nodeName.toLowerCase() === "input") {\n      const input = element;\n      const type = input.type.toLowerCase();\n      const kInputTypesToSetValue = /* @__PURE__ */ new Set(["color", "date", "time", "datetime-local", "month", "range", "week"]);\n      const kInputTypesToTypeInto = /* @__PURE__ */ new Set(["", "email", "number", "password", "search", "tel", "text", "url"]);\n      if (!kInputTypesToTypeInto.has(type) && !kInputTypesToSetValue.has(type))\n        throw this.createStacklessError(`Input of type "${type}" cannot be filled`);\n      if (type === "number") {\n        value = value.trim();\n        if (isNaN(Number(value)))\n          throw this.createStacklessError("Cannot type text into input[type=number]");\n      }\n      if (kInputTypesToSetValue.has(type)) {\n        value = value.trim();\n        input.focus();\n        input.value = value;\n        if (input.value !== value)\n          throw this.createStacklessError("Malformed value");\n        element.dispatchEvent(new Event("input", { bubbles: true, composed: true }));\n        element.dispatchEvent(new Event("change", { bubbles: true }));\n        return "done";\n      }\n    } else if (element.nodeName.toLowerCase() === "textarea") {\n    } else if (!element.isContentEditable) {\n      throw this.createStacklessError("Element is not an <input>, <textarea> or [contenteditable] element");\n    }\n    this.selectText(element);\n    return "needsinput";\n  }\n  selectText(node) {\n    const element = this.retarget(node, "follow-label");\n    if (!element)\n      return "error:notconnected";\n    if (element.nodeName.toLowerCase() === "input") {\n      const input = element;\n      input.select();\n      input.focus();\n      return "done";\n    }\n    if (element.nodeName.toLowerCase() === "textarea") {\n      const textarea = element;\n      textarea.selectionStart = 0;\n      textarea.selectionEnd = textarea.value.length;\n      textarea.focus();\n      return "done";\n    }\n    const range = element.ownerDocument.createRange();\n    range.selectNodeContents(element);\n    const selection = element.ownerDocument.defaultView.getSelection();\n    if (selection) {\n      selection.removeAllRanges();\n      selection.addRange(range);\n    }\n    element.focus();\n    return "done";\n  }\n  _activelyFocused(node) {\n    const activeElement = node.getRootNode().activeElement;\n    const isFocused = activeElement === node && !!node.ownerDocument && node.ownerDocument.hasFocus();\n    return { activeElement, isFocused };\n  }\n  focusNode(node, resetSelectionIfNotFocused) {\n    if (!node.isConnected)\n      return "error:notconnected";\n    if (node.nodeType !== Node.ELEMENT_NODE)\n      throw this.createStacklessError("Node is not an element");\n    const { activeElement, isFocused: wasFocused } = this._activelyFocused(node);\n    if (node.isContentEditable && !wasFocused && activeElement && activeElement.blur) {\n      activeElement.blur();\n    }\n    node.focus();\n    node.focus();\n    if (resetSelectionIfNotFocused && !wasFocused && node.nodeName.toLowerCase() === "input") {\n      try {\n        const input = node;\n        input.setSelectionRange(0, 0);\n      } catch (e) {\n      }\n    }\n    return "done";\n  }\n  blurNode(node) {\n    if (!node.isConnected)\n      return "error:notconnected";\n    if (node.nodeType !== Node.ELEMENT_NODE)\n      throw this.createStacklessError("Node is not an element");\n    node.blur();\n    return "done";\n  }\n  setInputFiles(node, payloads) {\n    if (node.nodeType !== Node.ELEMENT_NODE)\n      return "Node is not of type HTMLElement";\n    const element = node;\n    if (element.nodeName !== "INPUT")\n      return "Not an <input> element";\n    const input = element;\n    const type = (input.getAttribute("type") || "").toLowerCase();\n    if (type !== "file")\n      return "Not an input[type=file] element";\n    const files = payloads.map((file) => {\n      const bytes = Uint8Array.from(atob(file.buffer), (c) => c.charCodeAt(0));\n      return new File([bytes], file.name, { type: file.mimeType, lastModified: file.lastModifiedMs });\n    });\n    const dt = new DataTransfer();\n    for (const file of files)\n      dt.items.add(file);\n    input.files = dt.files;\n    input.dispatchEvent(new Event("input", { bubbles: true, composed: true }));\n    input.dispatchEvent(new Event("change", { bubbles: true }));\n  }\n  expectHitTarget(hitPoint, targetElement) {\n    const roots = [];\n    let parentElement = targetElement;\n    while (parentElement) {\n      const root = enclosingShadowRootOrDocument(parentElement);\n      if (!root)\n        break;\n      roots.push(root);\n      if (root.nodeType === 9)\n        break;\n      parentElement = root.host;\n    }\n    let hitElement;\n    for (let index = roots.length - 1; index >= 0; index--) {\n      const root = roots[index];\n      const elements = root.elementsFromPoint(hitPoint.x, hitPoint.y);\n      const singleElement = root.elementFromPoint(hitPoint.x, hitPoint.y);\n      if (singleElement && elements[0] && parentElementOrShadowHost(singleElement) === elements[0]) {\n        const style = this.window.getComputedStyle(singleElement);\n        if ((style == null ? void 0 : style.display) === "contents") {\n          elements.unshift(singleElement);\n        }\n      }\n      if (elements[0] && elements[0].shadowRoot === root && elements[1] === singleElement) {\n        elements.shift();\n      }\n      const innerElement = elements[0];\n      if (!innerElement)\n        break;\n      hitElement = innerElement;\n      if (index && innerElement !== roots[index - 1].host)\n        break;\n    }\n    const hitParents = [];\n    while (hitElement && hitElement !== targetElement) {\n      hitParents.push(hitElement);\n      hitElement = parentElementOrShadowHost(hitElement);\n    }\n    if (hitElement === targetElement)\n      return "done";\n    const hitTargetDescription = this.previewNode(hitParents[0] || this.document.documentElement);\n    let rootHitTargetDescription;\n    let element = targetElement;\n    while (element) {\n      const index = hitParents.indexOf(element);\n      if (index !== -1) {\n        if (index > 1)\n          rootHitTargetDescription = this.previewNode(hitParents[index - 1]);\n        break;\n      }\n      element = parentElementOrShadowHost(element);\n    }\n    if (rootHitTargetDescription)\n      return { hitTargetDescription: `${hitTargetDescription} from ${rootHitTargetDescription} subtree` };\n    return { hitTargetDescription };\n  }\n  // Life of a pointer action, for example click.\n  //\n  // 0. Retry items 1 and 2 while action fails due to navigation or element being detached.\n  //   1. Resolve selector to an element.\n  //   2. Retry the following steps until the element is detached or frame navigates away.\n  //     2a. Wait for the element to be stable (not moving), visible and enabled.\n  //     2b. Scroll element into view. Scrolling alternates between:\n  //         - Built-in protocol scrolling.\n  //         - Anchoring to the top/left, bottom/right and center/center.\n  //         This is to scroll elements from under sticky headers/footers.\n  //     2c. Click point is calculated, either based on explicitly specified position,\n  //         or some visible point of the element based on protocol content quads.\n  //     2d. Click point relative to page viewport is converted relative to the target iframe\n  //         for the next hit-point check.\n  //     2e. (injected) Hit target at the click point must be a descendant of the target element.\n  //         This prevents mis-clicking in edge cases like <iframe> overlaying the target.\n  //     2f. (injected) Events specific for click (or some other action type) are intercepted on\n  //         the Window with capture:true. See 2i for details.\n  //         Note: this step is skipped for drag&drop (see inline comments for the reason).\n  //     2g. Necessary keyboard modifiers are pressed.\n  //     2h. Click event is issued (mousemove + mousedown + mouseup).\n  //     2i. (injected) For each event, we check that hit target at the event point\n  //         is a descendant of the target element.\n  //         This guarantees no race between issuing the event and handling it in the page,\n  //         for example due to layout shift.\n  //         When hit target check fails, we block all future events in the page.\n  //     2j. Keyboard modifiers are restored.\n  //     2k. (injected) Event interceptor is removed.\n  //     2l. All navigations triggered between 2g-2k are awaited to be either committed or canceled.\n  //     2m. If failed, wait for increasing amount of time before the next retry.\n  setupHitTargetInterceptor(node, action, hitPoint, blockAllEvents) {\n    const element = this.retarget(node, "button-link");\n    if (!element || !element.isConnected)\n      return "error:notconnected";\n    if (hitPoint) {\n      const preliminaryResult = this.expectHitTarget(hitPoint, element);\n      if (preliminaryResult !== "done")\n        return preliminaryResult.hitTargetDescription;\n    }\n    if (action === "drag")\n      return { stop: () => "done" };\n    const events = {\n      "hover": this._hoverHitTargetInterceptorEvents,\n      "tap": this._tapHitTargetInterceptorEvents,\n      "mouse": this._mouseHitTargetInterceptorEvents\n    }[action];\n    let result;\n    const listener = (event) => {\n      if (!events.has(event.type))\n        return;\n      if (!event.isTrusted)\n        return;\n      const point = !!this.window.TouchEvent && event instanceof this.window.TouchEvent ? event.touches[0] : event;\n      if (result === void 0 && point)\n        result = this.expectHitTarget({ x: point.clientX, y: point.clientY }, element);\n      if (blockAllEvents || result !== "done" && result !== void 0) {\n        event.preventDefault();\n        event.stopPropagation();\n        event.stopImmediatePropagation();\n      }\n    };\n    const stop = () => {\n      if (this._hitTargetInterceptor === listener)\n        this._hitTargetInterceptor = void 0;\n      return result || "done";\n    };\n    this._hitTargetInterceptor = listener;\n    return { stop };\n  }\n  dispatchEvent(node, type, eventInitObj) {\n    var _a, _b, _c, _d, _e;\n    let event;\n    const eventInit = { bubbles: true, cancelable: true, composed: true, ...eventInitObj };\n    switch (this._eventTypes.get(type)) {\n      case "mouse":\n        event = new MouseEvent(type, eventInit);\n        break;\n      case "keyboard":\n        event = new KeyboardEvent(type, eventInit);\n        break;\n      case "touch": {\n        if (this._browserName === "webkit") {\n          const createTouch = (t) => {\n            var _a2, _b2, _c2;\n            if (t instanceof Touch)\n              return t;\n            let pageX = t.pageX;\n            if (pageX === void 0 && t.clientX !== void 0)\n              pageX = t.clientX + (((_a2 = this.document.scrollingElement) == null ? void 0 : _a2.scrollLeft) || 0);\n            let pageY = t.pageY;\n            if (pageY === void 0 && t.clientY !== void 0)\n              pageY = t.clientY + (((_b2 = this.document.scrollingElement) == null ? void 0 : _b2.scrollTop) || 0);\n            return this.document.createTouch(this.window, (_c2 = t.target) != null ? _c2 : node, t.identifier, pageX, pageY, t.screenX, t.screenY, t.radiusX, t.radiusY, t.rotationAngle, t.force);\n          };\n          const createTouchList = (touches) => {\n            if (touches instanceof TouchList || !touches)\n              return touches;\n            return this.document.createTouchList(...touches.map(createTouch));\n          };\n          (_a = eventInit.target) != null ? _a : eventInit.target = node;\n          eventInit.touches = createTouchList(eventInit.touches);\n          eventInit.targetTouches = createTouchList(eventInit.targetTouches);\n          eventInit.changedTouches = createTouchList(eventInit.changedTouches);\n          event = new TouchEvent(type, eventInit);\n        } else {\n          (_b = eventInit.target) != null ? _b : eventInit.target = node;\n          eventInit.touches = (_c = eventInit.touches) == null ? void 0 : _c.map((t) => {\n            var _a2;\n            return t instanceof Touch ? t : new Touch({ ...t, target: (_a2 = t.target) != null ? _a2 : node });\n          });\n          eventInit.targetTouches = (_d = eventInit.targetTouches) == null ? void 0 : _d.map((t) => {\n            var _a2;\n            return t instanceof Touch ? t : new Touch({ ...t, target: (_a2 = t.target) != null ? _a2 : node });\n          });\n          eventInit.changedTouches = (_e = eventInit.changedTouches) == null ? void 0 : _e.map((t) => {\n            var _a2;\n            return t instanceof Touch ? t : new Touch({ ...t, target: (_a2 = t.target) != null ? _a2 : node });\n          });\n          event = new TouchEvent(type, eventInit);\n        }\n        break;\n      }\n      case "pointer":\n        event = new PointerEvent(type, eventInit);\n        break;\n      case "focus":\n        event = new FocusEvent(type, eventInit);\n        break;\n      case "drag":\n        event = new DragEvent(type, eventInit);\n        break;\n      case "wheel":\n        event = new WheelEvent(type, eventInit);\n        break;\n      case "deviceorientation":\n        try {\n          event = new DeviceOrientationEvent(type, eventInit);\n        } catch {\n          const { bubbles, cancelable, alpha, beta, gamma, absolute } = eventInit;\n          event = this.document.createEvent("DeviceOrientationEvent");\n          event.initDeviceOrientationEvent(type, bubbles, cancelable, alpha, beta, gamma, absolute);\n        }\n        break;\n      case "devicemotion":\n        try {\n          event = new DeviceMotionEvent(type, eventInit);\n        } catch {\n          const { bubbles, cancelable, acceleration, accelerationIncludingGravity, rotationRate, interval } = eventInit;\n          event = this.document.createEvent("DeviceMotionEvent");\n          event.initDeviceMotionEvent(type, bubbles, cancelable, acceleration, accelerationIncludingGravity, rotationRate, interval);\n        }\n        break;\n      default:\n        event = new Event(type, eventInit);\n        break;\n    }\n    node.dispatchEvent(event);\n  }\n  previewNode(node) {\n    if (node.nodeType === Node.TEXT_NODE)\n      return oneLine(`#text=${node.nodeValue || ""}`);\n    if (node.nodeType !== Node.ELEMENT_NODE)\n      return oneLine(`<${node.nodeName.toLowerCase()} />`);\n    const element = node;\n    const attrs = [];\n    for (let i = 0; i < element.attributes.length; i++) {\n      const { name, value } = element.attributes[i];\n      if (name === "style")\n        continue;\n      if (!value && this._booleanAttributes.has(name))\n        attrs.push(` ${name}`);\n      else\n        attrs.push(` ${name}="${value}"`);\n    }\n    attrs.sort((a, b) => a.length - b.length);\n    const attrText = trimStringWithEllipsis(attrs.join(""), 500);\n    if (this._autoClosingTags.has(element.nodeName))\n      return oneLine(`<${element.nodeName.toLowerCase()}${attrText}/>`);\n    const children = element.childNodes;\n    let onlyText = false;\n    if (children.length <= 5) {\n      onlyText = true;\n      for (let i = 0; i < children.length; i++)\n        onlyText = onlyText && children[i].nodeType === Node.TEXT_NODE;\n    }\n    const text = onlyText ? element.textContent || "" : children.length ? "\\u2026" : "";\n    return oneLine(`<${element.nodeName.toLowerCase()}${attrText}>${trimStringWithEllipsis(text, 50)}</${element.nodeName.toLowerCase()}>`);\n  }\n  strictModeViolationError(selector, matches) {\n    this._evaluator.begin();\n    beginAriaCaches();\n    beginDOMCaches();\n    try {\n      const maxElements = this._isUtilityWorld && this._browserName === "firefox" ? 2 : 10;\n      const infos = matches.slice(0, maxElements).map((m) => ({\n        preview: this.previewNode(m),\n        selector: this.generateSelectorSimple(m)\n      }));\n      const lines = infos.map((info, i) => `\n    ${i + 1}) ${info.preview} aka ${asLocator(this._sdkLanguage, info.selector)}`);\n      if (infos.length < matches.length)\n        lines.push("\\n    ...");\n      return this.createStacklessError(`strict mode violation: ${asLocator(this._sdkLanguage, stringifySelector(selector))} resolved to ${matches.length} elements:${lines.join("")}\n`);\n    } finally {\n      endDOMCaches();\n      endAriaCaches();\n      this._evaluator.end();\n    }\n  }\n  createStacklessError(message) {\n    if (this._browserName === "firefox") {\n      const error2 = new Error("Error: " + message);\n      error2.stack = "";\n      return error2;\n    }\n    const error = new Error(message);\n    delete error.stack;\n    return error;\n  }\n  createHighlight() {\n    return new Highlight(this);\n  }\n  maskSelectors(selectors, color) {\n    if (this._highlight)\n      this.hideHighlight();\n    this._highlight = new Highlight(this);\n    this._highlight.install();\n    const elements = [];\n    for (const selector of selectors)\n      elements.push(this.querySelectorAll(selector, this.document.documentElement));\n    this._highlight.maskElements(elements.flat(), color);\n  }\n  highlight(selector) {\n    if (!this._highlight) {\n      this._highlight = new Highlight(this);\n      this._highlight.install();\n    }\n    this._highlight.runHighlightOnRaf(selector);\n  }\n  hideHighlight() {\n    if (this._highlight) {\n      this._highlight.uninstall();\n      delete this._highlight;\n    }\n  }\n  markTargetElements(markedElements, callId) {\n    var _a, _b;\n    if (((_a = this._markedElements) == null ? void 0 : _a.callId) !== callId)\n      this._markedElements = void 0;\n    const previous = ((_b = this._markedElements) == null ? void 0 : _b.elements) || /* @__PURE__ */ new Set();\n    const unmarkEvent = new CustomEvent("__playwright_unmark_target__", {\n      bubbles: true,\n      cancelable: true,\n      detail: callId,\n      composed: true\n    });\n    for (const element of previous) {\n      if (!markedElements.has(element))\n        element.dispatchEvent(unmarkEvent);\n    }\n    const markEvent = new CustomEvent("__playwright_mark_target__", {\n      bubbles: true,\n      cancelable: true,\n      detail: callId,\n      composed: true\n    });\n    for (const element of markedElements) {\n      if (!previous.has(element))\n        element.dispatchEvent(markEvent);\n    }\n    this._markedElements = { callId, elements: markedElements };\n  }\n  _setupGlobalListenersRemovalDetection() {\n    const customEventName = "__playwright_global_listeners_check__";\n    let seenEvent = false;\n    const handleCustomEvent = () => seenEvent = true;\n    this.window.addEventListener(customEventName, handleCustomEvent);\n    new MutationObserver((entries) => {\n      const newDocumentElement = entries.some((entry) => Array.from(entry.addedNodes).includes(this.document.documentElement));\n      if (!newDocumentElement)\n        return;\n      seenEvent = false;\n      this.window.dispatchEvent(new CustomEvent(customEventName));\n      if (seenEvent)\n        return;\n      this.window.addEventListener(customEventName, handleCustomEvent);\n      for (const callback of this.onGlobalListenersRemoved)\n        callback();\n    }).observe(this.document, { childList: true });\n  }\n  _setupHitTargetInterceptors() {\n    const listener = (event) => {\n      var _a;\n      return (_a = this._hitTargetInterceptor) == null ? void 0 : _a.call(this, event);\n    };\n    const addHitTargetInterceptorListeners = () => {\n      for (const event of this._allHitTargetInterceptorEvents)\n        this.window.addEventListener(event, listener, { capture: true, passive: false });\n    };\n    addHitTargetInterceptorListeners();\n    this.onGlobalListenersRemoved.add(addHitTargetInterceptorListeners);\n  }\n  async expect(element, options, elements) {\n    var _a, _b;\n    const isArray = options.expression === "to.have.count" || options.expression.endsWith(".array");\n    if (isArray)\n      return this.expectArray(elements, options);\n    if (!element) {\n      if (!options.isNot && options.expression === "to.be.hidden")\n        return { matches: true };\n      if (options.isNot && options.expression === "to.be.visible")\n        return { matches: false };\n      if (!options.isNot && options.expression === "to.be.detached")\n        return { matches: true };\n      if (options.isNot && options.expression === "to.be.attached")\n        return { matches: false };\n      if (options.isNot && options.expression === "to.be.in.viewport")\n        return { matches: false };\n      if (options.expression === "to.have.title" && ((_a = options == null ? void 0 : options.expectedText) == null ? void 0 : _a[0])) {\n        const matcher = new ExpectedTextMatcher(options.expectedText[0]);\n        const received = this.document.title;\n        return { received, matches: matcher.matches(received) };\n      }\n      if (options.expression === "to.have.url" && ((_b = options == null ? void 0 : options.expectedText) == null ? void 0 : _b[0])) {\n        const matcher = new ExpectedTextMatcher(options.expectedText[0]);\n        const received = this.document.location.href;\n        return { received, matches: matcher.matches(received) };\n      }\n      return { matches: options.isNot, missingReceived: true };\n    }\n    return await this.expectSingleElement(element, options);\n  }\n  async expectSingleElement(element, options) {\n    var _a, _b;\n    const expression = options.expression;\n    {\n      let result;\n      if (expression === "to.have.attribute") {\n        const hasAttribute = element.hasAttribute(options.expressionArg);\n        result = {\n          matches: hasAttribute,\n          received: hasAttribute ? "attribute present" : "attribute not present"\n        };\n      } else if (expression === "to.be.checked") {\n        const { checked, indeterminate } = options.expectedValue;\n        if (indeterminate) {\n          if (checked !== void 0)\n            throw this.createStacklessError("Can\'t assert indeterminate and checked at the same time");\n          result = this.elementState(element, "indeterminate");\n        } else {\n          result = this.elementState(element, checked === false ? "unchecked" : "checked");\n        }\n      } else if (expression === "to.be.disabled") {\n        result = this.elementState(element, "disabled");\n      } else if (expression === "to.be.editable") {\n        result = this.elementState(element, "editable");\n      } else if (expression === "to.be.readonly") {\n        result = this.elementState(element, "editable");\n        result.matches = !result.matches;\n      } else if (expression === "to.be.empty") {\n        if (element.nodeName === "INPUT" || element.nodeName === "TEXTAREA") {\n          const value = element.value;\n          result = { matches: !value, received: value ? "notEmpty" : "empty" };\n        } else {\n          const text = (_a = element.textContent) == null ? void 0 : _a.trim();\n          result = { matches: !text, received: text ? "notEmpty" : "empty" };\n        }\n      } else if (expression === "to.be.enabled") {\n        result = this.elementState(element, "enabled");\n      } else if (expression === "to.be.focused") {\n        const focused = this._activelyFocused(element).isFocused;\n        result = {\n          matches: focused,\n          received: focused ? "focused" : "inactive"\n        };\n      } else if (expression === "to.be.hidden") {\n        result = this.elementState(element, "hidden");\n      } else if (expression === "to.be.visible") {\n        result = this.elementState(element, "visible");\n      } else if (expression === "to.be.attached") {\n        result = {\n          matches: true,\n          received: "attached"\n        };\n      } else if (expression === "to.be.detached") {\n        result = {\n          matches: false,\n          received: "attached"\n        };\n      }\n      if (result) {\n        if (result.received === "error:notconnected")\n          throw this.createStacklessError("Element is not connected");\n        return result;\n      }\n    }\n    {\n      if (expression === "to.have.property") {\n        let target = element;\n        const properties = options.expressionArg.split(".");\n        for (let i = 0; i < properties.length - 1; i++) {\n          if (typeof target !== "object" || !(properties[i] in target))\n            return { received: void 0, matches: false };\n          target = target[properties[i]];\n        }\n        const received = target[properties[properties.length - 1]];\n        const matches = deepEquals(received, options.expectedValue);\n        return { received, matches };\n      }\n    }\n    {\n      if (expression === "to.be.in.viewport") {\n        const ratio = await this.viewportRatio(element);\n        return { received: `viewport ratio ${ratio}`, matches: ratio > 0 && ratio > ((_b = options.expectedNumber) != null ? _b : 0) - 1e-9 };\n      }\n    }\n    {\n      if (expression === "to.have.values") {\n        element = this.retarget(element, "follow-label");\n        if (element.nodeName !== "SELECT" || !element.multiple)\n          throw this.createStacklessError("Not a select element with a multiple attribute");\n        const received = [...element.selectedOptions].map((o) => o.value);\n        if (received.length !== options.expectedText.length)\n          return { received, matches: false };\n        return { received, matches: received.map((r, i) => new ExpectedTextMatcher(options.expectedText[i]).matches(r)).every(Boolean) };\n      }\n    }\n    {\n      if (expression === "to.match.aria") {\n        const result = matchesExpectAriaTemplate(element, options.expectedValue);\n        return {\n          received: result.received,\n          matches: !!result.matches.length\n        };\n      }\n    }\n    {\n      let received;\n      if (expression === "to.have.attribute.value") {\n        const value = element.getAttribute(options.expressionArg);\n        if (value === null)\n          return { received: null, matches: false };\n        received = value;\n      } else if (["to.have.class", "to.contain.class"].includes(expression)) {\n        if (!options.expectedText)\n          throw this.createStacklessError("Expected text is not provided for " + expression);\n        return {\n          received: element.classList.toString(),\n          matches: new ExpectedTextMatcher(options.expectedText[0]).matchesClassList(\n            this,\n            element.classList,\n            /* partial */\n            expression === "to.contain.class"\n          )\n        };\n      } else if (expression === "to.have.css") {\n        received = this.window.getComputedStyle(element).getPropertyValue(options.expressionArg);\n      } else if (expression === "to.have.id") {\n        received = element.id;\n      } else if (expression === "to.have.text") {\n        received = options.useInnerText ? element.innerText : elementText(/* @__PURE__ */ new Map(), element).full;\n      } else if (expression === "to.have.accessible.name") {\n        received = getElementAccessibleName(\n          element,\n          false\n          /* includeHidden */\n        );\n      } else if (expression === "to.have.accessible.description") {\n        received = getElementAccessibleDescription(\n          element,\n          false\n          /* includeHidden */\n        );\n      } else if (expression === "to.have.accessible.error.message") {\n        received = getElementAccessibleErrorMessage(element);\n      } else if (expression === "to.have.role") {\n        received = getAriaRole(element) || "";\n      } else if (expression === "to.have.value") {\n        element = this.retarget(element, "follow-label");\n        if (element.nodeName !== "INPUT" && element.nodeName !== "TEXTAREA" && element.nodeName !== "SELECT")\n          throw this.createStacklessError("Not an input element");\n        received = element.value;\n      }\n      if (received !== void 0 && options.expectedText) {\n        const matcher = new ExpectedTextMatcher(options.expectedText[0]);\n        return { received, matches: matcher.matches(received) };\n      }\n    }\n    throw this.createStacklessError("Unknown expect matcher: " + expression);\n  }\n  expectArray(elements, options) {\n    const expression = options.expression;\n    if (expression === "to.have.count") {\n      const received2 = elements.length;\n      const matches2 = received2 === options.expectedNumber;\n      return { received: received2, matches: matches2 };\n    }\n    if (!options.expectedText)\n      throw this.createStacklessError("Expected text is not provided for " + expression);\n    if (["to.have.class.array", "to.contain.class.array"].includes(expression)) {\n      const receivedClassLists = elements.map((e) => e.classList);\n      const received2 = receivedClassLists.map(String);\n      if (receivedClassLists.length !== options.expectedText.length)\n        return { received: received2, matches: false };\n      const matches2 = this._matchSequentially(\n        options.expectedText,\n        receivedClassLists,\n        (matcher, r) => matcher.matchesClassList(\n          this,\n          r,\n          /* partial */\n          expression === "to.contain.class.array"\n        )\n      );\n      return {\n        received: received2,\n        matches: matches2\n      };\n    }\n    if (!["to.contain.text.array", "to.have.text.array"].includes(expression))\n      throw this.createStacklessError("Unknown expect matcher: " + expression);\n    const received = elements.map((e) => options.useInnerText ? e.innerText : elementText(/* @__PURE__ */ new Map(), e).full);\n    const lengthShouldMatch = expression !== "to.contain.text.array";\n    const matchesLength = received.length === options.expectedText.length || !lengthShouldMatch;\n    if (!matchesLength)\n      return { received, matches: false };\n    const matches = this._matchSequentially(options.expectedText, received, (matcher, r) => matcher.matches(r));\n    return { received, matches };\n  }\n  _matchSequentially(expectedText, received, matchFn) {\n    const matchers = expectedText.map((e) => new ExpectedTextMatcher(e));\n    let mIndex = 0;\n    let rIndex = 0;\n    while (mIndex < matchers.length && rIndex < received.length) {\n      if (matchFn(matchers[mIndex], received[rIndex]))\n        ++mIndex;\n      ++rIndex;\n    }\n    return mIndex === matchers.length;\n  }\n};\nfunction oneLine(s) {\n  return s.replace(/\\n/g, "\\u21B5").replace(/\\t/g, "\\u21C6");\n}\nfunction cssUnquote(s) {\n  s = s.substring(1, s.length - 1);\n  if (!s.includes("\\\\"))\n    return s;\n  const r = [];\n  let i = 0;\n  while (i < s.length) {\n    if (s[i] === "\\\\" && i + 1 < s.length)\n      i++;\n    r.push(s[i++]);\n  }\n  return r.join("");\n}\nfunction createTextMatcher(selector, internal) {\n  if (selector[0] === "/" && selector.lastIndexOf("/") > 0) {\n    const lastSlash = selector.lastIndexOf("/");\n    const re = new RegExp(selector.substring(1, lastSlash), selector.substring(lastSlash + 1));\n    return { matcher: (elementText2) => re.test(elementText2.full), kind: "regex" };\n  }\n  const unquote = internal ? JSON.parse.bind(JSON) : cssUnquote;\n  let strict = false;\n  if (selector.length > 1 && selector[0] === \'"\' && selector[selector.length - 1] === \'"\') {\n    selector = unquote(selector);\n    strict = true;\n  } else if (internal && selector.length > 1 && selector[0] === \'"\' && selector[selector.length - 2] === \'"\' && selector[selector.length - 1] === "i") {\n    selector = unquote(selector.substring(0, selector.length - 1));\n    strict = false;\n  } else if (internal && selector.length > 1 && selector[0] === \'"\' && selector[selector.length - 2] === \'"\' && selector[selector.length - 1] === "s") {\n    selector = unquote(selector.substring(0, selector.length - 1));\n    strict = true;\n  } else if (selector.length > 1 && selector[0] === "\'" && selector[selector.length - 1] === "\'") {\n    selector = unquote(selector);\n    strict = true;\n  }\n  selector = normalizeWhiteSpace(selector);\n  if (strict) {\n    if (internal)\n      return { kind: "strict", matcher: (elementText2) => elementText2.normalized === selector };\n    const strictTextNodeMatcher = (elementText2) => {\n      if (!selector && !elementText2.immediate.length)\n        return true;\n      return elementText2.immediate.some((s) => normalizeWhiteSpace(s) === selector);\n    };\n    return { matcher: strictTextNodeMatcher, kind: "strict" };\n  }\n  selector = selector.toLowerCase();\n  return { kind: "lax", matcher: (elementText2) => elementText2.normalized.toLowerCase().includes(selector) };\n}\nvar ExpectedTextMatcher = class {\n  constructor(expected) {\n    this._normalizeWhiteSpace = expected.normalizeWhiteSpace;\n    this._ignoreCase = expected.ignoreCase;\n    this._string = expected.matchSubstring ? void 0 : this.normalize(expected.string);\n    this._substring = expected.matchSubstring ? this.normalize(expected.string) : void 0;\n    if (expected.regexSource) {\n      const flags = new Set((expected.regexFlags || "").split(""));\n      if (expected.ignoreCase === false)\n        flags.delete("i");\n      if (expected.ignoreCase === true)\n        flags.add("i");\n      this._regex = new RegExp(expected.regexSource, [...flags].join(""));\n    }\n  }\n  matches(text) {\n    if (!this._regex)\n      text = this.normalize(text);\n    if (this._string !== void 0)\n      return text === this._string;\n    if (this._substring !== void 0)\n      return text.includes(this._substring);\n    if (this._regex)\n      return !!this._regex.test(text);\n    return false;\n  }\n  matchesClassList(injectedScript, classList, partial) {\n    if (partial) {\n      if (this._regex)\n        throw injectedScript.createStacklessError("Partial matching does not support regular expressions. Please provide a string value.");\n      return this._string.split(/\\s+/g).filter(Boolean).every((className) => classList.contains(className));\n    }\n    return this.matches(classList.toString());\n  }\n  normalize(s) {\n    if (!s)\n      return s;\n    if (this._normalizeWhiteSpace)\n      s = normalizeWhiteSpace(s);\n    if (this._ignoreCase)\n      s = s.toLocaleLowerCase();\n    return s;\n  }\n};\nfunction deepEquals(a, b) {\n  if (a === b)\n    return true;\n  if (a && b && typeof a === "object" && typeof b === "object") {\n    if (a.constructor !== b.constructor)\n      return false;\n    if (Array.isArray(a)) {\n      if (a.length !== b.length)\n        return false;\n      for (let i = 0; i < a.length; ++i) {\n        if (!deepEquals(a[i], b[i]))\n          return false;\n      }\n      return true;\n    }\n    if (a instanceof RegExp)\n      return a.source === b.source && a.flags === b.flags;\n    if (a.valueOf !== Object.prototype.valueOf)\n      return a.valueOf() === b.valueOf();\n    if (a.toString !== Object.prototype.toString)\n      return a.toString() === b.toString();\n    const keys = Object.keys(a);\n    if (keys.length !== Object.keys(b).length)\n      return false;\n    for (let i = 0; i < keys.length; ++i) {\n      if (!b.hasOwnProperty(keys[i]))\n        return false;\n    }\n    for (const key of keys) {\n      if (!deepEquals(a[key], b[key]))\n        return false;\n    }\n    return true;\n  }\n  if (typeof a === "number" && typeof b === "number")\n    return isNaN(a) && isNaN(b);\n  return false;\n}\n'},"./node_modules/playwright-core/lib/generated/pollingRecorderSource.js":e=>{"use strict";var t,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,i=Object.prototype.hasOwnProperty,s={};((e,t)=>{for(var r in t)n(e,r,{get:t[r],enumerable:!0})})(s,{source:()=>a}),e.exports=(t=s,((e,t,s,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let s of o(t))i.call(e,s)||undefined===s||n(e,s,{get:()=>t[s],enumerable:!(a=r(t,s))||a.enumerable});return e})(n({},"__esModule",{value:!0}),t));const a='\nvar __commonJS = obj => {\n  let required = false;\n  let result;\n  return function __require() {\n    if (!required) {\n      required = true;\n      let fn;\n      for (const name in obj) { fn = obj[name]; break; }\n      const module = { exports: {} };\n      fn(module.exports, module);\n      result = module.exports;\n    }\n    return result;\n  }\n};\nvar __export = (target, all) => {for (var name in all) target[name] = all[name];};\nvar __toESM = mod => ({ ...mod, \'default\': mod });\nvar __toCommonJS = mod => ({ ...mod, __esModule: true });\n\n\n// packages/injected/src/recorder/pollingRecorder.ts\nvar pollingRecorder_exports = {};\n__export(pollingRecorder_exports, {\n  PollingRecorder: () => PollingRecorder,\n  default: () => pollingRecorder_default\n});\nmodule.exports = __toCommonJS(pollingRecorder_exports);\n\n// packages/injected/src/recorder/clipPaths.ts\nvar svgJson = { "tagName": "svg", "children": [{ "tagName": "defs", "children": [{ "tagName": "clipPath", "attrs": { "width": "16", "height": "16", "viewBox": "0 0 16 16", "fill": "currentColor", "id": "icon-gripper" }, "children": [{ "tagName": "path", "attrs": { "d": "M5 3h2v2H5zm0 4h2v2H5zm0 4h2v2H5zm4-8h2v2H9zm0 4h2v2H9zm0 4h2v2H9z" } }] }, { "tagName": "clipPath", "attrs": { "width": "16", "height": "16", "viewBox": "0 0 16 16", "fill": "currentColor", "id": "icon-circle-large-filled" }, "children": [{ "tagName": "path", "attrs": { "d": "M8 1a6.8 6.8 0 0 1 1.86.253 6.899 6.899 0 0 1 3.083 1.805 6.903 6.903 0 0 1 1.804 3.083C14.916 6.738 15 7.357 15 8s-.084 1.262-.253 1.86a6.9 6.9 0 0 1-.704 1.674 7.157 7.157 0 0 1-2.516 2.509 6.966 6.966 0 0 1-1.668.71A6.984 6.984 0 0 1 8 15a6.984 6.984 0 0 1-1.86-.246 7.098 7.098 0 0 1-1.674-.711 7.3 7.3 0 0 1-1.415-1.094 7.295 7.295 0 0 1-1.094-1.415 7.098 7.098 0 0 1-.71-1.675A6.985 6.985 0 0 1 1 8c0-.643.082-1.262.246-1.86a6.968 6.968 0 0 1 .711-1.667 7.156 7.156 0 0 1 2.509-2.516 6.895 6.895 0 0 1 1.675-.704A6.808 6.808 0 0 1 8 1z" } }] }, { "tagName": "clipPath", "attrs": { "width": "16", "height": "16", "viewBox": "0 0 16 16", "fill": "currentColor", "id": "icon-stop-circle" }, "children": [{ "tagName": "path", "attrs": { "d": "M6 6h4v4H6z" } }, { "tagName": "path", "attrs": { "fill-rule": "evenodd", "clip-rule": "evenodd", "d": "M8.6 1c1.6.1 3.1.9 4.2 2 1.3 1.4 2 3.1 2 5.1 0 1.6-.6 3.1-1.6 4.4-1 1.2-2.4 2.1-4 2.4-1.6.3-3.2.1-4.6-.7-1.4-.8-2.5-2-3.1-3.5C.9 9.2.8 7.5 1.3 6c.5-1.6 1.4-2.9 2.8-3.8C5.4 1.3 7 .9 8.6 1zm.5 12.9c1.3-.3 2.5-1 3.4-2.1.8-1.1 1.3-2.4 1.2-3.8 0-1.6-.6-3.2-1.7-4.3-1-1-2.2-1.6-3.6-1.7-1.3-.1-2.7.2-3.8 1-1.1.8-1.9 1.9-2.3 3.3-.4 1.3-.4 2.7.2 4 .6 1.3 1.5 2.3 2.7 3 1.2.7 2.6.9 3.9.6z" } }] }, { "tagName": "clipPath", "attrs": { "width": "16", "height": "16", "viewBox": "0 0 16 16", "fill": "currentColor", "id": "icon-inspect" }, "children": [{ "tagName": "path", "attrs": { "fill-rule": "evenodd", "clip-rule": "evenodd", "d": "M1 3l1-1h12l1 1v6h-1V3H2v8h5v1H2l-1-1V3zm14.707 9.707L9 6v9.414l2.707-2.707h4zM10 13V8.414l3.293 3.293h-2L10 13z" } }] }, { "tagName": "clipPath", "attrs": { "width": "16", "height": "16", "viewBox": "0 0 16 16", "fill": "currentColor", "id": "icon-whole-word" }, "children": [{ "tagName": "path", "attrs": { "fill-rule": "evenodd", "clip-rule": "evenodd", "d": "M0 11H1V13H15V11H16V14H15H1H0V11Z" } }, { "tagName": "path", "attrs": { "d": "M6.84048 11H5.95963V10.1406H5.93814C5.555 10.7995 4.99104 11.1289 4.24625 11.1289C3.69839 11.1289 3.26871 10.9839 2.95718 10.6938C2.64924 10.4038 2.49527 10.0189 2.49527 9.53906C2.49527 8.51139 3.10041 7.91341 4.3107 7.74512L5.95963 7.51416C5.95963 6.57959 5.58186 6.1123 4.82632 6.1123C4.16389 6.1123 3.56591 6.33789 3.03238 6.78906V5.88672C3.57307 5.54297 4.19612 5.37109 4.90152 5.37109C6.19416 5.37109 6.84048 6.05501 6.84048 7.42285V11ZM5.95963 8.21777L4.63297 8.40039C4.22476 8.45768 3.91682 8.55973 3.70914 8.70654C3.50145 8.84977 3.39761 9.10579 3.39761 9.47461C3.39761 9.74316 3.4925 9.96338 3.68228 10.1353C3.87564 10.3035 4.13166 10.3877 4.45035 10.3877C4.8872 10.3877 5.24706 10.2355 5.52994 9.93115C5.8164 9.62321 5.95963 9.2347 5.95963 8.76562V8.21777Z" } }, { "tagName": "path", "attrs": { "d": "M9.3475 10.2051H9.32601V11H8.44515V2.85742H9.32601V6.4668H9.3475C9.78076 5.73633 10.4146 5.37109 11.2489 5.37109C11.9543 5.37109 12.5057 5.61816 12.9032 6.1123C13.3042 6.60286 13.5047 7.26172 13.5047 8.08887C13.5047 9.00911 13.2809 9.74674 12.8333 10.3018C12.3857 10.8532 11.7734 11.1289 10.9964 11.1289C10.2695 11.1289 9.71989 10.821 9.3475 10.2051ZM9.32601 7.98682V8.75488C9.32601 9.20964 9.47282 9.59635 9.76644 9.91504C10.0636 10.2301 10.4396 10.3877 10.8944 10.3877C11.4279 10.3877 11.8451 10.1836 12.1458 9.77539C12.4502 9.36719 12.6024 8.79964 12.6024 8.07275C12.6024 7.46045 12.4609 6.98063 12.1781 6.6333C11.8952 6.28597 11.512 6.1123 11.0286 6.1123C10.5166 6.1123 10.1048 6.29134 9.7933 6.64941C9.48177 7.00391 9.32601 7.44971 9.32601 7.98682Z" } }] }, { "tagName": "clipPath", "attrs": { "width": "16", "height": "16", "viewBox": "0 0 16 16", "fill": "currentColor", "id": "icon-eye" }, "children": [{ "tagName": "path", "attrs": { "d": "M7.99993 6.00316C9.47266 6.00316 10.6666 7.19708 10.6666 8.66981C10.6666 10.1426 9.47266 11.3365 7.99993 11.3365C6.52715 11.3365 5.33324 10.1426 5.33324 8.66981C5.33324 7.19708 6.52715 6.00316 7.99993 6.00316ZM7.99993 7.00315C7.07946 7.00315 6.33324 7.74935 6.33324 8.66981C6.33324 9.59028 7.07946 10.3365 7.99993 10.3365C8.9204 10.3365 9.6666 9.59028 9.6666 8.66981C9.6666 7.74935 8.9204 7.00315 7.99993 7.00315ZM7.99993 3.66675C11.0756 3.66675 13.7307 5.76675 14.4673 8.70968C14.5344 8.97755 14.3716 9.24908 14.1037 9.31615C13.8358 9.38315 13.5643 9.22041 13.4973 8.95248C12.8713 6.45205 10.6141 4.66675 7.99993 4.66675C5.38454 4.66675 3.12664 6.45359 2.50182 8.95555C2.43491 9.22341 2.16348 9.38635 1.89557 9.31948C1.62766 9.25255 1.46471 8.98115 1.53162 8.71321C2.26701 5.76856 4.9229 3.66675 7.99993 3.66675Z" } }] }, { "tagName": "clipPath", "attrs": { "width": "16", "height": "16", "viewBox": "0 0 16 16", "fill": "currentColor", "id": "icon-symbol-constant" }, "children": [{ "tagName": "path", "attrs": { "fill-rule": "evenodd", "clip-rule": "evenodd", "d": "M4 6h8v1H4V6zm8 3H4v1h8V9z" } }, { "tagName": "path", "attrs": { "fill-rule": "evenodd", "clip-rule": "evenodd", "d": "M1 4l1-1h12l1 1v8l-1 1H2l-1-1V4zm1 0v8h12V4H2z" } }] }, { "tagName": "clipPath", "attrs": { "width": "16", "height": "16", "viewBox": "0 0 16 16", "fill": "currentColor", "id": "icon-check" }, "children": [{ "tagName": "path", "attrs": { "fill-rule": "evenodd", "clip-rule": "evenodd", "d": "M14.431 3.323l-8.47 10-.79-.036-3.35-4.77.818-.574 2.978 4.24 8.051-9.506.764.646z" } }] }, { "tagName": "clipPath", "attrs": { "width": "16", "height": "16", "viewBox": "0 0 16 16", "fill": "currentColor", "id": "icon-close" }, "children": [{ "tagName": "path", "attrs": { "fill-rule": "evenodd", "clip-rule": "evenodd", "d": "M8 8.707l3.646 3.647.708-.707L8.707 8l3.647-3.646-.707-.708L8 7.293 4.354 3.646l-.707.708L7.293 8l-3.646 3.646.707.708L8 8.707z" } }] }, { "tagName": "clipPath", "attrs": { "width": "16", "height": "16", "viewBox": "0 0 16 16", "fill": "currentColor", "id": "icon-pass" }, "children": [{ "tagName": "path", "attrs": { "d": "M6.27 10.87h.71l4.56-4.56-.71-.71-4.2 4.21-1.92-1.92L4 8.6l2.27 2.27z" } }, { "tagName": "path", "attrs": { "fill-rule": "evenodd", "clip-rule": "evenodd", "d": "M8.6 1c1.6.1 3.1.9 4.2 2 1.3 1.4 2 3.1 2 5.1 0 1.6-.6 3.1-1.6 4.4-1 1.2-2.4 2.1-4 2.4-1.6.3-3.2.1-4.6-.7-1.4-.8-2.5-2-3.1-3.5C.9 9.2.8 7.5 1.3 6c.5-1.6 1.4-2.9 2.8-3.8C5.4 1.3 7 .9 8.6 1zm.5 12.9c1.3-.3 2.5-1 3.4-2.1.8-1.1 1.3-2.4 1.2-3.8 0-1.6-.6-3.2-1.7-4.3-1-1-2.2-1.6-3.6-1.7-1.3-.1-2.7.2-3.8 1-1.1.8-1.9 1.9-2.3 3.3-.4 1.3-.4 2.7.2 4 .6 1.3 1.5 2.3 2.7 3 1.2.7 2.6.9 3.9.6z" } }] }, { "tagName": "clipPath", "attrs": { "width": "16", "height": "16", "viewBox": "0 0 16 16", "fill": "currentColor", "id": "icon-gist" }, "children": [{ "tagName": "path", "attrs": { "fill-rule": "evenodd", "clip-rule": "evenodd", "d": "M10.57 1.14l3.28 3.3.15.36v9.7l-.5.5h-11l-.5-.5v-13l.5-.5h7.72l.35.14zM10 5h3l-3-3v3zM3 2v12h10V6H9.5L9 5.5V2H3zm2.062 7.533l1.817-1.828L6.17 7 4 9.179v.707l2.171 2.174.707-.707-1.816-1.82zM8.8 7.714l.7-.709 2.189 2.175v.709L9.5 12.062l-.705-.709 1.831-1.82L8.8 7.714z" } }] }] }] };\nvar clipPaths_default = svgJson;\n\n// packages/injected/src/recorder/recorder.ts\nvar HighlightColors = {\n  multiple: "#f6b26b7f",\n  single: "#6fa8dc7f",\n  assert: "#8acae480",\n  action: "#dc6f6f7f"\n};\nvar NoneTool = class {\n};\nvar InspectTool = class {\n  constructor(recorder, assertVisibility) {\n    this._hoveredModel = null;\n    this._hoveredElement = null;\n    this._recorder = recorder;\n    this._assertVisibility = assertVisibility;\n  }\n  cursor() {\n    return "pointer";\n  }\n  uninstall() {\n    this._hoveredModel = null;\n    this._hoveredElement = null;\n  }\n  onClick(event) {\n    var _a;\n    consumeEvent(event);\n    if (event.button !== 0)\n      return;\n    if ((_a = this._hoveredModel) == null ? void 0 : _a.selector)\n      this._commit(this._hoveredModel.selector, this._hoveredModel);\n  }\n  onPointerDown(event) {\n    consumeEvent(event);\n  }\n  onPointerUp(event) {\n    consumeEvent(event);\n  }\n  onMouseDown(event) {\n    consumeEvent(event);\n  }\n  onMouseUp(event) {\n    consumeEvent(event);\n  }\n  onMouseMove(event) {\n    var _a;\n    consumeEvent(event);\n    let target = this._recorder.deepEventTarget(event);\n    if (!target.isConnected)\n      target = null;\n    if (this._hoveredElement === target)\n      return;\n    this._hoveredElement = target;\n    let model = null;\n    if (this._hoveredElement) {\n      const generated = this._recorder.injectedScript.generateSelector(this._hoveredElement, { testIdAttributeName: this._recorder.state.testIdAttributeName, multiple: false });\n      model = {\n        selector: generated.selector,\n        elements: generated.elements,\n        tooltipText: this._recorder.injectedScript.utils.asLocator(this._recorder.state.language, generated.selector),\n        color: this._assertVisibility ? HighlightColors.assert : HighlightColors.single\n      };\n    }\n    if (((_a = this._hoveredModel) == null ? void 0 : _a.selector) === (model == null ? void 0 : model.selector))\n      return;\n    this._hoveredModel = model;\n    this._recorder.updateHighlight(model, true);\n  }\n  onMouseEnter(event) {\n    consumeEvent(event);\n  }\n  onMouseLeave(event) {\n    consumeEvent(event);\n    const window = this._recorder.injectedScript.window;\n    if (window.top !== window && this._recorder.deepEventTarget(event).nodeType === Node.DOCUMENT_NODE)\n      this._reset(true);\n  }\n  onKeyDown(event) {\n    consumeEvent(event);\n    if (event.key === "Escape") {\n      if (this._assertVisibility)\n        this._recorder.setMode("recording");\n    }\n  }\n  onKeyUp(event) {\n    consumeEvent(event);\n  }\n  onScroll(event) {\n    this._reset(false);\n  }\n  _commit(selector, model) {\n    var _a;\n    if (this._assertVisibility) {\n      this._recorder.recordAction({\n        name: "assertVisible",\n        selector,\n        signals: []\n      });\n      this._recorder.setMode("recording");\n      (_a = this._recorder.overlay) == null ? void 0 : _a.flashToolSucceeded("assertingVisibility");\n    } else {\n      this._recorder.elementPicked(selector, model);\n    }\n  }\n  _reset(userGesture) {\n    this._hoveredElement = null;\n    this._hoveredModel = null;\n    this._recorder.updateHighlight(null, userGesture);\n  }\n};\nvar RecordActionTool = class {\n  constructor(recorder) {\n    this._hoveredModel = null;\n    this._hoveredElement = null;\n    this._activeModel = null;\n    this._expectProgrammaticKeyUp = false;\n    this._observer = null;\n    this._recorder = recorder;\n    this._performingActions = /* @__PURE__ */ new Set();\n    this._dialog = new Dialog(recorder);\n  }\n  cursor() {\n    return "pointer";\n  }\n  _installObserverIfNeeded() {\n    var _a;\n    if (this._observer)\n      return;\n    if (!((_a = this._recorder.injectedScript.document) == null ? void 0 : _a.body))\n      return;\n    this._observer = new MutationObserver((mutations) => {\n      if (!this._hoveredElement)\n        return;\n      for (const mutation of mutations) {\n        for (const node of mutation.removedNodes) {\n          if (node === this._hoveredElement || node.contains(this._hoveredElement))\n            this._resetHoveredModel();\n        }\n      }\n    });\n    this._observer.observe(this._recorder.injectedScript.document.body, { childList: true, subtree: true });\n  }\n  uninstall() {\n    var _a;\n    (_a = this._observer) == null ? void 0 : _a.disconnect();\n    this._observer = null;\n    this._hoveredModel = null;\n    this._hoveredElement = null;\n    this._activeModel = null;\n    this._expectProgrammaticKeyUp = false;\n    this._dialog.close();\n  }\n  onClick(event) {\n    if (this._dialog.isShowing()) {\n      if (event.button === 2 && event.type === "auxclick") {\n        consumeEvent(event);\n      }\n      return;\n    }\n    if (isRangeInput(this._hoveredElement))\n      return;\n    if (this._shouldIgnoreMouseEvent(event))\n      return;\n    if (this._actionInProgress(event))\n      return;\n    if (this._consumedDueToNoModel(event, this._hoveredModel))\n      return;\n    if (event.button === 2 && event.type === "auxclick") {\n      this._showActionListDialog(this._hoveredModel, event);\n      return;\n    }\n    const checkbox = asCheckbox(this._recorder.deepEventTarget(event));\n    if (checkbox && event.detail === 1) {\n      this._performAction({\n        name: checkbox.checked ? "check" : "uncheck",\n        selector: this._hoveredModel.selector,\n        signals: []\n      });\n      return;\n    }\n    this._cancelPendingClickAction();\n    if (event.detail === 1) {\n      this._pendingClickAction = {\n        action: {\n          name: "click",\n          selector: this._hoveredModel.selector,\n          position: positionForEvent(event),\n          signals: [],\n          button: buttonForEvent(event),\n          modifiers: modifiersForEvent(event),\n          clickCount: event.detail\n        },\n        timeout: this._recorder.injectedScript.utils.builtins.setTimeout(() => this._commitPendingClickAction(), 200)\n      };\n    }\n  }\n  onDblClick(event) {\n    if (this._dialog.isShowing())\n      return;\n    if (isRangeInput(this._hoveredElement))\n      return;\n    if (this._shouldIgnoreMouseEvent(event))\n      return;\n    if (this._actionInProgress(event))\n      return;\n    if (this._consumedDueToNoModel(event, this._hoveredModel))\n      return;\n    this._cancelPendingClickAction();\n    this._performAction({\n      name: "click",\n      selector: this._hoveredModel.selector,\n      position: positionForEvent(event),\n      signals: [],\n      button: buttonForEvent(event),\n      modifiers: modifiersForEvent(event),\n      clickCount: event.detail\n    });\n  }\n  _commitPendingClickAction() {\n    if (this._pendingClickAction)\n      this._performAction(this._pendingClickAction.action);\n    this._cancelPendingClickAction();\n  }\n  _cancelPendingClickAction() {\n    if (this._pendingClickAction)\n      this._recorder.injectedScript.utils.builtins.clearTimeout(this._pendingClickAction.timeout);\n    this._pendingClickAction = void 0;\n  }\n  onContextMenu(event) {\n    if (this._dialog.isShowing()) {\n      consumeEvent(event);\n      return;\n    }\n    if (this._shouldIgnoreMouseEvent(event))\n      return;\n    if (this._actionInProgress(event))\n      return;\n    if (this._consumedDueToNoModel(event, this._hoveredModel))\n      return;\n    this._showActionListDialog(this._hoveredModel, event);\n  }\n  onPointerDown(event) {\n    if (this._dialog.isShowing())\n      return;\n    if (this._shouldIgnoreMouseEvent(event))\n      return;\n    this._consumeWhenAboutToPerform(event);\n  }\n  onPointerUp(event) {\n    if (this._dialog.isShowing())\n      return;\n    if (this._shouldIgnoreMouseEvent(event))\n      return;\n    this._consumeWhenAboutToPerform(event);\n  }\n  onMouseDown(event) {\n    if (this._dialog.isShowing())\n      return;\n    if (this._shouldIgnoreMouseEvent(event))\n      return;\n    this._consumeWhenAboutToPerform(event);\n    this._activeModel = this._hoveredModel;\n  }\n  onMouseUp(event) {\n    if (this._dialog.isShowing())\n      return;\n    if (this._shouldIgnoreMouseEvent(event))\n      return;\n    this._consumeWhenAboutToPerform(event);\n  }\n  onMouseMove(event) {\n    if (this._dialog.isShowing())\n      return;\n    const target = this._recorder.deepEventTarget(event);\n    if (this._hoveredElement === target)\n      return;\n    this._hoveredElement = target;\n    this._updateModelForHoveredElement();\n  }\n  onMouseLeave(event) {\n    if (this._dialog.isShowing())\n      return;\n    const window = this._recorder.injectedScript.window;\n    if (window.top !== window && this._recorder.deepEventTarget(event).nodeType === Node.DOCUMENT_NODE) {\n      this._hoveredElement = null;\n      this._updateModelForHoveredElement();\n    }\n  }\n  onFocus(event) {\n    if (this._dialog.isShowing())\n      return;\n    this._onFocus(true);\n  }\n  onInput(event) {\n    if (this._dialog.isShowing())\n      return;\n    const target = this._recorder.deepEventTarget(event);\n    if (target.nodeName === "INPUT" && target.type.toLowerCase() === "file") {\n      this._recordAction({\n        name: "setInputFiles",\n        selector: this._activeModel.selector,\n        signals: [],\n        files: [...target.files || []].map((file) => file.name)\n      });\n      return;\n    }\n    if (isRangeInput(target)) {\n      this._recordAction({\n        name: "fill",\n        // must use hoveredModel instead of activeModel for it to work in webkit\n        selector: this._hoveredModel.selector,\n        signals: [],\n        text: target.value\n      });\n      return;\n    }\n    if (["INPUT", "TEXTAREA"].includes(target.nodeName) || target.isContentEditable) {\n      if (target.nodeName === "INPUT" && ["checkbox", "radio"].includes(target.type.toLowerCase())) {\n        return;\n      }\n      if (this._consumedDueWrongTarget(event))\n        return;\n      this._recordAction({\n        name: "fill",\n        selector: this._activeModel.selector,\n        signals: [],\n        text: target.isContentEditable ? target.innerText : target.value\n      });\n    }\n    if (target.nodeName === "SELECT") {\n      const selectElement = target;\n      this._recordAction({\n        name: "select",\n        selector: this._activeModel.selector,\n        options: [...selectElement.selectedOptions].map((option) => option.value),\n        signals: []\n      });\n    }\n  }\n  onKeyDown(event) {\n    if (this._dialog.isShowing())\n      return;\n    if (!this._shouldGenerateKeyPressFor(event))\n      return;\n    if (this._actionInProgress(event)) {\n      this._expectProgrammaticKeyUp = true;\n      return;\n    }\n    if (this._consumedDueWrongTarget(event))\n      return;\n    if (event.key === " ") {\n      const checkbox = asCheckbox(this._recorder.deepEventTarget(event));\n      if (checkbox && event.detail === 0) {\n        this._performAction({\n          name: checkbox.checked ? "uncheck" : "check",\n          selector: this._activeModel.selector,\n          signals: []\n        });\n        return;\n      }\n    }\n    this._performAction({\n      name: "press",\n      selector: this._activeModel.selector,\n      signals: [],\n      key: event.key,\n      modifiers: modifiersForEvent(event)\n    });\n  }\n  onKeyUp(event) {\n    if (this._dialog.isShowing())\n      return;\n    if (!this._shouldGenerateKeyPressFor(event))\n      return;\n    if (!this._expectProgrammaticKeyUp) {\n      consumeEvent(event);\n      return;\n    }\n    this._expectProgrammaticKeyUp = false;\n  }\n  onScroll(event) {\n    if (this._dialog.isShowing())\n      return;\n    this._resetHoveredModel();\n  }\n  _showActionListDialog(model, event) {\n    consumeEvent(event);\n    const actionPosition = positionForEvent(event);\n    const actions = [\n      {\n        title: "Click",\n        cb: () => this._performAction({\n          name: "click",\n          selector: model.selector,\n          position: actionPosition,\n          signals: [],\n          button: "left",\n          modifiers: 0,\n          clickCount: 0\n        })\n      },\n      {\n        title: "Right click",\n        cb: () => this._performAction({\n          name: "click",\n          selector: model.selector,\n          position: actionPosition,\n          signals: [],\n          button: "right",\n          modifiers: 0,\n          clickCount: 0\n        })\n      },\n      {\n        title: "Double click",\n        cb: () => this._performAction({\n          name: "click",\n          selector: model.selector,\n          position: actionPosition,\n          signals: [],\n          button: "left",\n          modifiers: 0,\n          clickCount: 2\n        })\n      },\n      {\n        title: "Hover",\n        cb: () => this._performAction({\n          name: "hover",\n          selector: model.selector,\n          position: actionPosition,\n          signals: []\n        })\n      },\n      {\n        title: "Pick locator",\n        cb: () => this._recorder.elementPicked(model.selector, model)\n      }\n    ];\n    const listElement = this._recorder.document.createElement("x-pw-action-list");\n    listElement.setAttribute("role", "list");\n    listElement.setAttribute("aria-label", "Choose action");\n    for (const action of actions) {\n      const actionElement = this._recorder.document.createElement("x-pw-action-item");\n      actionElement.setAttribute("role", "listitem");\n      actionElement.textContent = action.title;\n      actionElement.setAttribute("aria-label", action.title);\n      actionElement.addEventListener("click", () => {\n        this._dialog.close();\n        action.cb();\n      });\n      listElement.appendChild(actionElement);\n    }\n    const dialogElement = this._dialog.show({\n      label: "Choose action",\n      body: listElement,\n      autosize: true\n    });\n    const anchorBox = this._recorder.highlight.firstTooltipBox() || model.elements[0].getBoundingClientRect();\n    const dialogPosition = this._recorder.highlight.tooltipPosition(anchorBox, dialogElement);\n    this._dialog.moveTo(dialogPosition.anchorTop, dialogPosition.anchorLeft);\n  }\n  _resetHoveredModel() {\n    this._hoveredModel = null;\n    this._hoveredElement = null;\n    this._updateHighlight(false);\n  }\n  _onFocus(userGesture) {\n    const activeElement = deepActiveElement(this._recorder.document);\n    if (userGesture && activeElement === this._recorder.document.body)\n      return;\n    const result = activeElement ? this._recorder.injectedScript.generateSelector(activeElement, { testIdAttributeName: this._recorder.state.testIdAttributeName }) : null;\n    this._activeModel = result && result.selector ? { ...result, color: HighlightColors.action } : null;\n    if (userGesture) {\n      this._hoveredElement = activeElement;\n      this._updateModelForHoveredElement();\n    }\n  }\n  _shouldIgnoreMouseEvent(event) {\n    const target = this._recorder.deepEventTarget(event);\n    const nodeName = target.nodeName;\n    if (nodeName === "SELECT" || nodeName === "OPTION")\n      return true;\n    if (nodeName === "INPUT" && ["date", "range"].includes(target.type))\n      return true;\n    return false;\n  }\n  _actionInProgress(event) {\n    const isKeyEvent = event instanceof KeyboardEvent;\n    const isMouseOrPointerEvent = event instanceof MouseEvent || event instanceof PointerEvent;\n    for (const action of this._performingActions) {\n      if (isKeyEvent && action.name === "press" && event.key === action.key)\n        return true;\n      if (isMouseOrPointerEvent && (action.name === "click" || action.name === "hover" || action.name === "check" || action.name === "uncheck"))\n        return true;\n    }\n    consumeEvent(event);\n    return false;\n  }\n  _consumedDueToNoModel(event, model) {\n    if (model)\n      return false;\n    consumeEvent(event);\n    return true;\n  }\n  _consumedDueWrongTarget(event) {\n    if (this._activeModel && this._activeModel.elements[0] === this._recorder.deepEventTarget(event))\n      return false;\n    consumeEvent(event);\n    return true;\n  }\n  _consumeWhenAboutToPerform(event) {\n    if (!this._performingActions.size)\n      consumeEvent(event);\n  }\n  _recordAction(action) {\n    this._recorder.recordAction(action);\n  }\n  _performAction(action) {\n    this._recorder.updateHighlight(null, false);\n    this._performingActions.add(action);\n    const promise = this._recorder.performAction(action).then(() => {\n      this._performingActions.delete(action);\n      this._onFocus(false);\n    });\n    if (!this._recorder.injectedScript.isUnderTest)\n      return;\n    void promise.then(() => {\n      console.error("Action performed for test: " + JSON.stringify({\n        // eslint-disable-line no-console\n        hovered: this._hoveredModel ? this._hoveredModel.selector : null,\n        active: this._activeModel ? this._activeModel.selector : null\n      }));\n    });\n  }\n  _shouldGenerateKeyPressFor(event) {\n    if (typeof event.key !== "string")\n      return false;\n    if (event.key === "Enter" && (this._recorder.deepEventTarget(event).nodeName === "TEXTAREA" || this._recorder.deepEventTarget(event).isContentEditable))\n      return false;\n    if (["Backspace", "Delete", "AltGraph"].includes(event.key))\n      return false;\n    if (event.key === "@" && event.code === "KeyL")\n      return false;\n    if (navigator.platform.includes("Mac")) {\n      if (event.key === "v" && event.metaKey)\n        return false;\n    } else {\n      if (event.key === "v" && event.ctrlKey)\n        return false;\n      if (event.key === "Insert" && event.shiftKey)\n        return false;\n    }\n    if (["Shift", "Control", "Meta", "Alt", "Process"].includes(event.key))\n      return false;\n    const hasModifier = event.ctrlKey || event.altKey || event.metaKey;\n    if (event.key.length === 1 && !hasModifier)\n      return !!asCheckbox(this._recorder.deepEventTarget(event));\n    return true;\n  }\n  _updateModelForHoveredElement() {\n    this._installObserverIfNeeded();\n    if (this._performingActions.size)\n      return;\n    if (!this._hoveredElement || !this._hoveredElement.isConnected) {\n      this._hoveredModel = null;\n      this._hoveredElement = null;\n      this._updateHighlight(true);\n      return;\n    }\n    const { selector, elements } = this._recorder.injectedScript.generateSelector(this._hoveredElement, { testIdAttributeName: this._recorder.state.testIdAttributeName });\n    if (this._hoveredModel && this._hoveredModel.selector === selector)\n      return;\n    this._hoveredModel = selector ? { selector, elements, color: HighlightColors.action } : null;\n    this._updateHighlight(true);\n  }\n  _updateHighlight(userGesture) {\n    this._recorder.updateHighlight(this._hoveredModel, userGesture);\n  }\n};\nvar JsonRecordActionTool = class {\n  constructor(recorder) {\n    this._recorder = recorder;\n  }\n  install() {\n    this._recorder.highlight.uninstall();\n  }\n  uninstall() {\n    this._recorder.highlight.install();\n  }\n  onClick(event) {\n    const element = this._recorder.deepEventTarget(event);\n    if (isRangeInput(element))\n      return;\n    if (event.button === 2 && event.type === "auxclick")\n      return;\n    if (this._shouldIgnoreMouseEvent(event))\n      return;\n    const checkbox = asCheckbox(element);\n    const { ariaSnapshot, selector, ref } = this._ariaSnapshot(element);\n    if (checkbox && event.detail === 1) {\n      this._recorder.recordAction({\n        name: checkbox.checked ? "check" : "uncheck",\n        selector,\n        ref,\n        signals: [],\n        ariaSnapshot\n      });\n      return;\n    }\n    this._recorder.recordAction({\n      name: "click",\n      selector,\n      ref,\n      ariaSnapshot,\n      position: positionForEvent(event),\n      signals: [],\n      button: buttonForEvent(event),\n      modifiers: modifiersForEvent(event),\n      clickCount: event.detail\n    });\n  }\n  onContextMenu(event) {\n    const element = this._recorder.deepEventTarget(event);\n    const { ariaSnapshot, selector, ref } = this._ariaSnapshot(element);\n    this._recorder.recordAction({\n      name: "click",\n      selector,\n      ref,\n      ariaSnapshot,\n      position: positionForEvent(event),\n      signals: [],\n      button: "right",\n      modifiers: modifiersForEvent(event),\n      clickCount: 1\n    });\n  }\n  onInput(event) {\n    const element = this._recorder.deepEventTarget(event);\n    const { ariaSnapshot, selector, ref } = this._ariaSnapshot(element);\n    if (isRangeInput(element)) {\n      this._recorder.recordAction({\n        name: "fill",\n        selector,\n        ref,\n        ariaSnapshot,\n        signals: [],\n        text: element.value\n      });\n      return;\n    }\n    if (["INPUT", "TEXTAREA"].includes(element.nodeName) || element.isContentEditable) {\n      if (element.nodeName === "INPUT" && ["checkbox", "radio"].includes(element.type.toLowerCase())) {\n        return;\n      }\n      this._recorder.recordAction({\n        name: "fill",\n        ref,\n        selector,\n        ariaSnapshot,\n        signals: [],\n        text: element.isContentEditable ? element.innerText : element.value\n      });\n      return;\n    }\n    if (element.nodeName === "SELECT") {\n      const selectElement = element;\n      this._recorder.recordAction({\n        name: "select",\n        selector,\n        ref,\n        ariaSnapshot,\n        options: [...selectElement.selectedOptions].map((option) => option.value),\n        signals: []\n      });\n      return;\n    }\n  }\n  onKeyDown(event) {\n    if (!this._shouldGenerateKeyPressFor(event))\n      return;\n    const element = this._recorder.deepEventTarget(event);\n    const { ariaSnapshot, selector, ref } = this._ariaSnapshot(element);\n    if (event.key === " ") {\n      const checkbox = asCheckbox(element);\n      if (checkbox && event.detail === 0) {\n        this._recorder.recordAction({\n          name: checkbox.checked ? "uncheck" : "check",\n          selector,\n          ref,\n          ariaSnapshot,\n          signals: []\n        });\n        return;\n      }\n    }\n    this._recorder.recordAction({\n      name: "press",\n      selector,\n      ref,\n      ariaSnapshot,\n      signals: [],\n      key: event.key,\n      modifiers: modifiersForEvent(event)\n    });\n  }\n  _shouldIgnoreMouseEvent(event) {\n    const target = this._recorder.deepEventTarget(event);\n    const nodeName = target.nodeName;\n    if (nodeName === "SELECT" || nodeName === "OPTION")\n      return true;\n    if (nodeName === "INPUT" && ["date", "range"].includes(target.type))\n      return true;\n    return false;\n  }\n  _shouldGenerateKeyPressFor(event) {\n    if (typeof event.key !== "string")\n      return false;\n    if (event.key === "Enter" && (this._recorder.deepEventTarget(event).nodeName === "TEXTAREA" || this._recorder.deepEventTarget(event).isContentEditable))\n      return false;\n    if (["Backspace", "Delete", "AltGraph"].includes(event.key))\n      return false;\n    if (event.key === "@" && event.code === "KeyL")\n      return false;\n    if (navigator.platform.includes("Mac")) {\n      if (event.key === "v" && event.metaKey)\n        return false;\n    } else {\n      if (event.key === "v" && event.ctrlKey)\n        return false;\n      if (event.key === "Insert" && event.shiftKey)\n        return false;\n    }\n    if (["Shift", "Control", "Meta", "Alt", "Process"].includes(event.key))\n      return false;\n    const hasModifier = event.ctrlKey || event.altKey || event.metaKey;\n    if (event.key.length === 1 && !hasModifier)\n      return !this._isEditable(this._recorder.deepEventTarget(event));\n    return true;\n  }\n  _isEditable(element) {\n    if (element.nodeName === "TEXTAREA" || element.nodeName === "INPUT")\n      return true;\n    if (element.isContentEditable)\n      return true;\n    return false;\n  }\n  _ariaSnapshot(element) {\n    const { ariaSnapshot, refs } = this._recorder.injectedScript.ariaSnapshotForRecorder();\n    const ref = element ? refs.get(element) : void 0;\n    const elementInfo = element ? this._recorder.injectedScript.generateSelector(element, { testIdAttributeName: this._recorder.state.testIdAttributeName }) : void 0;\n    return { ariaSnapshot, selector: elementInfo == null ? void 0 : elementInfo.selector, ref };\n  }\n};\nvar TextAssertionTool = class {\n  constructor(recorder, kind) {\n    this._hoverHighlight = null;\n    this._action = null;\n    this._recorder = recorder;\n    this._textCache = /* @__PURE__ */ new Map();\n    this._kind = kind;\n    this._dialog = new Dialog(recorder);\n  }\n  cursor() {\n    return "pointer";\n  }\n  uninstall() {\n    this._dialog.close();\n    this._hoverHighlight = null;\n  }\n  onClick(event) {\n    consumeEvent(event);\n    if (this._kind === "value") {\n      this._commitAssertValue();\n    } else {\n      if (!this._dialog.isShowing())\n        this._showDialog();\n    }\n  }\n  onMouseDown(event) {\n    const target = this._recorder.deepEventTarget(event);\n    if (this._elementHasValue(target))\n      event.preventDefault();\n  }\n  onPointerUp(event) {\n    var _a;\n    const target = (_a = this._hoverHighlight) == null ? void 0 : _a.elements[0];\n    if (this._kind === "value" && target && (target.nodeName === "INPUT" || target.nodeName === "SELECT") && target.disabled) {\n      this._commitAssertValue();\n    }\n  }\n  onMouseMove(event) {\n    var _a;\n    if (this._dialog.isShowing())\n      return;\n    const target = this._recorder.deepEventTarget(event);\n    if (((_a = this._hoverHighlight) == null ? void 0 : _a.elements[0]) === target)\n      return;\n    if (this._kind === "text" || this._kind === "snapshot") {\n      this._hoverHighlight = this._recorder.injectedScript.utils.elementText(this._textCache, target).full ? { elements: [target], selector: "", color: HighlightColors.assert } : null;\n    } else if (this._elementHasValue(target)) {\n      const generated = this._recorder.injectedScript.generateSelector(target, { testIdAttributeName: this._recorder.state.testIdAttributeName });\n      this._hoverHighlight = { selector: generated.selector, elements: generated.elements, color: HighlightColors.assert };\n    } else {\n      this._hoverHighlight = null;\n    }\n    this._recorder.updateHighlight(this._hoverHighlight, true);\n  }\n  onKeyDown(event) {\n    if (event.key === "Escape")\n      this._recorder.setMode("recording");\n    consumeEvent(event);\n  }\n  onScroll(event) {\n    this._recorder.updateHighlight(this._hoverHighlight, false);\n  }\n  _elementHasValue(element) {\n    return element.nodeName === "TEXTAREA" || element.nodeName === "SELECT" || element.nodeName === "INPUT" && !["button", "image", "reset", "submit"].includes(element.type);\n  }\n  _generateAction() {\n    var _a;\n    this._textCache.clear();\n    const target = (_a = this._hoverHighlight) == null ? void 0 : _a.elements[0];\n    if (!target)\n      return null;\n    if (this._kind === "value") {\n      if (!this._elementHasValue(target))\n        return null;\n      const { selector } = this._recorder.injectedScript.generateSelector(target, { testIdAttributeName: this._recorder.state.testIdAttributeName });\n      if (target.nodeName === "INPUT" && ["checkbox", "radio"].includes(target.type.toLowerCase())) {\n        return {\n          name: "assertChecked",\n          selector,\n          signals: [],\n          // Interestingly, inputElement.checked is reversed inside this event handler.\n          checked: !target.checked\n        };\n      } else {\n        return {\n          name: "assertValue",\n          selector,\n          signals: [],\n          value: target.value\n        };\n      }\n    } else if (this._kind === "snapshot") {\n      const generated = this._recorder.injectedScript.generateSelector(target, { testIdAttributeName: this._recorder.state.testIdAttributeName, forTextExpect: true });\n      this._hoverHighlight = { selector: generated.selector, elements: generated.elements, color: HighlightColors.assert };\n      this._recorder.updateHighlight(this._hoverHighlight, true);\n      return {\n        name: "assertSnapshot",\n        selector: this._hoverHighlight.selector,\n        signals: [],\n        ariaSnapshot: this._recorder.injectedScript.ariaSnapshot(target, { mode: "codegen" })\n      };\n    } else {\n      const generated = this._recorder.injectedScript.generateSelector(target, { testIdAttributeName: this._recorder.state.testIdAttributeName, forTextExpect: true });\n      this._hoverHighlight = { selector: generated.selector, elements: generated.elements, color: HighlightColors.assert };\n      this._recorder.updateHighlight(this._hoverHighlight, true);\n      return {\n        name: "assertText",\n        selector: this._hoverHighlight.selector,\n        signals: [],\n        text: this._recorder.injectedScript.utils.elementText(this._textCache, target).normalized,\n        substring: true\n      };\n    }\n  }\n  _renderValue(action) {\n    if ((action == null ? void 0 : action.name) === "assertText")\n      return this._recorder.injectedScript.utils.normalizeWhiteSpace(action.text);\n    if ((action == null ? void 0 : action.name) === "assertChecked")\n      return String(action.checked);\n    if ((action == null ? void 0 : action.name) === "assertValue")\n      return action.value;\n    if ((action == null ? void 0 : action.name) === "assertSnapshot")\n      return action.ariaSnapshot;\n    return "";\n  }\n  _commit() {\n    if (!this._action || !this._dialog.isShowing())\n      return;\n    this._dialog.close();\n    this._recorder.recordAction(this._action);\n    this._recorder.setMode("recording");\n  }\n  _showDialog() {\n    var _a, _b, _c, _d;\n    if (!((_a = this._hoverHighlight) == null ? void 0 : _a.elements[0]))\n      return;\n    this._action = this._generateAction();\n    if (((_b = this._action) == null ? void 0 : _b.name) === "assertText") {\n      this._showTextDialog(this._action);\n    } else if (((_c = this._action) == null ? void 0 : _c.name) === "assertSnapshot") {\n      this._recorder.recordAction(this._action);\n      this._recorder.setMode("recording");\n      (_d = this._recorder.overlay) == null ? void 0 : _d.flashToolSucceeded("assertingSnapshot");\n    }\n  }\n  _showTextDialog(action) {\n    const textElement = this._recorder.document.createElement("textarea");\n    textElement.setAttribute("spellcheck", "false");\n    textElement.value = this._renderValue(action);\n    textElement.classList.add("text-editor");\n    const updateAndValidate = () => {\n      var _a;\n      const newValue = this._recorder.injectedScript.utils.normalizeWhiteSpace(textElement.value);\n      const target = (_a = this._hoverHighlight) == null ? void 0 : _a.elements[0];\n      if (!target)\n        return;\n      action.text = newValue;\n      const targetText = this._recorder.injectedScript.utils.elementText(this._textCache, target).normalized;\n      const matches = newValue && targetText.includes(newValue);\n      textElement.classList.toggle("does-not-match", !matches);\n    };\n    textElement.addEventListener("input", updateAndValidate);\n    const label = "Assert that element contains text";\n    const dialogElement = this._dialog.show({\n      label,\n      body: textElement,\n      onCommit: () => this._commit()\n    });\n    const position = this._recorder.highlight.tooltipPosition(this._recorder.highlight.firstBox(), dialogElement);\n    this._dialog.moveTo(position.anchorTop, position.anchorLeft);\n    textElement.focus();\n  }\n  _commitAssertValue() {\n    var _a;\n    if (this._kind !== "value")\n      return;\n    const action = this._generateAction();\n    if (!action)\n      return;\n    this._recorder.recordAction(action);\n    this._recorder.setMode("recording");\n    (_a = this._recorder.overlay) == null ? void 0 : _a.flashToolSucceeded("assertingValue");\n  }\n};\nvar Overlay = class {\n  constructor(recorder) {\n    this._listeners = [];\n    this._offsetX = 0;\n    this._measure = { width: 0, height: 0 };\n    this._recorder = recorder;\n    const document = this._recorder.document;\n    this._overlayElement = document.createElement("x-pw-overlay");\n    const toolsListElement = document.createElement("x-pw-tools-list");\n    this._overlayElement.appendChild(toolsListElement);\n    this._dragHandle = document.createElement("x-pw-tool-gripper");\n    this._dragHandle.appendChild(document.createElement("x-div"));\n    toolsListElement.appendChild(this._dragHandle);\n    this._recordToggle = this._recorder.document.createElement("x-pw-tool-item");\n    this._recordToggle.title = "Record";\n    this._recordToggle.classList.add("record");\n    this._recordToggle.appendChild(this._recorder.document.createElement("x-div"));\n    toolsListElement.appendChild(this._recordToggle);\n    this._pickLocatorToggle = this._recorder.document.createElement("x-pw-tool-item");\n    this._pickLocatorToggle.title = "Pick locator";\n    this._pickLocatorToggle.classList.add("pick-locator");\n    this._pickLocatorToggle.appendChild(this._recorder.document.createElement("x-div"));\n    toolsListElement.appendChild(this._pickLocatorToggle);\n    this._assertVisibilityToggle = this._recorder.document.createElement("x-pw-tool-item");\n    this._assertVisibilityToggle.title = "Assert visibility";\n    this._assertVisibilityToggle.classList.add("visibility");\n    this._assertVisibilityToggle.appendChild(this._recorder.document.createElement("x-div"));\n    toolsListElement.appendChild(this._assertVisibilityToggle);\n    this._assertTextToggle = this._recorder.document.createElement("x-pw-tool-item");\n    this._assertTextToggle.title = "Assert text";\n    this._assertTextToggle.classList.add("text");\n    this._assertTextToggle.appendChild(this._recorder.document.createElement("x-div"));\n    toolsListElement.appendChild(this._assertTextToggle);\n    this._assertValuesToggle = this._recorder.document.createElement("x-pw-tool-item");\n    this._assertValuesToggle.title = "Assert value";\n    this._assertValuesToggle.classList.add("value");\n    this._assertValuesToggle.appendChild(this._recorder.document.createElement("x-div"));\n    toolsListElement.appendChild(this._assertValuesToggle);\n    this._assertSnapshotToggle = this._recorder.document.createElement("x-pw-tool-item");\n    this._assertSnapshotToggle.title = "Assert snapshot";\n    this._assertSnapshotToggle.classList.add("snapshot");\n    this._assertSnapshotToggle.appendChild(this._recorder.document.createElement("x-div"));\n    toolsListElement.appendChild(this._assertSnapshotToggle);\n    this._updateVisualPosition();\n    this._refreshListeners();\n  }\n  _refreshListeners() {\n    removeEventListeners(this._listeners);\n    this._listeners = [\n      addEventListener(this._dragHandle, "mousedown", (event) => {\n        this._dragState = { offsetX: this._offsetX, dragStart: { x: event.clientX, y: 0 } };\n      }),\n      addEventListener(this._recordToggle, "click", () => {\n        if (this._recordToggle.classList.contains("disabled"))\n          return;\n        this._recorder.setMode(this._recorder.state.mode === "none" || this._recorder.state.mode === "standby" || this._recorder.state.mode === "inspecting" ? "recording" : "standby");\n      }),\n      addEventListener(this._pickLocatorToggle, "click", () => {\n        if (this._pickLocatorToggle.classList.contains("disabled"))\n          return;\n        const newMode = {\n          "inspecting": "standby",\n          "none": "inspecting",\n          "standby": "inspecting",\n          "recording": "recording-inspecting",\n          "recording-inspecting": "recording",\n          "assertingText": "recording-inspecting",\n          "assertingVisibility": "recording-inspecting",\n          "assertingValue": "recording-inspecting",\n          "assertingSnapshot": "recording-inspecting"\n        };\n        this._recorder.setMode(newMode[this._recorder.state.mode]);\n      }),\n      addEventListener(this._assertVisibilityToggle, "click", () => {\n        if (!this._assertVisibilityToggle.classList.contains("disabled"))\n          this._recorder.setMode(this._recorder.state.mode === "assertingVisibility" ? "recording" : "assertingVisibility");\n      }),\n      addEventListener(this._assertTextToggle, "click", () => {\n        if (!this._assertTextToggle.classList.contains("disabled"))\n          this._recorder.setMode(this._recorder.state.mode === "assertingText" ? "recording" : "assertingText");\n      }),\n      addEventListener(this._assertValuesToggle, "click", () => {\n        if (!this._assertValuesToggle.classList.contains("disabled"))\n          this._recorder.setMode(this._recorder.state.mode === "assertingValue" ? "recording" : "assertingValue");\n      }),\n      addEventListener(this._assertSnapshotToggle, "click", () => {\n        if (!this._assertSnapshotToggle.classList.contains("disabled"))\n          this._recorder.setMode(this._recorder.state.mode === "assertingSnapshot" ? "recording" : "assertingSnapshot");\n      })\n    ];\n  }\n  install() {\n    this._recorder.highlight.appendChild(this._overlayElement);\n    this._refreshListeners();\n    this._updateVisualPosition();\n  }\n  contains(element) {\n    return this._recorder.injectedScript.utils.isInsideScope(this._overlayElement, element);\n  }\n  setUIState(state) {\n    const isRecording = state.mode === "recording" || state.mode === "assertingText" || state.mode === "assertingVisibility" || state.mode === "assertingValue" || state.mode === "assertingSnapshot" || state.mode === "recording-inspecting";\n    this._recordToggle.classList.toggle("toggled", isRecording);\n    this._recordToggle.title = isRecording ? "Stop Recording" : "Start Recording";\n    this._pickLocatorToggle.classList.toggle("toggled", state.mode === "inspecting" || state.mode === "recording-inspecting");\n    this._assertVisibilityToggle.classList.toggle("toggled", state.mode === "assertingVisibility");\n    this._assertVisibilityToggle.classList.toggle("disabled", state.mode === "none" || state.mode === "standby" || state.mode === "inspecting");\n    this._assertTextToggle.classList.toggle("toggled", state.mode === "assertingText");\n    this._assertTextToggle.classList.toggle("disabled", state.mode === "none" || state.mode === "standby" || state.mode === "inspecting");\n    this._assertValuesToggle.classList.toggle("toggled", state.mode === "assertingValue");\n    this._assertValuesToggle.classList.toggle("disabled", state.mode === "none" || state.mode === "standby" || state.mode === "inspecting");\n    this._assertSnapshotToggle.classList.toggle("toggled", state.mode === "assertingSnapshot");\n    this._assertSnapshotToggle.classList.toggle("disabled", state.mode === "none" || state.mode === "standby" || state.mode === "inspecting");\n    if (this._offsetX !== state.overlay.offsetX) {\n      this._offsetX = state.overlay.offsetX;\n      this._updateVisualPosition();\n    }\n    if (state.mode === "none")\n      this._hideOverlay();\n    else\n      this._showOverlay();\n  }\n  flashToolSucceeded(tool) {\n    let element;\n    if (tool === "assertingVisibility")\n      element = this._assertVisibilityToggle;\n    else if (tool === "assertingSnapshot")\n      element = this._assertSnapshotToggle;\n    else\n      element = this._assertValuesToggle;\n    element.classList.add("succeeded");\n    this._recorder.injectedScript.utils.builtins.setTimeout(() => element.classList.remove("succeeded"), 2e3);\n  }\n  _hideOverlay() {\n    this._overlayElement.setAttribute("hidden", "true");\n  }\n  _showOverlay() {\n    if (!this._overlayElement.hasAttribute("hidden"))\n      return;\n    this._overlayElement.removeAttribute("hidden");\n    this._updateVisualPosition();\n  }\n  _updateVisualPosition() {\n    this._measure = this._overlayElement.getBoundingClientRect();\n    this._overlayElement.style.left = (this._recorder.injectedScript.window.innerWidth - this._measure.width) / 2 + this._offsetX + "px";\n  }\n  onMouseMove(event) {\n    if (!event.buttons) {\n      this._dragState = void 0;\n      return false;\n    }\n    if (this._dragState) {\n      this._offsetX = this._dragState.offsetX + event.clientX - this._dragState.dragStart.x;\n      const halfGapSize = (this._recorder.injectedScript.window.innerWidth - this._measure.width) / 2 - 10;\n      this._offsetX = Math.max(-halfGapSize, Math.min(halfGapSize, this._offsetX));\n      this._updateVisualPosition();\n      this._recorder.setOverlayState({ offsetX: this._offsetX });\n      consumeEvent(event);\n      return true;\n    }\n    return false;\n  }\n  onMouseUp(event) {\n    if (this._dragState) {\n      consumeEvent(event);\n      return true;\n    }\n    return false;\n  }\n  onClick(event) {\n    if (this._dragState) {\n      this._dragState = void 0;\n      consumeEvent(event);\n      return true;\n    }\n    return false;\n  }\n  onDblClick(event) {\n    return false;\n  }\n};\nvar Recorder = class {\n  constructor(injectedScript, options) {\n    this._listeners = [];\n    this._lastHighlightedSelector = void 0;\n    this._lastHighlightedAriaTemplateJSON = "undefined";\n    this.state = {\n      mode: "none",\n      testIdAttributeName: "data-testid",\n      language: "javascript",\n      overlay: { offsetX: 0 }\n    };\n    this._delegate = {};\n    var _a, _b;\n    this.document = injectedScript.document;\n    this.injectedScript = injectedScript;\n    this.highlight = injectedScript.createHighlight();\n    this._tools = {\n      "none": new NoneTool(),\n      "standby": new NoneTool(),\n      "inspecting": new InspectTool(this, false),\n      "recording": (options == null ? void 0 : options.recorderMode) === "api" ? new JsonRecordActionTool(this) : new RecordActionTool(this),\n      "recording-inspecting": new InspectTool(this, false),\n      "assertingText": new TextAssertionTool(this, "text"),\n      "assertingVisibility": new InspectTool(this, true),\n      "assertingValue": new TextAssertionTool(this, "value"),\n      "assertingSnapshot": new TextAssertionTool(this, "snapshot")\n    };\n    this._currentTool = this._tools.none;\n    (_b = (_a = this._currentTool).install) == null ? void 0 : _b.call(_a);\n    if (injectedScript.window.top === injectedScript.window) {\n      this.overlay = new Overlay(this);\n      this.overlay.setUIState(this.state);\n    }\n    this._stylesheet = new injectedScript.window.CSSStyleSheet();\n    this._stylesheet.replaceSync(`\n      body[data-pw-cursor=pointer] *, body[data-pw-cursor=pointer] *::after { cursor: pointer !important; }\n      body[data-pw-cursor=text] *, body[data-pw-cursor=text] *::after { cursor: text !important; }\n    `);\n    this.installListeners();\n    injectedScript.utils.cacheNormalizedWhitespaces();\n    if (injectedScript.isUnderTest)\n      console.error("Recorder script ready for test");\n    injectedScript.consoleApi.install();\n  }\n  installListeners() {\n    var _a, _b, _c;\n    removeEventListeners(this._listeners);\n    this._listeners = [\n      addEventListener(this.document, "click", (event) => this._onClick(event), true),\n      addEventListener(this.document, "auxclick", (event) => this._onClick(event), true),\n      addEventListener(this.document, "dblclick", (event) => this._onDblClick(event), true),\n      addEventListener(this.document, "contextmenu", (event) => this._onContextMenu(event), true),\n      addEventListener(this.document, "dragstart", (event) => this._onDragStart(event), true),\n      addEventListener(this.document, "input", (event) => this._onInput(event), true),\n      addEventListener(this.document, "keydown", (event) => this._onKeyDown(event), true),\n      addEventListener(this.document, "keyup", (event) => this._onKeyUp(event), true),\n      addEventListener(this.document, "pointerdown", (event) => this._onPointerDown(event), true),\n      addEventListener(this.document, "pointerup", (event) => this._onPointerUp(event), true),\n      addEventListener(this.document, "mousedown", (event) => this._onMouseDown(event), true),\n      addEventListener(this.document, "mouseup", (event) => this._onMouseUp(event), true),\n      addEventListener(this.document, "mousemove", (event) => this._onMouseMove(event), true),\n      addEventListener(this.document, "mouseleave", (event) => this._onMouseLeave(event), true),\n      addEventListener(this.document, "mouseenter", (event) => this._onMouseEnter(event), true),\n      addEventListener(this.document, "focus", (event) => this._onFocus(event), true),\n      addEventListener(this.document, "scroll", (event) => this._onScroll(event), true)\n    ];\n    this.highlight.install();\n    let recreationInterval;\n    const recreate = () => {\n      this.highlight.install();\n      recreationInterval = this.injectedScript.utils.builtins.setTimeout(recreate, 500);\n    };\n    recreationInterval = this.injectedScript.utils.builtins.setTimeout(recreate, 500);\n    this._listeners.push(() => this.injectedScript.utils.builtins.clearTimeout(recreationInterval));\n    this.highlight.appendChild(createSvgElement(this.document, clipPaths_default));\n    (_a = this.overlay) == null ? void 0 : _a.install();\n    (_c = (_b = this._currentTool) == null ? void 0 : _b.install) == null ? void 0 : _c.call(_b);\n    this.document.adoptedStyleSheets.push(this._stylesheet);\n  }\n  _switchCurrentTool() {\n    var _a, _b, _c, _d, _e, _f;\n    const newTool = this._tools[this.state.mode];\n    if (newTool === this._currentTool)\n      return;\n    (_b = (_a = this._currentTool).uninstall) == null ? void 0 : _b.call(_a);\n    this.clearHighlight();\n    this._currentTool = newTool;\n    (_d = (_c = this._currentTool).install) == null ? void 0 : _d.call(_c);\n    const cursor = (_e = newTool.cursor) == null ? void 0 : _e.call(newTool);\n    if (cursor)\n      (_f = this.injectedScript.document.body) == null ? void 0 : _f.setAttribute("data-pw-cursor", cursor);\n  }\n  setUIState(state, delegate) {\n    var _a;\n    this._delegate = delegate;\n    if (state.actionPoint && this.state.actionPoint && state.actionPoint.x === this.state.actionPoint.x && state.actionPoint.y === this.state.actionPoint.y) {\n    } else if (!state.actionPoint && !this.state.actionPoint) {\n    } else {\n      if (state.actionPoint)\n        this.highlight.showActionPoint(state.actionPoint.x, state.actionPoint.y);\n      else\n        this.highlight.hideActionPoint();\n    }\n    this.state = state;\n    this.highlight.setLanguage(state.language);\n    this._switchCurrentTool();\n    (_a = this.overlay) == null ? void 0 : _a.setUIState(state);\n    let highlight = "noop";\n    if (state.actionSelector !== this._lastHighlightedSelector) {\n      const entries = state.actionSelector ? entriesForSelectorHighlight(this.injectedScript, state.language, state.actionSelector, this.document) : null;\n      highlight = (entries == null ? void 0 : entries.length) ? entries : "clear";\n      this._lastHighlightedSelector = (entries == null ? void 0 : entries.length) ? state.actionSelector : void 0;\n    }\n    const ariaTemplateJSON = JSON.stringify(state.ariaTemplate);\n    if (this._lastHighlightedAriaTemplateJSON !== ariaTemplateJSON) {\n      const elements = state.ariaTemplate ? this.injectedScript.getAllElementsMatchingExpectAriaTemplate(this.document, state.ariaTemplate) : [];\n      if (elements.length) {\n        const color = elements.length > 1 ? HighlightColors.multiple : HighlightColors.single;\n        highlight = elements.map((element) => ({ element, color }));\n        this._lastHighlightedAriaTemplateJSON = ariaTemplateJSON;\n      } else {\n        if (!this._lastHighlightedSelector)\n          highlight = "clear";\n        this._lastHighlightedAriaTemplateJSON = "undefined";\n      }\n    }\n    if (highlight === "clear")\n      this.highlight.clearHighlight();\n    else if (highlight !== "noop")\n      this.highlight.updateHighlight(highlight);\n  }\n  clearHighlight() {\n    this.updateHighlight(null, false);\n  }\n  _onClick(event) {\n    var _a, _b, _c;\n    if (!event.isTrusted)\n      return;\n    if ((_a = this.overlay) == null ? void 0 : _a.onClick(event))\n      return;\n    if (this._ignoreOverlayEvent(event))\n      return;\n    (_c = (_b = this._currentTool).onClick) == null ? void 0 : _c.call(_b, event);\n  }\n  _onDblClick(event) {\n    var _a, _b, _c;\n    if (!event.isTrusted)\n      return;\n    if ((_a = this.overlay) == null ? void 0 : _a.onDblClick(event))\n      return;\n    if (this._ignoreOverlayEvent(event))\n      return;\n    (_c = (_b = this._currentTool).onDblClick) == null ? void 0 : _c.call(_b, event);\n  }\n  _onContextMenu(event) {\n    var _a, _b;\n    if (!event.isTrusted)\n      return;\n    (_b = (_a = this._currentTool).onContextMenu) == null ? void 0 : _b.call(_a, event);\n  }\n  _onDragStart(event) {\n    var _a, _b;\n    if (!event.isTrusted)\n      return;\n    if (this._ignoreOverlayEvent(event))\n      return;\n    (_b = (_a = this._currentTool).onDragStart) == null ? void 0 : _b.call(_a, event);\n  }\n  _onPointerDown(event) {\n    var _a, _b;\n    if (!event.isTrusted)\n      return;\n    if (this._ignoreOverlayEvent(event))\n      return;\n    (_b = (_a = this._currentTool).onPointerDown) == null ? void 0 : _b.call(_a, event);\n  }\n  _onPointerUp(event) {\n    var _a, _b;\n    if (!event.isTrusted)\n      return;\n    if (this._ignoreOverlayEvent(event))\n      return;\n    (_b = (_a = this._currentTool).onPointerUp) == null ? void 0 : _b.call(_a, event);\n  }\n  _onMouseDown(event) {\n    var _a, _b;\n    if (!event.isTrusted)\n      return;\n    if (this._ignoreOverlayEvent(event))\n      return;\n    (_b = (_a = this._currentTool).onMouseDown) == null ? void 0 : _b.call(_a, event);\n  }\n  _onMouseUp(event) {\n    var _a, _b, _c;\n    if (!event.isTrusted)\n      return;\n    if ((_a = this.overlay) == null ? void 0 : _a.onMouseUp(event))\n      return;\n    if (this._ignoreOverlayEvent(event))\n      return;\n    (_c = (_b = this._currentTool).onMouseUp) == null ? void 0 : _c.call(_b, event);\n  }\n  _onMouseMove(event) {\n    var _a, _b, _c;\n    if (!event.isTrusted)\n      return;\n    if ((_a = this.overlay) == null ? void 0 : _a.onMouseMove(event))\n      return;\n    if (this._ignoreOverlayEvent(event))\n      return;\n    (_c = (_b = this._currentTool).onMouseMove) == null ? void 0 : _c.call(_b, event);\n  }\n  _onMouseEnter(event) {\n    var _a, _b;\n    if (!event.isTrusted)\n      return;\n    if (this._ignoreOverlayEvent(event))\n      return;\n    (_b = (_a = this._currentTool).onMouseEnter) == null ? void 0 : _b.call(_a, event);\n  }\n  _onMouseLeave(event) {\n    var _a, _b;\n    if (!event.isTrusted)\n      return;\n    if (this._ignoreOverlayEvent(event))\n      return;\n    (_b = (_a = this._currentTool).onMouseLeave) == null ? void 0 : _b.call(_a, event);\n  }\n  _onFocus(event) {\n    var _a, _b;\n    if (!event.isTrusted)\n      return;\n    if (this._ignoreOverlayEvent(event))\n      return;\n    (_b = (_a = this._currentTool).onFocus) == null ? void 0 : _b.call(_a, event);\n  }\n  _onScroll(event) {\n    var _a, _b;\n    if (!event.isTrusted)\n      return;\n    this._lastHighlightedSelector = void 0;\n    this._lastHighlightedAriaTemplateJSON = "undefined";\n    this.highlight.hideActionPoint();\n    (_b = (_a = this._currentTool).onScroll) == null ? void 0 : _b.call(_a, event);\n  }\n  _onInput(event) {\n    var _a, _b;\n    if (this._ignoreOverlayEvent(event))\n      return;\n    (_b = (_a = this._currentTool).onInput) == null ? void 0 : _b.call(_a, event);\n  }\n  _onKeyDown(event) {\n    var _a, _b;\n    if (!event.isTrusted)\n      return;\n    if (this._ignoreOverlayEvent(event))\n      return;\n    (_b = (_a = this._currentTool).onKeyDown) == null ? void 0 : _b.call(_a, event);\n  }\n  _onKeyUp(event) {\n    var _a, _b;\n    if (!event.isTrusted)\n      return;\n    if (this._ignoreOverlayEvent(event))\n      return;\n    (_b = (_a = this._currentTool).onKeyUp) == null ? void 0 : _b.call(_a, event);\n  }\n  updateHighlight(model, userGesture) {\n    this._lastHighlightedSelector = void 0;\n    this._lastHighlightedAriaTemplateJSON = "undefined";\n    this._updateHighlight(model, userGesture);\n  }\n  _updateHighlight(model, userGesture) {\n    var _a, _b;\n    let tooltipText = model == null ? void 0 : model.tooltipText;\n    if (tooltipText === void 0 && (model == null ? void 0 : model.selector))\n      tooltipText = this.injectedScript.utils.asLocator(this.state.language, model.selector);\n    if (model)\n      this.highlight.updateHighlight(model.elements.map((element) => ({ element, color: model.color, tooltipText })));\n    else\n      this.highlight.clearHighlight();\n    if (userGesture)\n      (_b = (_a = this._delegate).highlightUpdated) == null ? void 0 : _b.call(_a);\n  }\n  _ignoreOverlayEvent(event) {\n    return event.composedPath().some((e) => {\n      const nodeName = e.nodeName || "";\n      return nodeName.toLowerCase() === "x-pw-glass";\n    });\n  }\n  deepEventTarget(event) {\n    var _a;\n    for (const element of event.composedPath()) {\n      if (!((_a = this.overlay) == null ? void 0 : _a.contains(element)))\n        return element;\n    }\n    return event.composedPath()[0];\n  }\n  setMode(mode) {\n    var _a, _b;\n    void ((_b = (_a = this._delegate).setMode) == null ? void 0 : _b.call(_a, mode));\n  }\n  _captureAutoExpectSnapshot() {\n    const documentElement = this.injectedScript.document.documentElement;\n    return documentElement ? this.injectedScript.utils.generateAriaTree(documentElement, { mode: "autoexpect" }) : void 0;\n  }\n  async performAction(action) {\n    var _a, _b;\n    const previousSnapshot = this._lastActionAutoexpectSnapshot;\n    this._lastActionAutoexpectSnapshot = this._captureAutoExpectSnapshot();\n    if (!isAssertAction(action) && this._lastActionAutoexpectSnapshot) {\n      const element = findNewElement(previousSnapshot, this._lastActionAutoexpectSnapshot);\n      action.preconditionSelector = element ? this.injectedScript.generateSelector(element, { testIdAttributeName: this.state.testIdAttributeName }).selector : void 0;\n      if (action.preconditionSelector === action.selector)\n        action.preconditionSelector = void 0;\n    }\n    await ((_b = (_a = this._delegate).performAction) == null ? void 0 : _b.call(_a, action).catch(() => {\n    }));\n  }\n  recordAction(action) {\n    var _a, _b;\n    this._lastActionAutoexpectSnapshot = this._captureAutoExpectSnapshot();\n    void ((_b = (_a = this._delegate).recordAction) == null ? void 0 : _b.call(_a, action));\n  }\n  setOverlayState(state) {\n    var _a, _b;\n    void ((_b = (_a = this._delegate).setOverlayState) == null ? void 0 : _b.call(_a, state));\n  }\n  elementPicked(selector, model) {\n    var _a, _b;\n    const ariaSnapshot = this.injectedScript.ariaSnapshot(model.elements[0], { mode: "expect" });\n    void ((_b = (_a = this._delegate).elementPicked) == null ? void 0 : _b.call(_a, { selector, ariaSnapshot }));\n  }\n};\nvar Dialog = class {\n  constructor(recorder) {\n    this._dialogElement = null;\n    this._recorder = recorder;\n  }\n  isShowing() {\n    return !!this._dialogElement;\n  }\n  show(options) {\n    const acceptButton = this._recorder.document.createElement("x-pw-tool-item");\n    acceptButton.title = "Accept";\n    acceptButton.classList.add("accept");\n    acceptButton.appendChild(this._recorder.document.createElement("x-div"));\n    acceptButton.addEventListener("click", () => {\n      var _a;\n      return (_a = options.onCommit) == null ? void 0 : _a.call(options);\n    });\n    const cancelButton = this._recorder.document.createElement("x-pw-tool-item");\n    cancelButton.title = "Close";\n    cancelButton.classList.add("cancel");\n    cancelButton.appendChild(this._recorder.document.createElement("x-div"));\n    cancelButton.addEventListener("click", () => {\n      var _a;\n      this.close();\n      (_a = options.onCancel) == null ? void 0 : _a.call(options);\n    });\n    this._dialogElement = this._recorder.document.createElement("x-pw-dialog");\n    if (options.autosize)\n      this._dialogElement.classList.add("autosize");\n    this._keyboardListener = (event) => {\n      var _a;\n      if (event.key === "Escape") {\n        this.close();\n        (_a = options.onCancel) == null ? void 0 : _a.call(options);\n        return;\n      }\n      if (options.onCommit && event.key === "Enter" && (event.ctrlKey || event.metaKey)) {\n        if (this._dialogElement)\n          options.onCommit();\n        return;\n      }\n    };\n    this._onGlassPaneClickHandler = (event) => {\n      var _a;\n      this.close();\n      (_a = options.onCancel) == null ? void 0 : _a.call(options);\n    };\n    const toolbarElement = this._recorder.document.createElement("x-pw-tools-list");\n    const labelElement = this._recorder.document.createElement("label");\n    labelElement.textContent = options.label;\n    toolbarElement.appendChild(labelElement);\n    toolbarElement.appendChild(this._recorder.document.createElement("x-spacer"));\n    if (options.onCommit)\n      toolbarElement.appendChild(acceptButton);\n    toolbarElement.appendChild(cancelButton);\n    this._dialogElement.appendChild(toolbarElement);\n    const bodyElement = this._recorder.document.createElement("x-pw-dialog-body");\n    bodyElement.appendChild(options.body);\n    this._dialogElement.appendChild(bodyElement);\n    this._recorder.highlight.appendChild(this._dialogElement);\n    this._recorder.highlight.onGlassPaneClick(this._onGlassPaneClickHandler);\n    this._recorder.document.addEventListener("keydown", this._keyboardListener, true);\n    return this._dialogElement;\n  }\n  moveTo(top, left) {\n    if (!this._dialogElement)\n      return;\n    this._dialogElement.style.top = top + "px";\n    this._dialogElement.style.left = left + "px";\n  }\n  close() {\n    if (!this._dialogElement)\n      return;\n    this._dialogElement.remove();\n    this._recorder.highlight.offGlassPaneClick(this._onGlassPaneClickHandler);\n    this._recorder.document.removeEventListener("keydown", this._keyboardListener);\n    this._dialogElement = null;\n  }\n};\nfunction deepActiveElement(document) {\n  let activeElement = document.activeElement;\n  while (activeElement && activeElement.shadowRoot && activeElement.shadowRoot.activeElement)\n    activeElement = activeElement.shadowRoot.activeElement;\n  return activeElement;\n}\nfunction modifiersForEvent(event) {\n  return (event.altKey ? 1 : 0) | (event.ctrlKey ? 2 : 0) | (event.metaKey ? 4 : 0) | (event.shiftKey ? 8 : 0);\n}\nfunction buttonForEvent(event) {\n  switch (event.which) {\n    case 1:\n      return "left";\n    case 2:\n      return "middle";\n    case 3:\n      return "right";\n  }\n  return "left";\n}\nfunction positionForEvent(event) {\n  const targetElement = event.target;\n  if (targetElement.nodeName !== "CANVAS")\n    return;\n  return {\n    x: event.offsetX,\n    y: event.offsetY\n  };\n}\nfunction consumeEvent(e) {\n  e.preventDefault();\n  e.stopPropagation();\n  e.stopImmediatePropagation();\n}\nfunction asCheckbox(node) {\n  if (!node || node.nodeName !== "INPUT")\n    return null;\n  const inputElement = node;\n  return ["checkbox", "radio"].includes(inputElement.type) ? inputElement : null;\n}\nfunction isRangeInput(node) {\n  if (!node || node.nodeName !== "INPUT")\n    return false;\n  const inputElement = node;\n  return inputElement.type.toLowerCase() === "range";\n}\nfunction addEventListener(target, eventName, listener, useCapture) {\n  target.addEventListener(eventName, listener, useCapture);\n  const remove = () => {\n    target.removeEventListener(eventName, listener, useCapture);\n  };\n  return remove;\n}\nfunction removeEventListeners(listeners) {\n  for (const listener of listeners)\n    listener();\n  listeners.splice(0, listeners.length);\n}\nfunction entriesForSelectorHighlight(injectedScript, language, selector, ownerDocument) {\n  try {\n    const parsedSelector = injectedScript.parseSelector(selector);\n    const elements = injectedScript.querySelectorAll(parsedSelector, ownerDocument);\n    const color = elements.length > 1 ? HighlightColors.multiple : HighlightColors.single;\n    const locator = injectedScript.utils.asLocator(language, selector);\n    return elements.map((element, index) => {\n      const suffix = elements.length > 1 ? ` [${index + 1} of ${elements.length}]` : "";\n      return { element, color, tooltipText: locator + suffix };\n    });\n  } catch (e) {\n    return [];\n  }\n}\nfunction createSvgElement(doc, { tagName, attrs, children }) {\n  const elem = doc.createElementNS("http://www.w3.org/2000/svg", tagName);\n  if (attrs) {\n    for (const [k, v] of Object.entries(attrs))\n      elem.setAttribute(k, v);\n  }\n  if (children) {\n    for (const c of children)\n      elem.appendChild(createSvgElement(doc, c));\n  }\n  return elem;\n}\nfunction isAssertAction(action) {\n  return action.name.startsWith("assert");\n}\nfunction findNewElement(from, to) {\n  var _a, _b;\n  function fillMap(root, map, position) {\n    let size = 1;\n    let childPosition = position + size;\n    for (const child of root.children || []) {\n      if (typeof child === "string") {\n        size++;\n        childPosition++;\n      } else {\n        size += fillMap(child, map, childPosition);\n        childPosition += size;\n      }\n    }\n    if (!["none", "presentation", "fragment", "iframe", "generic"].includes(root.role) && root.name) {\n      let byRole = map.get(root.role);\n      if (!byRole) {\n        byRole = /* @__PURE__ */ new Map();\n        map.set(root.role, byRole);\n      }\n      const existing = byRole.get(root.name);\n      const sizeAndPosition = size * 100 - position;\n      if (!existing || existing.sizeAndPosition < sizeAndPosition)\n        byRole.set(root.name, { node: root, sizeAndPosition });\n    }\n    return size;\n  }\n  const fromMap = /* @__PURE__ */ new Map();\n  if (from)\n    fillMap(from.root, fromMap, 0);\n  const toMap = /* @__PURE__ */ new Map();\n  fillMap(to.root, toMap, 0);\n  const result = [];\n  for (const [role, byRole] of toMap) {\n    for (const [name, byName] of byRole) {\n      const inFrom = (_a = fromMap.get(role)) == null ? void 0 : _a.get(name);\n      if (!inFrom)\n        result.push(byName);\n    }\n  }\n  result.sort((a, b) => b.sizeAndPosition - a.sizeAndPosition);\n  return (_b = result[0]) == null ? void 0 : _b.node.element;\n}\n\n// packages/injected/src/recorder/pollingRecorder.ts\nvar PollingRecorder = class {\n  constructor(injectedScript, options) {\n    this._recorder = new Recorder(injectedScript, options);\n    this._embedder = injectedScript.window;\n    injectedScript.onGlobalListenersRemoved.add(() => this._recorder.installListeners());\n    const refreshOverlay = () => {\n      this._lastStateJSON = void 0;\n      this._pollRecorderMode().catch((e) => console.log(e));\n    };\n    this._embedder.__pw_refreshOverlay = refreshOverlay;\n    refreshOverlay();\n  }\n  async _pollRecorderMode() {\n    const pollPeriod = 1e3;\n    if (this._pollRecorderModeTimer)\n      this._recorder.injectedScript.utils.builtins.clearTimeout(this._pollRecorderModeTimer);\n    const state = await this._embedder.__pw_recorderState().catch(() => null);\n    if (!state) {\n      this._pollRecorderModeTimer = this._recorder.injectedScript.utils.builtins.setTimeout(() => this._pollRecorderMode(), pollPeriod);\n      return;\n    }\n    const stringifiedState = JSON.stringify(state);\n    if (this._lastStateJSON !== stringifiedState) {\n      this._lastStateJSON = stringifiedState;\n      const win = this._recorder.document.defaultView;\n      if (win.top !== win) {\n        state.actionPoint = void 0;\n      }\n      this._recorder.setUIState(state, this);\n    }\n    this._pollRecorderModeTimer = this._recorder.injectedScript.utils.builtins.setTimeout(() => this._pollRecorderMode(), pollPeriod);\n  }\n  async performAction(action) {\n    await this._embedder.__pw_recorderPerformAction(action);\n  }\n  async recordAction(action) {\n    await this._embedder.__pw_recorderRecordAction(action);\n  }\n  async elementPicked(elementInfo) {\n    await this._embedder.__pw_recorderElementPicked(elementInfo);\n  }\n  async setMode(mode) {\n    await this._embedder.__pw_recorderSetMode(mode);\n  }\n  async setOverlayState(state) {\n    await this._embedder.__pw_recorderSetOverlayState(state);\n  }\n};\nvar pollingRecorder_default = PollingRecorder;\n'},"./node_modules/playwright-core/lib/generated/storageScriptSource.js":e=>{"use strict";var t,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,i=Object.prototype.hasOwnProperty,s={};((e,t)=>{for(var r in t)n(e,r,{get:t[r],enumerable:!0})})(s,{source:()=>a}),e.exports=(t=s,((e,t,s,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let s of o(t))i.call(e,s)||undefined===s||n(e,s,{get:()=>t[s],enumerable:!(a=r(t,s))||a.enumerable});return e})(n({},"__esModule",{value:!0}),t));const a='\nvar __commonJS = obj => {\n  let required = false;\n  let result;\n  return function __require() {\n    if (!required) {\n      required = true;\n      let fn;\n      for (const name in obj) { fn = obj[name]; break; }\n      const module = { exports: {} };\n      fn(module.exports, module);\n      result = module.exports;\n    }\n    return result;\n  }\n};\nvar __export = (target, all) => {for (var name in all) target[name] = all[name];};\nvar __toESM = mod => ({ ...mod, \'default\': mod });\nvar __toCommonJS = mod => ({ ...mod, __esModule: true });\n\n\n// packages/injected/src/storageScript.ts\nvar storageScript_exports = {};\n__export(storageScript_exports, {\n  StorageScript: () => StorageScript\n});\nmodule.exports = __toCommonJS(storageScript_exports);\n\n// packages/playwright-core/src/utils/isomorphic/utilityScriptSerializers.ts\nfunction isRegExp(obj) {\n  try {\n    return obj instanceof RegExp || Object.prototype.toString.call(obj) === "[object RegExp]";\n  } catch (error) {\n    return false;\n  }\n}\nfunction isDate(obj) {\n  try {\n    return obj instanceof Date || Object.prototype.toString.call(obj) === "[object Date]";\n  } catch (error) {\n    return false;\n  }\n}\nfunction isURL(obj) {\n  try {\n    return obj instanceof URL || Object.prototype.toString.call(obj) === "[object URL]";\n  } catch (error) {\n    return false;\n  }\n}\nfunction isError(obj) {\n  var _a;\n  try {\n    return obj instanceof Error || obj && ((_a = Object.getPrototypeOf(obj)) == null ? void 0 : _a.name) === "Error";\n  } catch (error) {\n    return false;\n  }\n}\nfunction isTypedArray(obj, constructor) {\n  try {\n    return obj instanceof constructor || Object.prototype.toString.call(obj) === `[object ${constructor.name}]`;\n  } catch (error) {\n    return false;\n  }\n}\nvar typedArrayConstructors = {\n  i8: Int8Array,\n  ui8: Uint8Array,\n  ui8c: Uint8ClampedArray,\n  i16: Int16Array,\n  ui16: Uint16Array,\n  i32: Int32Array,\n  ui32: Uint32Array,\n  // TODO: add Float16Array once it\'s in baseline\n  f32: Float32Array,\n  f64: Float64Array,\n  bi64: BigInt64Array,\n  bui64: BigUint64Array\n};\nfunction typedArrayToBase64(array) {\n  if ("toBase64" in array)\n    return array.toBase64();\n  const binary = Array.from(new Uint8Array(array.buffer, array.byteOffset, array.byteLength)).map((b) => String.fromCharCode(b)).join("");\n  return btoa(binary);\n}\nfunction base64ToTypedArray(base64, TypedArrayConstructor) {\n  const binary = atob(base64);\n  const bytes = new Uint8Array(binary.length);\n  for (let i = 0; i < binary.length; i++)\n    bytes[i] = binary.charCodeAt(i);\n  return new TypedArrayConstructor(bytes.buffer);\n}\nfunction parseEvaluationResultValue(value, handles = [], refs = /* @__PURE__ */ new Map()) {\n  if (Object.is(value, void 0))\n    return void 0;\n  if (typeof value === "object" && value) {\n    if ("ref" in value)\n      return refs.get(value.ref);\n    if ("v" in value) {\n      if (value.v === "undefined")\n        return void 0;\n      if (value.v === "null")\n        return null;\n      if (value.v === "NaN")\n        return NaN;\n      if (value.v === "Infinity")\n        return Infinity;\n      if (value.v === "-Infinity")\n        return -Infinity;\n      if (value.v === "-0")\n        return -0;\n      return void 0;\n    }\n    if ("d" in value) {\n      return new Date(value.d);\n    }\n    if ("u" in value)\n      return new URL(value.u);\n    if ("bi" in value)\n      return BigInt(value.bi);\n    if ("e" in value) {\n      const error = new Error(value.e.m);\n      error.name = value.e.n;\n      error.stack = value.e.s;\n      return error;\n    }\n    if ("r" in value)\n      return new RegExp(value.r.p, value.r.f);\n    if ("a" in value) {\n      const result = [];\n      refs.set(value.id, result);\n      for (const a of value.a)\n        result.push(parseEvaluationResultValue(a, handles, refs));\n      return result;\n    }\n    if ("o" in value) {\n      const result = {};\n      refs.set(value.id, result);\n      for (const { k, v } of value.o) {\n        if (k === "__proto__")\n          continue;\n        result[k] = parseEvaluationResultValue(v, handles, refs);\n      }\n      return result;\n    }\n    if ("h" in value)\n      return handles[value.h];\n    if ("ta" in value)\n      return base64ToTypedArray(value.ta.b, typedArrayConstructors[value.ta.k]);\n  }\n  return value;\n}\nfunction serializeAsCallArgument(value, handleSerializer) {\n  return serialize(value, handleSerializer, { visited: /* @__PURE__ */ new Map(), lastId: 0 });\n}\nfunction serialize(value, handleSerializer, visitorInfo) {\n  if (value && typeof value === "object") {\n    if (typeof globalThis.Window === "function" && value instanceof globalThis.Window)\n      return "ref: <Window>";\n    if (typeof globalThis.Document === "function" && value instanceof globalThis.Document)\n      return "ref: <Document>";\n    if (typeof globalThis.Node === "function" && value instanceof globalThis.Node)\n      return "ref: <Node>";\n  }\n  return innerSerialize(value, handleSerializer, visitorInfo);\n}\nfunction innerSerialize(value, handleSerializer, visitorInfo) {\n  var _a;\n  const result = handleSerializer(value);\n  if ("fallThrough" in result)\n    value = result.fallThrough;\n  else\n    return result;\n  if (typeof value === "symbol")\n    return { v: "undefined" };\n  if (Object.is(value, void 0))\n    return { v: "undefined" };\n  if (Object.is(value, null))\n    return { v: "null" };\n  if (Object.is(value, NaN))\n    return { v: "NaN" };\n  if (Object.is(value, Infinity))\n    return { v: "Infinity" };\n  if (Object.is(value, -Infinity))\n    return { v: "-Infinity" };\n  if (Object.is(value, -0))\n    return { v: "-0" };\n  if (typeof value === "boolean")\n    return value;\n  if (typeof value === "number")\n    return value;\n  if (typeof value === "string")\n    return value;\n  if (typeof value === "bigint")\n    return { bi: value.toString() };\n  if (isError(value)) {\n    let stack;\n    if ((_a = value.stack) == null ? void 0 : _a.startsWith(value.name + ": " + value.message)) {\n      stack = value.stack;\n    } else {\n      stack = `${value.name}: ${value.message}\n${value.stack}`;\n    }\n    return { e: { n: value.name, m: value.message, s: stack } };\n  }\n  if (isDate(value))\n    return { d: value.toJSON() };\n  if (isURL(value))\n    return { u: value.toJSON() };\n  if (isRegExp(value))\n    return { r: { p: value.source, f: value.flags } };\n  for (const [k, ctor] of Object.entries(typedArrayConstructors)) {\n    if (isTypedArray(value, ctor))\n      return { ta: { b: typedArrayToBase64(value), k } };\n  }\n  const id = visitorInfo.visited.get(value);\n  if (id)\n    return { ref: id };\n  if (Array.isArray(value)) {\n    const a = [];\n    const id2 = ++visitorInfo.lastId;\n    visitorInfo.visited.set(value, id2);\n    for (let i = 0; i < value.length; ++i)\n      a.push(serialize(value[i], handleSerializer, visitorInfo));\n    return { a, id: id2 };\n  }\n  if (typeof value === "object") {\n    const o = [];\n    const id2 = ++visitorInfo.lastId;\n    visitorInfo.visited.set(value, id2);\n    for (const name of Object.keys(value)) {\n      let item;\n      try {\n        item = value[name];\n      } catch (e) {\n        continue;\n      }\n      if (name === "toJSON" && typeof item === "function")\n        o.push({ k: name, v: { o: [], id: 0 } });\n      else\n        o.push({ k: name, v: serialize(item, handleSerializer, visitorInfo) });\n    }\n    let jsonWrapper;\n    try {\n      if (o.length === 0 && value.toJSON && typeof value.toJSON === "function")\n        jsonWrapper = { value: value.toJSON() };\n    } catch (e) {\n    }\n    if (jsonWrapper)\n      return innerSerialize(jsonWrapper.value, handleSerializer, visitorInfo);\n    return { o, id: id2 };\n  }\n}\n\n// packages/injected/src/storageScript.ts\nvar StorageScript = class {\n  constructor(isFirefox) {\n    this._isFirefox = isFirefox;\n    this._global = globalThis;\n  }\n  _idbRequestToPromise(request) {\n    return new Promise((resolve, reject) => {\n      request.addEventListener("success", () => resolve(request.result));\n      request.addEventListener("error", () => reject(request.error));\n    });\n  }\n  _isPlainObject(v) {\n    const ctor = v == null ? void 0 : v.constructor;\n    if (this._isFirefox) {\n      const constructorImpl = ctor == null ? void 0 : ctor.toString();\n      if ((constructorImpl == null ? void 0 : constructorImpl.startsWith("function Object() {")) && (constructorImpl == null ? void 0 : constructorImpl.includes("[native code]")))\n        return true;\n    }\n    return ctor === Object;\n  }\n  _trySerialize(value) {\n    let trivial = true;\n    const encoded = serializeAsCallArgument(value, (v) => {\n      const isTrivial = this._isPlainObject(v) || Array.isArray(v) || typeof v === "string" || typeof v === "number" || typeof v === "boolean" || Object.is(v, null);\n      if (!isTrivial)\n        trivial = false;\n      return { fallThrough: v };\n    });\n    if (trivial)\n      return { trivial: value };\n    return { encoded };\n  }\n  async _collectDB(dbInfo) {\n    if (!dbInfo.name)\n      throw new Error("Database name is empty");\n    if (!dbInfo.version)\n      throw new Error("Database version is unset");\n    const db = await this._idbRequestToPromise(indexedDB.open(dbInfo.name));\n    if (db.objectStoreNames.length === 0)\n      return { name: dbInfo.name, version: dbInfo.version, stores: [] };\n    const transaction = db.transaction(db.objectStoreNames, "readonly");\n    const stores = await Promise.all([...db.objectStoreNames].map(async (storeName) => {\n      const objectStore = transaction.objectStore(storeName);\n      const keys = await this._idbRequestToPromise(objectStore.getAllKeys());\n      const records = await Promise.all(keys.map(async (key) => {\n        const record = {};\n        if (objectStore.keyPath === null) {\n          const { encoded: encoded2, trivial: trivial2 } = this._trySerialize(key);\n          if (trivial2)\n            record.key = trivial2;\n          else\n            record.keyEncoded = encoded2;\n        }\n        const value = await this._idbRequestToPromise(objectStore.get(key));\n        const { encoded, trivial } = this._trySerialize(value);\n        if (trivial)\n          record.value = trivial;\n        else\n          record.valueEncoded = encoded;\n        return record;\n      }));\n      const indexes = [...objectStore.indexNames].map((indexName) => {\n        const index = objectStore.index(indexName);\n        return {\n          name: index.name,\n          keyPath: typeof index.keyPath === "string" ? index.keyPath : void 0,\n          keyPathArray: Array.isArray(index.keyPath) ? index.keyPath : void 0,\n          multiEntry: index.multiEntry,\n          unique: index.unique\n        };\n      });\n      return {\n        name: storeName,\n        records,\n        indexes,\n        autoIncrement: objectStore.autoIncrement,\n        keyPath: typeof objectStore.keyPath === "string" ? objectStore.keyPath : void 0,\n        keyPathArray: Array.isArray(objectStore.keyPath) ? objectStore.keyPath : void 0\n      };\n    }));\n    return {\n      name: dbInfo.name,\n      version: dbInfo.version,\n      stores\n    };\n  }\n  async collect(recordIndexedDB) {\n    const localStorage = Object.keys(this._global.localStorage).map((name) => ({ name, value: this._global.localStorage.getItem(name) }));\n    if (!recordIndexedDB)\n      return { localStorage };\n    try {\n      const databases = await this._global.indexedDB.databases();\n      const indexedDB2 = await Promise.all(databases.map((db) => this._collectDB(db)));\n      return { localStorage, indexedDB: indexedDB2 };\n    } catch (e) {\n      throw new Error("Unable to serialize IndexedDB: " + e.message);\n    }\n  }\n  async _restoreDB(dbInfo) {\n    const openRequest = this._global.indexedDB.open(dbInfo.name, dbInfo.version);\n    openRequest.addEventListener("upgradeneeded", () => {\n      var _a, _b;\n      const db2 = openRequest.result;\n      for (const store of dbInfo.stores) {\n        const objectStore = db2.createObjectStore(store.name, { autoIncrement: store.autoIncrement, keyPath: (_a = store.keyPathArray) != null ? _a : store.keyPath });\n        for (const index of store.indexes)\n          objectStore.createIndex(index.name, (_b = index.keyPathArray) != null ? _b : index.keyPath, { unique: index.unique, multiEntry: index.multiEntry });\n      }\n    });\n    const db = await this._idbRequestToPromise(openRequest);\n    if (db.objectStoreNames.length === 0)\n      return;\n    const transaction = db.transaction(db.objectStoreNames, "readwrite");\n    await Promise.all(dbInfo.stores.map(async (store) => {\n      const objectStore = transaction.objectStore(store.name);\n      await Promise.all(store.records.map(async (record) => {\n        var _a, _b;\n        await this._idbRequestToPromise(\n          objectStore.add(\n            (_a = record.value) != null ? _a : parseEvaluationResultValue(record.valueEncoded),\n            (_b = record.key) != null ? _b : parseEvaluationResultValue(record.keyEncoded)\n          )\n        );\n      }));\n    }));\n  }\n  async restore(originState) {\n    var _a, _b, _c;\n    const registrations = this._global.navigator.serviceWorker ? await this._global.navigator.serviceWorker.getRegistrations() : [];\n    await Promise.all(registrations.map(async (r) => {\n      if (!r.installing && !r.waiting && !r.active)\n        r.unregister().catch(() => {\n        });\n      else\n        await r.unregister().catch(() => {\n        });\n    }));\n    try {\n      for (const db of await ((_b = (_a = this._global.indexedDB).databases) == null ? void 0 : _b.call(_a)) || []) {\n        if (db.name)\n          this._global.indexedDB.deleteDatabase(db.name);\n      }\n      await Promise.all(((_c = originState == null ? void 0 : originState.indexedDB) != null ? _c : []).map((dbInfo) => this._restoreDB(dbInfo)));\n    } catch (e) {\n      throw new Error("Unable to restore IndexedDB: " + e.message);\n    }\n    this._global.sessionStorage.clear();\n    this._global.localStorage.clear();\n    for (const { name, value } of (originState == null ? void 0 : originState.localStorage) || [])\n      this._global.localStorage.setItem(name, value);\n  }\n};\n'},"./node_modules/playwright-core/lib/generated/utilityScriptSource.js":e=>{"use strict";var t,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,i=Object.prototype.hasOwnProperty,s={};((e,t)=>{for(var r in t)n(e,r,{get:t[r],enumerable:!0})})(s,{source:()=>a}),e.exports=(t=s,((e,t,s,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let s of o(t))i.call(e,s)||undefined===s||n(e,s,{get:()=>t[s],enumerable:!(a=r(t,s))||a.enumerable});return e})(n({},"__esModule",{value:!0}),t));const a='\nvar __commonJS = obj => {\n  let required = false;\n  let result;\n  return function __require() {\n    if (!required) {\n      required = true;\n      let fn;\n      for (const name in obj) { fn = obj[name]; break; }\n      const module = { exports: {} };\n      fn(module.exports, module);\n      result = module.exports;\n    }\n    return result;\n  }\n};\nvar __export = (target, all) => {for (var name in all) target[name] = all[name];};\nvar __toESM = mod => ({ ...mod, \'default\': mod });\nvar __toCommonJS = mod => ({ ...mod, __esModule: true });\n\n\n// packages/injected/src/utilityScript.ts\nvar utilityScript_exports = {};\n__export(utilityScript_exports, {\n  UtilityScript: () => UtilityScript\n});\nmodule.exports = __toCommonJS(utilityScript_exports);\n\n// packages/playwright-core/src/utils/isomorphic/utilityScriptSerializers.ts\nfunction isRegExp(obj) {\n  try {\n    return obj instanceof RegExp || Object.prototype.toString.call(obj) === "[object RegExp]";\n  } catch (error) {\n    return false;\n  }\n}\nfunction isDate(obj) {\n  try {\n    return obj instanceof Date || Object.prototype.toString.call(obj) === "[object Date]";\n  } catch (error) {\n    return false;\n  }\n}\nfunction isURL(obj) {\n  try {\n    return obj instanceof URL || Object.prototype.toString.call(obj) === "[object URL]";\n  } catch (error) {\n    return false;\n  }\n}\nfunction isError(obj) {\n  var _a;\n  try {\n    return obj instanceof Error || obj && ((_a = Object.getPrototypeOf(obj)) == null ? void 0 : _a.name) === "Error";\n  } catch (error) {\n    return false;\n  }\n}\nfunction isTypedArray(obj, constructor) {\n  try {\n    return obj instanceof constructor || Object.prototype.toString.call(obj) === `[object ${constructor.name}]`;\n  } catch (error) {\n    return false;\n  }\n}\nvar typedArrayConstructors = {\n  i8: Int8Array,\n  ui8: Uint8Array,\n  ui8c: Uint8ClampedArray,\n  i16: Int16Array,\n  ui16: Uint16Array,\n  i32: Int32Array,\n  ui32: Uint32Array,\n  // TODO: add Float16Array once it\'s in baseline\n  f32: Float32Array,\n  f64: Float64Array,\n  bi64: BigInt64Array,\n  bui64: BigUint64Array\n};\nfunction typedArrayToBase64(array) {\n  if ("toBase64" in array)\n    return array.toBase64();\n  const binary = Array.from(new Uint8Array(array.buffer, array.byteOffset, array.byteLength)).map((b) => String.fromCharCode(b)).join("");\n  return btoa(binary);\n}\nfunction base64ToTypedArray(base64, TypedArrayConstructor) {\n  const binary = atob(base64);\n  const bytes = new Uint8Array(binary.length);\n  for (let i = 0; i < binary.length; i++)\n    bytes[i] = binary.charCodeAt(i);\n  return new TypedArrayConstructor(bytes.buffer);\n}\nfunction parseEvaluationResultValue(value, handles = [], refs = /* @__PURE__ */ new Map()) {\n  if (Object.is(value, void 0))\n    return void 0;\n  if (typeof value === "object" && value) {\n    if ("ref" in value)\n      return refs.get(value.ref);\n    if ("v" in value) {\n      if (value.v === "undefined")\n        return void 0;\n      if (value.v === "null")\n        return null;\n      if (value.v === "NaN")\n        return NaN;\n      if (value.v === "Infinity")\n        return Infinity;\n      if (value.v === "-Infinity")\n        return -Infinity;\n      if (value.v === "-0")\n        return -0;\n      return void 0;\n    }\n    if ("d" in value) {\n      return new Date(value.d);\n    }\n    if ("u" in value)\n      return new URL(value.u);\n    if ("bi" in value)\n      return BigInt(value.bi);\n    if ("e" in value) {\n      const error = new Error(value.e.m);\n      error.name = value.e.n;\n      error.stack = value.e.s;\n      return error;\n    }\n    if ("r" in value)\n      return new RegExp(value.r.p, value.r.f);\n    if ("a" in value) {\n      const result = [];\n      refs.set(value.id, result);\n      for (const a of value.a)\n        result.push(parseEvaluationResultValue(a, handles, refs));\n      return result;\n    }\n    if ("o" in value) {\n      const result = {};\n      refs.set(value.id, result);\n      for (const { k, v } of value.o) {\n        if (k === "__proto__")\n          continue;\n        result[k] = parseEvaluationResultValue(v, handles, refs);\n      }\n      return result;\n    }\n    if ("h" in value)\n      return handles[value.h];\n    if ("ta" in value)\n      return base64ToTypedArray(value.ta.b, typedArrayConstructors[value.ta.k]);\n  }\n  return value;\n}\nfunction serializeAsCallArgument(value, handleSerializer) {\n  return serialize(value, handleSerializer, { visited: /* @__PURE__ */ new Map(), lastId: 0 });\n}\nfunction serialize(value, handleSerializer, visitorInfo) {\n  if (value && typeof value === "object") {\n    if (typeof globalThis.Window === "function" && value instanceof globalThis.Window)\n      return "ref: <Window>";\n    if (typeof globalThis.Document === "function" && value instanceof globalThis.Document)\n      return "ref: <Document>";\n    if (typeof globalThis.Node === "function" && value instanceof globalThis.Node)\n      return "ref: <Node>";\n  }\n  return innerSerialize(value, handleSerializer, visitorInfo);\n}\nfunction innerSerialize(value, handleSerializer, visitorInfo) {\n  var _a;\n  const result = handleSerializer(value);\n  if ("fallThrough" in result)\n    value = result.fallThrough;\n  else\n    return result;\n  if (typeof value === "symbol")\n    return { v: "undefined" };\n  if (Object.is(value, void 0))\n    return { v: "undefined" };\n  if (Object.is(value, null))\n    return { v: "null" };\n  if (Object.is(value, NaN))\n    return { v: "NaN" };\n  if (Object.is(value, Infinity))\n    return { v: "Infinity" };\n  if (Object.is(value, -Infinity))\n    return { v: "-Infinity" };\n  if (Object.is(value, -0))\n    return { v: "-0" };\n  if (typeof value === "boolean")\n    return value;\n  if (typeof value === "number")\n    return value;\n  if (typeof value === "string")\n    return value;\n  if (typeof value === "bigint")\n    return { bi: value.toString() };\n  if (isError(value)) {\n    let stack;\n    if ((_a = value.stack) == null ? void 0 : _a.startsWith(value.name + ": " + value.message)) {\n      stack = value.stack;\n    } else {\n      stack = `${value.name}: ${value.message}\n${value.stack}`;\n    }\n    return { e: { n: value.name, m: value.message, s: stack } };\n  }\n  if (isDate(value))\n    return { d: value.toJSON() };\n  if (isURL(value))\n    return { u: value.toJSON() };\n  if (isRegExp(value))\n    return { r: { p: value.source, f: value.flags } };\n  for (const [k, ctor] of Object.entries(typedArrayConstructors)) {\n    if (isTypedArray(value, ctor))\n      return { ta: { b: typedArrayToBase64(value), k } };\n  }\n  const id = visitorInfo.visited.get(value);\n  if (id)\n    return { ref: id };\n  if (Array.isArray(value)) {\n    const a = [];\n    const id2 = ++visitorInfo.lastId;\n    visitorInfo.visited.set(value, id2);\n    for (let i = 0; i < value.length; ++i)\n      a.push(serialize(value[i], handleSerializer, visitorInfo));\n    return { a, id: id2 };\n  }\n  if (typeof value === "object") {\n    const o = [];\n    const id2 = ++visitorInfo.lastId;\n    visitorInfo.visited.set(value, id2);\n    for (const name of Object.keys(value)) {\n      let item;\n      try {\n        item = value[name];\n      } catch (e) {\n        continue;\n      }\n      if (name === "toJSON" && typeof item === "function")\n        o.push({ k: name, v: { o: [], id: 0 } });\n      else\n        o.push({ k: name, v: serialize(item, handleSerializer, visitorInfo) });\n    }\n    let jsonWrapper;\n    try {\n      if (o.length === 0 && value.toJSON && typeof value.toJSON === "function")\n        jsonWrapper = { value: value.toJSON() };\n    } catch (e) {\n    }\n    if (jsonWrapper)\n      return innerSerialize(jsonWrapper.value, handleSerializer, visitorInfo);\n    return { o, id: id2 };\n  }\n}\n\n// packages/injected/src/utilityScript.ts\nvar UtilityScript = class {\n  constructor(global, isUnderTest) {\n    var _a, _b, _c, _d, _e, _f, _g, _h;\n    this.global = global;\n    this.isUnderTest = isUnderTest;\n    if (global.__pwClock) {\n      this.builtins = global.__pwClock.builtins;\n    } else {\n      this.builtins = {\n        setTimeout: (_a = global.setTimeout) == null ? void 0 : _a.bind(global),\n        clearTimeout: (_b = global.clearTimeout) == null ? void 0 : _b.bind(global),\n        setInterval: (_c = global.setInterval) == null ? void 0 : _c.bind(global),\n        clearInterval: (_d = global.clearInterval) == null ? void 0 : _d.bind(global),\n        requestAnimationFrame: (_e = global.requestAnimationFrame) == null ? void 0 : _e.bind(global),\n        cancelAnimationFrame: (_f = global.cancelAnimationFrame) == null ? void 0 : _f.bind(global),\n        requestIdleCallback: (_g = global.requestIdleCallback) == null ? void 0 : _g.bind(global),\n        cancelIdleCallback: (_h = global.cancelIdleCallback) == null ? void 0 : _h.bind(global),\n        performance: global.performance,\n        Intl: global.Intl,\n        Date: global.Date\n      };\n    }\n    if (this.isUnderTest)\n      global.builtins = this.builtins;\n  }\n  evaluate(isFunction, returnByValue, expression, argCount, ...argsAndHandles) {\n    const args = argsAndHandles.slice(0, argCount);\n    const handles = argsAndHandles.slice(argCount);\n    const parameters = [];\n    for (let i = 0; i < args.length; i++)\n      parameters[i] = parseEvaluationResultValue(args[i], handles);\n    let result = this.global.eval(expression);\n    if (isFunction === true) {\n      result = result(...parameters);\n    } else if (isFunction === false) {\n      result = result;\n    } else {\n      if (typeof result === "function")\n        result = result(...parameters);\n    }\n    return returnByValue ? this._promiseAwareJsonValueNoThrow(result) : result;\n  }\n  jsonValue(returnByValue, value) {\n    if (value === void 0)\n      return void 0;\n    return serializeAsCallArgument(value, (value2) => ({ fallThrough: value2 }));\n  }\n  _promiseAwareJsonValueNoThrow(value) {\n    const safeJson = (value2) => {\n      try {\n        return this.jsonValue(true, value2);\n      } catch (e) {\n        return void 0;\n      }\n    };\n    if (value && typeof value === "object" && typeof value.then === "function") {\n      return (async () => {\n        const promiseValue = await value;\n        return safeJson(promiseValue);\n      })();\n    }\n    return safeJson(value);\n  }\n};\n'},"./node_modules/playwright-core/lib/generated/webSocketMockSource.js":e=>{"use strict";var t,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,i=Object.prototype.hasOwnProperty,s={};((e,t)=>{for(var r in t)n(e,r,{get:t[r],enumerable:!0})})(s,{source:()=>a}),e.exports=(t=s,((e,t,s,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let s of o(t))i.call(e,s)||undefined===s||n(e,s,{get:()=>t[s],enumerable:!(a=r(t,s))||a.enumerable});return e})(n({},"__esModule",{value:!0}),t));const a='\nvar __commonJS = obj => {\n  let required = false;\n  let result;\n  return function __require() {\n    if (!required) {\n      required = true;\n      let fn;\n      for (const name in obj) { fn = obj[name]; break; }\n      const module = { exports: {} };\n      fn(module.exports, module);\n      result = module.exports;\n    }\n    return result;\n  }\n};\nvar __export = (target, all) => {for (var name in all) target[name] = all[name];};\nvar __toESM = mod => ({ ...mod, \'default\': mod });\nvar __toCommonJS = mod => ({ ...mod, __esModule: true });\n\n\n// packages/injected/src/webSocketMock.ts\nvar webSocketMock_exports = {};\n__export(webSocketMock_exports, {\n  inject: () => inject\n});\nmodule.exports = __toCommonJS(webSocketMock_exports);\nfunction inject(globalThis) {\n  if (globalThis.__pwWebSocketDispatch)\n    return;\n  function generateId() {\n    const bytes = new Uint8Array(32);\n    globalThis.crypto.getRandomValues(bytes);\n    const hex = "0123456789abcdef";\n    return [...bytes].map((value) => {\n      const high = Math.floor(value / 16);\n      const low = value % 16;\n      return hex[high] + hex[low];\n    }).join("");\n  }\n  function bufferToData(b) {\n    let s = "";\n    for (let i = 0; i < b.length; i++)\n      s += String.fromCharCode(b[i]);\n    return { data: globalThis.btoa(s), isBase64: true };\n  }\n  function stringToBuffer(s) {\n    s = globalThis.atob(s);\n    const b = new Uint8Array(s.length);\n    for (let i = 0; i < s.length; i++)\n      b[i] = s.charCodeAt(i);\n    return b.buffer;\n  }\n  function messageToData(message, cb) {\n    if (message instanceof globalThis.Blob)\n      return message.arrayBuffer().then((buffer) => cb(bufferToData(new Uint8Array(buffer))));\n    if (typeof message === "string")\n      return cb({ data: message, isBase64: false });\n    if (ArrayBuffer.isView(message))\n      return cb(bufferToData(new Uint8Array(message.buffer, message.byteOffset, message.byteLength)));\n    return cb(bufferToData(new Uint8Array(message)));\n  }\n  function dataToMessage(data, binaryType) {\n    if (!data.isBase64)\n      return data.data;\n    const buffer = stringToBuffer(data.data);\n    return binaryType === "arraybuffer" ? buffer : new Blob([buffer]);\n  }\n  const binding = globalThis.__pwWebSocketBinding;\n  const NativeWebSocket = globalThis.WebSocket;\n  const idToWebSocket = /* @__PURE__ */ new Map();\n  globalThis.__pwWebSocketDispatch = (request) => {\n    const ws = idToWebSocket.get(request.id);\n    if (!ws)\n      return;\n    if (request.type === "connect")\n      ws._apiConnect();\n    if (request.type === "passthrough")\n      ws._apiPassThrough();\n    if (request.type === "ensureOpened")\n      ws._apiEnsureOpened();\n    if (request.type === "sendToPage")\n      ws._apiSendToPage(dataToMessage(request.data, ws.binaryType));\n    if (request.type === "closePage")\n      ws._apiClosePage(request.code, request.reason, request.wasClean);\n    if (request.type === "sendToServer")\n      ws._apiSendToServer(dataToMessage(request.data, ws.binaryType));\n    if (request.type === "closeServer")\n      ws._apiCloseServer(request.code, request.reason, request.wasClean);\n  };\n  const _WebSocketMock = class _WebSocketMock extends EventTarget {\n    constructor(url, protocols) {\n      var _a, _b;\n      super();\n      // WebSocket.CLOSED\n      this.CONNECTING = 0;\n      // WebSocket.CONNECTING\n      this.OPEN = 1;\n      // WebSocket.OPEN\n      this.CLOSING = 2;\n      // WebSocket.CLOSING\n      this.CLOSED = 3;\n      // WebSocket.CLOSED\n      this._oncloseListener = null;\n      this._onerrorListener = null;\n      this._onmessageListener = null;\n      this._onopenListener = null;\n      this.bufferedAmount = 0;\n      this.extensions = "";\n      this.protocol = "";\n      this.readyState = 0;\n      this._origin = "";\n      this._passthrough = false;\n      this._wsBufferedMessages = [];\n      this._binaryType = "blob";\n      this.url = new URL(url, globalThis.window.document.baseURI).href.replace(/^http/, "ws");\n      this._origin = (_b = (_a = URL.parse(this.url)) == null ? void 0 : _a.origin) != null ? _b : "";\n      this._protocols = protocols;\n      this._id = generateId();\n      idToWebSocket.set(this._id, this);\n      binding({ type: "onCreate", id: this._id, url: this.url });\n    }\n    // --- native WebSocket implementation ---\n    get binaryType() {\n      return this._binaryType;\n    }\n    set binaryType(type) {\n      this._binaryType = type;\n      if (this._ws)\n        this._ws.binaryType = type;\n    }\n    get onclose() {\n      return this._oncloseListener;\n    }\n    set onclose(listener) {\n      if (this._oncloseListener)\n        this.removeEventListener("close", this._oncloseListener);\n      this._oncloseListener = listener;\n      if (this._oncloseListener)\n        this.addEventListener("close", this._oncloseListener);\n    }\n    get onerror() {\n      return this._onerrorListener;\n    }\n    set onerror(listener) {\n      if (this._onerrorListener)\n        this.removeEventListener("error", this._onerrorListener);\n      this._onerrorListener = listener;\n      if (this._onerrorListener)\n        this.addEventListener("error", this._onerrorListener);\n    }\n    get onopen() {\n      return this._onopenListener;\n    }\n    set onopen(listener) {\n      if (this._onopenListener)\n        this.removeEventListener("open", this._onopenListener);\n      this._onopenListener = listener;\n      if (this._onopenListener)\n        this.addEventListener("open", this._onopenListener);\n    }\n    get onmessage() {\n      return this._onmessageListener;\n    }\n    set onmessage(listener) {\n      if (this._onmessageListener)\n        this.removeEventListener("message", this._onmessageListener);\n      this._onmessageListener = listener;\n      if (this._onmessageListener)\n        this.addEventListener("message", this._onmessageListener);\n    }\n    send(message) {\n      if (this.readyState === _WebSocketMock.CONNECTING)\n        throw new DOMException(`Failed to execute \'send\' on \'WebSocket\': Still in CONNECTING state.`);\n      if (this.readyState !== _WebSocketMock.OPEN)\n        throw new DOMException(`WebSocket is already in CLOSING or CLOSED state.`);\n      if (this._passthrough) {\n        if (this._ws)\n          this._apiSendToServer(message);\n      } else {\n        messageToData(message, (data) => binding({ type: "onMessageFromPage", id: this._id, data }));\n      }\n    }\n    close(code, reason) {\n      if (code !== void 0 && code !== 1e3 && (code < 3e3 || code > 4999))\n        throw new DOMException(`Failed to execute \'close\' on \'WebSocket\': The close code must be either 1000, or between 3000 and 4999. ${code} is neither.`);\n      if (this.readyState === _WebSocketMock.OPEN || this.readyState === _WebSocketMock.CONNECTING)\n        this.readyState = _WebSocketMock.CLOSING;\n      if (this._passthrough)\n        this._apiCloseServer(code, reason, true);\n      else\n        binding({ type: "onClosePage", id: this._id, code, reason, wasClean: true });\n    }\n    // --- methods called from the routing API ---\n    _apiEnsureOpened() {\n      if (!this._ws)\n        this._ensureOpened();\n    }\n    _apiSendToPage(message) {\n      this._ensureOpened();\n      if (this.readyState !== _WebSocketMock.OPEN)\n        throw new DOMException(`WebSocket is already in CLOSING or CLOSED state.`);\n      this.dispatchEvent(new MessageEvent("message", { data: message, origin: this._origin, cancelable: true }));\n    }\n    _apiSendToServer(message) {\n      if (!this._ws)\n        throw new Error("Cannot send a message before connecting to the server");\n      if (this._ws.readyState === _WebSocketMock.CONNECTING)\n        this._wsBufferedMessages.push(message);\n      else\n        this._ws.send(message);\n    }\n    _apiConnect() {\n      if (this._ws)\n        throw new Error("Can only connect to the server once");\n      this._ws = new NativeWebSocket(this.url, this._protocols);\n      this._ws.binaryType = this._binaryType;\n      this._ws.onopen = () => {\n        for (const message of this._wsBufferedMessages)\n          this._ws.send(message);\n        this._wsBufferedMessages = [];\n        this._ensureOpened();\n      };\n      this._ws.onclose = (event) => {\n        this._onWSClose(event.code, event.reason, event.wasClean);\n      };\n      this._ws.onmessage = (event) => {\n        if (this._passthrough)\n          this._apiSendToPage(event.data);\n        else\n          messageToData(event.data, (data) => binding({ type: "onMessageFromServer", id: this._id, data }));\n      };\n      this._ws.onerror = () => {\n        const event = new Event("error", { cancelable: true });\n        this.dispatchEvent(event);\n      };\n    }\n    // This method connects to the server, and passes all messages through,\n    // as if WebSocketMock was not engaged.\n    _apiPassThrough() {\n      this._passthrough = true;\n      this._apiConnect();\n    }\n    _apiCloseServer(code, reason, wasClean) {\n      if (!this._ws) {\n        this._onWSClose(code, reason, wasClean);\n        return;\n      }\n      if (this._ws.readyState === _WebSocketMock.CONNECTING || this._ws.readyState === _WebSocketMock.OPEN)\n        this._ws.close(code, reason);\n    }\n    _apiClosePage(code, reason, wasClean) {\n      if (this.readyState === _WebSocketMock.CLOSED)\n        return;\n      this.readyState = _WebSocketMock.CLOSED;\n      this.dispatchEvent(new CloseEvent("close", { code, reason, wasClean, cancelable: true }));\n      this._maybeCleanup();\n      if (this._passthrough)\n        this._apiCloseServer(code, reason, wasClean);\n      else\n        binding({ type: "onClosePage", id: this._id, code, reason, wasClean });\n    }\n    // --- internals ---\n    _ensureOpened() {\n      var _a;\n      if (this.readyState !== _WebSocketMock.CONNECTING)\n        return;\n      this.extensions = ((_a = this._ws) == null ? void 0 : _a.extensions) || "";\n      if (this._ws)\n        this.protocol = this._ws.protocol;\n      else if (Array.isArray(this._protocols))\n        this.protocol = this._protocols[0] || "";\n      else\n        this.protocol = this._protocols || "";\n      this.readyState = _WebSocketMock.OPEN;\n      this.dispatchEvent(new Event("open", { cancelable: true }));\n    }\n    _onWSClose(code, reason, wasClean) {\n      if (this._passthrough)\n        this._apiClosePage(code, reason, wasClean);\n      else\n        binding({ type: "onCloseServer", id: this._id, code, reason, wasClean });\n      if (this._ws) {\n        this._ws.onopen = null;\n        this._ws.onclose = null;\n        this._ws.onmessage = null;\n        this._ws.onerror = null;\n        this._ws = void 0;\n        this._wsBufferedMessages = [];\n      }\n      this._maybeCleanup();\n    }\n    _maybeCleanup() {\n      if (this.readyState === _WebSocketMock.CLOSED && !this._ws)\n        idToWebSocket.delete(this._id);\n    }\n  };\n  _WebSocketMock.CONNECTING = 0;\n  // WebSocket.CONNECTING\n  _WebSocketMock.OPEN = 1;\n  // WebSocket.OPEN\n  _WebSocketMock.CLOSING = 2;\n  // WebSocket.CLOSING\n  _WebSocketMock.CLOSED = 3;\n  let WebSocketMock = _WebSocketMock;\n  globalThis.WebSocket = class WebSocket extends WebSocketMock {\n  };\n}\n'},"./node_modules/playwright-core/lib/inProcessFactory.js":(e,t,n)=>{"use strict";var r,o=Object.defineProperty,i=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,l={};((e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})})(l,{createInProcessPlaywright:()=>f}),e.exports=(r=l,((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let n of s(t))a.call(e,n)||undefined===n||o(e,n,{get:()=>t[n],enumerable:!(r=i(t,n))||r.enumerable});return e})(o({},"__esModule",{value:!0}),r));var c=n("./node_modules/playwright-core/lib/androidServerImpl.js"),u=n("./node_modules/playwright-core/lib/browserServerImpl.js"),d=n("./node_modules/playwright-core/lib/server/index.js"),h=n("./node_modules/playwright-core/lib/server/utils/nodePlatform.js"),p=n("./node_modules/playwright-core/lib/client/connection.js");function f(){const e=(0,d.createPlaywright)({sdkLanguage:process.env.PW_LANG_NAME||"javascript"}),t=new p.Connection(h.nodePlatform);t.useRawBuffers();const n=new d.DispatcherConnection(!0);n.onmessage=e=>t.dispatch(e),t.onmessage=e=>n.dispatch(e);const r=new d.RootDispatcher(n);new d.PlaywrightDispatcher(r,e);const o=t.getObjectWithKnownName("Playwright");return o.chromium._serverLauncher=new u.BrowserServerLauncherImpl("chromium"),o.firefox._serverLauncher=new u.BrowserServerLauncherImpl("firefox"),o.webkit._serverLauncher=new u.BrowserServerLauncherImpl("webkit"),o._android._serverLauncher=new c.AndroidServerLauncherImpl,o._bidiChromium._serverLauncher=new u.BrowserServerLauncherImpl("_bidiChromium"),o._bidiFirefox._serverLauncher=new u.BrowserServerLauncherImpl("_bidiFirefox"),n.onmessage=e=>setImmediate(()=>t.dispatch(e)),t.onmessage=e=>setImmediate(()=>n.dispatch(e)),t.toImpl=e=>e instanceof p.Connection?e===t?n:void 0:e?n._dispatcherByGuid.get(e._guid)._object:n._dispatcherByGuid.get(""),o}},"./node_modules/playwright-core/lib/inprocess.js":(e,t,n)=>{"use strict";var r=n("./node_modules/playwright-core/lib/inProcessFactory.js");e.exports=(0,r.createInProcessPlaywright)()},"./node_modules/playwright-core/lib/protocol/serializers.js":e=>{"use strict";var t,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,i=Object.prototype.hasOwnProperty,s={};function a(e,t){return l(e,t,new Map,[])}function l(e,t,n,r){if(void 0!==e.ref)return n.get(e.ref);if(void 0!==e.n)return e.n;if(void 0!==e.s)return e.s;if(void 0!==e.b)return e.b;if(void 0!==e.v){if("undefined"===e.v)return;if("null"===e.v)return null;if("NaN"===e.v)return NaN;if("Infinity"===e.v)return 1/0;if("-Infinity"===e.v)return-1/0;if("-0"===e.v)return-0}if(void 0!==e.d)return new Date(e.d);if(void 0!==e.u)return new URL(e.u);if(void 0!==e.bi)return BigInt(e.bi);if(void 0!==e.e){const t=new Error(e.e.m);return t.name=e.e.n,t.stack=e.e.s,t}if(void 0!==e.r)return new RegExp(e.r.p,e.r.f);if(void 0!==e.ta){const t=p[e.ta.k];return new t(e.ta.b.buffer,e.ta.b.byteOffset,e.ta.b.length/t.BYTES_PER_ELEMENT)}if(void 0!==e.a){const o=[];n.set(e.id,o);for(let i=0;i<e.a.length;i++)o.push(l(e.a[i],t,n,[...r,i]));return o}if(void 0!==e.o){const o={};n.set(e.id,o);for(const{k:i,v:s}of e.o)o[i]=l(s,t,n,[...r,i]);return o}if(void 0!==e.h){if(void 0===t)throw new Error("Unexpected handle");return t[e.h]}throw new Error(`Attempting to deserialize unexpected value${d(r)}: ${e}`)}function c(e,t){return u(e,t,{lastId:0,visited:new Map},[])}function u(e,t,n,r){const o=t(e);if(!("fallThrough"in o))return o;if("symbol"==typeof(e=o.fallThrough))return{v:"undefined"};if(Object.is(e,void 0))return{v:"undefined"};if(Object.is(e,null))return{v:"null"};if(Object.is(e,NaN))return{v:"NaN"};if(Object.is(e,1/0))return{v:"Infinity"};if(Object.is(e,-1/0))return{v:"-Infinity"};if(Object.is(e,-0))return{v:"-0"};if("boolean"==typeof e)return{b:e};if("number"==typeof e)return{n:e};if("string"==typeof e)return{s:e};if("bigint"==typeof e)return{bi:e.toString()};if(h(e))return{e:{n:e.name,m:e.message,s:e.stack||""}};if((i=e)instanceof Date||"[object Date]"===Object.prototype.toString.call(i))return{d:e.toJSON()};var i;if(function(e){return e instanceof URL||"[object URL]"===Object.prototype.toString.call(e)}(e))return{u:e.toJSON()};if(function(e){return e instanceof RegExp||"[object RegExp]"===Object.prototype.toString.call(e)}(e))return{r:{p:e.source,f:e.flags}};const s=f.get(e.constructor);if(s)return{ta:{b:Buffer.from(e.buffer,e.byteOffset,e.byteLength),k:s}};const a=n.visited.get(e);if(a)return{ref:a};if(Array.isArray(e)){const o=[],i=++n.lastId;n.visited.set(e,i);for(let i=0;i<e.length;++i)o.push(u(e[i],t,n,[...r,i]));return{a:o,id:i}}if("object"==typeof e){const o=[],i=++n.lastId;n.visited.set(e,i);for(const i of Object.keys(e))o.push({k:i,v:u(e[i],t,n,[...r,i])});return{o,id:i}}throw new Error(`Attempting to serialize unexpected value${d(r)}: ${e}`)}function d(e){const t=e.map((e,t)=>"string"==typeof e?t?`.${e}`:e:`[${e}]`).join("");return t.length>0?` at position "${t}"`:""}function h(e){const t=e?Object.getPrototypeOf(e):null;return e instanceof Error||"Error"===t?.name||t&&h(t)}((e,t)=>{for(var r in t)n(e,r,{get:t[r],enumerable:!0})})(s,{parseSerializedValue:()=>a,serializeValue:()=>c}),e.exports=(t=s,((e,t,s,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let s of o(t))i.call(e,s)||undefined===s||n(e,s,{get:()=>t[s],enumerable:!(a=r(t,s))||a.enumerable});return e})(n({},"__esModule",{value:!0}),t));const p={i8:Int8Array,ui8:Uint8Array,ui8c:Uint8ClampedArray,i16:Int16Array,ui16:Uint16Array,i32:Int32Array,ui32:Uint32Array,f32:Float32Array,f64:Float64Array,bi64:BigInt64Array,bui64:BigUint64Array},f=new Map(Object.entries(p).map(([e,t])=>[t,e]))},"./node_modules/playwright-core/lib/protocol/validator.js":(e,t,n)=>{"use strict";var r,o=Object.defineProperty,i=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,l={};((e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})})(l,{ValidationError:()=>u.ValidationError,createMetadataValidator:()=>u.createMetadataValidator,findValidator:()=>u.findValidator,maybeFindValidator:()=>u.maybeFindValidator}),e.exports=(r=l,((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let n of s(t))a.call(e,n)||undefined===n||o(e,n,{get:()=>t[n],enumerable:!(r=i(t,n))||r.enumerable});return e})(o({},"__esModule",{value:!0}),r));var c=n("./node_modules/playwright-core/lib/protocol/validatorPrimitives.js"),u=n("./node_modules/playwright-core/lib/protocol/validatorPrimitives.js");c.scheme.StackFrame=(0,c.tObject)({file:c.tString,line:c.tInt,column:c.tInt,function:(0,c.tOptional)(c.tString)}),c.scheme.Metadata=(0,c.tObject)({location:(0,c.tOptional)((0,c.tObject)({file:c.tString,line:(0,c.tOptional)(c.tInt),column:(0,c.tOptional)(c.tInt)})),title:(0,c.tOptional)(c.tString),internal:(0,c.tOptional)(c.tBoolean),stepId:(0,c.tOptional)(c.tString)}),c.scheme.ClientSideCallMetadata=(0,c.tObject)({id:c.tInt,stack:(0,c.tOptional)((0,c.tArray)((0,c.tType)("StackFrame")))}),c.scheme.Point=(0,c.tObject)({x:c.tFloat,y:c.tFloat}),c.scheme.Rect=(0,c.tObject)({x:c.tFloat,y:c.tFloat,width:c.tFloat,height:c.tFloat}),c.scheme.SerializedValue=(0,c.tObject)({n:(0,c.tOptional)(c.tFloat),b:(0,c.tOptional)(c.tBoolean),s:(0,c.tOptional)(c.tString),v:(0,c.tOptional)((0,c.tEnum)(["null","undefined","NaN","Infinity","-Infinity","-0"])),d:(0,c.tOptional)(c.tString),u:(0,c.tOptional)(c.tString),bi:(0,c.tOptional)(c.tString),ta:(0,c.tOptional)((0,c.tObject)({b:c.tBinary,k:(0,c.tEnum)(["i8","ui8","ui8c","i16","ui16","i32","ui32","f32","f64","bi64","bui64"])})),e:(0,c.tOptional)((0,c.tObject)({m:c.tString,n:c.tString,s:c.tString})),r:(0,c.tOptional)((0,c.tObject)({p:c.tString,f:c.tString})),a:(0,c.tOptional)((0,c.tArray)((0,c.tType)("SerializedValue"))),o:(0,c.tOptional)((0,c.tArray)((0,c.tObject)({k:c.tString,v:(0,c.tType)("SerializedValue")}))),h:(0,c.tOptional)(c.tInt),id:(0,c.tOptional)(c.tInt),ref:(0,c.tOptional)(c.tInt)}),c.scheme.SerializedArgument=(0,c.tObject)({value:(0,c.tType)("SerializedValue"),handles:(0,c.tArray)((0,c.tChannel)("*"))}),c.scheme.ExpectedTextValue=(0,c.tObject)({string:(0,c.tOptional)(c.tString),regexSource:(0,c.tOptional)(c.tString),regexFlags:(0,c.tOptional)(c.tString),matchSubstring:(0,c.tOptional)(c.tBoolean),ignoreCase:(0,c.tOptional)(c.tBoolean),normalizeWhiteSpace:(0,c.tOptional)(c.tBoolean)}),c.scheme.SelectorEngine=(0,c.tObject)({name:c.tString,source:c.tString,contentScript:(0,c.tOptional)(c.tBoolean)}),c.scheme.AXNode=(0,c.tObject)({role:c.tString,name:c.tString,valueString:(0,c.tOptional)(c.tString),valueNumber:(0,c.tOptional)(c.tFloat),description:(0,c.tOptional)(c.tString),keyshortcuts:(0,c.tOptional)(c.tString),roledescription:(0,c.tOptional)(c.tString),valuetext:(0,c.tOptional)(c.tString),disabled:(0,c.tOptional)(c.tBoolean),expanded:(0,c.tOptional)(c.tBoolean),focused:(0,c.tOptional)(c.tBoolean),modal:(0,c.tOptional)(c.tBoolean),multiline:(0,c.tOptional)(c.tBoolean),multiselectable:(0,c.tOptional)(c.tBoolean),readonly:(0,c.tOptional)(c.tBoolean),required:(0,c.tOptional)(c.tBoolean),selected:(0,c.tOptional)(c.tBoolean),checked:(0,c.tOptional)((0,c.tEnum)(["checked","unchecked","mixed"])),pressed:(0,c.tOptional)((0,c.tEnum)(["pressed","released","mixed"])),level:(0,c.tOptional)(c.tInt),valuemin:(0,c.tOptional)(c.tFloat),valuemax:(0,c.tOptional)(c.tFloat),autocomplete:(0,c.tOptional)(c.tString),haspopup:(0,c.tOptional)(c.tString),invalid:(0,c.tOptional)(c.tString),orientation:(0,c.tOptional)(c.tString),children:(0,c.tOptional)((0,c.tArray)((0,c.tType)("AXNode")))}),c.scheme.SetNetworkCookie=(0,c.tObject)({name:c.tString,value:c.tString,url:(0,c.tOptional)(c.tString),domain:(0,c.tOptional)(c.tString),path:(0,c.tOptional)(c.tString),expires:(0,c.tOptional)(c.tFloat),httpOnly:(0,c.tOptional)(c.tBoolean),secure:(0,c.tOptional)(c.tBoolean),sameSite:(0,c.tOptional)((0,c.tEnum)(["Strict","Lax","None"])),partitionKey:(0,c.tOptional)(c.tString),_crHasCrossSiteAncestor:(0,c.tOptional)(c.tBoolean)}),c.scheme.NetworkCookie=(0,c.tObject)({name:c.tString,value:c.tString,domain:c.tString,path:c.tString,expires:c.tFloat,httpOnly:c.tBoolean,secure:c.tBoolean,sameSite:(0,c.tEnum)(["Strict","Lax","None"]),partitionKey:(0,c.tOptional)(c.tString),_crHasCrossSiteAncestor:(0,c.tOptional)(c.tBoolean)}),c.scheme.NameValue=(0,c.tObject)({name:c.tString,value:c.tString}),c.scheme.IndexedDBDatabase=(0,c.tObject)({name:c.tString,version:c.tInt,stores:(0,c.tArray)((0,c.tObject)({name:c.tString,autoIncrement:c.tBoolean,keyPath:(0,c.tOptional)(c.tString),keyPathArray:(0,c.tOptional)((0,c.tArray)(c.tString)),records:(0,c.tArray)((0,c.tObject)({key:(0,c.tOptional)(c.tAny),keyEncoded:(0,c.tOptional)(c.tAny),value:(0,c.tOptional)(c.tAny),valueEncoded:(0,c.tOptional)(c.tAny)})),indexes:(0,c.tArray)((0,c.tObject)({name:c.tString,keyPath:(0,c.tOptional)(c.tString),keyPathArray:(0,c.tOptional)((0,c.tArray)(c.tString)),multiEntry:c.tBoolean,unique:c.tBoolean}))}))}),c.scheme.SetOriginStorage=(0,c.tObject)({origin:c.tString,localStorage:(0,c.tArray)((0,c.tType)("NameValue")),indexedDB:(0,c.tOptional)((0,c.tArray)((0,c.tType)("IndexedDBDatabase")))}),c.scheme.OriginStorage=(0,c.tObject)({origin:c.tString,localStorage:(0,c.tArray)((0,c.tType)("NameValue")),indexedDB:(0,c.tOptional)((0,c.tArray)((0,c.tType)("IndexedDBDatabase")))}),c.scheme.SerializedError=(0,c.tObject)({error:(0,c.tOptional)((0,c.tObject)({message:c.tString,name:c.tString,stack:(0,c.tOptional)(c.tString)})),value:(0,c.tOptional)((0,c.tType)("SerializedValue"))}),c.scheme.RecordHarOptions=(0,c.tObject)({zip:(0,c.tOptional)(c.tBoolean),content:(0,c.tOptional)((0,c.tEnum)(["embed","attach","omit"])),mode:(0,c.tOptional)((0,c.tEnum)(["full","minimal"])),urlGlob:(0,c.tOptional)(c.tString),urlRegexSource:(0,c.tOptional)(c.tString),urlRegexFlags:(0,c.tOptional)(c.tString)}),c.scheme.FormField=(0,c.tObject)({name:c.tString,value:(0,c.tOptional)(c.tString),file:(0,c.tOptional)((0,c.tObject)({name:c.tString,mimeType:(0,c.tOptional)(c.tString),buffer:c.tBinary}))}),c.scheme.SDKLanguage=(0,c.tEnum)(["javascript","python","java","csharp"]),c.scheme.APIRequestContextInitializer=(0,c.tObject)({tracing:(0,c.tChannel)(["Tracing"])}),c.scheme.APIRequestContextFetchParams=(0,c.tObject)({url:c.tString,encodedParams:(0,c.tOptional)(c.tString),params:(0,c.tOptional)((0,c.tArray)((0,c.tType)("NameValue"))),method:(0,c.tOptional)(c.tString),headers:(0,c.tOptional)((0,c.tArray)((0,c.tType)("NameValue"))),postData:(0,c.tOptional)(c.tBinary),jsonData:(0,c.tOptional)(c.tString),formData:(0,c.tOptional)((0,c.tArray)((0,c.tType)("NameValue"))),multipartData:(0,c.tOptional)((0,c.tArray)((0,c.tType)("FormField"))),timeout:c.tFloat,failOnStatusCode:(0,c.tOptional)(c.tBoolean),ignoreHTTPSErrors:(0,c.tOptional)(c.tBoolean),maxRedirects:(0,c.tOptional)(c.tInt),maxRetries:(0,c.tOptional)(c.tInt)}),c.scheme.APIRequestContextFetchResult=(0,c.tObject)({response:(0,c.tType)("APIResponse")}),c.scheme.APIRequestContextFetchResponseBodyParams=(0,c.tObject)({fetchUid:c.tString}),c.scheme.APIRequestContextFetchResponseBodyResult=(0,c.tObject)({binary:(0,c.tOptional)(c.tBinary)}),c.scheme.APIRequestContextFetchLogParams=(0,c.tObject)({fetchUid:c.tString}),c.scheme.APIRequestContextFetchLogResult=(0,c.tObject)({log:(0,c.tArray)(c.tString)}),c.scheme.APIRequestContextStorageStateParams=(0,c.tObject)({indexedDB:(0,c.tOptional)(c.tBoolean)}),c.scheme.APIRequestContextStorageStateResult=(0,c.tObject)({cookies:(0,c.tArray)((0,c.tType)("NetworkCookie")),origins:(0,c.tArray)((0,c.tType)("OriginStorage"))}),c.scheme.APIRequestContextDisposeAPIResponseParams=(0,c.tObject)({fetchUid:c.tString}),c.scheme.APIRequestContextDisposeAPIResponseResult=(0,c.tOptional)((0,c.tObject)({})),c.scheme.APIRequestContextDisposeParams=(0,c.tObject)({reason:(0,c.tOptional)(c.tString)}),c.scheme.APIRequestContextDisposeResult=(0,c.tOptional)((0,c.tObject)({})),c.scheme.APIResponse=(0,c.tObject)({fetchUid:c.tString,url:c.tString,status:c.tInt,statusText:c.tString,headers:(0,c.tArray)((0,c.tType)("NameValue"))}),c.scheme.LifecycleEvent=(0,c.tEnum)(["load","domcontentloaded","networkidle","commit"]),c.scheme.LocalUtilsInitializer=(0,c.tObject)({deviceDescriptors:(0,c.tArray)((0,c.tObject)({name:c.tString,descriptor:(0,c.tObject)({userAgent:c.tString,viewport:(0,c.tObject)({width:c.tInt,height:c.tInt}),screen:(0,c.tOptional)((0,c.tObject)({width:c.tInt,height:c.tInt})),deviceScaleFactor:c.tFloat,isMobile:c.tBoolean,hasTouch:c.tBoolean,defaultBrowserType:(0,c.tEnum)(["chromium","firefox","webkit"])})}))}),c.scheme.LocalUtilsZipParams=(0,c.tObject)({zipFile:c.tString,entries:(0,c.tArray)((0,c.tType)("NameValue")),stacksId:(0,c.tOptional)(c.tString),mode:(0,c.tEnum)(["write","append"]),includeSources:c.tBoolean}),c.scheme.LocalUtilsZipResult=(0,c.tOptional)((0,c.tObject)({})),c.scheme.LocalUtilsHarOpenParams=(0,c.tObject)({file:c.tString}),c.scheme.LocalUtilsHarOpenResult=(0,c.tObject)({harId:(0,c.tOptional)(c.tString),error:(0,c.tOptional)(c.tString)}),c.scheme.LocalUtilsHarLookupParams=(0,c.tObject)({harId:c.tString,url:c.tString,method:c.tString,headers:(0,c.tArray)((0,c.tType)("NameValue")),postData:(0,c.tOptional)(c.tBinary),isNavigationRequest:c.tBoolean}),c.scheme.LocalUtilsHarLookupResult=(0,c.tObject)({action:(0,c.tEnum)(["error","redirect","fulfill","noentry"]),message:(0,c.tOptional)(c.tString),redirectURL:(0,c.tOptional)(c.tString),status:(0,c.tOptional)(c.tInt),headers:(0,c.tOptional)((0,c.tArray)((0,c.tType)("NameValue"))),body:(0,c.tOptional)(c.tBinary)}),c.scheme.LocalUtilsHarCloseParams=(0,c.tObject)({harId:c.tString}),c.scheme.LocalUtilsHarCloseResult=(0,c.tOptional)((0,c.tObject)({})),c.scheme.LocalUtilsHarUnzipParams=(0,c.tObject)({zipFile:c.tString,harFile:c.tString}),c.scheme.LocalUtilsHarUnzipResult=(0,c.tOptional)((0,c.tObject)({})),c.scheme.LocalUtilsConnectParams=(0,c.tObject)({wsEndpoint:c.tString,headers:(0,c.tOptional)(c.tAny),exposeNetwork:(0,c.tOptional)(c.tString),slowMo:(0,c.tOptional)(c.tFloat),timeout:c.tFloat,socksProxyRedirectPortForTest:(0,c.tOptional)(c.tInt)}),c.scheme.LocalUtilsConnectResult=(0,c.tObject)({pipe:(0,c.tChannel)(["JsonPipe"]),headers:(0,c.tArray)((0,c.tType)("NameValue"))}),c.scheme.LocalUtilsTracingStartedParams=(0,c.tObject)({tracesDir:(0,c.tOptional)(c.tString),traceName:c.tString}),c.scheme.LocalUtilsTracingStartedResult=(0,c.tObject)({stacksId:c.tString}),c.scheme.LocalUtilsAddStackToTracingNoReplyParams=(0,c.tObject)({callData:(0,c.tType)("ClientSideCallMetadata")}),c.scheme.LocalUtilsAddStackToTracingNoReplyResult=(0,c.tOptional)((0,c.tObject)({})),c.scheme.LocalUtilsTraceDiscardedParams=(0,c.tObject)({stacksId:c.tString}),c.scheme.LocalUtilsTraceDiscardedResult=(0,c.tOptional)((0,c.tObject)({})),c.scheme.LocalUtilsGlobToRegexParams=(0,c.tObject)({glob:c.tString,baseURL:(0,c.tOptional)(c.tString),webSocketUrl:(0,c.tOptional)(c.tBoolean)}),c.scheme.LocalUtilsGlobToRegexResult=(0,c.tObject)({regex:c.tString}),c.scheme.RootInitializer=(0,c.tOptional)((0,c.tObject)({})),c.scheme.RootInitializeParams=(0,c.tObject)({sdkLanguage:(0,c.tType)("SDKLanguage")}),c.scheme.RootInitializeResult=(0,c.tObject)({playwright:(0,c.tChannel)(["Playwright"])}),c.scheme.PlaywrightInitializer=(0,c.tObject)({chromium:(0,c.tChannel)(["BrowserType"]),firefox:(0,c.tChannel)(["BrowserType"]),webkit:(0,c.tChannel)(["BrowserType"]),_bidiChromium:(0,c.tChannel)(["BrowserType"]),_bidiFirefox:(0,c.tChannel)(["BrowserType"]),android:(0,c.tChannel)(["Android"]),electron:(0,c.tChannel)(["Electron"]),utils:(0,c.tOptional)((0,c.tChannel)(["LocalUtils"])),preLaunchedBrowser:(0,c.tOptional)((0,c.tChannel)(["Browser"])),preConnectedAndroidDevice:(0,c.tOptional)((0,c.tChannel)(["AndroidDevice"])),socksSupport:(0,c.tOptional)((0,c.tChannel)(["SocksSupport"]))}),c.scheme.PlaywrightNewRequestParams=(0,c.tObject)({baseURL:(0,c.tOptional)(c.tString),userAgent:(0,c.tOptional)(c.tString),ignoreHTTPSErrors:(0,c.tOptional)(c.tBoolean),extraHTTPHeaders:(0,c.tOptional)((0,c.tArray)((0,c.tType)("NameValue"))),failOnStatusCode:(0,c.tOptional)(c.tBoolean),clientCertificates:(0,c.tOptional)((0,c.tArray)((0,c.tObject)({origin:c.tString,cert:(0,c.tOptional)(c.tBinary),key:(0,c.tOptional)(c.tBinary),passphrase:(0,c.tOptional)(c.tString),pfx:(0,c.tOptional)(c.tBinary)}))),maxRedirects:(0,c.tOptional)(c.tInt),httpCredentials:(0,c.tOptional)((0,c.tObject)({username:c.tString,password:c.tString,origin:(0,c.tOptional)(c.tString),send:(0,c.tOptional)((0,c.tEnum)(["always","unauthorized"]))})),proxy:(0,c.tOptional)((0,c.tObject)({server:c.tString,bypass:(0,c.tOptional)(c.tString),username:(0,c.tOptional)(c.tString),password:(0,c.tOptional)(c.tString)})),storageState:(0,c.tOptional)((0,c.tObject)({cookies:(0,c.tOptional)((0,c.tArray)((0,c.tType)("NetworkCookie"))),origins:(0,c.tOptional)((0,c.tArray)((0,c.tType)("SetOriginStorage")))})),tracesDir:(0,c.tOptional)(c.tString)}),c.scheme.PlaywrightNewRequestResult=(0,c.tObject)({request:(0,c.tChannel)(["APIRequestContext"])}),c.scheme.RecorderSource=(0,c.tObject)({isRecorded:c.tBoolean,id:c.tString,label:c.tString,text:c.tString,language:c.tString,highlight:(0,c.tArray)((0,c.tObject)({line:c.tInt,type:c.tString})),revealLine:(0,c.tOptional)(c.tInt),group:(0,c.tOptional)(c.tString)}),c.scheme.DebugControllerInitializer=(0,c.tOptional)((0,c.tObject)({})),c.scheme.DebugControllerInspectRequestedEvent=(0,c.tObject)({selector:c.tString,locator:c.tString,ariaSnapshot:c.tString}),c.scheme.DebugControllerSetModeRequestedEvent=(0,c.tObject)({mode:c.tString}),c.scheme.DebugControllerStateChangedEvent=(0,c.tObject)({pageCount:c.tInt,browsers:(0,c.tArray)((0,c.tObject)({id:c.tString,name:c.tString,channel:(0,c.tOptional)(c.tString),contexts:(0,c.tArray)((0,c.tObject)({pages:(0,c.tArray)((0,c.tObject)({url:c.tString}))}))}))}),c.scheme.DebugControllerSourceChangedEvent=(0,c.tObject)({text:c.tString,header:(0,c.tOptional)(c.tString),footer:(0,c.tOptional)(c.tString),actions:(0,c.tOptional)((0,c.tArray)(c.tString))}),c.scheme.DebugControllerPausedEvent=(0,c.tObject)({paused:c.tBoolean}),c.scheme.DebugControllerInitializeParams=(0,c.tObject)({codegenId:c.tString,sdkLanguage:(0,c.tType)("SDKLanguage")}),c.scheme.DebugControllerInitializeResult=(0,c.tOptional)((0,c.tObject)({})),c.scheme.DebugControllerSetReportStateChangedParams=(0,c.tObject)({enabled:c.tBoolean}),c.scheme.DebugControllerSetReportStateChangedResult=(0,c.tOptional)((0,c.tObject)({})),c.scheme.DebugControllerSetRecorderModeParams=(0,c.tObject)({browserId:(0,c.tOptional)(c.tString),mode:(0,c.tEnum)(["inspecting","recording","none"]),testIdAttributeName:(0,c.tOptional)(c.tString),generateAutoExpect:(0,c.tOptional)(c.tBoolean)}),c.scheme.DebugControllerSetRecorderModeResult=(0,c.tOptional)((0,c.tObject)({})),c.scheme.DebugControllerHighlightParams=(0,c.tObject)({selector:(0,c.tOptional)(c.tString),ariaTemplate:(0,c.tOptional)(c.tString)}),c.scheme.DebugControllerHighlightResult=(0,c.tOptional)((0,c.tObject)({})),c.scheme.DebugControllerHideHighlightParams=(0,c.tOptional)((0,c.tObject)({})),c.scheme.DebugControllerHideHighlightResult=(0,c.tOptional)((0,c.tObject)({})),c.scheme.DebugControllerResumeParams=(0,c.tOptional)((0,c.tObject)({})),c.scheme.DebugControllerResumeResult=(0,c.tOptional)((0,c.tObject)({})),c.scheme.DebugControllerCloseBrowserParams=(0,c.tObject)({id:c.tString,reason:(0,c.tOptional)(c.tString)}),c.scheme.DebugControllerCloseBrowserResult=(0,c.tOptional)((0,c.tObject)({})),c.scheme.DebugControllerKillParams=(0,c.tOptional)((0,c.tObject)({})),c.scheme.DebugControllerKillResult=(0,c.tOptional)((0,c.tObject)({})),c.scheme.SocksSupportInitializer=(0,c.tOptional)((0,c.tObject)({})),c.scheme.SocksSupportSocksRequestedEvent=(0,c.tObject)({uid:c.tString,host:c.tString,port:c.tInt}),c.scheme.SocksSupportSocksDataEvent=(0,c.tObject)({uid:c.tString,data:c.tBinary}),c.scheme.SocksSupportSocksClosedEvent=(0,c.tObject)({uid:c.tString}),c.scheme.SocksSupportSocksConnectedParams=(0,c.tObject)({uid:c.tString,host:c.tString,port:c.tInt}),c.scheme.SocksSupportSocksConnectedResult=(0,c.tOptional)((0,c.tObject)({})),c.scheme.SocksSupportSocksFailedParams=(0,c.tObject)({uid:c.tString,errorCode:c.tString}),c.scheme.SocksSupportSocksFailedResult=(0,c.tOptional)((0,c.tObject)({})),c.scheme.SocksSupportSocksDataParams=(0,c.tObject)({uid:c.tString,data:c.tBinary}),c.scheme.SocksSupportSocksDataResult=(0,c.tOptional)((0,c.tObject)({})),c.scheme.SocksSupportSocksErrorParams=(0,c.tObject)({uid:c.tString,error:c.tString}),c.scheme.SocksSupportSocksErrorResult=(0,c.tOptional)((0,c.tObject)({})),c.scheme.SocksSupportSocksEndParams=(0,c.tObject)({uid:c.tString}),c.scheme.SocksSupportSocksEndResult=(0,c.tOptional)((0,c.tObject)({})),c.scheme.BrowserTypeInitializer=(0,c.tObject)({executablePath:c.tString,name:c.tString}),c.scheme.BrowserTypeLaunchParams=(0,c.tObject)({channel:(0,c.tOptional)(c.tString),executablePath:(0,c.tOptional)(c.tString),args:(0,c.tOptional)((0,c.tArray)(c.tString)),ignoreAllDefaultArgs:(0,c.tOptional)(c.tBoolean),ignoreDefaultArgs:(0,c.tOptional)((0,c.tArray)(c.tString)),assistantMode:(0,c.tOptional)(c.tBoolean),handleSIGINT:(0,c.tOptional)(c.tBoolean),handleSIGTERM:(0,c.tOptional)(c.tBoolean),handleSIGHUP:(0,c.tOptional)(c.tBoolean),timeout:c.tFloat,env:(0,c.tOptional)((0,c.tArray)((0,c.tType)("NameValue"))),headless:(0,c.tOptional)(c.tBoolean),devtools:(0,c.tOptional)(c.tBoolean),proxy:(0,c.tOptional)((0,c.tObject)({server:c.tString,bypass:(0,c.tOptional)(c.tString),username:(0,c.tOptional)(c.tString),password:(0,c.tOptional)(c.tString)})),downloadsPath:(0,c.tOptional)(c.tString),tracesDir:(0,c.tOptional)(c.tString),chromiumSandbox:(0,c.tOptional)(c.tBoolean),firefoxUserPrefs:(0,c.tOptional)(c.tAny),cdpPort:(0,c.tOptional)(c.tInt),slowMo:(0,c.tOptional)(c.tFloat)}),c.scheme.BrowserTypeLaunchResult=(0,c.tObject)({browser:(0,c.tChannel)(["Browser"])}),c.scheme.BrowserTypeLaunchPersistentContextParams=(0,c.tObject)({channel:(0,c.tOptional)(c.tString),executablePath:(0,c.tOptional)(c.tString),args:(0,c.tOptional)((0,c.tArray)(c.tString)),ignoreAllDefaultArgs:(0,c.tOptional)(c.tBoolean),ignoreDefaultArgs:(0,c.tOptional)((0,c.tArray)(c.tString)),assistantMode:(0,c.tOptional)(c.tBoolean),handleSIGINT:(0,c.tOptional)(c.tBoolean),handleSIGTERM:(0,c.tOptional)(c.tBoolean),handleSIGHUP:(0,c.tOptional)(c.tBoolean),timeout:c.tFloat,env:(0,c.tOptional)((0,c.tArray)((0,c.tType)("NameValue"))),headless:(0,c.tOptional)(c.tBoolean),devtools:(0,c.tOptional)(c.tBoolean),proxy:(0,c.tOptional)((0,c.tObject)({server:c.tString,bypass:(0,c.tOptional)(c.tString),username:(0,c.tOptional)(c.tString),password:(0,c.tOptional)(c.tString)})),downloadsPath:(0,c.tOptional)(c.tString),tracesDir:(0,c.tOptional)(c.tString),chromiumSandbox:(0,c.tOptional)(c.tBoolean),firefoxUserPrefs:(0,c.tOptional)(c.tAny),cdpPort:(0,c.tOptional)(c.tInt),noDefaultViewport:(0,c.tOptional)(c.tBoolean),viewport:(0,c.tOptional)((0,c.tObject)({width:c.tInt,height:c.tInt})),screen:(0,c.tOptional)((0,c.tObject)({width:c.tInt,height:c.tInt})),ignoreHTTPSErrors:(0,c.tOptional)(c.tBoolean),clientCertificates:(0,c.tOptional)((0,c.tArray)((0,c.tObject)({origin:c.tString,cert:(0,c.tOptional)(c.tBinary),key:(0,c.tOptional)(c.tBinary),passphrase:(0,c.tOptional)(c.tString),pfx:(0,c.tOptional)(c.tBinary)}))),javaScriptEnabled:(0,c.tOptional)(c.tBoolean),bypassCSP:(0,c.tOptional)(c.tBoolean),userAgent:(0,c.tOptional)(c.tString),locale:(0,c.tOptional)(c.tString),timezoneId:(0,c.tOptional)(c.tString),geolocation:(0,c.tOptional)((0,c.tObject)({longitude:c.tFloat,latitude:c.tFloat,accuracy:(0,c.tOptional)(c.tFloat)})),permissions:(0,c.tOptional)((0,c.tArray)(c.tString)),extraHTTPHeaders:(0,c.tOptional)((0,c.tArray)((0,c.tType)("NameValue"))),offline:(0,c.tOptional)(c.tBoolean),httpCredentials:(0,c.tOptional)((0,c.tObject)({username:c.tString,password:c.tString,origin:(0,c.tOptional)(c.tString),send:(0,c.tOptional)((0,c.tEnum)(["always","unauthorized"]))})),deviceScaleFactor:(0,c.tOptional)(c.tFloat),isMobile:(0,c.tOptional)(c.tBoolean),hasTouch:(0,c.tOptional)(c.tBoolean),colorScheme:(0,c.tOptional)((0,c.tEnum)(["dark","light","no-preference","no-override"])),reducedMotion:(0,c.tOptional)((0,c.tEnum)(["reduce","no-preference","no-override"])),forcedColors:(0,c.tOptional)((0,c.tEnum)(["active","none","no-override"])),acceptDownloads:(0,c.tOptional)((0,c.tEnum)(["accept","deny","internal-browser-default"])),contrast:(0,c.tOptional)((0,c.tEnum)(["no-preference","more","no-override"])),baseURL:(0,c.tOptional)(c.tString),recordVideo:(0,c.tOptional)((0,c.tObject)({dir:c.tString,size:(0,c.tOptional)((0,c.tObject)({width:c.tInt,height:c.tInt}))})),strictSelectors:(0,c.tOptional)(c.tBoolean),serviceWorkers:(0,c.tOptional)((0,c.tEnum)(["allow","block"])),selectorEngines:(0,c.tOptional)((0,c.tArray)((0,c.tType)("SelectorEngine"))),testIdAttributeName:(0,c.tOptional)(c.tString),userDataDir:c.tString,slowMo:(0,c.tOptional)(c.tFloat)}),c.scheme.BrowserTypeLaunchPersistentContextResult=(0,c.tObject)({browser:(0,c.tChannel)(["Browser"]),context:(0,c.tChannel)(["BrowserContext"])}),c.scheme.BrowserTypeConnectOverCDPParams=(0,c.tObject)({endpointURL:c.tString,headers:(0,c.tOptional)((0,c.tArray)((0,c.tType)("NameValue"))),slowMo:(0,c.tOptional)(c.tFloat),timeout:c.tFloat}),c.scheme.BrowserTypeConnectOverCDPResult=(0,c.tObject)({browser:(0,c.tChannel)(["Browser"]),defaultContext:(0,c.tOptional)((0,c.tChannel)(["BrowserContext"]))}),c.scheme.BrowserInitializer=(0,c.tObject)({version:c.tString,name:c.tString}),c.scheme.BrowserContextEvent=(0,c.tObject)({context:(0,c.tChannel)(["BrowserContext"])}),c.scheme.BrowserCloseEvent=(0,c.tOptional)((0,c.tObject)({})),c.scheme.BrowserCloseParams=(0,c.tObject)({reason:(0,c.tOptional)(c.tString)}),c.scheme.BrowserCloseResult=(0,c.tOptional)((0,c.tObject)({})),c.scheme.BrowserKillForTestsParams=(0,c.tOptional)((0,c.tObject)({})),c.scheme.BrowserKillForTestsResult=(0,c.tOptional)((0,c.tObject)({})),c.scheme.BrowserDefaultUserAgentForTestParams=(0,c.tOptional)((0,c.tObject)({})),c.scheme.BrowserDefaultUserAgentForTestResult=(0,c.tObject)({userAgent:c.tString}),c.scheme.BrowserNewContextParams=(0,c.tObject)({noDefaultViewport:(0,c.tOptional)(c.tBoolean),viewport:(0,c.tOptional)((0,c.tObject)({width:c.tInt,height:c.tInt})),screen:(0,c.tOptional)((0,c.tObject)({width:c.tInt,height:c.tInt})),ignoreHTTPSErrors:(0,c.tOptional)(c.tBoolean),clientCertificates:(0,c.tOptional)((0,c.tArray)((0,c.tObject)({origin:c.tString,cert:(0,c.tOptional)(c.tBinary),key:(0,c.tOptional)(c.tBinary),passphrase:(0,c.tOptional)(c.tString),pfx:(0,c.tOptional)(c.tBinary)}))),javaScriptEnabled:(0,c.tOptional)(c.tBoolean),bypassCSP:(0,c.tOptional)(c.tBoolean),userAgent:(0,c.tOptional)(c.tString),locale:(0,c.tOptional)(c.tString),timezoneId:(0,c.tOptional)(c.tString),geolocation:(0,c.tOptional)((0,c.tObject)({longitude:c.tFloat,latitude:c.tFloat,accuracy:(0,c.tOptional)(c.tFloat)})),permissions:(0,c.tOptional)((0,c.tArray)(c.tString)),extraHTTPHeaders:(0,c.tOptional)((0,c.tArray)((0,c.tType)("NameValue"))),offline:(0,c.tOptional)(c.tBoolean),httpCredentials:(0,c.tOptional)((0,c.tObject)({username:c.tString,password:c.tString,origin:(0,c.tOptional)(c.tString),send:(0,c.tOptional)((0,c.tEnum)(["always","unauthorized"]))})),deviceScaleFactor:(0,c.tOptional)(c.tFloat),isMobile:(0,c.tOptional)(c.tBoolean),hasTouch:(0,c.tOptional)(c.tBoolean),colorScheme:(0,c.tOptional)((0,c.tEnum)(["dark","light","no-preference","no-override"])),reducedMotion:(0,c.tOptional)((0,c.tEnum)(["reduce","no-preference","no-override"])),forcedColors:(0,c.tOptional)((0,c.tEnum)(["active","none","no-override"])),acceptDownloads:(0,c.tOptional)((0,c.tEnum)(["accept","deny","internal-browser-default"])),contrast:(0,c.tOptional)((0,c.tEnum)(["no-preference","more","no-override"])),baseURL:(0,c.tOptional)(c.tString),recordVideo:(0,c.tOptional)((0,c.tObject)({dir:c.tString,size:(0,c.tOptional)((0,c.tObject)({width:c.tInt,height:c.tInt}))})),strictSelectors:(0,c.tOptional)(c.tBoolean),serviceWorkers:(0,c.tOptional)((0,c.tEnum)(["allow","block"])),selectorEngines:(0,c.tOptional)((0,c.tArray)((0,c.tType)("SelectorEngine"))),testIdAttributeName:(0,c.tOptional)(c.tString),proxy:(0,c.tOptional)((0,c.tObject)({server:c.tString,bypass:(0,c.tOptional)(c.tString),username:(0,c.tOptional)(c.tString),password:(0,c.tOptional)(c.tString)})),storageState:(0,c.tOptional)((0,c.tObject)({cookies:(0,c.tOptional)((0,c.tArray)((0,c.tType)("SetNetworkCookie"))),origins:(0,c.tOptional)((0,c.tArray)((0,c.tType)("SetOriginStorage")))}))}),c.scheme.BrowserNewContextResult=(0,c.tObject)({context:(0,c.tChannel)(["BrowserContext"])}),c.scheme.BrowserNewContextForReuseParams=(0,c.tObject)({noDefaultViewport:(0,c.tOptional)(c.tBoolean),viewport:(0,c.tOptional)((0,c.tObject)({width:c.tInt,height:c.tInt})),screen:(0,c.tOptional)((0,c.tObject)({width:c.tInt,height:c.tInt})),ignoreHTTPSErrors:(0,c.tOptional)(c.tBoolean),clientCertificates:(0,c.tOptional)((0,c.tArray)((0,c.tObject)({origin:c.tString,cert:(0,c.tOptional)(c.tBinary),key:(0,c.tOptional)(c.tBinary),passphrase:(0,c.tOptional)(c.tString),pfx:(0,c.tOptional)(c.tBinary)}))),javaScriptEnabled:(0,c.tOptional)(c.tBoolean),bypassCSP:(0,c.tOptional)(c.tBoolean),userAgent:(0,c.tOptional)(c.tString),locale:(0,c.tOptional)(c.tString),timezoneId:(0,c.tOptional)(c.tString),geolocation:(0,c.tOptional)((0,c.tObject)({longitude:c.tFloat,latitude:c.tFloat,accuracy:(0,c.tOptional)(c.tFloat)})),permissions:(0,c.tOptional)((0,c.tArray)(c.tString)),extraHTTPHeaders:(0,c.tOptional)((0,c.tArray)((0,c.tType)("NameValue"))),offline:(0,c.tOptional)(c.tBoolean),httpCredentials:(0,c.tOptional)((0,c.tObject)({username:c.tString,password:c.tString,origin:(0,c.tOptional)(c.tString),send:(0,c.tOptional)((0,c.tEnum)(["always","unauthorized"]))})),deviceScaleFactor:(0,c.tOptional)(c.tFloat),isMobile:(0,c.tOptional)(c.tBoolean),hasTouch:(0,c.tOptional)(c.tBoolean),colorScheme:(0,c.tOptional)((0,c.tEnum)(["dark","light","no-preference","no-override"])),reducedMotion:(0,c.tOptional)((0,c.tEnum)(["reduce","no-preference","no-override"])),forcedColors:(0,c.tOptional)((0,c.tEnum)(["active","none","no-override"])),acceptDownloads:(0,c.tOptional)((0,c.tEnum)(["accept","deny","internal-browser-default"])),contrast:(0,c.tOptional)((0,c.tEnum)(["no-preference","more","no-override"])),baseURL:(0,c.tOptional)(c.tString),recordVideo:(0,c.tOptional)((0,c.tObject)({dir:c.tString,size:(0,c.tOptional)((0,c.tObject)({width:c.tInt,height:c.tInt}))})),strictSelectors:(0,c.tOptional)(c.tBoolean),serviceWorkers:(0,c.tOptional)((0,c.tEnum)(["allow","block"])),selectorEngines:(0,c.tOptional)((0,c.tArray)((0,c.tType)("SelectorEngine"))),testIdAttributeName:(0,c.tOptional)(c.tString),proxy:(0,c.tOptional)((0,c.tObject)({server:c.tString,bypass:(0,c.tOptional)(c.tString),username:(0,c.tOptional)(c.tString),password:(0,c.tOptional)(c.tString)})),storageState:(0,c.tOptional)((0,c.tObject)({cookies:(0,c.tOptional)((0,c.tArray)((0,c.tType)("SetNetworkCookie"))),origins:(0,c.tOptional)((0,c.tArray)((0,c.tType)("SetOriginStorage")))}))}),c.scheme.BrowserNewContextForReuseResult=(0,c.tObject)({context:(0,c.tChannel)(["BrowserContext"])}),c.scheme.BrowserDisconnectFromReusedContextParams=(0,c.tObject)({reason:c.tString}),c.scheme.BrowserDisconnectFromReusedContextResult=(0,c.tOptional)((0,c.tObject)({})),c.scheme.BrowserNewBrowserCDPSessionParams=(0,c.tOptional)((0,c.tObject)({})),c.scheme.BrowserNewBrowserCDPSessionResult=(0,c.tObject)({session:(0,c.tChannel)(["CDPSession"])}),c.scheme.BrowserStartTracingParams=(0,c.tObject)({page:(0,c.tOptional)((0,c.tChannel)(["Page"])),screenshots:(0,c.tOptional)(c.tBoolean),categories:(0,c.tOptional)((0,c.tArray)(c.tString))}),c.scheme.BrowserStartTracingResult=(0,c.tOptional)((0,c.tObject)({})),c.scheme.BrowserStopTracingParams=(0,c.tOptional)((0,c.tObject)({})),c.scheme.BrowserStopTracingResult=(0,c.tObject)({artifact:(0,c.tChannel)(["Artifact"])}),c.scheme.EventTargetInitializer=(0,c.tOptional)((0,c.tObject)({})),c.scheme.EventTargetWaitForEventInfoParams=(0,c.tObject)({info:(0,c.tObject)({waitId:c.tString,phase:(0,c.tEnum)(["before","after","log"]),event:(0,c.tOptional)(c.tString),message:(0,c.tOptional)(c.tString),error:(0,c.tOptional)(c.tString)})}),c.scheme.BrowserContextWaitForEventInfoParams=(0,c.tType)("EventTargetWaitForEventInfoParams"),c.scheme.PageWaitForEventInfoParams=(0,c.tType)("EventTargetWaitForEventInfoParams"),c.scheme.WebSocketWaitForEventInfoParams=(0,c.tType)("EventTargetWaitForEventInfoParams"),c.scheme.ElectronApplicationWaitForEventInfoParams=(0,c.tType)("EventTargetWaitForEventInfoParams"),c.scheme.AndroidDeviceWaitForEventInfoParams=(0,c.tType)("EventTargetWaitForEventInfoParams"),c.scheme.EventTargetWaitForEventInfoResult=(0,c.tOptional)((0,c.tObject)({})),c.scheme.BrowserContextWaitForEventInfoResult=(0,c.tType)("EventTargetWaitForEventInfoResult"),c.scheme.PageWaitForEventInfoResult=(0,c.tType)("EventTargetWaitForEventInfoResult"),c.scheme.WebSocketWaitForEventInfoResult=(0,c.tType)("EventTargetWaitForEventInfoResult"),c.scheme.ElectronApplicationWaitForEventInfoResult=(0,c.tType)("EventTargetWaitForEventInfoResult"),c.scheme.AndroidDeviceWaitForEventInfoResult=(0,c.tType)("EventTargetWaitForEventInfoResult"),c.scheme.BrowserContextInitializer=(0,c.tObject)({isChromium:c.tBoolean,requestContext:(0,c.tChannel)(["APIRequestContext"]),tracing:(0,c.tChannel)(["Tracing"]),options:(0,c.tObject)({noDefaultViewport:(0,c.tOptional)(c.tBoolean),viewport:(0,c.tOptional)((0,c.tObject)({width:c.tInt,height:c.tInt})),screen:(0,c.tOptional)((0,c.tObject)({width:c.tInt,height:c.tInt})),ignoreHTTPSErrors:(0,c.tOptional)(c.tBoolean),clientCertificates:(0,c.tOptional)((0,c.tArray)((0,c.tObject)({origin:c.tString,cert:(0,c.tOptional)(c.tBinary),key:(0,c.tOptional)(c.tBinary),passphrase:(0,c.tOptional)(c.tString),pfx:(0,c.tOptional)(c.tBinary)}))),javaScriptEnabled:(0,c.tOptional)(c.tBoolean),bypassCSP:(0,c.tOptional)(c.tBoolean),userAgent:(0,c.tOptional)(c.tString),locale:(0,c.tOptional)(c.tString),timezoneId:(0,c.tOptional)(c.tString),geolocation:(0,c.tOptional)((0,c.tObject)({longitude:c.tFloat,latitude:c.tFloat,accuracy:(0,c.tOptional)(c.tFloat)})),permissions:(0,c.tOptional)((0,c.tArray)(c.tString)),extraHTTPHeaders:(0,c.tOptional)((0,c.tArray)((0,c.tType)("NameValue"))),offline:(0,c.tOptional)(c.tBoolean),httpCredentials:(0,c.tOptional)((0,c.tObject)({username:c.tString,password:c.tString,origin:(0,c.tOptional)(c.tString),send:(0,c.tOptional)((0,c.tEnum)(["always","unauthorized"]))})),deviceScaleFactor:(0,c.tOptional)(c.tFloat),isMobile:(0,c.tOptional)(c.tBoolean),hasTouch:(0,c.tOptional)(c.tBoolean),colorScheme:(0,c.tOptional)((0,c.tEnum)(["dark","light","no-preference","no-override"])),reducedMotion:(0,c.tOptional)((0,c.tEnum)(["reduce","no-preference","no-override"])),forcedColors:(0,c.tOptional)((0,c.tEnum)(["active","none","no-override"])),acceptDownloads:(0,c.tOptional)((0,c.tEnum)(["accept","deny","internal-browser-default"])),contrast:(0,c.tOptional)((0,c.tEnum)(["no-preference","more","no-override"])),baseURL:(0,c.tOptional)(c.tString),recordVideo:(0,c.tOptional)((0,c.tObject)({dir:c.tString,size:(0,c.tOptional)((0,c.tObject)({width:c.tInt,height:c.tInt}))})),strictSelectors:(0,c.tOptional)(c.tBoolean),serviceWorkers:(0,c.tOptional)((0,c.tEnum)(["allow","block"])),selectorEngines:(0,c.tOptional)((0,c.tArray)((0,c.tType)("SelectorEngine"))),testIdAttributeName:(0,c.tOptional)(c.tString)})}),c.scheme.BrowserContextBindingCallEvent=(0,c.tObject)({binding:(0,c.tChannel)(["BindingCall"])}),c.scheme.BrowserContextConsoleEvent=(0,c.tObject)({type:c.tString,text:c.tString,args:(0,c.tArray)((0,c.tChannel)(["ElementHandle","JSHandle"])),location:(0,c.tObject)({url:c.tString,lineNumber:c.tInt,columnNumber:c.tInt}),page:(0,c.tChannel)(["Page"])}),c.scheme.BrowserContextCloseEvent=(0,c.tOptional)((0,c.tObject)({})),c.scheme.BrowserContextDialogEvent=(0,c.tObject)({dialog:(0,c.tChannel)(["Dialog"])}),c.scheme.BrowserContextPageEvent=(0,c.tObject)({page:(0,c.tChannel)(["Page"])}),c.scheme.BrowserContextPageErrorEvent=(0,c.tObject)({error:(0,c.tType)("SerializedError"),page:(0,c.tChannel)(["Page"])}),c.scheme.BrowserContextRouteEvent=(0,c.tObject)({route:(0,c.tChannel)(["Route"])}),c.scheme.BrowserContextWebSocketRouteEvent=(0,c.tObject)({webSocketRoute:(0,c.tChannel)(["WebSocketRoute"])}),c.scheme.BrowserContextVideoEvent=(0,c.tObject)({artifact:(0,c.tChannel)(["Artifact"])}),c.scheme.BrowserContextServiceWorkerEvent=(0,c.tObject)({worker:(0,c.tChannel)(["Worker"])}),c.scheme.BrowserContextRequestEvent=(0,c.tObject)({request:(0,c.tChannel)(["Request"]),page:(0,c.tOptional)((0,c.tChannel)(["Page"]))}),c.scheme.BrowserContextRequestFailedEvent=(0,c.tObject)({request:(0,c.tChannel)(["Request"]),failureText:(0,c.tOptional)(c.tString),responseEndTiming:c.tFloat,page:(0,c.tOptional)((0,c.tChannel)(["Page"]))}),c.scheme.BrowserContextRequestFinishedEvent=(0,c.tObject)({request:(0,c.tChannel)(["Request"]),response:(0,c.tOptional)((0,c.tChannel)(["Response"])),responseEndTiming:c.tFloat,page:(0,c.tOptional)((0,c.tChannel)(["Page"]))}),c.scheme.BrowserContextResponseEvent=(0,c.tObject)({response:(0,c.tChannel)(["Response"]),page:(0,c.tOptional)((0,c.tChannel)(["Page"]))}),c.scheme.BrowserContextRecorderEventEvent=(0,c.tObject)({event:(0,c.tEnum)(["actionAdded","actionUpdated","signalAdded"]),data:c.tAny,page:(0,c.tChannel)(["Page"]),code:c.tString}),c.scheme.BrowserContextAddCookiesParams=(0,c.tObject)({cookies:(0,c.tArray)((0,c.tType)("SetNetworkCookie"))}),c.scheme.BrowserContextAddCookiesResult=(0,c.tOptional)((0,c.tObject)({})),c.scheme.BrowserContextAddInitScriptParams=(0,c.tObject)({source:c.tString}),c.scheme.BrowserContextAddInitScriptResult=(0,c.tOptional)((0,c.tObject)({})),c.scheme.BrowserContextClearCookiesParams=(0,c.tObject)({name:(0,c.tOptional)(c.tString),nameRegexSource:(0,c.tOptional)(c.tString),nameRegexFlags:(0,c.tOptional)(c.tString),domain:(0,c.tOptional)(c.tString),domainRegexSource:(0,c.tOptional)(c.tString),domainRegexFlags:(0,c.tOptional)(c.tString),path:(0,c.tOptional)(c.tString),pathRegexSource:(0,c.tOptional)(c.tString),pathRegexFlags:(0,c.tOptional)(c.tString)}),c.scheme.BrowserContextClearCookiesResult=(0,c.tOptional)((0,c.tObject)({})),c.scheme.BrowserContextClearPermissionsParams=(0,c.tOptional)((0,c.tObject)({})),c.scheme.BrowserContextClearPermissionsResult=(0,c.tOptional)((0,c.tObject)({})),c.scheme.BrowserContextCloseParams=(0,c.tObject)({reason:(0,c.tOptional)(c.tString)}),c.scheme.BrowserContextCloseResult=(0,c.tOptional)((0,c.tObject)({})),c.scheme.BrowserContextCookiesParams=(0,c.tObject)({urls:(0,c.tArray)(c.tString)}),c.scheme.BrowserContextCookiesResult=(0,c.tObject)({cookies:(0,c.tArray)((0,c.tType)("NetworkCookie"))}),c.scheme.BrowserContextExposeBindingParams=(0,c.tObject)({name:c.tString,needsHandle:(0,c.tOptional)(c.tBoolean)}),c.scheme.BrowserContextExposeBindingResult=(0,c.tOptional)((0,c.tObject)({})),c.scheme.BrowserContextGrantPermissionsParams=(0,c.tObject)({permissions:(0,c.tArray)(c.tString),origin:(0,c.tOptional)(c.tString)}),c.scheme.BrowserContextGrantPermissionsResult=(0,c.tOptional)((0,c.tObject)({})),c.scheme.BrowserContextNewPageParams=(0,c.tOptional)((0,c.tObject)({})),c.scheme.BrowserContextNewPageResult=(0,c.tObject)({page:(0,c.tChannel)(["Page"])}),c.scheme.BrowserContextRegisterSelectorEngineParams=(0,c.tObject)({selectorEngine:(0,c.tType)("SelectorEngine")}),c.scheme.BrowserContextRegisterSelectorEngineResult=(0,c.tOptional)((0,c.tObject)({})),c.scheme.BrowserContextSetTestIdAttributeNameParams=(0,c.tObject)({testIdAttributeName:c.tString}),c.scheme.BrowserContextSetTestIdAttributeNameResult=(0,c.tOptional)((0,c.tObject)({})),c.scheme.BrowserContextSetExtraHTTPHeadersParams=(0,c.tObject)({headers:(0,c.tArray)((0,c.tType)("NameValue"))}),c.scheme.BrowserContextSetExtraHTTPHeadersResult=(0,c.tOptional)((0,c.tObject)({})),c.scheme.BrowserContextSetGeolocationParams=(0,c.tObject)({geolocation:(0,c.tOptional)((0,c.tObject)({longitude:c.tFloat,latitude:c.tFloat,accuracy:(0,c.tOptional)(c.tFloat)}))}),c.scheme.BrowserContextSetGeolocationResult=(0,c.tOptional)((0,c.tObject)({})),c.scheme.BrowserContextSetHTTPCredentialsParams=(0,c.tObject)({httpCredentials:(0,c.tOptional)((0,c.tObject)({username:c.tString,password:c.tString,origin:(0,c.tOptional)(c.tString)}))}),c.scheme.BrowserContextSetHTTPCredentialsResult=(0,c.tOptional)((0,c.tObject)({})),c.scheme.BrowserContextSetNetworkInterceptionPatternsParams=(0,c.tObject)({patterns:(0,c.tArray)((0,c.tObject)({glob:(0,c.tOptional)(c.tString),regexSource:(0,c.tOptional)(c.tString),regexFlags:(0,c.tOptional)(c.tString)}))}),c.scheme.BrowserContextSetNetworkInterceptionPatternsResult=(0,c.tOptional)((0,c.tObject)({})),c.scheme.BrowserContextSetWebSocketInterceptionPatternsParams=(0,c.tObject)({patterns:(0,c.tArray)((0,c.tObject)({glob:(0,c.tOptional)(c.tString),regexSource:(0,c.tOptional)(c.tString),regexFlags:(0,c.tOptional)(c.tString)}))}),c.scheme.BrowserContextSetWebSocketInterceptionPatternsResult=(0,c.tOptional)((0,c.tObject)({})),c.scheme.BrowserContextSetOfflineParams=(0,c.tObject)({offline:c.tBoolean}),c.scheme.BrowserContextSetOfflineResult=(0,c.tOptional)((0,c.tObject)({})),c.scheme.BrowserContextStorageStateParams=(0,c.tObject)({indexedDB:(0,c.tOptional)(c.tBoolean)}),c.scheme.BrowserContextStorageStateResult=(0,c.tObject)({cookies:(0,c.tArray)((0,c.tType)("NetworkCookie")),origins:(0,c.tArray)((0,c.tType)("OriginStorage"))}),c.scheme.BrowserContextPauseParams=(0,c.tOptional)((0,c.tObject)({})),c.scheme.BrowserContextPauseResult=(0,c.tOptional)((0,c.tObject)({})),c.scheme.BrowserContextEnableRecorderParams=(0,c.tObject)({language:(0,c.tOptional)(c.tString),mode:(0,c.tOptional)((0,c.tEnum)(["inspecting","recording"])),recorderMode:(0,c.tOptional)((0,c.tEnum)(["default","api"])),pauseOnNextStatement:(0,c.tOptional)(c.tBoolean),testIdAttributeName:(0,c.tOptional)(c.tString),launchOptions:(0,c.tOptional)(c.tAny),contextOptions:(0,c.tOptional)(c.tAny),device:(0,c.tOptional)(c.tString),saveStorage:(0,c.tOptional)(c.tString),outputFile:(0,c.tOptional)(c.tString),handleSIGINT:(0,c.tOptional)(c.tBoolean),omitCallTracking:(0,c.tOptional)(c.tBoolean)}),c.scheme.BrowserContextEnableRecorderResult=(0,c.tOptional)((0,c.tObject)({})),c.scheme.BrowserContextDisableRecorderParams=(0,c.tOptional)((0,c.tObject)({})),c.scheme.BrowserContextDisableRecorderResult=(0,c.tOptional)((0,c.tObject)({})),c.scheme.BrowserContextNewCDPSessionParams=(0,c.tObject)({page:(0,c.tOptional)((0,c.tChannel)(["Page"])),frame:(0,c.tOptional)((0,c.tChannel)(["Frame"]))}),c.scheme.BrowserContextNewCDPSessionResult=(0,c.tObject)({session:(0,c.tChannel)(["CDPSession"])}),c.scheme.BrowserContextHarStartParams=(0,c.tObject)({page:(0,c.tOptional)((0,c.tChannel)(["Page"])),options:(0,c.tType)("RecordHarOptions")}),c.scheme.BrowserContextHarStartResult=(0,c.tObject)({harId:c.tString}),c.scheme.BrowserContextHarExportParams=(0,c.tObject)({harId:(0,c.tOptional)(c.tString)}),c.scheme.BrowserContextHarExportResult=(0,c.tObject)({artifact:(0,c.tChannel)(["Artifact"])}),c.scheme.BrowserContextCreateTempFilesParams=(0,c.tObject)({rootDirName:(0,c.tOptional)(c.tString),items:(0,c.tArray)((0,c.tObject)({name:c.tString,lastModifiedMs:(0,c.tOptional)(c.tFloat)}))}),c.scheme.BrowserContextCreateTempFilesResult=(0,c.tObject)({rootDir:(0,c.tOptional)((0,c.tChannel)(["WritableStream"])),writableStreams:(0,c.tArray)((0,c.tChannel)(["WritableStream"]))}),c.scheme.BrowserContextUpdateSubscriptionParams=(0,c.tObject)({event:(0,c.tEnum)(["console","dialog","request","response","requestFinished","requestFailed"]),enabled:c.tBoolean}),c.scheme.BrowserContextUpdateSubscriptionResult=(0,c.tOptional)((0,c.tObject)({})),c.scheme.BrowserContextClockFastForwardParams=(0,c.tObject)({ticksNumber:(0,c.tOptional)(c.tFloat),ticksString:(0,c.tOptional)(c.tString)}),c.scheme.BrowserContextClockFastForwardResult=(0,c.tOptional)((0,c.tObject)({})),c.scheme.BrowserContextClockInstallParams=(0,c.tObject)({timeNumber:(0,c.tOptional)(c.tFloat),timeString:(0,c.tOptional)(c.tString)}),c.scheme.BrowserContextClockInstallResult=(0,c.tOptional)((0,c.tObject)({})),c.scheme.BrowserContextClockPauseAtParams=(0,c.tObject)({timeNumber:(0,c.tOptional)(c.tFloat),timeString:(0,c.tOptional)(c.tString)}),c.scheme.BrowserContextClockPauseAtResult=(0,c.tOptional)((0,c.tObject)({})),c.scheme.BrowserContextClockResumeParams=(0,c.tOptional)((0,c.tObject)({})),c.scheme.BrowserContextClockResumeResult=(0,c.tOptional)((0,c.tObject)({})),c.scheme.BrowserContextClockRunForParams=(0,c.tObject)({ticksNumber:(0,c.tOptional)(c.tFloat),ticksString:(0,c.tOptional)(c.tString)}),c.scheme.BrowserContextClockRunForResult=(0,c.tOptional)((0,c.tObject)({})),c.scheme.BrowserContextClockSetFixedTimeParams=(0,c.tObject)({timeNumber:(0,c.tOptional)(c.tFloat),timeString:(0,c.tOptional)(c.tString)}),c.scheme.BrowserContextClockSetFixedTimeResult=(0,c.tOptional)((0,c.tObject)({})),c.scheme.BrowserContextClockSetSystemTimeParams=(0,c.tObject)({timeNumber:(0,c.tOptional)(c.tFloat),timeString:(0,c.tOptional)(c.tString)}),c.scheme.BrowserContextClockSetSystemTimeResult=(0,c.tOptional)((0,c.tObject)({})),c.scheme.PageInitializer=(0,c.tObject)({mainFrame:(0,c.tChannel)(["Frame"]),viewportSize:(0,c.tOptional)((0,c.tObject)({width:c.tInt,height:c.tInt})),isClosed:c.tBoolean,opener:(0,c.tOptional)((0,c.tChannel)(["Page"]))}),c.scheme.PageBindingCallEvent=(0,c.tObject)({binding:(0,c.tChannel)(["BindingCall"])}),c.scheme.PageCloseEvent=(0,c.tOptional)((0,c.tObject)({})),c.scheme.PageCrashEvent=(0,c.tOptional)((0,c.tObject)({})),c.scheme.PageDownloadEvent=(0,c.tObject)({url:c.tString,suggestedFilename:c.tString,artifact:(0,c.tChannel)(["Artifact"])}),c.scheme.PageViewportSizeChangedEvent=(0,c.tObject)({viewportSize:(0,c.tOptional)((0,c.tObject)({width:c.tInt,height:c.tInt}))}),c.scheme.PageFileChooserEvent=(0,c.tObject)({element:(0,c.tChannel)(["ElementHandle"]),isMultiple:c.tBoolean}),c.scheme.PageFrameAttachedEvent=(0,c.tObject)({frame:(0,c.tChannel)(["Frame"])}),c.scheme.PageFrameDetachedEvent=(0,c.tObject)({frame:(0,c.tChannel)(["Frame"])}),c.scheme.PageLocatorHandlerTriggeredEvent=(0,c.tObject)({uid:c.tInt}),c.scheme.PageRouteEvent=(0,c.tObject)({route:(0,c.tChannel)(["Route"])}),c.scheme.PageWebSocketRouteEvent=(0,c.tObject)({webSocketRoute:(0,c.tChannel)(["WebSocketRoute"])}),c.scheme.PageVideoEvent=(0,c.tObject)({artifact:(0,c.tChannel)(["Artifact"])}),c.scheme.PageWebSocketEvent=(0,c.tObject)({webSocket:(0,c.tChannel)(["WebSocket"])}),c.scheme.PageWorkerEvent=(0,c.tObject)({worker:(0,c.tChannel)(["Worker"])}),c.scheme.PageAddInitScriptParams=(0,c.tObject)({source:c.tString}),c.scheme.PageAddInitScriptResult=(0,c.tOptional)((0,c.tObject)({})),c.scheme.PageCloseParams=(0,c.tObject)({runBeforeUnload:(0,c.tOptional)(c.tBoolean),reason:(0,c.tOptional)(c.tString)}),c.scheme.PageCloseResult=(0,c.tOptional)((0,c.tObject)({})),c.scheme.PageConsoleMessagesParams=(0,c.tOptional)((0,c.tObject)({})),c.scheme.PageConsoleMessagesResult=(0,c.tObject)({messages:(0,c.tArray)((0,c.tObject)({type:c.tString,text:c.tString,args:(0,c.tArray)((0,c.tChannel)(["ElementHandle","JSHandle"])),location:(0,c.tObject)({url:c.tString,lineNumber:c.tInt,columnNumber:c.tInt})}))}),c.scheme.PageEmulateMediaParams=(0,c.tObject)({media:(0,c.tOptional)((0,c.tEnum)(["screen","print","no-override"])),colorScheme:(0,c.tOptional)((0,c.tEnum)(["dark","light","no-preference","no-override"])),reducedMotion:(0,c.tOptional)((0,c.tEnum)(["reduce","no-preference","no-override"])),forcedColors:(0,c.tOptional)((0,c.tEnum)(["active","none","no-override"])),contrast:(0,c.tOptional)((0,c.tEnum)(["no-preference","more","no-override"]))}),c.scheme.PageEmulateMediaResult=(0,c.tOptional)((0,c.tObject)({})),c.scheme.PageExposeBindingParams=(0,c.tObject)({name:c.tString,needsHandle:(0,c.tOptional)(c.tBoolean)}),c.scheme.PageExposeBindingResult=(0,c.tOptional)((0,c.tObject)({})),c.scheme.PageGoBackParams=(0,c.tObject)({timeout:c.tFloat,waitUntil:(0,c.tOptional)((0,c.tType)("LifecycleEvent"))}),c.scheme.PageGoBackResult=(0,c.tObject)({response:(0,c.tOptional)((0,c.tChannel)(["Response"]))}),c.scheme.PageGoForwardParams=(0,c.tObject)({timeout:c.tFloat,waitUntil:(0,c.tOptional)((0,c.tType)("LifecycleEvent"))}),c.scheme.PageGoForwardResult=(0,c.tObject)({response:(0,c.tOptional)((0,c.tChannel)(["Response"]))}),c.scheme.PageRequestGCParams=(0,c.tOptional)((0,c.tObject)({})),c.scheme.PageRequestGCResult=(0,c.tOptional)((0,c.tObject)({})),c.scheme.PageRegisterLocatorHandlerParams=(0,c.tObject)({selector:c.tString,noWaitAfter:(0,c.tOptional)(c.tBoolean)}),c.scheme.PageRegisterLocatorHandlerResult=(0,c.tObject)({uid:c.tInt}),c.scheme.PageResolveLocatorHandlerNoReplyParams=(0,c.tObject)({uid:c.tInt,remove:(0,c.tOptional)(c.tBoolean)}),c.scheme.PageResolveLocatorHandlerNoReplyResult=(0,c.tOptional)((0,c.tObject)({})),c.scheme.PageUnregisterLocatorHandlerParams=(0,c.tObject)({uid:c.tInt}),c.scheme.PageUnregisterLocatorHandlerResult=(0,c.tOptional)((0,c.tObject)({})),c.scheme.PageReloadParams=(0,c.tObject)({timeout:c.tFloat,waitUntil:(0,c.tOptional)((0,c.tType)("LifecycleEvent"))}),c.scheme.PageReloadResult=(0,c.tObject)({response:(0,c.tOptional)((0,c.tChannel)(["Response"]))}),c.scheme.PageExpectScreenshotParams=(0,c.tObject)({expected:(0,c.tOptional)(c.tBinary),timeout:c.tFloat,isNot:c.tBoolean,locator:(0,c.tOptional)((0,c.tObject)({frame:(0,c.tChannel)(["Frame"]),selector:c.tString})),comparator:(0,c.tOptional)(c.tString),maxDiffPixels:(0,c.tOptional)(c.tInt),maxDiffPixelRatio:(0,c.tOptional)(c.tFloat),threshold:(0,c.tOptional)(c.tFloat),fullPage:(0,c.tOptional)(c.tBoolean),clip:(0,c.tOptional)((0,c.tType)("Rect")),omitBackground:(0,c.tOptional)(c.tBoolean),caret:(0,c.tOptional)((0,c.tEnum)(["hide","initial"])),animations:(0,c.tOptional)((0,c.tEnum)(["disabled","allow"])),scale:(0,c.tOptional)((0,c.tEnum)(["css","device"])),mask:(0,c.tOptional)((0,c.tArray)((0,c.tObject)({frame:(0,c.tChannel)(["Frame"]),selector:c.tString}))),maskColor:(0,c.tOptional)(c.tString),style:(0,c.tOptional)(c.tString)}),c.scheme.PageExpectScreenshotResult=(0,c.tObject)({diff:(0,c.tOptional)(c.tBinary),errorMessage:(0,c.tOptional)(c.tString),actual:(0,c.tOptional)(c.tBinary),previous:(0,c.tOptional)(c.tBinary),timedOut:(0,c.tOptional)(c.tBoolean),log:(0,c.tOptional)((0,c.tArray)(c.tString))}),c.scheme.PageScreenshotParams=(0,c.tObject)({timeout:c.tFloat,type:(0,c.tOptional)((0,c.tEnum)(["png","jpeg"])),quality:(0,c.tOptional)(c.tInt),fullPage:(0,c.tOptional)(c.tBoolean),clip:(0,c.tOptional)((0,c.tType)("Rect")),omitBackground:(0,c.tOptional)(c.tBoolean),caret:(0,c.tOptional)((0,c.tEnum)(["hide","initial"])),animations:(0,c.tOptional)((0,c.tEnum)(["disabled","allow"])),scale:(0,c.tOptional)((0,c.tEnum)(["css","device"])),mask:(0,c.tOptional)((0,c.tArray)((0,c.tObject)({frame:(0,c.tChannel)(["Frame"]),selector:c.tString}))),maskColor:(0,c.tOptional)(c.tString),style:(0,c.tOptional)(c.tString)}),c.scheme.PageScreenshotResult=(0,c.tObject)({binary:c.tBinary}),c.scheme.PageSetExtraHTTPHeadersParams=(0,c.tObject)({headers:(0,c.tArray)((0,c.tType)("NameValue"))}),c.scheme.PageSetExtraHTTPHeadersResult=(0,c.tOptional)((0,c.tObject)({})),c.scheme.PageSetNetworkInterceptionPatternsParams=(0,c.tObject)({patterns:(0,c.tArray)((0,c.tObject)({glob:(0,c.tOptional)(c.tString),regexSource:(0,c.tOptional)(c.tString),regexFlags:(0,c.tOptional)(c.tString)}))}),c.scheme.PageSetNetworkInterceptionPatternsResult=(0,c.tOptional)((0,c.tObject)({})),c.scheme.PageSetWebSocketInterceptionPatternsParams=(0,c.tObject)({patterns:(0,c.tArray)((0,c.tObject)({glob:(0,c.tOptional)(c.tString),regexSource:(0,c.tOptional)(c.tString),regexFlags:(0,c.tOptional)(c.tString)}))}),c.scheme.PageSetWebSocketInterceptionPatternsResult=(0,c.tOptional)((0,c.tObject)({})),c.scheme.PageSetViewportSizeParams=(0,c.tObject)({viewportSize:(0,c.tObject)({width:c.tInt,height:c.tInt})}),c.scheme.PageSetViewportSizeResult=(0,c.tOptional)((0,c.tObject)({})),c.scheme.PageKeyboardDownParams=(0,c.tObject)({key:c.tString}),c.scheme.PageKeyboardDownResult=(0,c.tOptional)((0,c.tObject)({})),c.scheme.PageKeyboardUpParams=(0,c.tObject)({key:c.tString}),c.scheme.PageKeyboardUpResult=(0,c.tOptional)((0,c.tObject)({})),c.scheme.PageKeyboardInsertTextParams=(0,c.tObject)({text:c.tString}),c.scheme.PageKeyboardInsertTextResult=(0,c.tOptional)((0,c.tObject)({})),c.scheme.PageKeyboardTypeParams=(0,c.tObject)({text:c.tString,delay:(0,c.tOptional)(c.tFloat)}),c.scheme.PageKeyboardTypeResult=(0,c.tOptional)((0,c.tObject)({})),c.scheme.PageKeyboardPressParams=(0,c.tObject)({key:c.tString,delay:(0,c.tOptional)(c.tFloat)}),c.scheme.PageKeyboardPressResult=(0,c.tOptional)((0,c.tObject)({})),c.scheme.PageMouseMoveParams=(0,c.tObject)({x:c.tFloat,y:c.tFloat,steps:(0,c.tOptional)(c.tInt)}),c.scheme.PageMouseMoveResult=(0,c.tOptional)((0,c.tObject)({})),c.scheme.PageMouseDownParams=(0,c.tObject)({button:(0,c.tOptional)((0,c.tEnum)(["left","right","middle"])),clickCount:(0,c.tOptional)(c.tInt)}),c.scheme.PageMouseDownResult=(0,c.tOptional)((0,c.tObject)({})),c.scheme.PageMouseUpParams=(0,c.tObject)({button:(0,c.tOptional)((0,c.tEnum)(["left","right","middle"])),clickCount:(0,c.tOptional)(c.tInt)}),c.scheme.PageMouseUpResult=(0,c.tOptional)((0,c.tObject)({})),c.scheme.PageMouseClickParams=(0,c.tObject)({x:c.tFloat,y:c.tFloat,delay:(0,c.tOptional)(c.tFloat),button:(0,c.tOptional)((0,c.tEnum)(["left","right","middle"])),clickCount:(0,c.tOptional)(c.tInt)}),c.scheme.PageMouseClickResult=(0,c.tOptional)((0,c.tObject)({})),c.scheme.PageMouseWheelParams=(0,c.tObject)({deltaX:c.tFloat,deltaY:c.tFloat}),c.scheme.PageMouseWheelResult=(0,c.tOptional)((0,c.tObject)({})),c.scheme.PageTouchscreenTapParams=(0,c.tObject)({x:c.tFloat,y:c.tFloat}),c.scheme.PageTouchscreenTapResult=(0,c.tOptional)((0,c.tObject)({})),c.scheme.PageAccessibilitySnapshotParams=(0,c.tObject)({interestingOnly:(0,c.tOptional)(c.tBoolean),root:(0,c.tOptional)((0,c.tChannel)(["ElementHandle"]))}),c.scheme.PageAccessibilitySnapshotResult=(0,c.tObject)({rootAXNode:(0,c.tOptional)((0,c.tType)("AXNode"))}),c.scheme.PagePageErrorsParams=(0,c.tOptional)((0,c.tObject)({})),c.scheme.PagePageErrorsResult=(0,c.tObject)({errors:(0,c.tArray)((0,c.tType)("SerializedError"))}),c.scheme.PagePdfParams=(0,c.tObject)({scale:(0,c.tOptional)(c.tFloat),displayHeaderFooter:(0,c.tOptional)(c.tBoolean),headerTemplate:(0,c.tOptional)(c.tString),footerTemplate:(0,c.tOptional)(c.tString),printBackground:(0,c.tOptional)(c.tBoolean),landscape:(0,c.tOptional)(c.tBoolean),pageRanges:(0,c.tOptional)(c.tString),format:(0,c.tOptional)(c.tString),width:(0,c.tOptional)(c.tString),height:(0,c.tOptional)(c.tString),preferCSSPageSize:(0,c.tOptional)(c.tBoolean),margin:(0,c.tOptional)((0,c.tObject)({top:(0,c.tOptional)(c.tString),bottom:(0,c.tOptional)(c.tString),left:(0,c.tOptional)(c.tString),right:(0,c.tOptional)(c.tString)})),tagged:(0,c.tOptional)(c.tBoolean),outline:(0,c.tOptional)(c.tBoolean)}),c.scheme.PagePdfResult=(0,c.tObject)({pdf:c.tBinary}),c.scheme.PageRequestsParams=(0,c.tOptional)((0,c.tObject)({})),c.scheme.PageRequestsResult=(0,c.tObject)({requests:(0,c.tArray)((0,c.tChannel)(["Request"]))}),c.scheme.PageSnapshotForAIParams=(0,c.tObject)({timeout:c.tFloat}),c.scheme.PageSnapshotForAIResult=(0,c.tObject)({snapshot:c.tString}),c.scheme.PageStartJSCoverageParams=(0,c.tObject)({resetOnNavigation:(0,c.tOptional)(c.tBoolean),reportAnonymousScripts:(0,c.tOptional)(c.tBoolean)}),c.scheme.PageStartJSCoverageResult=(0,c.tOptional)((0,c.tObject)({})),c.scheme.PageStopJSCoverageParams=(0,c.tOptional)((0,c.tObject)({})),c.scheme.PageStopJSCoverageResult=(0,c.tObject)({entries:(0,c.tArray)((0,c.tObject)({url:c.tString,scriptId:c.tString,source:(0,c.tOptional)(c.tString),functions:(0,c.tArray)((0,c.tObject)({functionName:c.tString,isBlockCoverage:c.tBoolean,ranges:(0,c.tArray)((0,c.tObject)({startOffset:c.tInt,endOffset:c.tInt,count:c.tInt}))}))}))}),c.scheme.PageStartCSSCoverageParams=(0,c.tObject)({resetOnNavigation:(0,c.tOptional)(c.tBoolean)}),c.scheme.PageStartCSSCoverageResult=(0,c.tOptional)((0,c.tObject)({})),c.scheme.PageStopCSSCoverageParams=(0,c.tOptional)((0,c.tObject)({})),c.scheme.PageStopCSSCoverageResult=(0,c.tObject)({entries:(0,c.tArray)((0,c.tObject)({url:c.tString,text:(0,c.tOptional)(c.tString),ranges:(0,c.tArray)((0,c.tObject)({start:c.tInt,end:c.tInt}))}))}),c.scheme.PageBringToFrontParams=(0,c.tOptional)((0,c.tObject)({})),c.scheme.PageBringToFrontResult=(0,c.tOptional)((0,c.tObject)({})),c.scheme.PageUpdateSubscriptionParams=(0,c.tObject)({event:(0,c.tEnum)(["console","dialog","fileChooser","request","response","requestFinished","requestFailed"]),enabled:c.tBoolean}),c.scheme.PageUpdateSubscriptionResult=(0,c.tOptional)((0,c.tObject)({})),c.scheme.FrameInitializer=(0,c.tObject)({url:c.tString,name:c.tString,parentFrame:(0,c.tOptional)((0,c.tChannel)(["Frame"])),loadStates:(0,c.tArray)((0,c.tType)("LifecycleEvent"))}),c.scheme.FrameLoadstateEvent=(0,c.tObject)({add:(0,c.tOptional)((0,c.tType)("LifecycleEvent")),remove:(0,c.tOptional)((0,c.tType)("LifecycleEvent"))}),c.scheme.FrameNavigatedEvent=(0,c.tObject)({url:c.tString,name:c.tString,newDocument:(0,c.tOptional)((0,c.tObject)({request:(0,c.tOptional)((0,c.tChannel)(["Request"]))})),error:(0,c.tOptional)(c.tString)}),c.scheme.FrameEvalOnSelectorParams=(0,c.tObject)({selector:c.tString,strict:(0,c.tOptional)(c.tBoolean),expression:c.tString,isFunction:(0,c.tOptional)(c.tBoolean),arg:(0,c.tType)("SerializedArgument")}),c.scheme.FrameEvalOnSelectorResult=(0,c.tObject)({value:(0,c.tType)("SerializedValue")}),c.scheme.FrameEvalOnSelectorAllParams=(0,c.tObject)({selector:c.tString,expression:c.tString,isFunction:(0,c.tOptional)(c.tBoolean),arg:(0,c.tType)("SerializedArgument")}),c.scheme.FrameEvalOnSelectorAllResult=(0,c.tObject)({value:(0,c.tType)("SerializedValue")}),c.scheme.FrameAddScriptTagParams=(0,c.tObject)({url:(0,c.tOptional)(c.tString),content:(0,c.tOptional)(c.tString),type:(0,c.tOptional)(c.tString)}),c.scheme.FrameAddScriptTagResult=(0,c.tObject)({element:(0,c.tChannel)(["ElementHandle"])}),c.scheme.FrameAddStyleTagParams=(0,c.tObject)({url:(0,c.tOptional)(c.tString),content:(0,c.tOptional)(c.tString)}),c.scheme.FrameAddStyleTagResult=(0,c.tObject)({element:(0,c.tChannel)(["ElementHandle"])}),c.scheme.FrameAriaSnapshotParams=(0,c.tObject)({selector:c.tString,timeout:c.tFloat}),c.scheme.FrameAriaSnapshotResult=(0,c.tObject)({snapshot:c.tString}),c.scheme.FrameBlurParams=(0,c.tObject)({selector:c.tString,strict:(0,c.tOptional)(c.tBoolean),timeout:c.tFloat}),c.scheme.FrameBlurResult=(0,c.tOptional)((0,c.tObject)({})),c.scheme.FrameCheckParams=(0,c.tObject)({selector:c.tString,strict:(0,c.tOptional)(c.tBoolean),force:(0,c.tOptional)(c.tBoolean),position:(0,c.tOptional)((0,c.tType)("Point")),timeout:c.tFloat,trial:(0,c.tOptional)(c.tBoolean)}),c.scheme.FrameCheckResult=(0,c.tOptional)((0,c.tObject)({})),c.scheme.FrameClickParams=(0,c.tObject)({selector:c.tString,strict:(0,c.tOptional)(c.tBoolean),force:(0,c.tOptional)(c.tBoolean),noWaitAfter:(0,c.tOptional)(c.tBoolean),modifiers:(0,c.tOptional)((0,c.tArray)((0,c.tEnum)(["Alt","Control","ControlOrMeta","Meta","Shift"]))),position:(0,c.tOptional)((0,c.tType)("Point")),delay:(0,c.tOptional)(c.tFloat),button:(0,c.tOptional)((0,c.tEnum)(["left","right","middle"])),clickCount:(0,c.tOptional)(c.tInt),timeout:c.tFloat,trial:(0,c.tOptional)(c.tBoolean)}),c.scheme.FrameClickResult=(0,c.tOptional)((0,c.tObject)({})),c.scheme.FrameContentParams=(0,c.tOptional)((0,c.tObject)({})),c.scheme.FrameContentResult=(0,c.tObject)({value:c.tString}),c.scheme.FrameDragAndDropParams=(0,c.tObject)({source:c.tString,target:c.tString,force:(0,c.tOptional)(c.tBoolean),timeout:c.tFloat,trial:(0,c.tOptional)(c.tBoolean),sourcePosition:(0,c.tOptional)((0,c.tType)("Point")),targetPosition:(0,c.tOptional)((0,c.tType)("Point")),strict:(0,c.tOptional)(c.tBoolean)}),c.scheme.FrameDragAndDropResult=(0,c.tOptional)((0,c.tObject)({})),c.scheme.FrameDblclickParams=(0,c.tObject)({selector:c.tString,strict:(0,c.tOptional)(c.tBoolean),force:(0,c.tOptional)(c.tBoolean),modifiers:(0,c.tOptional)((0,c.tArray)((0,c.tEnum)(["Alt","Control","ControlOrMeta","Meta","Shift"]))),position:(0,c.tOptional)((0,c.tType)("Point")),delay:(0,c.tOptional)(c.tFloat),button:(0,c.tOptional)((0,c.tEnum)(["left","right","middle"])),timeout:c.tFloat,trial:(0,c.tOptional)(c.tBoolean)}),c.scheme.FrameDblclickResult=(0,c.tOptional)((0,c.tObject)({})),c.scheme.FrameDispatchEventParams=(0,c.tObject)({selector:c.tString,strict:(0,c.tOptional)(c.tBoolean),type:c.tString,eventInit:(0,c.tType)("SerializedArgument"),timeout:c.tFloat}),c.scheme.FrameDispatchEventResult=(0,c.tOptional)((0,c.tObject)({})),c.scheme.FrameEvaluateExpressionParams=(0,c.tObject)({expression:c.tString,isFunction:(0,c.tOptional)(c.tBoolean),arg:(0,c.tType)("SerializedArgument")}),c.scheme.FrameEvaluateExpressionResult=(0,c.tObject)({value:(0,c.tType)("SerializedValue")}),c.scheme.FrameEvaluateExpressionHandleParams=(0,c.tObject)({expression:c.tString,isFunction:(0,c.tOptional)(c.tBoolean),arg:(0,c.tType)("SerializedArgument")}),c.scheme.FrameEvaluateExpressionHandleResult=(0,c.tObject)({handle:(0,c.tChannel)(["ElementHandle","JSHandle"])}),c.scheme.FrameFillParams=(0,c.tObject)({selector:c.tString,strict:(0,c.tOptional)(c.tBoolean),value:c.tString,force:(0,c.tOptional)(c.tBoolean),timeout:c.tFloat}),c.scheme.FrameFillResult=(0,c.tOptional)((0,c.tObject)({})),c.scheme.FrameFocusParams=(0,c.tObject)({selector:c.tString,strict:(0,c.tOptional)(c.tBoolean),timeout:c.tFloat}),c.scheme.FrameFocusResult=(0,c.tOptional)((0,c.tObject)({})),c.scheme.FrameFrameElementParams=(0,c.tOptional)((0,c.tObject)({})),c.scheme.FrameFrameElementResult=(0,c.tObject)({element:(0,c.tChannel)(["ElementHandle"])}),c.scheme.FrameResolveSelectorParams=(0,c.tObject)({selector:c.tString}),c.scheme.FrameResolveSelectorResult=(0,c.tObject)({resolvedSelector:c.tString}),c.scheme.FrameHighlightParams=(0,c.tObject)({selector:c.tString}),c.scheme.FrameHighlightResult=(0,c.tOptional)((0,c.tObject)({})),c.scheme.FrameGetAttributeParams=(0,c.tObject)({selector:c.tString,strict:(0,c.tOptional)(c.tBoolean),name:c.tString,timeout:c.tFloat}),c.scheme.FrameGetAttributeResult=(0,c.tObject)({value:(0,c.tOptional)(c.tString)}),c.scheme.FrameGotoParams=(0,c.tObject)({url:c.tString,timeout:c.tFloat,waitUntil:(0,c.tOptional)((0,c.tType)("LifecycleEvent")),referer:(0,c.tOptional)(c.tString)}),c.scheme.FrameGotoResult=(0,c.tObject)({response:(0,c.tOptional)((0,c.tChannel)(["Response"]))}),c.scheme.FrameHoverParams=(0,c.tObject)({selector:c.tString,strict:(0,c.tOptional)(c.tBoolean),force:(0,c.tOptional)(c.tBoolean),modifiers:(0,c.tOptional)((0,c.tArray)((0,c.tEnum)(["Alt","Control","ControlOrMeta","Meta","Shift"]))),position:(0,c.tOptional)((0,c.tType)("Point")),timeout:c.tFloat,trial:(0,c.tOptional)(c.tBoolean)}),c.scheme.FrameHoverResult=(0,c.tOptional)((0,c.tObject)({})),c.scheme.FrameInnerHTMLParams=(0,c.tObject)({selector:c.tString,strict:(0,c.tOptional)(c.tBoolean),timeout:c.tFloat}),c.scheme.FrameInnerHTMLResult=(0,c.tObject)({value:c.tString}),c.scheme.FrameInnerTextParams=(0,c.tObject)({selector:c.tString,strict:(0,c.tOptional)(c.tBoolean),timeout:c.tFloat}),c.scheme.FrameInnerTextResult=(0,c.tObject)({value:c.tString}),c.scheme.FrameInputValueParams=(0,c.tObject)({selector:c.tString,strict:(0,c.tOptional)(c.tBoolean),timeout:c.tFloat}),c.scheme.FrameInputValueResult=(0,c.tObject)({value:c.tString}),c.scheme.FrameIsCheckedParams=(0,c.tObject)({selector:c.tString,strict:(0,c.tOptional)(c.tBoolean),timeout:c.tFloat}),c.scheme.FrameIsCheckedResult=(0,c.tObject)({value:c.tBoolean}),c.scheme.FrameIsDisabledParams=(0,c.tObject)({selector:c.tString,strict:(0,c.tOptional)(c.tBoolean),timeout:c.tFloat}),c.scheme.FrameIsDisabledResult=(0,c.tObject)({value:c.tBoolean}),c.scheme.FrameIsEnabledParams=(0,c.tObject)({selector:c.tString,strict:(0,c.tOptional)(c.tBoolean),timeout:c.tFloat}),c.scheme.FrameIsEnabledResult=(0,c.tObject)({value:c.tBoolean}),c.scheme.FrameIsHiddenParams=(0,c.tObject)({selector:c.tString,strict:(0,c.tOptional)(c.tBoolean)}),c.scheme.FrameIsHiddenResult=(0,c.tObject)({value:c.tBoolean}),c.scheme.FrameIsVisibleParams=(0,c.tObject)({selector:c.tString,strict:(0,c.tOptional)(c.tBoolean)}),c.scheme.FrameIsVisibleResult=(0,c.tObject)({value:c.tBoolean}),c.scheme.FrameIsEditableParams=(0,c.tObject)({selector:c.tString,strict:(0,c.tOptional)(c.tBoolean),timeout:c.tFloat}),c.scheme.FrameIsEditableResult=(0,c.tObject)({value:c.tBoolean}),c.scheme.FramePressParams=(0,c.tObject)({selector:c.tString,strict:(0,c.tOptional)(c.tBoolean),key:c.tString,delay:(0,c.tOptional)(c.tFloat),noWaitAfter:(0,c.tOptional)(c.tBoolean),timeout:c.tFloat}),c.scheme.FramePressResult=(0,c.tOptional)((0,c.tObject)({})),c.scheme.FrameQuerySelectorParams=(0,c.tObject)({selector:c.tString,strict:(0,c.tOptional)(c.tBoolean)}),c.scheme.FrameQuerySelectorResult=(0,c.tObject)({element:(0,c.tOptional)((0,c.tChannel)(["ElementHandle"]))}),c.scheme.FrameQuerySelectorAllParams=(0,c.tObject)({selector:c.tString}),c.scheme.FrameQuerySelectorAllResult=(0,c.tObject)({elements:(0,c.tArray)((0,c.tChannel)(["ElementHandle"]))}),c.scheme.FrameQueryCountParams=(0,c.tObject)({selector:c.tString}),c.scheme.FrameQueryCountResult=(0,c.tObject)({value:c.tInt}),c.scheme.FrameSelectOptionParams=(0,c.tObject)({selector:c.tString,strict:(0,c.tOptional)(c.tBoolean),elements:(0,c.tOptional)((0,c.tArray)((0,c.tChannel)(["ElementHandle"]))),options:(0,c.tOptional)((0,c.tArray)((0,c.tObject)({valueOrLabel:(0,c.tOptional)(c.tString),value:(0,c.tOptional)(c.tString),label:(0,c.tOptional)(c.tString),index:(0,c.tOptional)(c.tInt)}))),force:(0,c.tOptional)(c.tBoolean),timeout:c.tFloat}),c.scheme.FrameSelectOptionResult=(0,c.tObject)({values:(0,c.tArray)(c.tString)}),c.scheme.FrameSetContentParams=(0,c.tObject)({html:c.tString,timeout:c.tFloat,waitUntil:(0,c.tOptional)((0,c.tType)("LifecycleEvent"))}),c.scheme.FrameSetContentResult=(0,c.tOptional)((0,c.tObject)({})),c.scheme.FrameSetInputFilesParams=(0,c.tObject)({selector:c.tString,strict:(0,c.tOptional)(c.tBoolean),payloads:(0,c.tOptional)((0,c.tArray)((0,c.tObject)({name:c.tString,mimeType:(0,c.tOptional)(c.tString),buffer:c.tBinary}))),localDirectory:(0,c.tOptional)(c.tString),directoryStream:(0,c.tOptional)((0,c.tChannel)(["WritableStream"])),localPaths:(0,c.tOptional)((0,c.tArray)(c.tString)),streams:(0,c.tOptional)((0,c.tArray)((0,c.tChannel)(["WritableStream"]))),timeout:c.tFloat}),c.scheme.FrameSetInputFilesResult=(0,c.tOptional)((0,c.tObject)({})),c.scheme.FrameTapParams=(0,c.tObject)({selector:c.tString,strict:(0,c.tOptional)(c.tBoolean),force:(0,c.tOptional)(c.tBoolean),modifiers:(0,c.tOptional)((0,c.tArray)((0,c.tEnum)(["Alt","Control","ControlOrMeta","Meta","Shift"]))),position:(0,c.tOptional)((0,c.tType)("Point")),timeout:c.tFloat,trial:(0,c.tOptional)(c.tBoolean)}),c.scheme.FrameTapResult=(0,c.tOptional)((0,c.tObject)({})),c.scheme.FrameTextContentParams=(0,c.tObject)({selector:c.tString,strict:(0,c.tOptional)(c.tBoolean),timeout:c.tFloat}),c.scheme.FrameTextContentResult=(0,c.tObject)({value:(0,c.tOptional)(c.tString)}),c.scheme.FrameTitleParams=(0,c.tOptional)((0,c.tObject)({})),c.scheme.FrameTitleResult=(0,c.tObject)({value:c.tString}),c.scheme.FrameTypeParams=(0,c.tObject)({selector:c.tString,strict:(0,c.tOptional)(c.tBoolean),text:c.tString,delay:(0,c.tOptional)(c.tFloat),timeout:c.tFloat}),c.scheme.FrameTypeResult=(0,c.tOptional)((0,c.tObject)({})),c.scheme.FrameUncheckParams=(0,c.tObject)({selector:c.tString,strict:(0,c.tOptional)(c.tBoolean),force:(0,c.tOptional)(c.tBoolean),position:(0,c.tOptional)((0,c.tType)("Point")),timeout:c.tFloat,trial:(0,c.tOptional)(c.tBoolean)}),c.scheme.FrameUncheckResult=(0,c.tOptional)((0,c.tObject)({})),c.scheme.FrameWaitForTimeoutParams=(0,c.tObject)({waitTimeout:c.tFloat}),c.scheme.FrameWaitForTimeoutResult=(0,c.tOptional)((0,c.tObject)({})),c.scheme.FrameWaitForFunctionParams=(0,c.tObject)({expression:c.tString,isFunction:(0,c.tOptional)(c.tBoolean),arg:(0,c.tType)("SerializedArgument"),timeout:c.tFloat,pollingInterval:(0,c.tOptional)(c.tFloat)}),c.scheme.FrameWaitForFunctionResult=(0,c.tObject)({handle:(0,c.tChannel)(["ElementHandle","JSHandle"])}),c.scheme.FrameWaitForSelectorParams=(0,c.tObject)({selector:c.tString,strict:(0,c.tOptional)(c.tBoolean),timeout:c.tFloat,state:(0,c.tOptional)((0,c.tEnum)(["attached","detached","visible","hidden"])),omitReturnValue:(0,c.tOptional)(c.tBoolean)}),c.scheme.FrameWaitForSelectorResult=(0,c.tObject)({element:(0,c.tOptional)((0,c.tChannel)(["ElementHandle"]))}),c.scheme.FrameExpectParams=(0,c.tObject)({selector:(0,c.tOptional)(c.tString),expression:c.tString,expressionArg:(0,c.tOptional)(c.tAny),expectedText:(0,c.tOptional)((0,c.tArray)((0,c.tType)("ExpectedTextValue"))),expectedNumber:(0,c.tOptional)(c.tFloat),expectedValue:(0,c.tOptional)((0,c.tType)("SerializedArgument")),useInnerText:(0,c.tOptional)(c.tBoolean),isNot:c.tBoolean,timeout:c.tFloat}),c.scheme.FrameExpectResult=(0,c.tObject)({matches:c.tBoolean,received:(0,c.tOptional)((0,c.tType)("SerializedValue")),timedOut:(0,c.tOptional)(c.tBoolean),errorMessage:(0,c.tOptional)(c.tString),log:(0,c.tOptional)((0,c.tArray)(c.tString))}),c.scheme.WorkerInitializer=(0,c.tObject)({url:c.tString}),c.scheme.WorkerCloseEvent=(0,c.tOptional)((0,c.tObject)({})),c.scheme.WorkerConsoleEvent=(0,c.tObject)({type:c.tString,text:c.tString,args:(0,c.tArray)((0,c.tChannel)(["ElementHandle","JSHandle"])),location:(0,c.tObject)({url:c.tString,lineNumber:c.tInt,columnNumber:c.tInt})}),c.scheme.WorkerEvaluateExpressionParams=(0,c.tObject)({expression:c.tString,isFunction:(0,c.tOptional)(c.tBoolean),arg:(0,c.tType)("SerializedArgument")}),c.scheme.WorkerEvaluateExpressionResult=(0,c.tObject)({value:(0,c.tType)("SerializedValue")}),c.scheme.WorkerEvaluateExpressionHandleParams=(0,c.tObject)({expression:c.tString,isFunction:(0,c.tOptional)(c.tBoolean),arg:(0,c.tType)("SerializedArgument")}),c.scheme.WorkerEvaluateExpressionHandleResult=(0,c.tObject)({handle:(0,c.tChannel)(["ElementHandle","JSHandle"])}),c.scheme.WorkerUpdateSubscriptionParams=(0,c.tObject)({event:(0,c.tEnum)(["console"]),enabled:c.tBoolean}),c.scheme.WorkerUpdateSubscriptionResult=(0,c.tOptional)((0,c.tObject)({})),c.scheme.JSHandleInitializer=(0,c.tObject)({preview:c.tString}),c.scheme.JSHandlePreviewUpdatedEvent=(0,c.tObject)({preview:c.tString}),c.scheme.ElementHandlePreviewUpdatedEvent=(0,c.tType)("JSHandlePreviewUpdatedEvent"),c.scheme.JSHandleDisposeParams=(0,c.tOptional)((0,c.tObject)({})),c.scheme.ElementHandleDisposeParams=(0,c.tType)("JSHandleDisposeParams"),c.scheme.JSHandleDisposeResult=(0,c.tOptional)((0,c.tObject)({})),c.scheme.ElementHandleDisposeResult=(0,c.tType)("JSHandleDisposeResult"),c.scheme.JSHandleEvaluateExpressionParams=(0,c.tObject)({expression:c.tString,isFunction:(0,c.tOptional)(c.tBoolean),arg:(0,c.tType)("SerializedArgument")}),c.scheme.ElementHandleEvaluateExpressionParams=(0,c.tType)("JSHandleEvaluateExpressionParams"),c.scheme.JSHandleEvaluateExpressionResult=(0,c.tObject)({value:(0,c.tType)("SerializedValue")}),c.scheme.ElementHandleEvaluateExpressionResult=(0,c.tType)("JSHandleEvaluateExpressionResult"),c.scheme.JSHandleEvaluateExpressionHandleParams=(0,c.tObject)({expression:c.tString,isFunction:(0,c.tOptional)(c.tBoolean),arg:(0,c.tType)("SerializedArgument")}),c.scheme.ElementHandleEvaluateExpressionHandleParams=(0,c.tType)("JSHandleEvaluateExpressionHandleParams"),c.scheme.JSHandleEvaluateExpressionHandleResult=(0,c.tObject)({handle:(0,c.tChannel)(["ElementHandle","JSHandle"])}),c.scheme.ElementHandleEvaluateExpressionHandleResult=(0,c.tType)("JSHandleEvaluateExpressionHandleResult"),c.scheme.JSHandleGetPropertyListParams=(0,c.tOptional)((0,c.tObject)({})),c.scheme.ElementHandleGetPropertyListParams=(0,c.tType)("JSHandleGetPropertyListParams"),c.scheme.JSHandleGetPropertyListResult=(0,c.tObject)({properties:(0,c.tArray)((0,c.tObject)({name:c.tString,value:(0,c.tChannel)(["ElementHandle","JSHandle"])}))}),c.scheme.ElementHandleGetPropertyListResult=(0,c.tType)("JSHandleGetPropertyListResult"),c.scheme.JSHandleGetPropertyParams=(0,c.tObject)({name:c.tString}),c.scheme.ElementHandleGetPropertyParams=(0,c.tType)("JSHandleGetPropertyParams"),c.scheme.JSHandleGetPropertyResult=(0,c.tObject)({handle:(0,c.tChannel)(["ElementHandle","JSHandle"])}),c.scheme.ElementHandleGetPropertyResult=(0,c.tType)("JSHandleGetPropertyResult"),c.scheme.JSHandleJsonValueParams=(0,c.tOptional)((0,c.tObject)({})),c.scheme.ElementHandleJsonValueParams=(0,c.tType)("JSHandleJsonValueParams"),c.scheme.JSHandleJsonValueResult=(0,c.tObject)({value:(0,c.tType)("SerializedValue")}),c.scheme.ElementHandleJsonValueResult=(0,c.tType)("JSHandleJsonValueResult"),c.scheme.ElementHandleInitializer=(0,c.tObject)({preview:c.tString}),c.scheme.ElementHandleEvalOnSelectorParams=(0,c.tObject)({selector:c.tString,strict:(0,c.tOptional)(c.tBoolean),expression:c.tString,isFunction:(0,c.tOptional)(c.tBoolean),arg:(0,c.tType)("SerializedArgument")}),c.scheme.ElementHandleEvalOnSelectorResult=(0,c.tObject)({value:(0,c.tType)("SerializedValue")}),c.scheme.ElementHandleEvalOnSelectorAllParams=(0,c.tObject)({selector:c.tString,expression:c.tString,isFunction:(0,c.tOptional)(c.tBoolean),arg:(0,c.tType)("SerializedArgument")}),c.scheme.ElementHandleEvalOnSelectorAllResult=(0,c.tObject)({value:(0,c.tType)("SerializedValue")}),c.scheme.ElementHandleBoundingBoxParams=(0,c.tOptional)((0,c.tObject)({})),c.scheme.ElementHandleBoundingBoxResult=(0,c.tObject)({value:(0,c.tOptional)((0,c.tType)("Rect"))}),c.scheme.ElementHandleCheckParams=(0,c.tObject)({force:(0,c.tOptional)(c.tBoolean),position:(0,c.tOptional)((0,c.tType)("Point")),timeout:c.tFloat,trial:(0,c.tOptional)(c.tBoolean)}),c.scheme.ElementHandleCheckResult=(0,c.tOptional)((0,c.tObject)({})),c.scheme.ElementHandleClickParams=(0,c.tObject)({force:(0,c.tOptional)(c.tBoolean),noWaitAfter:(0,c.tOptional)(c.tBoolean),modifiers:(0,c.tOptional)((0,c.tArray)((0,c.tEnum)(["Alt","Control","ControlOrMeta","Meta","Shift"]))),position:(0,c.tOptional)((0,c.tType)("Point")),delay:(0,c.tOptional)(c.tFloat),button:(0,c.tOptional)((0,c.tEnum)(["left","right","middle"])),clickCount:(0,c.tOptional)(c.tInt),timeout:c.tFloat,trial:(0,c.tOptional)(c.tBoolean)}),c.scheme.ElementHandleClickResult=(0,c.tOptional)((0,c.tObject)({})),c.scheme.ElementHandleContentFrameParams=(0,c.tOptional)((0,c.tObject)({})),c.scheme.ElementHandleContentFrameResult=(0,c.tObject)({frame:(0,c.tOptional)((0,c.tChannel)(["Frame"]))}),c.scheme.ElementHandleDblclickParams=(0,c.tObject)({force:(0,c.tOptional)(c.tBoolean),modifiers:(0,c.tOptional)((0,c.tArray)((0,c.tEnum)(["Alt","Control","ControlOrMeta","Meta","Shift"]))),position:(0,c.tOptional)((0,c.tType)("Point")),delay:(0,c.tOptional)(c.tFloat),button:(0,c.tOptional)((0,c.tEnum)(["left","right","middle"])),timeout:c.tFloat,trial:(0,c.tOptional)(c.tBoolean)}),c.scheme.ElementHandleDblclickResult=(0,c.tOptional)((0,c.tObject)({})),c.scheme.ElementHandleDispatchEventParams=(0,c.tObject)({type:c.tString,eventInit:(0,c.tType)("SerializedArgument")}),c.scheme.ElementHandleDispatchEventResult=(0,c.tOptional)((0,c.tObject)({})),c.scheme.ElementHandleFillParams=(0,c.tObject)({value:c.tString,force:(0,c.tOptional)(c.tBoolean),timeout:c.tFloat}),c.scheme.ElementHandleFillResult=(0,c.tOptional)((0,c.tObject)({})),c.scheme.ElementHandleFocusParams=(0,c.tOptional)((0,c.tObject)({})),c.scheme.ElementHandleFocusResult=(0,c.tOptional)((0,c.tObject)({})),c.scheme.ElementHandleGetAttributeParams=(0,c.tObject)({name:c.tString}),c.scheme.ElementHandleGetAttributeResult=(0,c.tObject)({value:(0,c.tOptional)(c.tString)}),c.scheme.ElementHandleHoverParams=(0,c.tObject)({force:(0,c.tOptional)(c.tBoolean),modifiers:(0,c.tOptional)((0,c.tArray)((0,c.tEnum)(["Alt","Control","ControlOrMeta","Meta","Shift"]))),position:(0,c.tOptional)((0,c.tType)("Point")),timeout:c.tFloat,trial:(0,c.tOptional)(c.tBoolean)}),c.scheme.ElementHandleHoverResult=(0,c.tOptional)((0,c.tObject)({})),c.scheme.ElementHandleInnerHTMLParams=(0,c.tOptional)((0,c.tObject)({})),c.scheme.ElementHandleInnerHTMLResult=(0,c.tObject)({value:c.tString}),c.scheme.ElementHandleInnerTextParams=(0,c.tOptional)((0,c.tObject)({})),c.scheme.ElementHandleInnerTextResult=(0,c.tObject)({value:c.tString}),c.scheme.ElementHandleInputValueParams=(0,c.tOptional)((0,c.tObject)({})),c.scheme.ElementHandleInputValueResult=(0,c.tObject)({value:c.tString}),c.scheme.ElementHandleIsCheckedParams=(0,c.tOptional)((0,c.tObject)({})),c.scheme.ElementHandleIsCheckedResult=(0,c.tObject)({value:c.tBoolean}),c.scheme.ElementHandleIsDisabledParams=(0,c.tOptional)((0,c.tObject)({})),c.scheme.ElementHandleIsDisabledResult=(0,c.tObject)({value:c.tBoolean}),c.scheme.ElementHandleIsEditableParams=(0,c.tOptional)((0,c.tObject)({})),c.scheme.ElementHandleIsEditableResult=(0,c.tObject)({value:c.tBoolean}),c.scheme.ElementHandleIsEnabledParams=(0,c.tOptional)((0,c.tObject)({})),c.scheme.ElementHandleIsEnabledResult=(0,c.tObject)({value:c.tBoolean}),c.scheme.ElementHandleIsHiddenParams=(0,c.tOptional)((0,c.tObject)({})),c.scheme.ElementHandleIsHiddenResult=(0,c.tObject)({value:c.tBoolean}),c.scheme.ElementHandleIsVisibleParams=(0,c.tOptional)((0,c.tObject)({})),c.scheme.ElementHandleIsVisibleResult=(0,c.tObject)({value:c.tBoolean}),c.scheme.ElementHandleOwnerFrameParams=(0,c.tOptional)((0,c.tObject)({})),c.scheme.ElementHandleOwnerFrameResult=(0,c.tObject)({frame:(0,c.tOptional)((0,c.tChannel)(["Frame"]))}),c.scheme.ElementHandlePressParams=(0,c.tObject)({key:c.tString,delay:(0,c.tOptional)(c.tFloat),timeout:c.tFloat,noWaitAfter:(0,c.tOptional)(c.tBoolean)}),c.scheme.ElementHandlePressResult=(0,c.tOptional)((0,c.tObject)({})),c.scheme.ElementHandleQuerySelectorParams=(0,c.tObject)({selector:c.tString,strict:(0,c.tOptional)(c.tBoolean)}),c.scheme.ElementHandleQuerySelectorResult=(0,c.tObject)({element:(0,c.tOptional)((0,c.tChannel)(["ElementHandle"]))}),c.scheme.ElementHandleQuerySelectorAllParams=(0,c.tObject)({selector:c.tString}),c.scheme.ElementHandleQuerySelectorAllResult=(0,c.tObject)({elements:(0,c.tArray)((0,c.tChannel)(["ElementHandle"]))}),c.scheme.ElementHandleScreenshotParams=(0,c.tObject)({timeout:c.tFloat,type:(0,c.tOptional)((0,c.tEnum)(["png","jpeg"])),quality:(0,c.tOptional)(c.tInt),omitBackground:(0,c.tOptional)(c.tBoolean),caret:(0,c.tOptional)((0,c.tEnum)(["hide","initial"])),animations:(0,c.tOptional)((0,c.tEnum)(["disabled","allow"])),scale:(0,c.tOptional)((0,c.tEnum)(["css","device"])),mask:(0,c.tOptional)((0,c.tArray)((0,c.tObject)({frame:(0,c.tChannel)(["Frame"]),selector:c.tString}))),maskColor:(0,c.tOptional)(c.tString),style:(0,c.tOptional)(c.tString)}),c.scheme.ElementHandleScreenshotResult=(0,c.tObject)({binary:c.tBinary}),c.scheme.ElementHandleScrollIntoViewIfNeededParams=(0,c.tObject)({timeout:c.tFloat}),c.scheme.ElementHandleScrollIntoViewIfNeededResult=(0,c.tOptional)((0,c.tObject)({})),c.scheme.ElementHandleSelectOptionParams=(0,c.tObject)({elements:(0,c.tOptional)((0,c.tArray)((0,c.tChannel)(["ElementHandle"]))),options:(0,c.tOptional)((0,c.tArray)((0,c.tObject)({valueOrLabel:(0,c.tOptional)(c.tString),value:(0,c.tOptional)(c.tString),label:(0,c.tOptional)(c.tString),index:(0,c.tOptional)(c.tInt)}))),force:(0,c.tOptional)(c.tBoolean),timeout:c.tFloat}),c.scheme.ElementHandleSelectOptionResult=(0,c.tObject)({values:(0,c.tArray)(c.tString)}),c.scheme.ElementHandleSelectTextParams=(0,c.tObject)({force:(0,c.tOptional)(c.tBoolean),timeout:c.tFloat}),c.scheme.ElementHandleSelectTextResult=(0,c.tOptional)((0,c.tObject)({})),c.scheme.ElementHandleSetInputFilesParams=(0,c.tObject)({payloads:(0,c.tOptional)((0,c.tArray)((0,c.tObject)({name:c.tString,mimeType:(0,c.tOptional)(c.tString),buffer:c.tBinary}))),localDirectory:(0,c.tOptional)(c.tString),directoryStream:(0,c.tOptional)((0,c.tChannel)(["WritableStream"])),localPaths:(0,c.tOptional)((0,c.tArray)(c.tString)),streams:(0,c.tOptional)((0,c.tArray)((0,c.tChannel)(["WritableStream"]))),timeout:c.tFloat}),c.scheme.ElementHandleSetInputFilesResult=(0,c.tOptional)((0,c.tObject)({})),c.scheme.ElementHandleTapParams=(0,c.tObject)({force:(0,c.tOptional)(c.tBoolean),modifiers:(0,c.tOptional)((0,c.tArray)((0,c.tEnum)(["Alt","Control","ControlOrMeta","Meta","Shift"]))),position:(0,c.tOptional)((0,c.tType)("Point")),timeout:c.tFloat,trial:(0,c.tOptional)(c.tBoolean)}),c.scheme.ElementHandleTapResult=(0,c.tOptional)((0,c.tObject)({})),c.scheme.ElementHandleTextContentParams=(0,c.tOptional)((0,c.tObject)({})),c.scheme.ElementHandleTextContentResult=(0,c.tObject)({value:(0,c.tOptional)(c.tString)}),c.scheme.ElementHandleTypeParams=(0,c.tObject)({text:c.tString,delay:(0,c.tOptional)(c.tFloat),timeout:c.tFloat}),c.scheme.ElementHandleTypeResult=(0,c.tOptional)((0,c.tObject)({})),c.scheme.ElementHandleUncheckParams=(0,c.tObject)({force:(0,c.tOptional)(c.tBoolean),position:(0,c.tOptional)((0,c.tType)("Point")),timeout:c.tFloat,trial:(0,c.tOptional)(c.tBoolean)}),c.scheme.ElementHandleUncheckResult=(0,c.tOptional)((0,c.tObject)({})),c.scheme.ElementHandleWaitForElementStateParams=(0,c.tObject)({state:(0,c.tEnum)(["visible","hidden","stable","enabled","disabled","editable"]),timeout:c.tFloat}),c.scheme.ElementHandleWaitForElementStateResult=(0,c.tOptional)((0,c.tObject)({})),c.scheme.ElementHandleWaitForSelectorParams=(0,c.tObject)({selector:c.tString,strict:(0,c.tOptional)(c.tBoolean),timeout:c.tFloat,state:(0,c.tOptional)((0,c.tEnum)(["attached","detached","visible","hidden"]))}),c.scheme.ElementHandleWaitForSelectorResult=(0,c.tObject)({element:(0,c.tOptional)((0,c.tChannel)(["ElementHandle"]))}),c.scheme.RequestInitializer=(0,c.tObject)({frame:(0,c.tOptional)((0,c.tChannel)(["Frame"])),serviceWorker:(0,c.tOptional)((0,c.tChannel)(["Worker"])),url:c.tString,resourceType:c.tString,method:c.tString,postData:(0,c.tOptional)(c.tBinary),headers:(0,c.tArray)((0,c.tType)("NameValue")),isNavigationRequest:c.tBoolean,redirectedFrom:(0,c.tOptional)((0,c.tChannel)(["Request"]))}),c.scheme.RequestResponseParams=(0,c.tOptional)((0,c.tObject)({})),c.scheme.RequestResponseResult=(0,c.tObject)({response:(0,c.tOptional)((0,c.tChannel)(["Response"]))}),c.scheme.RequestRawRequestHeadersParams=(0,c.tOptional)((0,c.tObject)({})),c.scheme.RequestRawRequestHeadersResult=(0,c.tObject)({headers:(0,c.tArray)((0,c.tType)("NameValue"))}),c.scheme.RouteInitializer=(0,c.tObject)({request:(0,c.tChannel)(["Request"])}),c.scheme.RouteRedirectNavigationRequestParams=(0,c.tObject)({url:c.tString}),c.scheme.RouteRedirectNavigationRequestResult=(0,c.tOptional)((0,c.tObject)({})),c.scheme.RouteAbortParams=(0,c.tObject)({errorCode:(0,c.tOptional)(c.tString)}),c.scheme.RouteAbortResult=(0,c.tOptional)((0,c.tObject)({})),c.scheme.RouteContinueParams=(0,c.tObject)({url:(0,c.tOptional)(c.tString),method:(0,c.tOptional)(c.tString),headers:(0,c.tOptional)((0,c.tArray)((0,c.tType)("NameValue"))),postData:(0,c.tOptional)(c.tBinary),isFallback:c.tBoolean}),c.scheme.RouteContinueResult=(0,c.tOptional)((0,c.tObject)({})),c.scheme.RouteFulfillParams=(0,c.tObject)({status:(0,c.tOptional)(c.tInt),headers:(0,c.tOptional)((0,c.tArray)((0,c.tType)("NameValue"))),body:(0,c.tOptional)(c.tString),isBase64:(0,c.tOptional)(c.tBoolean),fetchResponseUid:(0,c.tOptional)(c.tString)}),c.scheme.RouteFulfillResult=(0,c.tOptional)((0,c.tObject)({})),c.scheme.WebSocketRouteInitializer=(0,c.tObject)({url:c.tString}),c.scheme.WebSocketRouteMessageFromPageEvent=(0,c.tObject)({message:c.tString,isBase64:c.tBoolean}),c.scheme.WebSocketRouteMessageFromServerEvent=(0,c.tObject)({message:c.tString,isBase64:c.tBoolean}),c.scheme.WebSocketRouteClosePageEvent=(0,c.tObject)({code:(0,c.tOptional)(c.tInt),reason:(0,c.tOptional)(c.tString),wasClean:c.tBoolean}),c.scheme.WebSocketRouteCloseServerEvent=(0,c.tObject)({code:(0,c.tOptional)(c.tInt),reason:(0,c.tOptional)(c.tString),wasClean:c.tBoolean}),c.scheme.WebSocketRouteConnectParams=(0,c.tOptional)((0,c.tObject)({})),c.scheme.WebSocketRouteConnectResult=(0,c.tOptional)((0,c.tObject)({})),c.scheme.WebSocketRouteEnsureOpenedParams=(0,c.tOptional)((0,c.tObject)({})),c.scheme.WebSocketRouteEnsureOpenedResult=(0,c.tOptional)((0,c.tObject)({})),c.scheme.WebSocketRouteSendToPageParams=(0,c.tObject)({message:c.tString,isBase64:c.tBoolean}),c.scheme.WebSocketRouteSendToPageResult=(0,c.tOptional)((0,c.tObject)({})),c.scheme.WebSocketRouteSendToServerParams=(0,c.tObject)({message:c.tString,isBase64:c.tBoolean}),c.scheme.WebSocketRouteSendToServerResult=(0,c.tOptional)((0,c.tObject)({})),c.scheme.WebSocketRouteClosePageParams=(0,c.tObject)({code:(0,c.tOptional)(c.tInt),reason:(0,c.tOptional)(c.tString),wasClean:c.tBoolean}),c.scheme.WebSocketRouteClosePageResult=(0,c.tOptional)((0,c.tObject)({})),c.scheme.WebSocketRouteCloseServerParams=(0,c.tObject)({code:(0,c.tOptional)(c.tInt),reason:(0,c.tOptional)(c.tString),wasClean:c.tBoolean}),c.scheme.WebSocketRouteCloseServerResult=(0,c.tOptional)((0,c.tObject)({})),c.scheme.ResourceTiming=(0,c.tObject)({startTime:c.tFloat,domainLookupStart:c.tFloat,domainLookupEnd:c.tFloat,connectStart:c.tFloat,secureConnectionStart:c.tFloat,connectEnd:c.tFloat,requestStart:c.tFloat,responseStart:c.tFloat}),c.scheme.ResponseInitializer=(0,c.tObject)({request:(0,c.tChannel)(["Request"]),url:c.tString,status:c.tInt,statusText:c.tString,headers:(0,c.tArray)((0,c.tType)("NameValue")),timing:(0,c.tType)("ResourceTiming"),fromServiceWorker:c.tBoolean}),c.scheme.ResponseBodyParams=(0,c.tOptional)((0,c.tObject)({})),c.scheme.ResponseBodyResult=(0,c.tObject)({binary:c.tBinary}),c.scheme.ResponseSecurityDetailsParams=(0,c.tOptional)((0,c.tObject)({})),c.scheme.ResponseSecurityDetailsResult=(0,c.tObject)({value:(0,c.tOptional)((0,c.tType)("SecurityDetails"))}),c.scheme.ResponseServerAddrParams=(0,c.tOptional)((0,c.tObject)({})),c.scheme.ResponseServerAddrResult=(0,c.tObject)({value:(0,c.tOptional)((0,c.tType)("RemoteAddr"))}),c.scheme.ResponseRawResponseHeadersParams=(0,c.tOptional)((0,c.tObject)({})),c.scheme.ResponseRawResponseHeadersResult=(0,c.tObject)({headers:(0,c.tArray)((0,c.tType)("NameValue"))}),c.scheme.ResponseSizesParams=(0,c.tOptional)((0,c.tObject)({})),c.scheme.ResponseSizesResult=(0,c.tObject)({sizes:(0,c.tType)("RequestSizes")}),c.scheme.SecurityDetails=(0,c.tObject)({issuer:(0,c.tOptional)(c.tString),protocol:(0,c.tOptional)(c.tString),subjectName:(0,c.tOptional)(c.tString),validFrom:(0,c.tOptional)(c.tFloat),validTo:(0,c.tOptional)(c.tFloat)}),c.scheme.RequestSizes=(0,c.tObject)({requestBodySize:c.tInt,requestHeadersSize:c.tInt,responseBodySize:c.tInt,responseHeadersSize:c.tInt}),c.scheme.RemoteAddr=(0,c.tObject)({ipAddress:c.tString,port:c.tInt}),c.scheme.WebSocketInitializer=(0,c.tObject)({url:c.tString}),c.scheme.WebSocketOpenEvent=(0,c.tOptional)((0,c.tObject)({})),c.scheme.WebSocketFrameSentEvent=(0,c.tObject)({opcode:c.tInt,data:c.tString}),c.scheme.WebSocketFrameReceivedEvent=(0,c.tObject)({opcode:c.tInt,data:c.tString}),c.scheme.WebSocketSocketErrorEvent=(0,c.tObject)({error:c.tString}),c.scheme.WebSocketCloseEvent=(0,c.tOptional)((0,c.tObject)({})),c.scheme.BindingCallInitializer=(0,c.tObject)({frame:(0,c.tChannel)(["Frame"]),name:c.tString,args:(0,c.tOptional)((0,c.tArray)((0,c.tType)("SerializedValue"))),handle:(0,c.tOptional)((0,c.tChannel)(["ElementHandle","JSHandle"]))}),c.scheme.BindingCallRejectParams=(0,c.tObject)({error:(0,c.tType)("SerializedError")}),c.scheme.BindingCallRejectResult=(0,c.tOptional)((0,c.tObject)({})),c.scheme.BindingCallResolveParams=(0,c.tObject)({result:(0,c.tType)("SerializedArgument")}),c.scheme.BindingCallResolveResult=(0,c.tOptional)((0,c.tObject)({})),c.scheme.DialogInitializer=(0,c.tObject)({page:(0,c.tOptional)((0,c.tChannel)(["Page"])),type:c.tString,message:c.tString,defaultValue:c.tString}),c.scheme.DialogAcceptParams=(0,c.tObject)({promptText:(0,c.tOptional)(c.tString)}),c.scheme.DialogAcceptResult=(0,c.tOptional)((0,c.tObject)({})),c.scheme.DialogDismissParams=(0,c.tOptional)((0,c.tObject)({})),c.scheme.DialogDismissResult=(0,c.tOptional)((0,c.tObject)({})),c.scheme.TracingInitializer=(0,c.tOptional)((0,c.tObject)({})),c.scheme.TracingTracingStartParams=(0,c.tObject)({name:(0,c.tOptional)(c.tString),snapshots:(0,c.tOptional)(c.tBoolean),screenshots:(0,c.tOptional)(c.tBoolean),live:(0,c.tOptional)(c.tBoolean)}),c.scheme.TracingTracingStartResult=(0,c.tOptional)((0,c.tObject)({})),c.scheme.TracingTracingStartChunkParams=(0,c.tObject)({name:(0,c.tOptional)(c.tString),title:(0,c.tOptional)(c.tString)}),c.scheme.TracingTracingStartChunkResult=(0,c.tObject)({traceName:c.tString}),c.scheme.TracingTracingGroupParams=(0,c.tObject)({name:c.tString,location:(0,c.tOptional)((0,c.tObject)({file:c.tString,line:(0,c.tOptional)(c.tInt),column:(0,c.tOptional)(c.tInt)}))}),c.scheme.TracingTracingGroupResult=(0,c.tOptional)((0,c.tObject)({})),c.scheme.TracingTracingGroupEndParams=(0,c.tOptional)((0,c.tObject)({})),c.scheme.TracingTracingGroupEndResult=(0,c.tOptional)((0,c.tObject)({})),c.scheme.TracingTracingStopChunkParams=(0,c.tObject)({mode:(0,c.tEnum)(["archive","discard","entries"])}),c.scheme.TracingTracingStopChunkResult=(0,c.tObject)({artifact:(0,c.tOptional)((0,c.tChannel)(["Artifact"])),entries:(0,c.tOptional)((0,c.tArray)((0,c.tType)("NameValue")))}),c.scheme.TracingTracingStopParams=(0,c.tOptional)((0,c.tObject)({})),c.scheme.TracingTracingStopResult=(0,c.tOptional)((0,c.tObject)({})),c.scheme.ArtifactInitializer=(0,c.tObject)({absolutePath:c.tString}),c.scheme.ArtifactPathAfterFinishedParams=(0,c.tOptional)((0,c.tObject)({})),c.scheme.ArtifactPathAfterFinishedResult=(0,c.tObject)({value:c.tString}),c.scheme.ArtifactSaveAsParams=(0,c.tObject)({path:c.tString}),c.scheme.ArtifactSaveAsResult=(0,c.tOptional)((0,c.tObject)({})),c.scheme.ArtifactSaveAsStreamParams=(0,c.tOptional)((0,c.tObject)({})),c.scheme.ArtifactSaveAsStreamResult=(0,c.tObject)({stream:(0,c.tChannel)(["Stream"])}),c.scheme.ArtifactFailureParams=(0,c.tOptional)((0,c.tObject)({})),c.scheme.ArtifactFailureResult=(0,c.tObject)({error:(0,c.tOptional)(c.tString)}),c.scheme.ArtifactStreamParams=(0,c.tOptional)((0,c.tObject)({})),c.scheme.ArtifactStreamResult=(0,c.tObject)({stream:(0,c.tChannel)(["Stream"])}),c.scheme.ArtifactCancelParams=(0,c.tOptional)((0,c.tObject)({})),c.scheme.ArtifactCancelResult=(0,c.tOptional)((0,c.tObject)({})),c.scheme.ArtifactDeleteParams=(0,c.tOptional)((0,c.tObject)({})),c.scheme.ArtifactDeleteResult=(0,c.tOptional)((0,c.tObject)({})),c.scheme.StreamInitializer=(0,c.tOptional)((0,c.tObject)({})),c.scheme.StreamReadParams=(0,c.tObject)({size:(0,c.tOptional)(c.tInt)}),c.scheme.StreamReadResult=(0,c.tObject)({binary:c.tBinary}),c.scheme.StreamCloseParams=(0,c.tOptional)((0,c.tObject)({})),c.scheme.StreamCloseResult=(0,c.tOptional)((0,c.tObject)({})),c.scheme.WritableStreamInitializer=(0,c.tOptional)((0,c.tObject)({})),c.scheme.WritableStreamWriteParams=(0,c.tObject)({binary:c.tBinary}),c.scheme.WritableStreamWriteResult=(0,c.tOptional)((0,c.tObject)({})),c.scheme.WritableStreamCloseParams=(0,c.tOptional)((0,c.tObject)({})),c.scheme.WritableStreamCloseResult=(0,c.tOptional)((0,c.tObject)({})),c.scheme.CDPSessionInitializer=(0,c.tOptional)((0,c.tObject)({})),c.scheme.CDPSessionEventEvent=(0,c.tObject)({method:c.tString,params:(0,c.tOptional)(c.tAny)}),c.scheme.CDPSessionSendParams=(0,c.tObject)({method:c.tString,params:(0,c.tOptional)(c.tAny)}),c.scheme.CDPSessionSendResult=(0,c.tObject)({result:c.tAny}),c.scheme.CDPSessionDetachParams=(0,c.tOptional)((0,c.tObject)({})),c.scheme.CDPSessionDetachResult=(0,c.tOptional)((0,c.tObject)({})),c.scheme.ElectronInitializer=(0,c.tOptional)((0,c.tObject)({})),c.scheme.ElectronLaunchParams=(0,c.tObject)({executablePath:(0,c.tOptional)(c.tString),args:(0,c.tOptional)((0,c.tArray)(c.tString)),cwd:(0,c.tOptional)(c.tString),env:(0,c.tOptional)((0,c.tArray)((0,c.tType)("NameValue"))),timeout:c.tFloat,acceptDownloads:(0,c.tOptional)((0,c.tEnum)(["accept","deny","internal-browser-default"])),bypassCSP:(0,c.tOptional)(c.tBoolean),colorScheme:(0,c.tOptional)((0,c.tEnum)(["dark","light","no-preference","no-override"])),extraHTTPHeaders:(0,c.tOptional)((0,c.tArray)((0,c.tType)("NameValue"))),geolocation:(0,c.tOptional)((0,c.tObject)({longitude:c.tFloat,latitude:c.tFloat,accuracy:(0,c.tOptional)(c.tFloat)})),httpCredentials:(0,c.tOptional)((0,c.tObject)({username:c.tString,password:c.tString,origin:(0,c.tOptional)(c.tString)})),ignoreHTTPSErrors:(0,c.tOptional)(c.tBoolean),locale:(0,c.tOptional)(c.tString),offline:(0,c.tOptional)(c.tBoolean),recordVideo:(0,c.tOptional)((0,c.tObject)({dir:c.tString,size:(0,c.tOptional)((0,c.tObject)({width:c.tInt,height:c.tInt}))})),strictSelectors:(0,c.tOptional)(c.tBoolean),timezoneId:(0,c.tOptional)(c.tString),tracesDir:(0,c.tOptional)(c.tString),selectorEngines:(0,c.tOptional)((0,c.tArray)((0,c.tType)("SelectorEngine"))),testIdAttributeName:(0,c.tOptional)(c.tString)}),c.scheme.ElectronLaunchResult=(0,c.tObject)({electronApplication:(0,c.tChannel)(["ElectronApplication"])}),c.scheme.ElectronApplicationInitializer=(0,c.tObject)({context:(0,c.tChannel)(["BrowserContext"])}),c.scheme.ElectronApplicationCloseEvent=(0,c.tOptional)((0,c.tObject)({})),c.scheme.ElectronApplicationConsoleEvent=(0,c.tObject)({type:c.tString,text:c.tString,args:(0,c.tArray)((0,c.tChannel)(["ElementHandle","JSHandle"])),location:(0,c.tObject)({url:c.tString,lineNumber:c.tInt,columnNumber:c.tInt})}),c.scheme.ElectronApplicationBrowserWindowParams=(0,c.tObject)({page:(0,c.tChannel)(["Page"])}),c.scheme.ElectronApplicationBrowserWindowResult=(0,c.tObject)({handle:(0,c.tChannel)(["ElementHandle","JSHandle"])}),c.scheme.ElectronApplicationEvaluateExpressionParams=(0,c.tObject)({expression:c.tString,isFunction:(0,c.tOptional)(c.tBoolean),arg:(0,c.tType)("SerializedArgument")}),c.scheme.ElectronApplicationEvaluateExpressionResult=(0,c.tObject)({value:(0,c.tType)("SerializedValue")}),c.scheme.ElectronApplicationEvaluateExpressionHandleParams=(0,c.tObject)({expression:c.tString,isFunction:(0,c.tOptional)(c.tBoolean),arg:(0,c.tType)("SerializedArgument")}),c.scheme.ElectronApplicationEvaluateExpressionHandleResult=(0,c.tObject)({handle:(0,c.tChannel)(["ElementHandle","JSHandle"])}),c.scheme.ElectronApplicationUpdateSubscriptionParams=(0,c.tObject)({event:(0,c.tEnum)(["console"]),enabled:c.tBoolean}),c.scheme.ElectronApplicationUpdateSubscriptionResult=(0,c.tOptional)((0,c.tObject)({})),c.scheme.AndroidInitializer=(0,c.tOptional)((0,c.tObject)({})),c.scheme.AndroidDevicesParams=(0,c.tObject)({host:(0,c.tOptional)(c.tString),port:(0,c.tOptional)(c.tInt),omitDriverInstall:(0,c.tOptional)(c.tBoolean)}),c.scheme.AndroidDevicesResult=(0,c.tObject)({devices:(0,c.tArray)((0,c.tChannel)(["AndroidDevice"]))}),c.scheme.AndroidSocketInitializer=(0,c.tOptional)((0,c.tObject)({})),c.scheme.AndroidSocketDataEvent=(0,c.tObject)({data:c.tBinary}),c.scheme.AndroidSocketCloseEvent=(0,c.tOptional)((0,c.tObject)({})),c.scheme.AndroidSocketWriteParams=(0,c.tObject)({data:c.tBinary}),c.scheme.AndroidSocketWriteResult=(0,c.tOptional)((0,c.tObject)({})),c.scheme.AndroidSocketCloseParams=(0,c.tOptional)((0,c.tObject)({})),c.scheme.AndroidSocketCloseResult=(0,c.tOptional)((0,c.tObject)({})),c.scheme.AndroidDeviceInitializer=(0,c.tObject)({model:c.tString,serial:c.tString}),c.scheme.AndroidDeviceCloseEvent=(0,c.tOptional)((0,c.tObject)({})),c.scheme.AndroidDeviceWebViewAddedEvent=(0,c.tObject)({webView:(0,c.tType)("AndroidWebView")}),c.scheme.AndroidDeviceWebViewRemovedEvent=(0,c.tObject)({socketName:c.tString}),c.scheme.AndroidDeviceWaitParams=(0,c.tObject)({androidSelector:(0,c.tType)("AndroidSelector"),state:(0,c.tOptional)((0,c.tEnum)(["gone"])),timeout:c.tFloat}),c.scheme.AndroidDeviceWaitResult=(0,c.tOptional)((0,c.tObject)({})),c.scheme.AndroidDeviceFillParams=(0,c.tObject)({androidSelector:(0,c.tType)("AndroidSelector"),text:c.tString,timeout:c.tFloat}),c.scheme.AndroidDeviceFillResult=(0,c.tOptional)((0,c.tObject)({})),c.scheme.AndroidDeviceTapParams=(0,c.tObject)({androidSelector:(0,c.tType)("AndroidSelector"),duration:(0,c.tOptional)(c.tFloat),timeout:c.tFloat}),c.scheme.AndroidDeviceTapResult=(0,c.tOptional)((0,c.tObject)({})),c.scheme.AndroidDeviceDragParams=(0,c.tObject)({androidSelector:(0,c.tType)("AndroidSelector"),dest:(0,c.tType)("Point"),speed:(0,c.tOptional)(c.tFloat),timeout:c.tFloat}),c.scheme.AndroidDeviceDragResult=(0,c.tOptional)((0,c.tObject)({})),c.scheme.AndroidDeviceFlingParams=(0,c.tObject)({androidSelector:(0,c.tType)("AndroidSelector"),direction:(0,c.tEnum)(["up","down","left","right"]),speed:(0,c.tOptional)(c.tFloat),timeout:c.tFloat}),c.scheme.AndroidDeviceFlingResult=(0,c.tOptional)((0,c.tObject)({})),c.scheme.AndroidDeviceLongTapParams=(0,c.tObject)({androidSelector:(0,c.tType)("AndroidSelector"),timeout:c.tFloat}),c.scheme.AndroidDeviceLongTapResult=(0,c.tOptional)((0,c.tObject)({})),c.scheme.AndroidDevicePinchCloseParams=(0,c.tObject)({androidSelector:(0,c.tType)("AndroidSelector"),percent:c.tFloat,speed:(0,c.tOptional)(c.tFloat),timeout:c.tFloat}),c.scheme.AndroidDevicePinchCloseResult=(0,c.tOptional)((0,c.tObject)({})),c.scheme.AndroidDevicePinchOpenParams=(0,c.tObject)({androidSelector:(0,c.tType)("AndroidSelector"),percent:c.tFloat,speed:(0,c.tOptional)(c.tFloat),timeout:c.tFloat}),c.scheme.AndroidDevicePinchOpenResult=(0,c.tOptional)((0,c.tObject)({})),c.scheme.AndroidDeviceScrollParams=(0,c.tObject)({androidSelector:(0,c.tType)("AndroidSelector"),direction:(0,c.tEnum)(["up","down","left","right"]),percent:c.tFloat,speed:(0,c.tOptional)(c.tFloat),timeout:c.tFloat}),c.scheme.AndroidDeviceScrollResult=(0,c.tOptional)((0,c.tObject)({})),c.scheme.AndroidDeviceSwipeParams=(0,c.tObject)({androidSelector:(0,c.tType)("AndroidSelector"),direction:(0,c.tEnum)(["up","down","left","right"]),percent:c.tFloat,speed:(0,c.tOptional)(c.tFloat),timeout:c.tFloat}),c.scheme.AndroidDeviceSwipeResult=(0,c.tOptional)((0,c.tObject)({})),c.scheme.AndroidDeviceInfoParams=(0,c.tObject)({androidSelector:(0,c.tType)("AndroidSelector")}),c.scheme.AndroidDeviceInfoResult=(0,c.tObject)({info:(0,c.tType)("AndroidElementInfo")}),c.scheme.AndroidDeviceScreenshotParams=(0,c.tOptional)((0,c.tObject)({})),c.scheme.AndroidDeviceScreenshotResult=(0,c.tObject)({binary:c.tBinary}),c.scheme.AndroidDeviceInputTypeParams=(0,c.tObject)({text:c.tString}),c.scheme.AndroidDeviceInputTypeResult=(0,c.tOptional)((0,c.tObject)({})),c.scheme.AndroidDeviceInputPressParams=(0,c.tObject)({key:c.tString}),c.scheme.AndroidDeviceInputPressResult=(0,c.tOptional)((0,c.tObject)({})),c.scheme.AndroidDeviceInputTapParams=(0,c.tObject)({point:(0,c.tType)("Point")}),c.scheme.AndroidDeviceInputTapResult=(0,c.tOptional)((0,c.tObject)({})),c.scheme.AndroidDeviceInputSwipeParams=(0,c.tObject)({segments:(0,c.tArray)((0,c.tType)("Point")),steps:c.tInt}),c.scheme.AndroidDeviceInputSwipeResult=(0,c.tOptional)((0,c.tObject)({})),c.scheme.AndroidDeviceInputDragParams=(0,c.tObject)({from:(0,c.tType)("Point"),to:(0,c.tType)("Point"),steps:c.tInt}),c.scheme.AndroidDeviceInputDragResult=(0,c.tOptional)((0,c.tObject)({})),c.scheme.AndroidDeviceLaunchBrowserParams=(0,c.tObject)({noDefaultViewport:(0,c.tOptional)(c.tBoolean),viewport:(0,c.tOptional)((0,c.tObject)({width:c.tInt,height:c.tInt})),screen:(0,c.tOptional)((0,c.tObject)({width:c.tInt,height:c.tInt})),ignoreHTTPSErrors:(0,c.tOptional)(c.tBoolean),clientCertificates:(0,c.tOptional)((0,c.tArray)((0,c.tObject)({origin:c.tString,cert:(0,c.tOptional)(c.tBinary),key:(0,c.tOptional)(c.tBinary),passphrase:(0,c.tOptional)(c.tString),pfx:(0,c.tOptional)(c.tBinary)}))),javaScriptEnabled:(0,c.tOptional)(c.tBoolean),bypassCSP:(0,c.tOptional)(c.tBoolean),userAgent:(0,c.tOptional)(c.tString),locale:(0,c.tOptional)(c.tString),timezoneId:(0,c.tOptional)(c.tString),geolocation:(0,c.tOptional)((0,c.tObject)({longitude:c.tFloat,latitude:c.tFloat,accuracy:(0,c.tOptional)(c.tFloat)})),permissions:(0,c.tOptional)((0,c.tArray)(c.tString)),extraHTTPHeaders:(0,c.tOptional)((0,c.tArray)((0,c.tType)("NameValue"))),offline:(0,c.tOptional)(c.tBoolean),httpCredentials:(0,c.tOptional)((0,c.tObject)({username:c.tString,password:c.tString,origin:(0,c.tOptional)(c.tString),send:(0,c.tOptional)((0,c.tEnum)(["always","unauthorized"]))})),deviceScaleFactor:(0,c.tOptional)(c.tFloat),isMobile:(0,c.tOptional)(c.tBoolean),hasTouch:(0,c.tOptional)(c.tBoolean),colorScheme:(0,c.tOptional)((0,c.tEnum)(["dark","light","no-preference","no-override"])),reducedMotion:(0,c.tOptional)((0,c.tEnum)(["reduce","no-preference","no-override"])),forcedColors:(0,c.tOptional)((0,c.tEnum)(["active","none","no-override"])),acceptDownloads:(0,c.tOptional)((0,c.tEnum)(["accept","deny","internal-browser-default"])),contrast:(0,c.tOptional)((0,c.tEnum)(["no-preference","more","no-override"])),baseURL:(0,c.tOptional)(c.tString),recordVideo:(0,c.tOptional)((0,c.tObject)({dir:c.tString,size:(0,c.tOptional)((0,c.tObject)({width:c.tInt,height:c.tInt}))})),strictSelectors:(0,c.tOptional)(c.tBoolean),serviceWorkers:(0,c.tOptional)((0,c.tEnum)(["allow","block"])),selectorEngines:(0,c.tOptional)((0,c.tArray)((0,c.tType)("SelectorEngine"))),testIdAttributeName:(0,c.tOptional)(c.tString),pkg:(0,c.tOptional)(c.tString),args:(0,c.tOptional)((0,c.tArray)(c.tString)),proxy:(0,c.tOptional)((0,c.tObject)({server:c.tString,bypass:(0,c.tOptional)(c.tString),username:(0,c.tOptional)(c.tString),password:(0,c.tOptional)(c.tString)}))}),c.scheme.AndroidDeviceLaunchBrowserResult=(0,c.tObject)({context:(0,c.tChannel)(["BrowserContext"])}),c.scheme.AndroidDeviceOpenParams=(0,c.tObject)({command:c.tString}),c.scheme.AndroidDeviceOpenResult=(0,c.tObject)({socket:(0,c.tChannel)(["AndroidSocket"])}),c.scheme.AndroidDeviceShellParams=(0,c.tObject)({command:c.tString}),c.scheme.AndroidDeviceShellResult=(0,c.tObject)({result:c.tBinary}),c.scheme.AndroidDeviceInstallApkParams=(0,c.tObject)({file:c.tBinary,args:(0,c.tOptional)((0,c.tArray)(c.tString))}),c.scheme.AndroidDeviceInstallApkResult=(0,c.tOptional)((0,c.tObject)({})),c.scheme.AndroidDevicePushParams=(0,c.tObject)({file:c.tBinary,path:c.tString,mode:(0,c.tOptional)(c.tInt)}),c.scheme.AndroidDevicePushResult=(0,c.tOptional)((0,c.tObject)({})),c.scheme.AndroidDeviceConnectToWebViewParams=(0,c.tObject)({socketName:c.tString}),c.scheme.AndroidDeviceConnectToWebViewResult=(0,c.tObject)({context:(0,c.tChannel)(["BrowserContext"])}),c.scheme.AndroidDeviceCloseParams=(0,c.tOptional)((0,c.tObject)({})),c.scheme.AndroidDeviceCloseResult=(0,c.tOptional)((0,c.tObject)({})),c.scheme.AndroidWebView=(0,c.tObject)({pid:c.tInt,pkg:c.tString,socketName:c.tString}),c.scheme.AndroidSelector=(0,c.tObject)({checkable:(0,c.tOptional)(c.tBoolean),checked:(0,c.tOptional)(c.tBoolean),clazz:(0,c.tOptional)(c.tString),clickable:(0,c.tOptional)(c.tBoolean),depth:(0,c.tOptional)(c.tInt),desc:(0,c.tOptional)(c.tString),enabled:(0,c.tOptional)(c.tBoolean),focusable:(0,c.tOptional)(c.tBoolean),focused:(0,c.tOptional)(c.tBoolean),hasChild:(0,c.tOptional)((0,c.tObject)({androidSelector:(0,c.tType)("AndroidSelector")})),hasDescendant:(0,c.tOptional)((0,c.tObject)({androidSelector:(0,c.tType)("AndroidSelector"),maxDepth:(0,c.tOptional)(c.tInt)})),longClickable:(0,c.tOptional)(c.tBoolean),pkg:(0,c.tOptional)(c.tString),res:(0,c.tOptional)(c.tString),scrollable:(0,c.tOptional)(c.tBoolean),selected:(0,c.tOptional)(c.tBoolean),text:(0,c.tOptional)(c.tString)}),c.scheme.AndroidElementInfo=(0,c.tObject)({children:(0,c.tOptional)((0,c.tArray)((0,c.tType)("AndroidElementInfo"))),clazz:c.tString,desc:c.tString,res:c.tString,pkg:c.tString,text:c.tString,bounds:(0,c.tType)("Rect"),checkable:c.tBoolean,checked:c.tBoolean,clickable:c.tBoolean,enabled:c.tBoolean,focusable:c.tBoolean,focused:c.tBoolean,longClickable:c.tBoolean,scrollable:c.tBoolean,selected:c.tBoolean}),c.scheme.JsonPipeInitializer=(0,c.tOptional)((0,c.tObject)({})),c.scheme.JsonPipeMessageEvent=(0,c.tObject)({message:c.tAny}),c.scheme.JsonPipeClosedEvent=(0,c.tObject)({reason:(0,c.tOptional)(c.tString)}),c.scheme.JsonPipeSendParams=(0,c.tObject)({message:c.tAny}),c.scheme.JsonPipeSendResult=(0,c.tOptional)((0,c.tObject)({})),c.scheme.JsonPipeCloseParams=(0,c.tOptional)((0,c.tObject)({})),c.scheme.JsonPipeCloseResult=(0,c.tOptional)((0,c.tObject)({}))},"./node_modules/playwright-core/lib/protocol/validatorPrimitives.js":e=>{"use strict";var t,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,i=Object.prototype.hasOwnProperty,s={};((e,t)=>{for(var r in t)n(e,r,{get:t[r],enumerable:!0})})(s,{ValidationError:()=>a,createMetadataValidator:()=>d,findValidator:()=>c,maybeFindValidator:()=>u,scheme:()=>l,tAny:()=>w,tArray:()=>v,tBinary:()=>g,tBoolean:()=>f,tChannel:()=>x,tEnum:()=>_,tFloat:()=>h,tInt:()=>p,tObject:()=>A,tOptional:()=>y,tString:()=>m,tType:()=>S,tUndefined:()=>b}),e.exports=(t=s,((e,t,s,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let s of o(t))i.call(e,s)||undefined===s||n(e,s,{get:()=>t[s],enumerable:!(a=r(t,s))||a.enumerable});return e})(n({},"__esModule",{value:!0}),t));class a extends Error{}const l={};function c(e,t,n){const r=u(e,t,n);if(!r)throw new a(`Unknown scheme for ${n}: ${e}.${t}`);return r}function u(e,t,n){const r=e+("Initializer"===n?"":t[0].toUpperCase()+t.substring(1))+n;return l[r]}function d(){return y(l.Metadata)}const h=(e,t,n)=>{if(e instanceof Number)return e.valueOf();if("number"==typeof e)return e;throw new a(`${t}: expected float, got ${typeof e}`)},p=(e,t,n)=>{let r;if(e instanceof Number)r=e.valueOf();else{if("number"!=typeof e)throw new a(`${t}: expected integer, got ${typeof e}`);r=e}if(!Number.isInteger(r))throw new a(`${t}: expected integer, got float ${r}`);return r},f=(e,t,n)=>{if(e instanceof Boolean)return e.valueOf();if("boolean"==typeof e)return e;throw new a(`${t}: expected boolean, got ${typeof e}`)},m=(e,t,n)=>{if(e instanceof String)return e.valueOf();if("string"==typeof e)return e;throw new a(`${t}: expected string, got ${typeof e}`)},g=(e,t,n)=>{if("fromBase64"===n.binary){if(e instanceof String)return Buffer.from(e.valueOf(),"base64");if("string"==typeof e)return Buffer.from(e,"base64");throw new a(`${t}: expected base64-encoded buffer, got ${typeof e}`)}if("toBase64"===n.binary){if(!(e instanceof Buffer))throw new a(`${t}: expected Buffer, got ${typeof e}`);return e.toString("base64")}if("buffer"===n.binary){if(!(e instanceof Buffer))throw new a(`${t}: expected Buffer, got ${typeof e}`);return e}throw new a(`Unsupported binary behavior "${n.binary}"`)},b=(e,t,n)=>{if(Object.is(e,void 0))return e;throw new a(`${t}: expected undefined, got ${typeof e}`)},w=(e,t,n)=>e,y=e=>(t,n,r)=>Object.is(t,void 0)?t:e(t,n,r),v=e=>(t,n,r)=>{if(!Array.isArray(t))throw new a(`${n}: expected array, got ${typeof t}`);return t.map((t,o)=>e(t,n+"["+o+"]",r))},A=e=>(t,n,r)=>{if(Object.is(t,null))throw new a(`${n}: expected object, got null`);if("object"!=typeof t)throw new a(`${n}: expected object, got ${typeof t}`);const o={};for(const[i,s]of Object.entries(e)){const e=s(t[i],n?n+"."+i:i,r);Object.is(e,void 0)||(o[i]=e)}if(r.isUnderTest())for(const[e,n]of Object.entries(t))e.startsWith("__testHook")&&(o[e]=n);return o},_=e=>(t,n,r)=>{if(!e.includes(t))throw new a(`${n}: expected one of (${e.join("|")})`);return t},x=e=>(t,n,r)=>r.tChannelImpl(e,t,n,r),S=e=>(t,n,r)=>{const o=l[e];if(!o)throw new a(n+': unknown type "'+e+'"');return o(t,n,r)}},"./node_modules/playwright-core/lib/remote/playwrightConnection.js":(e,t,n)=>{"use strict";var r,o=Object.defineProperty,i=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,l={};((e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})})(l,{PlaywrightConnection:()=>g}),e.exports=(r=l,((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let n of s(t))a.call(e,n)||undefined===n||o(e,n,{get:()=>t[n],enumerable:!(r=i(t,n))||r.enumerable});return e})(o({},"__esModule",{value:!0}),r));var c=n("./node_modules/playwright-core/lib/server/index.js"),u=n("./node_modules/playwright-core/lib/server/android/android.js"),d=n("./node_modules/playwright-core/lib/server/browser.js"),h=n("./node_modules/playwright-core/lib/server/dispatchers/debugControllerDispatcher.js"),p=n("./node_modules/playwright-core/lib/server/utils/profiler.js"),f=n("./node_modules/playwright-core/lib/utils.js"),m=n("./node_modules/playwright-core/lib/server/utils/debugLogger.js");class g{constructor(e,t,n,r,o,i){this._cleanups=[],this._disconnected=!1,this._ws=t,this._semaphore=e,this._id=i,this._profileName=(new Date).toISOString();const s=this._semaphore.acquire();if(this._dispatcherConnection=new c.DispatcherConnection,this._dispatcherConnection.onmessage=async e=>{if(await s,t.readyState!==t.CLOSING){const n=JSON.stringify(e);m.debugLogger.isEnabled("server:channel")&&m.debugLogger.log("server:channel",`[${this._id}] ${1e3*(0,f.monotonicTime)()} SEND  ${n}`),m.debugLogger.isEnabled("server:metadata")&&this.logServerMetadata(e,n,"SEND"),t.send(n)}},t.on("message",async e=>{await s;const t=Buffer.from(e).toString(),n=JSON.parse(t);m.debugLogger.isEnabled("server:channel")&&m.debugLogger.log("server:channel",`[${this._id}] ${1e3*(0,f.monotonicTime)()}  RECV ${t}`),m.debugLogger.isEnabled("server:metadata")&&this.logServerMetadata(n,t,"RECV"),this._dispatcherConnection.dispatch(n)}),t.on("close",()=>this._onDisconnect()),t.on("error",e=>this._onDisconnect(e)),n)return m.debugLogger.log("server",`[${this._id}] engaged reuse controller mode`),void(this._root=new h.DebugControllerDispatcher(this._dispatcherConnection,r.debugController));this._root=new c.RootDispatcher(this._dispatcherConnection,async(e,t)=>{await(0,p.startProfiling)();const n=await o();if(n.preLaunchedBrowser){const e=n.preLaunchedBrowser;e.options.sdkLanguage=t.sdkLanguage,e.on(d.Browser.Events.Disconnected,()=>{this.close({code:1001,reason:"Browser closed"})})}n.preLaunchedAndroidDevice&&n.preLaunchedAndroidDevice.on(u.AndroidDevice.Events.Close,()=>{this.close({code:1001,reason:"Android device disconnected"})}),n.dispose&&this._cleanups.push(n.dispose);const i=new c.PlaywrightDispatcher(e,r,n);return this._cleanups.push(()=>i.cleanup()),i})}async _onDisconnect(e){this._disconnected=!0,m.debugLogger.log("server",`[${this._id}] disconnected. error: ${e}`),await this._root.stopPendingOperations(new Error("Disconnected")).catch(()=>{}),this._root._dispose(),m.debugLogger.log("server",`[${this._id}] starting cleanup`);for(const e of this._cleanups)await e().catch(()=>{});await(0,p.stopProfiling)(this._profileName),this._semaphore.release(),m.debugLogger.log("server",`[${this._id}] finished cleanup`)}logServerMetadata(e,t,n){const r={wallTime:Date.now(),id:e.id,guid:e.guid,method:e.method,payloadSizeInBytes:Buffer.byteLength(t,"utf-8")};m.debugLogger.log("server:metadata",("SEND"===n?"SEND  ":" RECV ")+JSON.stringify(r))}async close(e){if(!this._disconnected){m.debugLogger.log("server",`[${this._id}] force closing connection: ${e?.reason||""} (${e?.code||0})`);try{this._ws.close(e?.code,e?.reason)}catch(e){}}}}},"./node_modules/playwright-core/lib/remote/playwrightServer.js":(e,t,n)=>{"use strict";var r,o=Object.defineProperty,i=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,l={};((e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})})(l,{PlaywrightServer:()=>v}),e.exports=(r=l,((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let n of s(t))a.call(e,n)||undefined===n||o(e,n,{get:()=>t[n],enumerable:!(r=i(t,n))||r.enumerable});return e})(o({},"__esModule",{value:!0}),r));var c=n("./node_modules/playwright-core/lib/remote/playwrightConnection.js"),u=n("./node_modules/playwright-core/lib/server/playwright.js"),d=n("./node_modules/playwright-core/lib/utils/isomorphic/semaphore.js"),h=n("./node_modules/playwright-core/lib/utils/isomorphic/time.js"),p=n("./node_modules/playwright-core/lib/server/utils/wsServer.js"),f=n("./node_modules/playwright-core/lib/server/utils/ascii.js"),m=n("./node_modules/playwright-core/lib/server/utils/userAgent.js"),g=n("./node_modules/playwright-core/lib/utils.js"),b=n("./node_modules/playwright-core/lib/server/utils/socksProxy.js"),w=n("./node_modules/playwright-core/lib/server/browser.js"),y=n("./node_modules/playwright-core/lib/server/progress.js");class v{constructor(e){this._dontReuseBrowsers=new Set,this._options=e,e.preLaunchedBrowser&&(this._playwright=e.preLaunchedBrowser.attribution.playwright,this._dontReuse(e.preLaunchedBrowser)),e.preLaunchedAndroidDevice&&(this._playwright=e.preLaunchedAndroidDevice._android.attribution.playwright),this._playwright??=(0,u.createPlaywright)({sdkLanguage:"javascript",isServer:!0});const t=new d.Semaphore(this._options.maxConnections),n=new d.Semaphore(1),r=new d.Semaphore(1);this._wsServer=new p.WSServer({onRequest:(e,t)=>{if("GET"===e.method&&"/json"===e.url)return t.setHeader("Content-Type","application/json"),void t.end(JSON.stringify({wsEndpointPath:this._options.path}));t.end("Running")},onUpgrade:(e,t)=>{const n=function(e){const t=e.match(/^Playwright\/(\d+\.\d+\.\d+)/);if(!t)return;const n=t[1].split(".").slice(0,2).join("."),r=(0,m.getPlaywrightVersion)(!0);return n!==r?(0,f.wrapInASCIIBox)(["Playwright version mismatch:",`  - server version: v${r}`,`  - client version: v${n}`,"","If you are using VSCode extension, restart VSCode.","","If you are connecting to a remote service,","keep your local Playwright version in sync","with the remote service version.","","<3 Playwright Team"].join("\n"),1):void 0}(e.headers["user-agent"]||"");if(n)return{error:`HTTP/${e.httpVersion} 428 Precondition Required\r\n\r\n${n}`}},onHeaders:e=>{process.env.PWTEST_SERVER_WS_HEADERS&&e.push(process.env.PWTEST_SERVER_WS_HEADERS)},onConnection:(e,o,i,s)=>{const a=e.headers["x-playwright-browser"],l=o.searchParams.get("browser")||(Array.isArray(a)?a[0]:a)||null,u=e.headers["x-playwright-proxy"],d=o.searchParams.get("proxy")||(Array.isArray(u)?u[0]:u),p=e.headers["x-playwright-launch-options"]||"",f=Array.isArray(p)?p[0]:p,m=o.searchParams.get("launch-options");let b={timeout:h.DEFAULT_PLAYWRIGHT_LAUNCH_TIMEOUT};try{b=JSON.parse(m||f),b.timeout||(b.timeout=h.DEFAULT_PLAYWRIGHT_LAUNCH_TIMEOUT)}catch(e){}const w="extension"===this._options.mode;if(b=function(e,t){return{channel:e.channel,args:e.args,ignoreAllDefaultArgs:e.ignoreAllDefaultArgs,ignoreDefaultArgs:e.ignoreDefaultArgs,timeout:e.timeout,headless:e.headless,proxy:e.proxy,chromiumSandbox:e.chromiumSandbox,firefoxUserPrefs:e.firefoxUserPrefs,slowMo:e.slowMo,executablePath:(0,g.isUnderTest)()||t?e.executablePath:void 0,downloadsPath:t?e.downloadsPath:void 0}}(b,w),o.searchParams.has("debug-controller")){if(!this._options.debugController&&!w)throw new Error("Debug controller is not enabled");return new c.PlaywrightConnection(n,i,!0,this._playwright,async()=>{throw new Error("shouldnt be used")},s)}if(w){const e=o.searchParams.get("connect");if(e){if("first"!==e)throw new Error(`Unknown connect filter: ${e}`);return new c.PlaywrightConnection(t,i,!1,this._playwright,()=>this._initConnectMode(s,e,l,b),s)}return new c.PlaywrightConnection(r,i,!1,this._playwright,()=>this._initReuseBrowsersMode(l,b,s),s)}return"launchServer"===this._options.mode||"launchServerShared"===this._options.mode?this._options.preLaunchedBrowser?new c.PlaywrightConnection(t,i,!1,this._playwright,()=>this._initPreLaunchedBrowserMode(s),s):new c.PlaywrightConnection(t,i,!1,this._playwright,()=>this._initPreLaunchedAndroidMode(s),s):new c.PlaywrightConnection(t,i,!1,this._playwright,()=>this._initLaunchBrowserMode(l,d,b,s),s)}})}async _initReuseBrowsersMode(e,t,n){g.debugLogger.log("server",`[${n}] engaged reuse browsers mode for ${e}`);const r=A(t);let o=this._playwright.allBrowsers().find(t=>t.options.name===e&&(!this._dontReuseBrowsers.has(t)&&A({...t.options.originalLaunchOptions,timeout:h.DEFAULT_PLAYWRIGHT_LAUNCH_TIMEOUT})===r));for(const n of this._playwright.allBrowsers())n!==o&&(this._dontReuseBrowsers.has(n)||n.options.name===e&&n.options.channel===t.channel&&await n.close({reason:"Connection terminated"}));if(!o){const n=this._playwright[e||"chromium"],r=new y.ProgressController;o=await r.run(e=>n.launch(e,{...t,headless:!!process.env.PW_DEBUG_CONTROLLER_HEADLESS}),t.timeout)}return{preLaunchedBrowser:o,denyLaunch:!0,dispose:async()=>{for(const e of o.contexts())e.pages().length||await e.close({reason:"Connection terminated"})}}}async _initConnectMode(e,t,n,r){n??="chromium",g.debugLogger.log("server",`[${e}] engaged connect mode`);let o=this._playwright.allBrowsers().find(e=>e.options.name===n);if(!o){const e=this._playwright[n],t=new y.ProgressController;o=await t.run(t=>e.launch(t,r),r.timeout),this._dontReuse(o)}return{preLaunchedBrowser:o,denyLaunch:!0,sharedBrowser:!0}}async _initPreLaunchedBrowserMode(e){g.debugLogger.log("server",`[${e}] engaged pre-launched (browser) mode`);const t=this._options.preLaunchedBrowser;for(const e of this._playwright.allBrowsers())e!==t&&await e.close({reason:"Connection terminated"});return{preLaunchedBrowser:t,socksProxy:this._options.preLaunchedSocksProxy,sharedBrowser:"launchServerShared"===this._options.mode,denyLaunch:!0}}async _initPreLaunchedAndroidMode(e){return g.debugLogger.log("server",`[${e}] engaged pre-launched (Android) mode`),{preLaunchedAndroidDevice:this._options.preLaunchedAndroidDevice,denyLaunch:!0}}async _initLaunchBrowserMode(e,t,n,r){let o;g.debugLogger.log("server",`[${r}] engaged launch mode for "${e}"`),t?(o=new b.SocksProxy,o.setPattern(t),n.socksProxyPort=await o.listen(0),g.debugLogger.log("server",`[${r}] started socks proxy on port ${n.socksProxyPort}`)):n.socksProxyPort=void 0;const i=this._playwright[e],s=new y.ProgressController,a=await s.run(e=>i.launch(e,n),n.timeout);return this._dontReuseBrowsers.add(a),{preLaunchedBrowser:a,socksProxy:o,denyLaunch:!0,dispose:async()=>{await a.close({reason:"Connection terminated"}),o?.close()}}}_dontReuse(e){this._dontReuseBrowsers.add(e),e.on(w.Browser.Events.Disconnected,()=>{this._dontReuseBrowsers.delete(e)})}async listen(e=0,t){return this._wsServer.listen(e,t,this._options.path)}async close(){await this._wsServer.close()}}function A(e){const t={...e};for(const e of Object.keys(t)){const n=e;t[n]===_[n]&&delete t[n]}for(const e of x)delete t[e];return JSON.stringify(t)}const _={ignoreAllDefaultArgs:!1,handleSIGINT:!1,handleSIGTERM:!1,handleSIGHUP:!1,headless:!0,devtools:!1},x=["headless","timeout","tracesDir"]},"./node_modules/playwright-core/lib/server sync recursive":(e,t,n)=>{var r={};function o(e){var t=i(e);return n(t)}function i(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}o.keys=function(){return Object.keys(r)},o.resolve=i,e.exports=o,o.id="./node_modules/playwright-core/lib/server sync recursive"},"./node_modules/playwright-core/lib/server/accessibility.js":e=>{"use strict";var t,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,i=Object.prototype.hasOwnProperty,s={};((e,t)=>{for(var r in t)n(e,r,{get:t[r],enumerable:!0})})(s,{Accessibility:()=>a}),e.exports=(t=s,((e,t,s,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let s of o(t))i.call(e,s)||undefined===s||n(e,s,{get:()=>t[s],enumerable:!(a=r(t,s))||a.enumerable});return e})(n({},"__esModule",{value:!0}),t));class a{constructor(e){this._getAXTree=e}async snapshot(e={}){const{interestingOnly:t=!0,root:n=null}=e,{tree:r,needle:o}=await this._getAXTree(n||void 0);if(!t)return n?o&&c(o)[0]:c(r)[0];const i=new Set;return l(i,r,!1),!n||o&&i.has(o)?c(o||r,i)[0]:null}}function l(e,t,n){if(t.isInteresting(n)&&e.add(t),!t.isLeafNode()){n=n||t.isControl();for(const r of t.children())l(e,r,n)}}function c(e,t){const n=[];for(const r of e.children())n.push(...c(r,t));if(t&&!t.has(e))return n;const r=e.serialize();return n.length&&(r.children=n),[r]}},"./node_modules/playwright-core/lib/server/android/android.js":(e,t,n)=>{"use strict";var r,o=Object.create,i=Object.defineProperty,s=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,l=Object.getPrototypeOf,c=Object.prototype.hasOwnProperty,u=(e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let o of a(t))c.call(e,o)||o===n||i(e,o,{get:()=>t[o],enumerable:!(r=s(t,o))||r.enumerable});return e},d=(e,t,n)=>(n=null!=e?o(l(e)):{},u(!t&&e&&e.__esModule?n:i(n,"default",{value:e,enumerable:!0}),e)),h={};((e,t)=>{for(var n in t)i(e,n,{get:t[n],enumerable:!0})})(h,{Android:()=>N,AndroidDevice:()=>F}),e.exports=(r=h,u(i({},"__esModule",{value:!0}),r));var p=n("events"),f=d(n("fs")),m=d(n("os")),g=d(n("path")),b=n("./node_modules/playwright-core/lib/server/utils/pipeTransport.js"),w=n("./node_modules/playwright-core/lib/server/utils/crypto.js"),y=n("./node_modules/playwright-core/lib/server/utils/debug.js"),v=n("./node_modules/playwright-core/lib/server/utils/env.js"),A=n("./node_modules/playwright-core/lib/server/utils/task.js"),_=n("./node_modules/playwright-core/lib/server/utils/debugLogger.js"),x=n("./node_modules/playwright-core/lib/utilsBundle.js"),S=n("./node_modules/playwright-core/lib/utilsBundle.js"),E=n("./node_modules/playwright-core/lib/server/browserContext.js"),C=n("./node_modules/playwright-core/lib/server/chromium/chromiumSwitches.js"),k=n("./node_modules/playwright-core/lib/server/chromium/crBrowser.js"),O=n("./node_modules/playwright-core/lib/server/utils/fileUtils.js"),T=n("./node_modules/playwright-core/lib/server/helper.js"),I=n("./node_modules/playwright-core/lib/server/instrumentation.js"),B=n("./node_modules/playwright-core/lib/server/utils/processLauncher.js"),M=n("./node_modules/playwright-core/lib/server/progress.js"),P=n("./node_modules/playwright-core/lib/server/registry/index.js");const j=g.default.join(m.default.tmpdir(),"playwright-artifacts-");class N extends I.SdkObject{constructor(e,t){super(e,"android"),this._devices=new Map,this._backend=t}async devices(e,t){const n=(await e.race(this._backend.devices(t))).filter(e=>"device"===e.status),r=new Set;for(const o of n)r.add(o.serial),this._devices.has(o.serial)||await e.race(F.create(this,o,t).then(e=>this._devices.set(o.serial,e)));for(const e of this._devices.keys())r.has(e)||this._devices.delete(e);return[...this._devices.values()]}_deviceClosed(e){this._devices.delete(e.serial)}}class F extends I.SdkObject{constructor(e,t,n,r){super(e,"android-device"),this._lastId=0,this._callbacks=new Map,this._webViews=new Map,this._browserConnections=new Set,this._isClosed=!1,this._android=e,this._backend=t,this.model=n,this.serial=t.serial,this._options=r,this.logName="browser"}static{this.Events={WebViewAdded:"webViewAdded",WebViewRemoved:"webViewRemoved",Close:"close"}}static async create(e,t,n){await t.init();const r=await t.runCommand("shell:getprop ro.product.model"),o=new F(e,t,r.toString().trim(),n);return await o._init(),o}async _init(){await this._refreshWebViews();const e=()=>{this._pollingWebViews=setTimeout(()=>this._refreshWebViews().then(e).catch(()=>{this.close().catch(()=>{})}),500)};e()}async shell(e){const t=await this._backend.runCommand(`shell:${e}`);return await this._refreshWebViews(),t}async open(e,t){return await this._open(e,t)}async screenshot(){return await this._backend.runCommand("shell:screencap -p")}async _driver(){if(!this._isClosed){if(!this._driverPromise){const e=new M.ProgressController;this._driverPromise=e.run(e=>this._installDriver(e))}return this._driverPromise}}async _installDriver(e){if((0,x.debug)("pw:android")("Stopping the old driver"),await e.race(this.shell("am force-stop com.microsoft.playwright.androiddriver")),this._options.omitDriverInstall)(0,x.debug)("pw:android")("Skipping the driver installation");else{(0,x.debug)("pw:android")("Uninstalling the old driver"),await e.race(this.shell("cmd package uninstall com.microsoft.playwright.androiddriver")),await e.race(this.shell("cmd package uninstall com.microsoft.playwright.androiddriver.test")),(0,x.debug)("pw:android")("Installing the new driver");const t=P.registry.findExecutable("android"),n=(0,v.getPackageManagerExecCommand)();for(const r of["android-driver.apk","android-driver-target.apk"]){const o=g.default.join(t.directory,r);if(!f.default.existsSync(o))throw new Error(`Please install Android driver apk using '${n} playwright install android'`);await this.installApk(e,await e.race(f.default.promises.readFile(o)))}}(0,x.debug)("pw:android")("Starting the new driver"),this.shell("am instrument -w com.microsoft.playwright.androiddriver.test/androidx.test.runner.AndroidJUnitRunner").catch(e=>(0,x.debug)("pw:android")(e));const t=await this._waitForLocalAbstract(e,"playwright_android_driver_socket"),n=new b.PipeTransport(t,t,t,"be");return n.onmessage=e=>{const t=JSON.parse(e),{id:n,result:r,error:o}=t,i=this._callbacks.get(n);i&&(o?i.reject(new Error(o)):i.fulfill(r),this._callbacks.delete(n))},n}async _waitForLocalAbstract(e,t){let n;for((0,x.debug)("pw:android")(`Polling the socket localabstract:${t}`);!n;)try{n=await this._open(e,`localabstract:${t}`)}catch(t){if((0,M.isAbortError)(t))throw t;await e.wait(250)}return(0,x.debug)("pw:android")(`Connected to localabstract:${t}`),n}async send(e,t={}){(t={...t,timeout:t.timeout||0}).androidSelector&&(t.selector=t.androidSelector,delete t.androidSelector);const n=await this._driver();if(!n)throw new Error("Device is closed");const r=++this._lastId,o=new Promise((e,t)=>this._callbacks.set(r,{fulfill:e,reject:t}));return n.send(JSON.stringify({id:r,method:e,params:t})),o}async close(){if(!this._isClosed){this._isClosed=!0,this._pollingWebViews&&clearTimeout(this._pollingWebViews);for(const e of this._browserConnections)await e.close();if(this._driverPromise){const e=await this._driver();e?.close()}await this._backend.close(),this._android._deviceClosed(this),this.emit(F.Events.Close)}}async launchBrowser(e,t="com.android.chrome",n){(0,x.debug)("pw:android")("Force-stopping",t),await this._backend.runCommand(`shell:am force-stop ${t}`);const r=(0,y.isUnderTest)()?"webview_devtools_remote_playwright_test":"playwright_"+(0,w.createGuid)()+"_devtools_remote",o=this._defaultArgs(n,r).join(" ");(0,x.debug)("pw:android")("Starting",t,o),await e.race(this._backend.runCommand(`shell:echo "${Buffer.from(o).toString("base64")}" | base64 -d > /data/local/tmp/chrome-command-line`)),await e.race(this._backend.runCommand(`shell:am start -a android.intent.action.VIEW -d about:blank ${t}`));const i=await this._connectToBrowser(e,r,n);try{return await e.race(this._backend.runCommand("shell:rm /data/local/tmp/chrome-command-line")),i}catch(e){throw await i.close({reason:"Failed to launch"}).catch(()=>{}),e}}_defaultArgs(e,t){return["_","--disable-fre","--no-default-browser-check",`--remote-debugging-socket-name=${t}`,...(0,C.chromiumSwitches)(),...this._innerDefaultArgs(e)]}_innerDefaultArgs(e){const{args:t=[],proxy:n}=e,r=[];if(n){r.push(`--proxy-server=${n.server}`);const e=[];n.bypass&&e.push(...n.bypass.split(",").map(e=>e.trim()).map(e=>e.startsWith(".")?"*"+e:e)),process.env.PLAYWRIGHT_DISABLE_FORCED_CHROMIUM_PROXIED_LOOPBACK||e.includes("<-loopback>")||e.push("<-loopback>"),e.length>0&&r.push(`--proxy-bypass-list=${e.join(";")}`)}return r.push(...t),r}async connectToWebView(e,t){if(!this._webViews.get(t))throw new Error("WebView has been closed");return await this._connectToBrowser(e,t)}async _connectToBrowser(e,t,n={}){const r=await this._waitForLocalAbstract(e,t);try{const t=new D(this,r);await e.race(t._init()),this._browserConnections.add(t);const o=await e.race(f.default.promises.mkdtemp(j)),i=async()=>{const e=(await(0,O.removeFolders)([o])).filter(Boolean);for(let t=0;t<(e||[]).length;++t)(0,x.debug)("pw:android")(`exception while removing ${o}: ${e[t]}`)};B.gracefullyCloseSet.add(i),r.on("close",async()=>{B.gracefullyCloseSet.delete(i),i().catch(e=>(0,x.debug)("pw:android")(`could not cleanup artifacts dir: ${e}`))});const s={name:"clank",isChromium:!0,slowMo:0,persistent:{...n,noDefaultViewport:!0},artifactsDir:o,downloadsPath:o,tracesDir:o,browserProcess:new R(t),proxy:n.proxy,protocolLogger:T.helper.debugProtocolLogger(),browserLogsCollector:new _.RecentLogsCollector,originalLaunchOptions:{}};(0,E.validateBrowserContextOptions)(n,s);const a=(await e.race(k.CRBrowser.connect(this.attribution.playwright,t,s)))._defaultContext;return await a._loadDefaultContextAsIs(e),a}catch(e){throw r.close(),e}}_open(e,t){return(0,M.raceUncancellableOperationWithCleanup)(e,()=>this._backend.open(t),e=>e.close())}webViews(){return[...this._webViews.values()]}async installApk(e,t,n){const r=n&&n.args?n.args:["-r","-t","-S"];(0,x.debug)("pw:android")("Opening install socket");const o=await this._open(e,`shell:cmd package install ${r.join(" ")} ${t.length}`);(0,x.debug)("pw:android")("Writing driver bytes: "+t.length),await e.race(o.write(t));const i=await e.race(new Promise(e=>o.on("data",e)));(0,x.debug)("pw:android")("Written driver bytes: "+i),o.close()}async push(e,t,n,r=420){const o=await this._open(e,"sync:"),i=async(t,n)=>{const r=Buffer.alloc(t.length+4);r.write(t,0),r.writeUInt32LE(n,t.length),await e.race(o.write(r))},s=async(t,n)=>{await i(t,n.length),await e.race(o.write(n))};await s("SEND",Buffer.from(`${n},${r}`));for(let e=0;e<t.length;e+=65535)await s("DATA",t.slice(e,e+65535));await i("DONE",Date.now()/1e3|0);const a=(await e.race(new Promise(e=>o.once("data",e)))).slice(0,4).toString();if("OKAY"!==a)throw new Error("Could not push: "+a);o.close()}async _refreshWebViews(){const e=(await this._backend.runCommand("shell:cat /proc/net/unix | grep webview_devtools_remote")).toString().split("\n");if(this._isClosed)return;const t=new Set;for(const n of e){const e=n.match(/[^@]+@(.*?webview_devtools_remote_?.*)/);if(!e)continue;const r=e[1];if(t.add(r),this._webViews.has(r))continue;const o=n.match(/[^@]+@.*?webview_devtools_remote_?(\d*)/);let i=-1;o&&o[1]&&(i=+o[1]);const s=await this._extractPkg(i);if(this._isClosed)return;const a={pid:i,pkg:s,socketName:r};this._webViews.set(r,a),this.emit(F.Events.WebViewAdded,a)}for(const e of this._webViews.keys())t.has(e)||(this._webViews.delete(e),this.emit(F.Events.WebViewRemoved,e))}async _extractPkg(e){let t="";if(-1===e)return t;const n=(await this._backend.runCommand(`shell:ps -A | grep ${e}`)).toString().split("\n");for(const e of n)e.match(/[^\s]+\s+(\d+).*$/)&&(t=e.substring(e.lastIndexOf(" ")+1));return t}}class D extends p.EventEmitter{constructor(e,t){super(),this._waitForNextTask=(0,A.makeWaitForNextTask)(),this.setMaxListeners(0),this.device=e,this._socket=t,this._socket.on("close",()=>{this._waitForNextTask(()=>{this.onclose&&this.onclose()})}),this._receiver=new S.wsReceiver,this._receiver.on("message",e=>{this._waitForNextTask(()=>{this.onmessage&&this.onmessage(JSON.parse(e))})})}async _init(){await this._socket.write(Buffer.from("GET /devtools/browser HTTP/1.1\r\nUpgrade: WebSocket\r\nConnection: Upgrade\r\nSec-WebSocket-Key: dGhlIHNhbXBsZSBub25jZQ==\r\nSec-WebSocket-Version: 13\r\n\r\n")),await new Promise(e=>this._socket.once("data",e)),this._socket.on("data",e=>this._receiver._write(e,"binary",()=>{}))}async send(e){var t;await this._socket.write((t=JSON.stringify(e),S.wsSender.frame(Buffer.from(t),{opcode:1,mask:!0,fin:!0,readOnly:!0})[0]))}async close(){this._socket.close()}}class R{constructor(e){this._browser=e}async kill(){}async close(){await this._browser.close()}}},"./node_modules/playwright-core/lib/server/android/backendAdb.js":(e,t,n)=>{"use strict";var r,o=Object.create,i=Object.defineProperty,s=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,l=Object.getPrototypeOf,c=Object.prototype.hasOwnProperty,u=(e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let o of a(t))c.call(e,o)||o===n||i(e,o,{get:()=>t[o],enumerable:!(r=s(t,o))||r.enumerable});return e},d={};((e,t)=>{for(var n in t)i(e,n,{get:t[n],enumerable:!0})})(d,{AdbBackend:()=>g}),e.exports=(r=d,u(i({},"__esModule",{value:!0}),r));var h=n("events"),p=((e,t,n)=>(n=null!=e?o(l(e)):{},u(e&&e.__esModule?n:i(n,"default",{value:e,enumerable:!0}),e)))(n("net")),f=n("./node_modules/playwright-core/lib/utils/isomorphic/assert.js"),m=n("./node_modules/playwright-core/lib/utilsBundle.js");class g{async devices(e={}){return(await w("host:devices",e.host,e.port)).toString().trim().split("\n").map(t=>{const[n,r]=t.trim().split("\t");return new b(n,r,e.host,e.port)})}}class b{constructor(e,t,n,r){this._closed=!1,this.serial=e,this.status=t,this.host=n,this.port=r}async init(){}async close(){this._closed=!0}runCommand(e){if(this._closed)throw new Error("Device is closed");return w(e,this.host,this.port,this.serial)}async open(e){if(this._closed)throw new Error("Device is closed");const t=await async function(e,t="127.0.0.1",n=5037,r){const o=new v(e,p.default.createConnection({host:t,port:n}));if(r){await o.write(y(`host:transport:${r}`));const e=await o.read(4);(0,f.assert)("OKAY"===e.toString(),e.toString())}await o.write(y(e));const i=await o.read(4);return(0,f.assert)("OKAY"===i.toString(),i.toString()),o}(e,this.host,this.port,this.serial);return t.becomeSocket(),t}}async function w(e,t="127.0.0.1",n=5037,r){(0,m.debug)("pw:adb:runCommand")(e,r);const o=new v(e,p.default.createConnection({host:t,port:n}));try{if(r){await o.write(y(`host:transport:${r}`));const e=await o.read(4);(0,f.assert)("OKAY"===e.toString(),e.toString())}await o.write(y(e));const t=await o.read(4);let n;if((0,f.assert)("OKAY"===t.toString(),t.toString()),e.startsWith("shell:"))n=await o.readAll();else{const e=parseInt((await o.read(4)).toString(),16);n=await o.read(e)}return n}finally{o.close()}}function y(e){let t=e.length.toString(16);return t="0".repeat(4-t.length)+t,Buffer.from(t+e)}class v extends h.EventEmitter{constructor(e,t){super(),this._buffer=Buffer.from([]),this._isSocket=!1,this._isClosed=!1,this._command=e,this._socket=t,this._connectPromise=new Promise(e=>this._socket.on("connect",e)),this._socket.on("data",e=>{(0,m.debug)("pw:adb:data")(e.toString()),this._isSocket?this.emit("data",e):(this._buffer=Buffer.concat([this._buffer,e]),this._notifyReader&&this._notifyReader())}),this._socket.on("close",()=>{this._isClosed=!0,this._notifyReader&&this._notifyReader(),this.close(),this.emit("close")}),this._socket.on("error",e=>this.emit("error",e))}async write(e){(0,m.debug)("pw:adb:send")(e.toString().substring(0,100)+"..."),await this._connectPromise,await new Promise(t=>this._socket.write(e,t))}close(){this._isClosed||((0,m.debug)("pw:adb")("Close "+this._command),this._socket.destroy())}async read(e){for(await this._connectPromise,(0,f.assert)(!this._isSocket,"Can not read by length in socket mode");this._buffer.length<e;)await new Promise(e=>this._notifyReader=e);const t=this._buffer.slice(0,e);return this._buffer=this._buffer.slice(e),(0,m.debug)("pw:adb:recv")(t.toString().substring(0,100)+"..."),t}async readAll(){for(;!this._isClosed;)await new Promise(e=>this._notifyReader=e);return this._buffer}becomeSocket(){(0,f.assert)(!this._buffer.length),this._isSocket=!0}}},"./node_modules/playwright-core/lib/server/artifact.js":(e,t,n)=>{"use strict";var r,o=Object.create,i=Object.defineProperty,s=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,l=Object.getPrototypeOf,c=Object.prototype.hasOwnProperty,u=(e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let o of a(t))c.call(e,o)||o===n||i(e,o,{get:()=>t[o],enumerable:!(r=s(t,o))||r.enumerable});return e},d={};((e,t)=>{for(var n in t)i(e,n,{get:t[n],enumerable:!0})})(d,{Artifact:()=>b}),e.exports=(r=d,u(i({},"__esModule",{value:!0}),r));var h=((e,t,n)=>(n=null!=e?o(l(e)):{},u(e&&e.__esModule?n:i(n,"default",{value:e,enumerable:!0}),e)))(n("fs")),p=n("./node_modules/playwright-core/lib/utils.js"),f=n("./node_modules/playwright-core/lib/server/errors.js"),m=n("./node_modules/playwright-core/lib/server/instrumentation.js"),g=n("./node_modules/playwright-core/lib/utils/isomorphic/manualPromise.js");class b extends m.SdkObject{constructor(e,t,n,r){super(e,"artifact"),this._finishedPromise=new g.ManualPromise,this._saveCallbacks=[],this._finished=!1,this._deleted=!1,this._localPath=t,this._unaccessibleErrorMessage=n,this._cancelCallback=r}finishedPromise(){return this._finishedPromise}localPath(){return this._localPath}async localPathAfterFinished(){if(this._unaccessibleErrorMessage)throw new Error(this._unaccessibleErrorMessage);if(await this._finishedPromise,this._failureError)throw this._failureError;return this._localPath}saveAs(e){if(this._unaccessibleErrorMessage)throw new Error(this._unaccessibleErrorMessage);if(this._deleted)throw new Error("File already deleted. Save before deleting.");if(this._failureError)throw this._failureError;this._finished?e(this._localPath).catch(()=>{}):this._saveCallbacks.push(e)}async failureError(){return this._unaccessibleErrorMessage?this._unaccessibleErrorMessage:(await this._finishedPromise,this._failureError?.message||null)}async cancel(){return(0,p.assert)(void 0!==this._cancelCallback),this._cancelCallback()}async delete(){if(this._unaccessibleErrorMessage)return;const e=await this.localPathAfterFinished();this._deleted||(this._deleted=!0,e&&await h.default.promises.unlink(e).catch(e=>{}))}async deleteOnContextClose(){this._deleted||(this._deleted=!0,this._unaccessibleErrorMessage||await h.default.promises.unlink(this._localPath).catch(e=>{}),await this.reportFinished(new f.TargetClosedError))}async reportFinished(e){if(!this._finished){if(this._finished=!0,this._failureError=e,e)for(const t of this._saveCallbacks)await t("",e);else for(const e of this._saveCallbacks)await e(this._localPath);this._saveCallbacks=[],this._finishedPromise.resolve()}}}},"./node_modules/playwright-core/lib/server/bidi/bidiBrowser.js":(e,t,n)=>{"use strict";var r,o=Object.create,i=Object.defineProperty,s=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,l=Object.getPrototypeOf,c=Object.prototype.hasOwnProperty,u=(e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let o of a(t))c.call(e,o)||o===n||i(e,o,{get:()=>t[o],enumerable:!(r=s(t,o))||r.enumerable});return e},d=(e,t,n)=>(n=null!=e?o(l(e)):{},u(!t&&e&&e.__esModule?n:i(n,"default",{value:e,enumerable:!0}),e)),h={};((e,t)=>{for(var n in t)i(e,n,{get:t[n],enumerable:!0})})(h,{BidiBrowser:()=>x,BidiBrowserContext:()=>S,Network:()=>p,getScreenOrientation:()=>O}),e.exports=(r=h,u(i({},"__esModule",{value:!0}),r));var p,f=n("./node_modules/playwright-core/lib/server/utils/eventsHelper.js"),m=n("./node_modules/playwright-core/lib/server/browser.js"),g=n("./node_modules/playwright-core/lib/server/browserContext.js"),b=d(n("./node_modules/playwright-core/lib/server/network.js")),w=n("./node_modules/playwright-core/lib/server/bidi/bidiConnection.js"),y=n("./node_modules/playwright-core/lib/server/bidi/bidiNetworkManager.js"),v=n("./node_modules/playwright-core/lib/server/bidi/bidiPage.js"),A=n("./node_modules/playwright-core/lib/server/page.js"),_=d(n("./node_modules/playwright-core/lib/server/bidi/third_party/bidiProtocol.js"));class x extends m.Browser{constructor(e,t,n){super(e,n),this._contexts=new Map,this._bidiPages=new Map,this._connection=new w.BidiConnection(t,this._onDisconnect.bind(this),n.protocolLogger,n.browserLogsCollector),this._browserSession=this._connection.browserSession,this._eventListeners=[f.eventsHelper.addEventListener(this._browserSession,"browsingContext.contextCreated",this._onBrowsingContextCreated.bind(this)),f.eventsHelper.addEventListener(this._browserSession,"script.realmDestroyed",this._onScriptRealmDestroyed.bind(this))]}static async connect(e,t,n){const r=new x(e,t,n);if(n.__testHookOnConnectToBrowser&&await n.__testHookOnConnectToBrowser(),r._bidiSessionInfo=await r._browserSession.send("session.new",{capabilities:{alwaysMatch:{acceptInsecureCerts:n.persistent?.internalIgnoreHTTPSErrors||n.persistent?.ignoreHTTPSErrors,proxy:k(n.originalLaunchOptions.proxyOverride??n.proxy),unhandledPromptBehavior:{default:_.Session.UserPromptHandlerType.Ignore},webSocketUrl:!0}}}),await r._browserSession.send("session.subscribe",{events:["browsingContext","network","log","script"]}),await r._browserSession.send("network.addDataCollector",{dataTypes:[_.Network.DataType.Response],maxEncodedDataSize:2e7}),n.persistent){const e=new S(r,void 0,n.persistent);r._defaultContext=e,await e._initialize();const t=await r._defaultContext.doCreateNewPage();await t.waitForInitializedOrError()}return r}_onDisconnect(){this._didClose()}async doCreateNewContext(e){const t=e.proxyOverride||e.proxy,{userContext:n}=await this._browserSession.send("browser.createUserContext",{acceptInsecureCerts:e.internalIgnoreHTTPSErrors||e.ignoreHTTPSErrors,proxy:k(t)}),r=new S(this,n,e);return await r._initialize(),this._contexts.set(n,r),r}contexts(){return Array.from(this._contexts.values())}version(){return this._bidiSessionInfo.capabilities.browserVersion}userAgent(){return this._bidiSessionInfo.capabilities.userAgent}isConnected(){return!this._connection.isClosed()}_onBrowsingContextCreated(e){if(e.parent){const t=e.parent;for(const n of this._bidiPages.values()){if(!n._page.frameManager.frame(t))continue;n._session.addFrameBrowsingContext(e.context),n._page.frameManager.frameAttached(e.context,t);const r=n._page.frameManager.frame(e.context);return void(r&&(r._url=e.url))}return}let t=this._contexts.get(e.userContext);if(t||(t=this._defaultContext),!t)return;const n=this._connection.createMainFrameBrowsingContextSession(e.context),r=e.originalOpener&&this._bidiPages.get(e.originalOpener),o=new v.BidiPage(t,n,r||null);o._page.mainFrame()._url=e.url,this._bidiPages.set(e.context,o)}_onBrowsingContextDestroyed(e){if(e.parent){this._browserSession.removeFrameBrowsingContext(e.context);const t=e.parent;for(const n of this._bidiPages.values())if(n._page.frameManager.frame(t))return void n._page.frameManager.frameDetached(e.context);return}const t=this._bidiPages.get(e.context);t&&(t.didClose(),this._bidiPages.delete(e.context))}_onScriptRealmDestroyed(e){for(const t of this._bidiPages.values())if(t._onRealmDestroyed(e))return}}class S extends g.BrowserContext{constructor(e,t,n){super(e,n,t),this._originToPermissions=new Map,this._initScriptIds=new Map,this._authenticateProxyViaHeader()}_bidiPages(){return[...this._browser._bidiPages.values()].filter(e=>e._browserContext===this)}async _initialize(){const e=[super._initialize()];e.push(this.doUpdateDefaultViewport()),this._options.geolocation&&e.push(this.setGeolocation(this._options.geolocation)),this._options.locale&&e.push(this._browser._browserSession.send("emulation.setLocaleOverride",{locale:this._options.locale,userContexts:[this._userContextId()]})),this._options.timezoneId&&e.push(this._browser._browserSession.send("emulation.setTimezoneOverride",{timezone:this._options.timezoneId,userContexts:[this._userContextId()]})),await Promise.all(e)}possiblyUninitializedPages(){return this._bidiPages().map(e=>e._page)}async doCreateNewPage(){const{context:e}=await this._browser._browserSession.send("browsingContext.create",{type:_.BrowsingContext.CreateType.Window,userContext:this._browserContextId});return this._browser._bidiPages.get(e)._page}async doGetCookies(e){const{cookies:t}=await this._browser._browserSession.send("storage.getCookies",{partition:{type:"storageKey",userContext:this._browserContextId}});return b.filterCookies(t.map(e=>({name:e.name,value:(0,y.bidiBytesValueToString)(e.value),domain:e.domain,path:e.path,httpOnly:e.httpOnly,secure:e.secure,expires:e.expiry??-1,sameSite:e.sameSite?E(e.sameSite):"None"})),e)}async addCookies(e){const t=(e=b.rewriteCookies(e)).map(e=>{const t={name:e.name,value:{type:"string",value:e.value},domain:e.domain,path:e.path,httpOnly:e.httpOnly,secure:e.secure,sameSite:e.sameSite&&C(e.sameSite),expiry:-1===e.expires||void 0===e.expires?void 0:Math.round(e.expires)};return this._browser._browserSession.send("storage.setCookie",{cookie:t,partition:{type:"storageKey",userContext:this._browserContextId}})});await Promise.all(t)}async doClearCookies(){await this._browser._browserSession.send("storage.deleteCookies",{partition:{type:"storageKey",userContext:this._browserContextId}})}async doGrantPermissions(e,t){const n=this._originToPermissions.get(e)||[],r=t.filter(e=>!n.includes(e));this._originToPermissions.set(e,[...n,...r]),await Promise.all(r.map(t=>this._setPermission(e,t,_.Permissions.PermissionState.Granted)))}async doClearPermissions(){const e=[...this._originToPermissions.entries()];this._originToPermissions=new Map,await Promise.all(e.map(([e,t])=>t.map(t=>this._setPermission(e,t,_.Permissions.PermissionState.Prompt))))}async _setPermission(e,t,n){await this._browser._browserSession.send("permissions.setPermission",{descriptor:{name:t},state:n,origin:e,userContext:this._userContextId()})}async setGeolocation(e){(0,g.verifyGeolocation)(e),this._options.geolocation=e,await this._browser._browserSession.send("emulation.setGeolocationOverride",{coordinates:e?{latitude:e.latitude,longitude:e.longitude,accuracy:e.accuracy}:null,userContexts:[this._userContextId()]})}async doUpdateExtraHTTPHeaders(){}async setUserAgent(e){}async doUpdateOffline(){}async doSetHTTPCredentials(e){this._options.httpCredentials=e;for(const e of this.pages())await e.delegate.updateHttpCredentials()}async doAddInitScript(e){const{script:t}=await this._browser._browserSession.send("script.addPreloadScript",{functionDeclaration:`() => { return ${e.source} }`,userContexts:[this._userContextId()]});this._initScriptIds.set(e,t)}async doRemoveInitScripts(e){const t=[];for(const n of e){const e=this._initScriptIds.get(n);e&&t.push(e),this._initScriptIds.delete(n)}await Promise.all(t.map(e=>this._browser._browserSession.send("script.removePreloadScript",{script:e})))}async doUpdateRequestInterception(){}async doUpdateDefaultViewport(){this._options.viewport&&await Promise.all([this._browser._browserSession.send("browsingContext.setViewport",{viewport:{width:this._options.viewport.width,height:this._options.viewport.height},devicePixelRatio:this._options.deviceScaleFactor||1,userContexts:[this._userContextId()]}),this._browser._browserSession.send("emulation.setScreenOrientationOverride",{screenOrientation:O(!!this._options.isMobile,this._options.viewport),userContexts:[this._userContextId()]})])}async doUpdateDefaultEmulatedMedia(){}async doExposePlaywrightBinding(){const e=[{type:"channel",value:{channel:v.kPlaywrightBindingChannel,ownership:_.Script.ResultOwnership.Root}}],t=`function addMainBinding(callback) { globalThis['${A.PageBinding.kBindingName}'] = callback; }`,n=[];n.push(this._browser._browserSession.send("script.addPreloadScript",{functionDeclaration:t,arguments:e,userContexts:[this._userContextId()]})),n.push(...this._bidiPages().map(n=>{const r=[...n._realmToContext].filter(([e,t])=>"main"===t.world).map(([e,t])=>e);return Promise.all(r.map(r=>n._session.send("script.callFunction",{functionDeclaration:t,arguments:e,target:{realm:r},awaitPromise:!1,userActivation:!1})))})),await Promise.all(n)}onClosePersistent(){}async clearCache(){}async doClose(e){this._browserContextId?(await this._browser._browserSession.send("browser.removeUserContext",{userContext:this._browserContextId}),this._browser._contexts.delete(this._browserContextId)):await this._browser.close({reason:e})}async cancelDownload(e){}_userContextId(){return this._browserContextId?this._browserContextId:"default"}}function E(e){switch(e){case"strict":return"Strict";case"lax":case"default":return"Lax";case"none":return"None"}return"None"}function C(e){switch(e){case"Strict":return _.Network.SameSite.Strict;case"Lax":return _.Network.SameSite.Lax;case"None":return _.Network.SameSite.None}return _.Network.SameSite.None}function k(e){if(!e)return;const t={proxyType:"manual"},n=new URL(e.server);switch(n.protocol){case"http:":t.httpProxy=n.host;break;case"https:":t.sslProxy=n.host;break;case"socks4:":t.socksProxy=n.host,t.socksVersion=4;break;case"socks5:":t.socksProxy=n.host,t.socksVersion=5;break;default:throw new Error("Invalid proxy server protocol: "+e.server)}const r=e.bypass??process.env.PLAYWRIGHT_PROXY_BYPASS_FOR_TESTING;return r&&(t.noProxy=r.split(",")),t}function O(e,t){const n={type:"landscape-primary",natural:_.Emulation.ScreenOrientationNatural.Landscape};return e&&(n.natural=_.Emulation.ScreenOrientationNatural.Portrait,t.width<=t.height&&(n.type="portrait-primary")),n}(e=>{let t;var n;(n=t=e.SameSite||(e.SameSite={})).Strict="strict",n.Lax="lax",n.None="none"})(p||(p={}))},"./node_modules/playwright-core/lib/server/bidi/bidiChromium.js":(e,t,n)=>{"use strict";var r,o=Object.create,i=Object.defineProperty,s=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,l=Object.getPrototypeOf,c=Object.prototype.hasOwnProperty,u=(e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let o of a(t))c.call(e,o)||o===n||i(e,o,{get:()=>t[o],enumerable:!(r=s(t,o))||r.enumerable});return e},d={};((e,t)=>{for(var n in t)i(e,n,{get:t[n],enumerable:!0})})(d,{BidiChromium:()=>y}),e.exports=(r=d,u(i({},"__esModule",{value:!0}),r));var h=((e,t,n)=>(n=null!=e?o(l(e)):{},u(e&&e.__esModule?n:i(n,"default",{value:e,enumerable:!0}),e)))(n("os")),p=n("./node_modules/playwright-core/lib/server/utils/ascii.js"),f=n("./node_modules/playwright-core/lib/server/browserType.js"),m=n("./node_modules/playwright-core/lib/server/bidi/bidiBrowser.js"),g=n("./node_modules/playwright-core/lib/server/bidi/bidiConnection.js"),b=n("./node_modules/playwright-core/lib/server/chromium/chromiumSwitches.js"),w=n("./node_modules/playwright-core/lib/server/chromium/chromium.js");class y extends f.BrowserType{constructor(e){super(e,"_bidiChromium")}async connectToTransport(e,t,r){const o=await n("./node_modules/playwright-core/lib/server/bidi/bidiOverCdp.js").connectBidiOverCdp(e);e[v]=o;try{return m.BidiBrowser.connect(this.attribution.playwright,o,t)}catch(e){if(r.recentLogs().some(e=>e.includes("Failed to create a ProcessSingleton for your profile directory.")))throw new Error("Failed to create a ProcessSingleton for your profile directory. This usually means that the profile is already in use by another instance of Chromium.");throw e}}doRewriteStartupLog(e){return e.logs?(e.logs.includes("Missing X server")&&(e.logs="\n"+(0,p.wrapInASCIIBox)(f.kNoXServerRunningError,1)),e.logs.includes("crbug.com/357670")||e.logs.includes("No usable sandbox!")||e.logs.includes("crbug.com/638180")?(e.logs=["Chromium sandboxing failed!","================================","To avoid the sandboxing issue, do either of the following:","  - (preferred): Configure your environment to support sandboxing","  - (alternative): Launch Chromium without sandbox using 'chromiumSandbox: false' option","================================",""].join("\n"),e):e):e}amendEnvironment(e){return e}attemptToGracefullyCloseBrowser(e){const t=e[v];t&&(e=t),e.send({method:"browser.close",params:{},id:g.kBrowserCloseMessageId})}supportsPipeTransport(){return!1}async defaultArgs(e,t,n){const r=this._innerDefaultArgs(e);return r.push(`--user-data-dir=${n}`),r.push("--remote-debugging-port=0"),t?r.push("about:blank"):r.push("--no-startup-window"),r}async waitForReadyState(e,t){return(0,w.waitForReadyState)({...e,cdpPort:0},t)}_innerDefaultArgs(e){const{args:t=[]}=e;if(t.find(e=>e.startsWith("--user-data-dir")))throw this._createUserDataDirArgMisuseError("--user-data-dir");if(t.find(e=>e.startsWith("--remote-debugging-pipe")))throw new Error("Playwright manages remote debugging connection itself.");if(t.find(e=>!e.startsWith("-")))throw new Error("Arguments can not specify page to be opened");const n=[...(0,b.chromiumSwitches)(e.assistantMode)];"darwin"===h.default.platform()&&n.push("--enable-unsafe-swiftshader"),e.devtools&&n.push("--auto-open-devtools-for-tabs"),e.headless&&(n.push("--headless"),n.push("--hide-scrollbars","--mute-audio","--blink-settings=primaryHoverType=2,availableHoverTypes=2,primaryPointerType=4,availablePointerTypes=4")),!0!==e.chromiumSandbox&&n.push("--no-sandbox");const r=e.proxyOverride||e.proxy;if(r){const t=new URL(r.server);"socks5:"===t.protocol&&!e.socksProxyPort&&n.push(`--host-resolver-rules="MAP * ~NOTFOUND , EXCLUDE ${t.hostname}"`),n.push(`--proxy-server=${r.server}`);const o=[];e.socksProxyPort&&o.push("<-loopback>"),r.bypass&&o.push(...r.bypass.split(",").map(e=>e.trim()).map(e=>e.startsWith(".")?"*"+e:e)),process.env.PLAYWRIGHT_DISABLE_FORCED_CHROMIUM_PROXIED_LOOPBACK||o.includes("<-loopback>")||o.push("<-loopback>"),o.length>0&&n.push(`--proxy-bypass-list=${o.join(";")}`)}return n.push(...t),n}}const v=Symbol("kBidiConnectionWrapper")},"./node_modules/playwright-core/lib/server/bidi/bidiConnection.js":(e,t,n)=>{"use strict";var r,o=Object.defineProperty,i=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,l={};((e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})})(l,{BidiConnection:()=>m,BidiSession:()=>g,kBrowserCloseMessageId:()=>p,kShutdownSessionNewMessageId:()=>f}),e.exports=(r=l,((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let n of s(t))a.call(e,n)||undefined===n||o(e,n,{get:()=>t[n],enumerable:!(r=i(t,n))||r.enumerable});return e})(o({},"__esModule",{value:!0}),r));var c=n("events"),u=n("./node_modules/playwright-core/lib/server/utils/debugLogger.js"),d=n("./node_modules/playwright-core/lib/server/helper.js"),h=n("./node_modules/playwright-core/lib/server/protocolError.js");const p=Number.MAX_SAFE_INTEGER-1,f=p-1;class m{constructor(e,t,n,r){this._lastId=0,this._closed=!1,this._browsingContextToSession=new Map,this._realmToBrowsingContext=new Map,this._realmToOwnerRealm=new Map,this._transport=e,this._onDisconnect=t,this._protocolLogger=n,this._browserLogsCollector=r,this.browserSession=new g(this,"",e=>{this.rawSend(e)}),this._transport.onmessage=this._dispatchMessage.bind(this),this._transport.onclose=this._onClose.bind(this)}nextMessageId(){return++this._lastId}rawSend(e){this._protocolLogger("send",e),this._transport.send(e)}_dispatchMessage(e){this._protocolLogger("receive",e);const t=e;if("event"===t.type){let n,r;if("script.realmCreated"===t.method?("context"in t.params&&this._realmToBrowsingContext.set(t.params.realm,t.params.context),"dedicated-worker"===t.params.type&&this._realmToOwnerRealm.set(t.params.realm,t.params.owners[0])):"script.realmDestroyed"===t.method&&(this._realmToBrowsingContext.delete(t.params.realm),this._realmToOwnerRealm.delete(t.params.realm)),"context"in t.params?n=t.params.context:"log.entryAdded"===t.method||"script.message"===t.method?(n=t.params.source?.context,r=t.params.source?.realm):"script.realmCreated"===t.method&&"dedicated-worker"===t.params.type&&(r=t.params.owners[0]),!n&&r){for(;this._realmToOwnerRealm.get(r);)r=this._realmToOwnerRealm.get(r);n=this._realmToBrowsingContext.get(r)}if(n){const t=this._browsingContextToSession.get(n);if(t)return void t.dispatchMessage(e)}}else if(e.id)for(const t of this._browsingContextToSession.values())if(t.hasCallback(e.id))return void t.dispatchMessage(e);this.browserSession.dispatchMessage(e)}_onClose(e){this._closed=!0,this._transport.onmessage=void 0,this._transport.onclose=void 0,this._browserDisconnectedLogs=d.helper.formatBrowserLogs(this._browserLogsCollector.recentLogs(),e),this.browserSession.dispose(),this._onDisconnect()}isClosed(){return this._closed}close(){this._closed||this._transport.close()}createMainFrameBrowsingContextSession(e){const t=new g(this,e,e=>this.rawSend(e));return this._browsingContextToSession.set(e,t),t}}class g extends c.EventEmitter{constructor(e,t,n){super(),this._disposed=!1,this._callbacks=new Map,this._crashed=!1,this._browsingContexts=new Set,this.setMaxListeners(0),this.connection=e,this.sessionId=t,this._rawSend=n,this.on=super.on,this.off=super.removeListener,this.addListener=super.addListener,this.removeListener=super.removeListener,this.once=super.once}addFrameBrowsingContext(e){this._browsingContexts.add(e),this.connection._browsingContextToSession.set(e,this)}removeFrameBrowsingContext(e){this._browsingContexts.delete(e),this.connection._browsingContextToSession.delete(e)}async send(e,t){if(this._crashed||this._disposed||this.connection._browserDisconnectedLogs)throw new h.ProtocolError(this._crashed?"crashed":"closed",void 0,this.connection._browserDisconnectedLogs);const n=this.connection.nextMessageId(),r={id:n,method:e,params:t};return this._rawSend(r),new Promise((t,r)=>{this._callbacks.set(n,{resolve:t,reject:r,error:new h.ProtocolError("error",e)})})}sendMayFail(e,t){return this.send(e,t).catch(e=>u.debugLogger.log("error",e))}markAsCrashed(){this._crashed=!0}isDisposed(){return this._disposed}dispose(){this._disposed=!0,this.connection._browsingContextToSession.delete(this.sessionId);for(const e of this._browsingContexts)this.connection._browsingContextToSession.delete(e);this._browsingContexts.clear();for(const e of this._callbacks.values())e.error.type=this._crashed?"crashed":"closed",e.error.logs=this.connection._browserDisconnectedLogs,e.reject(e.error);this._callbacks.clear()}hasCallback(e){return this._callbacks.has(e)}dispatchMessage(e){const t=e;if(t.id!==p&&t.id!==f)if(t.id&&this._callbacks.has(t.id)){const e=this._callbacks.get(t.id);this._callbacks.delete(t.id),"error"===t.type?(e.error.setMessage(t.error+"\nMessage: "+t.message),e.reject(e.error)):"success"===t.type?e.resolve(t.result):(e.error.setMessage("Internal error, unexpected response type: "+JSON.stringify(t)),e.reject(e.error))}else t.id||Promise.resolve().then(()=>this.emit(t.method,t.params))}}},"./node_modules/playwright-core/lib/server/bidi/bidiExecutionContext.js":(e,t,n)=>{"use strict";var r,o=Object.create,i=Object.defineProperty,s=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,l=Object.getPrototypeOf,c=Object.prototype.hasOwnProperty,u=(e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let o of a(t))c.call(e,o)||o===n||i(e,o,{get:()=>t[o],enumerable:!(r=s(t,o))||r.enumerable});return e},d=(e,t,n)=>(n=null!=e?o(l(e)):{},u(!t&&e&&e.__esModule?n:i(n,"default",{value:e,enumerable:!0}),e)),h={};((e,t)=>{for(var n in t)i(e,n,{get:t[n],enumerable:!0})})(h,{BidiExecutionContext:()=>v,createHandle:()=>A}),e.exports=(r=h,u(i({},"__esModule",{value:!0}),r));var p=n("./node_modules/playwright-core/lib/utils.js"),f=n("./node_modules/playwright-core/lib/utils/isomorphic/utilityScriptSerializers.js"),m=d(n("./node_modules/playwright-core/lib/server/javascript.js")),g=d(n("./node_modules/playwright-core/lib/server/dom.js")),b=n("./node_modules/playwright-core/lib/server/bidi/third_party/bidiDeserializer.js"),w=d(n("./node_modules/playwright-core/lib/server/bidi/third_party/bidiProtocol.js")),y=n("./node_modules/playwright-core/lib/server/bidi/third_party/bidiSerializer.js");class v{constructor(e,t){this._session=e,"window"===t.type?this._target={context:t.context,sandbox:t.sandbox}:this._target={realm:t.realm}}async rawEvaluateJSON(e){const t=await this._session.send("script.evaluate",{expression:e,target:this._target,serializationOptions:{maxObjectDepth:10,maxDomDepth:10},awaitPromise:!0,userActivation:!0});if("success"===t.type)return b.BidiDeserializer.deserialize(t.result);if("exception"===t.type)throw new m.JavaScriptErrorInEvaluate(t.exceptionDetails.text);throw new m.JavaScriptErrorInEvaluate("Unexpected response type: "+JSON.stringify(t))}async rawEvaluateHandle(e,t){const n=await this._session.send("script.evaluate",{expression:t,target:this._target,resultOwnership:w.Script.ResultOwnership.Root,serializationOptions:{maxObjectDepth:0,maxDomDepth:0},awaitPromise:!0,userActivation:!0});if("success"===n.type){if("handle"in n.result)return A(e,n.result);throw new m.JavaScriptErrorInEvaluate("Cannot get handle: "+JSON.stringify(n.result))}if("exception"===n.type)throw new m.JavaScriptErrorInEvaluate(n.exceptionDetails.text);throw new m.JavaScriptErrorInEvaluate("Unexpected response type: "+JSON.stringify(n))}async evaluateWithArguments(e,t,n,r,o){const i=await this._session.send("script.callFunction",{functionDeclaration:e,target:this._target,arguments:[{handle:n._objectId},...r.map(y.BidiSerializer.serialize),...o.map(e=>({handle:e._objectId}))],resultOwnership:t?void 0:w.Script.ResultOwnership.Root,serializationOptions:t?{}:{maxObjectDepth:0,maxDomDepth:0},awaitPromise:!0,userActivation:!0});if("exception"===i.type)throw new m.JavaScriptErrorInEvaluate(i.exceptionDetails.text);if("success"===i.type)return t?(0,f.parseEvaluationResultValue)(b.BidiDeserializer.deserialize(i.result)):A(n._context,i.result);throw new m.JavaScriptErrorInEvaluate("Unexpected response type: "+JSON.stringify(i))}async getProperties(e){const t=await e.evaluate(e=>{const t=[],n=Object.getOwnPropertyDescriptors(e);for(const e in n)n[e]?.enumerable&&t.push(e);return t}),n=await Promise.all(t.map(t=>e.evaluateHandle((e,t)=>e[t],t))),r=new Map;for(let e=0;e<t.length;e++)r.set(t[e],n[e]);return r}async releaseHandle(e){e._objectId&&await this._session.send("script.disown",{target:this._target,handles:[e._objectId]})}async nodeIdForElementHandle(e){const t=await this._remoteValueForReference({handle:e._objectId});if(!("sharedId"in t))throw new Error("Element is not a node");return{sharedId:t.sharedId}}async remoteObjectForNodeId(e,t){const n=await this._remoteValueForReference(t,!0);if(!("handle"in n))throw new Error("Can't get remote object for nodeId");return A(e,n)}async contentFrameIdForFrame(e){const t=await this._rawCallFunction("e => e.contentWindow",{handle:e._objectId});return"window"===t?.type?t.value.context:null}async frameIdForWindowHandle(e){if(!e._objectId)throw new Error("JSHandle is not a DOM node handle");const t=await this._remoteValueForReference({handle:e._objectId});return"window"===t.type?t.value.context:null}async _remoteValueForReference(e,t){return await this._rawCallFunction("e => e",e,t)}async _rawCallFunction(e,t,n){const r=await this._session.send("script.callFunction",{functionDeclaration:e,target:this._target,arguments:[t],resultOwnership:n?w.Script.ResultOwnership.Root:w.Script.ResultOwnership.None,serializationOptions:{maxObjectDepth:0,maxDomDepth:0},awaitPromise:!0,userActivation:!0});if("exception"===r.type)throw new m.JavaScriptErrorInEvaluate(r.exceptionDetails.text);if("success"===r.type)return r.result;throw new m.JavaScriptErrorInEvaluate("Unexpected response type: "+JSON.stringify(r))}}function A(e,t){if("node"===t.type)return(0,p.assert)(e instanceof g.FrameExecutionContext),new g.ElementHandle(e,t.handle);const n="handle"in t?t.handle:void 0;return new m.JSHandle(e,t.type,function(e){return"undefined"===e.type?"undefined":"null"===e.type?"null":"value"in e?String(e.value):`<${e.type}>`}(t),n,function(e){if("undefined"!==e.type)return"null"===e.type?null:"number"===e.type&&"string"==typeof e.value?m.parseUnserializableValue(e.value):"value"in e?e.value:void 0}(t))}},"./node_modules/playwright-core/lib/server/bidi/bidiFirefox.js":(e,t,n)=>{"use strict";var r,o=Object.create,i=Object.defineProperty,s=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,l=Object.getPrototypeOf,c=Object.prototype.hasOwnProperty,u=(e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let o of a(t))c.call(e,o)||o===n||i(e,o,{get:()=>t[o],enumerable:!(r=s(t,o))||r.enumerable});return e},d=(e,t,n)=>(n=null!=e?o(l(e)):{},u(!t&&e&&e.__esModule?n:i(n,"default",{value:e,enumerable:!0}),e)),h={};((e,t)=>{for(var n in t)i(e,n,{get:t[n],enumerable:!0})})(h,{BidiFirefox:()=>A}),e.exports=(r=h,u(i({},"__esModule",{value:!0}),r));var p=d(n("os")),f=d(n("path")),m=n("./node_modules/playwright-core/lib/server/utils/ascii.js"),g=n("./node_modules/playwright-core/lib/server/browserType.js"),b=n("./node_modules/playwright-core/lib/server/bidi/bidiBrowser.js"),w=n("./node_modules/playwright-core/lib/server/bidi/bidiConnection.js"),y=n("./node_modules/playwright-core/lib/server/bidi/third_party/firefoxPrefs.js"),v=n("./node_modules/playwright-core/lib/utils/isomorphic/manualPromise.js");class A extends g.BrowserType{constructor(e){super(e,"_bidiFirefox")}executablePath(){return""}async connectToTransport(e,t){return b.BidiBrowser.connect(this.attribution.playwright,e,t)}doRewriteStartupLog(e){return e.logs?(e.logs.includes("as root in a regular user's session is not supported.")&&(e.logs="\n"+(0,m.wrapInASCIIBox)(`Firefox is unable to launch if the $HOME folder isn't owned by the current user.\nWorkaround: Set the HOME=/root environment variable${process.env.GITHUB_ACTION?" in your GitHub Actions workflow file":""} when running Playwright.`,1)),e.logs.includes("no DISPLAY environment variable specified")&&(e.logs="\n"+(0,m.wrapInASCIIBox)(g.kNoXServerRunningError,1)),e):e}amendEnvironment(e){if(!f.default.isAbsolute(p.default.homedir()))throw new Error(`Cannot launch Firefox with relative home directory. Did you set ${"win32"===p.default.platform()?"USERPROFILE":"HOME"} to a relative path?`);return e={...e,MOZ_CRASHREPORTER:"1",MOZ_CRASHREPORTER_NO_REPORT:"1",MOZ_CRASHREPORTER_SHUTDOWN:"1"},"linux"===p.default.platform()?{...e,SNAP_NAME:void 0,SNAP_INSTANCE_NAME:void 0}:e}attemptToGracefullyCloseBrowser(e){this._attemptToGracefullyCloseBrowser(e).catch(()=>{})}async _attemptToGracefullyCloseBrowser(e){e.onmessage||(e.send({method:"session.new",params:{capabilities:{}},id:w.kShutdownSessionNewMessageId}),await new Promise(t=>{e.onmessage=e=>{e.id===w.kShutdownSessionNewMessageId&&t(!0)}})),e.send({method:"browser.close",params:{},id:w.kBrowserCloseMessageId})}supportsPipeTransport(){return!1}async prepareUserDataDir(e,t){await(0,y.createProfile)({path:t,preferences:e.firefoxUserPrefs||{}})}async defaultArgs(e,t,n){const{args:r=[],headless:o}=e;if(r.find(e=>e.startsWith("-profile")||e.startsWith("--profile")))throw this._createUserDataDirArgMisuseError("--profile");if(r.find(e=>!e.startsWith("-")))throw new Error("Arguments can not specify page to be opened");const i=["--remote-debugging-port=0"];return o?i.push("--headless"):i.push("--foreground"),i.push("--profile",n),i.push(...r),i}async waitForReadyState(e,t){const n=new v.ManualPromise;return t.onMessage(e=>{const t=e.match(/WebDriver BiDi listening on (ws:\/\/.*)$/);t&&n.resolve({wsEndpoint:t[1]+"/session"})}),n}}},"./node_modules/playwright-core/lib/server/bidi/bidiInput.js":(e,t,n)=>{"use strict";var r,o=Object.create,i=Object.defineProperty,s=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,l=Object.getPrototypeOf,c=Object.prototype.hasOwnProperty,u=(e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let o of a(t))c.call(e,o)||o===n||i(e,o,{get:()=>t[o],enumerable:!(r=s(t,o))||r.enumerable});return e},d={};((e,t)=>{for(var n in t)i(e,n,{get:t[n],enumerable:!0})})(d,{RawKeyboardImpl:()=>m,RawMouseImpl:()=>g,RawTouchscreenImpl:()=>b}),e.exports=(r=d,u(i({},"__esModule",{value:!0}),r));var h=n("./node_modules/playwright-core/lib/server/input.js"),p=n("./node_modules/playwright-core/lib/server/bidi/third_party/bidiKeyboard.js"),f=((e,t,n)=>(n=null!=e?o(l(e)):{},u(e&&e.__esModule?n:i(n,"default",{value:e,enumerable:!0}),e)))(n("./node_modules/playwright-core/lib/server/bidi/third_party/bidiProtocol.js"));class m{constructor(e){this._session=e}setSession(e){this._session=e}async keydown(e,t,n,r,o){n=(0,h.resolveSmartModifierString)(n);const i=[];i.push({type:"keyDown",value:(0,p.getBidiKeyValue)(n)}),await this._performActions(e,i)}async keyup(e,t,n,r){n=(0,h.resolveSmartModifierString)(n);const o=[];o.push({type:"keyUp",value:(0,p.getBidiKeyValue)(n)}),await this._performActions(e,o)}async sendText(e,t){const n=[];for(const e of t){const t=(0,p.getBidiKeyValue)(e);n.push({type:"keyDown",value:t}),n.push({type:"keyUp",value:t})}await this._performActions(e,n)}async _performActions(e,t){await e.race(this._session.send("input.performActions",{context:this._session.sessionId,actions:[{type:"key",id:"pw_keyboard",actions:t}]}))}}class g{constructor(e){this._session=e}async move(e,t,n,r,o,i,s){await this._performActions(e,[{type:"pointerMove",x:t,y:n}])}async down(e,t,n,r,o,i,s){await this._performActions(e,[{type:"pointerDown",button:w(r)}])}async up(e,t,n,r,o,i,s){await this._performActions(e,[{type:"pointerUp",button:w(r)}])}async wheel(e,t,n,r,o,i,s){t=Math.floor(t),n=Math.floor(n),await e.race(this._session.send("input.performActions",{context:this._session.sessionId,actions:[{type:"wheel",id:"pw_mouse_wheel",actions:[{type:"scroll",x:t,y:n,deltaX:i,deltaY:s}]}]}))}async _performActions(e,t){await e.race(this._session.send("input.performActions",{context:this._session.sessionId,actions:[{type:"pointer",id:"pw_mouse",parameters:{pointerType:f.Input.PointerType.Mouse},actions:t}]}))}}class b{constructor(e){this._session=e}async tap(e,t,n,r){}}function w(e){switch(e){case"left":return 0;case"right":return 2;case"middle":return 1}throw new Error("Unknown button: "+e)}},"./node_modules/playwright-core/lib/server/bidi/bidiNetworkManager.js":(e,t,n)=>{"use strict";var r,o=Object.create,i=Object.defineProperty,s=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,l=Object.getPrototypeOf,c=Object.prototype.hasOwnProperty,u=(e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let o of a(t))c.call(e,o)||o===n||i(e,o,{get:()=>t[o],enumerable:!(r=s(t,o))||r.enumerable});return e},d=(e,t,n)=>(n=null!=e?o(l(e)):{},u(!t&&e&&e.__esModule?n:i(n,"default",{value:e,enumerable:!0}),e)),h={};((e,t)=>{for(var n in t)i(e,n,{get:t[n],enumerable:!0})})(h,{BidiNetworkManager:()=>b,bidiBytesValueToString:()=>S}),e.exports=(r=h,u(i({},"__esModule",{value:!0}),r));var p=n("./node_modules/playwright-core/lib/server/utils/eventsHelper.js"),f=n("./node_modules/playwright-core/lib/server/cookieStore.js"),m=d(n("./node_modules/playwright-core/lib/server/network.js")),g=d(n("./node_modules/playwright-core/lib/server/bidi/third_party/bidiProtocol.js"));class b{constructor(e,t){this._userRequestInterceptionEnabled=!1,this._protocolRequestInterceptionEnabled=!1,this._attemptedAuthentications=new Set,this._session=e,this._requests=new Map,this._page=t,this._eventListeners=[p.eventsHelper.addEventListener(e,"network.beforeRequestSent",this._onBeforeRequestSent.bind(this)),p.eventsHelper.addEventListener(e,"network.responseStarted",this._onResponseStarted.bind(this)),p.eventsHelper.addEventListener(e,"network.responseCompleted",this._onResponseCompleted.bind(this)),p.eventsHelper.addEventListener(e,"network.fetchError",this._onFetchError.bind(this)),p.eventsHelper.addEventListener(e,"network.authRequired",this._onAuthRequired.bind(this))]}dispose(){p.eventsHelper.removeEventListeners(this._eventListeners)}_onBeforeRequestSent(e){if(e.request.url.startsWith("data:"))return;const t=e.redirectCount&&this._requests.get(e.request.request)||null,n=t?t.request.frame():e.context?this._page.frameManager.frame(e.context):null;if(!n)return;let r;if(t&&this._deleteRequest(t._id),e.intercepts)if(t){let n={};t._originalRequestRoute?._alreadyContinuedHeaders&&(n=A(t._originalRequestRoute._alreadyContinuedHeaders??[])),this._session.sendMayFail("network.continueRequest",{request:e.request.request,...n})}else r=new y(this._session,e.request.request);const o=new w(n,t,e,r);this._requests.set(o._id,o),this._page.frameManager.requestStarted(o.request,r)}_onResponseStarted(e){const t=this._requests.get(e.request.request);if(!t)return;const n=e.request.timings,r=n.requestTime;function o(e){return e?e-r:-1}const i={startTime:r,requestStart:o(n.requestStart),responseStart:o(n.responseStart),domainLookupStart:o(n.dnsStart),domainLookupEnd:o(n.dnsEnd),connectStart:o(n.connectStart),secureConnectionStart:o(n.tlsStart),connectEnd:o(n.connectEnd)},s=new m.Response(t.request,e.response.status,e.response.statusText,v(e.response.headers),i,async()=>{const{bytes:t}=await this._session.send("network.getData",{request:e.request.request,dataType:g.Network.DataType.Response}),n="base64"===t.type?"base64":"utf8";return Buffer.from(t.value,n)},!1);s._serverAddrFinished(),s._securityDetailsFinished(),s.setRawResponseHeaders(null),s.setResponseHeadersSize(e.response.headersSize),this._page.frameManager.requestReceivedResponse(s)}_onResponseCompleted(e){const t=this._requests.get(e.request.request);if(!t)return;const n=t.request._existingResponse();n.setTransferSize(e.response.bodySize),n.setEncodedBodySize(e.response.bodySize);const r=n.status()>=300&&n.status()<=399,o=e.request.timings.responseEnd-n.timing().startTime;r||this._deleteRequest(t._id),n._requestFinished(o),n._setHttpVersion(e.response.protocol),this._page.frameManager.reportRequestFinished(t.request,n)}_onFetchError(e){const t=this._requests.get(e.request.request);if(!t)return;this._deleteRequest(t._id);const n=t.request._existingResponse();n&&(n.setTransferSize(null),n.setEncodedBodySize(null),n._requestFinished(-1)),t.request._setFailureText(e.errorText),this._page.frameManager.requestFailed(t.request,"NS_BINDING_ABORTED"===e.errorText)}_onAuthRequired(e){const t=e.response.authChallenges?.some(e=>e.scheme.startsWith("Basic")),n=this._page.browserContext._options.httpCredentials;!t||!n||n.origin&&new URL(e.request.url).origin.toLowerCase()!==n.origin.toLowerCase()||this._attemptedAuthentications.has(e.request.request)?this._session.sendMayFail("network.continueWithAuth",{request:e.request.request,action:"cancel"}):(this._attemptedAuthentications.add(e.request.request),this._session.sendMayFail("network.continueWithAuth",{request:e.request.request,action:"provideCredentials",credentials:{type:"password",username:n.username,password:n.password}}))}_deleteRequest(e){this._requests.delete(e),this._attemptedAuthentications.delete(e)}async setRequestInterception(e){this._userRequestInterceptionEnabled=e,await this._updateProtocolRequestInterception()}async setCredentials(e){this._credentials=e,await this._updateProtocolRequestInterception()}async _updateProtocolRequestInterception(e){const t=this._userRequestInterceptionEnabled||!!this._credentials;if(t===this._protocolRequestInterceptionEnabled)return;if(this._protocolRequestInterceptionEnabled=t,e&&!t)return;const n=this._session.send("network.setCacheBehavior",{cacheBehavior:t?"bypass":"default"});let r=Promise.resolve(void 0);t?r=this._session.send("network.addIntercept",{phases:[g.Network.InterceptPhase.AuthRequired,g.Network.InterceptPhase.BeforeRequestSent],urlPatterns:[{type:"pattern"}]}).then(e=>{this._intercepId=e.intercept}):this._intercepId&&(r=this._session.send("network.removeIntercept",{intercept:this._intercepId}),this._intercepId=void 0),await Promise.all([n,r])}}class w{constructor(e,t,n,r){this._id=n.request.request,t&&(t._redirectedTo=this),this.request=new m.Request(e._page.browserContext,e,null,t?t.request:null,n.navigation??void 0,n.request.url,function(e,t,n){switch(e){case"audio":return"media";case"audioworklet":return"script";case"document":return"document";case"font":return"font";case"frame":case"iframe":return"document";case"image":return"image";case"object":return"object";case"paintworklet":case"script":case"serviceworker":case"sharedworker":return"script";case"style":return"stylesheet";case"track":return"texttrack";case"video":return"media";case"worker":return"script";case"":switch(t){case"fetch":return"fetch";case"font":return"font";case"xmlhttprequest":return"xhr";case null:return"script"===n?"xhr":"document";default:return"other"}default:return"other"}}(n.request.destination,n.request.initiatorType,n.initiator?.type),n.request.method,null,v(n.request.headers)),this.request.setRawRequestHeaders(null),this.request._setBodySize(n.request.bodySize||0),this._originalRequestRoute=r??t?._originalRequestRoute,r?._setRequest(this.request)}_finalRequest(){let e=this;for(;e._redirectedTo;)e=e._redirectedTo;return e}}class y{constructor(e,t){this._session=e,this._requestId=t}_setRequest(e){this._request=e}async continue(e){let t=e.headers||this._request.headers();e.postData&&t&&(t=t.map(t=>"content-length"===t.name.toLowerCase()?{name:t.name,value:e.postData.byteLength.toString()}:t)),this._alreadyContinuedHeaders=t,await this._session.sendMayFail("network.continueRequest",{request:this._requestId,url:e.url,method:e.method,...A(this._alreadyContinuedHeaders),body:e.postData?{type:"base64",value:Buffer.from(e.postData).toString("base64")}:void 0})}async fulfill(e){const t=e.isBase64?e.body:Buffer.from(e.body).toString("base64");await this._session.sendMayFail("network.provideResponse",{request:this._requestId,statusCode:e.status,reasonPhrase:m.statusText(e.status),..._(e.headers),body:{type:"base64",value:t}})}async abort(e){await this._session.sendMayFail("network.failRequest",{request:this._requestId})}}function v(e){const t=[];for(const{name:n,value:r}of e)t.push({name:n,value:S(r)});return t}function A(e){return{headers:x(e)}}function _(e){const t=e.filter(e=>"set-cookie"===e.name.toLowerCase()),n=e.filter(e=>"set-cookie"!==e.name.toLowerCase());return{cookies:t.map(e=>(0,f.parseRawCookie)(e.value)).filter(Boolean).map(e=>({...e,value:{type:"string",value:e.value},sameSite:E(e.sameSite)})),headers:x(n)}}function x(e){return e.map(({name:e,value:t})=>({name:e,value:{type:"string",value:t}}))}function S(e){return"string"===e.type?e.value:"base64"===e.type?Buffer.from(e.type,"base64").toString("binary"):"unknown value type: "+e.type}function E(e){if(e)return"Strict"===e?g.Network.SameSite.Strict:"Lax"===e?g.Network.SameSite.Lax:g.Network.SameSite.None}},"./node_modules/playwright-core/lib/server/bidi/bidiOverCdp.js":(e,t,n)=>{"use strict";var r,o=Object.create,i=Object.defineProperty,s=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,l=Object.getPrototypeOf,c=Object.prototype.hasOwnProperty,u=(e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let o of a(t))c.call(e,o)||o===n||i(e,o,{get:()=>t[o],enumerable:!(r=s(t,o))||r.enumerable});return e},d=(e,t,n)=>(n=null!=e?o(l(e)):{},u(!t&&e&&e.__esModule?n:i(n,"default",{value:e,enumerable:!0}),e)),h={};((e,t)=>{for(var n in t)i(e,n,{get:t[n],enumerable:!0})})(h,{connectBidiOverCdp:()=>b}),e.exports=(r=h,u(i({},"__esModule",{value:!0}),r));var p=d(n("./node_modules/chromium-bidi/lib/cjs/bidiMapper/BidiMapper.js")),f=d(n("./node_modules/chromium-bidi/lib/cjs/cdp/CdpConnection.js")),m=n("./node_modules/playwright-core/lib/server/utils/debugLogger.js");const g=(e,...t)=>{m.debugLogger.log(e,t)};async function b(e){let t;const n=new w,r=new y(n,()=>t?.close()),o=new v(e),i=new f.MapperCdpConnection(o,g);return e.onclose=()=>r.onclose?.(),t=await p.BidiServer.createAndStart(n,i,await i.createBrowserSession(),"",void 0,g),r}class w{setOnMessage(e){this._handler=e}sendMessage(e){return this._bidiConnection.onmessage?.(e)}close(){this._bidiConnection.onclose?.()}}class y{constructor(e,t){this._bidiTransport=e,this._bidiTransport._bidiConnection=this,this._closeCallback=t}send(e){this._bidiTransport._handler?.(e)}close(){this._closeCallback()}}class v{constructor(e){this._connection=e,this._connection.onmessage=e=>{this._handler?.(JSON.stringify(e))}}setOnMessage(e){this._handler=e}sendMessage(e){return this._connection.send(JSON.parse(e))}close(){this._connection.close()}}},"./node_modules/playwright-core/lib/server/bidi/bidiPage.js":(e,t,n)=>{"use strict";var r,o=Object.create,i=Object.defineProperty,s=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,l=Object.getPrototypeOf,c=Object.prototype.hasOwnProperty,u=(e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let o of a(t))c.call(e,o)||o===n||i(e,o,{get:()=>t[o],enumerable:!(r=s(t,o))||r.enumerable});return e},d=(e,t,n)=>(n=null!=e?o(l(e)):{},u(!t&&e&&e.__esModule?n:i(n,"default",{value:e,enumerable:!0}),e)),h={};((e,t)=>{for(var n in t)i(e,n,{get:t[n],enumerable:!0})})(h,{BidiPage:()=>E,kPlaywrightBindingChannel:()=>S}),e.exports=(r=h,u(i({},"__esModule",{value:!0}),r));var p=n("./node_modules/playwright-core/lib/server/utils/eventsHelper.js"),f=d(n("./node_modules/playwright-core/lib/server/dialog.js")),m=d(n("./node_modules/playwright-core/lib/server/dom.js")),g=n("./node_modules/playwright-core/lib/server/bidi/bidiBrowser.js"),b=n("./node_modules/playwright-core/lib/server/page.js"),w=n("./node_modules/playwright-core/lib/server/bidi/bidiExecutionContext.js"),y=n("./node_modules/playwright-core/lib/server/bidi/bidiInput.js"),v=n("./node_modules/playwright-core/lib/server/bidi/bidiNetworkManager.js"),A=n("./node_modules/playwright-core/lib/server/bidi/bidiPdf.js"),_=d(n("./node_modules/playwright-core/lib/server/bidi/third_party/bidiProtocol.js"));const x="__playwright_utility_world__",S="playwrightChannel";class E{constructor(e,t,n){this._realmToWorkerContext=new Map,this._sessionListeners=[],this._initScriptIds=new Map,this._session=t,this._opener=n,this.rawKeyboard=new y.RawKeyboardImpl(t),this.rawMouse=new y.RawMouseImpl(t),this.rawTouchscreen=new y.RawTouchscreenImpl(t),this._realmToContext=new Map,this._page=new b.Page(this,e),this._browserContext=e,this._networkManager=new v.BidiNetworkManager(this._session,this._page),this._pdf=new A.BidiPDF(this._session),this._page.on(b.Page.Events.FrameDetached,e=>this._removeContextsForFrame(e,!1)),this._sessionListeners=[p.eventsHelper.addEventListener(t,"script.realmCreated",this._onRealmCreated.bind(this)),p.eventsHelper.addEventListener(t,"script.message",this._onScriptMessage.bind(this)),p.eventsHelper.addEventListener(t,"browsingContext.contextDestroyed",this._onBrowsingContextDestroyed.bind(this)),p.eventsHelper.addEventListener(t,"browsingContext.navigationStarted",this._onNavigationStarted.bind(this)),p.eventsHelper.addEventListener(t,"browsingContext.navigationCommitted",this._onNavigationCommitted.bind(this)),p.eventsHelper.addEventListener(t,"browsingContext.navigationAborted",this._onNavigationAborted.bind(this)),p.eventsHelper.addEventListener(t,"browsingContext.navigationFailed",this._onNavigationFailed.bind(this)),p.eventsHelper.addEventListener(t,"browsingContext.fragmentNavigated",this._onFragmentNavigated.bind(this)),p.eventsHelper.addEventListener(t,"browsingContext.historyUpdated",this._onHistoryUpdated.bind(this)),p.eventsHelper.addEventListener(t,"browsingContext.domContentLoaded",this._onDomContentLoaded.bind(this)),p.eventsHelper.addEventListener(t,"browsingContext.load",this._onLoad.bind(this)),p.eventsHelper.addEventListener(t,"browsingContext.downloadWillBegin",this._onDownloadWillBegin.bind(this)),p.eventsHelper.addEventListener(t,"browsingContext.downloadEnd",this._onDownloadEnded.bind(this)),p.eventsHelper.addEventListener(t,"browsingContext.userPromptOpened",this._onUserPromptOpened.bind(this)),p.eventsHelper.addEventListener(t,"log.entryAdded",this._onLogEntryAdded.bind(this))],this._initialize().then(()=>this._page.reportAsNew(this._opener?._page),e=>this._page.reportAsNew(this._opener?._page,e))}async _initialize(){this._onFrameAttached(this._session.sessionId,null),await Promise.all([this.updateHttpCredentials(),this.updateRequestInterception()])}didClose(){this._session.dispose(),p.eventsHelper.removeEventListeners(this._sessionListeners),this._page._didClose()}_onFrameAttached(e,t){return this._page.frameManager.frameAttached(e,t)}_removeContextsForFrame(e,t){for(const[n,r]of this._realmToContext)r.frame===e&&(this._realmToContext.delete(n),t&&e._contextDestroyed(r))}_onRealmCreated(e){if("dedicated-worker"===e.type){const t=new w.BidiExecutionContext(this._session,e),n=new b.Worker(this._page,e.origin);return this._realmToWorkerContext.set(e.realm,n.createExecutionContext(t)),void this._page.addWorker(e.realm,n)}if(this._realmToContext.has(e.realm))return;if("window"!==e.type)return;const t=this._page.frameManager.frame(e.context);if(!t)return;let n;if(e.sandbox){if(e.sandbox!==x)return;n="utility"}else n="main",this._touchUtilityWorld(e.context);const r=new w.BidiExecutionContext(this._session,e),o=new m.FrameExecutionContext(r,t,n);t._contextCreated(n,o),this._realmToContext.set(e.realm,o)}async _touchUtilityWorld(e){await this._session.sendMayFail("script.evaluate",{expression:"1 + 1",target:{context:e,sandbox:x},serializationOptions:{maxObjectDepth:10,maxDomDepth:10},awaitPromise:!0,userActivation:!0})}_onRealmDestroyed(e){const t=this._realmToContext.get(e.realm);return t?(this._realmToContext.delete(e.realm),t.frame._contextDestroyed(t),!0):!!this._realmToWorkerContext.delete(e.realm)&&(this._page.removeWorker(e.realm),!0)}_onBrowsingContextDestroyed(e){this._browserContext._browser._onBrowsingContextDestroyed(e)}_onNavigationStarted(e){const t=e.context;this._page.frameManager.frameRequestedNavigation(t,e.navigation)}_onNavigationCommitted(e){const t=e.context;this._page.frameManager.frameCommittedNewDocumentNavigation(t,e.url,"",e.navigation,!1)}_onDomContentLoaded(e){const t=e.context;this._page.frameManager.frameLifecycleEvent(t,"domcontentloaded")}_onLoad(e){this._page.frameManager.frameLifecycleEvent(e.context,"load")}_onNavigationAborted(e){this._page.frameManager.frameAbortedNavigation(e.context,"Navigation aborted",e.navigation||void 0)}_onNavigationFailed(e){this._page.frameManager.frameAbortedNavigation(e.context,"Navigation failed",e.navigation||void 0)}_onFragmentNavigated(e){this._page.frameManager.frameCommittedSameDocumentNavigation(e.context,e.url)}_onHistoryUpdated(e){this._page.frameManager.frameCommittedSameDocumentNavigation(e.context,e.url)}_onUserPromptOpened(e){this._page.browserContext.dialogManager.dialogDidOpen(new f.Dialog(this._page,e.type,e.message,async(t,n)=>{await this._session.send("browsingContext.handleUserPrompt",{context:e.context,accept:t,userText:n})},e.defaultValue))}_onDownloadWillBegin(e){if(!e.navigation)return;let t=this._page.initializedOrUndefined();!t&&this._opener&&(t=this._opener._page.initializedOrUndefined()),t&&this._browserContext._browser._downloadCreated(t,e.navigation,e.url,e.suggestedFilename)}_onDownloadEnded(e){e.navigation&&this._browserContext._browser._downloadFinished(e.navigation,"canceled"===e.status?"canceled":void 0)}_onLogEntryAdded(e){if("javascript"===e.type&&"error"===e.level){let t,n="";if(e.text?.includes(": ")){const r=e.text.indexOf(": ");n=e.text.substring(0,r),t=e.text.substring(r+2)}else t=e.text??void 0;const r=new Error(t);return r.name=n,r.stack=`${e.text}\n${e.stackTrace?.callFrames.map(e=>{const t=`${e.url}:${e.lineNumber+1}:${e.columnNumber+1}`;return e.functionName?`    at ${e.functionName} (${t})`:`    at ${t}`}).join("\n")}`,void this._page.addPageError(r)}if("console"!==e.type)return;const t=e,n=this._realmToContext.get(e.source.realm)??this._realmToWorkerContext.get(e.source.realm);if(!n)return;const r=e.stackTrace?.callFrames[0],o=r??{url:"",lineNumber:1,columnNumber:1};this._page.addConsoleMessage(t.method,t.args.map(e=>(0,w.createHandle)(n,e)),o,e.text||void 0)}async navigateFrame(e,t,n){const{navigation:r}=await this._session.send("browsingContext.navigate",{context:e._id,url:t});return{newDocumentId:r||void 0}}async updateExtraHTTPHeaders(){}async updateEmulateMedia(){}async updateUserAgent(){}async bringToFront(){await this._session.send("browsingContext.activate",{context:this._session.sessionId})}async updateEmulatedViewportSize(){const e=this._browserContext._options,t=this._page.emulatedSize();if(!t)return;const n=t.viewport;await Promise.all([this._session.send("browsingContext.setViewport",{context:this._session.sessionId,viewport:{width:n.width,height:n.height},devicePixelRatio:e.deviceScaleFactor||1}),this._session.send("emulation.setScreenOrientationOverride",{contexts:[this._session.sessionId],screenOrientation:(0,g.getScreenOrientation)(!!e.isMobile,n)})])}async updateRequestInterception(){await this._networkManager.setRequestInterception(this._page.needsRequestInterception())}async updateOffline(){}async updateHttpCredentials(){await this._networkManager.setCredentials(this._browserContext._options.httpCredentials)}async updateFileChooserInterception(){}async reload(){await this._session.send("browsingContext.reload",{context:this._session.sessionId,wait:_.BrowsingContext.ReadinessState.Interactive})}async goBack(){return await this._session.send("browsingContext.traverseHistory",{context:this._session.sessionId,delta:-1}).then(()=>!0).catch(()=>!1)}async goForward(){return await this._session.send("browsingContext.traverseHistory",{context:this._session.sessionId,delta:1}).then(()=>!0).catch(()=>!1)}async requestGC(){throw new Error("Method not implemented.")}async _onScriptMessage(e){if(e.channel!==S)return;if(await this._page.waitForInitializedOrError()instanceof Error)return;const t=this._realmToContext.get(e.source.realm);t&&"string"===e.data.type&&await this._page.onBindingCalled(e.data.value,t)}async addInitScript(e){const{script:t}=await this._session.send("script.addPreloadScript",{functionDeclaration:`() => { return ${e.source} }`,contexts:[this._session.sessionId]});this._initScriptIds.set(e,t)}async removeInitScripts(e){const t=[];for(const n of e){const e=this._initScriptIds.get(n);e&&t.push(e),this._initScriptIds.delete(n)}await Promise.all(t.map(e=>this._session.send("script.removePreloadScript",{script:e})))}async closePage(e){e?this._session.sendMayFail("browsingContext.close",{context:this._session.sessionId,promptUnload:e}):await this._session.send("browsingContext.close",{context:this._session.sessionId,promptUnload:e})}async setBackgroundColor(e){}async takeScreenshot(e,t,n,r,o,i,s){const a=n||r,{data:l}=await e.race(this._session.send("browsingContext.captureScreenshot",{context:this._session.sessionId,format:{type:"image/"+("png"===t?"png":"jpeg"),quality:o?o/100:.8},origin:n?"document":"viewport",clip:{type:"box",...a}}));return Buffer.from(l,"base64")}async getContentFrame(e){const t=C(e._context),n=await t.contentFrameIdForFrame(e);return n?this._page.frameManager.frame(n):null}async getOwnerFrame(e){const t=await e.evaluateHandle(e=>(e.ownerDocument??e).defaultView);return t?C(e._context).frameIdForWindowHandle(t):null}async getBoundingBox(e){const t=await e.evaluate(e=>{if(!(e instanceof Element))return null;const t=e.getBoundingClientRect();return{x:t.x,y:t.y,width:t.width,height:t.height}});if(!t)return null;const n=await this._framePosition(e._frame);return n?(t.x+=n.x,t.y+=n.y,t):null}async _framePosition(e){if(e===this._page.mainFrame())return{x:0,y:0};const t=await e.frameElement(),n=await t.boundingBox();if(!n)return null;const r=await t.evaluateInUtility(([e,t])=>e.describeIFrameStyle(t),{}).catch(e=>"error:notconnected");return"error:notconnected"===r||"transformed"===r?null:(n.x+=r.left,n.y+=r.top,n)}async scrollRectIntoViewIfNeeded(e,t){return await e.evaluateInUtility(([e,t])=>{t.scrollIntoView({block:"center",inline:"center",behavior:"instant"})},null).then(()=>"done").catch(e=>{if(e instanceof Error&&e.message.includes("Node is detached from document"))return"error:notconnected";if(e instanceof Error&&e.message.includes("Node does not have a layout object"))return"error:notvisible";throw e})}async setScreencastOptions(e){}rafCountForStablePosition(){return 1}async getContentQuads(e){const t=await e.evaluateInUtility(([e,t])=>{if(!t.isConnected)return"error:notconnected";const n=t.getClientRects();return n?[...n].map(e=>[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.right,y:e.bottom},{x:e.left,y:e.bottom}]):null},null);if(!t||"error:notconnected"===t)return t;const n=await this._framePosition(e._frame);return n?(t.forEach(e=>e.forEach(e=>{e.x+=n.x,e.y+=n.y})),t):null}async setInputFilePaths(e,t){const n=C(e._context);await this._session.send("input.setFiles",{context:this._session.sessionId,element:await n.nodeIdForElementHandle(e),files:t})}async adoptElementHandle(e,t){const n=C(e._context),r=await n.nodeIdForElementHandle(e),o=C(t);return await o.remoteObjectForNodeId(t,r)}async getAccessibilityTree(e){throw new Error("Method not implemented.")}async inputActionEpilogue(){}async resetForReuse(e){}async pdf(e){return this._pdf.generate(e)}async getFrameElement(e){const t=e.parentFrame();if(!t)throw new Error("Frame has been detached.");const n=await t._mainContext(),r=await n.evaluateHandle(()=>[...document.querySelectorAll("iframe,frame")]),o=await r.evaluate(e=>e.length);let i=null;for(let t=0;t<o;t++){const n=await r.evaluateHandle((e,t)=>e[t],t);if(e===await n.contentFrame()){i=n;break}n.dispose()}if(r.dispose(),!i)throw new Error("Frame has been detached.");return i}shouldToggleStyleSheetToSyncAnimations(){return!0}}function C(e){return e.delegate}},"./node_modules/playwright-core/lib/server/bidi/bidiPdf.js":(e,t,n)=>{"use strict";var r,o=Object.defineProperty,i=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,l={};((e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})})(l,{BidiPDF:()=>p}),e.exports=(r=l,((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let n of s(t))a.call(e,n)||undefined===n||o(e,n,{get:()=>t[n],enumerable:!(r=i(t,n))||r.enumerable});return e})(o({},"__esModule",{value:!0}),r));var c=n("./node_modules/playwright-core/lib/utils.js");const u={letter:{width:8.5,height:11},legal:{width:8.5,height:14},tabloid:{width:11,height:17},ledger:{width:17,height:11},a0:{width:33.1,height:46.8},a1:{width:23.4,height:33.1},a2:{width:16.54,height:23.4},a3:{width:11.7,height:16.54},a4:{width:8.27,height:11.7},a5:{width:5.83,height:8.27},a6:{width:4.13,height:5.83}},d={px:1,in:96,cm:37.8,mm:3.78};function h(e){if(void 0===e)return;let t=e.substring(e.length-2).toLowerCase(),n="";d.hasOwnProperty(t)?n=e.substring(0,e.length-2):(t="px",n=e);const r=Number(n);return(0,c.assert)(!isNaN(r),"Failed to parse parameter value: "+e),r*d[t]/96}class p{constructor(e){this._session=e}async generate(e){const{scale:t=1,printBackground:n=!1,landscape:r=!1,pageRanges:o="",margin:i={}}=e;let s=8.5,a=11;if(e.format){const t=u[e.format.toLowerCase()];(0,c.assert)(t,"Unknown paper format: "+e.format),s=t.width,a=t.height}else s=h(e.width)||s,a=h(e.height)||a;const{data:l}=await this._session.send("browsingContext.print",{context:this._session.sessionId,background:n,margin:{bottom:h(i.bottom)||0,left:h(i.left)||0,right:h(i.right)||0,top:h(i.top)||0},orientation:r?"landscape":"portrait",page:{width:s,height:a},pageRanges:o?o.split(",").map(e=>e.trim()):void 0,scale:t});return Buffer.from(l,"base64")}}},"./node_modules/playwright-core/lib/server/bidi/third_party/bidiDeserializer.js":e=>{"use strict";var t,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,i=Object.prototype.hasOwnProperty,s={};((e,t)=>{for(var r in t)n(e,r,{get:t[r],enumerable:!0})})(s,{BidiDeserializer:()=>a}),e.exports=(t=s,((e,t,s,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let s of o(t))i.call(e,s)||undefined===s||n(e,s,{get:()=>t[s],enumerable:!(a=r(t,s))||a.enumerable});return e})(n({},"__esModule",{value:!0}),t));class a{static deserialize(e){if(e){switch(e.type){case"array":return e.value?.map(e=>a.deserialize(e));case"set":return e.value?.reduce((e,t)=>e.add(a.deserialize(t)),new Set);case"object":return e.value?.reduce((e,t)=>{const{key:n,value:r}=a._deserializeTuple(t);return e[n]=r,e},{});case"map":return e.value?.reduce((e,t)=>{const{key:n,value:r}=a._deserializeTuple(t);return e.set(n,r)},new Map);case"promise":return{};case"regexp":return new RegExp(e.value.pattern,e.value.flags);case"date":return new Date(e.value);case"undefined":return;case"null":return null;case"number":return a._deserializeNumber(e.value);case"bigint":return BigInt(e.value);case"boolean":return Boolean(e.value);case"string":return e.value}throw new Error(`Deserialization of type ${e.type} not supported.`)}}static _deserializeNumber(e){switch(e){case"-0":return-0;case"NaN":return NaN;case"Infinity":return 1/0;case"-Infinity":return-1/0;default:return e}}static _deserializeTuple([e,t]){return{key:"string"==typeof e?e:a.deserialize(e),value:a.deserialize(t)}}}},"./node_modules/playwright-core/lib/server/bidi/third_party/bidiKeyboard.js":e=>{"use strict";var t,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,i=Object.prototype.hasOwnProperty,s={};((e,t)=>{for(var r in t)n(e,r,{get:t[r],enumerable:!0})})(s,{getBidiKeyValue:()=>a}),e.exports=(t=s,((e,t,s,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let s of o(t))i.call(e,s)||undefined===s||n(e,s,{get:()=>t[s],enumerable:!(a=r(t,s))||a.enumerable});return e})(n({},"__esModule",{value:!0}),t));const a=e=>{switch(e){case"\r":case"\n":e="Enter"}if(1===[...e].length)return e;switch(e){case"Cancel":return"";case"Help":return"";case"Backspace":return"";case"Tab":return"";case"Clear":return"";case"Enter":return"";case"Shift":case"ShiftLeft":return"";case"Control":case"ControlLeft":return"";case"Alt":case"AltLeft":return"";case"Pause":return"";case"Escape":return"";case"PageUp":return"";case"PageDown":return"";case"End":return"";case"Home":return"";case"ArrowLeft":return"";case"ArrowUp":return"";case"ArrowRight":return"";case"ArrowDown":return"";case"Insert":return"";case"Delete":return"";case"NumpadEqual":return"";case"Numpad0":return"";case"Numpad1":return"";case"Numpad2":return"";case"Numpad3":return"";case"Numpad4":return"";case"Numpad5":return"";case"Numpad6":return"";case"Numpad7":return"";case"Numpad8":return"";case"Numpad9":return"";case"NumpadMultiply":return"";case"NumpadAdd":return"";case"NumpadSubtract":return"";case"NumpadDecimal":return"";case"NumpadDivide":return"";case"F1":return"";case"F2":return"";case"F3":return"";case"F4":return"";case"F5":return"";case"F6":return"";case"F7":return"";case"F8":return"";case"F9":return"";case"F10":return"";case"F11":return"";case"F12":return"";case"Meta":case"MetaLeft":return"";case"ShiftRight":return"";case"ControlRight":return"";case"AltRight":return"";case"MetaRight":return"";case"Space":return" ";case"Digit0":return"0";case"Digit1":return"1";case"Digit2":return"2";case"Digit3":return"3";case"Digit4":return"4";case"Digit5":return"5";case"Digit6":return"6";case"Digit7":return"7";case"Digit8":return"8";case"Digit9":return"9";case"KeyA":return"a";case"KeyB":return"b";case"KeyC":return"c";case"KeyD":return"d";case"KeyE":return"e";case"KeyF":return"f";case"KeyG":return"g";case"KeyH":return"h";case"KeyI":return"i";case"KeyJ":return"j";case"KeyK":return"k";case"KeyL":return"l";case"KeyM":return"m";case"KeyN":return"n";case"KeyO":return"o";case"KeyP":return"p";case"KeyQ":return"q";case"KeyR":return"r";case"KeyS":return"s";case"KeyT":return"t";case"KeyU":return"u";case"KeyV":return"v";case"KeyW":return"w";case"KeyX":return"x";case"KeyY":return"y";case"KeyZ":return"z";case"Semicolon":return";";case"Equal":return"=";case"Comma":return",";case"Minus":return"-";case"Period":return".";case"Slash":return"/";case"Backquote":return"`";case"BracketLeft":return"[";case"Backslash":return"\\";case"BracketRight":return"]";case"Quote":return'"';default:throw new Error(`Unknown key: "${e}"`)}}},"./node_modules/playwright-core/lib/server/bidi/third_party/bidiProtocol.js":(e,t,n)=>{"use strict";var r,o=Object.defineProperty,i=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,l=(e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let l of s(t))a.call(e,l)||l===n||o(e,l,{get:()=>t[l],enumerable:!(r=i(t,l))||r.enumerable});return e},c=(e,t,n)=>(l(e,t,"default"),n&&l(n,t,"default")),u={};e.exports=(r=u,l(o({},"__esModule",{value:!0}),r)),c(u,n("./node_modules/playwright-core/lib/server/bidi/third_party/bidiProtocolCore.js"),e.exports),c(u,n("./node_modules/playwright-core/lib/server/bidi/third_party/bidiProtocolPermissions.js"),e.exports)},"./node_modules/playwright-core/lib/server/bidi/third_party/bidiProtocolCore.js":e=>{"use strict";var t,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,i=Object.prototype.hasOwnProperty,s={};((e,t)=>{for(var r in t)n(e,r,{get:t[r],enumerable:!0})})(s,{BrowsingContext:()=>l,Emulation:()=>c,ErrorCode:()=>f,Input:()=>p,Log:()=>h,Network:()=>u,Script:()=>d,Session:()=>a}),e.exports=(t=s,((e,t,s,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let s of o(t))i.call(e,s)||undefined===s||n(e,s,{get:()=>t[s],enumerable:!(a=r(t,s))||a.enumerable});return e})(n({},"__esModule",{value:!0}),t));var a,l,c,u,d,h,p,f=(e=>(e.InvalidArgument="invalid argument",e.InvalidSelector="invalid selector",e.InvalidSessionId="invalid session id",e.InvalidWebExtension="invalid web extension",e.MoveTargetOutOfBounds="move target out of bounds",e.NoSuchAlert="no such alert",e.NoSuchNetworkCollector="no such network collector",e.NoSuchElement="no such element",e.NoSuchFrame="no such frame",e.NoSuchHandle="no such handle",e.NoSuchHistoryEntry="no such history entry",e.NoSuchIntercept="no such intercept",e.NoSuchNetworkData="no such network data",e.NoSuchNode="no such node",e.NoSuchRequest="no such request",e.NoSuchScript="no such script",e.NoSuchStoragePartition="no such storage partition",e.NoSuchUserContext="no such user context",e.NoSuchWebExtension="no such web extension",e.SessionNotCreated="session not created",e.UnableToCaptureScreen="unable to capture screen",e.UnableToCloseBrowser="unable to close browser",e.UnableToSetCookie="unable to set cookie",e.UnableToSetFileInput="unable to set file input",e.UnavailableNetworkData="unavailable network data",e.UnderspecifiedStoragePartition="underspecified storage partition",e.UnknownCommand="unknown command",e.UnknownError="unknown error",e.UnsupportedOperation="unsupported operation",e))(f||{});(e=>{let t;var n;(n=t=e.UserPromptHandlerType||(e.UserPromptHandlerType={})).Accept="accept",n.Dismiss="dismiss",n.Ignore="ignore"})(a||(a={})),(e=>{let t;var n;(n=t=e.ReadinessState||(e.ReadinessState={})).None="none",n.Interactive="interactive",n.Complete="complete"})(l||(l={})),(e=>{let t;var n;(n=t=e.UserPromptType||(e.UserPromptType={})).Alert="alert",n.Beforeunload="beforeunload",n.Confirm="confirm",n.Prompt="prompt"})(l||(l={})),(e=>{let t;var n;(n=t=e.CreateType||(e.CreateType={})).Tab="tab",n.Window="window"})(l||(l={})),(e=>{let t;var n;(n=t=e.ForcedColorsModeTheme||(e.ForcedColorsModeTheme={})).Light="light",n.Dark="dark"})(c||(c={})),(e=>{let t;var n;(n=t=e.ScreenOrientationNatural||(e.ScreenOrientationNatural={})).Portrait="portrait",n.Landscape="landscape"})(c||(c={})),(e=>{let t;(t=e.CollectorType||(e.CollectorType={})).Blob="blob"})(u||(u={})),(e=>{let t;var n;(n=t=e.SameSite||(e.SameSite={})).Strict="strict",n.Lax="lax",n.None="none",n.Default="default"})(u||(u={})),(e=>{let t;(t=e.DataType||(e.DataType={})).Response="response"})(u||(u={})),(e=>{let t;var n;(n=t=e.InterceptPhase||(e.InterceptPhase={})).BeforeRequestSent="beforeRequestSent",n.ResponseStarted="responseStarted",n.AuthRequired="authRequired"})(u||(u={})),(e=>{let t;var n;(n=t=e.ResultOwnership||(e.ResultOwnership={})).Root="root",n.None="none"})(d||(d={})),(e=>{let t;var n;(n=t=e.Level||(e.Level={})).Debug="debug",n.Info="info",n.Warn="warn",n.Error="error"})(h||(h={})),(e=>{let t;var n;(n=t=e.PointerType||(e.PointerType={})).Mouse="mouse",n.Pen="pen",n.Touch="touch"})(p||(p={}))},"./node_modules/playwright-core/lib/server/bidi/third_party/bidiProtocolPermissions.js":e=>{"use strict";var t,n,r=Object.defineProperty,o=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,s=Object.prototype.hasOwnProperty,a={};((e,t)=>{for(var n in t)r(e,n,{get:t[n],enumerable:!0})})(a,{Permissions:()=>n}),e.exports=(t=a,((e,t,n,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let n of i(t))s.call(e,n)||undefined===n||r(e,n,{get:()=>t[n],enumerable:!(a=o(t,n))||a.enumerable});return e})(r({},"__esModule",{value:!0}),t)),(e=>{let t;var n;(n=t=e.PermissionState||(e.PermissionState={})).Granted="granted",n.Denied="denied",n.Prompt="prompt"})(n||(n={}))},"./node_modules/playwright-core/lib/server/bidi/third_party/bidiSerializer.js":e=>{"use strict";var t,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,i=Object.prototype.hasOwnProperty,s={};((e,t)=>{for(var r in t)n(e,r,{get:t[r],enumerable:!0})})(s,{BidiSerializer:()=>l,isDate:()=>d,isPlainObject:()=>c,isRegExp:()=>u}),e.exports=(t=s,((e,t,s,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let s of o(t))i.call(e,s)||undefined===s||n(e,s,{get:()=>t[s],enumerable:!(a=r(t,s))||a.enumerable});return e})(n({},"__esModule",{value:!0}),t));class a extends Error{}class l{static serialize(e){switch(typeof e){case"symbol":case"function":throw new a("Unable to serializable "+typeof e);case"object":return l._serializeObject(e);case"undefined":return{type:"undefined"};case"number":return l._serializeNumber(e);case"bigint":return{type:"bigint",value:e.toString()};case"string":return{type:"string",value:e};case"boolean":return{type:"boolean",value:e}}}static _serializeNumber(e){let t;return t=Object.is(e,-0)?"-0":Object.is(e,1/0)?"Infinity":Object.is(e,-1/0)?"-Infinity":Object.is(e,NaN)?"NaN":e,{type:"number",value:t}}static _serializeObject(e){if(null===e)return{type:"null"};if(Array.isArray(e))return{type:"array",value:e.map(e=>l.serialize(e))};if(c(e)){try{JSON.stringify(e)}catch(e){throw e instanceof TypeError&&e.message.startsWith("Converting circular structure to JSON")&&(e.message+=" Recursive objects are not allowed."),e}const t=[];for(const n in e)t.push([l.serialize(n),l.serialize(e[n])]);return{type:"object",value:t}}if(u(e))return{type:"regexp",value:{pattern:e.source,flags:e.flags}};if(d(e))return{type:"date",value:e.toISOString()};throw new a("Custom object serialization not possible. Use plain objects instead.")}}const c=e=>"object"==typeof e&&e?.constructor===Object,u=e=>"object"==typeof e&&e?.constructor===RegExp,d=e=>"object"==typeof e&&e?.constructor===Date},"./node_modules/playwright-core/lib/server/bidi/third_party/firefoxPrefs.js":(e,t,n)=>{"use strict";var r,o=Object.create,i=Object.defineProperty,s=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,l=Object.getPrototypeOf,c=Object.prototype.hasOwnProperty,u=(e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let o of a(t))c.call(e,o)||o===n||i(e,o,{get:()=>t[o],enumerable:!(r=s(t,o))||r.enumerable});return e},d=(e,t,n)=>(n=null!=e?o(l(e)):{},u(!t&&e&&e.__esModule?n:i(n,"default",{value:e,enumerable:!0}),e)),h={};((e,t)=>{for(var n in t)i(e,n,{get:t[n],enumerable:!0})})(h,{createProfile:()=>m}),e.exports=(r=h,u(i({},"__esModule",{value:!0}),r));var p=d(n("fs")),f=d(n("path"));async function m(e){p.default.existsSync(e.path)||await p.default.promises.mkdir(e.path,{recursive:!0}),await async function(e){const t=f.default.join(e.path,"prefs.js"),n=Object.entries(e.preferences).map(([e,t])=>`user_pref(${JSON.stringify(e)}, ${JSON.stringify(t)});`),r=await Promise.allSettled([p.default.promises.writeFile(f.default.join(e.path,"user.js"),n.join("\n")),p.default.promises.access(t,p.default.constants.F_OK).then(async()=>{await p.default.promises.copyFile(t,f.default.join(e.path,"prefs.js.playwright"))},()=>{})]);for(const e of r)if("rejected"===e.status)throw e.reason}({preferences:{...g(e.preferences),...e.preferences},path:e.path})}function g(e){const t="dummy.test",n={"app.normandy.api_url":"","app.update.checkInstallTime":!1,"app.update.disabledForTesting":!0,"apz.content_response_timeout":6e4,"browser.contentblocking.features.standard":"-tp,tpPrivate,cookieBehavior0,-cm,-fp","browser.dom.window.dump.enabled":!0,"browser.newtabpage.activity-stream.discoverystream.region-weather-config":"","browser.newtabpage.activity-stream.newtabWallpapers.enabled":!1,"browser.newtabpage.activity-stream.newtabWallpapers.v2.enabled":!1,"browser.newtabpage.activity-stream.showSponsoredTopSites":!1,"browser.newtabpage.activity-stream.feeds.system.topstories":!1,"browser.newtabpage.enabled":!1,"browser.pagethumbnails.capturing_disabled":!0,"browser.safebrowsing.blockedURIs.enabled":!1,"browser.safebrowsing.downloads.enabled":!1,"browser.safebrowsing.malware.enabled":!1,"browser.safebrowsing.phishing.enabled":!1,"browser.search.update":!1,"browser.sessionstore.resume_from_crash":!1,"browser.shell.checkDefaultBrowser":!1,"browser.startup.homepage":"about:blank","browser.startup.homepage_override.mstone":"ignore","browser.startup.page":0,"browser.tabs.disableBackgroundZombification":!1,"browser.tabs.warnOnCloseOtherTabs":!1,"browser.tabs.warnOnOpen":!1,"browser.translations.automaticallyPopup":!1,"browser.uitour.enabled":!1,"browser.urlbar.suggest.searches":!1,"browser.usedOnWindows10.introURL":"","browser.warnOnQuit":!1,"datareporting.healthreport.documentServerURI":`http://${t}/dummy/healthreport/`,"datareporting.healthreport.logging.consoleEnabled":!1,"datareporting.healthreport.service.enabled":!1,"datareporting.healthreport.service.firstRun":!1,"datareporting.healthreport.uploadEnabled":!1,"datareporting.policy.dataSubmissionEnabled":!1,"datareporting.policy.dataSubmissionPolicyBypassNotification":!0,"devtools.jsonview.enabled":!1,"dom.disable_open_during_load":!1,"dom.file.createInChild":!0,"dom.ipc.reportProcessHangs":!1,"dom.max_chrome_script_run_time":0,"dom.max_script_run_time":0,"dom.min_background_timeout_value":0,"dom.min_background_timeout_value_without_budget_throttling":0,"dom.timeout.enable_budget_timer_throttling":!1,"dom.security.https_first":!1,"extensions.autoDisableScopes":0,"extensions.enabledScopes":5,"extensions.getAddons.cache.enabled":!1,"extensions.installDistroAddons":!1,"extensions.screenshots.disabled":!0,"extensions.update.enabled":!1,"extensions.update.notifyUser":!1,"extensions.webservice.discoverURL":`http://${t}/dummy/discoveryURL`,"focusmanager.testmode":!0,"general.useragent.updates.enabled":!1,"geo.provider.testing":!0,"geo.wifi.scan":!1,"hangmonitor.timeout":0,"javascript.options.showInConsole":!0,"layout.testing.top-level-always-active":!0,"media.gmp-manager.updateEnabled":!1,"media.sanity-test.disabled":!0,"network.connectivity-service.enabled":!1,"network.cookie.sameSite.laxByDefault":!1,"network.http.prompt-temp-redirect":!1,"network.http.speculative-parallel-limit":0,"network.manage-offline-status":!1,"network.sntp.pools":t,"plugin.state.flash":0,"privacy.trackingprotection.enabled":!1,"remote.enabled":!0,"security.certerrors.mitm.priming.enabled":!1,"security.fileuri.strict_origin_policy":!1,"security.notification_enable_delay":0,"signon.autofillForms":!1,"signon.rememberSignons":!1,"startup.homepage_welcome_url":"about:blank","startup.homepage_welcome_url.additional":"","toolkit.cosmeticAnimations.enabled":!1,"toolkit.startup.max_resumed_crashes":-1};return Object.assign(n,e)}},"./node_modules/playwright-core/lib/server/browser.js":(e,t,n)=>{"use strict";var r,o=Object.defineProperty,i=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,l={};((e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})})(l,{Browser:()=>m}),e.exports=(r=l,((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let n of s(t))a.call(e,n)||undefined===n||o(e,n,{get:()=>t[n],enumerable:!(r=i(t,n))||r.enumerable});return e})(o({},"__esModule",{value:!0}),r));var c=n("./node_modules/playwright-core/lib/server/artifact.js"),u=n("./node_modules/playwright-core/lib/server/browserContext.js"),d=n("./node_modules/playwright-core/lib/server/download.js"),h=n("./node_modules/playwright-core/lib/server/instrumentation.js"),p=n("./node_modules/playwright-core/lib/server/page.js"),f=n("./node_modules/playwright-core/lib/server/socksClientCertificatesInterceptor.js");class m extends h.SdkObject{constructor(e,t){super(e,"browser"),this._downloads=new Map,this._defaultContext=null,this._startedClosing=!1,this._idToVideo=new Map,this._isCollocatedWithServer=!0,this.attribution.browser=this,this.options=t,this.instrumentation.onBrowserOpen(this)}static{this.Events={Context:"context",Disconnected:"disconnected"}}sdkLanguage(){return this.options.sdkLanguage||this.attribution.playwright.options.sdkLanguage}async newContext(e,t){let n,r;(0,u.validateBrowserContextOptions)(t,this.options);try{return t.clientCertificates?.length&&(n=await f.ClientCertificatesProxy.create(e,t),(t={...t}).proxyOverride=n.proxySettings(),t.internalIgnoreHTTPSErrors=!0),r=await e.race(this.doCreateNewContext(t)),r._clientCertificatesProxy=n,t.__testHookBeforeSetStorageState&&await e.race(t.__testHookBeforeSetStorageState()),await r.setStorageState(e,t.storageState,"initial"),this.emit(m.Events.Context,r),r}catch(e){throw await(r?.close({reason:"Failed to create context"}).catch(()=>{})),await(n?.close().catch(()=>{})),e}}async newContextForReuse(e,t){const n=u.BrowserContext.reusableContextHash(t);return this._contextForReuse&&n===this._contextForReuse.hash&&this._contextForReuse.context.canResetForReuse()?(await this._contextForReuse.context.resetForReuse(e,t),this._contextForReuse.context):(this._contextForReuse&&await this._contextForReuse.context.close({reason:"Context reused"}),this._contextForReuse={context:await this.newContext(e,t),hash:n},this._contextForReuse.context)}contextForReuse(){return this._contextForReuse?.context}_downloadCreated(e,t,n,r){const o=new d.Download(e,this.options.downloadsPath||"",t,n,r);this._downloads.set(t,o)}_downloadFilenameSuggested(e,t){const n=this._downloads.get(e);n&&n._filenameSuggested(t)}_downloadFinished(e,t){const n=this._downloads.get(e);n&&(n.artifact.reportFinished(t?new Error(t):void 0),this._downloads.delete(e))}_videoStarted(e,t,n,r){const o=new c.Artifact(e,n);this._idToVideo.set(t,{context:e,artifact:o}),r.then(e=>{e instanceof p.Page&&(e.video=o,e.emitOnContext(u.BrowserContext.Events.VideoStarted,o),e.emit(p.Page.Events.Video,o))})}_takeVideo(e){const t=this._idToVideo.get(e);return this._idToVideo.delete(e),t?.artifact}_didClose(){for(const e of this.contexts())e._browserClosed();this._defaultContext&&this._defaultContext._browserClosed(),this.emit(m.Events.Disconnected),this.instrumentation.onBrowserClose(this)}async close(e){this._startedClosing||(e.reason&&(this._closeReason=e.reason),this._startedClosing=!0,await this.options.browserProcess.close()),this.isConnected()&&await new Promise(e=>this.once(m.Events.Disconnected,e))}async killForTests(){await this.options.browserProcess.kill()}}},"./node_modules/playwright-core/lib/server/browserContext.js":(e,t,n)=>{"use strict";var r,o=Object.create,i=Object.defineProperty,s=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,l=Object.getPrototypeOf,c=Object.prototype.hasOwnProperty,u=(e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let o of a(t))c.call(e,o)||o===n||i(e,o,{get:()=>t[o],enumerable:!(r=s(t,o))||r.enumerable});return e},d=(e,t,n)=>(n=null!=e?o(l(e)):{},u(!t&&e&&e.__esModule?n:i(n,"default",{value:e,enumerable:!0}),e)),h={};((e,t)=>{for(var n in t)i(e,n,{get:t[n],enumerable:!0})})(h,{BrowserContext:()=>P,normalizeProxySettings:()=>D,validateBrowserContextOptions:()=>j,verifyClientCertificates:()=>F,verifyGeolocation:()=>N}),e.exports=(r=h,u(i({},"__esModule",{value:!0}),r));var p=d(n("fs")),f=d(n("path")),m=n("./node_modules/playwright-core/lib/server/utils/crypto.js"),g=n("./node_modules/playwright-core/lib/server/utils/debug.js"),b=n("./node_modules/playwright-core/lib/server/clock.js"),w=n("./node_modules/playwright-core/lib/server/debugger.js"),y=n("./node_modules/playwright-core/lib/server/dialog.js"),v=n("./node_modules/playwright-core/lib/server/fetch.js"),A=n("./node_modules/playwright-core/lib/server/utils/fileUtils.js"),_=n("./node_modules/playwright-core/lib/utils/isomorphic/stackTrace.js"),x=n("./node_modules/playwright-core/lib/server/har/harRecorder.js"),S=n("./node_modules/playwright-core/lib/server/helper.js"),E=n("./node_modules/playwright-core/lib/server/instrumentation.js"),C=d(n("./node_modules/playwright-core/lib/server/network.js")),k=n("./node_modules/playwright-core/lib/server/page.js"),O=n("./node_modules/playwright-core/lib/server/page.js"),T=n("./node_modules/playwright-core/lib/server/recorder/recorderApp.js"),I=n("./node_modules/playwright-core/lib/server/selectors.js"),B=n("./node_modules/playwright-core/lib/server/trace/recorder/tracing.js"),M=d(n("./node_modules/playwright-core/lib/generated/storageScriptSource.js"));class P extends E.SdkObject{constructor(e,t,n){super(e,"browser-context"),this._pageBindings=new Map,this.requestInterceptors=[],this._closedStatus="open",this._permissions=new Map,this._downloads=new Set,this._origins=new Set,this._harRecorders=new Map,this._tempDirs=[],this._creatingStorageStatePage=!1,this.initScripts=[],this._routesInFlight=new Set,this._playwrightBindingExposed=!1,this.attribution.context=this,this._browser=e,this._options=t,this._browserContextId=n,this._isPersistentContext=!n,this._closePromise=new Promise(e=>this._closePromiseFulfill=e),this._selectors=new I.Selectors(t.selectorEngines||[],t.testIdAttributeName),this.fetchRequest=new v.BrowserContextAPIRequestContext(this),this.tracing=new B.Tracing(this,e.options.tracesDir),this.clock=new b.Clock(this),this.dialogManager=new y.DialogManager(this.instrumentation)}static{this.Events={Console:"console",Close:"close",Page:"page",PageError:"pageerror",Request:"request",Response:"response",RequestFailed:"requestfailed",RequestFinished:"requestfinished",RequestAborted:"requestaborted",RequestFulfilled:"requestfulfilled",RequestContinued:"requestcontinued",RequestCollected:"requestcollected",BeforeClose:"beforeclose",VideoStarted:"videostarted",RecorderEvent:"recorderevent"}}isPersistentContext(){return this._isPersistentContext}selectors(){return this._selectors}async _initialize(){this.attribution.playwright.options.isInternalPlaywright||(this._debugger=new w.Debugger(this),"inspector"===(0,g.debugMode)()&&await T.RecorderApp.show(this,{pauseOnNextStatement:!0}),this._debugger.isPaused()&&T.RecorderApp.showInspectorNoReply(this),this._debugger.on(w.Debugger.Events.PausedStateChanged,()=>{this._debugger.isPaused()&&T.RecorderApp.showInspectorNoReply(this)}),"console"===(0,g.debugMode)()&&await this.extendInjectedScript("\n        function installConsoleApi(injectedScript) { injectedScript.consoleApi.install(); }\n        module.exports = { default: () => installConsoleApi };\n      "),"block"===this._options.serviceWorkers&&await this.addInitScript(void 0,"\nif (navigator.serviceWorker) navigator.serviceWorker.register = async () => { console.warn('Service Worker registration blocked by Playwright'); };\n"),this._options.permissions&&await this.grantPermissions(this._options.permissions))}debugger(){return this._debugger}async _ensureVideosPath(){this._options.recordVideo&&await(0,A.mkdirIfNeeded)(f.default.join(this._options.recordVideo.dir,"dummy"))}canResetForReuse(){return"open"===this._closedStatus}static reusableContextHash(e){const t={...e};0===t.selectorEngines?.length&&delete t.selectorEngines;for(const e of Object.keys(t)){const n=e;t[n]===L[n]&&delete t[n]}for(const e of R)delete t[e];return JSON.stringify(t)}async resetForReuse(e,t){if(await this.tracing.resetForReuse(e),t){for(const e of R)this._options[e]=t[e];t.testIdAttributeName&&this.selectors().setTestIdAttributeName(t.testIdAttributeName)}let n=this.pages()[0];const r=this.possiblyUninitializedPages().filter(e=>e!==n);for(const e of r)await e.close();n&&n.hasCrashed()&&(await n.close(),n=void 0),await(n?.mainFrame().gotoImpl(e,"about:blank",{})),await this.clock.uninstall(e),await e.race(this.setUserAgent(this._options.userAgent)),await e.race(this.doUpdateDefaultEmulatedMedia()),await e.race(this.doUpdateDefaultViewport()),await this.setStorageState(e,this._options.storageState,"resetForReuse"),await(n?.resetForReuse(e))}_browserClosed(){for(const e of this.pages())e._didClose();this._didCloseInternal()}_didCloseInternal(){"closed"!==this._closedStatus&&(this._clientCertificatesProxy?.close().catch(()=>{}),this.tracing.abort(),this._isPersistentContext&&this.onClosePersistent(),this._closePromiseFulfill(new Error("Context closed")),this.emit(P.Events.Close))}pages(){return this.possiblyUninitializedPages().filter(e=>e.initializedOrUndefined())}async cookies(e=[]){return e&&!Array.isArray(e)&&(e=[e]),await this.doGetCookies(e)}async clearCookies(e){const t=await this.cookies();await this.doClearCookies();const n=(e,t,n)=>!n||(n instanceof RegExp?(n.lastIndex=0,n.test(e[t])):e[t]===n),r=t.filter(t=>!n(t,"name",e.name)||!n(t,"domain",e.domain)||!n(t,"path",e.path));await this.addCookies(r)}setHTTPCredentials(e){return this.doSetHTTPCredentials(e)}getBindingClient(e){return this._pageBindings.get(e)?.forClient}async exposePlaywrightBindingIfNeeded(){this._playwrightBindingExposed||(this._playwrightBindingExposed=!0,await this.doExposePlaywrightBinding(),this.bindingsInitScript=O.PageBinding.createInitScript(),this.initScripts.push(this.bindingsInitScript),await this.doAddInitScript(this.bindingsInitScript),await this.safeNonStallingEvaluateInAllFrames(this.bindingsInitScript.source,"main"))}needsPlaywrightBinding(){return this._playwrightBindingExposed}async exposeBinding(e,t,n,r,o){if(this._pageBindings.has(t))throw new Error(`Function "${t}" has been already registered`);for(const e of this.pages())if(e.getBinding(t))throw new Error(`Function "${t}" has been already registered in one of the pages`);await e.race(this.exposePlaywrightBindingIfNeeded());const i=new O.PageBinding(t,r,n);i.forClient=o,this._pageBindings.set(t,i);try{return await e.race(this.doAddInitScript(i.initScript)),await e.race(this.safeNonStallingEvaluateInAllFrames(i.initScript.source,"main")),i}catch(e){throw this._pageBindings.delete(t),e}}async removeExposedBindings(e){e=e.filter(e=>this._pageBindings.get(e.name)===e);for(const t of e)this._pageBindings.delete(t.name);await this.doRemoveInitScripts(e.map(e=>e.initScript));const t=e.map(e=>`{ ${e.cleanupScript} };\n`).join("");await this.safeNonStallingEvaluateInAllFrames(t,"main")}async grantPermissions(e,t){let n="*";t&&(n=new URL(t).origin);const r=new Set(this._permissions.get(n)||[]);e.forEach(e=>r.add(e));const o=[...r.values()];this._permissions.set(n,o),await this.doGrantPermissions(n,o)}async clearPermissions(){this._permissions.clear(),await this.doClearPermissions()}async setExtraHTTPHeaders(e,t){const n=this._options.extraHTTPHeaders;this._options.extraHTTPHeaders=t;try{await e.race(this.doUpdateExtraHTTPHeaders())}catch(e){throw this._options.extraHTTPHeaders=n,this.doUpdateExtraHTTPHeaders().catch(()=>{}),e}}async setOffline(e,t){const n=this._options.offline;this._options.offline=t;try{await e.race(this.doUpdateOffline())}catch(e){throw this._options.offline=n,this.doUpdateOffline().catch(()=>{}),e}}async _loadDefaultContextAsIs(e){if(!this.possiblyUninitializedPages().length){const t=S.helper.waitForEvent(e,this,P.Events.Page);await Promise.race([t.promise,this._closePromise])}const t=this.possiblyUninitializedPages()[0];if(!t)return;const n=await e.race(t.waitForInitializedOrError());if(n instanceof Error)throw n;return await t.mainFrame()._waitForLoadState(e,"load"),t}async _loadDefaultContext(e){const t=await this._loadDefaultContextAsIs(e);if(!t)return;const n=this._browser.options.name;(this._options.isMobile&&"chromium"===n||this._options.locale&&"webkit"===n)&&(await this.newPage(e),await t.close())}_authenticateProxyViaHeader(){const e=this._options.proxy||this._browser.options.proxy||{username:void 0,password:void 0},{username:t,password:n}=e;if(t){this._options.httpCredentials={username:t,password:n};const e=Buffer.from(`${t}:${n}`).toString("base64");this._options.extraHTTPHeaders=C.mergeHeaders([this._options.extraHTTPHeaders,C.singleHeader("Proxy-Authorization",`Basic ${e}`)])}}_authenticateProxyViaCredentials(){const e=this._options.proxy||this._browser.options.proxy;if(!e)return;const{username:t,password:n}=e;t&&(this._options.httpCredentials={username:t,password:n||""})}async addInitScript(e,t){const n=new k.InitScript(t);this.initScripts.push(n);try{const t=this.doAddInitScript(n);return e?await e.race(t):await t,n}catch(e){throw this.removeInitScripts([n]).catch(()=>{}),e}}async removeInitScripts(e){const t=new Set(e);this.initScripts=this.initScripts.filter(e=>!t.has(e)),await this.doRemoveInitScripts(e)}async addRequestInterceptor(e,t){this.requestInterceptors.push(t),await this.doUpdateRequestInterception()}async removeRequestInterceptor(e){const t=this.requestInterceptors.indexOf(e);-1!==t&&(this.requestInterceptors.splice(t,1),await this.notifyRoutesInFlightAboutRemovedHandler(e),await this.doUpdateRequestInterception())}isClosingOrClosed(){return"open"!==this._closedStatus}async _deleteAllDownloads(){await Promise.all(Array.from(this._downloads).map(e=>e.artifact.deleteOnContextClose()))}async _deleteAllTempDirs(){await Promise.all(this._tempDirs.map(async e=>await p.default.promises.unlink(e).catch(e=>{})))}setCustomCloseHandler(e){this._customCloseHandler=e}async close(e){if("open"===this._closedStatus){e.reason&&(this._closeReason=e.reason),this.emit(P.Events.BeforeClose),this._closedStatus="closing";for(const e of this._harRecorders.values())await e.flush();await this.tracing.flush();const t=[];for(const{context:e,artifact:n}of this._browser._idToVideo.values())e===this&&t.push(n.finishedPromise());this._customCloseHandler?await this._customCloseHandler():await this.doClose(e.reason),t.push(this._deleteAllDownloads()),t.push(this._deleteAllTempDirs()),await Promise.all(t),this._customCloseHandler||this._didCloseInternal()}await this._closePromise}async newPage(e,t){let n;try{this._creatingStorageStatePage=!!t,n=await e.race(this.doCreateNewPage());const r=await e.race(n.waitForInitializedOrError());if(r instanceof O.Page){if(r.isClosed())throw new Error("Page has been closed.");return r}throw r}catch(e){throw await(n?.close({reason:"Failed to create page"}).catch(()=>{})),e}finally{this._creatingStorageStatePage=!1}}addVisitedOrigin(e){this._origins.add(e)}async storageState(e,t=!1){const n={cookies:await this.cookies(),origins:[]},r=new Set(this._origins),o=`(() => {\n      const module = {};\n      ${M.source}\n      const script = new (module.exports.StorageScript())(${"firefox"===this._browser.options.name});\n      return script.collect(${t});\n    })()`;for(const e of this.pages()){const t=e.mainFrame().origin();if(t&&r.has(t))try{const i=await e.mainFrame().nonStallingEvaluateInExistingContext(o,"utility");(i.localStorage.length||i.indexedDB?.length)&&n.origins.push({origin:t,localStorage:i.localStorage,indexedDB:i.indexedDB}),r.delete(t)}catch{}}if(r.size){const t=await this.newPage(e,!0);try{await t.addRequestInterceptor(e,e=>{e.fulfill({body:"<html></html>"}).catch(()=>{})},"prepend");for(const i of r){const r=t.mainFrame();await r.gotoImpl(e,i,{});const s=await e.race(r.evaluateExpression(o,{world:"utility"}));(s.localStorage.length||s.indexedDB?.length)&&n.origins.push({origin:i,localStorage:s.localStorage,indexedDB:s.indexedDB})}}finally{await t.close()}}return n}isCreatingStorageStatePage(){return this._creatingStorageStatePage}async setStorageState(e,t,n){let r,o;try{"initial"!==n&&(await e.race(this.clearCache()),await e.race(this.doClearCookies())),t?.cookies&&await e.race(this.addCookies(t.cookies));const i=new Map(t?.origins?.map(e=>[e.origin,e])||[]),s=new Set([...this._origins,...i.keys()]);if(s.size){"resetForReuse"===n&&(r=this.pages()[0]),r||(r=await this.newPage(e,"resetForReuse"!==n)),o=e=>{e.fulfill({body:"<html></html>"}).catch(()=>{})},await r.addRequestInterceptor(e,o,"prepend");for(const t of s){const n=r.mainFrame();await n.gotoImpl(e,t,{});const o=`(() => {\n            const module = {};\n            ${M.source}\n            const script = new (module.exports.StorageScript())(${"firefox"===this._browser.options.name});\n            return script.restore(${JSON.stringify(i.get(t))});\n          })()`;await e.race(n.evaluateExpression(o,{world:"utility"}))}}this._origins=new Set([...i.keys()])}catch(e){throw(0,_.rewriteErrorMessage)(e,"Error setting storage state:\n"+e.message),e}finally{"resetForReuse"!==n?await(r?.close()):o&&await(r?.removeRequestInterceptor(o))}}async extendInjectedScript(e,t){const n=n=>n.extendInjectedScript(e,t).catch(()=>{}),r=e=>(e.on(O.Page.Events.InternalFrameNavigatedToNewDocument,n),Promise.all(e.frames().map(n)));return this.on(P.Events.Page,r),Promise.all(this.pages().map(r))}async safeNonStallingEvaluateInAllFrames(e,t,n={}){await Promise.all(this.pages().map(r=>r.safeNonStallingEvaluateInAllFrames(e,t,n)))}harStart(e,t){const n=(0,m.createGuid)();return this._harRecorders.set(n,new x.HarRecorder(this,e,t)),n}async harExport(e){return this._harRecorders.get(e||"").export()}addRouteInFlight(e){this._routesInFlight.add(e)}removeRouteInFlight(e){this._routesInFlight.delete(e)}async notifyRoutesInFlightAboutRemovedHandler(e){await Promise.all([...this._routesInFlight].map(t=>t.removeHandler(e)))}}function j(e,t){if(e.noDefaultViewport&&void 0!==e.deviceScaleFactor)throw new Error('"deviceScaleFactor" option is not supported with null "viewport"');if(e.noDefaultViewport&&e.isMobile)throw new Error('"isMobile" option is not supported with null "viewport"');if(void 0===e.acceptDownloads&&"electron"!==t.name?e.acceptDownloads="accept":void 0===e.acceptDownloads&&"electron"===t.name&&(e.acceptDownloads="internal-browser-default"),e.viewport||e.noDefaultViewport||(e.viewport={width:1280,height:720}),e.recordVideo){if(!e.recordVideo.size)if(e.noDefaultViewport)e.recordVideo.size={width:800,height:600};else{const t=e.viewport,n=Math.min(1,800/Math.max(t.width,t.height));e.recordVideo.size={width:Math.floor(t.width*n),height:Math.floor(t.height*n)}}e.recordVideo.size.width&=-2,e.recordVideo.size.height&=-2}e.proxy&&(e.proxy=D(e.proxy)),N(e.geolocation)}function N(e){if(!e)return;e.accuracy=e.accuracy||0;const{longitude:t,latitude:n,accuracy:r}=e;if(t<-180||t>180)throw new Error("geolocation.longitude: precondition -180 <= LONGITUDE <= 180 failed.");if(n<-90||n>90)throw new Error("geolocation.latitude: precondition -90 <= LATITUDE <= 90 failed.");if(r<0)throw new Error("geolocation.accuracy: precondition 0 <= ACCURACY failed.")}function F(e){if(e)for(const t of e){if(!t.origin)throw new Error("clientCertificates.origin is required");if(!(t.cert||t.key||t.passphrase||t.pfx))throw new Error("None of cert, key, passphrase or pfx is specified");if(t.cert&&!t.key)throw new Error("cert is specified without key");if(!t.cert&&t.key)throw new Error("key is specified without cert");if(t.pfx&&(t.cert||t.key))throw new Error("pfx is specified together with cert, key or passphrase")}}function D(e){let t,{server:n,bypass:r}=e;try{t=new URL(n),t.host&&t.protocol||(t=new URL("http://"+n))}catch(e){t=new URL("http://"+n)}if("socks4:"===t.protocol&&(e.username||e.password))throw new Error("Socks4 proxy protocol does not support authentication");if("socks5:"===t.protocol&&(e.username||e.password))throw new Error("Browser does not support socks5 proxy authentication");return n=t.protocol+"//"+t.host,r&&(r=r.split(",").map(e=>e.trim()).join(",")),{...e,server:n,bypass:r}}const R=["colorScheme","forcedColors","reducedMotion","contrast","screen","userAgent","viewport","testIdAttributeName"],L={noDefaultViewport:!1,ignoreHTTPSErrors:!1,javaScriptEnabled:!0,bypassCSP:!1,offline:!1,isMobile:!1,hasTouch:!1,acceptDownloads:"accept",strictSelectors:!1,serviceWorkers:"allow",locale:"en-US"}},"./node_modules/playwright-core/lib/server/browserType.js":(e,t,n)=>{"use strict";var r,o=Object.create,i=Object.defineProperty,s=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,l=Object.getPrototypeOf,c=Object.prototype.hasOwnProperty,u=(e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let o of a(t))c.call(e,o)||o===n||i(e,o,{get:()=>t[o],enumerable:!(r=s(t,o))||r.enumerable});return e},d=(e,t,n)=>(n=null!=e?o(l(e)):{},u(!t&&e&&e.__esModule?n:i(n,"default",{value:e,enumerable:!0}),e)),h={};((e,t)=>{for(var n in t)i(e,n,{get:t[n],enumerable:!0})})(h,{BrowserType:()=>M,kNoXServerRunningError:()=>B}),e.exports=(r=h,u(i({},"__esModule",{value:!0}),r));var p=d(n("fs")),f=d(n("os")),m=d(n("path")),g=n("./node_modules/playwright-core/lib/server/browserContext.js"),b=n("./node_modules/playwright-core/lib/server/utils/debug.js"),w=n("./node_modules/playwright-core/lib/utils/isomorphic/assert.js"),y=n("./node_modules/playwright-core/lib/utils/isomorphic/manualPromise.js"),v=n("./node_modules/playwright-core/lib/utils/isomorphic/time.js"),A=n("./node_modules/playwright-core/lib/server/utils/fileUtils.js"),_=n("./node_modules/playwright-core/lib/server/helper.js"),x=n("./node_modules/playwright-core/lib/server/instrumentation.js"),S=n("./node_modules/playwright-core/lib/server/pipeTransport.js"),E=n("./node_modules/playwright-core/lib/server/utils/processLauncher.js"),C=n("./node_modules/playwright-core/lib/server/protocolError.js"),k=n("./node_modules/playwright-core/lib/server/registry/index.js"),O=n("./node_modules/playwright-core/lib/server/socksClientCertificatesInterceptor.js"),T=n("./node_modules/playwright-core/lib/server/transport.js"),I=n("./node_modules/playwright-core/lib/server/utils/debugLogger.js");const B="Looks like you launched a headed browser without having a XServer running.\nSet either 'headless: true' or use 'xvfb-run <your-playwright-app>' before running Playwright.\n\n<3 Playwright Team";class M extends x.SdkObject{constructor(e,t){super(e,"browser-type"),this.attribution.browserType=this,this._name=t,this.logName="browser"}executablePath(){return k.registry.findExecutable(this._name).executablePath(this.attribution.playwright.options.sdkLanguage)||""}name(){return this._name}async launch(e,t,n){const r=(t=this._validateLaunchOptions(t)).__testHookSeleniumRemoteURL||process.env.SELENIUM_REMOTE_URL;return r?this._launchWithSeleniumHub(e,r,t):this._innerLaunchWithRetries(e,t,void 0,_.helper.debugProtocolLogger(n)).catch(e=>{throw this._rewriteStartupLog(e)})}async launchPersistentContext(e,t,n){const r=this._validateLaunchOptions(n);let o;n.clientCertificates?.length&&(o=await O.ClientCertificatesProxy.create(e,n),r.proxyOverride=o.proxySettings(),(n={...n}).internalIgnoreHTTPSErrors=!0);try{const i=await this._innerLaunchWithRetries(e,r,n,_.helper.debugProtocolLogger(),t).catch(e=>{throw this._rewriteStartupLog(e)});return i._defaultContext._clientCertificatesProxy=o,i._defaultContext}catch(e){throw await(o?.close().catch(()=>{})),e}}async _innerLaunchWithRetries(e,t,n,r,o){try{return await this._innerLaunch(e,t,n,r,o)}catch(i){if(("object"==typeof i&&"string"==typeof i.message?i.message:"").includes("Inconsistency detected by ld.so"))return e.log("<restarting browser due to hitting race condition in glibc>"),this._innerLaunch(e,t,n,r,o);throw i}}async _innerLaunch(e,t,n,r,o){t.proxy=t.proxy?(0,g.normalizeProxySettings)(t.proxy):void 0;const i=new I.RecentLogsCollector,{browserProcess:s,userDataDir:a,artifactsDir:l,transport:c}=await this._launchProcess(e,t,!!n,i,o);try{t.__testHookBeforeCreateBrowser&&await e.race(t.__testHookBeforeCreateBrowser());const o={name:this._name,isChromium:"chromium"===this._name,channel:t.channel,slowMo:t.slowMo,persistent:n,headful:!t.headless,artifactsDir:l,downloadsPath:t.downloadsPath||l,tracesDir:t.tracesDir||l,browserProcess:s,customExecutablePath:t.executablePath,proxy:t.proxy,protocolLogger:r,browserLogsCollector:i,wsEndpoint:c instanceof T.WebSocketTransport?c.wsEndpoint:void 0,originalLaunchOptions:t};n&&(0,g.validateBrowserContextOptions)(n,o),function(e,t){for(const[n,r]of Object.entries(e))n.startsWith("__testHook")&&(t[n]=r)}(t,o);const u=await e.race(this.connectToTransport(c,o,i));return u._userDataDirForTest=a,n&&!t.ignoreAllDefaultArgs&&await u._defaultContext._loadDefaultContext(e),u}catch(e){throw await s.close().catch(()=>{}),e}}async _prepareToLaunch(e,t,n){const{ignoreDefaultArgs:r,ignoreAllDefaultArgs:o,args:i=[],executablePath:s=null}=e;await this._createArtifactDirs(e);const a=[],l=await p.default.promises.mkdtemp(m.default.join(f.default.tmpdir(),"playwright-artifacts-"));a.push(l),n?((0,w.assert)(m.default.isAbsolute(n),"userDataDir must be an absolute path"),await(0,A.existsAsync)(n)||await p.default.promises.mkdir(n,{recursive:!0,mode:448})):(n=await p.default.promises.mkdtemp(m.default.join(f.default.tmpdir(),`playwright_${this._name}dev_profile-`)),a.push(n)),await this.prepareUserDataDir(e,n);const c=[];let u;if(o?c.push(...i):r?c.push(...(await this.defaultArgs(e,t,n)).filter(e=>-1===r.indexOf(e))):c.push(...await this.defaultArgs(e,t,n)),s){if(!await(0,A.existsAsync)(s))throw new Error(`Failed to launch ${this._name} because executable doesn't exist at ${s}`);u=s}else{const t=k.registry.findExecutable(this.getExecutableName(e));if(!t||t.browserName!==this._name)throw new Error(`Unsupported ${this._name} channel "${e.channel}"`);u=t.executablePathOrDie(this.attribution.playwright.options.sdkLanguage),await k.registry.validateHostRequirementsForExecutablesIfNeeded([t],this.attribution.playwright.options.sdkLanguage)}return{executable:u,browserArguments:c,userDataDir:n,artifactsDir:l,tempDirectories:a}}async _launchProcess(e,t,n,r,o){const{handleSIGINT:i=!0,handleSIGTERM:s=!0,handleSIGHUP:a=!0}=t,l=t.env?(0,E.envArrayToObject)(t.env):process.env,c=await e.race(this._prepareToLaunch(t,n,o));let u,d;const h=new y.ManualPromise,{launchedProcess:p,gracefullyClose:f,kill:m}=await(0,E.launchProcess)({command:c.executable,args:c.browserArguments,env:this.amendEnvironment(l,c.userDataDir,n,t),handleSIGINT:i,handleSIGTERM:s,handleSIGHUP:a,log:t=>{e.log(t),r.log(t)},stdio:"pipe",tempDirectories:c.tempDirectories,attemptToGracefullyClose:async()=>{if(t.__testHookGracefullyClose&&await t.__testHookGracefullyClose(),!u)throw new Error("Force-killing the browser because no transport is available to gracefully close it.");this.attemptToGracefullyCloseBrowser(u)},onExit:(e,t)=>{h.resolve(),d&&d.onclose&&d.onclose(e,t)}});async function g(e){let t;try{await Promise.race([f(),new Promise((n,r)=>t=setTimeout(r,e))])}catch(e){await m().catch(e=>{})}finally{clearTimeout(t)}}d={onclose:void 0,process:p,close:()=>g(t.__testHookBrowserCloseTimeout||v.DEFAULT_PLAYWRIGHT_TIMEOUT),kill:m};try{const{wsEndpoint:n}=await e.race([this.waitForReadyState(t,r),h.then(()=>({wsEndpoint:void 0}))]);if(void 0===t.cdpPort&&this.supportsPipeTransport()){const e=p.stdio;u=new S.PipeTransport(e[3],e[4])}else u=await T.WebSocketTransport.connect(e,n);return{browserProcess:d,artifactsDir:c.artifactsDir,userDataDir:c.userDataDir,transport:u}}catch(e){throw await g(v.DEFAULT_PLAYWRIGHT_TIMEOUT).catch(()=>{}),e}}async _createArtifactDirs(e){e.downloadsPath&&await p.default.promises.mkdir(e.downloadsPath,{recursive:!0}),e.tracesDir&&await p.default.promises.mkdir(e.tracesDir,{recursive:!0})}async connectOverCDP(e,t,n){throw new Error("CDP connections are only supported by Chromium")}async _launchWithSeleniumHub(e,t,n){throw new Error("Connecting to SELENIUM_REMOTE_URL is only supported by Chromium")}_validateLaunchOptions(e){const{devtools:t=!1}=e;let{headless:n=!t,downloadsPath:r,proxy:o}=e;return"inspector"===(0,b.debugMode)()&&(n=!1),r&&!m.default.isAbsolute(r)&&(r=m.default.join(process.cwd(),r)),e.socksProxyPort&&(o={server:`socks5://127.0.0.1:${e.socksProxyPort}`}),{...e,devtools:t,headless:n,downloadsPath:r,proxy:o}}_createUserDataDirArgMisuseError(e){switch(this.attribution.playwright.options.sdkLanguage){case"java":return new Error(`Pass userDataDir parameter to 'BrowserType.launchPersistentContext(userDataDir, options)' instead of specifying '${e}' argument`);case"python":return new Error(`Pass user_data_dir parameter to 'browser_type.launch_persistent_context(user_data_dir, **kwargs)' instead of specifying '${e}' argument`);case"csharp":return new Error(`Pass userDataDir parameter to 'BrowserType.LaunchPersistentContextAsync(userDataDir, options)' instead of specifying '${e}' argument`);default:return new Error(`Pass userDataDir parameter to 'browserType.launchPersistentContext(userDataDir, options)' instead of specifying '${e}' argument`)}}_rewriteStartupLog(e){return(0,C.isProtocolError)(e)?this.doRewriteStartupLog(e):e}async waitForReadyState(e,t){return{}}async prepareUserDataDir(e,t){}supportsPipeTransport(){return!0}getExecutableName(e){return e.channel||this._name}}},"./node_modules/playwright-core/lib/server/callLog.js":e=>{"use strict";var t,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,i=Object.prototype.hasOwnProperty,s={};function a(e){const t=[];for(const n of l(e))for(let e=0;e<n.sequence.length;e++){const r=n.sequence[e],o=r.match(/^\s*/),i="  "+o?.[0]||0,s=`${n.count}  `;n.count>1&&0===e?t.push(i+s+r.trim()):n.count>1?t.push(i+" ".repeat(s.length-2)+"- "+r.trim()):t.push(i+"- "+r.trim())}return t}function l(e){const t=e.length,n=[];let r=0;const o=(e,t)=>{if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0};for(;r<t;){let i=1,s=[e[r]],a=1;for(let n=1;n<=t-r;n++){const l=e.slice(r,r+n);let c=1;for(;r+n*c<=t&&o(e.slice(r+n*(c-1),r+n*c),l);)c+=1;c-=1,c>1&&c*n>i*a&&(i=c,s=l,a=n)}n.push({sequence:s,count:i}),r+=a*i}return n}((e,t)=>{for(var r in t)n(e,r,{get:t[r],enumerable:!0})})(s,{compressCallLog:()=>a,findRepeatedSubsequencesForTest:()=>c}),e.exports=(t=s,((e,t,s,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let s of o(t))i.call(e,s)||undefined===s||n(e,s,{get:()=>t[s],enumerable:!(a=r(t,s))||a.enumerable});return e})(n({},"__esModule",{value:!0}),t));const c=l},"./node_modules/playwright-core/lib/server/chromium/appIcon.png":e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAZAAAAGQCAYAAACAvzbMAAAABmJLR0QA/wD/AP+gvaeTAABAaklEQVR42u2dB3hUddb/sa5b3nX33V193f0LJDOTmWTm3pRJKAoSkun93pkBxIJlF1d217p2UewoUhJqIIiCIoYkrrpF10ZVUVAQKWkQqhTpvSTzPzckGMLUZMq9M9/P85wHdgUyc+fe853zO61bNwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD4EWW58lpZWWaVbKrqc1mZcp6iPNOKqwIAACAwo7pdnD5NueTqsem+jpY2SbFfNiPrLlwkAAAA5+LrdmH6FGWtP/E4V0iUm1SvZWfgggEAAGhBXpZVGUo82qz7BFmTvEx9L64aAACkunjMVBmuHifzhSsgLSIyLt0nn5b5D1w9AABIYdImZ2yLRDw65EY2yabKrsBVBACAVIs+yrNu66x4tFnPEsXR9JmafFxNAABIpehjkmJHVwWk5UhrvLxJPiPrRlxRAABIARTTNbZoiMePeRGZj3pGnsGVBQCAZI8+pig3RlNAWkRkrMwnNCHi6gIAQBLBFnMmRs//k2yL+mbj10IlVbQF5GxyfZryG3WF+lJcdQAAkDBer/cijY6fTMLhazPZePX2WIlHuwqt3dmvZf8BnwAAAEgUjZ6b0F48NA7n8avHy5pjLSAtFVoTFcd6vpLVG58CAABIDNbgtrcXD8Eyns/dGA/xaLMeJbLT8jKlF58GAABIBHWh9xckGNvPFRAXjSKRn4qngJwp801vzpiuGodPBQAAJADlPZ7sGH2oHuy7Kd7i0d7Sp6i+QHIdAABEjFbnvZwEY39HAUkrzTiQSAFpTa7vk7+izsKnBAAAYow+DPwjHcVDfYNpd6LF4+yRVonilGJG1q34pAAAQET0LLzlsvNzH7xPPpbZJBYBaZvoS1sPF+BICwAARAKjc/+1o3gwZtdJYV6VmATkxyOtjL2yGSotPjkAAEgghYWFF5NgbOwoIMqRvRrEKB4/VmnJmhQzMp/FJwgAAImKPvSc97zoQ0ielygPillAfqzSUq5Om6u5Ep8kAADEGVbPLzkveT7Esl8YcigFATmzMldxSj5d9Qg+TQAAiJd4GPk8f9GH/KXszVIRjw65kS3ps3IU+GQBACD20cdsfwJCGwNPSlFAzkQjsibZdNUYfLoAABAr8TBwV5BYHO8oHpl/LdwqVfE4JxqZrNyunKFh8UkDAECUodLdh/1FHzS2fWcyCEhrNNJMfSPVPWcVXoZPHAAAosMFJBZ1HcVDY3WeEpxusgjI2RHxpfJj8nL1vfjYAQCgi2Tr3EZ/0Yfysd4NySYeHZLsOxTTMq/DHQAAAJ09vtLz1X57P0pVe5NZQM6MQ5EJ41A+R+8IAABESK7e8XsSi1PnHV857QeuHifzJbuA/DicUS70jmDfCAAAhIu/qbuCKZ4pqE0V8Tg3P6I4nFGWdT/uDAAACH18tc7/8ZU0RpfEbhd7xh5FuXoo7hAAAPAnHsVcX3/iofFaD0tpdElsE+3KTappajvuFgAAODf6mOZPQDKezWuEeJwvJMrprAN3DQAg5WldGrXP//FVxmGIRqCO9ozNGeWZLtxBAICUhdW7r/cnHozbdkTY9AexCJUjUexTTFc+gzsJAJCKx1f/8ts8+LQWx1cRWI9S+RFFWVYZ1uoCAFICbaH9tyQWJwNUXx2AMHQiIpmgOCErU85DQyIAILmPrwz8CH/ioXbajl2N46uu2XhZc9rUjLWK8kwr7jQAQNKh0fOL/R5fPVHQABGI7qwtikoe6zaq28W46wAA0hcPg/NqEoumAHvP98Hxx2ZMiqxM9UlauboX7kAAgGQhoXjQb/Og1XGs+zg0D8ZUSKg5k8qAd8qnZ47Wlml/hrsRACA1Afm6o3i4TE7fuOHXHYeTj+9yq/Spylr5DPU93XzdLsSdCQAQNTl6t6K9cGgNLl+ZzexbaC3y/f2+XnDsiSoFnkBHXDRSXlauNuEuBQCIM/pot7b2cYvNt9Be7FtgHdhi2tFKOHNxbEs8Ip+qel8+XW3EHQsAENPx1VdDzE7fB3b9WeEQ7AP3QDhvMUYmJfKTaVOUKylnMgLHXACAhDHKoc+vsBvPEY42G3NnXzhs8Xe8n0ybpvxGPkP1aM/xOb/CHQ0AiDk7bjL8fNMQ60Pf8MaT/sRDMNPTGjhpia3hFfaVyMoy/42GRQBA1Fnj9V5KwjF882Db92S+ZQ6dX/H41DHQ1wO7P6Q+2PEoU5U3ja3OH6Kt0l6Fux8A0CmWD9de0iocWwXhEKxxsNW3wOY/+pg1rB+csMRNNk3lY6u0P1q1dn2LoFTmX5/7Tu7v8VQAAIKy8ZbCyzYNtt9BgrGpTTjabK3b5At0fPXHh/PghCVuylc15wrI+baZbH52lfZ+dn5ef+17aGLsLH0r+v5UU5nHslX5Hrqmj9A1ncVW5X1Iv/+ardR+S78uZ6q0/yR7miJCDa4YEDXfe82/E3IcJBTbOgpHm33l9H98tZBM/VIGnLDETfNWbigB6WinWh3edKYy/68tolKhvRxP07lo3ul9ZXZlnpGp1j5EgjFPiOzoujVFcJ2bsqvyJnorvBfhagJRsel6u3rTYNsMEohjgYRDMPozvoUBjq/+4ymEA5Z+qW+k4hHMNtK36XfY6rxnmeq8G3KqCgpSQlhGdbswpzJHQWIxiK7B82xl3r8pgtgetetanf8SPBYQh3B47f22DLa9R+LQHEw42my92xzw+OollO9K3uRlmdEUkEC2g4RlgRCx0K+PkqO9Mbta2y+3KrdH4aeFkpk0zM5mf57zdkFOi1BU5j9G72U2vbcvyA7F+PqdUFdou8N7gYTQ4NVdvnmwfQTZt+GIRntb4TIEFBDrKAZOWOKmms3EQ0CC2WmyLWSft0QvwrEYnf8LR2N0fDOYqSrQaSpz89UVefLcitzf0RDJS6KZj2Cr2Ss0b2tlzNt5WspHDGSq850UPf2Ffv/MmfyE9n2y1WQ/JPQ6VWrvhicDcY42rNotg+1lJASHIxWONltsL/IvILYiX8+X5XDCUs9/VOQmWkA6Y8fJ9pJtI2toSz4HtErtNy1/7kfb25rHkcx7pjzKW/BoIOY0eu1pmwfZHqfcxfrOikab1XosAaOPeTf2hwOW/NwshRTFIyWNorGl8G4gJmy/3v5bEo0/bx5sXRJubiMcW8UZAwrIffcXwAlL3BQzMuGcpWNr4elAVEWDooybzyTE7SejJRrt7QtHcUAB6fW8Ck5Y4pY5h4VjlorRMR28HugSFGFotgyyPUiisZQcfFMsRONs9/kgW0ufR6DxJXDA0t9uyFTkwTFLx5bDA4KI2HC948o6r+WF+kGWJf46xGNpwbrP59x8HZywxC1tUgacsrTsfXhEEJQau/23dR7zPTVe04frPeY9ghMXbB1ZPMVDsOVOfUABufv+fDhhqec/yrPglCVVhZU/J3Urg3j+qgbBMXos4wSrG2R+qMZtHbaW53uksmBsHGzuU+sxj6dqp+XUsHewTTD8WeMga1wFJGD5LlnvF5D/kLplvY78h8TKeMemnIOsM5t/UuM2fxnMMa7zmJvWe0wHyJGuqR1kfr1ukPW2+psMVyRddEEd4CScz9V5zR/T+90uvO9g16Wj1XstcROPek/g7vMFJCxwwBK3cek+phL5D0mV8VZqH045ARG+WUfiJM8RFrf5RK3XvJmE5YM6r/WJmsGmArG/Xx/t0KjnrQNrB1lHklC8Q8dRa2o8pv3r3Mbmzl6HNqshpx4vAfmWD1y++zryH5K39MnIf0hPQPJvSynxWMsZNF11mueLiqmZjnqOUo5gc43XvLjOY5lDIvVM3SDTjY1uc67gwGP1fmjB0i/qh1ivaXDb/lzrtkyoc1vernWbV5DAbRIiqHUe06lov9+OtmlwfI6xltl16P9I5vzHTDWcstSOsGikS2pFH4MsJbF2qAFEpomc+UlKQh8Rvv3Tr7uESIYEZ20oE8SAvunvJJHaRxHQERKGk8JRkyBciXgvHW2jN/YCsonKdwMtjxKs7wtZcMISN/XcbDhlqVlFvjIlhCNH71awBn7EV27rCjE43WSyujjkQdYFKd9daEf/h/T3oafDGUvQ1BXqXyS1cHi93otYvXsqo+ebyXyL3ZatcPrRtfVxyIN8HWT67vyhyH9IPv8xRQmHLD3bm/SRB6vnHxWEo80W8pZNcPqxyIPEVkA+twceX/LcCOz/kLplzEL+Q4K2KrnVY9SoCzV6fnd7AXmfs9bD4UffGmLYDyKMLwlYvks2aGQ2nLDU+z/eRP5Degl0bXVS6wejczLtxUOw2U5bDRx+9K02hnmQdUG2DwqmflEBJyzl/Md4GRyyFC3ZV9oyerelo4A8b3fUweHHpMosIfmPj51IoEs+/zFNBWcsyQgkb3hSC4hGx/EdBWS42bkZDj9GeZAYHWMFy3/MvQkJdKmb8lUNHLIkI5C8oiQXEN7aUUAGGl0H4exjlAeJwTFWqPzHE3f1hhOWev/HvFw4Y0mW8Gq7J3cFlsHdu6OACAZnH6M8SAzKean5MqiA2EcxcMISth4TkP+QqB3rNqrbhUktIJlFfI8AAnIKDj82Fm0BWRkk/yEslpK/LIcjlrDJkP+Q6C507cqk7wGR09TdtgbC9rbGYzoMZx+jsSZRnosVbH3txy5M4JW6qV5j4JAlmf/Qzk2JESYkGHs6CshKt3knnH1sLJrj3YXmxEXWwPs/5t6IBLrUTfMW8h8S7QF5PFUE5LuOAvIRb90AZx8boz0rURMQYcZWsPzH03/pAycsYetZooAzluwRVh6XIgLCfdRRQMqdVjQTSmC8+xo+eAL9hkdzpN9EN0He1KNEcapnqeJYz1Ll4bSJGYfIsZ6g5rqmZBcQ+fRMOGOpRiCVWlWqCMicjgLyF4urEY4+drYhSv0gK4LsPxes1/PSWmEriEL6BNXOjOe0dZl3FW7UcPb9/oo8fjTX6ayhpp2qx/rUycZptpDIHOk+TpY0ApI5G/kPidrxwk8LL06VI6wXOz6YffT8MTh68Y93/yxIA+FC2g3SY6xMEqIhH6/ZlPnXAZtIEHzBBSMMs3DHVI/3qU0rVe0VVsBKWUCY+Vhfiwos8U/j/aP/Ul4zSnlFPN69kY7BFgaJPt53F4r7fJ+OpJRPFNQzFtfJLotGAFO7bAcVz+bV0ZHXScnlPyYi/yHhCqxXU0dAjJ7+fgXEY94PZy/e8e41nuAJ9FeH9RdrYvik8vE+9Yzx/PLx2JnrtHJk77VSEhJFeRYcsXQF5K7UERADd4W/h+5LLJaKbR6ki8dYq3ljUAF5UmQjTITchOKFnDqNiT8ZP+E41zRG7rSQX7l6vKxZ9PmPOSwcsVQT6NUFA7qlEjSVd2/Hh+0dlxVTeWOZB/F0TUBWBOlAF+z6keKpwEorzTiovtm0LVHCcZ6QDDX+kFaqPCTq/EclHLFErVlbob08xQSE/wJj3aWVBwk2gbelAuvFzMRHHZTEl4/JbqQjpCaxiMdZoyO0jNF59d1FmGhPm5wBRyxda+iWamgM/GvnTeU1cIfg6GNrjZ3sBxHyJ8ES6MJ/S3QFVvfx6c2Z9/WrEZ1wdDDlA9fWC69VVOtrkf+QsOVVppyAdNyL3mY06fUkHL34xrvXh+hA/9g1MNHNf6eyhum3i1082ixzeFFj9xLZadGsr30D+Q8JC8ijqScgOrfb34O1ym3ZBUcfyzW3nTvGEv5uMAGpHDoggVVW8hPqQdZg4rFVo+ffp2VmL9HvH2QM7uH0v2+ihlYvo+NupV8fIhvb2uC6miwux1+Zt+i3iqG7XSg2YJH/kKxpqvP1KScg/najC/YBZ6mHo4/tmtvOlPN+wwVPoJf88ZoE7a6Qn9IMtuw6J2Gt53dThDubjkkHq4q530R6byodjv9h9Z5i+pLzGP07S/xNj46WqYYP3NA9wRVa6VOUcMQSTqDnvJ3zq5QTkNax7ifOT6TbkUiP9Xj3Tow1+dKpCyog999bEP9vzjSvKut6c9tkZyFq+BdV91m8Xu9F0bxXc0yuniRGj7RGJ9GPRO7rX9c9gfkj5StqOGLp2rpuqQqj41d0fJgKkUgX5Xj3xbaioAIy6LHsuI8j0dxk2kr3zCm6j8o0RS5ZPO5ZtZ6/1t8w0K6aYgy7IWHra9/MgSOWrr2WygJShkR6Asa7R1jO20gRSzDxEOya5+I7RFF1d/8NrN5dxZq8yoTcuwb+OrpXF0axc72J+kQOJGAuGO2RwPwrCduI1BUQSmb6e5hWepBIF9NYk9oQI0wESxsTvyOYjBdyV2kMnE0cUxXcw+ie3ReVOVpey57uE+KbD5FNRf5D0gn0ytz8FBYQl9bfg/Q+Z0UiPeZjTcLPg6wJUYH1iSN+JbzCbg7NHx1XiqunyXk13bf/jYaItIw9iWf+41XkPyRsx9QV6ktTVkDUXu+l9NAc7/gQPetAR7qYxruv4oLPwHp30IA493zImtMnZ2yVlalelc1QaUVyO19A9+7IrldsuZpoavDRuOU/5mF9rYRtSbdUh6pmliORLu6xJstDLJF6dVi/hPYx9CiRn0ybolypKM98UP66/JcJjUZa+kvOry6MxLLuGlAfpxJoOGFp7wAZDQHR89P8PUTrPSYsmIp1HiTMct5QM7BevqOviJZFpTenTcrYJp+WOafnrMw+iZmy4Cmme/hwV0QkHgl1iuDgiKVslXl2CIiO+1OA0e5b4ORDNQWajy7lzRtfdDhq7rS6NsZqvPsiW/AE+kP39BLthNkepfLj6VNVX8U7OqH8npnu406PkVf9ZUBDzPMfr2nghCXcQKiu6Pu/KS8grJHP8/cAlTttNRCJ8+zUco9lR7nLXl9s5g62v15THZE3YNaFcYy10Ru6hPe2h3MksTBJGNnRc2LGHllZ5r9JUKxxKFMf2pWxKD1LM2KaC9G8hfyHhG11NxA4kW42uvamfIThMZ+mkuYd81xW+p/c98GczSLeuiHiPIg7tIAIs7NCCYj9SUaS+79bcidTM9bKp6vGpc3VxKSyS6Pjn+z01N5RBbUxjMzghCV9fKWdCvX4MfG4zG9Dodt8IsXmVDV/5zEf+oC3bbrP4tieHYGzob/fqcKDxkFdK+Ft2QMS5ybCWEUn6ZMUuyg6qUgvzyqO1r0tjFVhdfwnnRIRi+tErMa+y6Yj/yHpBHpl3o1QjrOJdGES6vkP0HKPeVuyi8Yat/nIEs687QW7Y7PW6DodpnNZ2z5J25U9KqHGu68MUcIrWMZLMskLSLDopMcc7VVd+oJU7LiSOte/74yIpE/I2h6TTv7ZGN8uZcutyu0B5ThbtcI7/D08ryZhHmSd23J0idu6aTTlLPoa+WNhOpKtwgIuVsfdnKt3/L615+CsgMx02dbGarz7clfwEt4FtoFJJx7nGUUntLFvt6xM+basXG3qXMc6N6RTgxbv6R+Tkl5NBcaXSNg2QTXaRyBW66/9JRvtZj4ZRpqcWuGxfD/TaaszGLkDYTqOfZSAfZsis7/QuBdVx+uVXcxltP/zqz3mvV04NgsqIMscwUt4P3SlgID4mQJMI9BXK6Yrn5FNlV0RQcn6xxHvUjdyp6M93qTnRAWcMAYoJl0/yMpkGKxIDXpNq93mH97mrLVDLM5wjy1OnWmodI9mdG6dVjv8khClz7e2/V2v2bW76+PdAwvI0hA9IO8OKkw5ATk3d9LikA8IlV3yGVk3dvN1uzBgwUixN6szpb1ppaq90XzNcqyvlXoCfRgU47y6eb7U38Ozwm3eLvbE9xq35eBHbmvDAzbHhuzwRlk0tQkGDeOzCwuMIrtW7ult/9YSt6UxluPdF4bIf7xx43UpLSB+xqw0UVd8g5A70UzWXO2nYGRGxKPen8uN6jFW5hzkP5D/SLY8SIAVt3NcIsyDeMwHP3FbNjxqczTk6vnwEt86bj2VdE4mB8IJR3ZdjNbqhH+zj5E/TKW+TbEa7y5UaIVKoE+77VoIRyAxoSVRNNfqIDUyfiibkTmYopMLWIM3LdIoJPMWw7ZoRkzMfNHmP46y8/LXMrP6LGWnXrOILb12ETO+36fsuGs/Zsr6LmVf7b2MnVvwLX0D35XC40vqoBZ+yDV7f+dvEB1vcu0UQT/Gsc95S+NUu31toSHsERU7KcKoEEbWZxbxUfvGoNa7ctp+xsecNWri6m+8uzBwMZSAjLnzGohF2LkT2WnKnazPGFWwVOO0H4hERKK1O53GvIjJIe5ly/t+xjxUvFDjtW2hnF/Y14P1OLYyfy9eyky8ZgGJzvoUOr6aDrUI/M36uwA9DqfiG2GYTi7nzdvKKfrRmblwdz3sJ7H4B0UZfxPOumN31Me9IPw8q4nbuo43NcdyvLvQaBhKQJ74W2+IQyejkx6liiPyMUx91p1FNYwxeMd6WknGwWj8XEV5wse3n2Bn9lnM/Mm0lI6tT0VtIddgWwMzpv+C7Pn5jUktINX5Q6AUgerlDfwUv3kQ3hKXPMgSijIoKb0jzJv2uNAgRkdvj9GvfaK9h9sfrXvkd7ZWXu2O9Xj3NXzoHpB778uHIERlCKS8Kb0ka4dqZK8aDWc770uLbLxmazR+Ttbr2Yn65ryffan/R4zTuTcWe+XPsdssq7Ln9PoyOedfFfwflCKwgAz2d0NMiVM/iND5XmwIGHG0Jr75F2kbnr5vX+9P419owN3Q0h/jsq+Jx5rbVZwhpID88cFcCEAsciclGYcVL7ENFJ00CDtCFM9oa6PRz0ITXOO+9IgZT7kMh2t/zIWjow2zrGZn9/oqWQSEqdaugUoEIdPIX+XvRuhvdB2JZ4K8t54/2vqza4SoSEjwq43ehE6+FCIcej3rRlhdjULlVyzee2OH8e4rQuwBEWzIo9lw+rHfW05LppRHupz/mBLn/Mec/FWMl46W4i0cHW2E6avs+dptSZD/KIFKhM6D1Pi7CdZ4LAfiJiJey96/O65nxRWduW+zmrnd62PYF7Nh0LnHWF86dKEHKT7BwMlLxDJmxi3/cYR5onAB5TiaEy4ebWZ1HtCUXbNY4vOvjFCICHoc2tt/4rwnvcZj2t/I81eJ4Zpodd7LnUbuO4o8jsdzze0XIbrQBRv4tBrOWSKWNTcO+Y8K7UbmBhFEHYHsXv3nLeXC0hOQw/J/y38ChehkP8jtFmfcF0xRXuBordegT/Q1udvqnEZHaydiX65s6tCFXhRSQHo/p4RzlsYxmI+pjLGTe633MsbK7ReteLSNhxlmWcNW5e+W2PHVP6AOYX7bDtRotS7e5bytnebUqT0hUdfjG7ftgfVRaBbsTB5ksS20gGhGZ8BBS8Co/yS2Cd6pfT+lI6vTYhePs+Z1bJZSyS9TlTcc6hB2HoT71P+aW+vWRDUT1ngsq+J5pFVjt/+21mv5It7vs6FdP0ioMSaCycbI4KAlYMpZMVxfW9rvQ8b/CJ/TrN79DU3bnk2/f5CqF20avTufJhNraOZbujDm/sx8MG6ARuceRH/2bmHqdKA8aNTN7djCVuZ/L4XyXbaq9/+DMoSfSH/Q3wc+2mavTfDcq9N1XutE36hRF8fqvfu6dbuwZpDl+bVu86lEvMfa1nLexsGhV9kKBucsDVO/mRMb5zbx2iXnigd3gMb1vElCcaO20P7bzj4HqmLuN1Q2b6F/cxrZnpiJyBB7HR0P7RH5+JKVUIVI8iDCNxQ/H7YwdyqexzlBJu4eE461lg/X/ixa73ljYeFl5LynUpXVsQSLZIuAbAhjjMkCOuKCc5bEgMfYHKtM6St0k7c9n99R/vLOSAeDhoOw9lrYGUQNu/P8rb/ust1uWkXv55SIReR5qEKkIqLnG/1uKXRbtotpdDsdMy2rcVuHdSYqEUSjzmN5hCq+1q0TgTCeHe9O0Uc4c7AW2BGBSMFk06K/vpZ5tfdnFG2cJgFZJUQK8Stnd17dGpWciKaIZL8w4FPRRiDV2n5QhMiPsaaJ8RgryDf3JoogttR5zR9TvmScICobPGZD/RDrNY1uc+4Gr9nT4DbdS4Ixg7YAfk0VXvtj1RAYjfHuNWHMwYKASCT/8Wp08x/MW/n1GpurTjim6jZq1IWJ8A85JldP8gevMPoo9ZpQz4pIu9b3eCtiPyYpCY+x3PZAx1hi+raejFZDa26Fo6xQAvKJAwIiBdO8lRs98ajUHtTcaJks5CjE4CeydVw/cv710RARlnPupPd3QGQC8gbUoBP0LLzlMiEh5++D/oom5cLRx9ZW86EF5GMnBETs1mOCPMrlpPn/VVfnZgu7TcTiK2jI6C9bo5GuRyJPDlworgR6Hgc16Owxlo5/3d+H/LzdXgcnH1tbxYWexJuK+9ClZvKyzFg5t21Mdd5Masjz5Lyd8yuRHHvfwei72ItCvSzCUiuRCMjBvhV9fwol6LSAcM4Ax1hNOMaKrX3j0kNAksBUs5l4OLrTZMup3HR0S8I3gdGJRu8xBDq5CNvuNC4XSfnu61CBGB1jJbKpMBVsuVMHAUH+o7O2i5xfBS0/upn5J/PrePsNdTFf0FURyZ7ba2Xix7fnO6ECXQ5LuTn+PuAHrY4NcPSxs3Am8SIHIm7rWSoXwzGMEJ0soY7vx+jXvHhFJ2ojP7BLPSN3mFYkVDwomd9zVuFlUICu94M4An3ItADqOJx9bGxZOAKCCETUppiRKca+hpboRJjtFOvteq1H4J3OibDztLWJu055s+H9o1Nh8ZOWfeP+RrzzNiTTYyYgxWFEIOhEF7NlzmHFPuOp6ZzcyahuF0b/BIMf2eko5IkEVmRV5tnh/aMXhcz29wGbja69cPaxsXB2gXyCIyxRr8VlKvKktvNip/DNm467rldV94pKn4mwyZNGoHzSuSVU3KEE7Q7Zj90f0ays0PHWQB/yarf1Bzj8BAkIGglFa2mTMqQmHgGjE6aqQFf4aWGnB5jm6h2/pwGPuzslIq/0/izu771a+yq8fhQpLCy8mD7Mbf4+4IkOWw0cfmIE5FOMMhFv/0d5ltQFxF/u5HXqPblB+5424im/5Ctu6VQe5G79F/F+rzlVWiu8ftTPMt2jg4w2OQ2nH1373F4cxjh35EBEu772dTbZBKRjdLKMmhhH0Sj23mHmTi4gf7Ggk8dYJ+P43vaqK9SXwuNHmexiLiPQ4LQlbusmOP3o2mdhCchAX/eX4axFZ+PSqQw0L5kFpKP90FbZlftO7u8Dl/Zy2eQvmiIWkbn538Zxde1UePvYJdOX+PuAb7O4tsDpJ0ZAZGPkcNhiy39MVqaSePhpwNOuacudaMu0l5zjQ87sFIlMQMb0j9uo9+y383vB08cqmW7gbw/0IX/nNh+A44+/gGS+BAERXf/HTHVKC0jHceht0Ul2RfYfzqzQjTAKObNwKh6vdTW8fCy7Swu9v6ABiwf9fcilTgeS6QkQkNwXlHDaYst/zM2GcATcLa5dzk645n32dstqYXBiWAJi4o7HY2MhjS65F14+5sl0fpbf2TWUH1nrMZ2E849fFZZg/Z/JgtMWU/8H5T8gFGHnGw7TZsXlzOOFixje8X3QaqyK/IYYv54TuRW5v4OHj7WAGPjrAn3I7/JWdKZHTUB0YQmIZZQGjltElj5VCWHobHTyVv56dmz/Bewfzd8yxg7Rycy+se0HqcyvgnePDxfQjJv1/gTkWj1/SKxrYpM1Arn+MRaOW0SWMQv5jyhFJ/vZV3p/zj5cvJjlHTuZl2ObSEfvRzyjEJ37r4GikC9482YIQPwikD8/mAfHLab8x5vIf8Qmd5K3N4b//lbsPY8jSofjfwINWBxi5r6HAMRnmKJgD95TAMctlvzHeBmcvSQt/zl49bgn07mxmI+VmHHui2zFvgq7yfek1ebLfSqvCc5bJPmPaSo4Yyn2rVRqVfDocSaziO8RaNb/KLsDyfQoL5RaTKLxL7vBN8Li8LHtrnXGqHw4b5GY8lUNHLLkLG8BvHniSnqrA0Uha93moxCCLgiIU+9bKIiHXecbY7MIZdJ+r7Pykb5w3iIx9bwcOGTpJeuHwZMn7hhrQCABQWNh500YTvmuy3TIbnSFbLLKvLf/MVF+G3+4T63iGW1tWqnqh+4TZM3JLh49SuRwxhLsku9b0fen8OQJhNW7vwm88taCKCQS4XCbT8xx2jYVGLjmcMc8ZP6paKMox3m8mN3Q9ho1Ru501t8G1CvGsht7liqOCsuWkk1AZGXIf0jOqvNfggdP/DFWwDn/k5zYFRKmnXrNZWvMiUA4zjpnzr5XjA6VhOJIwNfsse1Vjuy1Xlaaua1Hiex0MgiI6jUGDllqI+kreqXBgyeY1p3pOwI4i+b1HuRCAkccpub/8pYtvQ1c+2KEE2dyS+5J4YpI9/HpojwiUg81/RDO61ffZNqe8XxefVpJxkFhFLoUBUTzVi6csrSS5+/Ae4sEmtL7SCDnMNlhr4VYnG+r3OZ9brNrX7trtVpj4O7SFtp/e+aacrZwBaRnieKkKI+xXsiriziisjmPqP7ev1Y2VrNZOO6SgnjQ9YdDlphlz9ca4LlFgjClN9DOYyo5bV7nMR2DaPwYdZQ57fVtERrNFvuQNbjtdBkvOOdosJjrG67TTStVHhTpMdbRQEvIwrWsmw3bFc/lNNB73N99nDhzJ/LpmXDKksp9aNd38537vIFEJ9N17scCOYFpDlRkCbbGYzrUGnU0txxT6ZxMoOvZugEyLCebXpK1Q7SjPUYUruuKgJwTnZj4U5l3Dtwgf5ltJHESTfVZ5mzkPyRmI+CxxZcL+SWd2+8NNOqdKoxSOgr5hHIdlCSn68F9xBr5vFDXU1XM/SZcxypUN4m2O7ska3u0BOQ8G2zZpXiqoDa9RLU7kXkgZn4enLKE1u+ys9mfw2OLsyJrZKCHfYYrNSuyhCOrCY6WI6sGOubjwr6Yo0ZdGO7mNuWTBTXi3Q8u82mGWHbHTETOmut01p8H1ivG5NSllWYciNsx3UTkPySV+6jSPgNPLVK0Ou/l9DDvC5QLWeM2H0mxvo6m+6zObZTjGNO3r/ennRDksKqYMkcUbhB1j8RYTWPsBaTDcZfDsV/5aJ+1QgTUY0LsSoUV5VlwzNKx49oq7VXw1GKuyNLxTwZ6qJ+ypVRF1smbLK4vWR3fpwsR3XdhOUu747Cop9RSJ7qat+2Jt4ick4y/Xbcj44WcxpaCgygm4zNfZ+GYpTI0sSr/FXhokZNT6PpVoFHvgn3nMe9N/lEkJB4m52xh7H2XjgQN/H/C7gUReUOebBzbmEgB6VAqfLRdqXCnk/HC+lrkP6Rjmso8Fh5aErkQ7qlAD+9wq3NTUgsIicdjNtt9UbmOBvf08Et5Mw6Kul+CvvVnDjVtE4uInNPIeINxe8azWsqdqPbQTo+wk/FpkzPgmKVj/4JnloqAWK2/DhaFrPBYtyWjeKx3m05XOJ1c9ITY/US4TlBWkrVN9PsySpU7A60AEE10YuROZv2lcK1ibHZdqEbGDOQ/pJM8r9b2g2eWkojo3A8HekgNBm5fMu5Orx1iGRrda8jdGnYp7/N5dZIYOjhR8zfWwHuoIm0Gve7NYhaTlujEa/1BOaqgVlaq2kXRyTnLu7LeQP5DErmPau2n8MgSo2fhLZfRA7gp0IP5Hm9NqqVTtR7r+KgXJBg4fdhTef82QBICQt/qjytnKv+n3ReNdDqqG06NqO/R+zgmbkHhfOo/FW9RvMRuEI4MaZfECThoKSTPC3TwyBKEyleHBXoYc+kog5ZOHU8G8ajxmJbGJIozuFXhJ4Ydh6UyJp1Gn3/i7/0Kpc4kKDo6uhtNtlzs0Qljdh1m7jCtYCdeu5Cdr90KZy1KWwZPLFWEZjgdvyLQAzjK4aiXfN6DxpNsvKXwslhcvhaHGmYzoWA9ShQnJDG9lqqXlNNZR6j3TzPW/o/VcTeTmFQE6i8SlQ2xb2aeKvyMea33SnJcR+G8xWD5DjhiaedCdMEeOppKu0vCAtJcz9mLYlvRxm8MO5FO5/RSGX/es1R+TF2u/t9wr4PX672IMbi0dIz0EDWlLolEWBNiFu4oO8L4NVvSbzH7VsEGOPKEdJ2vxNDEpCjrDbw73WJ0STahXusxzY31taNk8/thJ9JH59ZLaYdG2hTl2s5eF2HsPYmJlyLcMnrvW0UfnbicO9mHdUvYV3p/RrmTfXDwiD5AmKh13u70EAXcUFchwTlZwtGVr7Dw4tgLCDch7ET6vf3rpLaISTY9c2o0rlO20a0WohNhPH7rUi7xiomBSplvtq5lnr9uATs3/9uW7Xhw+NG25Yg+kioKCdxcKEzrpYT6QUlFH97oluwGLETQue8MxykNNjt9k3jjyZ4vyyUlIMIU3XDyIRFFJzSTTaPjeCE6oeOuRrFHJ6zDuZt9gKKTGX2WUHSyC84/Gjs/8kzwukmE1m7/WbCH+VaLc6tkxMNtWRe/SjauyN/1us7I+UptVt/HDoNvib3Yt8A6sMX0z2gktw5WGMOSPl1dEMM8XEupcEsyXscfFL2gXE/Tm4Xo5PWCFeQMUSocce4jbyk8bhJCAuII9uB8wFklUZXVeL2pb7yuWXaR9w9t1+cOs8M3327yLbLrfAtbBaOjPX53b0nuFO9RKj+SNldzZayvZ0t/0rmlws2SKBWe0O+j7Ir8OghEWMnzgfC2SSsi7qogvSFNNPL9sLgT5+av43Wt6rzm39V7LI9/bNc3L7YV+RWMjjZ/6ABJCkhLUn2SYlfPWbEpiQ6an9Nxf9IY+EpJlAoPsm1gnxq4gJ3d6ytylkcgGOfZx/CySUymkb8q2IN6o8m1XcxVWRsHm/vEVDQGmYzrvebKGo95d9vPXNruiCqULbQX+bq/nC5dEZmS0aCuUF+aiHuzfalwazL+lKjFxMSdYu8wfceMv3YROy+/AeKhbdZU5ubDyyZ7FGLgRwR7MN7hbKLcG1LjNm2O9rWov8lwBUU1D1JeZSUJ5yl/P/dLpy5sARGs8Fm1ZAWkdcrtZm2Z9meJvk/PrBU+Wyq8Rfylwq5dzP2Gz1qT8alYKvwGvGsqQB3qrc1ggauyPOb94ivdNd/T1bfu69btgjqPyVvntfx7vdu8L5yf+7XLEJGAPHZ3L0kLyJnjrIwd8tflvxTTbSsk4+kI9u7W6OS4ZEqFzyTjTyW5eJzQvK2VwbmmCC2VMXr+UKAHwGri9qzzmJtEtCTqhI+ErzPvdUdLlGF5psZrXksidDrSn/0tb4xIQKqvHyB5AWkVkZ3pZdrLxXj/CsvCKHfipNzJFGHfveijE6drD3O/filbfs1icrY7k3Di7lh41RSD1t/+LdhNP9purxNR9PFB2FEGnaVTLuPGGq/lQ2o4PBCNn78wAgFZaC3yySXWDxJkeu9B5RQNK4kvRG2lwnrugOgFxevYzI4auLA1OjkucQHZq6ru9Rt41NTjglCjOpbw1o2iEBGv1RrsjTS4bYoaj2WcEGVQLuN0tH9+JIl0wa5/PDspBKR1p/pp+fTMm6RyU8vN5p8IpcI0jXoMCcq3ohcTi/Mw+zfjMnbyNQvJGR+WYNnu/XClKUpmEd8j2Dc2Ku09RfmQhJb2kiCcPC/KGD78kgaP7VZKgH8qjDWJ9Wv4yqmPSEDKbu+XNALSthJXPk05WYr3uNDLozG4b6P7/C26p/eIVkhGFS4QKpkkJiC1iaraA2I5ytLzNwW7sZ0mbmci8yGUv/hGeJ1r3EZ1/SDLNDrOaiRRievr+YaLLJH+qaMouQSkLS8yTfVZvHtFoomfUuGTouh+F5Lt0hMPH1OZb4EHBbR9j38t2A3+mM3RkLD8h9e0d53bfCSRUdAaPrI8SMtYk6fVSSkiPScqjslnZg1KhvteKBWme38w3eOvkG1LQLVWE1Pa71NJ5j4qte/Bc4IWWMNNP6cbem2wm32eBKf2RtOWRJgHGfvnvkkpID8eaane6zaq28VJ9UWq2M1S7uQBilA+inmpsNm1l32t12KJJs6Pqyvy5PCcoJ2IcBq6sY8Gu+lXeKzbUlVAljkiayj82DkweQWk7UiLqrTkMzWGZHwehAGksVrxyw62rWfn56+TcOXV8/CY4HwRCTG+PN/AnZDa6PdE5UEE0z2jTnoR6U7RSPpU1X97js/5VVIf8xa5ZMIUB8oZvhushyqkPVC8iKnUHpSweGylxPkv4C2BfxHR8+XBHoCBBu4Q5SSOp5qAdCYPUjr82qQXkHYTfU/Ky7JeSIVnRO31Xqo28gPPRCf8ynCmCmvszh+YV/oslXzjYGW+G14SBEQYuU3fspYFexi8ZteuznR1S90i7QdZQMMV01JEQM4ea03MOCQvU9+bSs9M65DSW+i5eZNs93lHVvfpFjNV+Tuk33We9w48JAj3gQhalfIXi4vKaY3NqSQgyyMcrCjY0MeyU0pAzlZrTcr4QTZd9beUe3ho5E620dWLnpGRzFDrQvaN3iuSZGTJQc0/Cq6GdwThHWUZPf1D1cnTuJPaVBKQSOdiCfbmjdelpIC0H4eiKM98JtkqtoLmS97pfSVbrZ2QVBsNq7V3wSuCiKBR2kNDne+OczpSqrw33OVS7U39kiKlRaQlR1JCORIq/ZWXaZJ2aqv2Pe1vaaXri1IcSRLClnkrvBfBI4LIv03p+CdDJQinp5CIfOmI/Bhr5F29Ul5A2ldtpU1RNtB8rYeSZQxGdnWvjNaI42ASjmo/qa7OzYYnBJ0/ztK7p4YSkfIUEZGVnSjn/cRZ5OvxsgwC4mdQI5UAf6mYkXUrLWu5UErPhPCNnKnOd9Io8w+kOIYkglHtT8EDgq6F5trhl4Sa3CvYGy77+lQQkUWdOMa6+ZFciEZoMflWiEz+MEn1G7GKBludV0SOdQrZjhTYMvg1bae8BB4QdF1EWjpzuUWhRGSSM/lHnizrxDHWu4MGQCgiMPWbOUvp2+9DVDraJ5FHXdoq7VX0Orw0+2k6OdRdKbSi9jhbna+B5wPRe5h03stJJL4KJSLPO+x1NDE3aUt8V3XiGEuwgSnQmR6VhPsE2fnOrCr/M7LxTFXeLZrK3Hx2NvvzaN/fvV/v/Uv6WXn0c26nnMartOuiLgV3m7cdXT0EjweijjDBNJxFPY/YnfVrk1hEOlONNWtYfwhEGCabqgrHyQl5h0Zy9rSIKW82U6V9Wig1za7Mu1EYM85U5V7HvJ2nbTPN/IJrmKoCXWs0MYz+7ggSiJFks+j3S1LkSCrMJVF5S1F1BWKGpthxJR1nrQ8lIjeZXVto4dOJZBSQSJdMnVl3O9DX9/lMiEQIU73KwJEnzo7kVOYo4OVA7EXkzBygoCJSSLOzvvNY9iWbgKzuRFOhYDNv6QeRCGGaeblw5Amz/Nvh3UBcyCl0/YpEYmkoEcmj1bhf8eZtKT8bSzDbQF/vF1QQioD5DzmceOLyHm/Bq4G4oi70/qJ1PWjIUdbVXHJVaH3t6lwy/RVEIYHzH2UqOPPEWL1QRACPBuKO3Gz+Ca0GrQxHRO6wOjdQhVZyjIOnEe+LOiEggl33bBYEw48pZyP/kYhuc6FcGp4MJA6aQkq7RJ4PR0SuMfKHVrgtm1I1md4yZPGG6yAY/vIfbyH/Ef+jq/x74cCAOJLrev6mcPdJv+G0rZd6v8h3QjLd1rkoxPUEC9E4ZymVAg497guitO/RGJkL4LmAePIiev5aEohd4YiI1cT9sMpj2SFlEfncUdwpAfnAPdDXYyxmZLWZfEYmHHp8rTbn7eReRQwkCmvm/184o0/OjkBx2GqkuuVwFde5kl7B7vl7AcSjrf9jDgunHj87hFElQNQUFhZeTEdaz5FANIUjIsVG14Ev3JbNUhSRz+ydi0IW0vEXMzoDAkLGzM+DY4+PNQsd+fBQQBp5EQOnJ4HYEW40MtjMbV3ptmxPlSjklWEo6+05CfmP+I0q0T4DrwSkJSLUuR5uqW+bPXZmntYh6TQWFnVaRLiRqZ1QVyD/Eaeked6/ab3whfBIQJpCouN4EoftkQjJQ1ZHzbcey/fiXzbV+SjkI+dAn2JM6q6+zXwd+Y84dJqvQdIcSB7Gav01Jdhnhtq33tFuMbsal/PmzcmWC1lsK/a9YTf5CkYWnEpJARlH+Y9K5D9iKh5V2u25Vbk94H1A0tBa7vt5JCIimNHE7fmny1qz1mM+IjYB+TbMIYuLrEW+d+wG3wNWhy+77b0ZeV/6uNSb1ps2OQNOPsYTdrPfzu8FjwOSkQs0OvcgmqdVH6mQCDbC6mr8nLdsFlMJ8BcB+kKEHSLVdqPvEYudBkxyft+PZrB5b/fx6c0plf+YqYaTj52dpgm7DrgZkNzRiNd7Kavj74k0P9Le/mpxNn7AWevXuC0HEz3qfWFrie5iu873rsPoe9hqD/t9qB7tU5NKApI1NxuOPnY2At4FpAytgxlvJ0e6rrNCIlh/I394PDUnfsrbNnzrNu9Z5zafiqVoCCNZ1nnMx1bw5u3zXLaaP5sdh7ry+tNLsrangnh0HycTxmnA0ccmaf4UPApITWg4IyXanZF0s4duVOT3j7bbays4a81C3rqRBjpu/85t2Uficpyc/+l1PImAYB3mc9HxWNNaj+kk/ZmjazzmA6t4y+7PeOumSs5W+6zNUecycbui9RrPmtl1Mm1ixqFkF5D0Kch/xGjGVQmcCABEdjGXwej4Z2jab2PUHbWITeOx7e0+QZ7UlVkZszRw9lGPPPJmYkAiAH6iErWRH0hCUt6VXEkc7CSj5z6iDvy7GL17aZdE5HbdhqvHy5I2qa5+MwdOP6qWNxuNggCE5gK13pXD6NwPk7P+9IzTTphgHCFbIMz9ItGwCat+214kNU5m0n872pV/X/lIcibVu4+XUX8C+j+id2yVX1X4aeHFcA0ARIiwWjdbx/U7862fn0W2Mkaisqt1D/wsVu++O9vo6qXVDr8k2GtrfU1d+rmKl9gNSbe+dpoSTj96OY9/aMu0l8ATABAlWiq6KAJg9Z5iVsfdTEdfj9KR0iSyCooW3m/Z5X5mnzs1M7qXt/xq4P9D/+1NEoepjIF7gaKbh+jXG9TFfEH7yCLSaIn+7X91VURk4zSbkmp9LfIf0Tq2ehPiAUASwxq4K0gEdnZVROTjNJuTZn3tPOQ/uj6iJG8ach4ApACMwe3q8hGakW+WlWRtk/z62hI5BKDrY9lHo9oKgFQSkTNDJLsqIk2yCdJuNJSVYXx7l8Rjft6LeJoASDG0dvvPSAS+7nKPiJE7LSvJ3CXZ/MdrDISgc3Yqu/zaJ/AkAZCi5OodvycR2BaN4yz5y2yjJPMfb+VCDCJfBnWIHTXgOTxBAKT6UVYx15dE4Hg0SouVT+fXIP+R5DZfuyn7dtNYoZkWTw8AgCqz3MOi1Z+ieuDa9VLpWJdPR/4jInuzYDXrcUz3er0X4akBAPwoInr+5WiJSNYdxQ3dS2SnxS4gqjnIf4Rt0/p+wZi5+aGaVQEAKYjwrZKc//yoichQ846epYqjos5/zMf4kjDsKPto0TJqZJ1bWIjxJACAAAjfLqn7/d2oTfE18cep4VCUo096TlRAHELmO/I3MDdaa4ShoTi2AgCERBi7IoxRiebcLuUTvWu6iywvIi/PgkAEs/JrFtMumIN0L5TSbYEmQQBAePTt6/0pOf6PoykiwpFWWql4FlNlzmEhEv5GklRqjzGPFH3R+rmhSRAAEDms4aaf03HW4uhOEHY1KV7MqRfWxyZ2fW26j0H+43x7o9fXjNf+PX1WTTTU8z48BQCATqN0OP6HnMl/o77h8CbT1rRS5YFECUjaJOQ/OkQdB9hRhfRlgWsSdsrQFwcOdz8AoMsIifXWvSbR3WdC3evKpwqE3EhTvAVEUa6GcLSJx+w+XzJcS9QhfC47hL0yuOsBANE90qKlVeRgmqMuJHbHEfk4ZvPV4+KY/3gjG+JRpd3J3q//4sfPgluTY3L1xJ0OAIiNiJzpWD8Ri3W8WcMMW9Imqn6Iff5DJsxySmXhOMK83P9jqrA61O76/6sLS8oAACDcSMRTTA5nX6z2umcN19Wll6piNt03bXJGqgpHU/ZMOq5yO7a3u96nyUZirhUAIG6ojV556653X6ws864B9WkTlfuiLSAZM1Mw//F6wQqWGgLPKWTQ87s1Bk6PuxkAEHdae0VeiaWItAjJHUUbZSWq3dESkKy5KZP/aGZn9/qK+aN5tZ/r+oXG4LwadzEAIKEwOn5oLI+02kztNe9UjMmu7cqQRqr4EkpWk/6oipnVewV7s7XWz3VsojzWGLXXeynuXACAOI60dN7urI7/JNYi0mIm13FhNAp1te/vPjayhsT0KcqkTo6zk65ZSI2AG/1eNwNfn63j+uFuBQCID0rEMjr3XykiORgXIRHO8YdQVPJSdkPPEsXxsNbXztIk3TEV82avlczDxUtZC3cswHVq1hj4KepC7y9wkwIARI1wth7Nib5hH3Hdqt8kH5O9IZiYqN/MSZKVstrNzNjr/qvx2GtDXJfNGr3HgLsSACApGB3nFI5N4i0kLWJyvXl7xrP569NKVXu6j09vmQLcfYJM6qtka9nx/RYxt5vX03UNdQ1OCrkOYRQN7kQAgCQRRsPT8ckj5NAOJUJIWszKHc2857o61cv53zFzeq1qWZAkiSgj7xDzau/PmZEDP6LejXVhv18D/6FGx2Xi7gMAJAWsgbtCo+cmkIM7njAhOTuDizvNDqMKpSeLFrIz+i5iKvIbyGGfFsHyph3sK32+YJ+7bgFzG0UZ9DojfG+bWAPvwd0GAEhKMov4HnS0NVM4Ykm4kJxT2cWd0txgbWTvNyxjX+63OLu8zxJ2bv63LU5d6KeInlCcoH+zkZ1DZbaTr1nEjhq4hBluWsPYnYe78Pp/EKI8rd3+M9xhAICkp6XsV+8uEUaHi0pI/IuLT8O79tBq13r2z8YV7P26z5nHCxcxowZ8xjw3YBHz8nWfZ4/tt4Qd128Bic/nLf/fkwOXah4p+jL7Xv0ydrj5G2aorYFxOo+EkbuIwNx7hTEkdEz4S9xRAICUI9fs/R05wifIEW4TvZCIx/bTUdUorc57Oe4gAEDKI+wcoWOYwdHfgJhU1kDX535MzQUAgABkF3MZwjdscpgbIRq0f4WqqmhXh5e4CHcHAACEgeAwhWmxjME9XZgcm1LCYeC/p67+cTl6twJ3AgAAdFFMyKHqNDp+chJHJjuE96fReQoRbQAAQIxQF3uzqNP6AXK6/43n7K0Y2MaWOVVGfiBEAwAAEhCdZBvdajrqGs7q+dnCbm8RCwZtA3RXCK+VIqp0fHoAACAysou8fxASz5RDebbFYZ/Znng0rslvqppide736OeP1ujdN0IwAABAqtC4+RyTq6cwnbZl7LyBH0/HR6+1OHkD/xl1yK8np79LWLoUcox8S1K/JdJZQHtQ5tHfLxWa+uhYbRiJRT5ruOnnuOAAAJCCCL0WjNX66/aGHAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAs/x/RqNQF6sWCJYAAAAASUVORK5CYII="},"./node_modules/playwright-core/lib/server/chromium/chromium.js":(e,t,n)=>{"use strict";var r,o=Object.create,i=Object.defineProperty,s=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,l=Object.getPrototypeOf,c=Object.prototype.hasOwnProperty,u=(e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let o of a(t))c.call(e,o)||o===n||i(e,o,{get:()=>t[o],enumerable:!(r=s(t,o))||r.enumerable});return e},d=(e,t,n)=>(n=null!=e?o(l(e)):{},u(!t&&e&&e.__esModule?n:i(n,"default",{value:e,enumerable:!0}),e)),h={};((e,t)=>{for(var n in t)i(e,n,{get:t[n],enumerable:!0})})(h,{Chromium:()=>N,waitForReadyState:()=>F}),e.exports=(r=h,u(i({},"__esModule",{value:!0}),r));var p=d(n("fs")),f=d(n("os")),m=d(n("path")),g=n("./node_modules/playwright-core/lib/server/chromium/chromiumSwitches.js"),b=n("./node_modules/playwright-core/lib/server/chromium/crBrowser.js"),w=n("./node_modules/playwright-core/lib/server/chromium/crConnection.js"),y=n("./node_modules/playwright-core/lib/utils.js"),v=n("./node_modules/playwright-core/lib/server/utils/ascii.js"),A=n("./node_modules/playwright-core/lib/server/utils/debugLogger.js"),_=n("./node_modules/playwright-core/lib/utils/isomorphic/manualPromise.js"),x=n("./node_modules/playwright-core/lib/server/utils/network.js"),S=n("./node_modules/playwright-core/lib/server/utils/userAgent.js"),E=n("./node_modules/playwright-core/lib/server/browserContext.js"),C=n("./node_modules/playwright-core/lib/server/browserType.js"),k=n("./node_modules/playwright-core/lib/server/helper.js"),O=n("./node_modules/playwright-core/lib/server/registry/index.js"),T=n("./node_modules/playwright-core/lib/server/transport.js"),I=n("./node_modules/playwright-core/lib/server/chromium/crDevTools.js"),B=n("./node_modules/playwright-core/lib/server/browser.js"),M=n("./node_modules/playwright-core/lib/server/utils/fileUtils.js"),P=n("./node_modules/playwright-core/lib/server/utils/processLauncher.js");const j=m.default.join(f.default.tmpdir(),"playwright-artifacts-");class N extends C.BrowserType{constructor(e){super(e,"chromium"),"inspector"===(0,y.debugMode)()&&(this._devtools=this._createDevTools())}async connectOverCDP(e,t,n){return await this._connectOverCDPInternal(e,t,n)}async _connectOverCDPInternal(e,t,n,r){let o;n.headers&&(o=(0,y.headersArrayToObject)(n.headers,!1)),o?o&&!Object.keys(o).some(e=>"user-agent"===e.toLowerCase())&&(o["User-Agent"]=(0,S.getUserAgent)()):o={"User-Agent":(0,S.getUserAgent)()};const i=await e.race(p.default.promises.mkdtemp(j)),s=async()=>{await(0,M.removeFolders)([i]);const e=r;r=void 0,await(e?.())};let a;const l=async()=>{await(a?.closeAndWait()),await s()};try{const r=await async function(e,t,n){if(t.startsWith("ws"))return t;e.log(`<ws preparing> retrieving websocket url from ${t}`);const r=new URL(t);r.pathname.endsWith("/")||(r.pathname+="/"),r.pathname+="json/version/";const o=r.toString(),i=await(0,x.fetchData)(e,{url:o,headers:n},async(e,t)=>new Error(`Unexpected status ${t.statusCode} when connecting to ${o}.\nThis does not look like a DevTools server, try connecting via ws://.`));return JSON.parse(i).webSocketDebuggerUrl}(e,t,o);a=await T.WebSocketTransport.connect(e,r,{headers:o});const c={close:l,kill:l},u={noDefaultViewport:!0},d={slowMo:n.slowMo,name:"chromium",isChromium:!0,persistent:u,browserProcess:c,protocolLogger:k.helper.debugProtocolLogger(),browserLogsCollector:new A.RecentLogsCollector,artifactsDir:i,downloadsPath:n.downloadsPath||i,tracesDir:n.tracesDir||i,originalLaunchOptions:{}};(0,E.validateBrowserContextOptions)(u,d);const h=await e.race(b.CRBrowser.connect(this.attribution.playwright,a,d));return h._isCollocatedWithServer=!1,h.on(B.Browser.Events.Disconnected,s),h}catch(e){throw await l().catch(()=>{}),e}}_createDevTools(){const e=O.registry.findExecutable("chromium").directory;return e?new I.CRDevTools(m.default.join(e,"devtools-preferences.json")):void 0}async connectToTransport(e,t,n){let r=this._devtools;t.__testHookForDevTools&&(r=this._createDevTools(),await t.__testHookForDevTools(r));try{return await b.CRBrowser.connect(this.attribution.playwright,e,t,r)}catch(e){if(n.recentLogs().some(e=>e.includes("Failed to create a ProcessSingleton for your profile directory.")))throw new Error("Failed to create a ProcessSingleton for your profile directory. This usually means that the profile is already in use by another instance of Chromium.");throw e}}doRewriteStartupLog(e){return e.logs?(e.logs.includes("Missing X server")&&(e.logs="\n"+(0,v.wrapInASCIIBox)(C.kNoXServerRunningError,1)),e.logs.includes("crbug.com/357670")||e.logs.includes("No usable sandbox!")||e.logs.includes("crbug.com/638180")?(e.logs=["Chromium sandboxing failed!","================================","To avoid the sandboxing issue, do either of the following:","  - (preferred): Configure your environment to support sandboxing","  - (alternative): Launch Chromium without sandbox using 'chromiumSandbox: false' option","================================",""].join("\n"),e):e):e}amendEnvironment(e){return e}attemptToGracefullyCloseBrowser(e){const t={method:"Browser.close",id:w.kBrowserCloseMessageId,params:{}};e.send(t)}async _launchWithSeleniumHub(e,t,n){await e.race(this._createArtifactDirs(n)),t.endsWith("/")||(t+="/");const r=this._innerDefaultArgs(n);r.push("--remote-debugging-port=0");const o=n.channel&&n.channel.startsWith("msedge");let i={browserName:o?"MicrosoftEdge":"chrome",[o?"ms:edgeOptions":"goog:chromeOptions"]:{args:r}};if(process.env.SELENIUM_REMOTE_CAPABILITIES){const t=L({name:"capabilities",value:process.env.SELENIUM_REMOTE_CAPABILITIES},e);t&&(i={...i,...t})}let s={};if(process.env.SELENIUM_REMOTE_HEADERS){const t=L({name:"headers",value:process.env.SELENIUM_REMOTE_HEADERS},e);t&&(s=t)}e.log(`<selenium> connecting to ${t}`);const a=await(0,x.fetchData)(e,{url:t+"session",method:"POST",headers:{"Content-Type":"application/json; charset=utf-8",...s},data:JSON.stringify({capabilities:{alwaysMatch:i}})},D),l=JSON.parse(a).value,c=l.sessionId;e.log(`<selenium> connected to sessionId=${c}`);const u=async()=>{e.log(`<selenium> disconnecting from sessionId=${c}`),await(0,x.fetchData)(void 0,{url:t+"session/"+c,method:"DELETE",headers:s}).catch(t=>e.log(`<error disconnecting from selenium>: ${t}`)),e.log(`<selenium> disconnected from sessionId=${c}`),P.gracefullyCloseSet.delete(u)};P.gracefullyCloseSet.add(u);try{const r=l.capabilities;let o;if(r["se:cdp"]){e.log("<selenium> using selenium v4");const n=R(r["se:cdp"]);o=new URL(n),"localhost"!==o.hostname&&"127.0.0.1"!==o.hostname||(o.hostname=new URL(t).hostname),e.log(`<selenium> retrieved endpoint ${o.toString()} for sessionId=${c}`)}else{e.log("<selenium> using selenium v3");const n=r["goog:chromeOptions"],i=n&&"object"==typeof n?n:void 0,a=R((i&&"string"==typeof i.debuggerAddress?i.debuggerAddress:void 0)||("string"==typeof n?n:void 0)).replace("localhost","127.0.0.1");if(e.log(`<selenium> retrieved endpoint ${a} for sessionId=${c}`),o=new URL(a),"localhost"===o.hostname||"127.0.0.1"===o.hostname){const n=new URL(t).origin+"/grid/api/testsession?session="+c;try{const t=await(0,x.fetchData)(e,{url:n,method:"GET",headers:s},D),r=JSON.parse(t).proxyId;o.hostname=new URL(r).hostname,e.log(`<selenium> resolved endpoint ip ${o.toString()} for sessionId=${c}`)}catch(t){e.log(`<selenium> unable to resolve endpoint ip for sessionId=${c}, running in standalone?`)}}}return await this._connectOverCDPInternal(e,o.toString(),{...n,headers:(0,y.headersObjectToArray)(s)},u)}catch(e){throw await u(),e}}async defaultArgs(e,t,n){const r=this._innerDefaultArgs(e);return r.push(`--user-data-dir=${n}`),void 0!==e.cdpPort?r.push(`--remote-debugging-port=${e.cdpPort}`):r.push("--remote-debugging-pipe"),t?r.push("about:blank"):r.push("--no-startup-window"),r}_innerDefaultArgs(e){const{args:t=[]}=e;if(t.find(e=>e.startsWith("--user-data-dir")))throw this._createUserDataDirArgMisuseError("--user-data-dir");if(t.find(e=>e.startsWith("--remote-debugging-pipe")))throw new Error("Playwright manages remote debugging connection itself.");if(t.find(e=>!e.startsWith("-")))throw new Error("Arguments can not specify page to be opened");const n=[...(0,g.chromiumSwitches)(e.assistantMode,e.channel)];"darwin"===f.default.platform()&&n.push("--enable-unsafe-swiftshader"),e.devtools&&n.push("--auto-open-devtools-for-tabs"),e.headless&&(n.push("--headless"),n.push("--hide-scrollbars","--mute-audio","--blink-settings=primaryHoverType=2,availableHoverTypes=2,primaryPointerType=4,availablePointerTypes=4")),!0!==e.chromiumSandbox&&n.push("--no-sandbox");const r=e.proxyOverride||e.proxy;if(r){const t=new URL(r.server);"socks5:"===t.protocol&&!e.socksProxyPort&&n.push(`--host-resolver-rules="MAP * ~NOTFOUND , EXCLUDE ${t.hostname}"`),n.push(`--proxy-server=${r.server}`);const o=[];e.socksProxyPort&&o.push("<-loopback>"),r.bypass&&o.push(...r.bypass.split(",").map(e=>e.trim()).map(e=>e.startsWith(".")?"*"+e:e)),process.env.PLAYWRIGHT_DISABLE_FORCED_CHROMIUM_PROXIED_LOOPBACK||o.includes("<-loopback>")||o.push("<-loopback>"),o.length>0&&n.push(`--proxy-bypass-list=${o.join(";")}`)}return n.push(...t),n}async waitForReadyState(e,t){return F(e,t)}getExecutableName(e){return e.channel?e.channel:e.headless?"chromium-headless-shell":"chromium"}}async function F(e,t){if(void 0===e.cdpPort&&!e.args?.some(e=>e.startsWith("--remote-debugging-port")))return{};const n=new _.ManualPromise;return t.onMessage(e=>{e.includes("Failed to create a ProcessSingleton for your profile directory.")&&n.reject(new Error("Failed to create a ProcessSingleton for your profile directory. This usually means that the profile is already in use by another instance of Chromium."));const t=e.match(/DevTools listening on (.*)/);t&&n.resolve({wsEndpoint:t[1]})}),n}async function D(e,t){const n=await(r=t,new Promise((e,t)=>{const n=[];r.on("data",e=>n.push(Buffer.from(e))),r.on("error",t),r.on("end",()=>e(Buffer.concat(n).toString("utf8")))}));var r;let o=n;try{const e=JSON.parse(n);o=e.value.localizedMessage||e.value.message}catch(e){}return new Error(`Error connecting to Selenium at ${e.url}: ${o}`)}function R(e){return["ws://","wss://","http://","https://"].some(t=>e.startsWith(t))?e:"http://"+e}function L(e,t){try{const n=JSON.parse(e.value);return t.log(`<selenium> using additional ${e.name} "${e.value}"`),n}catch(n){t.log(`<selenium> ignoring additional ${e.name} "${e.value}": ${n}`)}}},"./node_modules/playwright-core/lib/server/chromium/chromiumSwitches.js":e=>{"use strict";var t,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,i=Object.prototype.hasOwnProperty,s={};((e,t)=>{for(var r in t)n(e,r,{get:t[r],enumerable:!0})})(s,{chromiumSwitches:()=>l}),e.exports=(t=s,((e,t,s,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let s of o(t))i.call(e,s)||undefined===s||n(e,s,{get:()=>t[s],enumerable:!(a=r(t,s))||a.enumerable});return e})(n({},"__esModule",{value:!0}),t));const a=e=>["AcceptCHFrame","AvoidUnnecessaryBeforeUnloadCheckSync","DestroyProfileOnBrowserClose","DialMediaRouteProvider","GlobalMediaControls","HttpsUpgrades","LensOverlay","MediaRouter","PaintHolding","ThirdPartyStoragePartitioning","Translate","AutoDeElevate",e?"AutomationControlled":""].filter(Boolean),l=(e,t)=>["--disable-field-trial-config","--disable-background-networking","--disable-background-timer-throttling","--disable-backgrounding-occluded-windows","--disable-back-forward-cache","--disable-breakpad","--disable-client-side-phishing-detection","--disable-component-extensions-with-background-pages","--disable-component-update","--no-default-browser-check","--disable-default-apps","--disable-dev-shm-usage","--disable-extensions","--disable-features="+a(e).join(","),process.env.PLAYWRIGHT_LEGACY_SCREENSHOT?"":"--enable-features=CDPScreenshotNewSurface","--allow-pre-commit-input","--disable-hang-monitor","--disable-ipc-flooding-protection","--disable-popup-blocking","--disable-prompt-on-repost","--disable-renderer-backgrounding","--force-color-profile=srgb","--metrics-recording-only","--no-first-run","--password-store=basic","--use-mock-keychain","--no-service-autorun","--export-tagged-pdf","--disable-search-engine-choice-screen","--unsafely-disable-devtools-self-xss-warnings","--edge-skip-compat-layer-relaunch",e?"":"--enable-automation"].filter(Boolean)},"./node_modules/playwright-core/lib/server/chromium/crAccessibility.js":e=>{"use strict";var t,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,i=Object.prototype.hasOwnProperty,s={};async function a(e,t){const{nodes:n}=await e.send("Accessibility.getFullAXTree"),r=l.createTree(e,n);return{tree:r,needle:t?await r._findElement(t):null}}((e,t)=>{for(var r in t)n(e,r,{get:t[r],enumerable:!0})})(s,{getAccessibilityTree:()=>a}),e.exports=(t=s,((e,t,s,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let s of o(t))i.call(e,s)||undefined===s||n(e,s,{get:()=>t[s],enumerable:!(a=r(t,s))||a.enumerable});return e})(n({},"__esModule",{value:!0}),t));class l{constructor(e,t){this._children=[],this._richlyEditable=!1,this._editable=!1,this._focusable=!1,this._expanded=!1,this._hidden=!1,this._client=e,this._payload=t,this._name=this._payload.name?this._payload.name.value:"",this._role=this._payload.role?this._payload.role.value:"Unknown";for(const e of this._payload.properties||[])"editable"===e.name&&(this._richlyEditable="richtext"===e.value.value,this._editable=!0),"focusable"===e.name&&(this._focusable=e.value.value),"expanded"===e.name&&(this._expanded=e.value.value),"hidden"===e.name&&(this._hidden=e.value.value)}_isPlainTextField(){return!(this._richlyEditable||!this._editable&&"textbox"!==this._role&&"ComboBox"!==this._role&&"searchbox"!==this._role)}_isTextOnlyObject(){const e=this._role;return"LineBreak"===e||"text"===e||"InlineTextBox"===e||"StaticText"===e}_hasFocusableChild(){if(void 0===this._cachedHasFocusableChild){this._cachedHasFocusableChild=!1;for(const e of this._children)if(e._focusable||e._hasFocusableChild()){this._cachedHasFocusableChild=!0;break}}return this._cachedHasFocusableChild}children(){return this._children}async _findElement(e){const t=e._objectId,{node:{backendNodeId:n}}=await this._client.send("DOM.describeNode",{objectId:t});return this.find(e=>e._payload.backendDOMNodeId===n)||null}find(e){if(e(this))return this;for(const t of this._children){const n=t.find(e);if(n)return n}return null}isLeafNode(){if(!this._children.length)return!0;if(this._isPlainTextField()||this._isTextOnlyObject())return!0;switch(this._role){case"doc-cover":case"graphics-symbol":case"img":case"Meter":case"scrollbar":case"slider":case"separator":case"progressbar":return!0}return!(this._hasFocusableChild()||(!this._focusable||"WebArea"===this._role||"RootWebArea"===this._role||!this._name)&&("heading"!==this._role||!this._name))}isControl(){switch(this._role){case"button":case"checkbox":case"ColorWell":case"combobox":case"DisclosureTriangle":case"listbox":case"menu":case"menubar":case"menuitem":case"menuitemcheckbox":case"menuitemradio":case"radio":case"scrollbar":case"searchbox":case"slider":case"spinbutton":case"switch":case"tab":case"textbox":case"tree":return!0;default:return!1}}isInteresting(e){return"Ignored"!==this._role&&!this._hidden&&(!(!this._focusable&&!this._richlyEditable)||!!this.isControl()||!e&&this.isLeafNode()&&!!this._name)}normalizedRole(){switch(this._role){case"RootWebArea":return"WebArea";case"StaticText":return"text";default:return this._role}}serialize(){const e=new Map;for(const t of this._payload.properties||[])e.set(t.name.toLowerCase(),t.value.value);this._payload.description&&e.set("description",this._payload.description.value);const t={role:this.normalizedRole(),name:this._payload.name&&this._payload.name.value||""},n=["description","keyshortcuts","roledescription","valuetext"];for(const r of n)e.has(r)&&(t[r]=e.get(r));const r=["disabled","expanded","focused","modal","multiline","multiselectable","readonly","required","selected"];for(const n of r){if("focused"===n&&("WebArea"===this._role||"RootWebArea"===this._role))continue;const r=e.get(n);r&&(t[n]=r)}const o=["level","valuemax","valuemin"];for(const n of o)e.has(n)&&(t[n]=e.get(n));const i=["autocomplete","haspopup","invalid","orientation"];for(const n of i){const r=e.get(n);r&&"false"!==r&&(t[n]=r)}const s=t;return this._payload.value&&("string"==typeof this._payload.value.value&&(s.valueString=this._payload.value.value),"number"==typeof this._payload.value.value&&(s.valueNumber=this._payload.value.value)),e.has("checked")&&(s.checked="true"===e.get("checked")?"checked":"false"===e.get("checked")?"unchecked":"mixed"),e.has("pressed")&&(s.pressed="true"===e.get("pressed")?"pressed":"false"===e.get("pressed")?"released":"mixed"),s}static createTree(e,t){const n=new Map;for(const r of t)n.set(r.nodeId,new l(e,r));for(const e of n.values())for(const t of e._payload.childIds||[])e._children.push(n.get(t));return n.values().next().value}}},"./node_modules/playwright-core/lib/server/chromium/crBrowser.js":(e,t,n)=>{"use strict";var r,o=Object.create,i=Object.defineProperty,s=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,l=Object.getPrototypeOf,c=Object.prototype.hasOwnProperty,u=(e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let o of a(t))c.call(e,o)||o===n||i(e,o,{get:()=>t[o],enumerable:!(r=s(t,o))||r.enumerable});return e},d=(e,t,n)=>(n=null!=e?o(l(e)):{},u(!t&&e&&e.__esModule?n:i(n,"default",{value:e,enumerable:!0}),e)),h={};((e,t)=>{for(var n in t)i(e,n,{get:t[n],enumerable:!0})})(h,{CRBrowser:()=>C,CRBrowserContext:()=>k}),e.exports=(r=h,u(i({},"__esModule",{value:!0}),r));var p=d(n("path")),f=n("./node_modules/playwright-core/lib/utils/isomorphic/assert.js"),m=n("./node_modules/playwright-core/lib/server/utils/crypto.js"),g=n("./node_modules/playwright-core/lib/server/artifact.js"),b=n("./node_modules/playwright-core/lib/server/browser.js"),w=n("./node_modules/playwright-core/lib/server/browserContext.js"),y=n("./node_modules/playwright-core/lib/server/frames.js"),v=d(n("./node_modules/playwright-core/lib/server/network.js")),A=n("./node_modules/playwright-core/lib/server/page.js"),_=n("./node_modules/playwright-core/lib/server/chromium/crConnection.js"),x=n("./node_modules/playwright-core/lib/server/chromium/crPage.js"),S=n("./node_modules/playwright-core/lib/server/chromium/crProtocolHelper.js"),E=n("./node_modules/playwright-core/lib/server/chromium/crServiceWorker.js");class C extends b.Browser{constructor(e,t,n){super(e,n),this._clientRootSessionPromise=null,this._contexts=new Map,this._crPages=new Map,this._serviceWorkers=new Map,this._version="",this._tracingRecording=!1,this._userAgent="",this._connection=t,this._session=this._connection.rootSession,this._connection.on(_.ConnectionEvents.Disconnected,()=>this._didDisconnect()),this._session.on("Target.attachedToTarget",this._onAttachedToTarget.bind(this)),this._session.on("Target.detachedFromTarget",this._onDetachedFromTarget.bind(this)),this._session.on("Browser.downloadWillBegin",this._onDownloadWillBegin.bind(this)),this._session.on("Browser.downloadProgress",this._onDownloadProgress.bind(this))}static async connect(e,t,n,r){n={...n};const o=new _.CRConnection(e,t,n.protocolLogger,n.browserLogsCollector),i=new C(e,o,n);i._devtools=r,i.isClank()&&(i._isCollocatedWithServer=!1);const s=o.rootSession;n.__testHookOnConnectToBrowser&&await n.__testHookOnConnectToBrowser();const a=await s.send("Browser.getVersion");return i._version=a.product.substring(a.product.indexOf("/")+1),i._userAgent=a.userAgent,i.options.headful=!a.userAgent.includes("Headless"),n.persistent?(i._defaultContext=new k(i,void 0,n.persistent),await Promise.all([s.send("Target.setAutoAttach",{autoAttach:!0,waitForDebuggerOnStart:!0,flatten:!0}).then(async()=>{await s.send("Target.getTargetInfo")}),i._defaultContext._initialize()]),await i._waitForAllPagesToBeInitialized(),i):(await s.send("Target.setAutoAttach",{autoAttach:!0,waitForDebuggerOnStart:!0,flatten:!0}),i)}async doCreateNewContext(e){const t=e.proxyOverride||e.proxy;let n;t&&(n=process.env.PLAYWRIGHT_DISABLE_FORCED_CHROMIUM_PROXIED_LOOPBACK?t.bypass:"<-loopback>"+(t.bypass?`,${t.bypass}`:""));const{browserContextId:r}=await this._session.send("Target.createBrowserContext",{disposeOnDetach:!0,proxyServer:t?t.server:void 0,proxyBypassList:n}),o=new k(this,r,e);return await o._initialize(),this._contexts.set(r,o),o}contexts(){return Array.from(this._contexts.values())}version(){return this._version}userAgent(){return this._userAgent}_platform(){return this._userAgent.includes("Windows")?"win":this._userAgent.includes("Macintosh")?"mac":"linux"}isClank(){return"clank"===this.options.name}async _waitForAllPagesToBeInitialized(){await Promise.all([...this._crPages.values()].map(e=>e._page.waitForInitializedOrError()))}_onAttachedToTarget({targetInfo:e,sessionId:t}){if("browser"===e.type)return;const n=this._session.createChildSession(t);(0,f.assert)(e.browserContextId,"targetInfo: "+JSON.stringify(e,null,2));let r=this._contexts.get(e.browserContextId)||null;if(r||(r=this._defaultContext),"other"===e.type&&e.url.startsWith("devtools://devtools")&&this._devtools)return void this._devtools.install(n);const o="other"===e.type&&process.env.PW_CHROMIUM_ATTACH_TO_OTHER;if(r&&("other"!==e.type||o)){if((0,f.assert)(!this._crPages.has(e.targetId),"Duplicate target "+e.targetId),(0,f.assert)(!this._serviceWorkers.has(e.targetId),"Duplicate target "+e.targetId),"page"===e.type||o){const t=e.openerId&&this._crPages.get(e.openerId)||null,o=new x.CRPage(n,e.targetId,r,t,{hasUIWindow:"page"===e.type});return void this._crPages.set(e.targetId,o)}if("service_worker"===e.type){const t=new E.CRServiceWorker(r,n,e.url);return this._serviceWorkers.set(e.targetId,t),void r.emit(k.CREvents.ServiceWorker,t)}n.detach().catch(()=>{})}else n.detach().catch(()=>{})}_onDetachedFromTarget(e){const t=e.targetId,n=this._crPages.get(t);if(n)return this._crPages.delete(t),void n.didClose();const r=this._serviceWorkers.get(t);return r?(this._serviceWorkers.delete(t),void r.didClose()):void 0}_didDisconnect(){for(const e of this._crPages.values())e.didClose();this._crPages.clear();for(const e of this._serviceWorkers.values())e.didClose();this._serviceWorkers.clear(),this._didClose()}_findOwningPage(e){for(const t of this._crPages.values())if(t._page.frameManager.frame(e))return t;return null}_onDownloadWillBegin(e){const t=this._findOwningPage(e.frameId);if(!t)return;t.willBeginDownload();let n=t._page.initializedOrUndefined();!n&&t._opener&&(n=t._opener._page.initializedOrUndefined()),n&&this._downloadCreated(n,e.guid,e.url,e.suggestedFilename)}_onDownloadProgress(e){"completed"===e.state&&this._downloadFinished(e.guid,""),"canceled"===e.state&&this._downloadFinished(e.guid,this._closeReason||"canceled")}async _closePage(e){await this._session.send("Target.closeTarget",{targetId:e._targetId})}async newBrowserCDPSession(){return await this._connection.createBrowserSession()}async startTracing(e,t={}){(0,f.assert)(!this._tracingRecording,"Cannot start recording trace while already recording trace."),this._tracingClient=e?e.delegate._mainFrameSession._client:this._session;const n=["-*","devtools.timeline","v8.execute","disabled-by-default-devtools.timeline","disabled-by-default-devtools.timeline.frame","toplevel","blink.console","blink.user_timing","latencyInfo","disabled-by-default-devtools.timeline.stack","disabled-by-default-v8.cpu_profiler","disabled-by-default-v8.cpu_profiler.hires"],{screenshots:r=!1,categories:o=n}=t;r&&o.push("disabled-by-default-devtools.screenshot"),this._tracingRecording=!0,await this._tracingClient.send("Tracing.start",{transferMode:"ReturnAsStream",categories:o.join(",")})}async stopTracing(){(0,f.assert)(this._tracingClient,"Tracing was not started.");const[e]=await Promise.all([new Promise(e=>this._tracingClient.once("Tracing.tracingComplete",e)),this._tracingClient.send("Tracing.end")]),t=p.default.join(this.options.artifactsDir,(0,m.createGuid)()+".crtrace");await(0,S.saveProtocolStream)(this._tracingClient,e.stream,t),this._tracingRecording=!1;const n=new g.Artifact(this,t);return n.reportFinished(),n}isConnected(){return!this._connection._closed}async _clientRootSession(){return this._clientRootSessionPromise||(this._clientRootSessionPromise=this._connection.createBrowserSession()),this._clientRootSessionPromise}}class k extends w.BrowserContext{static{this.CREvents={ServiceWorker:"serviceworker"}}constructor(e,t,n){super(e,n,t),this._authenticateProxyViaCredentials()}async _initialize(){(0,f.assert)(!Array.from(this._browser._crPages.values()).some(e=>e._browserContext===this));const e=[super._initialize()];"clank"!==this._browser.options.name&&"internal-browser-default"!==this._options.acceptDownloads&&e.push(this._browser._session.send("Browser.setDownloadBehavior",{behavior:"accept"===this._options.acceptDownloads?"allowAndName":"deny",browserContextId:this._browserContextId,downloadPath:this._browser.options.downloadsPath,eventsEnabled:!0})),await Promise.all(e)}_crPages(){return[...this._browser._crPages.values()].filter(e=>e._browserContext===this)}possiblyUninitializedPages(){return this._crPages().map(e=>e._page)}async doCreateNewPage(){const{targetId:e}=await this._browser._session.send("Target.createTarget",{url:"about:blank",browserContextId:this._browserContextId});return this._browser._crPages.get(e)._page}async doGetCookies(e){const{cookies:t}=await this._browser._session.send("Storage.getCookies",{browserContextId:this._browserContextId});return v.filterCookies(t.map(e=>{const{name:t,value:n,domain:r,path:o,expires:i,httpOnly:s,secure:a,sameSite:l}=e,c={name:t,value:n,domain:r,path:o,expires:i,httpOnly:s,secure:a,sameSite:l??"Lax"};return e.partitionKey&&(c._crHasCrossSiteAncestor=e.partitionKey.hasCrossSiteAncestor,c.partitionKey=e.partitionKey.topLevelSite),c}),e)}async addCookies(e){await this._browser._session.send("Storage.setCookies",{cookies:v.rewriteCookies(e).map(function(e){const{name:t,value:n,url:r,domain:o,path:i,expires:s,httpOnly:a,secure:l,sameSite:c,partitionKey:u,_crHasCrossSiteAncestor:d}=e,h={name:t,value:n,url:r,domain:o,path:i,expires:s,httpOnly:a,secure:l,sameSite:c};return u&&(h.partitionKey={topLevelSite:u,hasCrossSiteAncestor:d??!0}),h}),browserContextId:this._browserContextId})}async doClearCookies(){await this._browser._session.send("Storage.clearCookies",{browserContextId:this._browserContextId})}async doGrantPermissions(e,t){const n=new Map([["geolocation","geolocation"],["midi","midi"],["notifications","notifications"],["camera","videoCapture"],["microphone","audioCapture"],["background-sync","backgroundSync"],["ambient-light-sensor","sensors"],["accelerometer","sensors"],["gyroscope","sensors"],["magnetometer","sensors"],["clipboard-read","clipboardReadWrite"],["clipboard-write","clipboardSanitizedWrite"],["payment-handler","paymentHandler"],["midi-sysex","midiSysex"],["storage-access","storageAccess"],["local-fonts","localFonts"]]),r=t.map(e=>{const t=n.get(e);if(!t)throw new Error("Unknown permission: "+e);return t});await this._browser._session.send("Browser.grantPermissions",{origin:"*"===e?void 0:e,browserContextId:this._browserContextId,permissions:r})}async doClearPermissions(){await this._browser._session.send("Browser.resetPermissions",{browserContextId:this._browserContextId})}async setGeolocation(e){(0,w.verifyGeolocation)(e),this._options.geolocation=e;for(const e of this.pages())await e.delegate.updateGeolocation()}async doUpdateExtraHTTPHeaders(){for(const e of this.pages())await e.delegate.updateExtraHTTPHeaders();for(const e of this.serviceWorkers())await e.updateExtraHTTPHeaders()}async setUserAgent(e){this._options.userAgent=e;for(const e of this.pages())await e.delegate.updateUserAgent()}async doUpdateOffline(){for(const e of this.pages())await e.delegate.updateOffline();for(const e of this.serviceWorkers())await e.updateOffline()}async doSetHTTPCredentials(e){this._options.httpCredentials=e;for(const e of this.pages())await e.delegate.updateHttpCredentials();for(const e of this.serviceWorkers())await e.updateHttpCredentials()}async doAddInitScript(e){for(const t of this.pages())await t.delegate.addInitScript(e)}async doRemoveInitScripts(e){for(const t of this.pages())await t.delegate.removeInitScripts(e)}async doUpdateRequestInterception(){for(const e of this.pages())await e.delegate.updateRequestInterception();for(const e of this.serviceWorkers())await e.updateRequestInterception()}async doUpdateDefaultViewport(){}async doUpdateDefaultEmulatedMedia(){}async doExposePlaywrightBinding(){for(const e of this._crPages())await e.exposePlaywrightBinding()}async doClose(e){if(await this.dialogManager.closeBeforeUnloadDialogs(),!this._browserContextId)return await this.stopVideoRecording(),void await this._browser.close({reason:e});await this._browser._session.send("Target.disposeBrowserContext",{browserContextId:this._browserContextId}),this._browser._contexts.delete(this._browserContextId);for(const[e,t]of this._browser._serviceWorkers)t.browserContext===this&&(t.didClose(),this._browser._serviceWorkers.delete(e))}async stopVideoRecording(){await Promise.all(this._crPages().map(e=>e._mainFrameSession._stopVideoRecording()))}onClosePersistent(){}async clearCache(){for(const e of this._crPages())await e._networkManager.clearCache()}async cancelDownload(e){await this._browser._session.send("Browser.cancelDownload",{guid:e,browserContextId:this._browserContextId})}serviceWorkers(){return Array.from(this._browser._serviceWorkers.values()).filter(e=>e.browserContext===this)}async newCDPSession(e){let t=null;if(e instanceof A.Page)t=e.delegate._targetId;else{if(!(e instanceof y.Frame))throw new Error("page: expected Page or Frame");{const n=e._page.delegate._sessions.get(e._id);if(!n)throw new Error("This frame does not have a separate CDP session, it is a part of the parent frame's session");t=n._targetId}}return(await this._browser._clientRootSession()).attachToTarget(t)}}},"./node_modules/playwright-core/lib/server/chromium/crConnection.js":(e,t,n)=>{"use strict";var r,o=Object.defineProperty,i=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,l={};((e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})})(l,{CDPSession:()=>w,CRConnection:()=>g,CRSession:()=>b,ConnectionEvents:()=>f,kBrowserCloseMessageId:()=>m}),e.exports=(r=l,((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let n of s(t))a.call(e,n)||undefined===n||o(e,n,{get:()=>t[n],enumerable:!(r=i(t,n))||r.enumerable});return e})(o({},"__esModule",{value:!0}),r));var c=n("./node_modules/playwright-core/lib/utils.js"),u=n("./node_modules/playwright-core/lib/server/utils/debugLogger.js"),d=n("./node_modules/playwright-core/lib/server/helper.js"),h=n("./node_modules/playwright-core/lib/server/protocolError.js"),p=n("./node_modules/playwright-core/lib/server/instrumentation.js");const f={Disconnected:Symbol("ConnectionEvents.Disconnected")},m=-9999;class g extends p.SdkObject{constructor(e,t,n,r){super(e,"cr-connection"),this._lastId=0,this._sessions=new Map,this._closed=!1,this.setMaxListeners(0),this._transport=t,this._protocolLogger=n,this._browserLogsCollector=r,this.rootSession=new b(this,null,""),this._sessions.set("",this.rootSession),this._transport.onmessage=this._onMessage.bind(this),this._transport.onclose=this._onClose.bind(this)}_rawSend(e,t,n){const r=++this._lastId,o={id:r,method:t,params:n};return e&&(o.sessionId=e),this._protocolLogger("send",o),this._transport.send(o),r}async _onMessage(e){if(this._protocolLogger("receive",e),e.id===m)return;const t=this._sessions.get(e.sessionId||"");t&&t._onMessage(e)}_onClose(e){this._closed=!0,this._transport.onmessage=void 0,this._transport.onclose=void 0,this._browserDisconnectedLogs=d.helper.formatBrowserLogs(this._browserLogsCollector.recentLogs(),e),this.rootSession.dispose(),Promise.resolve().then(()=>this.emit(f.Disconnected))}close(){this._closed||this._transport.close()}async createBrowserSession(){const{sessionId:e}=await this.rootSession.send("Target.attachToBrowserTarget");return new w(this.rootSession,e)}}class b extends p.SdkObject{constructor(e,t,n,r){super(e,"cr-session"),this._callbacks=new Map,this._crashed=!1,this._closed=!1,this.setMaxListeners(0),this._connection=e,this._parentSession=t,this._sessionId=n,this._eventListener=r,this.on=super.on,this.addListener=super.addListener,this.off=super.removeListener,this.removeListener=super.removeListener,this.once=super.once}_markAsCrashed(){this._crashed=!0}createChildSession(e,t){const n=new b(this._connection,this,e,t);return this._connection._sessions.set(e,n),n}async send(e,t){if(this._crashed||this._closed||this._connection._closed||this._connection._browserDisconnectedLogs)throw new h.ProtocolError(this._crashed?"crashed":"closed",void 0,this._connection._browserDisconnectedLogs);const n=this._connection._rawSend(this._sessionId,e,t);return new Promise((t,r)=>{this._callbacks.set(n,{resolve:t,reject:r,error:new h.ProtocolError("error",e)})})}_sendMayFail(e,t){return this.send(e,t).catch(e=>u.debugLogger.log("error",e))}_onMessage(e){if(e.id&&this._callbacks.has(e.id)){const t=this._callbacks.get(e.id);this._callbacks.delete(e.id),e.error?(t.error.setMessage(e.error.message),t.reject(t.error)):t.resolve(e.result)}else e.id&&-32001===e.error?.code||((0,c.assert)(!e.id,e?.error?.message||void 0),Promise.resolve().then(()=>{this._eventListener&&this._eventListener(e.method,e.params),this.emit(e.method,e.params)}))}async detach(){if(this._closed)throw new Error("Session already detached. Most likely the page has been closed.");if(!this._parentSession)throw new Error("Root session cannot be closed");await this._sendMayFail("Runtime.runIfWaitingForDebugger"),await this._parentSession.send("Target.detachFromTarget",{sessionId:this._sessionId}),this.dispose()}dispose(){this._closed=!0,this._connection._sessions.delete(this._sessionId);for(const e of this._callbacks.values())e.error.setMessage("Internal server error, session closed."),e.error.type=this._crashed?"crashed":"closed",e.error.logs=this._connection._browserDisconnectedLogs,e.reject(e.error);this._callbacks.clear()}}class w extends p.SdkObject{constructor(e,t){super(e,"cdp-session"),this._listeners=[],this._session=e.createChildSession(t,(e,t)=>this.emit(w.Events.Event,{method:e,params:t})),this._listeners=[c.eventsHelper.addEventListener(e,"Target.detachedFromTarget",e=>{e.sessionId===t&&this._onClose()})]}static{this.Events={Event:"event",Closed:"close"}}async send(e,t){return await this._session.send(e,t)}async detach(){return await this._session.detach()}async attachToTarget(e){const{sessionId:t}=await this.send("Target.attachToTarget",{targetId:e,flatten:!0});return new w(this._session,t)}_onClose(){c.eventsHelper.removeEventListeners(this._listeners),this._session.dispose(),this.emit(w.Events.Closed)}}},"./node_modules/playwright-core/lib/server/chromium/crCoverage.js":(e,t,n)=>{"use strict";var r,o=Object.defineProperty,i=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,l={};((e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})})(l,{CRCoverage:()=>h}),e.exports=(r=l,((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let n of s(t))a.call(e,n)||undefined===n||o(e,n,{get:()=>t[n],enumerable:!(r=i(t,n))||r.enumerable});return e})(o({},"__esModule",{value:!0}),r));var c=n("./node_modules/playwright-core/lib/utils.js"),u=n("./node_modules/playwright-core/lib/server/utils/eventsHelper.js"),d=n("./node_modules/playwright-core/lib/server/progress.js");class h{constructor(e){this._jsCoverage=new p(e),this._cssCoverage=new f(e)}async startJSCoverage(e,t){await(0,d.raceUncancellableOperationWithCleanup)(e,()=>this._jsCoverage.start(t),()=>this._jsCoverage.stop())}async stopJSCoverage(){return await this._jsCoverage.stop()}async startCSSCoverage(e,t){await(0,d.raceUncancellableOperationWithCleanup)(e,()=>this._cssCoverage.start(t),()=>this._cssCoverage.stop())}async stopCSSCoverage(){return await this._cssCoverage.stop()}}class p{constructor(e){this._reportAnonymousScripts=!1,this._client=e,this._enabled=!1,this._scriptIds=new Set,this._scriptSources=new Map,this._eventListeners=[],this._resetOnNavigation=!1}async start(e){(0,c.assert)(!this._enabled,"JSCoverage is already enabled");const{resetOnNavigation:t=!0,reportAnonymousScripts:n=!1}=e;this._resetOnNavigation=t,this._reportAnonymousScripts=n,this._enabled=!0,this._scriptIds.clear(),this._scriptSources.clear(),this._eventListeners=[u.eventsHelper.addEventListener(this._client,"Debugger.scriptParsed",this._onScriptParsed.bind(this)),u.eventsHelper.addEventListener(this._client,"Runtime.executionContextsCleared",this._onExecutionContextsCleared.bind(this)),u.eventsHelper.addEventListener(this._client,"Debugger.paused",this._onDebuggerPaused.bind(this))],await Promise.all([this._client.send("Profiler.enable"),this._client.send("Profiler.startPreciseCoverage",{callCount:!0,detailed:!0}),this._client.send("Debugger.enable"),this._client.send("Debugger.setSkipAllPauses",{skip:!0})])}_onDebuggerPaused(){this._client.send("Debugger.resume")}_onExecutionContextsCleared(){this._resetOnNavigation&&(this._scriptIds.clear(),this._scriptSources.clear())}async _onScriptParsed(e){if(this._scriptIds.add(e.scriptId),!e.url&&!this._reportAnonymousScripts)return;const t=await this._client._sendMayFail("Debugger.getScriptSource",{scriptId:e.scriptId});t&&this._scriptSources.set(e.scriptId,t.scriptSource)}async stop(){if(!this._enabled)return{entries:[]};const[e]=await Promise.all([this._client.send("Profiler.takePreciseCoverage"),this._client.send("Profiler.stopPreciseCoverage"),this._client.send("Profiler.disable"),this._client.send("Debugger.disable")]);u.eventsHelper.removeEventListeners(this._eventListeners),this._enabled=!1;const t={entries:[]};for(const n of e.result){if(!this._scriptIds.has(n.scriptId))continue;if(!n.url&&!this._reportAnonymousScripts)continue;const e=this._scriptSources.get(n.scriptId);e?t.entries.push({...n,source:e}):t.entries.push(n)}return t}}class f{constructor(e){this._client=e,this._enabled=!1,this._stylesheetURLs=new Map,this._stylesheetSources=new Map,this._eventListeners=[],this._resetOnNavigation=!1}async start(e){(0,c.assert)(!this._enabled,"CSSCoverage is already enabled");const{resetOnNavigation:t=!0}=e;this._resetOnNavigation=t,this._enabled=!0,this._stylesheetURLs.clear(),this._stylesheetSources.clear(),this._eventListeners=[u.eventsHelper.addEventListener(this._client,"CSS.styleSheetAdded",this._onStyleSheet.bind(this)),u.eventsHelper.addEventListener(this._client,"Runtime.executionContextsCleared",this._onExecutionContextsCleared.bind(this))],await Promise.all([this._client.send("DOM.enable"),this._client.send("CSS.enable"),this._client.send("CSS.startRuleUsageTracking")])}_onExecutionContextsCleared(){this._resetOnNavigation&&(this._stylesheetURLs.clear(),this._stylesheetSources.clear())}async _onStyleSheet(e){const t=e.header;if(!t.sourceURL)return;const n=await this._client._sendMayFail("CSS.getStyleSheetText",{styleSheetId:t.styleSheetId});n&&(this._stylesheetURLs.set(t.styleSheetId,t.sourceURL),this._stylesheetSources.set(t.styleSheetId,n.text))}async stop(){if(!this._enabled)return{entries:[]};const e=await this._client.send("CSS.stopRuleUsageTracking");await Promise.all([this._client.send("CSS.disable"),this._client.send("DOM.disable")]),u.eventsHelper.removeEventListeners(this._eventListeners),this._enabled=!1;const t=new Map;for(const n of e.ruleUsage){let e=t.get(n.styleSheetId);e||(e=[],t.set(n.styleSheetId,e)),e.push({startOffset:n.startOffset,endOffset:n.endOffset,count:n.used?1:0})}const n={entries:[]};for(const e of this._stylesheetURLs.keys()){const r=this._stylesheetURLs.get(e),o=this._stylesheetSources.get(e),i=m(t.get(e)||[]);n.entries.push({url:r,ranges:i,text:o})}return n}}function m(e){const t=[];for(const n of e)t.push({offset:n.startOffset,type:0,range:n}),t.push({offset:n.endOffset,type:1,range:n});t.sort((e,t)=>{if(e.offset!==t.offset)return e.offset-t.offset;if(e.type!==t.type)return t.type-e.type;const n=e.range.endOffset-e.range.startOffset,r=t.range.endOffset-t.range.startOffset;return 0===e.type?r-n:n-r});const n=[],r=[];let o=0;for(const e of t){if(n.length&&o<e.offset&&n[n.length-1]>0){const t=r.length?r[r.length-1]:null;t&&t.end===o?t.end=e.offset:r.push({start:o,end:e.offset})}o=e.offset,0===e.type?n.push(e.range.count):n.pop()}return r.filter(e=>e.end-e.start>1)}},"./node_modules/playwright-core/lib/server/chromium/crDevTools.js":(e,t,n)=>{"use strict";var r,o=Object.create,i=Object.defineProperty,s=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,l=Object.getPrototypeOf,c=Object.prototype.hasOwnProperty,u=(e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let o of a(t))c.call(e,o)||o===n||i(e,o,{get:()=>t[o],enumerable:!(r=s(t,o))||r.enumerable});return e},d={};((e,t)=>{for(var n in t)i(e,n,{get:t[n],enumerable:!0})})(d,{CRDevTools:()=>f}),e.exports=(r=d,u(i({},"__esModule",{value:!0}),r));var h=((e,t,n)=>(n=null!=e?o(l(e)):{},u(e&&e.__esModule?n:i(n,"default",{value:e,enumerable:!0}),e)))(n("fs"));const p="__pw_devtools__";class f{constructor(e){this._preferencesPath=e,this._savePromise=Promise.resolve()}install(e){e.on("Runtime.bindingCalled",async t=>{if(t.name!==p)return;const n=JSON.parse(t.payload);let r;if(this.__testHookOnBinding&&this.__testHookOnBinding(n),"getPreferences"===n.method){if(void 0===this._prefs)try{const e=await h.default.promises.readFile(this._preferencesPath,"utf8");this._prefs=JSON.parse(e)}catch(e){this._prefs={}}r=this._prefs}else"setPreference"===n.method?(this._prefs[n.params[0]]=n.params[1],this._save()):"removePreference"===n.method?(delete this._prefs[n.params[0]],this._save()):"clearPreferences"===n.method&&(this._prefs={},this._save());e.send("Runtime.evaluate",{expression:`window.DevToolsAPI.embedderMessageAck(${n.id}, ${JSON.stringify(r)})`,contextId:t.executionContextId}).catch(e=>null)}),Promise.all([e.send("Runtime.enable"),e.send("Runtime.addBinding",{name:p}),e.send("Page.enable"),e.send("Page.addScriptToEvaluateOnNewDocument",{source:`\n        (() => {\n          const init = () => {\n            // Lazy init happens when InspectorFrontendHost is initialized.\n            // At this point DevToolsHost is ready to be used.\n            const host = window.DevToolsHost;\n            const old = host.sendMessageToEmbedder.bind(host);\n            host.sendMessageToEmbedder = message => {\n              if (['getPreferences', 'setPreference', 'removePreference', 'clearPreferences'].includes(JSON.parse(message).method))\n                window.${p}(message);\n              else\n                old(message);\n            };\n          };\n          let value;\n          Object.defineProperty(window, 'InspectorFrontendHost', {\n            configurable: true,\n            enumerable: true,\n            get() { return value; },\n            set(v) { value = v; init(); },\n          });\n        })()\n      `}),e.send("Runtime.runIfWaitingForDebugger")]).catch(e=>null)}_save(){this._savePromise=this._savePromise.then(async()=>{await h.default.promises.writeFile(this._preferencesPath,JSON.stringify(this._prefs)).catch(e=>null)})}}},"./node_modules/playwright-core/lib/server/chromium/crDragDrop.js":(e,t,n)=>{"use strict";var r,o=Object.defineProperty,i=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,l={};((e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})})(l,{DragManager:()=>d}),e.exports=(r=l,((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let n of s(t))a.call(e,n)||undefined===n||o(e,n,{get:()=>t[n],enumerable:!(r=i(t,n))||r.enumerable});return e})(o({},"__esModule",{value:!0}),r));var c=n("./node_modules/playwright-core/lib/server/chromium/crProtocolHelper.js"),u=n("./node_modules/playwright-core/lib/utils.js");class d{constructor(e){this._dragState=null,this._lastPosition={x:0,y:0},this._crPage=e}async cancelDrag(){return!!this._dragState&&(await this._crPage._mainFrameSession._client.send("Input.dispatchDragEvent",{type:"dragCancel",x:this._lastPosition.x,y:this._lastPosition.y,data:{items:[],dragOperationsMask:65535}}),this._dragState=null,!0)}async interceptDragCausedByMove(e,t,n,r,o,i,s){if(this._lastPosition={x:t,y:n},this._dragState)return void await e.race(this._crPage._mainFrameSession._client.send("Input.dispatchDragEvent",{type:"dragOver",x:t,y:n,data:this._dragState,modifiers:(0,c.toModifiersMask)(i)}));if("left"!==r)return s();const a=this._crPage._mainFrameSession._client;let l;const u=new Promise(e=>l=e);try{let t=!1;await e.race(this._crPage._page.safeNonStallingEvaluateInAllFrames(`(${function(){let e=Promise.resolve(!1),t=null;const n=e=>t=e,r=()=>{e=new Promise(e=>{window.addEventListener("dragstart",n,{once:!0,capture:!0}),setTimeout(()=>e(!!t&&!t.defaultPrevented),0)})};window.addEventListener("mousemove",r,{once:!0,capture:!0}),window.__cleanupDrag=async()=>{const t=await e;return window.removeEventListener("mousemove",r,{capture:!0}),window.removeEventListener("dragstart",n,{capture:!0}),delete window.__cleanupDrag,t}}.toString()})()`,"utility")),a.on("Input.dragIntercepted",l),await a.send("Input.setInterceptDrags",{enabled:!0});try{await e.race(s()),t=(await Promise.all(this._crPage._page.frames().map(async e=>e.nonStallingEvaluateInExistingContext("window.__cleanupDrag?.()","utility").catch(()=>!1)))).some(e=>e)}finally{a.off("Input.dragIntercepted",l),await a.send("Input.setInterceptDrags",{enabled:!1})}this._dragState=t?(await u).data:null}catch(e){throw this._crPage._page.safeNonStallingEvaluateInAllFrames("window.__cleanupDrag?.()","utility").catch(()=>{}),e}this._dragState&&await e.race(this._crPage._mainFrameSession._client.send("Input.dispatchDragEvent",{type:"dragEnter",x:t,y:n,data:this._dragState,modifiers:(0,c.toModifiersMask)(i)}))}isDragging(){return!!this._dragState}async drop(e,t,n,r){(0,u.assert)(this._dragState,"missing drag state"),await e.race(this._crPage._mainFrameSession._client.send("Input.dispatchDragEvent",{type:"drop",x:t,y:n,data:this._dragState,modifiers:(0,c.toModifiersMask)(r)})),this._dragState=null}}},"./node_modules/playwright-core/lib/server/chromium/crExecutionContext.js":(e,t,n)=>{"use strict";var r,o=Object.create,i=Object.defineProperty,s=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,l=Object.getPrototypeOf,c=Object.prototype.hasOwnProperty,u=(e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let o of a(t))c.call(e,o)||o===n||i(e,o,{get:()=>t[o],enumerable:!(r=s(t,o))||r.enumerable});return e},d=(e,t,n)=>(n=null!=e?o(l(e)):{},u(!t&&e&&e.__esModule?n:i(n,"default",{value:e,enumerable:!0}),e)),h={};((e,t)=>{for(var n in t)i(e,n,{get:t[n],enumerable:!0})})(h,{CRExecutionContext:()=>v,createHandle:()=>_}),e.exports=(r=h,u(i({},"__esModule",{value:!0}),r));var p=n("./node_modules/playwright-core/lib/utils/isomorphic/assert.js"),f=n("./node_modules/playwright-core/lib/server/chromium/crProtocolHelper.js"),m=n("./node_modules/playwright-core/lib/utils/isomorphic/stackTrace.js"),g=n("./node_modules/playwright-core/lib/utils/isomorphic/utilityScriptSerializers.js"),b=d(n("./node_modules/playwright-core/lib/server/javascript.js")),w=d(n("./node_modules/playwright-core/lib/server/dom.js")),y=n("./node_modules/playwright-core/lib/server/protocolError.js");class v{constructor(e,t){this._client=e,this._contextId=t.id}async rawEvaluateJSON(e){const{exceptionDetails:t,result:n}=await this._client.send("Runtime.evaluate",{expression:e,contextId:this._contextId,returnByValue:!0}).catch(A);if(t)throw new b.JavaScriptErrorInEvaluate((0,f.getExceptionMessage)(t));return n.value}async rawEvaluateHandle(e,t){const{exceptionDetails:n,result:r}=await this._client.send("Runtime.evaluate",{expression:t,contextId:this._contextId}).catch(A);if(n)throw new b.JavaScriptErrorInEvaluate((0,f.getExceptionMessage)(n));return _(e,r)}async evaluateWithArguments(e,t,n,r,o){const{exceptionDetails:i,result:s}=await this._client.send("Runtime.callFunctionOn",{functionDeclaration:e,objectId:n._objectId,arguments:[{objectId:n._objectId},...r.map(e=>({value:e})),...o.map(e=>({objectId:e._objectId}))],returnByValue:t,awaitPromise:!0,userGesture:!0}).catch(A);if(i)throw new b.JavaScriptErrorInEvaluate((0,f.getExceptionMessage)(i));return t?(0,g.parseEvaluationResultValue)(s.value):_(n._context,s)}async getProperties(e){const t=await this._client.send("Runtime.getProperties",{objectId:e._objectId,ownProperties:!0}),n=new Map;for(const r of t.result)r.enumerable&&r.value&&n.set(r.name,_(e._context,r.value));return n}async releaseHandle(e){e._objectId&&await(0,f.releaseObject)(this._client,e._objectId)}}function A(e){if(e.message.includes("Object reference chain is too long"))throw new Error("Cannot serialize result: object reference chain is too long.");if(e.message.includes("Object couldn't be returned by value"))return{result:{type:"undefined"}};if(e instanceof TypeError&&e.message.startsWith("Converting circular structure to JSON")&&(0,m.rewriteErrorMessage)(e,e.message+" Are you passing a nested JSHandle?"),!b.isJavaScriptErrorInEvaluate(e)&&!(0,y.isSessionClosedError)(e))throw new Error("Execution context was destroyed, most likely because of a navigation.");throw e}function _(e,t){return"node"===t.subtype?((0,p.assert)(e instanceof w.FrameExecutionContext),new w.ElementHandle(e,t.objectId)):new b.JSHandle(e,t.subtype||t.type,function(e){if("undefined"===e.type)return"undefined";if("value"in e)return String(e.value);if(e.unserializableValue)return String(e.unserializableValue);if("Object"===e.description&&e.preview){const t=[];for(const{name:n,value:r}of e.preview.properties)t.push(`${n}: ${r}`);return`{${t.join(", ")}}`}return"array"===e.subtype&&e.preview?b.sparseArrayToString(e.preview.properties):e.description}(t),t.objectId,function(e){const t=e.value,n=e.unserializableValue;return n?b.parseUnserializableValue(n):t}(t))}},"./node_modules/playwright-core/lib/server/chromium/crInput.js":(e,t,n)=>{"use strict";var r,o=Object.create,i=Object.defineProperty,s=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,l=Object.getPrototypeOf,c=Object.prototype.hasOwnProperty,u=(e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let o of a(t))c.call(e,o)||o===n||i(e,o,{get:()=>t[o],enumerable:!(r=s(t,o))||r.enumerable});return e},d={};((e,t)=>{for(var n in t)i(e,n,{get:t[n],enumerable:!0})})(d,{RawKeyboardImpl:()=>g,RawMouseImpl:()=>b,RawTouchscreenImpl:()=>w}),e.exports=(r=d,u(i({},"__esModule",{value:!0}),r));var h=n("./node_modules/playwright-core/lib/utils.js"),p=((e,t,n)=>(n=null!=e?o(l(e)):{},u(e&&e.__esModule?n:i(n,"default",{value:e,enumerable:!0}),e)))(n("./node_modules/playwright-core/lib/server/input.js")),f=n("./node_modules/playwright-core/lib/server/macEditingCommands.js"),m=n("./node_modules/playwright-core/lib/server/chromium/crProtocolHelper.js");class g{constructor(e,t,n){this._client=e,this._isMac=t,this._dragManger=n}_commandsForCode(e,t){if(!this._isMac)return[];const n=[];for(const e of["Shift","Control","Alt","Meta"])t.has(e)&&n.push(e);n.push(e);const r=n.join("+");let o=f.macEditingCommands[r]||[];return(0,h.isString)(o)&&(o=[o]),o=o.filter(e=>!e.startsWith("insert")),o.map(e=>e.substring(0,e.length-1))}async keydown(e,t,n,r,o){const{code:i,key:s,location:a,text:l}=r;if("Escape"===i&&await e.race(this._dragManger.cancelDrag()))return;const c=this._commandsForCode(i,t);await e.race(this._client.send("Input.dispatchKeyEvent",{type:l?"keyDown":"rawKeyDown",modifiers:(0,m.toModifiersMask)(t),windowsVirtualKeyCode:r.keyCodeWithoutLocation,code:i,commands:c,key:s,text:l,unmodifiedText:l,autoRepeat:o,location:a,isKeypad:a===p.keypadLocation}))}async keyup(e,t,n,r){const{code:o,key:i,location:s}=r;await e.race(this._client.send("Input.dispatchKeyEvent",{type:"keyUp",modifiers:(0,m.toModifiersMask)(t),key:i,windowsVirtualKeyCode:r.keyCodeWithoutLocation,code:o,location:s}))}async sendText(e,t){await e.race(this._client.send("Input.insertText",{text:t}))}}class b{constructor(e,t,n){this._page=e,this._client=t,this._dragManager=n}async move(e,t,n,r,o,i,s){const a=async()=>{await e.race(this._client.send("Input.dispatchMouseEvent",{type:"mouseMoved",button:r,buttons:(0,m.toButtonsMask)(o),x:t,y:n,modifiers:(0,m.toModifiersMask)(i),force:o.size>0?.5:0}))};s?await a():await this._dragManager.interceptDragCausedByMove(e,t,n,r,o,i,a)}async down(e,t,n,r,o,i,s){this._dragManager.isDragging()||await e.race(this._client.send("Input.dispatchMouseEvent",{type:"mousePressed",button:r,buttons:(0,m.toButtonsMask)(o),x:t,y:n,modifiers:(0,m.toModifiersMask)(i),clickCount:s,force:o.size>0?.5:0}))}async up(e,t,n,r,o,i,s){this._dragManager.isDragging()?await this._dragManager.drop(e,t,n,i):await e.race(this._client.send("Input.dispatchMouseEvent",{type:"mouseReleased",button:r,buttons:(0,m.toButtonsMask)(o),x:t,y:n,modifiers:(0,m.toModifiersMask)(i),clickCount:s}))}async wheel(e,t,n,r,o,i,s){await e.race(this._client.send("Input.dispatchMouseEvent",{type:"mouseWheel",x:t,y:n,modifiers:(0,m.toModifiersMask)(o),deltaX:i,deltaY:s}))}}class w{constructor(e){this._client=e}async tap(e,t,n,r){await e.race(Promise.all([this._client.send("Input.dispatchTouchEvent",{type:"touchStart",modifiers:(0,m.toModifiersMask)(r),touchPoints:[{x:t,y:n}]}),this._client.send("Input.dispatchTouchEvent",{type:"touchEnd",modifiers:(0,m.toModifiersMask)(r),touchPoints:[]})]))}}},"./node_modules/playwright-core/lib/server/chromium/crNetworkManager.js":(e,t,n)=>{"use strict";var r,o=Object.create,i=Object.defineProperty,s=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,l=Object.getPrototypeOf,c=Object.prototype.hasOwnProperty,u=(e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let o of a(t))c.call(e,o)||o===n||i(e,o,{get:()=>t[o],enumerable:!(r=s(t,o))||r.enumerable});return e},d={};((e,t)=>{for(var n in t)i(e,n,{get:t[n],enumerable:!0})})(d,{CRNetworkManager:()=>b}),e.exports=(r=d,u(i({},"__esModule",{value:!0}),r));var h=n("./node_modules/playwright-core/lib/utils.js"),p=n("./node_modules/playwright-core/lib/server/utils/eventsHelper.js"),f=n("./node_modules/playwright-core/lib/server/helper.js"),m=((e,t,n)=>(n=null!=e?o(l(e)):{},u(e&&e.__esModule?n:i(n,"default",{value:e,enumerable:!0}),e)))(n("./node_modules/playwright-core/lib/server/network.js")),g=n("./node_modules/playwright-core/lib/server/protocolError.js");class b{constructor(e,t){this._requestIdToRequest=new Map,this._requestIdToRequestWillBeSentEvent=new Map,this._credentials=null,this._attemptedAuthentications=new Set,this._userRequestInterceptionEnabled=!1,this._protocolRequestInterceptionEnabled=!1,this._offline=!1,this._extraHTTPHeaders=[],this._requestIdToRequestPausedEvent=new Map,this._responseExtraInfoTracker=new _,this._sessions=new Map,this._page=e,this._serviceWorker=t}async addSession(e,t,n){const r={session:e,isMain:n,workerFrame:t,eventListeners:[]};r.eventListeners=[p.eventsHelper.addEventListener(e,"Fetch.requestPaused",this._onRequestPaused.bind(this,r)),p.eventsHelper.addEventListener(e,"Fetch.authRequired",this._onAuthRequired.bind(this,r)),p.eventsHelper.addEventListener(e,"Network.requestWillBeSent",this._onRequestWillBeSent.bind(this,r)),p.eventsHelper.addEventListener(e,"Network.requestWillBeSentExtraInfo",this._onRequestWillBeSentExtraInfo.bind(this)),p.eventsHelper.addEventListener(e,"Network.requestServedFromCache",this._onRequestServedFromCache.bind(this)),p.eventsHelper.addEventListener(e,"Network.responseReceived",this._onResponseReceived.bind(this,r)),p.eventsHelper.addEventListener(e,"Network.responseReceivedExtraInfo",this._onResponseReceivedExtraInfo.bind(this)),p.eventsHelper.addEventListener(e,"Network.loadingFinished",this._onLoadingFinished.bind(this,r)),p.eventsHelper.addEventListener(e,"Network.loadingFailed",this._onLoadingFailed.bind(this,r))],this._page&&r.eventListeners.push(p.eventsHelper.addEventListener(e,"Network.webSocketCreated",e=>this._page.frameManager.onWebSocketCreated(e.requestId,e.url)),p.eventsHelper.addEventListener(e,"Network.webSocketWillSendHandshakeRequest",e=>this._page.frameManager.onWebSocketRequest(e.requestId)),p.eventsHelper.addEventListener(e,"Network.webSocketHandshakeResponseReceived",e=>this._page.frameManager.onWebSocketResponse(e.requestId,e.response.status,e.response.statusText)),p.eventsHelper.addEventListener(e,"Network.webSocketFrameSent",e=>e.response.payloadData&&this._page.frameManager.onWebSocketFrameSent(e.requestId,e.response.opcode,e.response.payloadData)),p.eventsHelper.addEventListener(e,"Network.webSocketFrameReceived",e=>e.response.payloadData&&this._page.frameManager.webSocketFrameReceived(e.requestId,e.response.opcode,e.response.payloadData)),p.eventsHelper.addEventListener(e,"Network.webSocketClosed",e=>this._page.frameManager.webSocketClosed(e.requestId)),p.eventsHelper.addEventListener(e,"Network.webSocketFrameError",e=>this._page.frameManager.webSocketError(e.requestId,e.errorMessage))),this._sessions.set(e,r),await Promise.all([e.send("Network.enable"),this._updateProtocolRequestInterceptionForSession(r,!0),this._setOfflineForSession(r,!0),this._setExtraHTTPHeadersForSession(r,!0)])}removeSession(e){const t=this._sessions.get(e);t&&p.eventsHelper.removeEventListeners(t.eventListeners),this._sessions.delete(e)}async _forEachSession(e){await Promise.all([...this._sessions.values()].map(t=>t.isMain?e(t):e(t).catch(e=>{if(!(0,g.isSessionClosedError)(e))throw e})))}async authenticate(e){this._credentials=e,await this._updateProtocolRequestInterception()}async setOffline(e){e!==this._offline&&(this._offline=e,await this._forEachSession(e=>this._setOfflineForSession(e)))}async _setOfflineForSession(e,t){t&&!this._offline||e.workerFrame||await e.session.send("Network.emulateNetworkConditions",{offline:this._offline,latency:0,downloadThroughput:-1,uploadThroughput:-1})}async setRequestInterception(e){this._userRequestInterceptionEnabled=e,await this._updateProtocolRequestInterception()}async _updateProtocolRequestInterception(){const e=this._userRequestInterceptionEnabled||!!this._credentials;e!==this._protocolRequestInterceptionEnabled&&(this._protocolRequestInterceptionEnabled=e,await this._forEachSession(e=>this._updateProtocolRequestInterceptionForSession(e)))}async _updateProtocolRequestInterceptionForSession(e,t){const n=this._protocolRequestInterceptionEnabled;if(t&&!n)return;const r=e.session.send("Network.setCacheDisabled",{cacheDisabled:n});let o=Promise.resolve(void 0);e.workerFrame||(o=n?e.session.send("Fetch.enable",{handleAuthRequests:!0,patterns:[{urlPattern:"*",requestStage:"Request"}]}):e.session.send("Fetch.disable")),await Promise.all([r,o])}async setExtraHTTPHeaders(e){(this._extraHTTPHeaders.length||e.length)&&(this._extraHTTPHeaders=e,await this._forEachSession(e=>this._setExtraHTTPHeadersForSession(e)))}async _setExtraHTTPHeadersForSession(e,t){t&&!this._extraHTTPHeaders.length||await e.session.send("Network.setExtraHTTPHeaders",{headers:(0,h.headersArrayToObject)(this._extraHTTPHeaders,!1)})}async clearCache(){await this._forEachSession(async e=>{await e.session.send("Network.setCacheDisabled",{cacheDisabled:!0}),this._protocolRequestInterceptionEnabled||await e.session.send("Network.setCacheDisabled",{cacheDisabled:!1}),e.workerFrame||await e.session.send("Network.clearBrowserCache")})}_onRequestWillBeSent(e,t){if(this._protocolRequestInterceptionEnabled&&!t.request.url.startsWith("data:")){const n=t.requestId,r=this._requestIdToRequestPausedEvent.get(n);r?(this._onRequest(e,t,r.sessionInfo,r.event),this._requestIdToRequestPausedEvent.delete(n)):this._requestIdToRequestWillBeSentEvent.set(t.requestId,{sessionInfo:e,event:t})}else this._onRequest(e,t,void 0,void 0)}_onRequestServedFromCache(e){this._responseExtraInfoTracker.requestServedFromCache(e)}_onRequestWillBeSentExtraInfo(e){this._responseExtraInfoTracker.requestWillBeSentExtraInfo(e)}_onAuthRequired(e,t){let n="Default";const r=this._shouldProvideCredentials(t.request.url);this._attemptedAuthentications.has(t.requestId)?n="CancelAuth":r&&(n="ProvideCredentials",this._attemptedAuthentications.add(t.requestId));const{username:o,password:i}=r&&this._credentials?this._credentials:{username:void 0,password:void 0};e.session._sendMayFail("Fetch.continueWithAuth",{requestId:t.requestId,authChallengeResponse:{response:n,username:o,password:i}})}_shouldProvideCredentials(e){return!(!this._credentials||this._credentials.origin&&new URL(e).origin.toLowerCase()!==this._credentials.origin.toLowerCase())}_onRequestPaused(e,t){if(!t.networkId)return void e.session._sendMayFail("Fetch.continueRequest",{requestId:t.requestId});if(t.request.url.startsWith("data:"))return;const n=t.networkId,r=this._requestIdToRequestWillBeSentEvent.get(n);if(r)this._onRequest(r.sessionInfo,r.event,e,t),this._requestIdToRequestWillBeSentEvent.delete(n);else{const r=this._requestIdToRequest.get(n),o=r?._route?._alreadyContinuedParams;if(o&&!t.redirectedRequestId)return void e.session._sendMayFail("Fetch.continueRequest",{...o,requestId:t.requestId});this._requestIdToRequestPausedEvent.set(n,{sessionInfo:e,event:t})}}_onRequest(e,t,n,r){if(t.request.url.startsWith("data:"))return;let o=null;if(t.redirectResponse){const e=this._requestIdToRequest.get(t.requestId);e&&(this._handleRequestRedirect(e,t.redirectResponse,t.timestamp,t.redirectHasExtraInfo),o=e)}let i=t.frameId?this._page?.frameManager.frame(t.frameId):e.workerFrame;if(!i&&this._page&&r&&r.frameId&&(i=this._page.frameManager.frame(r.frameId)),!i&&this._page&&t.frameId===(this._page?.delegate)._targetId&&(i=this._page.frameManager.frameAttached(t.frameId,null)),r&&"OPTIONS"===r.request.method&&"preflight"===t.initiator.type&&(this._page||this._serviceWorker).needsRequestInterception()){const e=r.request.headers,t=[{name:"Access-Control-Allow-Origin",value:e.Origin||"*"},{name:"Access-Control-Allow-Methods",value:e["Access-Control-Request-Method"]||"GET, POST, OPTIONS, DELETE"},{name:"Access-Control-Allow-Credentials",value:"true"}];return e["Access-Control-Request-Headers"]&&t.push({name:"Access-Control-Allow-Headers",value:e["Access-Control-Request-Headers"]}),void n.session._sendMayFail("Fetch.fulfillRequest",{requestId:r.requestId,responseCode:204,responsePhrase:m.statusText(204),responseHeaders:t,body:""})}if(!i&&!this._serviceWorker)return void(r&&n.session._sendMayFail("Fetch.continueRequest",{requestId:r.requestId}));let s,a=null;r&&(o||!this._userRequestInterceptionEnabled&&this._protocolRequestInterceptionEnabled?(s=o?._originalRequestRoute?._alreadyContinuedParams?.headers,n.session._sendMayFail("Fetch.continueRequest",{requestId:r.requestId,headers:s})):a=new y(n.session,r.requestId));const l=t.requestId===t.loaderId&&"Document"===t.type?t.loaderId:void 0,c=new w({session:e.session,context:(this._page||this._serviceWorker).browserContext,frame:i||null,serviceWorker:this._serviceWorker||null,documentId:l,route:a,requestWillBeSentEvent:t,requestPausedEvent:r,redirectedFrom:o,headersOverride:s||null});this._requestIdToRequest.set(t.requestId,c),a&&c.request.setRawRequestHeaders((0,h.headersObjectToArray)(r.request.headers,"\n")),(this._page?.frameManager||this._serviceWorker).requestStarted(c.request,a||void 0)}_createResponse(e,t,n){const r=t.timing;let o;o=r&&!this._responseExtraInfoTracker.servedFromCache(e._requestId)?{startTime:1e3*(r.requestTime-e._timestamp+e._wallTime),domainLookupStart:r.dnsStart,domainLookupEnd:r.dnsEnd,connectStart:r.connectStart,secureConnectionStart:r.sslStart,connectEnd:r.connectEnd,requestStart:r.sendStart,responseStart:r.receiveHeadersEnd}:{startTime:1e3*e._wallTime,domainLookupStart:-1,domainLookupEnd:-1,connectStart:-1,secureConnectionStart:-1,connectEnd:-1,requestStart:-1,responseStart:-1};const i=new m.Response(e.request,t.status,t.statusText,(0,h.headersObjectToArray)(t.headers),o,async()=>{const n=Object.entries(t.headers).find(e=>"content-length"===e[0].toLowerCase()),r=n?+n[1]:void 0,o=e.session,i=await o.send("Network.getResponseBody",{requestId:e._requestId});if(i.body||!r)return Buffer.from(i.body,i.base64Encoded?"base64":"utf8");if(e._route?._fulfilled)return Buffer.from("");const s=await o.send("Network.loadNetworkResource",{url:e.request.url(),frameId:this._serviceWorker?void 0:e.request.frame()._id,options:{disableCache:!1,includeCredentials:!0}}),a=[];for(;s.resource.stream;){const e=await o.send("IO.read",{handle:s.resource.stream});if(a.push(Buffer.from(e.data,e.base64Encoded?"base64":"utf-8")),e.eof){await o.send("IO.close",{handle:s.resource.stream});break}}return Buffer.concat(a)},!!t.fromServiceWorker,t.protocol);return t?.remoteIPAddress&&"number"==typeof t?.remotePort?i._serverAddrFinished({ipAddress:t.remoteIPAddress,port:t.remotePort}):i._serverAddrFinished(),i._securityDetailsFinished({protocol:t?.securityDetails?.protocol,subjectName:t?.securityDetails?.subjectName,issuer:t?.securityDetails?.issuer,validFrom:t?.securityDetails?.validFrom,validTo:t?.securityDetails?.validTo}),this._responseExtraInfoTracker.processResponse(e._requestId,i,n),i}_deleteRequest(e){this._requestIdToRequest.delete(e._requestId),e._interceptionId&&this._attemptedAuthentications.delete(e._interceptionId)}_handleRequestRedirect(e,t,n,r){const o=this._createResponse(e,t,r);o.setTransferSize(null),o.setEncodedBodySize(null),o._requestFinished(1e3*(n-e._timestamp)),this._deleteRequest(e),(this._page?.frameManager||this._serviceWorker).requestReceivedResponse(o),(this._page?.frameManager||this._serviceWorker).reportRequestFinished(e.request,o)}_onResponseReceivedExtraInfo(e){this._responseExtraInfoTracker.responseReceivedExtraInfo(e)}_onResponseReceived(e,t){let n=this._requestIdToRequest.get(t.requestId);if(!n&&t.response.fromServiceWorker){const r=this._requestIdToRequestWillBeSentEvent.get(t.requestId);r&&(this._requestIdToRequestWillBeSentEvent.delete(t.requestId),this._onRequest(e,r.event,void 0,void 0),n=this._requestIdToRequest.get(t.requestId))}if(!n)return;const r=this._createResponse(n,t.response,t.hasExtraInfo);(this._page?.frameManager||this._serviceWorker).requestReceivedResponse(r)}_onLoadingFinished(e,t){this._responseExtraInfoTracker.loadingFinished(t);const n=this._requestIdToRequest.get(t.requestId);if(!n)return;this._maybeUpdateRequestSession(e,n);const r=n.request._existingResponse();r&&(r.setTransferSize(t.encodedDataLength),r.responseHeadersSize().then(e=>r.setEncodedBodySize(t.encodedDataLength-e)),r._requestFinished(f.helper.secondsToRoundishMillis(t.timestamp-n._timestamp))),this._deleteRequest(n),(this._page?.frameManager||this._serviceWorker).reportRequestFinished(n.request,r)}_onLoadingFailed(e,t){this._responseExtraInfoTracker.loadingFailed(t);let n=this._requestIdToRequest.get(t.requestId);if(!n){const r=this._requestIdToRequestWillBeSentEvent.get(t.requestId);r&&(this._requestIdToRequestWillBeSentEvent.delete(t.requestId),this._onRequest(e,r.event,void 0,void 0),n=this._requestIdToRequest.get(t.requestId))}if(!n)return;this._maybeUpdateRequestSession(e,n);const r=n.request._existingResponse();r?(r.setTransferSize(null),r.setEncodedBodySize(null),r._requestFinished(f.helper.secondsToRoundishMillis(t.timestamp-n._timestamp))):n.request.setRawRequestHeaders(null),this._deleteRequest(n),n.request._setFailureText(t.errorText||t.blockedReason||""),(this._page?.frameManager||this._serviceWorker).requestFailed(n.request,!!t.canceled)}_maybeUpdateRequestSession(e,t){t.session===e.session||e.isMain||t._documentId!==t._requestId&&!e.workerFrame||(t.session=e.session)}}class w{constructor(e){const{session:t,context:n,frame:r,documentId:o,route:i,requestWillBeSentEvent:s,requestPausedEvent:a,redirectedFrom:l,serviceWorker:c,headersOverride:u}=e;this.session=t,this._timestamp=s.timestamp,this._wallTime=s.wallTime,this._requestId=s.requestId,this._interceptionId=a&&a.requestId,this._documentId=o,this._route=i,this._originalRequestRoute=i??l?._originalRequestRoute;const{headers:d,method:p,url:f,postDataEntries:g=null}=a?a.request:s.request,b=(s.type||"").toLowerCase();let w=null;const y=g?.filter(e=>e.bytes);y&&y.length&&(w=Buffer.concat(y.map(e=>Buffer.from(e.bytes,"base64")))),this.request=new m.Request(n,r,c,l?.request||null,o,f,b,p,w,u||(0,h.headersObjectToArray)(d))}}class y{constructor(e,t){this._fulfilled=!1,this._session=e,this._interceptionId=t}async continue(e){this._alreadyContinuedParams={requestId:this._interceptionId,url:e.url,headers:e.headers,method:e.method,postData:e.postData?e.postData.toString("base64"):void 0},await v(async()=>{await this._session.send("Fetch.continueRequest",this._alreadyContinuedParams)})}async fulfill(e){this._fulfilled=!0;const t=e.isBase64?e.body:Buffer.from(e.body).toString("base64"),n=function(e){const t=e.findIndex(({name:e})=>"set-cookie"===e.toLowerCase());if(-1===t)return e;const n=e[t],r=n.value.split("\n");if(1===r.length)return e;const o=e.slice();return o.splice(t,1,...r.map(e=>({name:n.name,value:e}))),o}(e.headers);await v(async()=>{await this._session.send("Fetch.fulfillRequest",{requestId:this._interceptionId,responseCode:e.status,responsePhrase:m.statusText(e.status),responseHeaders:n,body:t})})}async abort(e="failed"){const t=A[e];(0,h.assert)(t,"Unknown error code: "+e),await v(async()=>{await this._session.send("Fetch.failRequest",{requestId:this._interceptionId,errorReason:t})})}}async function v(e){try{return await e()}catch(e){if((0,g.isProtocolError)(e)&&e.message.includes("Invalid http status code or phrase"))throw e;if((0,g.isProtocolError)(e)&&e.message.includes("Unsafe header"))throw e}}const A={aborted:"Aborted",accessdenied:"AccessDenied",addressunreachable:"AddressUnreachable",blockedbyclient:"BlockedByClient",blockedbyresponse:"BlockedByResponse",connectionaborted:"ConnectionAborted",connectionclosed:"ConnectionClosed",connectionfailed:"ConnectionFailed",connectionrefused:"ConnectionRefused",connectionreset:"ConnectionReset",internetdisconnected:"InternetDisconnected",namenotresolved:"NameNotResolved",timedout:"TimedOut",failed:"Failed"};class _{constructor(){this._requests=new Map}requestWillBeSentExtraInfo(e){const t=this._getOrCreateEntry(e.requestId);t.requestWillBeSentExtraInfo.push(e),this._patchHeaders(t,t.requestWillBeSentExtraInfo.length-1),this._checkFinished(t)}requestServedFromCache(e){this._getOrCreateEntry(e.requestId).servedFromCache=!0}servedFromCache(e){const t=this._requests.get(e);return!!t?.servedFromCache}responseReceivedExtraInfo(e){const t=this._getOrCreateEntry(e.requestId);t.responseReceivedExtraInfo.push(e),this._patchHeaders(t,t.responseReceivedExtraInfo.length-1),this._checkFinished(t)}processResponse(e,t,n){let r=this._requests.get(e);if(!n||r?.servedFromCache)return t.request().setRawRequestHeaders(null),t.setResponseHeadersSize(null),void t.setRawResponseHeaders(null);r=this._getOrCreateEntry(e),r.responses.push(t),this._patchHeaders(r,r.responses.length-1)}loadingFinished(e){const t=this._requests.get(e.requestId);t&&(t.loadingFinished=e,this._checkFinished(t))}loadingFailed(e){const t=this._requests.get(e.requestId);t&&(t.loadingFailed=e,this._checkFinished(t))}_getOrCreateEntry(e){let t=this._requests.get(e);return t||(t={requestId:e,requestWillBeSentExtraInfo:[],responseReceivedExtraInfo:[],responses:[]},this._requests.set(e,t)),t}_patchHeaders(e,t){const n=e.responses[t],r=e.requestWillBeSentExtraInfo[t];n&&r&&(n.request().setRawRequestHeaders((0,h.headersObjectToArray)(r.headers,"\n")),e.requestWillBeSentExtraInfo[t]=void 0);const o=e.responseReceivedExtraInfo[t];n&&o&&(n.setResponseHeadersSize(o.headersText?.length||0),n.setRawResponseHeaders((0,h.headersObjectToArray)(o.headers,"\n")),e.responseReceivedExtraInfo[t]=void 0)}_checkFinished(e){(e.loadingFinished||e.loadingFailed)&&e.responses.length<=e.responseReceivedExtraInfo.length&&this._stopTracking(e.requestId)}_stopTracking(e){this._requests.delete(e)}}},"./node_modules/playwright-core/lib/server/chromium/crPage.js":(e,t,n)=>{"use strict";var r,o=Object.create,i=Object.defineProperty,s=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,l=Object.getPrototypeOf,c=Object.prototype.hasOwnProperty,u=(e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let o of a(t))c.call(e,o)||o===n||i(e,o,{get:()=>t[o],enumerable:!(r=s(t,o))||r.enumerable});return e},d=(e,t,n)=>(n=null!=e?o(l(e)):{},u(!t&&e&&e.__esModule?n:i(n,"default",{value:e,enumerable:!0}),e)),h={};((e,t)=>{for(var n in t)i(e,n,{get:t[n],enumerable:!0})})(h,{CRPage:()=>D}),e.exports=(r=h,u(i({},"__esModule",{value:!0}),r));var p=d(n("path")),f=n("./node_modules/playwright-core/lib/utils/isomorphic/assert.js"),m=n("./node_modules/playwright-core/lib/server/utils/crypto.js"),g=n("./node_modules/playwright-core/lib/server/utils/eventsHelper.js"),b=n("./node_modules/playwright-core/lib/utils/isomorphic/stackTrace.js"),w=d(n("./node_modules/playwright-core/lib/server/dialog.js")),y=d(n("./node_modules/playwright-core/lib/server/dom.js")),v=d(n("./node_modules/playwright-core/lib/server/frames.js")),A=n("./node_modules/playwright-core/lib/server/helper.js"),_=d(n("./node_modules/playwright-core/lib/server/network.js")),x=n("./node_modules/playwright-core/lib/server/page.js"),S=n("./node_modules/playwright-core/lib/server/registry/index.js"),E=n("./node_modules/playwright-core/lib/server/chromium/crAccessibility.js"),C=n("./node_modules/playwright-core/lib/server/chromium/crCoverage.js"),k=n("./node_modules/playwright-core/lib/server/chromium/crDragDrop.js"),O=n("./node_modules/playwright-core/lib/server/chromium/crExecutionContext.js"),T=n("./node_modules/playwright-core/lib/server/chromium/crInput.js"),I=n("./node_modules/playwright-core/lib/server/chromium/crNetworkManager.js"),B=n("./node_modules/playwright-core/lib/server/chromium/crPdf.js"),M=n("./node_modules/playwright-core/lib/server/chromium/crProtocolHelper.js"),P=n("./node_modules/playwright-core/lib/server/chromium/defaultFontFamilies.js"),j=n("./node_modules/playwright-core/lib/server/chromium/videoRecorder.js"),N=n("./node_modules/playwright-core/lib/server/errors.js"),F=n("./node_modules/playwright-core/lib/server/protocolError.js");class D{constructor(e,t,n,r,o){this._sessions=new Map,this._nextWindowOpenPopupFeatures=[],this._targetId=t,this._opener=r;const i=new k.DragManager(this);if(this.rawKeyboard=new T.RawKeyboardImpl(e,"mac"===n._browser._platform(),i),this.rawMouse=new T.RawMouseImpl(this,e,i),this.rawTouchscreen=new T.RawTouchscreenImpl(e),this._pdf=new B.CRPDF(e),this._coverage=new C.CRCoverage(e),this._browserContext=n,this._page=new x.Page(this,n),this.utilityWorldName=`__playwright_utility_world_${this._page.guid}`,this._networkManager=new I.CRNetworkManager(this._page,null),this.updateOffline(),this.updateExtraHTTPHeaders(),this.updateHttpCredentials(),this.updateRequestInterception(),this._mainFrameSession=new R(this,e,t,null),this._sessions.set(t,this._mainFrameSession),r&&!n._options.noDefaultViewport){const e=r._nextWindowOpenPopupFeatures.shift()||[],t=A.helper.getViewportSizeFromWindowFeatures(e);t&&this._page.setEmulatedSizeFromWindowOpen({viewport:t,screen:t})}this._mainFrameSession._initialize(o.hasUIWindow).then(()=>this._page.reportAsNew(this._opener?._page,void 0),e=>this._page.reportAsNew(this._opener?._page,e))}static mainFrameSession(e){return e.delegate._mainFrameSession}async _forAllFrameSessions(e){const t=Array.from(this._sessions.values());await Promise.all(t.map(t=>t._isMainFrame()?e(t):e(t).catch(e=>{if(!(0,F.isSessionClosedError)(e))throw e})))}_sessionForFrame(e){for(;!this._sessions.has(e._id);){const t=e.parentFrame();if(!t)throw new Error("Frame has been detached.");e=t}return this._sessions.get(e._id)}_sessionForHandle(e){const t=e._context.frame;return this._sessionForFrame(t)}willBeginDownload(){this._mainFrameSession._willBeginDownload()}didClose(){for(const e of this._sessions.values())e.dispose();this._page._didClose()}async navigateFrame(e,t,n){return this._sessionForFrame(e)._navigate(e,t,n)}async updateExtraHTTPHeaders(){const e=_.mergeHeaders([this._browserContext._options.extraHTTPHeaders,this._page.extraHTTPHeaders()]);await this._networkManager.setExtraHTTPHeaders(e)}async updateGeolocation(){await this._forAllFrameSessions(e=>e._updateGeolocation(!1))}async updateOffline(){await this._networkManager.setOffline(!!this._browserContext._options.offline)}async updateHttpCredentials(){await this._networkManager.authenticate(this._browserContext._options.httpCredentials||null)}async updateEmulatedViewportSize(e){await this._mainFrameSession._updateViewport(e)}async bringToFront(){await this._mainFrameSession._client.send("Page.bringToFront")}async updateEmulateMedia(){await this._forAllFrameSessions(e=>e._updateEmulateMedia())}async updateUserAgent(){await this._forAllFrameSessions(e=>e._updateUserAgent())}async updateRequestInterception(){await this._networkManager.setRequestInterception(this._page.needsRequestInterception())}async updateFileChooserInterception(){await this._forAllFrameSessions(e=>e._updateFileChooserInterception(!1))}async reload(){await this._mainFrameSession._client.send("Page.reload")}async _go(e){const t=await this._mainFrameSession._client.send("Page.getNavigationHistory"),n=t.entries[t.currentIndex+e];return!!n&&(await this._mainFrameSession._client.send("Page.navigateToHistoryEntry",{entryId:n.id}),!0)}goBack(){return this._go(-1)}goForward(){return this._go(1)}async requestGC(){await this._mainFrameSession._client.send("HeapProfiler.collectGarbage")}async addInitScript(e,t="main"){await this._forAllFrameSessions(n=>n._evaluateOnNewDocument(e,t))}async exposePlaywrightBinding(){await this._forAllFrameSessions(e=>e.exposePlaywrightBinding())}async removeInitScripts(e){await this._forAllFrameSessions(t=>t._removeEvaluatesOnNewDocument(e))}async closePage(e){e?await this._mainFrameSession._client.send("Page.close"):await this._browserContext._browser._closePage(this)}async setBackgroundColor(e){await this._mainFrameSession._client.send("Emulation.setDefaultBackgroundColorOverride",{color:e})}async takeScreenshot(e,t,n,r,o,i,s){const{visualViewport:a}=await e.race(this._mainFrameSession._client.send("Page.getLayoutMetrics"));n||(n={x:a.pageX+r.x,y:a.pageY+r.y,...A.helper.enclosingIntSize({width:r.width/a.scale,height:r.height/a.scale})});const l={...n,scale:r?a.scale:1};if("css"===s){const e=this._browserContext._options.deviceScaleFactor||1;l.scale/=e}const c=await e.race(this._mainFrameSession._client.send("Page.captureScreenshot",{format:t,quality:o,clip:l,captureBeyondViewport:!i}));return Buffer.from(c.data,"base64")}async getContentFrame(e){return this._sessionForHandle(e)._getContentFrame(e)}async getOwnerFrame(e){return this._sessionForHandle(e)._getOwnerFrame(e)}async getBoundingBox(e){return this._sessionForHandle(e)._getBoundingBox(e)}async scrollRectIntoViewIfNeeded(e,t){return this._sessionForHandle(e)._scrollRectIntoViewIfNeeded(e,t)}async setScreencastOptions(e){e?await this._mainFrameSession._startScreencast(this,{format:"jpeg",quality:e.quality,maxWidth:e.width,maxHeight:e.height}):await this._mainFrameSession._stopScreencast(this)}rafCountForStablePosition(){return 1}async getContentQuads(e){return this._sessionForHandle(e)._getContentQuads(e)}async setInputFilePaths(e,t){const n=await e.ownerFrame();if(!n)throw new Error("Cannot set input files to detached input element");const r=this._sessionForFrame(n);await r._client.send("DOM.setFileInputFiles",{objectId:e._objectId,files:t})}async adoptElementHandle(e,t){return this._sessionForHandle(e)._adoptElementHandle(e,t)}async getAccessibilityTree(e){return(0,E.getAccessibilityTree)(this._mainFrameSession._client,e)}async inputActionEpilogue(){await this._mainFrameSession._client.send("Page.enable").catch(e=>{})}async resetForReuse(e){await this.rawMouse.move(e,-1,-1,"none",new Set,new Set,!0)}async pdf(e){return this._pdf.generate(e)}coverage(){return this._coverage}async getFrameElement(e){let t=e.parentFrame();if(!t)throw new Error("Frame has been detached.");const n=this._sessionForFrame(t),{backendNodeId:r}=await n._client.send("DOM.getFrameOwner",{frameId:e._id}).catch(e=>{throw e instanceof Error&&e.message.includes("Frame with the given id was not found.")&&(0,b.rewriteErrorMessage)(e,"Frame has been detached."),e});if(t=e.parentFrame(),!t)throw new Error("Frame has been detached.");return n._adoptBackendNodeId(r,await t._mainContext())}shouldToggleStyleSheetToSyncAnimations(){return!1}}class R{constructor(e,t,n,r){this._childSessions=new Set,this._contextIdToContext=new Map,this._eventListeners=[],this._firstNonInitialNavigationCommittedFulfill=()=>{},this._firstNonInitialNavigationCommittedReject=e=>{},this._swappedIn=!1,this._videoRecorder=null,this._screencastId=null,this._screencastClients=new Set,this._workerSessions=new Map,this._initScriptIds=new Map,this._client=t,this._crPage=e,this._page=e._page,this._targetId=n,this._parentSession=r,r&&r._childSessions.add(this),this._firstNonInitialNavigationCommittedPromise=new Promise((e,t)=>{this._firstNonInitialNavigationCommittedFulfill=e,this._firstNonInitialNavigationCommittedReject=t}),this._firstNonInitialNavigationCommittedPromise.catch(()=>{})}_isMainFrame(){return this._targetId===this._crPage._targetId}_addRendererListeners(){this._eventListeners.push(g.eventsHelper.addEventListener(this._client,"Log.entryAdded",e=>this._onLogEntryAdded(e)),g.eventsHelper.addEventListener(this._client,"Page.fileChooserOpened",e=>this._onFileChooserOpened(e)),g.eventsHelper.addEventListener(this._client,"Page.frameAttached",e=>this._onFrameAttached(e.frameId,e.parentFrameId)),g.eventsHelper.addEventListener(this._client,"Page.frameDetached",e=>this._onFrameDetached(e.frameId,e.reason)),g.eventsHelper.addEventListener(this._client,"Page.frameNavigated",e=>this._onFrameNavigated(e.frame,!1)),g.eventsHelper.addEventListener(this._client,"Page.frameRequestedNavigation",e=>this._onFrameRequestedNavigation(e)),g.eventsHelper.addEventListener(this._client,"Page.javascriptDialogOpening",e=>this._onDialog(e)),g.eventsHelper.addEventListener(this._client,"Page.navigatedWithinDocument",e=>this._onFrameNavigatedWithinDocument(e.frameId,e.url)),g.eventsHelper.addEventListener(this._client,"Runtime.bindingCalled",e=>this._onBindingCalled(e)),g.eventsHelper.addEventListener(this._client,"Runtime.consoleAPICalled",e=>this._onConsoleAPI(e)),g.eventsHelper.addEventListener(this._client,"Runtime.exceptionThrown",e=>this._handleException(e.exceptionDetails)),g.eventsHelper.addEventListener(this._client,"Runtime.executionContextCreated",e=>this._onExecutionContextCreated(e.context)),g.eventsHelper.addEventListener(this._client,"Runtime.executionContextDestroyed",e=>this._onExecutionContextDestroyed(e.executionContextId)),g.eventsHelper.addEventListener(this._client,"Runtime.executionContextsCleared",e=>this._onExecutionContextsCleared()))}_addBrowserListeners(){this._eventListeners.push(g.eventsHelper.addEventListener(this._client,"Target.attachedToTarget",e=>this._onAttachedToTarget(e)),g.eventsHelper.addEventListener(this._client,"Target.detachedFromTarget",e=>this._onDetachedFromTarget(e)),g.eventsHelper.addEventListener(this._client,"Inspector.targetCrashed",e=>this._onTargetCrashed()),g.eventsHelper.addEventListener(this._client,"Page.screencastFrame",e=>this._onScreencastFrame(e)),g.eventsHelper.addEventListener(this._client,"Page.windowOpen",e=>this._onWindowOpen(e)))}async _initialize(e){if(!this._page.isStorageStatePage&&e&&!this._crPage._browserContext._browser.isClank()&&!this._crPage._browserContext._options.noDefaultViewport){const{windowId:e}=await this._client.send("Browser.getWindowForTarget");this._windowId=e}let t,n;if(!this._page.isStorageStatePage&&this._isMainFrame()&&this._crPage._browserContext._options.recordVideo&&e){const e=(0,m.createGuid)(),n=p.default.join(this._crPage._browserContext._options.recordVideo.dir,e+".webm");t={...this._crPage._browserContext._options.recordVideo.size,outputFile:n},await this._crPage._browserContext._ensureVideosPath(),await this._createVideoRecorder(e,t),this._crPage._page.waitForInitializedOrError().then(e=>{e instanceof Error&&this._stopVideoRecording().catch(()=>{})})}this._isMainFrame()||this._addRendererListeners(),this._addBrowserListeners(),this._bufferedAttachedToTargetEvents=[];const r=[this._client.send("Page.enable"),this._client.send("Page.getFrameTree").then(({frameTree:e})=>{this._isMainFrame()&&(this._handleFrameTree(e),this._addRendererListeners());const t=this._bufferedAttachedToTargetEvents||[];this._bufferedAttachedToTargetEvents=void 0;for(const e of t)this._onAttachedToTarget(e);const r=this._isMainFrame()?this._page.frames():[this._page.frameManager.frame(this._targetId)];for(const e of r)this._client._sendMayFail("Page.createIsolatedWorld",{frameId:e._id,grantUniveralAccess:!0,worldName:this._crPage.utilityWorldName});this._isMainFrame()&&":"===this._page.mainFrame().url()?n.catch(e=>{}).then(()=>{this._eventListeners.push(g.eventsHelper.addEventListener(this._client,"Page.lifecycleEvent",e=>this._onLifecycleEvent(e)))}):(this._firstNonInitialNavigationCommittedFulfill(),this._eventListeners.push(g.eventsHelper.addEventListener(this._client,"Page.lifecycleEvent",e=>this._onLifecycleEvent(e))))}),this._client.send("Log.enable",{}),n=this._client.send("Page.setLifecycleEventsEnabled",{enabled:!0}),this._client.send("Runtime.enable",{}),this._client.send("Page.addScriptToEvaluateOnNewDocument",{source:"",worldName:this._crPage.utilityWorldName}),this._crPage._networkManager.addSession(this._client,void 0,this._isMainFrame()),this._client.send("Target.setAutoAttach",{autoAttach:!0,waitForDebuggerOnStart:!0,flatten:!0,filter:[{type:"iframe"},{type:"worker"},{type:"service_worker",exclude:!process.env.PW_EXPERIMENTAL_SERVICE_WORKER_NETWORK_EVENTS}]})];if(!this._page.isStorageStatePage){this._crPage._browserContext.needsPlaywrightBinding()&&r.push(this.exposePlaywrightBinding()),this._isMainFrame()&&r.push(this._client.send("Emulation.setFocusEmulationEnabled",{enabled:!0}));const e=this._crPage._browserContext._options;e.bypassCSP&&r.push(this._client.send("Page.setBypassCSP",{enabled:!0})),(e.ignoreHTTPSErrors||e.internalIgnoreHTTPSErrors)&&r.push(this._client.send("Security.setIgnoreCertificateErrors",{ignore:!0})),this._isMainFrame()&&r.push(this._updateViewport()),e.hasTouch&&r.push(this._client.send("Emulation.setTouchEmulationEnabled",{enabled:!0})),!1===e.javaScriptEnabled&&r.push(this._client.send("Emulation.setScriptExecutionDisabled",{value:!0})),(e.userAgent||e.locale)&&r.push(this._updateUserAgent()),e.locale&&r.push(async function(e,t){try{await e.send("Emulation.setLocaleOverride",{locale:t})}catch(e){if(e.message.includes("Another locale override is already in effect"))return;throw e}}(this._client,e.locale)),e.timezoneId&&r.push(async function(e,t){try{await e.send("Emulation.setTimezoneOverride",{timezoneId:t})}catch(e){if(e.message.includes("Timezone override is already in effect"))return;if(e.message.includes("Invalid timezone"))throw new Error(`Invalid timezone ID: ${t}`);throw e}}(this._client,e.timezoneId)),this._crPage._browserContext._browser.options.headful||r.push(this._setDefaultFontFamilies(this._client)),r.push(this._updateGeolocation(!0)),r.push(this._updateEmulateMedia()),r.push(this._updateFileChooserInterception(!0));for(const e of this._crPage._page.allInitScripts())r.push(this._evaluateOnNewDocument(e,"main",!0));t&&r.push(this._startVideoRecording(t))}r.push(this._client.send("Runtime.runIfWaitingForDebugger")),r.push(this._firstNonInitialNavigationCommittedPromise),await Promise.all(r)}dispose(){this._firstNonInitialNavigationCommittedReject(new N.TargetClosedError);for(const e of this._childSessions)e.dispose();this._parentSession&&this._parentSession._childSessions.delete(this),g.eventsHelper.removeEventListeners(this._eventListeners),this._crPage._networkManager.removeSession(this._client),this._crPage._sessions.delete(this._targetId),this._client.dispose()}async _navigate(e,t,n){const r=await this._client.send("Page.navigate",{url:t,referrer:n,frameId:e._id,referrerPolicy:"unsafeUrl"});if(r.isDownload)throw new v.NavigationAbortedError(r.loaderId,"Download is starting");if(r.errorText)throw new v.NavigationAbortedError(r.loaderId,`${r.errorText} at ${t}`);return{newDocumentId:r.loaderId}}_onLifecycleEvent(e){this._eventBelongsToStaleFrame(e.frameId)||("load"===e.name?this._page.frameManager.frameLifecycleEvent(e.frameId,"load"):"DOMContentLoaded"===e.name&&this._page.frameManager.frameLifecycleEvent(e.frameId,"domcontentloaded"))}_handleFrameTree(e){if(this._onFrameAttached(e.frame.id,e.frame.parentId||null),this._onFrameNavigated(e.frame,!0),e.childFrames)for(const t of e.childFrames)this._handleFrameTree(t)}_eventBelongsToStaleFrame(e){const t=this._page.frameManager.frame(e);if(!t)return!0;const n=this._crPage._sessionForFrame(t);return n&&n!==this&&!n._swappedIn}_onFrameAttached(e,t){const n=this._crPage._sessions.get(e);if(n&&e!==this._targetId){n._swappedIn=!0;const t=this._page.frameManager.frame(e);return void(t&&this._page.frameManager.removeChildFramesRecursively(t))}t&&!this._page.frameManager.frame(t)||this._page.frameManager.frameAttached(e,t)}_onFrameNavigated(e,t){this._eventBelongsToStaleFrame(e.id)||(this._page.frameManager.frameCommittedNewDocumentNavigation(e.id,e.url+(e.urlFragment||""),e.name||"",e.loaderId,t),t||this._firstNonInitialNavigationCommittedFulfill())}_onFrameRequestedNavigation(e){this._eventBelongsToStaleFrame(e.frameId)||"currentTab"===e.disposition&&this._page.frameManager.frameRequestedNavigation(e.frameId)}_onFrameNavigatedWithinDocument(e,t){this._eventBelongsToStaleFrame(e)||this._page.frameManager.frameCommittedSameDocumentNavigation(e,t)}_onFrameDetached(e,t){if(!this._crPage._sessions.has(e)){if("swap"===t){const t=this._page.frameManager.frame(e);return void(t&&this._page.frameManager.removeChildFramesRecursively(t))}this._page.frameManager.frameDetached(e)}}_onExecutionContextCreated(e){const t=e.auxData?this._page.frameManager.frame(e.auxData.frameId):null;if(!t||this._eventBelongsToStaleFrame(t._id))return;const n=new O.CRExecutionContext(this._client,e);let r=null;e.auxData&&e.auxData.isDefault?r="main":e.name===this._crPage.utilityWorldName&&(r="utility");const o=new y.FrameExecutionContext(n,t,r);r&&t._contextCreated(r,o),this._contextIdToContext.set(e.id,o)}_onExecutionContextDestroyed(e){const t=this._contextIdToContext.get(e);t&&(this._contextIdToContext.delete(e),t.frame._contextDestroyed(t))}_onExecutionContextsCleared(){for(const e of Array.from(this._contextIdToContext.keys()))this._onExecutionContextDestroyed(e)}_onAttachedToTarget(e){if(this._bufferedAttachedToTargetEvents)return void this._bufferedAttachedToTargetEvents.push(e);const t=this._client.createChildSession(e.sessionId);if("iframe"===e.targetInfo.type){const n=e.targetInfo.targetId;let r=this._page.frameManager.frame(n);if(!r&&e.targetInfo.parentFrameId&&(r=this._page.frameManager.frameAttached(n,e.targetInfo.parentFrameId)),!r)return;this._page.frameManager.removeChildFramesRecursively(r);for(const[e,t]of this._contextIdToContext)t.frame===r&&this._onExecutionContextDestroyed(e);const o=new R(this._crPage,t,n,this);return this._crPage._sessions.set(n,o),void o._initialize(!1).catch(e=>e)}if("worker"!==e.targetInfo.type)return void t.detach().catch(()=>{});const n=e.targetInfo.url,r=new x.Worker(this._page,n);this._page.addWorker(e.sessionId,r),this._workerSessions.set(e.sessionId,t),t.once("Runtime.executionContextCreated",async e=>{r.createExecutionContext(new O.CRExecutionContext(t,e.context))}),t._sendMayFail("Runtime.enable"),this._crPage._networkManager.addSession(t,this._page.frameManager.frame(this._targetId)??void 0).catch(()=>{}),t._sendMayFail("Runtime.runIfWaitingForDebugger"),t._sendMayFail("Target.setAutoAttach",{autoAttach:!0,waitForDebuggerOnStart:!0,flatten:!0,filter:[{type:"worker"},{type:"service_worker",exclude:!process.env.PW_EXPERIMENTAL_SERVICE_WORKER_NETWORK_EVENTS}]}),t.on("Target.attachedToTarget",e=>this._onAttachedToTarget(e)),t.on("Target.detachedFromTarget",e=>this._onDetachedFromTarget(e)),t.on("Runtime.consoleAPICalled",e=>{const t=e.args.map(e=>(0,O.createHandle)(r.existingExecutionContext,e));this._page.addConsoleMessage(e.type,t,(0,M.toConsoleMessageLocation)(e.stackTrace))}),t.on("Runtime.exceptionThrown",e=>this._page.addPageError((0,M.exceptionToError)(e.exceptionDetails)))}_onDetachedFromTarget(e){const t=this._workerSessions.get(e.sessionId);if(t)return t.dispose(),void this._page.removeWorker(e.sessionId);const n=this._crPage._sessions.get(e.targetId);n&&(n._swappedIn?n.dispose():this._client.send("Page.enable").catch(e=>null).then(()=>{n._swappedIn||this._page.frameManager.frameDetached(e.targetId),n.dispose()}))}_onWindowOpen(e){this._crPage._nextWindowOpenPopupFeatures.push(e.windowFeatures)}async _onConsoleAPI(e){if(0===e.executionContextId)return;const t=this._contextIdToContext.get(e.executionContextId);if(!t)return;const n=e.args.map(e=>(0,O.createHandle)(t,e));this._page.addConsoleMessage(e.type,n,(0,M.toConsoleMessageLocation)(e.stackTrace))}async _onBindingCalled(e){if(!(await this._crPage._page.waitForInitializedOrError()instanceof Error)){const t=this._contextIdToContext.get(e.executionContextId);t&&await this._page.onBindingCalled(e.payload,t)}}_onDialog(e){this._page.frameManager.frame(this._targetId)&&this._page.browserContext.dialogManager.dialogDidOpen(new w.Dialog(this._page,e.type,e.message,async(t,n)=>{this._isMainFrame()&&"beforeunload"===e.type&&!t&&this._page.frameManager.frameAbortedNavigation(this._page.mainFrame()._id,"navigation cancelled by beforeunload dialog"),await this._client.send("Page.handleJavaScriptDialog",{accept:t,promptText:n})},e.defaultPrompt))}_handleException(e){this._page.addPageError((0,M.exceptionToError)(e))}async _onTargetCrashed(){this._client._markAsCrashed(),this._page._didCrash()}_onLogEntryAdded(e){const{level:t,text:n,args:r,source:o,url:i,lineNumber:s}=e.entry;if(r&&r.map(e=>(0,M.releaseObject)(this._client,e.objectId)),"worker"!==o){const e={url:i||"",lineNumber:s||0,columnNumber:0};this._page.addConsoleMessage(t,[],e,n)}}async _onFileChooserOpened(e){if(!e.backendNodeId)return;const t=this._page.frameManager.frame(e.frameId);if(!t)return;let n;try{const r=await t._utilityContext();n=await this._adoptBackendNodeId(e.backendNodeId,r)}catch(e){return}await this._page._onFileChooserOpened(n)}_willBeginDownload(){this._crPage._page.initializedOrUndefined()||this._firstNonInitialNavigationCommittedReject(new Error("Starting new page download"))}_onScreencastFrame(e){this._page.throttleScreencastFrameAck(()=>{this._client.send("Page.screencastFrameAck",{sessionId:e.sessionId}).catch(()=>{})});const t=Buffer.from(e.data,"base64");this._page.emit(x.Page.Events.ScreencastFrame,{buffer:t,frameSwapWallTime:e.metadata.timestamp?1e3*e.metadata.timestamp:void 0,width:e.metadata.deviceWidth,height:e.metadata.deviceHeight})}async _createVideoRecorder(e,t){(0,f.assert)(!this._screencastId);const n=S.registry.findExecutable("ffmpeg").executablePathOrDie(this._page.browserContext._browser.sdkLanguage());this._videoRecorder=await j.VideoRecorder.launch(this._crPage._page,n,t),this._screencastId=e}async _startVideoRecording(e){const t=this._screencastId;(0,f.assert)(t),this._page.once(x.Page.Events.Close,()=>this._stopVideoRecording().catch(()=>{}));const n=new Promise(e=>this._client.once("Page.screencastFrame",e));await this._startScreencast(this._videoRecorder,{format:"jpeg",quality:90,maxWidth:e.width,maxHeight:e.height}),n.then(()=>{this._crPage._browserContext._browser._videoStarted(this._crPage._browserContext,t,e.outputFile,this._crPage._page.waitForInitializedOrError())})}async _stopVideoRecording(){if(!this._screencastId)return;const e=this._screencastId;this._screencastId=null;const t=this._videoRecorder;this._videoRecorder=null,await this._stopScreencast(t),await t.stop().catch(()=>{});const n=this._crPage._browserContext._browser._takeVideo(e);n?.reportFinished()}async _startScreencast(e,t={}){this._screencastClients.add(e),1===this._screencastClients.size&&await this._client.send("Page.startScreencast",t)}async _stopScreencast(e){this._screencastClients.delete(e),this._screencastClients.size||await this._client._sendMayFail("Page.stopScreencast")}async _updateGeolocation(e){const t=this._crPage._browserContext._options.geolocation;e&&!t||await this._client.send("Emulation.setGeolocationOverride",t||{})}async _updateViewport(e){if(this._crPage._browserContext._browser.isClank())return;(0,f.assert)(this._isMainFrame());const t=this._crPage._browserContext._options,n=this._page.emulatedSize();if(!n)return;const r=n.viewport,o=n.screen,i=o.width>o.height,s={mobile:!!t.isMobile,width:r.width,height:r.height,screenWidth:o.width,screenHeight:o.height,deviceScaleFactor:t.deviceScaleFactor||1,screenOrientation:t.isMobile?i?{angle:90,type:"landscapePrimary"}:{angle:0,type:"portraitPrimary"}:{angle:0,type:"landscapePrimary"},dontSetVisibleSize:e};if(JSON.stringify(this._metricsOverride)===JSON.stringify(s))return;const a=[];if(!e&&this._windowId){let e={width:0,height:0};this._crPage._browserContext._browser.options.headful&&(e={width:24,height:88},"win32"===process.platform?e={width:16,height:88}:"linux"===process.platform?e={width:8,height:85}:"darwin"===process.platform&&(e={width:2,height:80}),this._crPage._browserContext.isPersistentContext()&&(e.height+=46)),a.push(this.setWindowBounds({width:r.width+e.width,height:r.height+e.height}))}a.push(this._client.send("Emulation.setDeviceMetricsOverride",s)),await Promise.all(a),this._metricsOverride=s}async windowBounds(){const{bounds:e}=await this._client.send("Browser.getWindowBounds",{windowId:this._windowId});return e}async setWindowBounds(e){return await this._client.send("Browser.setWindowBounds",{windowId:this._windowId,bounds:e})}async _updateEmulateMedia(){const e=this._page.emulatedMedia(),t="no-override"===e.media?"":e.media,n=[{name:"prefers-color-scheme",value:"no-override"===e.colorScheme?"":e.colorScheme},{name:"prefers-reduced-motion",value:"no-override"===e.reducedMotion?"":e.reducedMotion},{name:"forced-colors",value:"no-override"===e.forcedColors?"":e.forcedColors},{name:"prefers-contrast",value:"no-override"===e.contrast?"":e.contrast}];await this._client.send("Emulation.setEmulatedMedia",{media:t,features:n})}async _updateUserAgent(){const e=this._crPage._browserContext._options;await this._client.send("Emulation.setUserAgentOverride",{userAgent:e.userAgent||"",acceptLanguage:e.locale,userAgentMetadata:L(e)})}async _setDefaultFontFamilies(e){const t=P.platformToFontFamilies[this._crPage._browserContext._browser._platform()];await e.send("Page.setFontFamilies",t)}async _updateFileChooserInterception(e){const t=this._page.fileChooserIntercepted();e&&!t||await this._client.send("Page.setInterceptFileChooserDialog",{enabled:t}).catch(()=>{})}async _evaluateOnNewDocument(e,t,n){const r="utility"===t?this._crPage.utilityWorldName:void 0,{identifier:o}=await this._client.send("Page.addScriptToEvaluateOnNewDocument",{source:e.source,worldName:r,runImmediately:n});this._initScriptIds.set(e,o)}async _removeEvaluatesOnNewDocument(e){const t=[];for(const n of e){const e=this._initScriptIds.get(n);e&&t.push(e),this._initScriptIds.delete(n)}await Promise.all(t.map(e=>this._client.send("Page.removeScriptToEvaluateOnNewDocument",{identifier:e}).catch(()=>{})))}async exposePlaywrightBinding(){await this._client.send("Runtime.addBinding",{name:x.PageBinding.kBindingName})}async _getContentFrame(e){const t=await this._client.send("DOM.describeNode",{objectId:e._objectId});return t&&"string"==typeof t.node.frameId?this._page.frameManager.frame(t.node.frameId):null}async _getOwnerFrame(e){const t=await e.evaluateHandle(e=>{const t=e;return t.documentElement&&t.documentElement.ownerDocument===t?t.documentElement:e.ownerDocument?e.ownerDocument.documentElement:null});if(!t)return null;if(!t._objectId)return null;const n=await this._client.send("DOM.describeNode",{objectId:t._objectId}),r=n&&"string"==typeof n.node.frameId?n.node.frameId:null;return t.dispose(),r}async _getBoundingBox(e){const t=await this._client._sendMayFail("DOM.getBoxModel",{objectId:e._objectId});if(!t)return null;const n=t.model.border,r=Math.min(n[0],n[2],n[4],n[6]),o=Math.min(n[1],n[3],n[5],n[7]),i=Math.max(n[0],n[2],n[4],n[6])-r,s=Math.max(n[1],n[3],n[5],n[7])-o,a=await this._framePosition();return a?{x:r+a.x,y:o+a.y,width:i,height:s}:null}async _framePosition(){const e=this._page.frameManager.frame(this._targetId);if(!e)return null;if(e===this._page.mainFrame())return{x:0,y:0};const t=await e.frameElement();return await t.boundingBox()}async _scrollRectIntoViewIfNeeded(e,t){return await this._client.send("DOM.scrollIntoViewIfNeeded",{objectId:e._objectId,rect:t}).then(()=>"done").catch(e=>{if(e instanceof Error&&e.message.includes("Node does not have a layout object"))return"error:notvisible";if(e instanceof Error&&e.message.includes("Node is detached from document"))return"error:notconnected";throw e})}async _getContentQuads(e){const t=await this._client._sendMayFail("DOM.getContentQuads",{objectId:e._objectId});if(!t)return null;const n=await this._framePosition();return n?t.quads.map(e=>[{x:e[0]+n.x,y:e[1]+n.y},{x:e[2]+n.x,y:e[3]+n.y},{x:e[4]+n.x,y:e[5]+n.y},{x:e[6]+n.x,y:e[7]+n.y}]):null}async _adoptElementHandle(e,t){const n=await this._client.send("DOM.describeNode",{objectId:e._objectId});return this._adoptBackendNodeId(n.node.backendNodeId,t)}async _adoptBackendNodeId(e,t){const n=await this._client._sendMayFail("DOM.resolveNode",{backendNodeId:e,executionContextId:t.delegate._contextId});if(!n||"null"===n.object.subtype)throw new Error(y.kUnableToAdoptErrorMessage);return(0,O.createHandle)(t,n.object).asElement()}}function L(e){const t=e.userAgent;if(!t)return;const n={mobile:!!e.isMobile,model:"",architecture:"x86",platform:"Windows",platformVersion:""},r=t.match(/Android (\d+(\.\d+)?(\.\d+)?)/),o=t.match(/iPhone OS (\d+(_\d+)?)/),i=t.match(/iPad; CPU OS (\d+(_\d+)?)/),s=t.match(/Mac OS X (\d+(_\d+)?(_\d+)?)/),a=t.match(/Windows\D+(\d+(\.\d+)?(\.\d+)?)/);return r?(n.platform="Android",n.platformVersion=r[1],n.architecture="arm"):o?(n.platform="iOS",n.platformVersion=o[1],n.architecture="arm"):i?(n.platform="iOS",n.platformVersion=i[1],n.architecture="arm"):s?(n.platform="macOS",n.platformVersion=s[1],t.includes("Intel")||(n.architecture="arm")):a?(n.platform="Windows",n.platformVersion=a[1]):t.toLowerCase().includes("linux")&&(n.platform="Linux"),t.includes("ARM")&&(n.architecture="arm"),n}},"./node_modules/playwright-core/lib/server/chromium/crPdf.js":(e,t,n)=>{"use strict";var r,o=Object.defineProperty,i=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,l={};((e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})})(l,{CRPDF:()=>f}),e.exports=(r=l,((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let n of s(t))a.call(e,n)||undefined===n||o(e,n,{get:()=>t[n],enumerable:!(r=i(t,n))||r.enumerable});return e})(o({},"__esModule",{value:!0}),r));var c=n("./node_modules/playwright-core/lib/server/chromium/crProtocolHelper.js"),u=n("./node_modules/playwright-core/lib/utils.js");const d={letter:{width:8.5,height:11},legal:{width:8.5,height:14},tabloid:{width:11,height:17},ledger:{width:17,height:11},a0:{width:33.1,height:46.8},a1:{width:23.4,height:33.1},a2:{width:16.54,height:23.4},a3:{width:11.7,height:16.54},a4:{width:8.27,height:11.7},a5:{width:5.83,height:8.27},a6:{width:4.13,height:5.83}},h={px:1,in:96,cm:37.8,mm:3.78};function p(e){if(void 0===e)return;let t=e.substring(e.length-2).toLowerCase(),n="";h.hasOwnProperty(t)?n=e.substring(0,e.length-2):(t="px",n=e);const r=Number(n);return(0,u.assert)(!isNaN(r),"Failed to parse parameter value: "+e),r*h[t]/96}class f{constructor(e){this._client=e}async generate(e){const{scale:t=1,displayHeaderFooter:n=!1,headerTemplate:r="",footerTemplate:o="",printBackground:i=!1,landscape:s=!1,pageRanges:a="",preferCSSPageSize:l=!1,margin:h={},tagged:f=!1,outline:m=!1}=e;let g=8.5,b=11;if(e.format){const t=d[e.format.toLowerCase()];(0,u.assert)(t,"Unknown paper format: "+e.format),g=t.width,b=t.height}else g=p(e.width)||g,b=p(e.height)||b;const w=p(h.top)||0,y=p(h.left)||0,v=p(h.bottom)||0,A=p(h.right)||0,_=m,x=f,S=await this._client.send("Page.printToPDF",{transferMode:"ReturnAsStream",landscape:s,displayHeaderFooter:n,headerTemplate:r,footerTemplate:o,printBackground:i,scale:t,paperWidth:g,paperHeight:b,marginTop:w,marginBottom:v,marginLeft:y,marginRight:A,pageRanges:a,preferCSSPageSize:l,generateTaggedPDF:x,generateDocumentOutline:_});return await(0,c.readProtocolStream)(this._client,S.stream)}}},"./node_modules/playwright-core/lib/server/chromium/crProtocolHelper.js":(e,t,n)=>{"use strict";var r,o=Object.create,i=Object.defineProperty,s=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,l=Object.getPrototypeOf,c=Object.prototype.hasOwnProperty,u=(e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let o of a(t))c.call(e,o)||o===n||i(e,o,{get:()=>t[o],enumerable:!(r=s(t,o))||r.enumerable});return e},d={};((e,t)=>{for(var n in t)i(e,n,{get:t[n],enumerable:!0})})(d,{exceptionToError:()=>v,getExceptionMessage:()=>m,readProtocolStream:()=>w,releaseObject:()=>g,saveProtocolStream:()=>b,toButtonsMask:()=>_,toConsoleMessageLocation:()=>y,toModifiersMask:()=>A}),e.exports=(r=d,u(i({},"__esModule",{value:!0}),r));var h=((e,t,n)=>(n=null!=e?o(l(e)):{},u(e&&e.__esModule?n:i(n,"default",{value:e,enumerable:!0}),e)))(n("fs")),p=n("./node_modules/playwright-core/lib/utils/isomorphic/stackTrace.js"),f=n("./node_modules/playwright-core/lib/server/utils/fileUtils.js");function m(e){if(e.exception)return e.exception.description||String(e.exception.value);let t=e.text;if(e.stackTrace)for(const n of e.stackTrace.callFrames){const e=n.url+":"+n.lineNumber+":"+n.columnNumber;t+=`\n    at ${n.functionName||"<anonymous>"} (${e})`}return t}async function g(e,t){await e.send("Runtime.releaseObject",{objectId:t}).catch(e=>{})}async function b(e,t,n){let r=!1;await(0,f.mkdirIfNeeded)(n);const o=await h.default.promises.open(n,"w");for(;!r;){const n=await e.send("IO.read",{handle:t});r=n.eof;const i=Buffer.from(n.data,n.base64Encoded?"base64":void 0);await o.write(i)}await o.close(),await e.send("IO.close",{handle:t})}async function w(e,t){let n=!1;const r=[];for(;!n;){const o=await e.send("IO.read",{handle:t});n=o.eof;const i=Buffer.from(o.data,o.base64Encoded?"base64":void 0);r.push(i)}return await e.send("IO.close",{handle:t}),Buffer.concat(r)}function y(e){return e&&e.callFrames.length?{url:e.callFrames[0].url,lineNumber:e.callFrames[0].lineNumber,columnNumber:e.callFrames[0].columnNumber}:{url:"",lineNumber:0,columnNumber:0}}function v(e){const t=m(e),n=t.split("\n"),r=n.findIndex(e=>e.startsWith("    at"));let o="",i="";-1===r?o=t:(o=n.slice(0,r).join("\n"),i=t);const{name:s,message:a}=(0,p.splitErrorMessage)(o),l=new Error(a);l.stack=i;const c=e.exception?.preview?.properties.find(e=>"name"===e.name);return l.name=c?c.value??"Error":s,l}function A(e){let t=0;return e.has("Alt")&&(t|=1),e.has("Control")&&(t|=2),e.has("Meta")&&(t|=4),e.has("Shift")&&(t|=8),t}function _(e){let t=0;return e.has("left")&&(t|=1),e.has("right")&&(t|=2),e.has("middle")&&(t|=4),t}},"./node_modules/playwright-core/lib/server/chromium/crServiceWorker.js":(e,t,n)=>{"use strict";var r,o=Object.create,i=Object.defineProperty,s=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,l=Object.getPrototypeOf,c=Object.prototype.hasOwnProperty,u=(e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let o of a(t))c.call(e,o)||o===n||i(e,o,{get:()=>t[o],enumerable:!(r=s(t,o))||r.enumerable});return e},d={};((e,t)=>{for(var n in t)i(e,n,{get:t[n],enumerable:!0})})(d,{CRServiceWorker:()=>y}),e.exports=(r=d,u(i({},"__esModule",{value:!0}),r));var h=n("./node_modules/playwright-core/lib/server/page.js"),p=n("./node_modules/playwright-core/lib/server/chromium/crExecutionContext.js"),f=n("./node_modules/playwright-core/lib/server/chromium/crNetworkManager.js"),m=n("./node_modules/playwright-core/lib/server/browserContext.js"),g=n("./node_modules/playwright-core/lib/server/console.js"),b=((e,t,n)=>(n=null!=e?o(l(e)):{},u(e&&e.__esModule?n:i(n,"default",{value:e,enumerable:!0}),e)))(n("./node_modules/playwright-core/lib/server/network.js")),w=n("./node_modules/playwright-core/lib/server/chromium/crProtocolHelper.js");class y extends h.Worker{constructor(e,t,n){super(e,n),this._session=t,this.browserContext=e,process.env.PW_EXPERIMENTAL_SERVICE_WORKER_NETWORK_EVENTS&&(this._networkManager=new f.CRNetworkManager(null,this)),t.once("Runtime.executionContextCreated",e=>{this.createExecutionContext(new p.CRExecutionContext(t,e.context))}),this._networkManager&&this._isNetworkInspectionEnabled()&&(this.updateRequestInterception(),this.updateExtraHTTPHeaders(),this.updateHttpCredentials(),this.updateOffline(),this._networkManager.addSession(t,void 0,!0).catch(()=>{})),t.send("Runtime.enable",{}).catch(e=>{}),t.send("Runtime.runIfWaitingForDebugger").catch(e=>{}),t.on("Inspector.targetReloadedAfterCrash",()=>{t._sendMayFail("Runtime.runIfWaitingForDebugger",{})}),t.on("Runtime.consoleAPICalled",e=>{if(!this.existingExecutionContext)return;const t=e.args.map(e=>(0,p.createHandle)(this.existingExecutionContext,e)),n=new g.ConsoleMessage(null,e.type,void 0,t,(0,w.toConsoleMessageLocation)(e.stackTrace));this.emit(h.Worker.Events.Console,n)})}didClose(){this._networkManager?.removeSession(this._session),this._session.dispose(),super.didClose()}async updateOffline(){this._isNetworkInspectionEnabled()&&await(this._networkManager?.setOffline(!!this.browserContext._options.offline).catch(()=>{}))}async updateHttpCredentials(){this._isNetworkInspectionEnabled()&&await(this._networkManager?.authenticate(this.browserContext._options.httpCredentials||null).catch(()=>{}))}async updateExtraHTTPHeaders(){this._isNetworkInspectionEnabled()&&await(this._networkManager?.setExtraHTTPHeaders(this.browserContext._options.extraHTTPHeaders||[]).catch(()=>{}))}async updateRequestInterception(){this._isNetworkInspectionEnabled()&&await(this._networkManager?.setRequestInterception(this.needsRequestInterception()).catch(()=>{}))}needsRequestInterception(){return this._isNetworkInspectionEnabled()&&this.browserContext.requestInterceptors.length>0}reportRequestFinished(e,t){this.browserContext.emit(m.BrowserContext.Events.RequestFinished,{request:e,response:t})}requestFailed(e,t){this.browserContext.emit(m.BrowserContext.Events.RequestFailed,e)}requestReceivedResponse(e){this.browserContext.emit(m.BrowserContext.Events.Response,e)}requestStarted(e,t){this.browserContext.emit(m.BrowserContext.Events.Request,e),t&&new b.Route(e,t).handle(this.browserContext.requestInterceptors)}_isNetworkInspectionEnabled(){return"block"!==this.browserContext._options.serviceWorkers}}},"./node_modules/playwright-core/lib/server/chromium/defaultFontFamilies.js":e=>{"use strict";var t,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,i=Object.prototype.hasOwnProperty,s={};((e,t)=>{for(var r in t)n(e,r,{get:t[r],enumerable:!0})})(s,{platformToFontFamilies:()=>a}),e.exports=(t=s,((e,t,s,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let s of o(t))i.call(e,s)||undefined===s||n(e,s,{get:()=>t[s],enumerable:!(a=r(t,s))||a.enumerable});return e})(n({},"__esModule",{value:!0}),t));const a={linux:{fontFamilies:{standard:"Times New Roman",fixed:"Monospace",serif:"Times New Roman",sansSerif:"Arial",cursive:"Comic Sans MS",fantasy:"Impact"}},mac:{fontFamilies:{standard:"Times",fixed:"Courier",serif:"Times",sansSerif:"Helvetica",cursive:"Apple Chancery",fantasy:"Papyrus"},forScripts:[{script:"jpan",fontFamilies:{standard:"Hiragino Kaku Gothic ProN",fixed:"Osaka-Mono",serif:"Hiragino Mincho ProN",sansSerif:"Hiragino Kaku Gothic ProN"}},{script:"hang",fontFamilies:{standard:"Apple SD Gothic Neo",serif:"AppleMyungjo",sansSerif:"Apple SD Gothic Neo"}},{script:"hans",fontFamilies:{standard:",PingFang SC,STHeiti",serif:"Songti SC",sansSerif:",PingFang SC,STHeiti",cursive:"Kaiti SC"}},{script:"hant",fontFamilies:{standard:",PingFang TC,Heiti TC",serif:"Songti TC",sansSerif:",PingFang TC,Heiti TC",cursive:"Kaiti TC"}}]},win:{fontFamilies:{standard:"Times New Roman",fixed:"Consolas",serif:"Times New Roman",sansSerif:"Arial",cursive:"Comic Sans MS",fantasy:"Impact"},forScripts:[{script:"cyrl",fontFamilies:{standard:"Times New Roman",fixed:"Courier New",serif:"Times New Roman",sansSerif:"Arial"}},{script:"arab",fontFamilies:{fixed:"Courier New",sansSerif:"Segoe UI"}},{script:"grek",fontFamilies:{standard:"Times New Roman",fixed:"Courier New",serif:"Times New Roman",sansSerif:"Arial"}},{script:"jpan",fontFamilies:{standard:",Meiryo,Yu Gothic",fixed:"MS Gothic",serif:",Yu Mincho,MS PMincho",sansSerif:",Meiryo,Yu Gothic"}},{script:"hang",fontFamilies:{standard:"Malgun Gothic",fixed:"Gulimche",serif:"Batang",sansSerif:"Malgun Gothic",cursive:"Gungsuh"}},{script:"hans",fontFamilies:{standard:"Microsoft YaHei",fixed:"NSimsun",serif:"Simsun",sansSerif:"Microsoft YaHei",cursive:"KaiTi"}},{script:"hant",fontFamilies:{standard:"Microsoft JhengHei",fixed:"MingLiU",serif:"PMingLiU",sansSerif:"Microsoft JhengHei",cursive:"DFKai-SB"}}]}}},"./node_modules/playwright-core/lib/server/chromium/videoRecorder.js":(e,t,n)=>{"use strict";var r,o=Object.defineProperty,i=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,l={};((e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})})(l,{VideoRecorder:()=>h}),e.exports=(r=l,((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let n of s(t))a.call(e,n)||undefined===n||o(e,n,{get:()=>t[n],enumerable:!(r=i(t,n))||r.enumerable});return e})(o({},"__esModule",{value:!0}),r));var c=n("./node_modules/playwright-core/lib/utils.js"),u=n("./node_modules/playwright-core/lib/server/page.js"),d=n("./node_modules/playwright-core/lib/server/utils/processLauncher.js");class h{constructor(e,t){this._process=null,this._gracefullyClose=null,this._lastWritePromise=Promise.resolve(),this._lastFrameTimestamp=0,this._lastFrameBuffer=null,this._lastWriteTimestamp=0,this._frameQueue=[],this._isStopped=!1,this._ffmpegPath=t,e.on(u.Page.Events.ScreencastFrame,e=>this.writeFrame(e.buffer,e.frameSwapWallTime/1e3))}static async launch(e,t,n){if(!n.outputFile.endsWith(".webm"))throw new Error("File must have .webm extension");const r=new h(e,t);return await r._launch(n),r}async _launch(e){const t=e.width,n=e.height,r=`-loglevel error -f image2pipe -avioflags direct -fpsprobesize 0 -probesize 32 -analyzeduration 0 -c:v mjpeg -i pipe:0 -y -an -r 25 -c:v vp8 -qmin 0 -qmax 50 -crf 8 -deadline realtime -speed 8 -b:v 1M -threads 1 -vf pad=${t}:${n}:0:0:gray,crop=${t}:${n}:0:0`.split(" ");r.push(e.outputFile);const{launchedProcess:o,gracefullyClose:i}=await(0,d.launchProcess)({command:this._ffmpegPath,args:r,stdio:"stdin",log:e=>c.debugLogger.log("browser",e),tempDirectories:[],attemptToGracefullyClose:async()=>{c.debugLogger.log("browser","Closing stdin..."),o.stdin.end()},onExit:(e,t)=>{c.debugLogger.log("browser",`ffmpeg onkill exitCode=${e} signal=${t}`)}});o.stdin.on("finish",()=>{c.debugLogger.log("browser","ffmpeg finished input.")}),o.stdin.on("error",()=>{c.debugLogger.log("browser","ffmpeg error.")}),this._process=o,this._gracefullyClose=i}writeFrame(e,t){if((0,c.assert)(this._process),!this._isStopped){if(this._lastFrameBuffer){const e=t-this._lastFrameTimestamp,n=Math.max(1,Math.round(25*e));for(let e=0;e<n;++e)this._frameQueue.push(this._lastFrameBuffer);this._lastWritePromise=this._lastWritePromise.then(()=>this._sendFrames())}this._lastFrameBuffer=e,this._lastFrameTimestamp=t,this._lastWriteTimestamp=(0,c.monotonicTime)()}}async _sendFrames(){for(;this._frameQueue.length;)await this._sendFrame(this._frameQueue.shift())}async _sendFrame(e){return new Promise(t=>this._process.stdin.write(e,t)).then(e=>{e&&c.debugLogger.log("browser",`ffmpeg failed to write: ${String(e)}`)})}async stop(){this._isStopped||(this.writeFrame(Buffer.from([]),this._lastFrameTimestamp+((0,c.monotonicTime)()-this._lastWriteTimestamp)/1e3),this._isStopped=!0,await this._lastWritePromise,await this._gracefullyClose())}}},"./node_modules/playwright-core/lib/server/clock.js":(e,t,n)=>{"use strict";var r,o=Object.create,i=Object.defineProperty,s=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,l=Object.getPrototypeOf,c=Object.prototype.hasOwnProperty,u=(e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let o of a(t))c.call(e,o)||o===n||i(e,o,{get:()=>t[o],enumerable:!(r=s(t,o))||r.enumerable});return e},d={};((e,t)=>{for(var n in t)i(e,n,{get:t[n],enumerable:!0})})(d,{Clock:()=>p}),e.exports=(r=d,u(i({},"__esModule",{value:!0}),r));var h=((e,t,n)=>(n=null!=e?o(l(e)):{},u(e&&e.__esModule?n:i(n,"default",{value:e,enumerable:!0}),e)))(n("./node_modules/playwright-core/lib/generated/clockSource.js"));class p{constructor(e){this._initScripts=[],this._browserContext=e}async uninstall(e){await e.race(this._browserContext.removeInitScripts(this._initScripts)),this._initScripts=[]}async fastForward(e,t){await this._installIfNeeded(e);const n=f(t);this._initScripts.push(await this._browserContext.addInitScript(e,`globalThis.__pwClock.controller.log('fastForward', ${Date.now()}, ${n})`)),await e.race(this._evaluateInFrames(`globalThis.__pwClock.controller.fastForward(${n})`))}async install(e,t){await this._installIfNeeded(e);const n=void 0!==t?m(t):Date.now();this._initScripts.push(await this._browserContext.addInitScript(e,`globalThis.__pwClock.controller.log('install', ${Date.now()}, ${n})`)),await e.race(this._evaluateInFrames(`globalThis.__pwClock.controller.install(${n})`))}async pauseAt(e,t){await this._installIfNeeded(e);const n=m(t);this._initScripts.push(await this._browserContext.addInitScript(e,`globalThis.__pwClock.controller.log('pauseAt', ${Date.now()}, ${n})`)),await e.race(this._evaluateInFrames(`globalThis.__pwClock.controller.pauseAt(${n})`))}resumeNoReply(){this._initScripts.length&&(async()=>{this._initScripts.push(await this._browserContext.addInitScript(void 0,`globalThis.__pwClock.controller.log('resume', ${Date.now()})`)),await this._evaluateInFrames("globalThis.__pwClock.controller.resume()")})().catch(()=>{})}async resume(e){await this._installIfNeeded(e),this._initScripts.push(await this._browserContext.addInitScript(e,`globalThis.__pwClock.controller.log('resume', ${Date.now()})`)),await e.race(this._evaluateInFrames("globalThis.__pwClock.controller.resume()"))}async setFixedTime(e,t){await this._installIfNeeded(e);const n=m(t);this._initScripts.push(await this._browserContext.addInitScript(e,`globalThis.__pwClock.controller.log('setFixedTime', ${Date.now()}, ${n})`)),await e.race(this._evaluateInFrames(`globalThis.__pwClock.controller.setFixedTime(${n})`))}async setSystemTime(e,t){await this._installIfNeeded(e);const n=m(t);this._initScripts.push(await this._browserContext.addInitScript(e,`globalThis.__pwClock.controller.log('setSystemTime', ${Date.now()}, ${n})`)),await e.race(this._evaluateInFrames(`globalThis.__pwClock.controller.setSystemTime(${n})`))}async runFor(e,t){await this._installIfNeeded(e);const n=f(t);this._initScripts.push(await this._browserContext.addInitScript(e,`globalThis.__pwClock.controller.log('runFor', ${Date.now()}, ${n})`)),await e.race(this._evaluateInFrames(`globalThis.__pwClock.controller.runFor(${n})`))}async _installIfNeeded(e){if(this._initScripts.length)return;const t=`(() => {\n      const module = {};\n      ${h.source}\n      if (!globalThis.__pwClock)\n        globalThis.__pwClock = (module.exports.inject())(globalThis);\n    })();`,n=await this._browserContext.addInitScript(e,t);await e.race(this._evaluateInFrames(t)),this._initScripts.push(n)}async _evaluateInFrames(e){await this._browserContext.safeNonStallingEvaluateInAllFrames(e,"main",{throwOnJSErrors:!0})}}function f(e){if("number"==typeof e)return e;if(!e)return 0;const t=e,n=t.split(":"),r=n.length;let o,i=r,s=0;if(r>3||!/^(\d\d:){0,2}\d\d?$/.test(t))throw new Error("Clock only understands numbers, 'mm:ss' and 'hh:mm:ss'");for(;i--;){if(o=parseInt(n[i],10),o>=60)throw new Error(`Invalid time ${t}`);s+=o*Math.pow(60,r-i-1)}return 1e3*s}function m(e){if(!e)return 0;if("number"==typeof e)return e;const t=new Date(e);if(!isFinite(t.getTime()))throw new Error(`Invalid date: ${e}`);return t.getTime()}},"./node_modules/playwright-core/lib/server/codegen/csharp.js":(e,t,n)=>{"use strict";var r,o=Object.defineProperty,i=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,l={};((e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})})(l,{CSharpLanguageGenerator:()=>h}),e.exports=(r=l,((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let n of s(t))a.call(e,n)||undefined===n||o(e,n,{get:()=>t[n],enumerable:!(r=i(t,n))||r.enumerable});return e})(o({},"__esModule",{value:!0}),r));var c=n("./node_modules/playwright-core/lib/server/codegen/language.js"),u=n("./node_modules/playwright-core/lib/utils.js"),d=n("./node_modules/playwright-core/lib/server/deviceDescriptors.js");class h{constructor(e){if(this.groupName=".NET C#",this.highlighter="csharp","library"===e)this.name="Library",this.id="csharp";else if("mstest"===e)this.name="MSTest",this.id="csharp-mstest";else{if("nunit"!==e)throw new Error(`Unknown C# language mode: ${e}`);this.name="NUnit",this.id="csharp-nunit"}this._mode=e}generateAction(e){return this._generateActionInner(e)||""}_generateActionInner(e){const t=e.action;if("library"!==this._mode&&("openPage"===t.name||"closePage"===t.name))return"";const n=this._formatPageAlias(e.frame.pageAlias),r=new b("library"===this._mode?0:8);if("openPage"===t.name)return r.add(`var ${n} = await context.NewPageAsync();`),t.url&&"about:blank"!==t.url&&"chrome://newtab/"!==t.url&&r.add(`await ${n}.GotoAsync(${w(t.url)});`),r.format();const o=`${n}${e.frame.framePath.map(e=>`.${this._asLocator(e)}.ContentFrame`).join("")}`,i=(0,c.toSignalMap)(t);i.dialog&&r.add(`    void ${n}_Dialog${i.dialog.dialogAlias}_EventHandler(object sender, IDialog dialog)\n      {\n          Console.WriteLine($"Dialog message: {dialog.Message}");\n          dialog.DismissAsync();\n          ${n}.Dialog -= ${n}_Dialog${i.dialog.dialogAlias}_EventHandler;\n      }\n      ${n}.Dialog += ${n}_Dialog${i.dialog.dialogAlias}_EventHandler;`);const s=[];s.push(this._generateActionCall(o,e)),i.download&&(s.unshift(`var download${i.download.downloadAlias} = await ${n}.RunAndWaitForDownloadAsync(async () =>\n{`),s.push("});")),i.popup&&(s.unshift(`var ${this._formatPageAlias(i.popup.popupAlias)} = await ${n}.RunAndWaitForPopupAsync(async () =>\n{`),s.push("});"));for(const e of s)r.add(e);return r.format()}_formatPageAlias(e){return"library"===this._mode?e:"page"===e?"Page":e}_generateActionCall(e,t){const n=t.action;switch(n.name){case"openPage":throw Error("Not reached");case"closePage":return`await ${e}.CloseAsync();`;case"click":{let t="Click";2===n.clickCount&&(t="DblClick");const r=(0,c.toClickOptionsForSourceCode)(n);if(!Object.entries(r).length)return`await ${e}.${this._asLocator(n.selector)}.${t}Async();`;const o=p(r,"    ");return`await ${e}.${this._asLocator(n.selector)}.${t}Async(${o});`}case"hover":{const t=n.position?p({position:n.position},"    "):"";return`await ${e}.${this._asLocator(n.selector)}.HoverAsync(${t});`}case"check":return`await ${e}.${this._asLocator(n.selector)}.CheckAsync();`;case"uncheck":return`await ${e}.${this._asLocator(n.selector)}.UncheckAsync();`;case"fill":return`await ${e}.${this._asLocator(n.selector)}.FillAsync(${w(n.text)});`;case"setInputFiles":return`await ${e}.${this._asLocator(n.selector)}.SetInputFilesAsync(${p(n.files)});`;case"press":{const t=[...(0,c.toKeyboardModifiers)(n.modifiers),n.key].join("+");return`await ${e}.${this._asLocator(n.selector)}.PressAsync(${w(t)});`}case"navigate":return`await ${e}.GotoAsync(${w(n.url)});`;case"select":return`await ${e}.${this._asLocator(n.selector)}.SelectOptionAsync(${p(n.options)});`;case"assertText":return`await Expect(${e}.${this._asLocator(n.selector)}).${n.substring?"ToContainTextAsync":"ToHaveTextAsync"}(${w(n.text)});`;case"assertChecked":return`await Expect(${e}.${this._asLocator(n.selector)})${n.checked?"":".Not"}.ToBeCheckedAsync();`;case"assertVisible":return`await Expect(${e}.${this._asLocator(n.selector)}).ToBeVisibleAsync();`;case"assertValue":{const t=n.value?`ToHaveValueAsync(${w(n.value)})`:"ToBeEmptyAsync()";return`await Expect(${e}.${this._asLocator(n.selector)}).${t};`}case"assertSnapshot":return`await Expect(${e}.${this._asLocator(n.selector)}).ToMatchAriaSnapshotAsync(${w(n.ariaSnapshot)});`}}_asLocator(e){return(0,u.asLocator)("csharp",e)}generateHeader(e){return"library"===this._mode?this.generateStandaloneHeader(e):this.generateTestRunnerHeader(e)}generateStandaloneHeader(e){const t=new b(0);if(t.add(`\n      using Microsoft.Playwright;\n      using System;\n      using System.Threading.Tasks;\n\n      using var playwright = await Playwright.CreateAsync();\n      await using var browser = await playwright.${m(e.browserName)}.LaunchAsync(${p(e.launchOptions,"    ")});\n      var context = await browser.NewContextAsync(${g(e.contextOptions,e.deviceName)});`),e.contextOptions.recordHar){const n=e.contextOptions.recordHar.urlFilter;t.add(`      await context.RouteFromHARAsync(${w(e.contextOptions.recordHar.path)}${n?`, ${p({url:n},"    ")}`:""});`)}return t.newLine(),t.format()}generateTestRunnerHeader(e){const t=new b(0);t.add(`\n      using Microsoft.Playwright.${"nunit"===this._mode?"NUnit":"MSTest"};\n      using Microsoft.Playwright;\n\n      ${"nunit"===this._mode?"[Parallelizable(ParallelScope.Self)]\n      [TestFixture]":"[TestClass]"}\n      public class Tests : PageTest\n      {`);const n=g(e.contextOptions,e.deviceName);if(n&&(t.add(`public override BrowserNewContextOptions ContextOptions()\n      {\n          return ${n};\n      }`),t.newLine()),t.add(`    [${"nunit"===this._mode?"Test":"TestMethod"}]\n    public async Task MyTest()\n    {`),e.contextOptions.recordHar){const n=e.contextOptions.recordHar.urlFilter;t.add(`    await Context.RouteFromHARAsync(${w(e.contextOptions.recordHar.path)}${n?`, ${p({url:n},"    ")}`:""});`)}return t.format()}generateFooter(e){const t="library"===this._mode?"":"        ";let n=e?`\n${t}await context.StorageStateAsync(new()\n${t}{\n${t}    Path = ${w(e)}\n${t}});\n`:"";return"library"!==this._mode&&(n+="    }\n}\n"),n}}function p(e,t="    ",n=""){if("string"==typeof e)return["colorScheme","modifiers","button","recordHarContent","recordHarMode","serviceWorkers"].includes(n)?`${function(e){switch(e){case"modifiers":return"KeyboardModifier";case"button":return"MouseButton";case"recordHarMode":return"HarMode";case"recordHarContent":return"HarContentPolicy";case"serviceWorkers":return"ServiceWorkerPolicy";default:return m(e)}}(n)}.${m(e)}`:w(e);if(Array.isArray(e))return`new[] { ${e.map(e=>p(e,t,n)).join(", ")} }`;if("object"==typeof e){const n=Object.keys(e).filter(t=>void 0!==e[t]).sort();if(!n.length)return"new()";const r=[];for(const o of n){const n=f(o);r.push(`${n} = ${p(e[o],t,o)},`)}return`new()\n{\n${t}${r.join(`\n${t}`)}\n${t}}`}return"latitude"===n||"longitude"===n?String(e)+"m":String(e)}function f(e){switch(e){case"storageState":return"StorageStatePath";case"viewport":return"ViewportSize";default:return m(e)}}function m(e){return e[0].toUpperCase()+e.slice(1)}function g(e,t){const n={...e};delete n.recordHar;const r=t&&d.deviceDescriptors[t];return r?Object.entries((0,c.sanitizeDeviceOptions)(r,n)).length?(delete n.defaultBrowserType,p(n,"    ")):`playwright.Devices[${w(t)}]`:Object.entries(n).length?p(n,"    "):""}class b{constructor(e=0){this._lines=[],this._baseIndent=" ".repeat(4),this._baseOffset=" ".repeat(e)}prepend(e){this._lines=e.trim().split("\n").map(e=>e.trim()).concat(this._lines)}add(e){this._lines.push(...e.trim().split("\n").map(e=>e.trim()))}newLine(){this._lines.push("")}format(){let e="",t="";return this._lines.map(n=>{if(""===n)return n;(n.startsWith("}")||n.startsWith("]")||n.includes("});")||");"===n)&&(e=e.substring(this._baseIndent.length));const r=/^(for|while|if).*\(.*\)$/.test(t)?this._baseIndent:"";return t=n,((n=e+r+n).endsWith("{")||n.endsWith("[")||n.endsWith("("))&&(e+=this._baseIndent),n.endsWith("));")&&(e=e.substring(this._baseIndent.length)),this._baseOffset+n}).join("\n")}}function w(e){return(0,u.escapeWithQuotes)(e,'"')}},"./node_modules/playwright-core/lib/server/codegen/java.js":(e,t,n)=>{"use strict";var r,o=Object.defineProperty,i=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,l={};((e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})})(l,{JavaLanguageGenerator:()=>p}),e.exports=(r=l,((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let n of s(t))a.call(e,n)||undefined===n||o(e,n,{get:()=>t[n],enumerable:!(r=i(t,n))||r.enumerable});return e})(o({},"__esModule",{value:!0}),r));var c=n("./node_modules/playwright-core/lib/server/codegen/language.js"),u=n("./node_modules/playwright-core/lib/server/deviceDescriptors.js"),d=n("./node_modules/playwright-core/lib/server/codegen/javascript.js"),h=n("./node_modules/playwright-core/lib/utils.js");class p{constructor(e){if(this.groupName="Java",this.highlighter="java","library"===e)this.name="Library",this.id="java";else{if("junit"!==e)throw new Error(`Unknown Java language mode: ${e}`);this.name="JUnit",this.id="java-junit"}this._mode=e}generateAction(e){const t=e.action,n=e.frame.pageAlias,r="junit"===this._mode?4:6,o=new d.JavaScriptFormatter(r);if("library"!==this._mode&&("openPage"===t.name||"closePage"===t.name))return"";if("openPage"===t.name)return o.add(`Page ${n} = context.newPage();`),t.url&&"about:blank"!==t.url&&"chrome://newtab/"!==t.url&&o.add(`${n}.navigate(${f(t.url)});`),o.format();const i=`${n}${e.frame.framePath.map(e=>`.${this._asLocator(e,!1)}.contentFrame()`).join("")}`,s=(0,c.toSignalMap)(t);s.dialog&&o.add(`  ${n}.onceDialog(dialog -> {\n        System.out.println(String.format("Dialog message: %s", dialog.message()));\n        dialog.dismiss();\n      });`);let a=this._generateActionCall(i,e,!!e.frame.framePath.length);return s.popup&&(a=`Page ${s.popup.popupAlias} = ${n}.waitForPopup(() -> {\n        ${a}\n      });`),s.download&&(a=`Download download${s.download.downloadAlias} = ${n}.waitForDownload(() -> {\n        ${a}\n      });`),o.add(a),o.format()}_generateActionCall(e,t,n){const r=t.action;switch(r.name){case"openPage":throw Error("Not reached");case"closePage":return`${e}.close();`;case"click":{let t="click";2===r.clickCount&&(t="dblclick");const o=function(e){const t=[];return e.button&&t.push(`  .setButton(MouseButton.${e.button.toUpperCase()})`),e.modifiers&&t.push(`  .setModifiers(Arrays.asList(${e.modifiers.map(e=>`KeyboardModifier.${e.toUpperCase()}`).join(", ")}))`),e.clickCount&&t.push(`  .setClickCount(${e.clickCount})`),e.position&&t.push(`  .setPosition(${e.position.x}, ${e.position.y})`),t.length?(t.unshift("new Locator.ClickOptions()"),t.join("\n")):""}((0,c.toClickOptionsForSourceCode)(r));return`${e}.${this._asLocator(r.selector,n)}.${t}(${o});`}case"hover":{const t=r.position?`new Locator.HoverOptions().setPosition(${r.position.x}, ${r.position.y})`:"";return`${e}.${this._asLocator(r.selector,n)}.hover(${t});`}case"check":return`${e}.${this._asLocator(r.selector,n)}.check();`;case"uncheck":return`${e}.${this._asLocator(r.selector,n)}.uncheck();`;case"fill":return`${e}.${this._asLocator(r.selector,n)}.fill(${f(r.text)});`;case"setInputFiles":return`${e}.${this._asLocator(r.selector,n)}.setInputFiles(${o=1===r.files.length?r.files[0]:r.files,Array.isArray(o)?0===o.length?"new Path[0]":`new Path[] {${o.map(e=>"Paths.get("+f(e)+")").join(", ")}}`:`Paths.get(${f(o)})`});`;case"press":{const t=[...(0,c.toKeyboardModifiers)(r.modifiers),r.key].join("+");return`${e}.${this._asLocator(r.selector,n)}.press(${f(t)});`}case"navigate":return`${e}.navigate(${f(r.url)});`;case"select":return`${e}.${this._asLocator(r.selector,n)}.selectOption(${function(e){return Array.isArray(e)?0===e.length?"new String[0]":`new String[] {${e.map(e=>f(e)).join(", ")}}`:f(e)}(1===r.options.length?r.options[0]:r.options)});`;case"assertText":return`assertThat(${e}.${this._asLocator(r.selector,n)}).${r.substring?"containsText":"hasText"}(${f(r.text)});`;case"assertChecked":return`assertThat(${e}.${this._asLocator(r.selector,n)})${r.checked?"":".not()"}.isChecked();`;case"assertVisible":return`assertThat(${e}.${this._asLocator(r.selector,n)}).isVisible();`;case"assertValue":{const t=r.value?`hasValue(${f(r.value)})`:"isEmpty()";return`assertThat(${e}.${this._asLocator(r.selector,n)}).${t};`}case"assertSnapshot":return`assertThat(${e}.${this._asLocator(r.selector,n)}).matchesAriaSnapshot(${f(r.ariaSnapshot)});`}var o}_asLocator(e,t){return(0,h.asLocator)("java",e,t)}generateHeader(e){const t=new d.JavaScriptFormatter;if("junit"===this._mode){if(t.add(`\n      import com.microsoft.playwright.junit.UsePlaywright;\n      import com.microsoft.playwright.Page;\n      import com.microsoft.playwright.options.*;\n\n      ${e.contextOptions.recordHar?"import java.nio.file.Paths;\n":""}import org.junit.jupiter.api.*;\n      import static com.microsoft.playwright.assertions.PlaywrightAssertions.*;\n\n      @UsePlaywright\n      public class TestExample {\n        @Test\n        void test(Page page) {`),e.contextOptions.recordHar){const n=e.contextOptions.recordHar.urlFilter,r="string"==typeof n?`, new Page.RouteFromHAROptions()\n            .setUrl(${f(n)})`:"";t.add(`          page.routeFromHAR(Paths.get(${f(e.contextOptions.recordHar.path)})${r});`)}return t.format()}if(t.add(`\n    import com.microsoft.playwright.*;\n    import com.microsoft.playwright.options.*;\n    import static com.microsoft.playwright.assertions.PlaywrightAssertions.assertThat;\n    ${e.contextOptions.recordHar?"import java.nio.file.Paths;\n":""}import java.util.*;\n\n    public class Example {\n      public static void main(String[] args) {\n        try (Playwright playwright = Playwright.create()) {\n          Browser browser = playwright.${e.browserName}().launch(${function(e){const t=[];return Object.keys(e).filter(t=>void 0!==e[t]).length?(t.push("new BrowserType.LaunchOptions()"),e.channel&&t.push(`  .setChannel(${f(e.channel)})`),"boolean"==typeof e.headless&&t.push("  .setHeadless(false)"),t.join("\n")):""}(e.launchOptions)});\n          BrowserContext context = browser.newContext(${function(e,t){const n=[];if(!Object.keys(e).length&&!t)return"";const r={...t?u.deviceDescriptors[t]:{},...e};return n.push("new Browser.NewContextOptions()"),r.acceptDownloads&&n.push("  .setAcceptDownloads(true)"),r.bypassCSP&&n.push("  .setBypassCSP(true)"),r.colorScheme&&n.push(`  .setColorScheme(ColorScheme.${r.colorScheme.toUpperCase()})`),r.deviceScaleFactor&&n.push(`  .setDeviceScaleFactor(${r.deviceScaleFactor})`),r.geolocation&&n.push(`  .setGeolocation(${r.geolocation.latitude}, ${r.geolocation.longitude})`),r.hasTouch&&n.push(`  .setHasTouch(${r.hasTouch})`),r.isMobile&&n.push(`  .setIsMobile(${r.isMobile})`),r.locale&&n.push(`  .setLocale(${f(r.locale)})`),r.proxy&&n.push(`  .setProxy(new Proxy(${f(r.proxy.server)}))`),r.serviceWorkers&&n.push(`  .setServiceWorkers(ServiceWorkerPolicy.${r.serviceWorkers.toUpperCase()})`),r.storageState&&n.push(`  .setStorageStatePath(Paths.get(${f(r.storageState)}))`),r.timezoneId&&n.push(`  .setTimezoneId(${f(r.timezoneId)})`),r.userAgent&&n.push(`  .setUserAgent(${f(r.userAgent)})`),r.viewport&&n.push(`  .setViewportSize(${r.viewport.width}, ${r.viewport.height})`),n.join("\n")}(e.contextOptions,e.deviceName)});`),e.contextOptions.recordHar){const n=e.contextOptions.recordHar.urlFilter,r="string"==typeof n?`, new BrowserContext.RouteFromHAROptions()\n          .setUrl(${f(n)})`:"";t.add(`          context.routeFromHAR(Paths.get(${f(e.contextOptions.recordHar.path)})${r});`)}return t.format()}generateFooter(e){const t=e?`\n      context.storageState(new BrowserContext.StorageStateOptions().setPath(${f(e)}));\n`:"";return"junit"===this._mode?`${t}  }\n}`:`${t}    }\n  }\n}`}}function f(e){return(0,h.escapeWithQuotes)(e,'"')}},"./node_modules/playwright-core/lib/server/codegen/javascript.js":(e,t,n)=>{"use strict";var r,o=Object.defineProperty,i=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,l={};((e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})})(l,{JavaScriptFormatter:()=>b,JavaScriptLanguageGenerator:()=>h,quoteMultiline:()=>y}),e.exports=(r=l,((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let n of s(t))a.call(e,n)||undefined===n||o(e,n,{get:()=>t[n],enumerable:!(r=i(t,n))||r.enumerable});return e})(o({},"__esModule",{value:!0}),r));var c=n("./node_modules/playwright-core/lib/server/codegen/language.js"),u=n("./node_modules/playwright-core/lib/utils.js"),d=n("./node_modules/playwright-core/lib/server/deviceDescriptors.js");class h{constructor(e){this.groupName="Node.js",this.highlighter="javascript",this.id=e?"playwright-test":"javascript",this.name=e?"Test Runner":"Library",this._isTest=e}generateAction(e){const t=e.action;if(this._isTest&&("openPage"===t.name||"closePage"===t.name))return"";const n=e.frame.pageAlias,r=new b(2);if("openPage"===t.name)return r.add(`const ${n} = await context.newPage();`),t.url&&"about:blank"!==t.url&&"chrome://newtab/"!==t.url&&r.add(`await ${n}.goto(${w(t.url)});`),r.format();const o=`${n}${e.frame.framePath.map(e=>`.${this._asLocator(e)}.contentFrame()`).join("")}`,i=(0,c.toSignalMap)(t);var s,a;return i.dialog&&r.add(`  ${n}.once('dialog', dialog => {\n    console.log(\`Dialog message: \${dialog.message()}\`);\n    dialog.dismiss().catch(() => {});\n  });`),i.popup&&r.add(`const ${i.popup.popupAlias}Promise = ${n}.waitForEvent('popup');`),i.download&&r.add(`const download${i.download.downloadAlias}Promise = ${n}.waitForEvent('download');`),r.add((s=e.description,a=this._generateActionCall(o,e),s?`await test.step(\`${s}\`, async () => {\n${a}\n});`:a)),i.popup&&r.add(`const ${i.popup.popupAlias} = await ${i.popup.popupAlias}Promise;`),i.download&&r.add(`const download${i.download.downloadAlias} = await download${i.download.downloadAlias}Promise;`),r.format()}_generateActionCall(e,t){const n=t.action;switch(n.name){case"openPage":throw Error("Not reached");case"closePage":return`await ${e}.close();`;case"click":{let t="click";2===n.clickCount&&(t="dblclick");const r=p((0,c.toClickOptionsForSourceCode)(n),!1);return`await ${e}.${this._asLocator(n.selector)}.${t}(${r});`}case"hover":return`await ${e}.${this._asLocator(n.selector)}.hover(${p({position:n.position},!1)});`;case"check":return`await ${e}.${this._asLocator(n.selector)}.check();`;case"uncheck":return`await ${e}.${this._asLocator(n.selector)}.uncheck();`;case"fill":return`await ${e}.${this._asLocator(n.selector)}.fill(${w(n.text)});`;case"setInputFiles":return`await ${e}.${this._asLocator(n.selector)}.setInputFiles(${f(1===n.files.length?n.files[0]:n.files)});`;case"press":{const t=[...(0,c.toKeyboardModifiers)(n.modifiers),n.key].join("+");return`await ${e}.${this._asLocator(n.selector)}.press(${w(t)});`}case"navigate":return`await ${e}.goto(${w(n.url)});`;case"select":return`await ${e}.${this._asLocator(n.selector)}.selectOption(${f(1===n.options.length?n.options[0]:n.options)});`;case"assertText":return`${this._isTest?"":"// "}await expect(${e}.${this._asLocator(n.selector)}).${n.substring?"toContainText":"toHaveText"}(${w(n.text)});`;case"assertChecked":return`${this._isTest?"":"// "}await expect(${e}.${this._asLocator(n.selector)})${n.checked?"":".not"}.toBeChecked();`;case"assertVisible":return`${this._isTest?"":"// "}await expect(${e}.${this._asLocator(n.selector)}).toBeVisible();`;case"assertValue":{const t=n.value?`toHaveValue(${w(n.value)})`:"toBeEmpty()";return`${this._isTest?"":"// "}await expect(${e}.${this._asLocator(n.selector)}).${t};`}case"assertSnapshot":{const t=this._isTest?"":"// ";return`${t}await expect(${e}.${this._asLocator(n.selector)}).toMatchAriaSnapshot(${y(n.ariaSnapshot,`${t}  `)});`}}}_asLocator(e){return(0,u.asLocator)("javascript",e)}generateHeader(e){return this._isTest?this.generateTestHeader(e):this.generateStandaloneHeader(e)}generateFooter(e){return this._isTest?this.generateTestFooter(e):this.generateStandaloneFooter(e)}generateTestHeader(e){const t=new b,n=g(e.contextOptions,e.deviceName,this._isTest);if(t.add(`\n      import { test, expect${e.deviceName?", devices":""} } from '@playwright/test';\n${n?"\ntest.use("+n+");\n":""}\n      test('test', async ({ page }) => {`),e.contextOptions.recordHar){const n=e.contextOptions.recordHar.urlFilter;t.add(`  await page.routeFromHAR(${w(e.contextOptions.recordHar.path)}${n?`, ${p({url:n},!1)}`:""});`)}return t.format()}generateTestFooter(e){return"});"}generateStandaloneHeader(e){const t=new b;return t.add(`\n      const { ${e.browserName}${e.deviceName?", devices":""} } = require('playwright');\n\n      (async () => {\n        const browser = await ${e.browserName}.launch(${m(e.launchOptions)});\n        const context = await browser.newContext(${g(e.contextOptions,e.deviceName)});`),e.contextOptions.recordHar&&t.add(`        await context.routeFromHAR(${w(e.contextOptions.recordHar.path)});`),t.format()}generateStandaloneFooter(e){return`\n  // ---------------------${e?`\n  await context.storageState({ path: ${w(e)} });`:""}\n  await context.close();\n  await browser.close();\n})();`}}function p(e,t){return Object.keys(e).filter(t=>void 0!==e[t]).length?(t?", ":"")+f(e):""}function f(e,t="  "){if("string"==typeof e)return w(e);if(Array.isArray(e))return`[${e.map(e=>f(e)).join(", ")}]`;if("object"==typeof e){const n=Object.keys(e).filter(t=>void 0!==e[t]).sort();if(!n.length)return"{}";const r=[];for(const t of n)r.push(`${t}: ${f(e[t])}`);return`{\n${t}${r.join(`,\n${t}`)}\n}`}return String(e)}function m(e,t="  "){const n=f(e,t);return"{}"===n?"":n}function g(e,t,n){const r=t&&d.deviceDescriptors[t];if(e={...e,recordHar:void 0},!r)return m(e);let o=m((0,c.sanitizeDeviceOptions)(r,e));o||(o="{\n}");const i=o.split("\n");return i.splice(1,0,`...devices[${w(t)}],`),i.join("\n")}class b{constructor(e=0){this._lines=[],this._baseIndent=" ".repeat(2),this._baseOffset=" ".repeat(e)}prepend(e){const t=v(e)?e=>e:e=>e.trim();this._lines=e.trim().split("\n").map(t).concat(this._lines)}add(e){const t=v(e)?e=>e:e=>e.trim();this._lines.push(...e.trim().split("\n").map(t))}newLine(){this._lines.push("")}format(){let e="",t="";return this._lines.map(n=>{if(""===n)return n;(n.startsWith("}")||n.startsWith("]"))&&(e=e.substring(this._baseIndent.length));const r=/^(for|while|if|try).*\(.*\)$/.test(t)?this._baseIndent:"";t=n;const o=n.startsWith(".set");return((n=e+r+(o?this._baseIndent:"")+n).endsWith("{")||n.endsWith("["))&&(e+=this._baseIndent),this._baseOffset+n}).join("\n")}}function w(e){return(0,u.escapeWithQuotes)(e,"'")}function y(e,t="  "){const n=e=>e.replace(/\\/g,"\\\\").replace(/`/g,"\\`").replace(/\$\{/g,"\\${"),r=e.split("\n");return 1===r.length?"`"+n(e)+"`":"`\n"+r.map(e=>t+n(e).replace(/\${/g,"\\${")).join("\n")+`\n${t}\``}function v(e){return e.match(/`[\S\s]*`/)?.[0].includes("\n")}},"./node_modules/playwright-core/lib/server/codegen/jsonl.js":(e,t,n)=>{"use strict";var r,o=Object.defineProperty,i=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,l={};((e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})})(l,{JsonlLanguageGenerator:()=>u}),e.exports=(r=l,((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let n of s(t))a.call(e,n)||undefined===n||o(e,n,{get:()=>t[n],enumerable:!(r=i(t,n))||r.enumerable});return e})(o({},"__esModule",{value:!0}),r));var c=n("./node_modules/playwright-core/lib/utils.js");class u{constructor(){this.id="jsonl",this.groupName="",this.name="JSONL",this.highlighter="javascript"}generateAction(e){const t=e.action.selector?JSON.parse((0,c.asLocator)("jsonl",e.action.selector)):void 0,n={...e.action,...e.frame,locator:t,ariaSnapshot:void 0};return JSON.stringify(n)}generateHeader(e){return JSON.stringify(e)}generateFooter(e){return""}}},"./node_modules/playwright-core/lib/server/codegen/language.js":e=>{"use strict";var t,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,i=Object.prototype.hasOwnProperty,s={};function a(e,t,n){const r=t.generateHeader(n),o=t.generateFooter(n.saveStorage),i=e.map(e=>function(e,t,n){let r=e.generateAction(t);if(r){if(n&&t.action.preconditionSelector){const n={frame:t.frame,startTime:t.startTime,endTime:t.startTime,action:{name:"assertVisible",selector:t.action.preconditionSelector,signals:[]}},o=e.generateAction(n);o&&(r=o+"\n\n"+r)}return r}}(t,e,!!n.generateAutoExpect)).filter(Boolean),s=[r,...i,o].join("\n");return{header:r,footer:o,actionTexts:i,text:s}}function l(e,t){const n={};for(const r in t)JSON.stringify(e[r])!==JSON.stringify(t[r])&&(n[r]=t[r]);return n}function c(e){let t,n,r;for(const o of e.signals)"popup"===o.name?t=o:"download"===o.name?n=o:"dialog"===o.name&&(r=o);return{popup:t,download:n,dialog:r}}function u(e){const t=[];return 1&e&&t.push("Alt"),2&e&&t.push("ControlOrMeta"),4&e&&t.push("ControlOrMeta"),8&e&&t.push("Shift"),t}function d(e){let t=0;return e?(e.includes("Alt")&&(t|=1),e.includes("Control")&&(t|=2),e.includes("ControlOrMeta")&&(t|=2),e.includes("Meta")&&(t|=4),e.includes("Shift")&&(t|=8),t):t}function h(e){const t=u(e.modifiers),n={};return"left"!==e.button&&(n.button=e.button),t.length&&(n.modifiers=t),e.clickCount>2&&(n.clickCount=e.clickCount),e.position&&(n.position=e.position),n}((e,t)=>{for(var r in t)n(e,r,{get:t[r],enumerable:!0})})(s,{fromKeyboardModifiers:()=>d,generateCode:()=>a,sanitizeDeviceOptions:()=>l,toClickOptionsForSourceCode:()=>h,toKeyboardModifiers:()=>u,toSignalMap:()=>c}),e.exports=(t=s,((e,t,s,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let s of o(t))i.call(e,s)||undefined===s||n(e,s,{get:()=>t[s],enumerable:!(a=r(t,s))||a.enumerable});return e})(n({},"__esModule",{value:!0}),t))},"./node_modules/playwright-core/lib/server/codegen/languages.js":(e,t,n)=>{"use strict";var r,o=Object.defineProperty,i=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,l={};((e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})})(l,{languageSet:()=>f}),e.exports=(r=l,((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let n of s(t))a.call(e,n)||undefined===n||o(e,n,{get:()=>t[n],enumerable:!(r=i(t,n))||r.enumerable});return e})(o({},"__esModule",{value:!0}),r));var c=n("./node_modules/playwright-core/lib/server/codegen/csharp.js"),u=n("./node_modules/playwright-core/lib/server/codegen/java.js"),d=n("./node_modules/playwright-core/lib/server/codegen/javascript.js"),h=n("./node_modules/playwright-core/lib/server/codegen/jsonl.js"),p=n("./node_modules/playwright-core/lib/server/codegen/python.js");function f(){return new Set([new d.JavaScriptLanguageGenerator(!0),new d.JavaScriptLanguageGenerator(!1),new p.PythonLanguageGenerator(!1,!0),new p.PythonLanguageGenerator(!1,!1),new p.PythonLanguageGenerator(!0,!1),new c.CSharpLanguageGenerator("mstest"),new c.CSharpLanguageGenerator("nunit"),new c.CSharpLanguageGenerator("library"),new u.JavaLanguageGenerator("junit"),new u.JavaLanguageGenerator("library"),new h.JsonlLanguageGenerator])}},"./node_modules/playwright-core/lib/server/codegen/python.js":(e,t,n)=>{"use strict";var r,o=Object.defineProperty,i=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,l={};((e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})})(l,{PythonLanguageGenerator:()=>h}),e.exports=(r=l,((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let n of s(t))a.call(e,n)||undefined===n||o(e,n,{get:()=>t[n],enumerable:!(r=i(t,n))||r.enumerable});return e})(o({},"__esModule",{value:!0}),r));var c=n("./node_modules/playwright-core/lib/server/codegen/language.js"),u=n("./node_modules/playwright-core/lib/utils.js"),d=n("./node_modules/playwright-core/lib/server/deviceDescriptors.js");class h{constructor(e,t){this.groupName="Python",this.highlighter="python",this.id=t?"python-pytest":e?"python-async":"python",this.name=t?"Pytest":e?"Library Async":"Library",this._isAsync=e,this._isPyTest=t,this._awaitPrefix=e?"await ":"",this._asyncPrefix=e?"async ":""}generateAction(e){const t=e.action;if(this._isPyTest&&("openPage"===t.name||"closePage"===t.name))return"";const n=e.frame.pageAlias,r=new g(4);if("openPage"===t.name)return r.add(`${n} = ${this._awaitPrefix}context.new_page()`),t.url&&"about:blank"!==t.url&&"chrome://newtab/"!==t.url&&r.add(`${this._awaitPrefix}${n}.goto(${b(t.url)})`),r.format();const o=`${n}${e.frame.framePath.map(e=>`.${this._asLocator(e)}.content_frame`).join("")}`,i=(0,c.toSignalMap)(t);i.dialog&&r.add(`  ${n}.once("dialog", lambda dialog: dialog.dismiss())`);let s=`${this._awaitPrefix}${this._generateActionCall(o,e)}`;return i.popup&&(s=`${this._asyncPrefix}with ${n}.expect_popup() as ${i.popup.popupAlias}_info {\n        ${s}\n      }\n      ${i.popup.popupAlias} = ${this._awaitPrefix}${i.popup.popupAlias}_info.value`),i.download&&(s=`${this._asyncPrefix}with ${n}.expect_download() as download${i.download.downloadAlias}_info {\n        ${s}\n      }\n      download${i.download.downloadAlias} = ${this._awaitPrefix}download${i.download.downloadAlias}_info.value`),r.add(s),r.format()}_generateActionCall(e,t){const n=t.action;switch(n.name){case"openPage":throw Error("Not reached");case"closePage":return`${e}.close()`;case"click":{let t="click";2===n.clickCount&&(t="dblclick");const r=f((0,c.toClickOptionsForSourceCode)(n),!1);return`${e}.${this._asLocator(n.selector)}.${t}(${r})`}case"hover":return`${e}.${this._asLocator(n.selector)}.hover(${f({position:n.position},!1)})`;case"check":return`${e}.${this._asLocator(n.selector)}.check()`;case"uncheck":return`${e}.${this._asLocator(n.selector)}.uncheck()`;case"fill":return`${e}.${this._asLocator(n.selector)}.fill(${b(n.text)})`;case"setInputFiles":return`${e}.${this._asLocator(n.selector)}.set_input_files(${p(1===n.files.length?n.files[0]:n.files)})`;case"press":{const t=[...(0,c.toKeyboardModifiers)(n.modifiers),n.key].join("+");return`${e}.${this._asLocator(n.selector)}.press(${b(t)})`}case"navigate":return`${e}.goto(${b(n.url)})`;case"select":return`${e}.${this._asLocator(n.selector)}.select_option(${p(1===n.options.length?n.options[0]:n.options)})`;case"assertText":return`expect(${e}.${this._asLocator(n.selector)}).${n.substring?"to_contain_text":"to_have_text"}(${b(n.text)})`;case"assertChecked":return`expect(${e}.${this._asLocator(n.selector)}).${n.checked?"to_be_checked()":"not_to_be_checked()"}`;case"assertVisible":return`expect(${e}.${this._asLocator(n.selector)}).to_be_visible()`;case"assertValue":{const t=n.value?`to_have_value(${b(n.value)})`:"to_be_empty()";return`expect(${e}.${this._asLocator(n.selector)}).${t};`}case"assertSnapshot":return`expect(${e}.${this._asLocator(n.selector)}).to_match_aria_snapshot(${b(n.ariaSnapshot)})`}}_asLocator(e){return(0,u.asLocator)("python",e)}generateHeader(e){const t=new g,n=e.contextOptions.recordHar;if(this._isPyTest){const r=m(e.contextOptions,e.deviceName,!0),o=r?`\n\n@pytest.fixture(scope="session")\ndef browser_context_args(browser_context_args, playwright) {\n    return {${r}}\n}\n`:"";t.add(`${e.deviceName||r?"import pytest\n":""}import re\nfrom playwright.sync_api import Page, expect\n${o}\n\ndef test_example(page: Page) -> None {`),n&&t.add(`    page.route_from_har(${b(n.path)}${"string"==typeof n.urlFilter?`, url=${b(n.urlFilter)}`:""})`)}else this._isAsync?(t.add(`\nimport asyncio\nimport re\nfrom playwright.async_api import Playwright, async_playwright, expect\n\n\nasync def run(playwright: Playwright) -> None {\n    browser = await playwright.${e.browserName}.launch(${f(e.launchOptions,!1)})\n    context = await browser.new_context(${m(e.contextOptions,e.deviceName)})`),n&&t.add(`    await context.route_from_har(${b(n.path)}${"string"==typeof n.urlFilter?`, url=${b(n.urlFilter)}`:""})`)):(t.add(`\nimport re\nfrom playwright.sync_api import Playwright, sync_playwright, expect\n\n\ndef run(playwright: Playwright) -> None {\n    browser = playwright.${e.browserName}.launch(${f(e.launchOptions,!1)})\n    context = browser.new_context(${m(e.contextOptions,e.deviceName)})`),n&&t.add(`    context.route_from_har(${b(n.path)}${"string"==typeof n.urlFilter?`, url=${b(n.urlFilter)}`:""})`));return t.format()}generateFooter(e){return this._isPyTest?"":this._isAsync?`\n    # ---------------------${e?`\n    await context.storage_state(path=${b(e)})`:""}\n    await context.close()\n    await browser.close()\n\n\nasync def main() -> None:\n    async with async_playwright() as playwright:\n        await run(playwright)\n\n\nasyncio.run(main())\n`:`\n    # ---------------------${e?`\n    context.storage_state(path=${b(e)})`:""}\n    context.close()\n    browser.close()\n\n\nwith sync_playwright() as playwright:\n    run(playwright)\n`}}function p(e){return!1===e?"False":!0===e?"True":void 0===e?"None":Array.isArray(e)?`[${e.map(p).join(", ")}]`:"string"==typeof e?b(e):"object"==typeof e?JSON.stringify(e):String(e)}function f(e,t,n){const r=Object.keys(e).filter(t=>void 0!==e[t]).sort();return r.length?(t?", ":"")+r.map(t=>n?`"${(0,u.toSnakeCase)(t)}": ${p(e[t])}`:`${(0,u.toSnakeCase)(t)}=${p(e[t])}`).join(", "):""}function m(e,t,n){e={...e,recordHar:void 0};const r=t&&d.deviceDescriptors[t];return r?`**playwright.devices[${b(t)}]`+f((0,c.sanitizeDeviceOptions)(r,e),!0,n):f(e,!1,n)}class g{constructor(e=0){this._lines=[],this._baseIndent=" ".repeat(4),this._baseOffset=" ".repeat(e)}prepend(e){this._lines=e.trim().split("\n").map(e=>e.trim()).concat(this._lines)}add(e){this._lines.push(...e.trim().split("\n").map(e=>e.trim()))}newLine(){this._lines.push("")}format(){let e="";const t=[];return this._lines.forEach(n=>""===n?t.push(n):"}"!==n?((n=e+n).endsWith("{")&&(e+=this._baseIndent,n=n.substring(0,n.length-1).trimEnd()+":"),t.push(this._baseOffset+n)):void(e=e.substring(this._baseIndent.length))),t.join("\n")}}function b(e){return(0,u.escapeWithQuotes)(e,'"')}},"./node_modules/playwright-core/lib/server/console.js":e=>{"use strict";var t,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,i=Object.prototype.hasOwnProperty,s={};((e,t)=>{for(var r in t)n(e,r,{get:t[r],enumerable:!0})})(s,{ConsoleMessage:()=>a}),e.exports=(t=s,((e,t,s,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let s of o(t))i.call(e,s)||undefined===s||n(e,s,{get:()=>t[s],enumerable:!(a=r(t,s))||a.enumerable});return e})(n({},"__esModule",{value:!0}),t));class a{constructor(e,t,n,r,o){this._page=e,this._type=t,this._text=n,this._args=r,this._location=o||{url:"",lineNumber:0,columnNumber:0}}page(){return this._page}type(){return this._type}text(){return void 0===this._text&&(this._text=this._args.map(e=>e.preview()).join(" ")),this._text}args(){return this._args}location(){return this._location}}},"./node_modules/playwright-core/lib/server/cookieStore.js":(e,t,n)=>{"use strict";var r,o=Object.defineProperty,i=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,l={};((e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})})(l,{Cookie:()=>u,CookieStore:()=>d,domainMatches:()=>p,parseRawCookie:()=>h}),e.exports=(r=l,((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let n of s(t))a.call(e,n)||undefined===n||o(e,n,{get:()=>t[n],enumerable:!(r=i(t,n))||r.enumerable});return e})(o({},"__esModule",{value:!0}),r));var c=n("./node_modules/playwright-core/lib/server/network.js");class u{constructor(e){this._raw=e}name(){return this._raw.name}matches(e){return!(this._raw.secure&&"https:"!==e.protocol&&!(0,c.isLocalHostname)(e.hostname)||!p(e.hostname,this._raw.domain)||(t=e.pathname,n=this._raw.path,t!==n&&(t.endsWith("/")||(t+="/"),n.endsWith("/")||(n+="/"),!t.startsWith(n))));var t,n}equals(e){return this._raw.name===e._raw.name&&this._raw.domain===e._raw.domain&&this._raw.path===e._raw.path}networkCookie(){return this._raw}updateExpiresFrom(e){this._raw.expires=e._raw.expires}expired(){return-1!==this._raw.expires&&1e3*this._raw.expires<Date.now()}}class d{constructor(){this._nameToCookies=new Map}addCookies(e){for(const t of e)this._addCookie(new u(t))}cookies(e){const t=[];for(const n of this._cookiesIterator())n.matches(e)&&t.push(n.networkCookie());return t}allCookies(){const e=[];for(const t of this._cookiesIterator())e.push(t.networkCookie());return e}_addCookie(e){let t=this._nameToCookies.get(e.name());t||(t=new Set,this._nameToCookies.set(e.name(),t));for(const n of t)n.equals(e)&&t.delete(n);t.add(e),d.pruneExpired(t)}*_cookiesIterator(){for(const[e,t]of this._nameToCookies){d.pruneExpired(t);for(const e of t)yield e;0===t.size&&this._nameToCookies.delete(e)}}static pruneExpired(e){for(const t of e)t.expired()&&e.delete(t)}}function h(e){const t=e.split(";").filter(e=>e.trim().length>0).map(e=>{let t="",n="";const r=e.indexOf("=");return-1===r?t=e.trim():(t=e.slice(0,r).trim(),n=e.slice(r+1).trim()),[t,n]});if(!t.length)return null;const[n,r]=t[0],o={name:n,value:r};for(let e=1;e<t.length;e++){const[n,r]=t[e];switch(n.toLowerCase()){case"expires":const e=+new Date(r);isFinite(e)&&(o.expires=e<=0?0:Math.min(e/1e3,c.kMaxCookieExpiresDateInSeconds));break;case"max-age":const t=parseInt(r,10);isFinite(t)&&(o.expires=t<=0?0:Math.min(Date.now()/1e3+t,c.kMaxCookieExpiresDateInSeconds));break;case"domain":o.domain=r.toLocaleLowerCase()||"",o.domain&&!o.domain.startsWith(".")&&o.domain.includes(".")&&(o.domain="."+o.domain);break;case"path":o.path=r||"";break;case"secure":o.secure=!0;break;case"httponly":o.httpOnly=!0;break;case"samesite":switch(r.toLowerCase()){case"none":o.sameSite="None";break;case"lax":o.sameSite="Lax";break;case"strict":o.sameSite="Strict"}}}return o}function p(e,t){return e===t||!!t.startsWith(".")&&(e="."+e).endsWith(t)}},"./node_modules/playwright-core/lib/server/debugController.js":(e,t,n)=>{"use strict";var r,o=Object.defineProperty,i=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,l={};((e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})})(l,{DebugController:()=>A}),e.exports=(r=l,((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let n of s(t))a.call(e,n)||undefined===n||o(e,n,{get:()=>t[n],enumerable:!(r=i(t,n))||r.enumerable});return e})(o({},"__esModule",{value:!0}),r));var c=n("./node_modules/playwright-core/lib/server/instrumentation.js"),u=n("./node_modules/playwright-core/lib/server/utils/processLauncher.js"),d=n("./node_modules/playwright-core/lib/server/recorder.js"),h=n("./node_modules/playwright-core/lib/utils.js"),p=n("./node_modules/playwright-core/lib/utils/isomorphic/ariaSnapshot.js"),f=n("./node_modules/playwright-core/lib/utilsBundle.js"),m=n("./node_modules/playwright-core/lib/utils/isomorphic/locatorParser.js"),g=n("./node_modules/playwright-core/lib/server/codegen/language.js"),b=n("./node_modules/playwright-core/lib/server/recorder/recorderUtils.js"),w=n("./node_modules/playwright-core/lib/server/codegen/javascript.js"),y=n("./node_modules/playwright-core/lib/server/frames.js"),v=n("./node_modules/playwright-core/lib/server/page.js");class A extends c.SdkObject{constructor(e){super({attribution:{isInternalPlaywright:!0},instrumentation:(0,c.createInstrumentation)()},void 0,"DebugController"),this._reportState=!1,this._disposeListeners=new Set,this._sdkLanguage="javascript",this._generateAutoExpect=!1,this._playwright=e}static{this.Events={StateChanged:"stateChanged",InspectRequested:"inspectRequested",SourceChanged:"sourceChanged",Paused:"paused",SetModeRequested:"setModeRequested"}}initialize(e,t){this._sdkLanguage=t}dispose(){this.setReportStateChanged(!1)}setReportStateChanged(e){if(this._reportState!==e)if(this._reportState=e,e){const e={onPageOpen:e=>{this._emitSnapshot(!1);const t=()=>this._emitSnapshot(!1);e.mainFrame().on(y.Frame.Events.InternalNavigation,t);const n=()=>e.mainFrame().off(y.Frame.Events.InternalNavigation,t);this._disposeListeners.add(n),e.on(v.Page.Events.Close,()=>this._disposeListeners.delete(n))},onPageClose:()=>this._emitSnapshot(!1),onBrowserClose:()=>{this._emitSnapshot(!1)}};this._playwright.instrumentation.addListener(e,null),this._disposeListeners.add(()=>this._playwright.instrumentation.removeListener(e)),this._emitSnapshot(!0)}else{for(const e of this._disposeListeners)e();this._disposeListeners.clear()}}async setRecorderMode(e,t){if(await e.race(this._closeBrowsersWithoutPages()),this._generateAutoExpect=!!t.generateAutoExpect,"none"!==t.mode){if(this._playwright.allBrowsers().length||await this._playwright.chromium.launch(e,{headless:!!process.env.PW_DEBUG_CONTROLLER_HEADLESS}),!this._playwright.allPages().length){const[t]=this._playwright.allBrowsers(),n=await t.newContextForReuse(e,{});await n.newPage(e)}if(t.testIdAttributeName)for(const e of this._playwright.allPages())t.browserId&&e.browserContext._browser.guid!==t.browserId||e.browserContext.selectors().setTestIdAttributeName(t.testIdAttributeName);for(const n of await e.race(this._allRecorders(t.browserId)))n.hideHighlightedSelector(),n.setMode(t.mode)}else for(const n of await e.race(this._allRecorders(t.browserId)))n.hideHighlightedSelector(),n.setMode("none")}async highlight(e,t){t.selector&&(0,m.unsafeLocatorOrSelectorAsSelector)(this._sdkLanguage,t.selector,"data-testid");const n=t.ariaTemplate?(0,p.parseAriaSnapshotUnsafe)(f.yaml,t.ariaTemplate):void 0;for(const r of await e.race(this._allRecorders()))n?r.setHighlightedAriaTemplate(n):t.selector&&r.setHighlightedSelector(t.selector)}async hideHighlight(e){for(const t of await e.race(this._allRecorders()))t.hideHighlightedSelector();await Promise.all(this._playwright.allPages().map(e=>e.hideHighlight().catch(()=>{})))}async resume(e){for(const t of await e.race(this._allRecorders()))t.resume()}async closeBrowser(e,t,n){const r=this._playwright.allBrowsers().find(e=>e.guid===t);r&&await e.race(r.close({reason:n}))}kill(){(0,u.gracefullyProcessExitDoNotHang)(0)}_emitSnapshot(e){const t=this._playwright.allPages().length;e&&!t||this.emit(A.Events.StateChanged,{pageCount:t,browsers:this._playwright.allBrowsers().map(e=>({id:e.guid,name:e.options.name,channel:e.options.channel,contexts:e.contexts().map(e=>({pages:e.pages().map(e=>({url:e.mainFrame().url()}))}))}))})}async _allRecorders(e){const t=new Set;for(const n of this._playwright.allPages())e&&n.browserContext._browser.guid!==e||t.add(n.browserContext);const n=await Promise.all([...t].map(e=>d.Recorder.forContext(e,{omitCallTracking:!0}))),r=n.filter(Boolean);for(const e of n)x(e,this);return r}async _closeBrowsersWithoutPages(){for(const e of this._playwright.allBrowsers()){for(const t of e.contexts())t.pages().length||await t.close({reason:"Browser collected"});e.contexts()||await e.close({reason:"Browser collected"})}}}const _=Symbol("wired");function x(e,t){if(e[_])return;e[_]=!0;const n=[],r=new w.JavaScriptLanguageGenerator(!0),o=()=>{const e=(0,b.collapseActions)(n),{header:o,footer:i,text:s,actionTexts:a}=(0,g.generateCode)(e,r,{browserName:"chromium",launchOptions:{},contextOptions:{},generateAutoExpect:t._generateAutoExpect});t.emit(A.Events.SourceChanged,{text:s,header:o,footer:i,actions:a})};e.on(d.RecorderEvent.ElementPicked,e=>{const n=(0,h.asLocator)(t._sdkLanguage,e.selector);t.emit(A.Events.InspectRequested,{selector:e.selector,locator:n,ariaSnapshot:e.ariaSnapshot})}),e.on(d.RecorderEvent.PausedStateChanged,e=>{t.emit(A.Events.Paused,{paused:e})}),e.on(d.RecorderEvent.ModeChanged,e=>{t.emit(A.Events.SetModeRequested,{mode:e})}),e.on(d.RecorderEvent.ActionAdded,e=>{n.push(e),o()}),e.on(d.RecorderEvent.SignalAdded,e=>{const t=n.findLast(t=>t.frame.pageGuid===e.frame.pageGuid);t&&t.action.signals.push(e.signal),o()})}},"./node_modules/playwright-core/lib/server/debugger.js":(e,t,n)=>{"use strict";var r,o=Object.defineProperty,i=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,l={};((e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})})(l,{Debugger:()=>f}),e.exports=(r=l,((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let n of s(t))a.call(e,n)||undefined===n||o(e,n,{get:()=>t[n],enumerable:!(r=i(t,n))||r.enumerable});return e})(o({},"__esModule",{value:!0}),r));var c=n("events"),u=n("./node_modules/playwright-core/lib/utils.js"),d=n("./node_modules/playwright-core/lib/server/browserContext.js"),h=n("./node_modules/playwright-core/lib/utils/isomorphic/protocolMetainfo.js");const p=Symbol("Debugger");class f extends c.EventEmitter{constructor(e){super(),this._pauseOnNextStatement=!1,this._pausedCallsMetadata=new Map,this._muted=!1,this._context=e,this._context[p]=this,this._enabled="inspector"===(0,u.debugMode)(),this._enabled&&this.pauseOnNextStatement(),e.instrumentation.addListener(this,e),this._context.once(d.BrowserContext.Events.Close,()=>{this._context.instrumentation.removeListener(this)})}static{this.Events={PausedStateChanged:"pausedstatechanged"}}async setMuted(e){this._muted=e}async onBeforeCall(e,t){this._muted||(function(e,t){return!(e.attribution.playwright.options.isServer||!e.attribution.browser?.options.headful&&!(0,u.isUnderTest)()||"pause"!==t.method)}(e,t)||this._pauseOnNextStatement&&function(e){if(e.internal)return!1;const t=h.methodMetainfo.get(e.type+"."+e.method);return!!t?.pausesBeforeAction}(t))&&await this.pause(e,t)}async onBeforeInputAction(e,t){this._muted||this._enabled&&this._pauseOnNextStatement&&await this.pause(e,t)}async pause(e,t){if(this._muted)return;this._enabled=!0,t.pauseStartTime=(0,u.monotonicTime)();const n=new Promise(n=>{this._pausedCallsMetadata.set(t,{resolve:n,sdkObject:e})});return this.emit(f.Events.PausedStateChanged),n}resume(e){if(!this.isPaused())return;this._pauseOnNextStatement=e;const t=(0,u.monotonicTime)();for(const[e,{resolve:n}]of this._pausedCallsMetadata)e.pauseEndTime=t,n();this._pausedCallsMetadata.clear(),this.emit(f.Events.PausedStateChanged)}pauseOnNextStatement(){this._pauseOnNextStatement=!0}isPaused(e){return e?this._pausedCallsMetadata.has(e):!!this._pausedCallsMetadata.size}pausedDetails(){const e=[];for(const[t,{sdkObject:n}]of this._pausedCallsMetadata)e.push({metadata:t,sdkObject:n});return e}}},"./node_modules/playwright-core/lib/server/deviceDescriptors.js":(e,t,n)=>{"use strict";var r,o=Object.create,i=Object.defineProperty,s=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,l=Object.getPrototypeOf,c=Object.prototype.hasOwnProperty,u=(e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let o of a(t))c.call(e,o)||o===n||i(e,o,{get:()=>t[o],enumerable:!(r=s(t,o))||r.enumerable});return e},d={};((e,t)=>{for(var n in t)i(e,n,{get:t[n],enumerable:!0})})(d,{deviceDescriptors:()=>p}),e.exports=(r=d,u(i({},"__esModule",{value:!0}),r));var h=((e,t,n)=>(n=null!=e?o(l(e)):{},u(e&&e.__esModule?n:i(n,"default",{value:e,enumerable:!0}),e)))(n("./node_modules/playwright-core/lib/server/deviceDescriptorsSource.json"));const p=h.default},"./node_modules/playwright-core/lib/server/deviceDescriptorsSource.json":e=>{"use strict";e.exports=JSON.parse('{"Blackberry PlayBook":{"userAgent":"Mozilla/5.0 (PlayBook; U; RIM Tablet OS 2.1.0; en-US) AppleWebKit/536.2+ (KHTML like Gecko) Version/26.0 Safari/536.2+","viewport":{"width":600,"height":1024},"deviceScaleFactor":1,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"Blackberry PlayBook landscape":{"userAgent":"Mozilla/5.0 (PlayBook; U; RIM Tablet OS 2.1.0; en-US) AppleWebKit/536.2+ (KHTML like Gecko) Version/26.0 Safari/536.2+","viewport":{"width":1024,"height":600},"deviceScaleFactor":1,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"BlackBerry Z30":{"userAgent":"Mozilla/5.0 (BB10; Touch) AppleWebKit/537.10+ (KHTML, like Gecko) Version/26.0 Mobile Safari/537.10+","viewport":{"width":360,"height":640},"deviceScaleFactor":2,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"BlackBerry Z30 landscape":{"userAgent":"Mozilla/5.0 (BB10; Touch) AppleWebKit/537.10+ (KHTML, like Gecko) Version/26.0 Mobile Safari/537.10+","viewport":{"width":640,"height":360},"deviceScaleFactor":2,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"Galaxy Note 3":{"userAgent":"Mozilla/5.0 (Linux; U; Android 4.3; en-us; SM-N900T Build/JSS15J) AppleWebKit/534.30 (KHTML, like Gecko) Version/26.0 Mobile Safari/534.30","viewport":{"width":360,"height":640},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"Galaxy Note 3 landscape":{"userAgent":"Mozilla/5.0 (Linux; U; Android 4.3; en-us; SM-N900T Build/JSS15J) AppleWebKit/534.30 (KHTML, like Gecko) Version/26.0 Mobile Safari/534.30","viewport":{"width":640,"height":360},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"Galaxy Note II":{"userAgent":"Mozilla/5.0 (Linux; U; Android 4.1; en-us; GT-N7100 Build/JRO03C) AppleWebKit/534.30 (KHTML, like Gecko) Version/26.0 Mobile Safari/534.30","viewport":{"width":360,"height":640},"deviceScaleFactor":2,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"Galaxy Note II landscape":{"userAgent":"Mozilla/5.0 (Linux; U; Android 4.1; en-us; GT-N7100 Build/JRO03C) AppleWebKit/534.30 (KHTML, like Gecko) Version/26.0 Mobile Safari/534.30","viewport":{"width":640,"height":360},"deviceScaleFactor":2,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"Galaxy S III":{"userAgent":"Mozilla/5.0 (Linux; U; Android 4.0; en-us; GT-I9300 Build/IMM76D) AppleWebKit/534.30 (KHTML, like Gecko) Version/26.0 Mobile Safari/534.30","viewport":{"width":360,"height":640},"deviceScaleFactor":2,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"Galaxy S III landscape":{"userAgent":"Mozilla/5.0 (Linux; U; Android 4.0; en-us; GT-I9300 Build/IMM76D) AppleWebKit/534.30 (KHTML, like Gecko) Version/26.0 Mobile Safari/534.30","viewport":{"width":640,"height":360},"deviceScaleFactor":2,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"Galaxy S5":{"userAgent":"Mozilla/5.0 (Linux; Android 5.0; SM-G900P Build/LRX21T) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.7390.16 Mobile Safari/537.36","viewport":{"width":360,"height":640},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"Galaxy S5 landscape":{"userAgent":"Mozilla/5.0 (Linux; Android 5.0; SM-G900P Build/LRX21T) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.7390.16 Mobile Safari/537.36","viewport":{"width":640,"height":360},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"Galaxy S8":{"userAgent":"Mozilla/5.0 (Linux; Android 7.0; SM-G950U Build/NRD90M) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.7390.16 Mobile Safari/537.36","viewport":{"width":360,"height":740},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"Galaxy S8 landscape":{"userAgent":"Mozilla/5.0 (Linux; Android 7.0; SM-G950U Build/NRD90M) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.7390.16 Mobile Safari/537.36","viewport":{"width":740,"height":360},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"Galaxy S9+":{"userAgent":"Mozilla/5.0 (Linux; Android 8.0.0; SM-G965U Build/R16NW) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.7390.16 Mobile Safari/537.36","viewport":{"width":320,"height":658},"deviceScaleFactor":4.5,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"Galaxy S9+ landscape":{"userAgent":"Mozilla/5.0 (Linux; Android 8.0.0; SM-G965U Build/R16NW) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.7390.16 Mobile Safari/537.36","viewport":{"width":658,"height":320},"deviceScaleFactor":4.5,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"Galaxy S24":{"userAgent":"Mozilla/5.0 (Linux; Android 14; SM-S921U) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.7390.16 Mobile Safari/537.36","viewport":{"width":360,"height":780},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"Galaxy S24 landscape":{"userAgent":"Mozilla/5.0 (Linux; Android 14; SM-S921U) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.7390.16 Mobile Safari/537.36","viewport":{"width":780,"height":360},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"Galaxy A55":{"userAgent":"Mozilla/5.0 (Linux; Android 14; SM-A556B) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.7390.16 Mobile Safari/537.36","viewport":{"width":480,"height":1040},"deviceScaleFactor":2.25,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"Galaxy A55 landscape":{"userAgent":"Mozilla/5.0 (Linux; Android 14; SM-A556B) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.7390.16 Mobile Safari/537.36","viewport":{"width":1040,"height":480},"deviceScaleFactor":2.25,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"Galaxy Tab S4":{"userAgent":"Mozilla/5.0 (Linux; Android 8.1.0; SM-T837A) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.7390.16 Safari/537.36","viewport":{"width":712,"height":1138},"deviceScaleFactor":2.25,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"Galaxy Tab S4 landscape":{"userAgent":"Mozilla/5.0 (Linux; Android 8.1.0; SM-T837A) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.7390.16 Safari/537.36","viewport":{"width":1138,"height":712},"deviceScaleFactor":2.25,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"Galaxy Tab S9":{"userAgent":"Mozilla/5.0 (Linux; Android 14; SM-X710) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.7390.16 Safari/537.36","viewport":{"width":640,"height":1024},"deviceScaleFactor":2.5,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"Galaxy Tab S9 landscape":{"userAgent":"Mozilla/5.0 (Linux; Android 14; SM-X710) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.7390.16 Safari/537.36","viewport":{"width":1024,"height":640},"deviceScaleFactor":2.5,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"iPad (gen 5)":{"userAgent":"Mozilla/5.0 (iPad; CPU OS 12_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0 Mobile/15E148 Safari/604.1","viewport":{"width":768,"height":1024},"deviceScaleFactor":2,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPad (gen 5) landscape":{"userAgent":"Mozilla/5.0 (iPad; CPU OS 12_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0 Mobile/15E148 Safari/604.1","viewport":{"width":1024,"height":768},"deviceScaleFactor":2,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPad (gen 6)":{"userAgent":"Mozilla/5.0 (iPad; CPU OS 12_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0 Mobile/15E148 Safari/604.1","viewport":{"width":768,"height":1024},"deviceScaleFactor":2,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPad (gen 6) landscape":{"userAgent":"Mozilla/5.0 (iPad; CPU OS 12_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0 Mobile/15E148 Safari/604.1","viewport":{"width":1024,"height":768},"deviceScaleFactor":2,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPad (gen 7)":{"userAgent":"Mozilla/5.0 (iPad; CPU OS 12_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0 Mobile/15E148 Safari/604.1","viewport":{"width":810,"height":1080},"deviceScaleFactor":2,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPad (gen 7) landscape":{"userAgent":"Mozilla/5.0 (iPad; CPU OS 12_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0 Mobile/15E148 Safari/604.1","viewport":{"width":1080,"height":810},"deviceScaleFactor":2,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPad (gen 11)":{"userAgent":"Mozilla/5.0 (iPad; CPU OS 18_5 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0 Mobile/19E241 Safari/604.1","viewport":{"width":656,"height":944},"deviceScaleFactor":2.5,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPad (gen 11) landscape":{"userAgent":"Mozilla/5.0 (iPad; CPU OS 18_5 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0 Mobile/19E241 Safari/604.1","viewport":{"width":944,"height":656},"deviceScaleFactor":2.5,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPad Mini":{"userAgent":"Mozilla/5.0 (iPad; CPU OS 12_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0 Mobile/15E148 Safari/604.1","viewport":{"width":768,"height":1024},"deviceScaleFactor":2,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPad Mini landscape":{"userAgent":"Mozilla/5.0 (iPad; CPU OS 12_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0 Mobile/15E148 Safari/604.1","viewport":{"width":1024,"height":768},"deviceScaleFactor":2,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPad Pro 11":{"userAgent":"Mozilla/5.0 (iPad; CPU OS 12_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0 Mobile/15E148 Safari/604.1","viewport":{"width":834,"height":1194},"deviceScaleFactor":2,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPad Pro 11 landscape":{"userAgent":"Mozilla/5.0 (iPad; CPU OS 12_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0 Mobile/15E148 Safari/604.1","viewport":{"width":1194,"height":834},"deviceScaleFactor":2,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone 6":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/26.0 Mobile/15A372 Safari/604.1","viewport":{"width":375,"height":667},"deviceScaleFactor":2,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone 6 landscape":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/26.0 Mobile/15A372 Safari/604.1","viewport":{"width":667,"height":375},"deviceScaleFactor":2,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone 6 Plus":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/26.0 Mobile/15A372 Safari/604.1","viewport":{"width":414,"height":736},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone 6 Plus landscape":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/26.0 Mobile/15A372 Safari/604.1","viewport":{"width":736,"height":414},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone 7":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/26.0 Mobile/15A372 Safari/604.1","viewport":{"width":375,"height":667},"deviceScaleFactor":2,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone 7 landscape":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/26.0 Mobile/15A372 Safari/604.1","viewport":{"width":667,"height":375},"deviceScaleFactor":2,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone 7 Plus":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/26.0 Mobile/15A372 Safari/604.1","viewport":{"width":414,"height":736},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone 7 Plus landscape":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/26.0 Mobile/15A372 Safari/604.1","viewport":{"width":736,"height":414},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone 8":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/26.0 Mobile/15A372 Safari/604.1","viewport":{"width":375,"height":667},"deviceScaleFactor":2,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone 8 landscape":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/26.0 Mobile/15A372 Safari/604.1","viewport":{"width":667,"height":375},"deviceScaleFactor":2,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone 8 Plus":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/26.0 Mobile/15A372 Safari/604.1","viewport":{"width":414,"height":736},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone 8 Plus landscape":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/26.0 Mobile/15A372 Safari/604.1","viewport":{"width":736,"height":414},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone SE":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/26.0 Mobile/14E304 Safari/602.1","viewport":{"width":320,"height":568},"deviceScaleFactor":2,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone SE landscape":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/26.0 Mobile/14E304 Safari/602.1","viewport":{"width":568,"height":320},"deviceScaleFactor":2,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone SE (3rd gen)":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 18_5 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/26.0 Mobile/19E241 Safari/602.1","viewport":{"width":375,"height":667},"deviceScaleFactor":2,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone SE (3rd gen) landscape":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 18_5 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/26.0 Mobile/19E241 Safari/602.1","viewport":{"width":667,"height":375},"deviceScaleFactor":2,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone X":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/26.0 Mobile/15A372 Safari/604.1","viewport":{"width":375,"height":812},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone X landscape":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/26.0 Mobile/15A372 Safari/604.1","viewport":{"width":812,"height":375},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone XR":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 12_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0 Mobile/15E148 Safari/604.1","viewport":{"width":414,"height":896},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone XR landscape":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 12_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0 Mobile/15E148 Safari/604.1","viewport":{"width":896,"height":414},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone 11":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 12_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0 Mobile/15E148 Safari/604.1","screen":{"width":414,"height":896},"viewport":{"width":414,"height":715},"deviceScaleFactor":2,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone 11 landscape":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 12_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0 Mobile/15E148 Safari/604.1","screen":{"width":414,"height":896},"viewport":{"width":800,"height":364},"deviceScaleFactor":2,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone 11 Pro":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 12_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0 Mobile/15E148 Safari/604.1","screen":{"width":375,"height":812},"viewport":{"width":375,"height":635},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone 11 Pro landscape":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 12_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0 Mobile/15E148 Safari/604.1","screen":{"width":375,"height":812},"viewport":{"width":724,"height":325},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone 11 Pro Max":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 12_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0 Mobile/15E148 Safari/604.1","screen":{"width":414,"height":896},"viewport":{"width":414,"height":715},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone 11 Pro Max landscape":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 12_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0 Mobile/15E148 Safari/604.1","screen":{"width":414,"height":896},"viewport":{"width":808,"height":364},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone 12":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 14_4 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0 Mobile/15E148 Safari/604.1","screen":{"width":390,"height":844},"viewport":{"width":390,"height":664},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone 12 landscape":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 14_4 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0 Mobile/15E148 Safari/604.1","screen":{"width":390,"height":844},"viewport":{"width":750,"height":340},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone 12 Pro":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 14_4 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0 Mobile/15E148 Safari/604.1","screen":{"width":390,"height":844},"viewport":{"width":390,"height":664},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone 12 Pro landscape":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 14_4 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0 Mobile/15E148 Safari/604.1","screen":{"width":390,"height":844},"viewport":{"width":750,"height":340},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone 12 Pro Max":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 14_4 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0 Mobile/15E148 Safari/604.1","screen":{"width":428,"height":926},"viewport":{"width":428,"height":746},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone 12 Pro Max landscape":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 14_4 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0 Mobile/15E148 Safari/604.1","screen":{"width":428,"height":926},"viewport":{"width":832,"height":378},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone 12 Mini":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 14_4 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0 Mobile/15E148 Safari/604.1","screen":{"width":375,"height":812},"viewport":{"width":375,"height":629},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone 12 Mini landscape":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 14_4 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0 Mobile/15E148 Safari/604.1","screen":{"width":375,"height":812},"viewport":{"width":712,"height":325},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone 13":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 15_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0 Mobile/15E148 Safari/604.1","screen":{"width":390,"height":844},"viewport":{"width":390,"height":664},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone 13 landscape":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 15_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0 Mobile/15E148 Safari/604.1","screen":{"width":390,"height":844},"viewport":{"width":750,"height":342},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone 13 Pro":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 15_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0 Mobile/15E148 Safari/604.1","screen":{"width":390,"height":844},"viewport":{"width":390,"height":664},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone 13 Pro landscape":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 15_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0 Mobile/15E148 Safari/604.1","screen":{"width":390,"height":844},"viewport":{"width":750,"height":342},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone 13 Pro Max":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 15_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0 Mobile/15E148 Safari/604.1","screen":{"width":428,"height":926},"viewport":{"width":428,"height":746},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone 13 Pro Max landscape":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 15_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0 Mobile/15E148 Safari/604.1","screen":{"width":428,"height":926},"viewport":{"width":832,"height":380},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone 13 Mini":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 15_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0 Mobile/15E148 Safari/604.1","screen":{"width":375,"height":812},"viewport":{"width":375,"height":629},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone 13 Mini landscape":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 15_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0 Mobile/15E148 Safari/604.1","screen":{"width":375,"height":812},"viewport":{"width":712,"height":327},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone 14":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 16_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0 Mobile/15E148 Safari/604.1","screen":{"width":390,"height":844},"viewport":{"width":390,"height":664},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone 14 landscape":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 16_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0 Mobile/15E148 Safari/604.1","screen":{"width":390,"height":844},"viewport":{"width":750,"height":340},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone 14 Plus":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 16_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0 Mobile/15E148 Safari/604.1","screen":{"width":428,"height":926},"viewport":{"width":428,"height":746},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone 14 Plus landscape":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 16_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0 Mobile/15E148 Safari/604.1","screen":{"width":428,"height":926},"viewport":{"width":832,"height":378},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone 14 Pro":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 16_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0 Mobile/15E148 Safari/604.1","screen":{"width":393,"height":852},"viewport":{"width":393,"height":660},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone 14 Pro landscape":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 16_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0 Mobile/15E148 Safari/604.1","screen":{"width":393,"height":852},"viewport":{"width":734,"height":343},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone 14 Pro Max":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 16_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0 Mobile/15E148 Safari/604.1","screen":{"width":430,"height":932},"viewport":{"width":430,"height":740},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone 14 Pro Max landscape":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 16_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0 Mobile/15E148 Safari/604.1","screen":{"width":430,"height":932},"viewport":{"width":814,"height":380},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone 15":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 17_5 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0 Mobile/15E148 Safari/604.1","screen":{"width":393,"height":852},"viewport":{"width":393,"height":659},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone 15 landscape":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 17_5 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0 Mobile/15E148 Safari/604.1","screen":{"width":393,"height":852},"viewport":{"width":734,"height":343},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone 15 Plus":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 17_5 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0 Mobile/15E148 Safari/604.1","screen":{"width":430,"height":932},"viewport":{"width":430,"height":739},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone 15 Plus landscape":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 17_5 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0 Mobile/15E148 Safari/604.1","screen":{"width":430,"height":932},"viewport":{"width":814,"height":380},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone 15 Pro":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 17_5 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0 Mobile/15E148 Safari/604.1","screen":{"width":393,"height":852},"viewport":{"width":393,"height":659},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone 15 Pro landscape":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 17_5 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0 Mobile/15E148 Safari/604.1","screen":{"width":393,"height":852},"viewport":{"width":734,"height":343},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone 15 Pro Max":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 17_5 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0 Mobile/15E148 Safari/604.1","screen":{"width":430,"height":932},"viewport":{"width":430,"height":739},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone 15 Pro Max landscape":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 17_5 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0 Mobile/15E148 Safari/604.1","screen":{"width":430,"height":932},"viewport":{"width":814,"height":380},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"Kindle Fire HDX":{"userAgent":"Mozilla/5.0 (Linux; U; en-us; KFAPWI Build/JDQ39) AppleWebKit/535.19 (KHTML, like Gecko) Silk/3.13 Safari/535.19 Silk-Accelerated=true","viewport":{"width":800,"height":1280},"deviceScaleFactor":2,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"Kindle Fire HDX landscape":{"userAgent":"Mozilla/5.0 (Linux; U; en-us; KFAPWI Build/JDQ39) AppleWebKit/535.19 (KHTML, like Gecko) Silk/3.13 Safari/535.19 Silk-Accelerated=true","viewport":{"width":1280,"height":800},"deviceScaleFactor":2,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"LG Optimus L70":{"userAgent":"Mozilla/5.0 (Linux; U; Android 4.4.2; en-us; LGMS323 Build/KOT49I.MS32310c) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/141.0.7390.16 Mobile Safari/537.36","viewport":{"width":384,"height":640},"deviceScaleFactor":1.25,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"LG Optimus L70 landscape":{"userAgent":"Mozilla/5.0 (Linux; U; Android 4.4.2; en-us; LGMS323 Build/KOT49I.MS32310c) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/141.0.7390.16 Mobile Safari/537.36","viewport":{"width":640,"height":384},"deviceScaleFactor":1.25,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"Microsoft Lumia 550":{"userAgent":"Mozilla/5.0 (Windows Phone 10.0; Android 4.2.1; Microsoft; Lumia 550) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.7390.16 Mobile Safari/537.36 Edge/14.14263","viewport":{"width":360,"height":640},"deviceScaleFactor":2,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"Microsoft Lumia 550 landscape":{"userAgent":"Mozilla/5.0 (Windows Phone 10.0; Android 4.2.1; Microsoft; Lumia 550) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.7390.16 Mobile Safari/537.36 Edge/14.14263","viewport":{"width":640,"height":360},"deviceScaleFactor":2,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"Microsoft Lumia 950":{"userAgent":"Mozilla/5.0 (Windows Phone 10.0; Android 4.2.1; Microsoft; Lumia 950) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.7390.16 Mobile Safari/537.36 Edge/14.14263","viewport":{"width":360,"height":640},"deviceScaleFactor":4,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"Microsoft Lumia 950 landscape":{"userAgent":"Mozilla/5.0 (Windows Phone 10.0; Android 4.2.1; Microsoft; Lumia 950) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.7390.16 Mobile Safari/537.36 Edge/14.14263","viewport":{"width":640,"height":360},"deviceScaleFactor":4,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"Nexus 10":{"userAgent":"Mozilla/5.0 (Linux; Android 6.0.1; Nexus 10 Build/MOB31T) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.7390.16 Safari/537.36","viewport":{"width":800,"height":1280},"deviceScaleFactor":2,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"Nexus 10 landscape":{"userAgent":"Mozilla/5.0 (Linux; Android 6.0.1; Nexus 10 Build/MOB31T) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.7390.16 Safari/537.36","viewport":{"width":1280,"height":800},"deviceScaleFactor":2,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"Nexus 4":{"userAgent":"Mozilla/5.0 (Linux; Android 4.4.2; Nexus 4 Build/KOT49H) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.7390.16 Mobile Safari/537.36","viewport":{"width":384,"height":640},"deviceScaleFactor":2,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"Nexus 4 landscape":{"userAgent":"Mozilla/5.0 (Linux; Android 4.4.2; Nexus 4 Build/KOT49H) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.7390.16 Mobile Safari/537.36","viewport":{"width":640,"height":384},"deviceScaleFactor":2,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"Nexus 5":{"userAgent":"Mozilla/5.0 (Linux; Android 6.0; Nexus 5 Build/MRA58N) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.7390.16 Mobile Safari/537.36","viewport":{"width":360,"height":640},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"Nexus 5 landscape":{"userAgent":"Mozilla/5.0 (Linux; Android 6.0; Nexus 5 Build/MRA58N) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.7390.16 Mobile Safari/537.36","viewport":{"width":640,"height":360},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"Nexus 5X":{"userAgent":"Mozilla/5.0 (Linux; Android 8.0.0; Nexus 5X Build/OPR4.170623.006) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.7390.16 Mobile Safari/537.36","viewport":{"width":412,"height":732},"deviceScaleFactor":2.625,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"Nexus 5X landscape":{"userAgent":"Mozilla/5.0 (Linux; Android 8.0.0; Nexus 5X Build/OPR4.170623.006) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.7390.16 Mobile Safari/537.36","viewport":{"width":732,"height":412},"deviceScaleFactor":2.625,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"Nexus 6":{"userAgent":"Mozilla/5.0 (Linux; Android 7.1.1; Nexus 6 Build/N6F26U) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.7390.16 Mobile Safari/537.36","viewport":{"width":412,"height":732},"deviceScaleFactor":3.5,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"Nexus 6 landscape":{"userAgent":"Mozilla/5.0 (Linux; Android 7.1.1; Nexus 6 Build/N6F26U) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.7390.16 Mobile Safari/537.36","viewport":{"width":732,"height":412},"deviceScaleFactor":3.5,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"Nexus 6P":{"userAgent":"Mozilla/5.0 (Linux; Android 8.0.0; Nexus 6P Build/OPP3.170518.006) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.7390.16 Mobile Safari/537.36","viewport":{"width":412,"height":732},"deviceScaleFactor":3.5,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"Nexus 6P landscape":{"userAgent":"Mozilla/5.0 (Linux; Android 8.0.0; Nexus 6P Build/OPP3.170518.006) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.7390.16 Mobile Safari/537.36","viewport":{"width":732,"height":412},"deviceScaleFactor":3.5,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"Nexus 7":{"userAgent":"Mozilla/5.0 (Linux; Android 6.0.1; Nexus 7 Build/MOB30X) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.7390.16 Safari/537.36","viewport":{"width":600,"height":960},"deviceScaleFactor":2,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"Nexus 7 landscape":{"userAgent":"Mozilla/5.0 (Linux; Android 6.0.1; Nexus 7 Build/MOB30X) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.7390.16 Safari/537.36","viewport":{"width":960,"height":600},"deviceScaleFactor":2,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"Nokia Lumia 520":{"userAgent":"Mozilla/5.0 (compatible; MSIE 10.0; Windows Phone 8.0; Trident/6.0; IEMobile/10.0; ARM; Touch; NOKIA; Lumia 520)","viewport":{"width":320,"height":533},"deviceScaleFactor":1.5,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"Nokia Lumia 520 landscape":{"userAgent":"Mozilla/5.0 (compatible; MSIE 10.0; Windows Phone 8.0; Trident/6.0; IEMobile/10.0; ARM; Touch; NOKIA; Lumia 520)","viewport":{"width":533,"height":320},"deviceScaleFactor":1.5,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"Nokia N9":{"userAgent":"Mozilla/5.0 (MeeGo; NokiaN9) AppleWebKit/534.13 (KHTML, like Gecko) NokiaBrowser/8.5.0 Mobile Safari/534.13","viewport":{"width":480,"height":854},"deviceScaleFactor":1,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"Nokia N9 landscape":{"userAgent":"Mozilla/5.0 (MeeGo; NokiaN9) AppleWebKit/534.13 (KHTML, like Gecko) NokiaBrowser/8.5.0 Mobile Safari/534.13","viewport":{"width":854,"height":480},"deviceScaleFactor":1,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"Pixel 2":{"userAgent":"Mozilla/5.0 (Linux; Android 8.0; Pixel 2 Build/OPD3.170816.012) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.7390.16 Mobile Safari/537.36","viewport":{"width":411,"height":731},"deviceScaleFactor":2.625,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"Pixel 2 landscape":{"userAgent":"Mozilla/5.0 (Linux; Android 8.0; Pixel 2 Build/OPD3.170816.012) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.7390.16 Mobile Safari/537.36","viewport":{"width":731,"height":411},"deviceScaleFactor":2.625,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"Pixel 2 XL":{"userAgent":"Mozilla/5.0 (Linux; Android 8.0.0; Pixel 2 XL Build/OPD1.170816.004) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.7390.16 Mobile Safari/537.36","viewport":{"width":411,"height":823},"deviceScaleFactor":3.5,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"Pixel 2 XL landscape":{"userAgent":"Mozilla/5.0 (Linux; Android 8.0.0; Pixel 2 XL Build/OPD1.170816.004) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.7390.16 Mobile Safari/537.36","viewport":{"width":823,"height":411},"deviceScaleFactor":3.5,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"Pixel 3":{"userAgent":"Mozilla/5.0 (Linux; Android 9; Pixel 3 Build/PQ1A.181105.017.A1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.7390.16 Mobile Safari/537.36","viewport":{"width":393,"height":786},"deviceScaleFactor":2.75,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"Pixel 3 landscape":{"userAgent":"Mozilla/5.0 (Linux; Android 9; Pixel 3 Build/PQ1A.181105.017.A1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.7390.16 Mobile Safari/537.36","viewport":{"width":786,"height":393},"deviceScaleFactor":2.75,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"Pixel 4":{"userAgent":"Mozilla/5.0 (Linux; Android 10; Pixel 4) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.7390.16 Mobile Safari/537.36","viewport":{"width":353,"height":745},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"Pixel 4 landscape":{"userAgent":"Mozilla/5.0 (Linux; Android 10; Pixel 4) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.7390.16 Mobile Safari/537.36","viewport":{"width":745,"height":353},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"Pixel 4a (5G)":{"userAgent":"Mozilla/5.0 (Linux; Android 11; Pixel 4a (5G)) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.7390.16 Mobile Safari/537.36","screen":{"width":412,"height":892},"viewport":{"width":412,"height":765},"deviceScaleFactor":2.63,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"Pixel 4a (5G) landscape":{"userAgent":"Mozilla/5.0 (Linux; Android 11; Pixel 4a (5G)) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.7390.16 Mobile Safari/537.36","screen":{"height":892,"width":412},"viewport":{"width":840,"height":312},"deviceScaleFactor":2.63,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"Pixel 5":{"userAgent":"Mozilla/5.0 (Linux; Android 11; Pixel 5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.7390.16 Mobile Safari/537.36","screen":{"width":393,"height":851},"viewport":{"width":393,"height":727},"deviceScaleFactor":2.75,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"Pixel 5 landscape":{"userAgent":"Mozilla/5.0 (Linux; Android 11; Pixel 5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.7390.16 Mobile Safari/537.36","screen":{"width":851,"height":393},"viewport":{"width":802,"height":293},"deviceScaleFactor":2.75,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"Pixel 7":{"userAgent":"Mozilla/5.0 (Linux; Android 14; Pixel 7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.7390.16 Mobile Safari/537.36","screen":{"width":412,"height":915},"viewport":{"width":412,"height":839},"deviceScaleFactor":2.625,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"Pixel 7 landscape":{"userAgent":"Mozilla/5.0 (Linux; Android 14; Pixel 7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.7390.16 Mobile Safari/537.36","screen":{"width":915,"height":412},"viewport":{"width":863,"height":360},"deviceScaleFactor":2.625,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"Moto G4":{"userAgent":"Mozilla/5.0 (Linux; Android 7.0; Moto G (4)) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.7390.16 Mobile Safari/537.36","viewport":{"width":360,"height":640},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"Moto G4 landscape":{"userAgent":"Mozilla/5.0 (Linux; Android 7.0; Moto G (4)) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.7390.16 Mobile Safari/537.36","viewport":{"width":640,"height":360},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"Desktop Chrome HiDPI":{"userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.7390.16 Safari/537.36","screen":{"width":1792,"height":1120},"viewport":{"width":1280,"height":720},"deviceScaleFactor":2,"isMobile":false,"hasTouch":false,"defaultBrowserType":"chromium"},"Desktop Edge HiDPI":{"userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.7390.16 Safari/537.36 Edg/141.0.7390.16","screen":{"width":1792,"height":1120},"viewport":{"width":1280,"height":720},"deviceScaleFactor":2,"isMobile":false,"hasTouch":false,"defaultBrowserType":"chromium"},"Desktop Firefox HiDPI":{"userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:142.0.1) Gecko/20100101 Firefox/142.0.1","screen":{"width":1792,"height":1120},"viewport":{"width":1280,"height":720},"deviceScaleFactor":2,"isMobile":false,"hasTouch":false,"defaultBrowserType":"firefox"},"Desktop Safari":{"userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0 Safari/605.1.15","screen":{"width":1792,"height":1120},"viewport":{"width":1280,"height":720},"deviceScaleFactor":2,"isMobile":false,"hasTouch":false,"defaultBrowserType":"webkit"},"Desktop Chrome":{"userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.7390.16 Safari/537.36","screen":{"width":1920,"height":1080},"viewport":{"width":1280,"height":720},"deviceScaleFactor":1,"isMobile":false,"hasTouch":false,"defaultBrowserType":"chromium"},"Desktop Edge":{"userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.7390.16 Safari/537.36 Edg/141.0.7390.16","screen":{"width":1920,"height":1080},"viewport":{"width":1280,"height":720},"deviceScaleFactor":1,"isMobile":false,"hasTouch":false,"defaultBrowserType":"chromium"},"Desktop Firefox":{"userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:142.0.1) Gecko/20100101 Firefox/142.0.1","screen":{"width":1920,"height":1080},"viewport":{"width":1280,"height":720},"deviceScaleFactor":1,"isMobile":false,"hasTouch":false,"defaultBrowserType":"firefox"}}')},"./node_modules/playwright-core/lib/server/dialog.js":(e,t,n)=>{"use strict";var r,o=Object.defineProperty,i=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,l={};((e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})})(l,{Dialog:()=>d,DialogManager:()=>h}),e.exports=(r=l,((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let n of s(t))a.call(e,n)||undefined===n||o(e,n,{get:()=>t[n],enumerable:!(r=i(t,n))||r.enumerable});return e})(o({},"__esModule",{value:!0}),r));var c=n("./node_modules/playwright-core/lib/utils.js"),u=n("./node_modules/playwright-core/lib/server/instrumentation.js");class d extends u.SdkObject{constructor(e,t,n,r,o){super(e,"dialog"),this._handled=!1,this._page=e,this._type=t,this._message=n,this._onHandle=r,this._defaultValue=o||""}page(){return this._page}type(){return this._type}message(){return this._message}defaultValue(){return this._defaultValue}async accept(e){(0,c.assert)(!this._handled,"Cannot accept dialog which is already handled!"),this._handled=!0,this._page.browserContext.dialogManager.dialogWillClose(this),await this._onHandle(!0,e)}async dismiss(){(0,c.assert)(!this._handled,"Cannot dismiss dialog which is already handled!"),this._handled=!0,this._page.browserContext.dialogManager.dialogWillClose(this),await this._onHandle(!1)}async close(){"beforeunload"===this._type?await this.accept():await this.dismiss()}}class h{constructor(e){this._dialogHandlers=new Set,this._openedDialogs=new Set,this._instrumentation=e}dialogDidOpen(e){for(const t of e.page().frameManager.frames())t._invalidateNonStallingEvaluations("JavaScript dialog interrupted evaluation");this._openedDialogs.add(e),this._instrumentation.onDialog(e);let t=!1;for(const n of this._dialogHandlers)n(e)&&(t=!0);t||e.close().then(()=>{})}dialogWillClose(e){this._openedDialogs.delete(e)}addDialogHandler(e){this._dialogHandlers.add(e)}removeDialogHandler(e){if(this._dialogHandlers.delete(e),!this._dialogHandlers.size)for(const e of this._openedDialogs)e.close().catch(()=>{})}hasOpenDialogsForPage(e){return[...this._openedDialogs].some(t=>t.page()===e)}async closeBeforeUnloadDialogs(){await Promise.all([...this._openedDialogs].map(async e=>{"beforeunload"===e.type()&&await e.dismiss()}))}}},"./node_modules/playwright-core/lib/server/dispatchers/androidDispatcher.js":(e,t,n)=>{"use strict";var r,o=Object.defineProperty,i=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,l={};((e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})})(l,{AndroidDeviceDispatcher:()=>m,AndroidDispatcher:()=>f,AndroidSocketDispatcher:()=>b}),e.exports=(r=l,((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let n of s(t))a.call(e,n)||undefined===n||o(e,n,{get:()=>t[n],enumerable:!(r=i(t,n))||r.enumerable});return e})(o({},"__esModule",{value:!0}),r));var c=n("./node_modules/playwright-core/lib/server/dispatchers/browserContextDispatcher.js"),u=n("./node_modules/playwright-core/lib/server/dispatchers/dispatcher.js"),d=n("./node_modules/playwright-core/lib/server/android/android.js"),h=n("./node_modules/playwright-core/lib/server/utils/eventsHelper.js"),p=n("./node_modules/playwright-core/lib/server/instrumentation.js");class f extends u.Dispatcher{constructor(e,t){super(e,t,"Android",{}),this._type_Android=!0}async devices(e,t){return{devices:(await this._object.devices(t,e)).map(e=>m.from(this,e))}}}class m extends u.Dispatcher{constructor(e,t){super(e,t,"AndroidDevice",{model:t.model,serial:t.serial}),this._type_EventTarget=!0,this._type_AndroidDevice=!0;for(const e of t.webViews())this._dispatchEvent("webViewAdded",{webView:e});this.addObjectListener(d.AndroidDevice.Events.WebViewAdded,e=>this._dispatchEvent("webViewAdded",{webView:e})),this.addObjectListener(d.AndroidDevice.Events.WebViewRemoved,e=>this._dispatchEvent("webViewRemoved",{socketName:e})),this.addObjectListener(d.AndroidDevice.Events.Close,()=>this._dispatchEvent("close"))}static from(e,t){return e.connection.existingDispatcher(t)||new m(e,t)}async wait(e,t){await t.race(this._object.send("wait",e))}async fill(e,t){await t.race(this._object.send("click",{selector:e.androidSelector})),await t.race(this._object.send("fill",e))}async tap(e,t){await t.race(this._object.send("click",e))}async drag(e,t){await t.race(this._object.send("drag",e))}async fling(e,t){await t.race(this._object.send("fling",e))}async longTap(e,t){await t.race(this._object.send("longClick",e))}async pinchClose(e,t){await t.race(this._object.send("pinchClose",e))}async pinchOpen(e,t){await t.race(this._object.send("pinchOpen",e))}async scroll(e,t){await t.race(this._object.send("scroll",e))}async swipe(e,t){await t.race(this._object.send("swipe",e))}async info(e,t){const n=await t.race(this._object.send("info",e));return y(n),{info:n}}async inputType(e,t){const n=e.text,r=[];for(let e=0;e<n.length;++e){const t=w.get(n[e].toUpperCase());if(void 0===t)throw new Error("No mapping for "+n[e]+" found");r.push(t)}await t.race(Promise.all(r.map(e=>this._object.send("inputPress",{keyCode:e}))))}async inputPress(e,t){if(!w.has(e.key))throw new Error("Unknown key: "+e.key);await t.race(this._object.send("inputPress",{keyCode:w.get(e.key)}))}async inputTap(e,t){await t.race(this._object.send("inputClick",e))}async inputSwipe(e,t){await t.race(this._object.send("inputSwipe",e))}async inputDrag(e,t){await t.race(this._object.send("inputDrag",e))}async screenshot(e,t){return{binary:await t.race(this._object.screenshot())}}async shell(e,t){return{result:await t.race(this._object.shell(e.command))}}async open(e,t){const n=await this._object.open(t,e.command);return{socket:new b(this,new g(this._object,n))}}async installApk(e,t){await this._object.installApk(t,e.file,{args:e.args})}async push(e,t){await t.race(this._object.push(t,e.file,e.path,e.mode))}async launchBrowser(e,t){const n=await this._object.launchBrowser(t,e.pkg,e);return{context:c.BrowserContextDispatcher.from(this,n)}}async close(e,t){await this._object.close()}async connectToWebView(e,t){return{context:c.BrowserContextDispatcher.from(this,await this._object.connectToWebView(t,e.socketName))}}}class g extends p.SdkObject{constructor(e,t){super(e,"socket"),this._socket=t,this._eventListeners=[h.eventsHelper.addEventListener(t,"data",e=>this.emit("data",e)),h.eventsHelper.addEventListener(t,"close",()=>{h.eventsHelper.removeEventListeners(this._eventListeners),this.emit("close")})]}async write(e){await this._socket.write(e)}close(){this._socket.close()}}class b extends u.Dispatcher{constructor(e,t){super(e,t,"AndroidSocket",{}),this._type_AndroidSocket=!0,this.addObjectListener("data",e=>this._dispatchEvent("data",{data:e})),this.addObjectListener("close",()=>{this._dispatchEvent("close"),this._dispose()})}async write(e,t){await t.race(this._object.write(e.data))}async close(e,t){this._object.close()}}const w=new Map([["Unknown",0],["SoftLeft",1],["SoftRight",2],["Home",3],["Back",4],["Call",5],["EndCall",6],["0",7],["1",8],["2",9],["3",10],["4",11],["5",12],["6",13],["7",14],["8",15],["9",16],["Star",17],["*",17],["Pound",18],["#",18],["DialUp",19],["DialDown",20],["DialLeft",21],["DialRight",22],["DialCenter",23],["VolumeUp",24],["VolumeDown",25],["Power",26],["Camera",27],["Clear",28],["A",29],["B",30],["C",31],["D",32],["E",33],["F",34],["G",35],["H",36],["I",37],["J",38],["K",39],["L",40],["M",41],["N",42],["O",43],["P",44],["Q",45],["R",46],["S",47],["T",48],["U",49],["V",50],["W",51],["X",52],["Y",53],["Z",54],["Comma",55],[",",55],["Period",56],[".",56],["AltLeft",57],["AltRight",58],["ShiftLeft",59],["ShiftRight",60],["Tab",61],["\t",61],["Space",62],[" ",62],["Sym",63],["Explorer",64],["Envelop",65],["Enter",66],["Del",67],["Grave",68],["Minus",69],["-",69],["Equals",70],["=",70],["LeftBracket",71],["(",71],["RightBracket",72],[")",72],["Backslash",73],["\\",73],["Semicolon",74],[";",74],["Apostrophe",75],["`",75],["Slash",76],["/",76],["At",77],["@",77],["Num",78],["HeadsetHook",79],["Focus",80],["Plus",81],["Menu",82],["Notification",83],["Search",84],["MediaPlayPause",85],["MediaStop",86],["MediaNext",87],["MediaPrevious",88],["MediaRewind",89],["MediaFastForward",90],["MediaPlay",126],["MediaPause",127],["MediaClose",128],["MediaEject",129],["MediaRecord",130],["ChannelUp",166],["ChannelDown",167],["AppSwitch",187],["Assist",219],["MediaAudioTrack",222],["MediaTopMenu",226],["MediaSkipForward",272],["MediaSkipBackward",273],["MediaStepForward",274],["MediaStepBackward",275],["Cut",277],["Copy",278],["Paste",279]]);function y(e){e.clazz=e.clazz||"",e.pkg=e.pkg||"",e.res=e.res||"",e.desc=e.desc||"",e.text=e.text||"";for(const t of e.children||[])y(t)}},"./node_modules/playwright-core/lib/server/dispatchers/artifactDispatcher.js":(e,t,n)=>{"use strict";var r,o=Object.create,i=Object.defineProperty,s=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,l=Object.getPrototypeOf,c=Object.prototype.hasOwnProperty,u=(e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let o of a(t))c.call(e,o)||o===n||i(e,o,{get:()=>t[o],enumerable:!(r=s(t,o))||r.enumerable});return e},d={};((e,t)=>{for(var n in t)i(e,n,{get:t[n],enumerable:!0})})(d,{ArtifactDispatcher:()=>g}),e.exports=(r=d,u(i({},"__esModule",{value:!0}),r));var h=((e,t,n)=>(n=null!=e?o(l(e)):{},u(e&&e.__esModule?n:i(n,"default",{value:e,enumerable:!0}),e)))(n("fs")),p=n("./node_modules/playwright-core/lib/server/dispatchers/dispatcher.js"),f=n("./node_modules/playwright-core/lib/server/dispatchers/streamDispatcher.js"),m=n("./node_modules/playwright-core/lib/server/utils/fileUtils.js");class g extends p.Dispatcher{constructor(e,t){super(e,t,"Artifact",{absolutePath:t.localPath()}),this._type_Artifact=!0}static from(e,t){return g.fromNullable(e,t)}static fromNullable(e,t){if(t)return e.connection.existingDispatcher(t)||new g(e,t)}async pathAfterFinished(e,t){return{value:await t.race(this._object.localPathAfterFinished())}}async saveAs(e,t){return await t.race(new Promise((t,n)=>{this._object.saveAs(async(r,o)=>{if(o)n(o);else try{await(0,m.mkdirIfNeeded)(e.path),await h.default.promises.copyFile(r,e.path),t()}catch(e){n(e)}})}))}async saveAsStream(e,t){return await t.race(new Promise((e,t)=>{this._object.saveAs(async(n,r)=>{if(r)t(r);else try{const t=h.default.createReadStream(n,{highWaterMark:1048576}),r=new f.StreamDispatcher(this,t);e({stream:r}),await new Promise(e=>{t.on("close",e),t.on("end",e),t.on("error",e)})}catch(e){t(e)}})}))}async stream(e,t){const n=await t.race(this._object.localPathAfterFinished()),r=h.default.createReadStream(n,{highWaterMark:1048576});return{stream:new f.StreamDispatcher(this,r)}}async failure(e,t){return{error:await t.race(this._object.failureError())||void 0}}async cancel(e,t){await t.race(this._object.cancel())}async delete(e,t){t.metadata.potentiallyClosesScope=!0,await t.race(this._object.delete()),this._dispose()}}},"./node_modules/playwright-core/lib/server/dispatchers/browserContextDispatcher.js":(e,t,n)=>{"use strict";var r,o=Object.create,i=Object.defineProperty,s=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,l=Object.getPrototypeOf,c=Object.prototype.hasOwnProperty,u=(e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let o of a(t))c.call(e,o)||o===n||i(e,o,{get:()=>t[o],enumerable:!(r=s(t,o))||r.enumerable});return e},d=(e,t,n)=>(n=null!=e?o(l(e)):{},u(!t&&e&&e.__esModule?n:i(n,"default",{value:e,enumerable:!0}),e)),h={};((e,t)=>{for(var n in t)i(e,n,{get:t[n],enumerable:!0})})(h,{BrowserContextDispatcher:()=>B}),e.exports=(r=h,u(i({},"__esModule",{value:!0}),r));var p=d(n("fs")),f=d(n("path")),m=n("./node_modules/playwright-core/lib/server/browserContext.js"),g=n("./node_modules/playwright-core/lib/server/dispatchers/artifactDispatcher.js"),b=n("./node_modules/playwright-core/lib/server/dispatchers/cdpSessionDispatcher.js"),w=n("./node_modules/playwright-core/lib/server/dispatchers/dialogDispatcher.js"),y=n("./node_modules/playwright-core/lib/server/dispatchers/dispatcher.js"),v=n("./node_modules/playwright-core/lib/server/dispatchers/networkDispatchers.js"),A=n("./node_modules/playwright-core/lib/server/dispatchers/pageDispatcher.js"),_=n("./node_modules/playwright-core/lib/server/chromium/crBrowser.js"),x=n("./node_modules/playwright-core/lib/server/errors.js"),S=n("./node_modules/playwright-core/lib/server/dispatchers/tracingDispatcher.js"),E=n("./node_modules/playwright-core/lib/server/dispatchers/webSocketRouteDispatcher.js"),C=n("./node_modules/playwright-core/lib/server/dispatchers/writableStreamDispatcher.js"),k=n("./node_modules/playwright-core/lib/server/utils/crypto.js"),O=n("./node_modules/playwright-core/lib/utils/isomorphic/urlMatch.js"),T=n("./node_modules/playwright-core/lib/server/recorder.js"),I=n("./node_modules/playwright-core/lib/server/recorder/recorderApp.js");class B extends y.Dispatcher{constructor(e,t){const n=v.APIRequestContextDispatcher.from(e,t.fetchRequest),r=S.TracingDispatcher.from(e,t.tracing);super(e,t,"BrowserContext",{isChromium:t._browser.options.isChromium,requestContext:n,tracing:r,options:t._options}),this._type_EventTarget=!0,this._type_BrowserContext=!0,this._subscriptions=new Set,this._webSocketInterceptionPatterns=[],this._bindings=[],this._initScripts=[],this._clockPaused=!1,this._interceptionUrlMatchers=[],this.adopt(n),this.adopt(r),this._requestInterceptor=(e,t)=>{const n=this._interceptionUrlMatchers.some(e=>(0,O.urlMatches)(this._context._options.baseURL,t.url(),e)),r=this.connection.existingDispatcher(e);n&&!r?this._dispatchEvent("route",{route:new v.RouteDispatcher(v.RequestDispatcher.from(this,t),e)}):e.continue({isFallback:!0}).catch(()=>{})},this._context=t;const o=t=>{const n=g.ArtifactDispatcher.from(e,t);this._dispatchEvent("video",{artifact:n})};this.addObjectListener(m.BrowserContext.Events.VideoStarted,o);for(const e of t._browser._idToVideo.values())e.context===t&&o(e.artifact);for(const e of t.pages())this._dispatchEvent("page",{page:A.PageDispatcher.from(this,e)});if(this.addObjectListener(m.BrowserContext.Events.Page,e=>{this._dispatchEvent("page",{page:A.PageDispatcher.from(this,e)})}),this.addObjectListener(m.BrowserContext.Events.Close,()=>{this._dispatchEvent("close"),this._dispose()}),this.addObjectListener(m.BrowserContext.Events.PageError,(e,t)=>{this._dispatchEvent("pageError",{error:(0,x.serializeError)(e),page:A.PageDispatcher.from(this,t)})}),this.addObjectListener(m.BrowserContext.Events.Console,e=>{const t=e.page();if(this._shouldDispatchEvent(t,"console")){const n=A.PageDispatcher.from(this,t);this._dispatchEvent("console",{page:n,...n.serializeConsoleMessage(e)})}}),this._dialogHandler=e=>!!this._shouldDispatchEvent(e.page(),"dialog")&&(this._dispatchEvent("dialog",{dialog:new w.DialogDispatcher(this,e)}),!0),t.dialogManager.addDialogHandler(this._dialogHandler),"chromium"===t._browser.options.name){for(const e of t.serviceWorkers())this._dispatchEvent("serviceWorker",{worker:new A.WorkerDispatcher(this,e)});this.addObjectListener(_.CRBrowserContext.CREvents.ServiceWorker,e=>this._dispatchEvent("serviceWorker",{worker:new A.WorkerDispatcher(this,e)}))}this.addObjectListener(m.BrowserContext.Events.Request,e=>{if(!(e.redirectedFrom()&&this.connection.existingDispatcher(e.redirectedFrom())||this._shouldDispatchNetworkEvent(e,"request")||e.isNavigationRequest()))return;const t=v.RequestDispatcher.from(this,e);t.reportedThroughEvent=!0,this._dispatchEvent("request",{request:t,page:A.PageDispatcher.fromNullable(this,e.frame()?._page.initializedOrUndefined())})}),this.addObjectListener(m.BrowserContext.Events.Response,e=>{(this.connection.existingDispatcher(e.request())||this._shouldDispatchNetworkEvent(e.request(),"response"))&&this._dispatchEvent("response",{response:v.ResponseDispatcher.from(this,e),page:A.PageDispatcher.fromNullable(this,e.frame()?._page.initializedOrUndefined())})}),this.addObjectListener(m.BrowserContext.Events.RequestFailed,e=>{(this.connection.existingDispatcher(e)||this._shouldDispatchNetworkEvent(e,"requestFailed"))&&this._dispatchEvent("requestFailed",{request:v.RequestDispatcher.from(this,e),failureText:e._failureText||void 0,responseEndTiming:e._responseEndTiming,page:A.PageDispatcher.fromNullable(this,e.frame()?._page.initializedOrUndefined())})}),this.addObjectListener(m.BrowserContext.Events.RequestFinished,({request:e,response:t})=>{(this.connection.existingDispatcher(e)||this._shouldDispatchNetworkEvent(e,"requestFinished"))&&this._dispatchEvent("requestFinished",{request:v.RequestDispatcher.from(this,e),response:v.ResponseDispatcher.fromNullable(this,t),responseEndTiming:e._responseEndTiming,page:A.PageDispatcher.fromNullable(this,e.frame()?._page.initializedOrUndefined())})}),this.addObjectListener(m.BrowserContext.Events.RequestCollected,e=>{const t=this.connection.existingDispatcher(e);t&&!t.reportedThroughEvent&&t._dispose("gc")}),this.addObjectListener(m.BrowserContext.Events.RecorderEvent,({event:e,data:t,page:n,code:r})=>{this._dispatchEvent("recorderEvent",{event:e,data:t,code:r,page:A.PageDispatcher.from(this,n)})})}static from(e,t){return e.connection.existingDispatcher(t)||new B(e,t)}_shouldDispatchNetworkEvent(e,t){return this._shouldDispatchEvent(e.frame()?._page?.initializedOrUndefined(),t)}_shouldDispatchEvent(e,t){if(this._subscriptions.has(t))return!0;const n=e?this.connection.existingDispatcher(e):void 0;return!!n?._subscriptions.has(t)}async createTempFiles(e,t){const n=this._context._browser.options.artifactsDir,r=f.default.join(n,"upload-"+(0,k.createGuid)()),o=e.rootDirName?f.default.join(r,f.default.basename(e.rootDirName)):r;return await t.race(p.default.promises.mkdir(o,{recursive:!0})),this._context._tempDirs.push(r),{rootDir:e.rootDirName?new C.WritableStreamDispatcher(this,o):void 0,writableStreams:await Promise.all(e.items.map(async e=>{await t.race(p.default.promises.mkdir(f.default.dirname(f.default.join(o,e.name)),{recursive:!0}));const n=p.default.createWriteStream(f.default.join(o,e.name));return new C.WritableStreamDispatcher(this,n,e.lastModifiedMs)}))}}async exposeBinding(e,t){const n=await this._context.exposeBinding(t,e.name,!!e.needsHandle,(t,...n)=>{if(this._disposed)return;const r=A.PageDispatcher.from(this,t.page),o=new A.BindingCallDispatcher(r,e.name,!!e.needsHandle,t,n);return this._dispatchEvent("bindingCall",{binding:o}),o.promise()});this._bindings.push(n)}async newPage(e,t){return{page:A.PageDispatcher.from(this,await this._context.newPage(t))}}async cookies(e,t){return{cookies:await t.race(this._context.cookies(e.urls))}}async addCookies(e,t){await this._context.addCookies(e.cookies)}async clearCookies(e,t){const n=void 0!==e.nameRegexSource&&void 0!==e.nameRegexFlags?new RegExp(e.nameRegexSource,e.nameRegexFlags):void 0,r=void 0!==e.domainRegexSource&&void 0!==e.domainRegexFlags?new RegExp(e.domainRegexSource,e.domainRegexFlags):void 0,o=void 0!==e.pathRegexSource&&void 0!==e.pathRegexFlags?new RegExp(e.pathRegexSource,e.pathRegexFlags):void 0;await this._context.clearCookies({name:n||e.name,domain:r||e.domain,path:o||e.path})}async grantPermissions(e,t){await this._context.grantPermissions(e.permissions,e.origin)}async clearPermissions(e,t){await this._context.clearPermissions()}async setGeolocation(e,t){await this._context.setGeolocation(e.geolocation)}async setExtraHTTPHeaders(e,t){await this._context.setExtraHTTPHeaders(t,e.headers)}async setOffline(e,t){await this._context.setOffline(t,e.offline)}async setHTTPCredentials(e,t){await t.race(this._context.setHTTPCredentials(e.httpCredentials))}async addInitScript(e,t){this._initScripts.push(await this._context.addInitScript(t,e.source))}async setNetworkInterceptionPatterns(e,t){const n=this._interceptionUrlMatchers.length>0;e.patterns.length?(this._interceptionUrlMatchers=e.patterns.map(e=>e.regexSource?new RegExp(e.regexSource,e.regexFlags):e.glob),n||await this._context.addRequestInterceptor(t,this._requestInterceptor)):(n&&await this._context.removeRequestInterceptor(this._requestInterceptor),this._interceptionUrlMatchers=[])}async setWebSocketInterceptionPatterns(e,t){this._webSocketInterceptionPatterns=e.patterns,e.patterns.length&&!this._routeWebSocketInitScript&&(this._routeWebSocketInitScript=await E.WebSocketRouteDispatcher.install(t,this.connection,this._context))}async storageState(e,t){return await t.race(this._context.storageState(t,e.indexedDB))}async close(e,t){t.metadata.potentiallyClosesScope=!0,await this._context.close(e)}async enableRecorder(e,t){await I.RecorderApp.show(this._context,e)}async disableRecorder(e,t){const n=T.Recorder.existingForContext(this._context);n&&n.setMode("none")}async pause(e,t){}async newCDPSession(e,t){if(!this._object._browser.options.isChromium)throw new Error("CDP session is only available in Chromium");if(!e.page&&!e.frame||e.page&&e.frame)throw new Error("CDP session must be initiated with either Page or Frame, not none or both");const n=this._object;return{session:new b.CDPSessionDispatcher(this,await t.race(n.newCDPSession((e.page?e.page:e.frame)._object)))}}async harStart(e,t){return{harId:this._context.harStart(e.page?e.page._object:null,e.options)}}async harExport(e,t){const n=await t.race(this._context.harExport(e.harId));if(!n)throw new Error("No HAR artifact. Ensure record.harPath is set.");return{artifact:g.ArtifactDispatcher.from(this,n)}}async clockFastForward(e,t){await this._context.clock.fastForward(t,e.ticksString??e.ticksNumber??0)}async clockInstall(e,t){await this._context.clock.install(t,e.timeString??e.timeNumber??void 0)}async clockPauseAt(e,t){await this._context.clock.pauseAt(t,e.timeString??e.timeNumber??0),this._clockPaused=!0}async clockResume(e,t){await this._context.clock.resume(t),this._clockPaused=!1}async clockRunFor(e,t){await this._context.clock.runFor(t,e.ticksString??e.ticksNumber??0)}async clockSetFixedTime(e,t){await this._context.clock.setFixedTime(t,e.timeString??e.timeNumber??0)}async clockSetSystemTime(e,t){await this._context.clock.setSystemTime(t,e.timeString??e.timeNumber??0)}async updateSubscription(e,t){e.enabled?this._subscriptions.add(e.event):this._subscriptions.delete(e.event)}async registerSelectorEngine(e,t){this._object.selectors().register(e.selectorEngine)}async setTestIdAttributeName(e,t){this._object.selectors().setTestIdAttributeName(e.testIdAttributeName)}_onDispose(){this._context.isClosingOrClosed()||(this._context.dialogManager.removeDialogHandler(this._dialogHandler),this._interceptionUrlMatchers=[],this._context.removeRequestInterceptor(this._requestInterceptor).catch(()=>{}),this._context.removeExposedBindings(this._bindings).catch(()=>{}),this._bindings=[],this._context.removeInitScripts(this._initScripts).catch(()=>{}),this._initScripts=[],this._routeWebSocketInitScript&&E.WebSocketRouteDispatcher.uninstall(this.connection,this._context,this._routeWebSocketInitScript).catch(()=>{}),this._routeWebSocketInitScript=void 0,this._clockPaused&&this._context.clock.resumeNoReply(),this._clockPaused=!1)}}},"./node_modules/playwright-core/lib/server/dispatchers/browserDispatcher.js":(e,t,n)=>{"use strict";var r,o=Object.defineProperty,i=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,l={};((e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})})(l,{BrowserDispatcher:()=>m}),e.exports=(r=l,((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let n of s(t))a.call(e,n)||undefined===n||o(e,n,{get:()=>t[n],enumerable:!(r=i(t,n))||r.enumerable});return e})(o({},"__esModule",{value:!0}),r));var c=n("./node_modules/playwright-core/lib/server/browser.js"),u=n("./node_modules/playwright-core/lib/server/dispatchers/browserContextDispatcher.js"),d=n("./node_modules/playwright-core/lib/server/dispatchers/cdpSessionDispatcher.js"),h=n("./node_modules/playwright-core/lib/server/dispatchers/dispatcher.js"),p=n("./node_modules/playwright-core/lib/server/browserContext.js"),f=n("./node_modules/playwright-core/lib/server/dispatchers/artifactDispatcher.js");class m extends h.Dispatcher{constructor(e,t,n={}){if(super(e,t,"Browser",{version:t.version(),name:t.options.name}),this._type_Browser=!0,this._isolatedContexts=new Set,this._options=n,!n.isolateContexts){this.addObjectListener(c.Browser.Events.Context,e=>this._dispatchEvent("context",{context:u.BrowserContextDispatcher.from(this,e)})),this.addObjectListener(c.Browser.Events.Disconnected,()=>this._didClose()),t._defaultContext&&this._dispatchEvent("context",{context:u.BrowserContextDispatcher.from(this,t._defaultContext)});for(const e of t.contexts())this._dispatchEvent("context",{context:u.BrowserContextDispatcher.from(this,e)})}}_didClose(){this._dispatchEvent("close"),this._dispose()}async newContext(e,t){if(e.recordVideo&&this._object.attribution.playwright.options.isServer&&(e.recordVideo.dir=this._object.options.artifactsDir),!this._options.isolateContexts){const n=await this._object.newContext(t,e);return{context:u.BrowserContextDispatcher.from(this,n)}}const n=await this._object.newContext(t,e);this._isolatedContexts.add(n),n.on(p.BrowserContext.Events.Close,()=>this._isolatedContexts.delete(n));const r=u.BrowserContextDispatcher.from(this,n);return this._dispatchEvent("context",{context:r}),{context:r}}async newContextForReuse(e,t){const n=await this._object.newContextForReuse(t,e),r=u.BrowserContextDispatcher.from(this,n);return this._dispatchEvent("context",{context:r}),{context:r}}async disconnectFromReusedContext(e,t){const n=this._object.contextForReuse(),r=n?this.connection.existingDispatcher(n):void 0;r&&(await r.stopPendingOperations(new Error(e.reason)),r._dispose())}async close(e,t){this._options.ignoreStopAndKill||(t.metadata.potentiallyClosesScope=!0,await this._object.close(e))}async killForTests(e,t){this._options.ignoreStopAndKill||(t.metadata.potentiallyClosesScope=!0,await this._object.killForTests())}async defaultUserAgentForTest(){return{userAgent:this._object.userAgent()}}async newBrowserCDPSession(e,t){if(!this._object.options.isChromium)throw new Error("CDP session is only available in Chromium");const n=this._object;return{session:new d.CDPSessionDispatcher(this,await n.newBrowserCDPSession())}}async startTracing(e,t){if(!this._object.options.isChromium)throw new Error("Tracing is only available in Chromium");const n=this._object;await n.startTracing(e.page?e.page._object:void 0,e)}async stopTracing(e,t){if(!this._object.options.isChromium)throw new Error("Tracing is only available in Chromium");const n=this._object;return{artifact:f.ArtifactDispatcher.from(this,await n.stopTracing())}}async cleanupContexts(){await Promise.all(Array.from(this._isolatedContexts).map(e=>e.close({reason:"Global context cleanup (connection terminated)"})))}}},"./node_modules/playwright-core/lib/server/dispatchers/browserTypeDispatcher.js":(e,t,n)=>{"use strict";var r,o=Object.defineProperty,i=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,l={};((e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})})(l,{BrowserTypeDispatcher:()=>h}),e.exports=(r=l,((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let n of s(t))a.call(e,n)||undefined===n||o(e,n,{get:()=>t[n],enumerable:!(r=i(t,n))||r.enumerable});return e})(o({},"__esModule",{value:!0}),r));var c=n("./node_modules/playwright-core/lib/server/dispatchers/browserContextDispatcher.js"),u=n("./node_modules/playwright-core/lib/server/dispatchers/browserDispatcher.js"),d=n("./node_modules/playwright-core/lib/server/dispatchers/dispatcher.js");class h extends d.Dispatcher{constructor(e,t,n){super(e,t,"BrowserType",{executablePath:t.executablePath(),name:t.name()}),this._type_BrowserType=!0,this._denyLaunch=n}async launch(e,t){if(this._denyLaunch)throw new Error("Launching more browsers is not allowed.");const n=await this._object.launch(t,e);return{browser:new u.BrowserDispatcher(this,n)}}async launchPersistentContext(e,t){if(this._denyLaunch)throw new Error("Launching more browsers is not allowed.");const n=await this._object.launchPersistentContext(t,e.userDataDir,e),r=new u.BrowserDispatcher(this,n._browser);return{browser:r,context:c.BrowserContextDispatcher.from(r,n)}}async connectOverCDP(e,t){if(this._denyLaunch)throw new Error("Launching more browsers is not allowed.");const n=await this._object.connectOverCDP(t,e.endpointURL,e),r=new u.BrowserDispatcher(this,n);return{browser:r,defaultContext:n._defaultContext?c.BrowserContextDispatcher.from(r,n._defaultContext):void 0}}}},"./node_modules/playwright-core/lib/server/dispatchers/cdpSessionDispatcher.js":(e,t,n)=>{"use strict";var r,o=Object.defineProperty,i=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,l={};((e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})})(l,{CDPSessionDispatcher:()=>d}),e.exports=(r=l,((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let n of s(t))a.call(e,n)||undefined===n||o(e,n,{get:()=>t[n],enumerable:!(r=i(t,n))||r.enumerable});return e})(o({},"__esModule",{value:!0}),r));var c=n("./node_modules/playwright-core/lib/server/dispatchers/dispatcher.js"),u=n("./node_modules/playwright-core/lib/server/chromium/crConnection.js");class d extends c.Dispatcher{constructor(e,t){super(e,t,"CDPSession",{}),this._type_CDPSession=!0,this.addObjectListener(u.CDPSession.Events.Event,({method:e,params:t})=>this._dispatchEvent("event",{method:e,params:t})),this.addObjectListener(u.CDPSession.Events.Closed,()=>this._dispose())}async send(e,t){return{result:await t.race(this._object.send(e.method,e.params))}}async detach(e,t){t.metadata.potentiallyClosesScope=!0,await this._object.detach()}}},"./node_modules/playwright-core/lib/server/dispatchers/debugControllerDispatcher.js":(e,t,n)=>{"use strict";var r,o=Object.defineProperty,i=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,l={};((e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})})(l,{DebugControllerDispatcher:()=>h}),e.exports=(r=l,((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let n of s(t))a.call(e,n)||undefined===n||o(e,n,{get:()=>t[n],enumerable:!(r=i(t,n))||r.enumerable});return e})(o({},"__esModule",{value:!0}),r));var c=n("./node_modules/playwright-core/lib/utils.js"),u=n("./node_modules/playwright-core/lib/server/debugController.js"),d=n("./node_modules/playwright-core/lib/server/dispatchers/dispatcher.js");class h extends d.Dispatcher{constructor(e,t){super(e,t,"DebugController",{}),this._type_DebugController=!0,this._listeners=[c.eventsHelper.addEventListener(this._object,u.DebugController.Events.StateChanged,e=>{this._dispatchEvent("stateChanged",e)}),c.eventsHelper.addEventListener(this._object,u.DebugController.Events.InspectRequested,({selector:e,locator:t,ariaSnapshot:n})=>{this._dispatchEvent("inspectRequested",{selector:e,locator:t,ariaSnapshot:n})}),c.eventsHelper.addEventListener(this._object,u.DebugController.Events.SourceChanged,({text:e,header:t,footer:n,actions:r})=>{this._dispatchEvent("sourceChanged",{text:e,header:t,footer:n,actions:r})}),c.eventsHelper.addEventListener(this._object,u.DebugController.Events.Paused,({paused:e})=>{this._dispatchEvent("paused",{paused:e})}),c.eventsHelper.addEventListener(this._object,u.DebugController.Events.SetModeRequested,({mode:e})=>{this._dispatchEvent("setModeRequested",{mode:e})})]}async initialize(e,t){this._object.initialize(e.codegenId,e.sdkLanguage)}async setReportStateChanged(e,t){this._object.setReportStateChanged(e.enabled)}async setRecorderMode(e,t){await this._object.setRecorderMode(t,e)}async highlight(e,t){await this._object.highlight(t,e)}async hideHighlight(e,t){await this._object.hideHighlight(t)}async resume(e,t){await this._object.resume(t)}async kill(e,t){this._object.kill()}async closeBrowser(e,t){await this._object.closeBrowser(t,e.id,e.reason)}_onDispose(){c.eventsHelper.removeEventListeners(this._listeners),this._object.dispose()}}},"./node_modules/playwright-core/lib/server/dispatchers/dialogDispatcher.js":(e,t,n)=>{"use strict";var r,o=Object.defineProperty,i=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,l={};((e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})})(l,{DialogDispatcher:()=>d}),e.exports=(r=l,((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let n of s(t))a.call(e,n)||undefined===n||o(e,n,{get:()=>t[n],enumerable:!(r=i(t,n))||r.enumerable});return e})(o({},"__esModule",{value:!0}),r));var c=n("./node_modules/playwright-core/lib/server/dispatchers/dispatcher.js"),u=n("./node_modules/playwright-core/lib/server/dispatchers/pageDispatcher.js");class d extends c.Dispatcher{constructor(e,t){const n=u.PageDispatcher.fromNullable(e,t.page().initializedOrUndefined());super(n||e,t,"Dialog",{page:n,type:t.type(),message:t.message(),defaultValue:t.defaultValue()}),this._type_Dialog=!0}async accept(e,t){await t.race(this._object.accept(e.promptText))}async dismiss(e,t){await t.race(this._object.dismiss())}}},"./node_modules/playwright-core/lib/server/dispatchers/dispatcher.js":(e,t,n)=>{"use strict";var r,o=Object.defineProperty,i=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,l={};((e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})})(l,{Dispatcher:()=>x,DispatcherConnection:()=>E,RootDispatcher:()=>S,setMaxDispatchersForTest:()=>_}),e.exports=(r=l,((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let n of s(t))a.call(e,n)||undefined===n||o(e,n,{get:()=>t[n],enumerable:!(r=i(t,n))||r.enumerable});return e})(o({},"__esModule",{value:!0}),r));var c=n("events"),u=n("./node_modules/playwright-core/lib/server/utils/eventsHelper.js"),d=n("./node_modules/playwright-core/lib/protocol/validator.js"),h=n("./node_modules/playwright-core/lib/utils.js"),p=n("./node_modules/playwright-core/lib/server/utils/debug.js"),f=n("./node_modules/playwright-core/lib/server/errors.js"),m=n("./node_modules/playwright-core/lib/server/instrumentation.js"),g=n("./node_modules/playwright-core/lib/server/protocolError.js"),b=n("./node_modules/playwright-core/lib/server/callLog.js"),w=n("./node_modules/playwright-core/lib/utils/isomorphic/protocolMetainfo.js"),y=n("./node_modules/playwright-core/lib/server/progress.js");const v=(0,d.createMetadataValidator)();let A;function _(e){A=e}class x extends c.EventEmitter{constructor(e,t,n,r,o){super(),this._dispatchers=new Map,this._disposed=!1,this._eventListeners=[],this._activeProgressControllers=new Set,this.connection=e instanceof E?e:e.connection,this._parent=e instanceof E?void 0:e;const i=t.guid;this._guid=i,this._type=n,this._object=t,this._gcBucket=o??n,this.connection.registerDispatcher(this),this._parent&&((0,h.assert)(!this._parent._dispatchers.has(i)),this._parent._dispatchers.set(i,this)),this._parent&&this.connection.sendCreate(this._parent,n,i,r),this.connection.maybeDisposeStaleDispatchers(this._gcBucket)}parentScope(){return this._parent}addObjectListener(e,t){this._eventListeners.push(u.eventsHelper.addEventListener(this._object,e,t))}adopt(e){e._parent!==this&&(e._parent._dispatchers.delete(e._guid),this._dispatchers.set(e._guid,e),e._parent=this,this.connection.sendAdopt(this,e))}async _runCommand(e,t,n){const r=new y.ProgressController(e,t=>{const n=this._object.logName||"api";h.debugLogger.log(n,t),this._object.instrumentation.onCallLog(this._object,e,n,t)});this._activeProgressControllers.add(r);try{return await r.run(e=>this[t](n,e),n?.timeout)}finally{this._activeProgressControllers.delete(r)}}_dispatchEvent(e,t){if(this._disposed){if((0,p.isUnderTest)())throw new Error(`${this._guid} is sending "${String(e)}" event after being disposed`)}else this.connection.sendEvent(this,e,t)}_dispose(e){this._disposeRecursively(new f.TargetClosedError),this.connection.sendDispose(this,e)}_onDispose(){}async stopPendingOperations(e){const t=[],n=e=>{t.push(...e._activeProgressControllers);for(const t of[...e._dispatchers.values()])n(t)};n(this),await Promise.all(t.map(t=>t.abort(e)))}_disposeRecursively(e){(0,h.assert)(!this._disposed,`${this._guid} is disposed more than once`);for(const t of this._activeProgressControllers)t.metadata.potentiallyClosesScope||t.abort(e).catch(()=>{});this._onDispose(),this._disposed=!0,u.eventsHelper.removeEventListeners(this._eventListeners),this._parent?._dispatchers.delete(this._guid);const t=this.connection._dispatchersByBucket.get(this._gcBucket);t?.delete(this._guid),this.connection._dispatcherByGuid.delete(this._guid),this.connection._dispatcherByObject.delete(this._object);for(const t of[...this._dispatchers.values()])t._disposeRecursively(e);this._dispatchers.clear()}_debugScopeState(){return{_guid:this._guid,objects:Array.from(this._dispatchers.values()).map(e=>e._debugScopeState())}}async waitForEventInfo(){}}class S extends x{constructor(e,t){super(e,(0,m.createRootSdkObject)(),"Root",{}),this.createPlaywright=t,this._initialized=!1}async initialize(e,t){return(0,h.assert)(this.createPlaywright),(0,h.assert)(!this._initialized),this._initialized=!0,{playwright:await this.createPlaywright(this,e)}}}class E{constructor(e){this._dispatcherByGuid=new Map,this._dispatcherByObject=new Map,this._dispatchersByBucket=new Map,this.onmessage=e=>{},this._waitOperations=new Map,this._isLocal=!!e}sendEvent(e,t,n){n=(0,d.findValidator)(e._type,t,"Event")(n,"",this._validatorToWireContext()),this.onmessage({guid:e._guid,method:t,params:n})}sendCreate(e,t,n,r){r=(0,d.findValidator)(t,"","Initializer")(r,"",this._validatorToWireContext()),this.onmessage({guid:e._guid,method:"__create__",params:{type:t,initializer:r,guid:n}})}sendAdopt(e,t){this.onmessage({guid:e._guid,method:"__adopt__",params:{guid:t._guid}})}sendDispose(e,t){this.onmessage({guid:e._guid,method:"__dispose__",params:{reason:t}})}_validatorToWireContext(){return{tChannelImpl:this._tChannelImplToWire.bind(this),binary:this._isLocal?"buffer":"toBase64",isUnderTest:p.isUnderTest}}_validatorFromWireContext(){return{tChannelImpl:this._tChannelImplFromWire.bind(this),binary:this._isLocal?"buffer":"fromBase64",isUnderTest:p.isUnderTest}}_tChannelImplFromWire(e,t,n,r){if(t&&"object"==typeof t&&"string"==typeof t.guid){const r=t.guid,o=this._dispatcherByGuid.get(r);if(!o)throw new d.ValidationError(`${n}: no object with guid ${r}`);if("*"!==e&&!e.includes(o._type))throw new d.ValidationError(`${n}: object with guid ${r} has type ${o._type}, expected ${e.toString()}`);return o}throw new d.ValidationError(`${n}: expected guid for ${e.toString()}`)}_tChannelImplToWire(e,t,n,r){if(t instanceof x){if("*"!==e&&!e.includes(t._type))throw new d.ValidationError(`${n}: dispatcher with guid ${t._guid} has type ${t._type}, expected ${e.toString()}`);return{guid:t._guid}}throw new d.ValidationError(`${n}: expected dispatcher ${e.toString()}`)}existingDispatcher(e){return this._dispatcherByObject.get(e)}registerDispatcher(e){(0,h.assert)(!this._dispatcherByGuid.has(e._guid)),this._dispatcherByGuid.set(e._guid,e),this._dispatcherByObject.set(e._object,e);let t=this._dispatchersByBucket.get(e._gcBucket);t||(t=new Set,this._dispatchersByBucket.set(e._gcBucket,t)),t.add(e._guid)}maybeDisposeStaleDispatchers(e){const t=function(e){return A??{JSHandle:1e5,ElementHandle:1e5}[e]??1e4}(e),n=this._dispatchersByBucket.get(e);if(!n||n.size<=t)return;const r=[...n],o=t/10|0;this._dispatchersByBucket.set(e,new Set(r.slice(o)));for(let e=0;e<o;++e){const t=this._dispatcherByGuid.get(r[e]);t&&t._dispose("gc")}}async dispatch(e){const{id:t,guid:n,method:r,params:o,metadata:i}=e,s=this._dispatcherByGuid.get(n);if(!s)return void this.onmessage({id:t,error:(0,f.serializeError)(new f.TargetClosedError)});let a,l;try{const e=(0,d.findValidator)(s._type,r,"Params"),t=this._validatorFromWireContext();if(a=e(o,"",t),l=v(i,"",t),"function"!=typeof s[r])throw new Error(`Mismatching dispatcher: "${s._type}" does not implement "${r}"`)}catch(e){return void this.onmessage({id:t,error:(0,f.serializeError)(e)})}const c=w.methodMetainfo.get(s._type+"."+r);c?.internal&&(l.internal=!0);const u=s._object,p={id:`call@${t}`,location:l.location,title:l.title,internal:l.internal,stepId:l.stepId,objectId:u.guid,pageId:u.attribution?.page?.guid,frameId:u.attribution?.frame?.guid,startTime:(0,h.monotonicTime)(),endTime:0,type:s._type,method:r,params:o||{},log:[]};if(o?.info?.waitId){const e=o.info;switch(e.phase){case"before":return this._waitOperations.set(e.waitId,p),await u.instrumentation.onBeforeCall(u,p),void this.onmessage({id:t});case"log":{const n=this._waitOperations.get(e.waitId);return n.log.push(e.message),u.instrumentation.onCallLog(u,n,"api",e.message),void this.onmessage({id:t})}case"after":{const n=this._waitOperations.get(e.waitId);return n.endTime=(0,h.monotonicTime)(),n.error=e.error?{error:{name:"Error",message:e.error}}:void 0,this._waitOperations.delete(e.waitId),await u.instrumentation.onAfterCall(u,n),void this.onmessage({id:t})}}}await u.instrumentation.onBeforeCall(u,p);const m={id:t};try{if(this._dispatcherByGuid.get(n)!==s)throw new f.TargetClosedError(C(u));const e=await s._runCommand(p,r,a),t=(0,d.findValidator)(s._type,r,"Result");m.result=t(e,"",this._validatorToWireContext()),p.result=e}catch(e){if((0,f.isTargetClosedError)(e)){const t=C(u);t&&(0,h.rewriteErrorMessage)(e,t)}else(0,g.isProtocolError)(e)&&("closed"===e.type?e=new f.TargetClosedError(C(u),e.browserLogMessage()):"crashed"===e.type&&(0,h.rewriteErrorMessage)(e,"Target crashed "+e.browserLogMessage()));m.error=(0,f.serializeError)(e),p.error=m.error}finally{p.endTime=(0,h.monotonicTime)(),await u.instrumentation.onAfterCall(u,p),c?.slowMo&&await this._doSlowMo(u)}m.error&&(m.log=(0,b.compressCallLog)(p.log)),this.onmessage(m)}async _doSlowMo(e){const t=e.attribution.browser?.options.slowMo;t&&await new Promise(e=>setTimeout(e,t))}}function C(e){return e.attribution.page?.closeReason||e.attribution.context?._closeReason||e.attribution.browser?._closeReason}},"./node_modules/playwright-core/lib/server/dispatchers/electronDispatcher.js":(e,t,n)=>{"use strict";var r,o=Object.defineProperty,i=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,l={};((e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})})(l,{ElectronApplicationDispatcher:()=>f,ElectronDispatcher:()=>p}),e.exports=(r=l,((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let n of s(t))a.call(e,n)||undefined===n||o(e,n,{get:()=>t[n],enumerable:!(r=i(t,n))||r.enumerable});return e})(o({},"__esModule",{value:!0}),r));var c=n("./node_modules/playwright-core/lib/server/dispatchers/browserContextDispatcher.js"),u=n("./node_modules/playwright-core/lib/server/dispatchers/dispatcher.js"),d=n("./node_modules/playwright-core/lib/server/dispatchers/jsHandleDispatcher.js"),h=n("./node_modules/playwright-core/lib/server/electron/electron.js");class p extends u.Dispatcher{constructor(e,t,n){super(e,t,"Electron",{}),this._type_Electron=!0,this._denyLaunch=n}async launch(e,t){if(this._denyLaunch)throw new Error("Launching more browsers is not allowed.");const n=await this._object.launch(t,e);return{electronApplication:new f(this,n)}}}class f extends u.Dispatcher{constructor(e,t){super(e,t,"ElectronApplication",{context:c.BrowserContextDispatcher.from(e,t.context())}),this._type_EventTarget=!0,this._type_ElectronApplication=!0,this._subscriptions=new Set,this.addObjectListener(h.ElectronApplication.Events.Close,()=>{this._dispatchEvent("close"),this._dispose()}),this.addObjectListener(h.ElectronApplication.Events.Console,e=>{this._subscriptions.has("console")&&this._dispatchEvent("console",{type:e.type(),text:e.text(),args:e.args().map(e=>d.JSHandleDispatcher.fromJSHandle(this,e)),location:e.location()})})}async browserWindow(e,t){const n=await t.race(this._object.browserWindow(e.page.page()));return{handle:d.JSHandleDispatcher.fromJSHandle(this,n)}}async evaluateExpression(e,t){const n=await t.race(this._object._nodeElectronHandlePromise);return{value:(0,d.serializeResult)(await t.race(n.evaluateExpression(e.expression,{isFunction:e.isFunction},(0,d.parseArgument)(e.arg))))}}async evaluateExpressionHandle(e,t){const n=await t.race(this._object._nodeElectronHandlePromise),r=await t.race(n.evaluateExpressionHandle(e.expression,{isFunction:e.isFunction},(0,d.parseArgument)(e.arg)));return{handle:d.JSHandleDispatcher.fromJSHandle(this,r)}}async updateSubscription(e,t){e.enabled?this._subscriptions.add(e.event):this._subscriptions.delete(e.event)}}},"./node_modules/playwright-core/lib/server/dispatchers/elementHandlerDispatcher.js":(e,t,n)=>{"use strict";var r,o=Object.defineProperty,i=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,l={};((e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})})(l,{ElementHandleDispatcher:()=>h}),e.exports=(r=l,((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let n of s(t))a.call(e,n)||undefined===n||o(e,n,{get:()=>t[n],enumerable:!(r=i(t,n))||r.enumerable});return e})(o({},"__esModule",{value:!0}),r));var c=n("./node_modules/playwright-core/lib/server/dispatchers/browserContextDispatcher.js"),u=n("./node_modules/playwright-core/lib/server/dispatchers/frameDispatcher.js"),d=n("./node_modules/playwright-core/lib/server/dispatchers/jsHandleDispatcher.js");class h extends d.JSHandleDispatcher{constructor(e,t){super(e,t),this._type_ElementHandle=!0,this._elementHandle=t}static from(e,t){return e.connection.existingDispatcher(t)||new h(e,t)}static fromNullable(e,t){if(t)return e.connection.existingDispatcher(t)||new h(e,t)}static fromJSOrElementHandle(e,t){const n=e.connection.existingDispatcher(t);if(n)return n;const r=t.asElement();return r?new h(e,r):new d.JSHandleDispatcher(e,t)}async ownerFrame(e,t){const n=await this._elementHandle.ownerFrame();return{frame:n?u.FrameDispatcher.from(this._browserContextDispatcher(),n):void 0}}async contentFrame(e,t){const n=await t.race(this._elementHandle.contentFrame());return{frame:n?u.FrameDispatcher.from(this._browserContextDispatcher(),n):void 0}}async getAttribute(e,t){const n=await this._elementHandle.getAttribute(t,e.name);return{value:null===n?void 0:n}}async inputValue(e,t){return{value:await this._elementHandle.inputValue(t)}}async textContent(e,t){const n=await this._elementHandle.textContent(t);return{value:null===n?void 0:n}}async innerText(e,t){return{value:await this._elementHandle.innerText(t)}}async innerHTML(e,t){return{value:await this._elementHandle.innerHTML(t)}}async isChecked(e,t){return{value:await this._elementHandle.isChecked(t)}}async isDisabled(e,t){return{value:await this._elementHandle.isDisabled(t)}}async isEditable(e,t){return{value:await this._elementHandle.isEditable(t)}}async isEnabled(e,t){return{value:await this._elementHandle.isEnabled(t)}}async isHidden(e,t){return{value:await this._elementHandle.isHidden(t)}}async isVisible(e,t){return{value:await this._elementHandle.isVisible(t)}}async dispatchEvent(e,t){await this._elementHandle.dispatchEvent(t,e.type,(0,d.parseArgument)(e.eventInit))}async scrollIntoViewIfNeeded(e,t){await this._elementHandle.scrollIntoViewIfNeeded(t)}async hover(e,t){return await this._elementHandle.hover(t,e)}async click(e,t){return await this._elementHandle.click(t,e)}async dblclick(e,t){return await this._elementHandle.dblclick(t,e)}async tap(e,t){return await this._elementHandle.tap(t,e)}async selectOption(e,t){const n=(e.elements||[]).map(e=>e._elementHandle);return{values:await this._elementHandle.selectOption(t,n,e.options||[],e)}}async fill(e,t){return await this._elementHandle.fill(t,e.value,e)}async selectText(e,t){await this._elementHandle.selectText(t,e)}async setInputFiles(e,t){return await this._elementHandle.setInputFiles(t,e)}async focus(e,t){await this._elementHandle.focus(t)}async type(e,t){return await this._elementHandle.type(t,e.text,e)}async press(e,t){return await this._elementHandle.press(t,e.key,e)}async check(e,t){return await this._elementHandle.check(t,e)}async uncheck(e,t){return await this._elementHandle.uncheck(t,e)}async boundingBox(e,t){return{value:await t.race(this._elementHandle.boundingBox())||void 0}}async screenshot(e,t){const n=(e.mask||[]).map(({frame:e,selector:t})=>({frame:e._object,selector:t}));return{binary:await this._elementHandle.screenshot(t,{...e,mask:n})}}async querySelector(e,t){const n=await t.race(this._elementHandle.querySelector(e.selector,e));return{element:h.fromNullable(this.parentScope(),n)}}async querySelectorAll(e,t){return{elements:(await t.race(this._elementHandle.querySelectorAll(e.selector))).map(e=>h.from(this.parentScope(),e))}}async evalOnSelector(e,t){return{value:(0,d.serializeResult)(await t.race(this._elementHandle.evalOnSelector(e.selector,!!e.strict,e.expression,e.isFunction,(0,d.parseArgument)(e.arg))))}}async evalOnSelectorAll(e,t){return{value:(0,d.serializeResult)(await t.race(this._elementHandle.evalOnSelectorAll(e.selector,e.expression,e.isFunction,(0,d.parseArgument)(e.arg))))}}async waitForElementState(e,t){await this._elementHandle.waitForElementState(t,e.state)}async waitForSelector(e,t){return{element:h.fromNullable(this.parentScope(),await this._elementHandle.waitForSelector(t,e.selector,e))}}_browserContextDispatcher(){const e=this.parentScope().parentScope();return e instanceof c.BrowserContextDispatcher?e:e.parentScope()}}},"./node_modules/playwright-core/lib/server/dispatchers/frameDispatcher.js":(e,t,n)=>{"use strict";var r,o=Object.defineProperty,i=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,l={};((e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})})(l,{FrameDispatcher:()=>b}),e.exports=(r=l,((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let n of s(t))a.call(e,n)||undefined===n||o(e,n,{get:()=>t[n],enumerable:!(r=i(t,n))||r.enumerable});return e})(o({},"__esModule",{value:!0}),r));var c=n("./node_modules/playwright-core/lib/server/frames.js"),u=n("./node_modules/playwright-core/lib/server/dispatchers/dispatcher.js"),d=n("./node_modules/playwright-core/lib/server/dispatchers/elementHandlerDispatcher.js"),h=n("./node_modules/playwright-core/lib/server/dispatchers/jsHandleDispatcher.js"),p=n("./node_modules/playwright-core/lib/server/dispatchers/networkDispatchers.js"),f=n("./node_modules/playwright-core/lib/server/dispatchers/networkDispatchers.js"),m=n("./node_modules/playwright-core/lib/utils/isomorphic/ariaSnapshot.js"),g=n("./node_modules/playwright-core/lib/utilsBundle.js");class b extends u.Dispatcher{constructor(e,t){const n=t._page.mainFrame()===t?"MainFrame":"Frame";super(e.connection.existingDispatcher(t._page)||e,t,"Frame",{url:t.url(),name:t.name(),parentFrame:b.fromNullable(e,t.parentFrame()),loadStates:Array.from(t._firedLifecycleEvents)},n),this._type_Frame=!0,this._browserContextDispatcher=e,this._frame=t,this.addObjectListener(c.Frame.Events.AddLifecycle,e=>{this._dispatchEvent("loadstate",{add:e})}),this.addObjectListener(c.Frame.Events.RemoveLifecycle,e=>{this._dispatchEvent("loadstate",{remove:e})}),this.addObjectListener(c.Frame.Events.InternalNavigation,e=>{if(!e.isPublic)return;const t={url:e.url,name:e.name,error:e.error?e.error.message:void 0};e.newDocument&&(t.newDocument={request:f.RequestDispatcher.fromNullable(this._browserContextDispatcher,e.newDocument.request||null)}),this._dispatchEvent("navigated",t)})}static from(e,t){return e.connection.existingDispatcher(t)||new b(e,t)}static fromNullable(e,t){if(t)return b.from(e,t)}async goto(e,t){return{response:p.ResponseDispatcher.fromNullable(this._browserContextDispatcher,await this._frame.goto(t,e.url,e))}}async frameElement(e,t){return{element:d.ElementHandleDispatcher.from(this,await t.race(this._frame.frameElement()))}}async evaluateExpression(e,t){return{value:(0,h.serializeResult)(await t.race(this._frame.evaluateExpression(e.expression,{isFunction:e.isFunction},(0,h.parseArgument)(e.arg))))}}async evaluateExpressionHandle(e,t){return{handle:d.ElementHandleDispatcher.fromJSOrElementHandle(this,await t.race(this._frame.evaluateExpressionHandle(e.expression,{isFunction:e.isFunction},(0,h.parseArgument)(e.arg))))}}async waitForSelector(e,t){return{element:d.ElementHandleDispatcher.fromNullable(this,await this._frame.waitForSelector(t,e.selector,!0,e))}}async dispatchEvent(e,t){return this._frame.dispatchEvent(t,e.selector,e.type,(0,h.parseArgument)(e.eventInit),e)}async evalOnSelector(e,t){return{value:(0,h.serializeResult)(await t.race(this._frame.evalOnSelector(e.selector,!!e.strict,e.expression,e.isFunction,(0,h.parseArgument)(e.arg))))}}async evalOnSelectorAll(e,t){return{value:(0,h.serializeResult)(await t.race(this._frame.evalOnSelectorAll(e.selector,e.expression,e.isFunction,(0,h.parseArgument)(e.arg))))}}async querySelector(e,t){return{element:d.ElementHandleDispatcher.fromNullable(this,await t.race(this._frame.querySelector(e.selector,e)))}}async querySelectorAll(e,t){return{elements:(await t.race(this._frame.querySelectorAll(e.selector))).map(e=>d.ElementHandleDispatcher.from(this,e))}}async queryCount(e,t){return{value:await t.race(this._frame.queryCount(e.selector,e))}}async content(e,t){return{value:await t.race(this._frame.content())}}async setContent(e,t){return await this._frame.setContent(t,e.html,e)}async addScriptTag(e,t){return{element:d.ElementHandleDispatcher.from(this,await t.race(this._frame.addScriptTag(e)))}}async addStyleTag(e,t){return{element:d.ElementHandleDispatcher.from(this,await t.race(this._frame.addStyleTag(e)))}}async click(e,t){return t.metadata.potentiallyClosesScope=!0,await this._frame.click(t,e.selector,e)}async dblclick(e,t){return await this._frame.dblclick(t,e.selector,e)}async dragAndDrop(e,t){return await this._frame.dragAndDrop(t,e.source,e.target,e)}async tap(e,t){return await this._frame.tap(t,e.selector,e)}async fill(e,t){return await this._frame.fill(t,e.selector,e.value,e)}async focus(e,t){await this._frame.focus(t,e.selector,e)}async blur(e,t){await this._frame.blur(t,e.selector,e)}async textContent(e,t){const n=await this._frame.textContent(t,e.selector,e);return{value:null===n?void 0:n}}async innerText(e,t){return{value:await this._frame.innerText(t,e.selector,e)}}async innerHTML(e,t){return{value:await this._frame.innerHTML(t,e.selector,e)}}async resolveSelector(e,t){return await this._frame.resolveSelector(t,e.selector)}async getAttribute(e,t){const n=await this._frame.getAttribute(t,e.selector,e.name,e);return{value:null===n?void 0:n}}async inputValue(e,t){return{value:await this._frame.inputValue(t,e.selector,e)}}async isChecked(e,t){return{value:await this._frame.isChecked(t,e.selector,e)}}async isDisabled(e,t){return{value:await this._frame.isDisabled(t,e.selector,e)}}async isEditable(e,t){return{value:await this._frame.isEditable(t,e.selector,e)}}async isEnabled(e,t){return{value:await this._frame.isEnabled(t,e.selector,e)}}async isHidden(e,t){return{value:await this._frame.isHidden(t,e.selector,e)}}async isVisible(e,t){return{value:await this._frame.isVisible(t,e.selector,e)}}async hover(e,t){return await this._frame.hover(t,e.selector,e)}async selectOption(e,t){const n=(e.elements||[]).map(e=>e._elementHandle);return{values:await this._frame.selectOption(t,e.selector,n,e.options||[],e)}}async setInputFiles(e,t){return await this._frame.setInputFiles(t,e.selector,e)}async type(e,t){return await this._frame.type(t,e.selector,e.text,e)}async press(e,t){return await this._frame.press(t,e.selector,e.key,e)}async check(e,t){return await this._frame.check(t,e.selector,e)}async uncheck(e,t){return await this._frame.uncheck(t,e.selector,e)}async waitForTimeout(e,t){return await this._frame.waitForTimeout(t,e.waitTimeout)}async waitForFunction(e,t){return{handle:d.ElementHandleDispatcher.fromJSOrElementHandle(this,await this._frame.waitForFunctionExpression(t,e.expression,e.isFunction,(0,h.parseArgument)(e.arg),e))}}async title(e,t){return{value:await t.race(this._frame.title())}}async highlight(e,t){return await this._frame.highlight(t,e.selector)}async expect(e,t){t.metadata.potentiallyClosesScope=!0;let n=e.expectedValue?(0,h.parseArgument)(e.expectedValue):void 0;"to.match.aria"===e.expression&&n&&(n=(0,m.parseAriaSnapshotUnsafe)(g.yaml,n));const r=await this._frame.expect(t,e.selector,{...e,expectedValue:n},e.timeout);return void 0!==r.received&&(r.received=(0,h.serializeResult)(r.received)),r}async ariaSnapshot(e,t){return{snapshot:await this._frame.ariaSnapshot(t,e.selector)}}}},"./node_modules/playwright-core/lib/server/dispatchers/jsHandleDispatcher.js":(e,t,n)=>{"use strict";var r,o=Object.defineProperty,i=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,l={};((e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})})(l,{JSHandleDispatcher:()=>h,parseArgument:()=>p,parseValue:()=>f,serializeResult:()=>m}),e.exports=(r=l,((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let n of s(t))a.call(e,n)||undefined===n||o(e,n,{get:()=>t[n],enumerable:!(r=i(t,n))||r.enumerable});return e})(o({},"__esModule",{value:!0}),r));var c=n("./node_modules/playwright-core/lib/server/dispatchers/dispatcher.js"),u=n("./node_modules/playwright-core/lib/server/dispatchers/elementHandlerDispatcher.js"),d=n("./node_modules/playwright-core/lib/protocol/serializers.js");class h extends c.Dispatcher{constructor(e,t){super(e,t,t.asElement()?"ElementHandle":"JSHandle",{preview:t.toString()}),this._type_JSHandle=!0,t._setPreviewCallback(e=>this._dispatchEvent("previewUpdated",{preview:e}))}static fromJSHandle(e,t){return e.connection.existingDispatcher(t)||new h(e,t)}async evaluateExpression(e,t){return{value:m(await t.race(this._object.evaluateExpression(e.expression,{isFunction:e.isFunction},p(e.arg))))}}async evaluateExpressionHandle(e,t){const n=await t.race(this._object.evaluateExpressionHandle(e.expression,{isFunction:e.isFunction},p(e.arg)));return{handle:u.ElementHandleDispatcher.fromJSOrElementHandle(this.parentScope(),n)}}async getProperty(e,t){const n=await t.race(this._object.getProperty(e.name));return{handle:u.ElementHandleDispatcher.fromJSOrElementHandle(this.parentScope(),n)}}async getPropertyList(e,t){const n=await t.race(this._object.getProperties()),r=[];for(const[e,t]of n)r.push({name:e,value:u.ElementHandleDispatcher.fromJSOrElementHandle(this.parentScope(),t)});return{properties:r}}async jsonValue(e,t){return{value:m(await t.race(this._object.jsonValue()))}}async dispose(e,t){t.metadata.potentiallyClosesScope=!0,this._object.dispose(),this._dispose()}}function p(e){return(0,d.parseSerializedValue)(e.value,e.handles.map(e=>e._object))}function f(e){return(0,d.parseSerializedValue)(e,[])}function m(e){return(0,d.serializeValue)(e,e=>({fallThrough:e}))}},"./node_modules/playwright-core/lib/server/dispatchers/jsonPipeDispatcher.js":(e,t,n)=>{"use strict";var r,o=Object.defineProperty,i=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,l={};((e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})})(l,{JsonPipeDispatcher:()=>d}),e.exports=(r=l,((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let n of s(t))a.call(e,n)||undefined===n||o(e,n,{get:()=>t[n],enumerable:!(r=i(t,n))||r.enumerable});return e})(o({},"__esModule",{value:!0}),r));var c=n("./node_modules/playwright-core/lib/server/dispatchers/dispatcher.js"),u=n("./node_modules/playwright-core/lib/server/instrumentation.js");class d extends c.Dispatcher{constructor(e){super(e,new u.SdkObject(e._object,"jsonPipe"),"JsonPipe",{}),this._type_JsonPipe=!0}async send(e,t){this.emit("message",e.message)}async close(e,t){this.emit("close"),this._disposed||(this._dispatchEvent("closed",{}),this._dispose())}dispatch(e){this._disposed||this._dispatchEvent("message",{message:e})}wasClosed(e){this._disposed||(this._dispatchEvent("closed",{reason:e}),this._dispose())}dispose(){this._dispose()}}},"./node_modules/playwright-core/lib/server/dispatchers/localUtilsDispatcher.js":(e,t,n)=>{"use strict";var r,o=Object.create,i=Object.defineProperty,s=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,l=Object.getPrototypeOf,c=Object.prototype.hasOwnProperty,u=(e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let o of a(t))c.call(e,o)||o===n||i(e,o,{get:()=>t[o],enumerable:!(r=s(t,o))||r.enumerable});return e},d={};((e,t)=>{for(var n in t)i(e,n,{get:t[n],enumerable:!0})})(d,{LocalUtilsDispatcher:()=>_}),e.exports=(r=d,u(i({},"__esModule",{value:!0}),r));var h=n("./node_modules/playwright-core/lib/server/dispatchers/dispatcher.js"),p=n("./node_modules/playwright-core/lib/server/instrumentation.js"),f=((e,t,n)=>(n=null!=e?o(l(e)):{},u(e&&e.__esModule?n:i(n,"default",{value:e,enumerable:!0}),e)))(n("./node_modules/playwright-core/lib/server/localUtils.js")),m=n("./node_modules/playwright-core/lib/server/utils/userAgent.js"),g=n("./node_modules/playwright-core/lib/server/deviceDescriptors.js"),b=n("./node_modules/playwright-core/lib/server/dispatchers/jsonPipeDispatcher.js"),w=n("./node_modules/playwright-core/lib/server/socksInterceptor.js"),y=n("./node_modules/playwright-core/lib/server/transport.js"),v=n("./node_modules/playwright-core/lib/server/utils/network.js"),A=n("./node_modules/playwright-core/lib/utils/isomorphic/urlMatch.js");class _ extends h.Dispatcher{constructor(e,t){const n=new p.SdkObject(t,"localUtils","localUtils");n.logName="browser",super(e,n,"LocalUtils",{deviceDescriptors:Object.entries(g.deviceDescriptors).map(([e,t])=>({name:e,descriptor:t}))}),this._harBackends=new Map,this._stackSessions=new Map,this._type_LocalUtils=!0}async zip(e,t){return await f.zip(t,this._stackSessions,e)}async harOpen(e,t){return await f.harOpen(t,this._harBackends,e)}async harLookup(e,t){return await f.harLookup(t,this._harBackends,e)}async harClose(e,t){f.harClose(this._harBackends,e)}async harUnzip(e,t){return await f.harUnzip(t,e)}async tracingStarted(e,t){return await f.tracingStarted(t,this._stackSessions,e)}async traceDiscarded(e,t){return await f.traceDiscarded(t,this._stackSessions,e)}async addStackToTracingNoReply(e,t){f.addStackToTracingNoReply(this._stackSessions,e)}async connect(e,t){const n={"User-Agent":(0,m.getUserAgent)(),"x-playwright-proxy":e.exposeNetwork??"",...e.headers},r=await async function(e,t){if(t.startsWith("ws"))return t;e.log(`<ws preparing> retrieving websocket url from ${t}`);const n=new URL(t);n.pathname.endsWith("/")||(n.pathname+="/"),n.pathname+="json";const r=await(0,v.fetchData)(e,{url:n.toString(),method:"GET",headers:{"User-Agent":(0,m.getUserAgent)()}},async(e,t)=>new Error(`Unexpected status ${t.statusCode} when connecting to ${n.toString()}.\nThis does not look like a Playwright server, try connecting via ws://.`)),o=new URL(t);let i=JSON.parse(r).wsEndpointPath;return i.startsWith("/")&&(i=i.substring(1)),o.pathname.endsWith("/")||(o.pathname+="/"),o.pathname+=i,o.protocol="https:"===o.protocol?"wss:":"ws:",o.toString()}(t,e.wsEndpoint),o=await y.WebSocketTransport.connect(t,r,{headers:n,followRedirects:!0,debugLogHeader:"x-playwright-debug-log"}),i=new w.SocksInterceptor(o,e.exposeNetwork,e.socksProxyRedirectPortForTest),s=new b.JsonPipeDispatcher(this);return o.onmessage=t=>{if(i.interceptMessage(t))return;const n=()=>{try{s.dispatch(t)}catch(e){o.close()}};e.slowMo?setTimeout(n,e.slowMo):n()},s.on("message",e=>{o.send(e)}),o.onclose=e=>{i?.cleanup(),s.wasClosed(e)},s.on("close",()=>o.close()),{pipe:s,headers:o.headers}}async globToRegex(e,t){return{regex:(0,A.resolveGlobToRegexPattern)(e.baseURL,e.glob,e.webSocketUrl)}}}},"./node_modules/playwright-core/lib/server/dispatchers/networkDispatchers.js":(e,t,n)=>{"use strict";var r,o=Object.defineProperty,i=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,l={};((e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})})(l,{APIRequestContextDispatcher:()=>w,RequestDispatcher:()=>f,ResponseDispatcher:()=>m,RouteDispatcher:()=>g,WebSocketDispatcher:()=>b}),e.exports=(r=l,((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let n of s(t))a.call(e,n)||undefined===n||o(e,n,{get:()=>t[n],enumerable:!(r=i(t,n))||r.enumerable});return e})(o({},"__esModule",{value:!0}),r));var c=n("./node_modules/playwright-core/lib/server/network.js"),u=n("./node_modules/playwright-core/lib/server/dispatchers/dispatcher.js"),d=n("./node_modules/playwright-core/lib/server/dispatchers/frameDispatcher.js"),h=n("./node_modules/playwright-core/lib/server/dispatchers/pageDispatcher.js"),p=n("./node_modules/playwright-core/lib/server/dispatchers/tracingDispatcher.js");class f extends u.Dispatcher{constructor(e,t){const n=t.postDataBuffer(),r=t.frame(),o=t.frame()?._page,i=o?e.connection.existingDispatcher(o):null,s=d.FrameDispatcher.fromNullable(e,r);super(i||s||e,t,"Request",{frame:s,serviceWorker:h.WorkerDispatcher.fromNullable(e,t.serviceWorker()),url:t.url(),resourceType:t.resourceType(),method:t.method(),postData:null===n?void 0:n,headers:t.headers(),isNavigationRequest:t.isNavigationRequest(),redirectedFrom:f.fromNullable(e,t.redirectedFrom())}),this.reportedThroughEvent=!1,this._type_Request=!0,this._browserContextDispatcher=e}static from(e,t){return e.connection.existingDispatcher(t)||new f(e,t)}static fromNullable(e,t){return t?f.from(e,t):void 0}async rawRequestHeaders(e,t){return{headers:await t.race(this._object.rawRequestHeaders())}}async response(e,t){return{response:m.fromNullable(this._browserContextDispatcher,await t.race(this._object.response()))}}}class m extends u.Dispatcher{constructor(e,t){super(e,t,"Response",{request:e,url:t.url(),status:t.status(),statusText:t.statusText(),headers:t.headers(),timing:t.timing(),fromServiceWorker:t.fromServiceWorker()}),this._type_Response=!0}static from(e,t){const n=e.connection.existingDispatcher(t),r=f.from(e,t.request());return n||new m(r,t)}static fromNullable(e,t){return t?m.from(e,t):void 0}async body(e,t){return{binary:await t.race(this._object.body())}}async securityDetails(e,t){return{value:await t.race(this._object.securityDetails())||void 0}}async serverAddr(e,t){return{value:await t.race(this._object.serverAddr())||void 0}}async rawResponseHeaders(e,t){return{headers:await t.race(this._object.rawResponseHeaders())}}async sizes(e,t){return{sizes:await t.race(this._object.sizes())}}}class g extends u.Dispatcher{constructor(e,t){super(e,t,"Route",{request:e}),this._type_Route=!0,this._handled=!1}_checkNotHandled(){if(this._handled)throw new Error("Route is already handled!");this._handled=!0}async continue(e,t){this._checkNotHandled(),await this._object.continue({url:e.url,method:e.method,headers:e.headers,postData:e.postData,isFallback:e.isFallback})}async fulfill(e,t){this._checkNotHandled(),await this._object.fulfill(e)}async abort(e,t){this._checkNotHandled(),await this._object.abort(e.errorCode||"failed")}async redirectNavigationRequest(e,t){this._checkNotHandled(),this._object.redirectNavigationRequest(e.url)}}class b extends u.Dispatcher{constructor(e,t){super(e,t,"WebSocket",{url:t.url()}),this._type_EventTarget=!0,this._type_WebSocket=!0,this.addObjectListener(c.WebSocket.Events.FrameSent,e=>this._dispatchEvent("frameSent",e)),this.addObjectListener(c.WebSocket.Events.FrameReceived,e=>this._dispatchEvent("frameReceived",e)),this.addObjectListener(c.WebSocket.Events.SocketError,e=>this._dispatchEvent("socketError",{error:e})),this.addObjectListener(c.WebSocket.Events.Close,()=>this._dispatchEvent("close",{}))}}class w extends u.Dispatcher{constructor(e,t){const n=p.TracingDispatcher.from(e,t.tracing());super(e,t,"APIRequestContext",{tracing:n}),this._type_APIRequestContext=!0,this.adopt(n)}static from(e,t){return e.connection.existingDispatcher(t)||new w(e,t)}static fromNullable(e,t){return t?w.from(e,t):void 0}async storageState(e,t){return await this._object.storageState(t,e.indexedDB)}async dispose(e,t){t.metadata.potentiallyClosesScope=!0,await this._object.dispose(e),this._dispose()}async fetch(e,t){const n=await this._object.fetch(t,e);return{response:{url:n.url,status:n.status,statusText:n.statusText,headers:n.headers,fetchUid:n.fetchUid}}}async fetchResponseBody(e,t){return{binary:this._object.fetchResponses.get(e.fetchUid)}}async fetchLog(e,t){return{log:this._object.fetchLog.get(e.fetchUid)||[]}}async disposeAPIResponse(e,t){this._object.disposeResponse(e.fetchUid)}}},"./node_modules/playwright-core/lib/server/dispatchers/pageDispatcher.js":(e,t,n)=>{"use strict";var r,o=Object.defineProperty,i=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,l={};((e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})})(l,{BindingCallDispatcher:()=>S,PageDispatcher:()=>_,WorkerDispatcher:()=>x}),e.exports=(r=l,((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let n of s(t))a.call(e,n)||undefined===n||o(e,n,{get:()=>t[n],enumerable:!(r=i(t,n))||r.enumerable});return e})(o({},"__esModule",{value:!0}),r));var c=n("./node_modules/playwright-core/lib/server/page.js"),u=n("./node_modules/playwright-core/lib/server/dispatchers/dispatcher.js"),d=n("./node_modules/playwright-core/lib/server/errors.js"),h=n("./node_modules/playwright-core/lib/server/dispatchers/artifactDispatcher.js"),p=n("./node_modules/playwright-core/lib/server/dispatchers/elementHandlerDispatcher.js"),f=n("./node_modules/playwright-core/lib/server/dispatchers/frameDispatcher.js"),m=n("./node_modules/playwright-core/lib/server/dispatchers/jsHandleDispatcher.js"),g=n("./node_modules/playwright-core/lib/server/dispatchers/networkDispatchers.js"),b=n("./node_modules/playwright-core/lib/server/dispatchers/networkDispatchers.js"),w=n("./node_modules/playwright-core/lib/server/dispatchers/networkDispatchers.js"),y=n("./node_modules/playwright-core/lib/server/dispatchers/webSocketRouteDispatcher.js"),v=n("./node_modules/playwright-core/lib/server/instrumentation.js"),A=n("./node_modules/playwright-core/lib/utils/isomorphic/urlMatch.js");class _ extends u.Dispatcher{constructor(e,t){const n=f.FrameDispatcher.from(e,t.mainFrame());super(e,t,"Page",{mainFrame:n,viewportSize:t.emulatedSize()?.viewport,isClosed:t.isClosed(),opener:_.fromNullable(e,t.opener())}),this._type_EventTarget=!0,this._type_Page=!0,this._subscriptions=new Set,this._webSocketInterceptionPatterns=[],this._bindings=[],this._initScripts=[],this._interceptionUrlMatchers=[],this._locatorHandlers=new Set,this._jsCoverageActive=!1,this._cssCoverageActive=!1,this.adopt(n),this._page=t,this._requestInterceptor=(e,t)=>{this._interceptionUrlMatchers.some(e=>(0,A.urlMatches)(this._page.browserContext._options.baseURL,t.url(),e))?this._dispatchEvent("route",{route:new w.RouteDispatcher(g.RequestDispatcher.from(this.parentScope(),t),e)}):e.continue({isFallback:!0}).catch(()=>{})},this.addObjectListener(c.Page.Events.Close,()=>{this._dispatchEvent("close"),this._dispose()}),this.addObjectListener(c.Page.Events.Crash,()=>this._dispatchEvent("crash")),this.addObjectListener(c.Page.Events.Download,t=>{this._dispatchEvent("download",{url:t.url,suggestedFilename:t.suggestedFilename(),artifact:h.ArtifactDispatcher.from(e,t.artifact)})}),this.addObjectListener(c.Page.Events.EmulatedSizeChanged,()=>this._dispatchEvent("viewportSizeChanged",{viewportSize:t.emulatedSize()?.viewport})),this.addObjectListener(c.Page.Events.FileChooser,e=>this._dispatchEvent("fileChooser",{element:p.ElementHandleDispatcher.from(n,e.element()),isMultiple:e.isMultiple()})),this.addObjectListener(c.Page.Events.FrameAttached,e=>this._onFrameAttached(e)),this.addObjectListener(c.Page.Events.FrameDetached,e=>this._onFrameDetached(e)),this.addObjectListener(c.Page.Events.LocatorHandlerTriggered,e=>this._dispatchEvent("locatorHandlerTriggered",{uid:e})),this.addObjectListener(c.Page.Events.WebSocket,e=>this._dispatchEvent("webSocket",{webSocket:new w.WebSocketDispatcher(this,e)})),this.addObjectListener(c.Page.Events.Worker,e=>this._dispatchEvent("worker",{worker:new x(this,e)})),this.addObjectListener(c.Page.Events.Video,t=>this._dispatchEvent("video",{artifact:h.ArtifactDispatcher.from(e,t)})),t.video&&this._dispatchEvent("video",{artifact:h.ArtifactDispatcher.from(this.parentScope(),t.video)});const r=t.frameManager.frames();for(let e=1;e<r.length;e++)this._onFrameAttached(r[e])}static from(e,t){return _.fromNullable(e,t)}static fromNullable(e,t){if(t)return e.connection.existingDispatcher(t)||new _(e,t)}page(){return this._page}serializeConsoleMessage(e){return{type:e.type(),text:e.text(),args:e.args().map(e=>{const t=e.asElement();return t?p.ElementHandleDispatcher.from(f.FrameDispatcher.from(this.parentScope(),t._frame),t):m.JSHandleDispatcher.fromJSHandle(this,e)}),location:e.location()}}async exposeBinding(e,t){const n=await this._page.exposeBinding(t,e.name,!!e.needsHandle,(t,...n)=>{if(this._disposed)return;const r=new S(this,e.name,!!e.needsHandle,t,n);return this._dispatchEvent("bindingCall",{binding:r}),r.promise()});this._bindings.push(n)}async setExtraHTTPHeaders(e,t){await this._page.setExtraHTTPHeaders(t,e.headers)}async reload(e,t){return{response:b.ResponseDispatcher.fromNullable(this.parentScope(),await this._page.reload(t,e))}}async goBack(e,t){return{response:b.ResponseDispatcher.fromNullable(this.parentScope(),await this._page.goBack(t,e))}}async goForward(e,t){return{response:b.ResponseDispatcher.fromNullable(this.parentScope(),await this._page.goForward(t,e))}}async requestGC(e,t){await t.race(this._page.requestGC())}async registerLocatorHandler(e,t){const n=this._page.registerLocatorHandler(e.selector,e.noWaitAfter);return this._locatorHandlers.add(n),{uid:n}}async resolveLocatorHandlerNoReply(e,t){this._page.resolveLocatorHandler(e.uid,e.remove)}async unregisterLocatorHandler(e,t){this._page.unregisterLocatorHandler(e.uid),this._locatorHandlers.delete(e.uid)}async emulateMedia(e,t){await this._page.emulateMedia(t,{media:e.media,colorScheme:e.colorScheme,reducedMotion:e.reducedMotion,forcedColors:e.forcedColors,contrast:e.contrast})}async setViewportSize(e,t){await this._page.setViewportSize(t,e.viewportSize)}async addInitScript(e,t){this._initScripts.push(await this._page.addInitScript(t,e.source))}async setNetworkInterceptionPatterns(e,t){const n=this._interceptionUrlMatchers.length>0;e.patterns.length?(this._interceptionUrlMatchers=e.patterns.map(e=>e.regexSource?new RegExp(e.regexSource,e.regexFlags):e.glob),n||await this._page.addRequestInterceptor(t,this._requestInterceptor)):(n&&await this._page.removeRequestInterceptor(this._requestInterceptor),this._interceptionUrlMatchers=[])}async setWebSocketInterceptionPatterns(e,t){this._webSocketInterceptionPatterns=e.patterns,e.patterns.length&&!this._routeWebSocketInitScript&&(this._routeWebSocketInitScript=await y.WebSocketRouteDispatcher.install(t,this.connection,this._page))}async expectScreenshot(e,t){const n=(e.mask||[]).map(({frame:e,selector:t})=>({frame:e._object,selector:t})),r=e.locator?{frame:e.locator.frame._object,selector:e.locator.selector}:void 0;return await this._page.expectScreenshot(t,{...e,locator:r,mask:n})}async screenshot(e,t){const n=(e.mask||[]).map(({frame:e,selector:t})=>({frame:e._object,selector:t}));return{binary:await this._page.screenshot(t,{...e,mask:n})}}async close(e,t){e.runBeforeUnload||(t.metadata.potentiallyClosesScope=!0),await this._page.close(e)}async updateSubscription(e,t){"fileChooser"===e.event&&await this._page.setFileChooserInterceptedBy(e.enabled,this),e.enabled?this._subscriptions.add(e.event):this._subscriptions.delete(e.event)}async keyboardDown(e,t){await this._page.keyboard.down(t,e.key)}async keyboardUp(e,t){await this._page.keyboard.up(t,e.key)}async keyboardInsertText(e,t){await this._page.keyboard.insertText(t,e.text)}async keyboardType(e,t){await this._page.keyboard.type(t,e.text,e)}async keyboardPress(e,t){await this._page.keyboard.press(t,e.key,e)}async consoleMessages(e,t){return{messages:this._page.consoleMessages().map(e=>this.serializeConsoleMessage(e))}}async pageErrors(e,t){return{errors:this._page.pageErrors().map(e=>(0,d.serializeError)(e))}}async mouseMove(e,t){t.metadata.point={x:e.x,y:e.y},await this._page.mouse.move(t,e.x,e.y,e)}async mouseDown(e,t){t.metadata.point=this._page.mouse.currentPoint(),await this._page.mouse.down(t,e)}async mouseUp(e,t){t.metadata.point=this._page.mouse.currentPoint(),await this._page.mouse.up(t,e)}async mouseClick(e,t){t.metadata.point={x:e.x,y:e.y},await this._page.mouse.click(t,e.x,e.y,e)}async mouseWheel(e,t){await this._page.mouse.wheel(t,e.deltaX,e.deltaY)}async touchscreenTap(e,t){t.metadata.point={x:e.x,y:e.y},await this._page.touchscreen.tap(t,e.x,e.y)}async accessibilitySnapshot(e,t){return{rootAXNode:await t.race(this._page.accessibility.snapshot({interestingOnly:e.interestingOnly,root:e.root?e.root._elementHandle:void 0}))||void 0}}async pdf(e,t){if(!this._page.pdf)throw new Error("PDF generation is only supported for Headless Chromium");return{pdf:await t.race(this._page.pdf(e))}}async requests(e,t){return{requests:this._page.networkRequests().map(e=>g.RequestDispatcher.from(this.parentScope(),e))}}async snapshotForAI(e,t){return{snapshot:await this._page.snapshotForAI(t)}}async bringToFront(e,t){await t.race(this._page.bringToFront())}async startJSCoverage(e,t){const n=this._page.coverage;await n.startJSCoverage(t,e),this._jsCoverageActive=!0}async stopJSCoverage(e,t){this._jsCoverageActive=!1;const n=this._page.coverage;return await n.stopJSCoverage()}async startCSSCoverage(e,t){const n=this._page.coverage;await n.startCSSCoverage(t,e),this._cssCoverageActive=!0}async stopCSSCoverage(e,t){this._cssCoverageActive=!1;const n=this._page.coverage;return await n.stopCSSCoverage()}_onFrameAttached(e){this._dispatchEvent("frameAttached",{frame:f.FrameDispatcher.from(this.parentScope(),e)})}_onFrameDetached(e){this._dispatchEvent("frameDetached",{frame:f.FrameDispatcher.from(this.parentScope(),e)})}_onDispose(){if(!this._page.isClosedOrClosingOrCrashed()){this._interceptionUrlMatchers=[],this._page.removeRequestInterceptor(this._requestInterceptor).catch(()=>{}),this._page.removeExposedBindings(this._bindings).catch(()=>{}),this._bindings=[],this._page.removeInitScripts(this._initScripts).catch(()=>{}),this._initScripts=[],this._routeWebSocketInitScript&&y.WebSocketRouteDispatcher.uninstall(this.connection,this._page,this._routeWebSocketInitScript).catch(()=>{}),this._routeWebSocketInitScript=void 0;for(const e of this._locatorHandlers)this._page.unregisterLocatorHandler(e);this._locatorHandlers.clear(),this._page.setFileChooserInterceptedBy(!1,this).catch(()=>{}),this._jsCoverageActive&&this._page.coverage.stopJSCoverage().catch(()=>{}),this._jsCoverageActive=!1,this._cssCoverageActive&&this._page.coverage.stopCSSCoverage().catch(()=>{}),this._cssCoverageActive=!1}}}class x extends u.Dispatcher{constructor(e,t){super(e,t,"Worker",{url:t.url}),this._type_Worker=!0,this._subscriptions=new Set,this.addObjectListener(c.Worker.Events.Close,()=>this._dispatchEvent("close")),this.addObjectListener(c.Worker.Events.Console,e=>{this._subscriptions.has("console")&&this._dispatchEvent("console",{type:e.type(),text:e.text(),args:e.args().map(e=>m.JSHandleDispatcher.fromJSHandle(this,e)),location:e.location()})})}static fromNullable(e,t){if(t)return e.connection.existingDispatcher(t)||new x(e,t)}async updateSubscription(e,t){e.enabled?this._subscriptions.add(e.event):this._subscriptions.delete(e.event)}async evaluateExpression(e,t){return{value:(0,m.serializeResult)(await t.race(this._object.evaluateExpression(e.expression,e.isFunction,(0,m.parseArgument)(e.arg))))}}async evaluateExpressionHandle(e,t){return{handle:m.JSHandleDispatcher.fromJSHandle(this,await t.race(this._object.evaluateExpressionHandle(e.expression,e.isFunction,(0,m.parseArgument)(e.arg))))}}}class S extends u.Dispatcher{constructor(e,t,n,r,o){const i=f.FrameDispatcher.from(e.parentScope(),r.frame);super(e,new v.SdkObject(e._object,"bindingCall"),"BindingCall",{frame:i,name:t,args:n?void 0:o.map(m.serializeResult),handle:n?p.ElementHandleDispatcher.fromJSOrElementHandle(i,o[0]):void 0}),this._type_BindingCall=!0,this._promise=new Promise((e,t)=>{this._resolve=e,this._reject=t})}promise(){return this._promise}async resolve(e,t){this._resolve((0,m.parseArgument)(e.result)),this._dispose()}async reject(e,t){this._reject((0,d.parseError)(e.error)),this._dispose()}}},"./node_modules/playwright-core/lib/server/dispatchers/playwrightDispatcher.js":(e,t,n)=>{"use strict";var r,o=Object.defineProperty,i=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,l={};((e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})})(l,{PlaywrightDispatcher:()=>A}),e.exports=(r=l,((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let n of s(t))a.call(e,n)||undefined===n||o(e,n,{get:()=>t[n],enumerable:!(r=i(t,n))||r.enumerable});return e})(o({},"__esModule",{value:!0}),r));var c=n("./node_modules/playwright-core/lib/server/utils/socksProxy.js"),u=n("./node_modules/playwright-core/lib/server/fetch.js"),d=n("./node_modules/playwright-core/lib/server/dispatchers/androidDispatcher.js"),h=n("./node_modules/playwright-core/lib/server/dispatchers/androidDispatcher.js"),p=n("./node_modules/playwright-core/lib/server/dispatchers/browserDispatcher.js"),f=n("./node_modules/playwright-core/lib/server/dispatchers/browserTypeDispatcher.js"),m=n("./node_modules/playwright-core/lib/server/dispatchers/dispatcher.js"),g=n("./node_modules/playwright-core/lib/server/dispatchers/electronDispatcher.js"),b=n("./node_modules/playwright-core/lib/server/dispatchers/localUtilsDispatcher.js"),w=n("./node_modules/playwright-core/lib/server/dispatchers/networkDispatchers.js"),y=n("./node_modules/playwright-core/lib/server/instrumentation.js"),v=n("./node_modules/playwright-core/lib/server/utils/eventsHelper.js");class A extends m.Dispatcher{constructor(e,t,n={}){const r=n.denyLaunch??!1,o=new f.BrowserTypeDispatcher(e,t.chromium,r),i=new f.BrowserTypeDispatcher(e,t.firefox,r),s=new f.BrowserTypeDispatcher(e,t.webkit,r),a=new f.BrowserTypeDispatcher(e,t._bidiChromium,r),l=new f.BrowserTypeDispatcher(e,t._bidiFirefox,r),c=new d.AndroidDispatcher(e,t.android),u={chromium:o,firefox:i,webkit:s,_bidiChromium:a,_bidiFirefox:l,android:c,electron:new g.ElectronDispatcher(e,t.electron,r),utils:t.options.isServer?void 0:new b.LocalUtilsDispatcher(e,t),socksSupport:n.socksProxy?new _(e,t,n.socksProxy):void 0};let m;if(n.preLaunchedBrowser){const e=u[n.preLaunchedBrowser.options.name];m=new p.BrowserDispatcher(e,n.preLaunchedBrowser,{ignoreStopAndKill:!0,isolateContexts:!n.sharedBrowser}),u.preLaunchedBrowser=m}n.preLaunchedAndroidDevice&&(u.preConnectedAndroidDevice=new h.AndroidDeviceDispatcher(c,n.preLaunchedAndroidDevice)),super(e,t,"Playwright",u),this._type_Playwright=!0,this._browserDispatcher=m}async newRequest(e,t){const n=new u.GlobalAPIRequestContext(this._object,e);return{request:w.APIRequestContextDispatcher.from(this.parentScope(),n)}}async cleanup(){await(this._browserDispatcher?.cleanupContexts())}}class _ extends m.Dispatcher{constructor(e,t,n){super(e,new y.SdkObject(t,"socksSupport"),"SocksSupport",{}),this._type_SocksSupport=!0,this._socksProxy=n,this._socksListeners=[v.eventsHelper.addEventListener(n,c.SocksProxy.Events.SocksRequested,e=>this._dispatchEvent("socksRequested",e)),v.eventsHelper.addEventListener(n,c.SocksProxy.Events.SocksData,e=>this._dispatchEvent("socksData",e)),v.eventsHelper.addEventListener(n,c.SocksProxy.Events.SocksClosed,e=>this._dispatchEvent("socksClosed",e))]}async socksConnected(e,t){this._socksProxy?.socketConnected(e)}async socksFailed(e,t){this._socksProxy?.socketFailed(e)}async socksData(e,t){this._socksProxy?.sendSocketData(e)}async socksError(e,t){this._socksProxy?.sendSocketError(e)}async socksEnd(e,t){this._socksProxy?.sendSocketEnd(e)}_onDispose(){v.eventsHelper.removeEventListeners(this._socksListeners)}}},"./node_modules/playwright-core/lib/server/dispatchers/streamDispatcher.js":(e,t,n)=>{"use strict";var r,o=Object.defineProperty,i=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,l={};((e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})})(l,{StreamDispatcher:()=>p}),e.exports=(r=l,((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let n of s(t))a.call(e,n)||undefined===n||o(e,n,{get:()=>t[n],enumerable:!(r=i(t,n))||r.enumerable});return e})(o({},"__esModule",{value:!0}),r));var c=n("./node_modules/playwright-core/lib/server/dispatchers/dispatcher.js"),u=n("./node_modules/playwright-core/lib/utils/isomorphic/manualPromise.js"),d=n("./node_modules/playwright-core/lib/server/instrumentation.js");class h extends d.SdkObject{constructor(e,t){super(e,"stream"),this.stream=t}}class p extends c.Dispatcher{constructor(e,t){super(e,new h(e._object,t),"Stream",{}),this._type_Stream=!0,this._ended=!1,t.once("end",()=>this._ended=!0),t.once("error",()=>this._ended=!0)}async read(e,t){const n=this._object.stream;if(this._ended)return{binary:Buffer.from("")};if(!n.readableLength){const e=new u.ManualPromise,r=()=>e.resolve();n.on("readable",r),n.on("end",r),n.on("error",r),await t.race(e).finally(()=>{n.off("readable",r),n.off("end",r),n.off("error",r)})}return{binary:n.read(Math.min(n.readableLength,e.size||n.readableLength))||Buffer.from("")}}async close(e,t){this._object.stream.destroy()}}},"./node_modules/playwright-core/lib/server/dispatchers/tracingDispatcher.js":(e,t,n)=>{"use strict";var r,o=Object.defineProperty,i=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,l={};((e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})})(l,{TracingDispatcher:()=>d}),e.exports=(r=l,((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let n of s(t))a.call(e,n)||undefined===n||o(e,n,{get:()=>t[n],enumerable:!(r=i(t,n))||r.enumerable});return e})(o({},"__esModule",{value:!0}),r));var c=n("./node_modules/playwright-core/lib/server/dispatchers/artifactDispatcher.js"),u=n("./node_modules/playwright-core/lib/server/dispatchers/dispatcher.js");class d extends u.Dispatcher{constructor(e,t){super(e,t,"Tracing",{}),this._type_Tracing=!0,this._started=!1}static from(e,t){return e.connection.existingDispatcher(t)||new d(e,t)}async tracingStart(e,t){this._object.start(e),this._started=!0}async tracingStartChunk(e,t){return await this._object.startChunk(t,e)}async tracingGroup(e,t){const{name:n,location:r}=e;this._object.group(n,r,t.metadata)}async tracingGroupEnd(e,t){this._object.groupEnd()}async tracingStopChunk(e,t){const{artifact:n,entries:r}=await this._object.stopChunk(t,e);return{artifact:n?c.ArtifactDispatcher.from(this,n):void 0,entries:r}}async tracingStop(e,t){this._started=!1,await this._object.stop(t)}_onDispose(){this._started&&this._object.stopChunk(void 0,{mode:"discard"}).then(()=>this._object.stop(void 0)).catch(()=>{}),this._started=!1}}},"./node_modules/playwright-core/lib/server/dispatchers/webSocketRouteDispatcher.js":(e,t,n)=>{"use strict";var r,o=Object.create,i=Object.defineProperty,s=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,l=Object.getPrototypeOf,c=Object.prototype.hasOwnProperty,u=(e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let o of a(t))c.call(e,o)||o===n||i(e,o,{get:()=>t[o],enumerable:!(r=s(t,o))||r.enumerable});return e},d={};((e,t)=>{for(var n in t)i(e,n,{get:t[n],enumerable:!0})})(d,{WebSocketRouteDispatcher:()=>y}),e.exports=(r=d,u(i({},"__esModule",{value:!0}),r));var h=n("./node_modules/playwright-core/lib/server/page.js"),p=n("./node_modules/playwright-core/lib/server/dispatchers/dispatcher.js"),f=n("./node_modules/playwright-core/lib/server/dispatchers/pageDispatcher.js"),m=((e,t,n)=>(n=null!=e?o(l(e)):{},u(e&&e.__esModule?n:i(n,"default",{value:e,enumerable:!0}),e)))(n("./node_modules/playwright-core/lib/generated/webSocketMockSource.js")),g=n("./node_modules/playwright-core/lib/server/instrumentation.js"),b=n("./node_modules/playwright-core/lib/utils/isomorphic/urlMatch.js"),w=n("./node_modules/playwright-core/lib/server/utils/eventsHelper.js");class y extends p.Dispatcher{constructor(e,t,n,r){super(e,new g.SdkObject(e._object,"webSocketRoute"),"WebSocketRoute",{url:n}),this._type_WebSocketRoute=!0,this._id=t,this._frame=r,this._eventListeners.push(w.eventsHelper.addEventListener(r._page,h.Page.Events.InternalFrameNavigatedToNewDocument,e=>{e===this._frame&&this._executionContextGone()}),w.eventsHelper.addEventListener(r._page,h.Page.Events.FrameDetached,e=>{e===this._frame&&this._executionContextGone()}),w.eventsHelper.addEventListener(r._page,h.Page.Events.Close,()=>this._executionContextGone()),w.eventsHelper.addEventListener(r._page,h.Page.Events.Crash,()=>this._executionContextGone())),y._idToDispatcher.set(this._id,this),e._dispatchEvent("webSocketRoute",{webSocketRoute:this})}static{this._idToDispatcher=new Map}static async install(e,t,n){const r=n instanceof h.Page?n.browserContext:n;let o=r.getBindingClient(A);if(o&&o.connection!==t)throw new Error("Another client is already routing WebSockets");return o||(o={counter:0,connection:t,binding:null},o.binding=await r.exposeBinding(e,A,!1,(e,n)=>{if("onCreate"===n.type){const o=t.existingDispatcher(r),i=o?f.PageDispatcher.fromNullable(o,e.page):void 0;let s;if(i&&v(i,r._options.baseURL,n.url)?s=i:o&&v(o,r._options.baseURL,n.url)&&(s=o),s)new y(s,n.id,n.url,e.frame);else{const t={id:n.id,type:"passthrough"};e.frame.evaluateExpression(`globalThis.__pwWebSocketDispatch(${JSON.stringify(t)})`).catch(()=>{})}return}const o=y._idToDispatcher.get(n.id);"onMessageFromPage"===n.type&&o?._dispatchEvent("messageFromPage",{message:n.data.data,isBase64:n.data.isBase64}),"onMessageFromServer"===n.type&&o?._dispatchEvent("messageFromServer",{message:n.data.data,isBase64:n.data.isBase64}),"onClosePage"===n.type&&o?._dispatchEvent("closePage",{code:n.code,reason:n.reason,wasClean:n.wasClean}),"onCloseServer"===n.type&&o?._dispatchEvent("closeServer",{code:n.code,reason:n.reason,wasClean:n.wasClean})},o)),++o.counter,await n.addInitScript(e,`\n      (() => {\n        const module = {};\n        ${m.source}\n        (module.exports.inject())(globalThis);\n      })();\n    `)}static async uninstall(e,t,n){const r=t instanceof h.Page?t.browserContext:t,o=r.getBindingClient(A);o&&o.connection===e&&(--o.counter<=0&&await r.removeExposedBindings([o.binding]),await t.removeInitScripts([n]))}async connect(e,t){await this._evaluateAPIRequest(t,{id:this._id,type:"connect"})}async ensureOpened(e,t){await this._evaluateAPIRequest(t,{id:this._id,type:"ensureOpened"})}async sendToPage(e,t){await this._evaluateAPIRequest(t,{id:this._id,type:"sendToPage",data:{data:e.message,isBase64:e.isBase64}})}async sendToServer(e,t){await this._evaluateAPIRequest(t,{id:this._id,type:"sendToServer",data:{data:e.message,isBase64:e.isBase64}})}async closePage(e,t){await this._evaluateAPIRequest(t,{id:this._id,type:"closePage",code:e.code,reason:e.reason,wasClean:e.wasClean})}async closeServer(e,t){await this._evaluateAPIRequest(t,{id:this._id,type:"closeServer",code:e.code,reason:e.reason,wasClean:e.wasClean})}async _evaluateAPIRequest(e,t){await e.race(this._frame.evaluateExpression(`globalThis.__pwWebSocketDispatch(${JSON.stringify(t)})`).catch(()=>{}))}_onDispose(){y._idToDispatcher.delete(this._id)}_executionContextGone(){this._disposed||(this._dispatchEvent("closePage",{wasClean:!0}),this._dispatchEvent("closeServer",{wasClean:!0}))}}function v(e,t,n){for(const r of e._webSocketInterceptionPatterns||[]){const e=r.regexSource?new RegExp(r.regexSource,r.regexFlags):r.glob;if((0,b.urlMatches)(t,n,e,!0))return!0}return!1}const A="__pwWebSocketBinding"},"./node_modules/playwright-core/lib/server/dispatchers/writableStreamDispatcher.js":(e,t,n)=>{"use strict";var r,o=Object.create,i=Object.defineProperty,s=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,l=Object.getPrototypeOf,c=Object.prototype.hasOwnProperty,u=(e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let o of a(t))c.call(e,o)||o===n||i(e,o,{get:()=>t[o],enumerable:!(r=s(t,o))||r.enumerable});return e},d={};((e,t)=>{for(var n in t)i(e,n,{get:t[n],enumerable:!0})})(d,{WritableStreamDispatcher:()=>g}),e.exports=(r=d,u(i({},"__esModule",{value:!0}),r));var h=((e,t,n)=>(n=null!=e?o(l(e)):{},u(e&&e.__esModule?n:i(n,"default",{value:e,enumerable:!0}),e)))(n("fs")),p=n("./node_modules/playwright-core/lib/server/dispatchers/dispatcher.js"),f=n("./node_modules/playwright-core/lib/server/instrumentation.js");class m extends f.SdkObject{constructor(e,t,n){super(e,"stream"),this.streamOrDirectory=t,this.lastModifiedMs=n}}class g extends p.Dispatcher{constructor(e,t,n){super(e,new m(e._object,t,n),"WritableStream",{}),this._type_WritableStream=!0}async write(e,t){if("string"==typeof this._object.streamOrDirectory)throw new Error("Cannot write to a directory");const n=this._object.streamOrDirectory;await t.race(new Promise((t,r)=>{n.write(e.binary,e=>{e?r(e):t()})}))}async close(e,t){if("string"==typeof this._object.streamOrDirectory)throw new Error("Cannot close a directory");const n=this._object.streamOrDirectory;await t.race(new Promise(e=>n.end(e))),this._object.lastModifiedMs&&await t.race(h.default.promises.utimes(this.path(),new Date(this._object.lastModifiedMs),new Date(this._object.lastModifiedMs)))}path(){return"string"==typeof this._object.streamOrDirectory?this._object.streamOrDirectory:this._object.streamOrDirectory.path}}},"./node_modules/playwright-core/lib/server/dom.js":(e,t,n)=>{"use strict";var r,o=Object.create,i=Object.defineProperty,s=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,l=Object.getPrototypeOf,c=Object.prototype.hasOwnProperty,u=(e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let o of a(t))c.call(e,o)||o===n||i(e,o,{get:()=>t[o],enumerable:!(r=s(t,o))||r.enumerable});return e},d=(e,t,n)=>(n=null!=e?o(l(e)):{},u(!t&&e&&e.__esModule?n:i(n,"default",{value:e,enumerable:!0}),e)),h={};((e,t)=>{for(var n in t)i(e,n,{get:t[n],enumerable:!0})})(h,{ElementHandle:()=>A,FrameExecutionContext:()=>v,NonRecoverableDOMError:()=>w,assertDone:()=>S,isNonRecoverableDOMError:()=>y,kUnableToAdoptErrorMessage:()=>T,throwElementIsNotAttached:()=>x,throwRetargetableDOMError:()=>_}),e.exports=(r=h,u(i({},"__esModule",{value:!0}),r));var p=d(n("fs")),f=d(n("./node_modules/playwright-core/lib/server/javascript.js")),m=n("./node_modules/playwright-core/lib/utils.js"),g=n("./node_modules/playwright-core/lib/server/fileUploadUtils.js"),b=d(n("./node_modules/playwright-core/lib/generated/injectedScriptSource.js"));class w extends Error{}function y(e){return e instanceof w}class v extends f.ExecutionContext{constructor(e,t,n){super(t,e,n||"content-script"),this.frame=t,this.world=n}adoptIfNeeded(e){return e instanceof A&&e._context!==this?this.frame._page.delegate.adoptElementHandle(e,this):null}async evaluate(e,t){return f.evaluate(this,!0,e,t)}async evaluateHandle(e,t){return f.evaluate(this,!1,e,t)}async evaluateExpression(e,t,n){return f.evaluateExpression(this,e,{...t,returnByValue:!0},n)}async evaluateExpressionHandle(e,t,n){return f.evaluateExpression(this,e,{...t,returnByValue:!1},n)}injectedScript(){if(!this._injectedScriptPromise){const e=[],t=this.frame._page.browserContext.selectors();for(const[n,{source:r}]of t._engines)e.push({name:n,source:`(${r})`});const n=this.frame._page.browserContext._browser.sdkLanguage(),r={isUnderTest:(0,m.isUnderTest)(),sdkLanguage:n,testIdAttributeName:t.testIdAttributeName(),stableRafCount:this.frame._page.delegate.rafCountForStablePosition(),browserName:this.frame._page.browserContext._browser.options.name,isUtilityWorld:"utility"===this.world,customEngines:e},o=`\n        (() => {\n        const module = {};\n        ${b.source}\n        return new (module.exports.InjectedScript())(globalThis, ${JSON.stringify(r)});\n        })();\n      `;this._injectedScriptPromise=this.rawEvaluateHandle(o).then(e=>(e._setPreview("InjectedScript"),e))}return this._injectedScriptPromise}}class A extends f.JSHandle{constructor(e,t){super(e,"node",void 0,t),this.__elementhandle=!0,this._page=e.frame._page,this._frame=e.frame,this._initializePreview().catch(e=>{})}async _initializePreview(){const e=await this._context.injectedScript();this._setPreview(await e.evaluate((e,t)=>"JSHandle@"+e.previewNode(t),this))}asElement(){return this}async evaluateInUtility(e,t){try{const n=await this._frame._utilityContext();return await n.evaluate(e,[await n.injectedScript(),this,t])}catch(e){if(this._frame.isNonRetriableError(e))throw e;return"error:notconnected"}}async evaluateHandleInUtility(e,t){try{const n=await this._frame._utilityContext();return await n.evaluateHandle(e,[await n.injectedScript(),this,t])}catch(e){if(this._frame.isNonRetriableError(e))throw e;return"error:notconnected"}}async ownerFrame(){const e=await this._page.delegate.getOwnerFrame(this);if(!e)return null;const t=this._page.frameManager.frame(e);if(t)return t;for(const t of this._page.browserContext.pages()){const n=t.frameManager.frame(e);if(n)return n}return null}async isIframeElement(){return this.evaluateInUtility(([e,t])=>t&&("IFRAME"===t.nodeName||"FRAME"===t.nodeName),{})}async contentFrame(){return _(await this.isIframeElement())?this._page.delegate.getContentFrame(this):null}async getAttribute(e,t){return this._frame.getAttribute(e,":scope",t,{},this)}async inputValue(e){return this._frame.inputValue(e,":scope",{},this)}async textContent(e){return this._frame.textContent(e,":scope",{},this)}async innerText(e){return this._frame.innerText(e,":scope",{},this)}async innerHTML(e){return this._frame.innerHTML(e,":scope",{},this)}async dispatchEvent(e,t,n={}){return this._frame.dispatchEvent(e,":scope",t,n,{},this)}async _scrollRectIntoViewIfNeeded(e,t){return await e.race(this._page.delegate.scrollRectIntoViewIfNeeded(this,t))}async _waitAndScrollIntoViewIfNeeded(e,t){_(await this._retryAction(e,"scroll into view",async()=>{e.log("  waiting for element to be stable");return await e.race(this.evaluateInUtility(async([e,t,{waitForVisible:n}])=>await e.checkElementStates(t,n?["visible","stable"]:["stable"]),{waitForVisible:t}))||await this._scrollRectIntoViewIfNeeded(e)},{}))}async scrollIntoViewIfNeeded(e){await this._waitAndScrollIntoViewIfNeeded(e,!1)}async _clickablePoint(){const[e,t]=await Promise.all([this._page.delegate.getContentQuads(this),this._page.mainFrame()._utilityContext().then(e=>e.evaluate(()=>({width:innerWidth,height:innerHeight})))]);if("error:notconnected"===e)return e;if(!e||!e.length)return"error:notvisible";const n=e.map(e=>(e=>e.map(e=>({x:Math.min(Math.max(e.x,0),t.width),y:Math.min(Math.max(e.y,0),t.height)})))(e)).filter(e=>(e=>{let t=0;for(let n=0;n<e.length;++n){const r=e[n],o=e[(n+1)%e.length];t+=(r.x*o.y-o.x*r.y)/2}return Math.abs(t)})(e)>.99);if(!n.length)return"error:notinviewport";if("firefox"===this._page.browserContext._browser.options.name)for(const e of n){const t=O(e);if(t)return t}return E(n[0])}async _offsetPoint(e){const[t,n]=await Promise.all([this.boundingBox(),this.evaluateInUtility(([e,t])=>e.getElementBorderWidth(t),{}).catch(e=>{})]);return t&&n?"error:notconnected"===n?n:{x:t.x+n.left+e.x,y:t.y+n.top+e.y}:"error:notvisible"}async _retryAction(e,t,n,r){let o=0;const i=[0,20,100,100,500];for(;;){if(o){e.log(`retrying ${t} action${r.trial?" (trial run)":""}`);const n=i[Math.min(o-1,i.length-1)];if(n){e.log(`  waiting ${n}ms`);const t=await e.race(this.evaluateInUtility(([e,t,n])=>new Promise(e=>setTimeout(e,n)),n));if("error:notconnected"===t)return t}}else e.log(`attempting ${t} action${r.trial?" (trial run)":""}`);r.skipActionPreChecks||r.force||await this._frame._page.performActionPreChecks(e);const s=await n(o);if(++o,"error:notvisible"!==s)if("error:notinviewport"!==s)if("error:optionsnotfound"!==s)if("error:optionnotenabled"!==s)if("object"==typeof s&&"hitTargetDescription"in s)e.log(`  ${s.hitTargetDescription} intercepts pointer events`);else{if("object"!=typeof s||!("missingState"in s))return s;e.log(`  element is not ${s.missingState}`)}else e.log("  option being selected is not enabled");else e.log("  did not find some options");else{if(r.force)throw new w("Element is outside of the viewport");e.log("  element is outside of the viewport")}else{if(r.force)throw new w("Element is not visible");e.log("  element is not visible")}}}async _retryPointerAction(e,t,n,r,o){const i="move and up"===t;return await this._retryAction(e,t,async i=>{const s=[void 0,{block:"end",inline:"end"},{block:"center",inline:"center"},{block:"start",inline:"start"}],a=s[i%s.length];return await this._performPointerAction(e,t,n,r,a,o)},{...o,skipActionPreChecks:i})}async _performPointerAction(e,t,n,r,o,i){const{force:s=!1,position:a}=i,l=async()=>o?await this.evaluateInUtility(([e,t,n])=>(1===t.nodeType&&t.scrollIntoView(n),"done"),o):await this._scrollRectIntoViewIfNeeded(e,a?{x:a.x,y:a.y,width:0,height:0}:void 0);if(this._frame.parentFrame()&&await e.race(l().catch(()=>{})),i.__testHookBeforeStable&&await e.race(i.__testHookBeforeStable()),!s){const t=n?["visible","enabled","stable"]:["visible","stable"];e.log("  waiting for element to be "+(n?"visible, enabled and stable":"visible and stable"));const r=await e.race(this.evaluateInUtility(async([e,t,{elementStates:n}])=>await e.checkElementStates(t,n),{elementStates:t}));if(r)return r;e.log("  element is "+(n?"visible, enabled and stable":"visible and stable"))}i.__testHookAfterStable&&await e.race(i.__testHookAfterStable()),e.log("  scrolling into view if needed");const c=await e.race(l());if("done"!==c)return c;e.log("  done scrolling");const u=a?await e.race(this._offsetPoint(a)):await e.race(this._clickablePoint());if("string"==typeof u)return u;const d=function(e){return{x:(100*e.x|0)/100,y:(100*e.y|0)/100}}(u);let h;if(e.metadata.point=d,await e.race(this.instrumentation.onBeforeInputAction(this,e.metadata)),s)e.log("  forcing action");else{i.__testHookBeforeHitTarget&&await e.race(i.__testHookBeforeHitTarget());const n=await e.race(this._checkFrameIsHitTarget(d));if("error:notconnected"===n||"hitTargetDescription"in n)return n;const r=n.framePoint,o="move and up"===t?"drag":"hover"===t||"tap"===t?t:"mouse",s=await e.race(this.evaluateHandleInUtility(([e,t,{actionType:n,hitPoint:r,trial:o}])=>e.setupHitTargetInterceptor(t,n,r,o),{actionType:o,hitPoint:r,trial:!!i.trial}));if("error:notconnected"===s)return s;if(!s._objectId){const e=s.rawValue();return"error:notconnected"===e?e:{hitTargetDescription:e}}h=s}const p=await this._page.frameManager.waitForSignalsCreatedBy(e,!0===i.waitAfter,async()=>{let n;if(i.__testHookBeforePointerAction&&await e.race(i.__testHookBeforePointerAction()),i&&i.modifiers&&(n=await this._page.keyboard.ensureModifiers(e,i.modifiers)),e.log(`  performing ${t} action`),await r(d),n&&await this._page.keyboard.ensureModifiers(e,n),h){const t=this._frame.raceAgainstEvaluationStallingEvents(()=>h.evaluate(e=>e.stop())).catch(e=>"done").finally(()=>{h?.dispose()});if(!1!==i.waitAfter){const n=await e.race(t);if("done"!==n)return n}}return e.log(`  ${i.trial?"trial ":""}${t} action done`),e.log("  waiting for scheduled navigations to finish"),i.__testHookAfterPointerAction&&await e.race(i.__testHookAfterPointerAction()),"done"}).finally(()=>{const e=h?.evaluate(e=>e.stop()).catch(()=>{});e?.then(()=>h?.dispose())});return"done"!==p?p:(e.log("  navigations have finished"),"done")}async _markAsTargetElement(e){e.metadata.id&&await e.race(this.evaluateInUtility(([e,t,n])=>{1===t.nodeType&&e.markTargetElements(new Set([t]),n)},e.metadata.id))}async hover(e,t){await this._markAsTargetElement(e),_(await this._hover(e,t))}_hover(e,t){return this._retryPointerAction(e,"hover",!1,t=>this._page.mouse.move(e,t.x,t.y),{...t,waitAfter:"disabled"})}async click(e,t){await this._markAsTargetElement(e),_(await this._click(e,{...t,waitAfter:!t.noWaitAfter}))}_click(e,t){return this._retryPointerAction(e,"click",!0,n=>this._page.mouse.click(e,n.x,n.y,t),t)}async dblclick(e,t){await this._markAsTargetElement(e),_(await this._dblclick(e,t))}_dblclick(e,t){return this._retryPointerAction(e,"dblclick",!0,n=>this._page.mouse.click(e,n.x,n.y,{...t,clickCount:2}),{...t,waitAfter:"disabled"})}async tap(e,t){await this._markAsTargetElement(e),_(await this._tap(e,t))}_tap(e,t){return this._retryPointerAction(e,"tap",!0,t=>this._page.touchscreen.tap(e,t.x,t.y),{...t,waitAfter:"disabled"})}async selectOption(e,t,n,r){return await this._markAsTargetElement(e),_(await this._selectOption(e,t,n,r))}async _selectOption(e,t,n,r){let o=[];const i=await this._retryAction(e,"select option",async()=>{await e.race(this.instrumentation.onBeforeInputAction(this,e.metadata)),r.force||e.log("  waiting for element to be visible and enabled");const i=[...t,...n],s=await e.race(this.evaluateInUtility(async([e,t,{optionsToSelect:n,force:r}])=>{if(!r){const n=await e.checkElementStates(t,["visible","enabled"]);if(n)return n}return e.selectOptions(t,n)},{optionsToSelect:i,force:r.force}));return Array.isArray(s)?(e.log("  selected specified option(s)"),o=s,"done"):s},r);return"error:notconnected"===i?i:o}async fill(e,t,n){await this._markAsTargetElement(e),_(await this._fill(e,t,n))}async _fill(e,t,n){return e.log(`  fill("${t}")`),await this._retryAction(e,"fill",async()=>{await e.race(this.instrumentation.onBeforeInputAction(this,e.metadata)),n.force||e.log("  waiting for element to be visible, enabled and editable");const r=await e.race(this.evaluateInUtility(async([e,t,{value:n,force:r}])=>{if(!r){const n=await e.checkElementStates(t,["visible","enabled","editable"]);if(n)return n}return e.fill(t,n)},{value:t,force:n.force}));return"needsinput"===r?(t?await this._page.keyboard.insertText(e,t):await this._page.keyboard.press(e,"Delete"),"done"):r},n)}async selectText(e,t){_(await this._retryAction(e,"selectText",async()=>(t.force||e.log("  waiting for element to be visible"),await e.race(this.evaluateInUtility(async([e,t,{force:n}])=>{if(!n){const n=await e.checkElementStates(t,["visible"]);if(n)return n}return e.selectText(t)},{force:t.force}))),t))}async setInputFiles(e,t){const n=await e.race((0,g.prepareFilesForUpload)(this._frame,t));await this._markAsTargetElement(e),_(await this._setInputFiles(e,n))}async _setInputFiles(e,t){const{filePayloads:n,localPaths:r,localDirectory:o}=t,i=n&&n.length>1||r&&r.length>1,s=await e.race(this.evaluateHandleInUtility(([e,t,{multiple:n,directoryUpload:r}])=>{const o=e.retarget(t,"follow-label");if(!o)return;if("INPUT"!==o.tagName)throw e.createStacklessError("Node is not an HTMLInputElement");const i=o;if(n&&!i.multiple&&!i.webkitdirectory)throw e.createStacklessError("Non-multiple file input can only accept single file");if(r&&!i.webkitdirectory)throw e.createStacklessError("File input does not support directories, pass individual files instead");if(!r&&i.webkitdirectory)throw e.createStacklessError("[webkitdirectory] input requires passing a path to a directory");return i},{multiple:i,directoryUpload:!!o}));if("error:notconnected"===s||!s.asElement())return"error:notconnected";const a=s.asElement();if(await e.race(this.instrumentation.onBeforeInputAction(this,e.metadata)),r||o){const t=o?[o]:r;await e.race(Promise.all(t.map(e=>p.default.promises.access(e,p.default.constants.F_OK))));const n=o?this.evaluate(e=>new Promise(t=>{e.addEventListener("input",t,{once:!0})})).catch(()=>{}):Promise.resolve();await e.race(this._page.delegate.setInputFilePaths(a,t)),await e.race(n)}else await e.race(a.evaluateInUtility(([e,t,n])=>e.setInputFiles(t,n),n));return"done"}async focus(e){await this._markAsTargetElement(e),_(await this._focus(e))}async _focus(e,t){return await e.race(this.evaluateInUtility(([e,t,n])=>e.focusNode(t,n),t))}async _blur(e){return await e.race(this.evaluateInUtility(([e,t])=>e.blurNode(t),{}))}async type(e,t,n){await this._markAsTargetElement(e),_(await this._type(e,t,n))}async _type(e,t,n){e.log(`elementHandle.type("${t}")`),await e.race(this.instrumentation.onBeforeInputAction(this,e.metadata));const r=await this._focus(e,!0);return"done"!==r?r:(await this._page.keyboard.type(e,t,n),"done")}async press(e,t,n){await this._markAsTargetElement(e),_(await this._press(e,t,n))}async _press(e,t,n){return e.log(`elementHandle.press("${t}")`),await e.race(this.instrumentation.onBeforeInputAction(this,e.metadata)),this._page.frameManager.waitForSignalsCreatedBy(e,!n.noWaitAfter,async()=>{const r=await this._focus(e,!0);return"done"!==r?r:(await this._page.keyboard.press(e,t,n),"done")})}async check(e,t){_(await this._setChecked(e,!0,t))}async uncheck(e,t){_(await this._setChecked(e,!1,t))}async _setChecked(e,t,n){const r=async()=>{const t=await e.race(this.evaluateInUtility(([e,t])=>e.elementState(t,"checked"),{}));return"error:notconnected"!==t&&"error:notconnected"!==t.received||x(),{matches:t.matches,isRadio:t.isRadio}};await this._markAsTargetElement(e);const o=await r();if(o.matches===t)return"done";if(!t&&o.isRadio)throw new w("Cannot uncheck radio button. Radio buttons can only be unchecked by selecting another radio button in the same group.");const i=await this._click(e,{...n,waitAfter:"disabled"});if("done"!==i)return i;if(n.trial)return"done";if((await r()).matches!==t)throw new w("Clicking the checkbox did not change its state");return"done"}async boundingBox(){return this._page.delegate.getBoundingBox(this)}async ariaSnapshot(){return await this.evaluateInUtility(([e,t])=>e.ariaSnapshot(t,{mode:"expect"}),{})}async screenshot(e,t){return await this._page.screenshotter.screenshotElement(e,this,t)}async querySelector(e,t){return this._frame.selectors.query(e,t,this)}async querySelectorAll(e){return this._frame.selectors.queryAll(e,this)}async evalOnSelector(e,t,n,r,o){return this._frame.evalOnSelector(e,t,n,r,o,this)}async evalOnSelectorAll(e,t,n,r){return this._frame.evalOnSelectorAll(e,t,n,r,this)}async isVisible(e){return this._frame.isVisible(e,":scope",{},this)}async isHidden(e){return this._frame.isHidden(e,":scope",{},this)}async isEnabled(e){return this._frame.isEnabled(e,":scope",{},this)}async isDisabled(e){return this._frame.isDisabled(e,":scope",{},this)}async isEditable(e){return this._frame.isEditable(e,":scope",{},this)}async isChecked(e){return this._frame.isChecked(e,":scope",{},this)}async waitForElementState(e,t){const n=`wait for ${t}`;_(await this._retryAction(e,n,async()=>await e.race(this.evaluateInUtility(async([e,t,n])=>await e.checkElementStates(t,[n])||"done",t)),{}))}async waitForSelector(e,t,n){return await this._frame.waitForSelector(e,t,!0,n,this)}async _adoptTo(e){if(this._context!==e){const t=await this._page.delegate.adoptElementHandle(this,e);return this.dispose(),t}return this}async _checkFrameIsHitTarget(e){let t=this._frame;const n=[];for(;t.parentFrame();){const r=await t.frameElement(),o=await r.boundingBox(),i=await r.evaluateInUtility(([e,t])=>e.describeIFrameStyle(t),{}).catch(e=>"error:notconnected");if(!o||"error:notconnected"===i)return"error:notconnected";if("transformed"===i)return{framePoint:void 0};const s={x:e.x-o.x-i.left,y:e.y-o.y-i.top};n.push({frame:t,frameElement:r,pointInFrame:s}),t=t.parentFrame()}n.push({frame:t,frameElement:null,pointInFrame:e});for(let e=n.length-1;e>0;e--){const t=n[e-1].frameElement,r=n[e].pointInFrame,o=await t.evaluateInUtility(([e,t,n])=>e.expectHitTarget(n,t),r);if("done"!==o)return o}return{framePoint:n[0].pointInFrame}}}function _(e){return"error:notconnected"===e&&x(),e}function x(){throw new Error("Element is not attached to the DOM")}function S(e){}function E(e){const t={x:0,y:0};for(const n of e)t.x+=n.x/4,t.y+=n.y/4;return t}function C(e,t,n){return Math.abs(e.x*(t.y-n.y)+t.x*(n.y-e.y)+n.x*(e.y-t.y))/2}function k(e,t){const n=C(e,t[0],t[1])+C(e,t[1],t[2])+C(e,t[2],t[3])+C(e,t[3],t[0]),r=C(t[0],t[1],t[2])+C(t[1],t[2],t[3]);return!(Math.abs(n-r)>.1)&&e.x<Math.max(t[0].x,t[1].x,t[2].x,t[3].x)&&e.y<Math.max(t[0].y,t[1].y,t[2].y,t[3].y)}function O(e){const t=E(e);return t.x=Math.floor(t.x),t.y=Math.floor(t.y),k(t,e)?t:(t.x+=1,k(t,e)?t:(t.y+=1,k(t,e)?t:(t.x-=1,k(t,e)?t:void 0)))}const T="Unable to adopt element handle from a different document"},"./node_modules/playwright-core/lib/server/download.js":(e,t,n)=>{"use strict";var r,o=Object.create,i=Object.defineProperty,s=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,l=Object.getPrototypeOf,c=Object.prototype.hasOwnProperty,u=(e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let o of a(t))c.call(e,o)||o===n||i(e,o,{get:()=>t[o],enumerable:!(r=s(t,o))||r.enumerable});return e},d={};((e,t)=>{for(var n in t)i(e,n,{get:t[n],enumerable:!0})})(d,{Download:()=>g}),e.exports=(r=d,u(i({},"__esModule",{value:!0}),r));var h=((e,t,n)=>(n=null!=e?o(l(e)):{},u(e&&e.__esModule?n:i(n,"default",{value:e,enumerable:!0}),e)))(n("path")),p=n("./node_modules/playwright-core/lib/server/page.js"),f=n("./node_modules/playwright-core/lib/utils.js"),m=n("./node_modules/playwright-core/lib/server/artifact.js");class g{constructor(e,t,n,r,o){const i="deny"===e.browserContext._options.acceptDownloads?"Pass { acceptDownloads: true } when you are creating your browser context.":void 0;this.artifact=new m.Artifact(e,h.default.join(t,n),i,()=>this._page.browserContext.cancelDownload(n)),this._page=e,this.url=r,this._suggestedFilename=o,e.browserContext._downloads.add(this),void 0!==o&&this._fireDownloadEvent()}page(){return this._page}_filenameSuggested(e){(0,f.assert)(void 0===this._suggestedFilename),this._suggestedFilename=e,this._fireDownloadEvent()}suggestedFilename(){return this._suggestedFilename}_fireDownloadEvent(){this._page.instrumentation.onDownload(this._page,this),this._page.emit(p.Page.Events.Download,this)}}},"./node_modules/playwright-core/lib/server/electron/electron.js":(e,t,n)=>{"use strict";var r,o=Object.create,i=Object.defineProperty,s=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,l=Object.getPrototypeOf,c=Object.prototype.hasOwnProperty,u=(e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let o of a(t))c.call(e,o)||o===n||i(e,o,{get:()=>t[o],enumerable:!(r=s(t,o))||r.enumerable});return e},d=(e,t,n)=>(n=null!=e?o(l(e)):{},u(!t&&e&&e.__esModule?n:i(n,"default",{value:e,enumerable:!0}),e)),h={};((e,t)=>{for(var n in t)i(e,n,{get:t[n],enumerable:!0})})(h,{Electron:()=>j,ElectronApplication:()=>P}),e.exports=(r=h,u(i({},"__esModule",{value:!0}),r));var p=d(n("fs")),f=d(n("os")),m=d(n("path")),g=d(n("readline")),b=n("./node_modules/playwright-core/lib/utils.js"),w=n("./node_modules/playwright-core/lib/server/utils/ascii.js"),y=n("./node_modules/playwright-core/lib/server/utils/debugLogger.js"),v=n("./node_modules/playwright-core/lib/server/utils/eventsHelper.js"),A=n("./node_modules/playwright-core/lib/server/browserContext.js"),_=n("./node_modules/playwright-core/lib/server/chromium/crBrowser.js"),x=n("./node_modules/playwright-core/lib/server/chromium/crConnection.js"),S=n("./node_modules/playwright-core/lib/server/chromium/crExecutionContext.js"),E=n("./node_modules/playwright-core/lib/server/chromium/crProtocolHelper.js"),C=n("./node_modules/playwright-core/lib/server/console.js"),k=n("./node_modules/playwright-core/lib/server/helper.js"),O=n("./node_modules/playwright-core/lib/server/instrumentation.js"),T=d(n("./node_modules/playwright-core/lib/server/javascript.js")),I=n("./node_modules/playwright-core/lib/server/utils/processLauncher.js"),B=n("./node_modules/playwright-core/lib/server/transport.js");const M=m.default.join(f.default.tmpdir(),"playwright-artifacts-");class P extends O.SdkObject{constructor(e,t,n,r){super(e,"electron-app"),this._nodeElectronHandlePromise=new b.ManualPromise,this._process=r,this._browserContext=t._defaultContext,this._nodeConnection=n,this._nodeSession=n.rootSession,this._nodeSession.on("Runtime.executionContextCreated",async e=>{if(!e.context.auxData||!e.context.auxData.isDefault)return;const t=new S.CRExecutionContext(this._nodeSession,e.context);this._nodeExecutionContext=new T.ExecutionContext(this,t,"electron");const{result:n}=await t._client.send("Runtime.evaluate",{expression:"require('electron')",contextId:e.context.id,includeCommandLineAPI:!0});this._nodeElectronHandlePromise.resolve(new T.JSHandle(this._nodeExecutionContext,"object","ElectronModule",n.objectId))}),this._nodeSession.on("Runtime.consoleAPICalled",e=>this._onConsoleAPI(e));const o=new Promise(e=>this.once(P.Events.Close,e));this._browserContext.setCustomCloseHandler(async()=>{await this._browserContext.stopVideoRecording();const e=await this._nodeElectronHandlePromise;await e.evaluate(({app:e})=>e.quit()).catch(()=>{}),this._nodeConnection.close(),await o})}static{this.Events={Close:"close",Console:"console"}}async _onConsoleAPI(e){if(0===e.executionContextId)return;if(!this._nodeExecutionContext)return;const t=e.args.map(e=>(0,S.createHandle)(this._nodeExecutionContext,e)),n=new C.ConsoleMessage(null,e.type,void 0,t,(0,E.toConsoleMessageLocation)(e.stackTrace));this.emit(P.Events.Console,n)}async initialize(){await this._nodeSession.send("Runtime.enable",{}),await this._nodeSession.send("Runtime.evaluate",{expression:"__playwright_run()"})}process(){return this._process}context(){return this._browserContext}async close(){await this._browserContext.close({reason:"Application exited"})}async browserWindow(e){const t=e.delegate._targetId,n=await this._nodeElectronHandlePromise;return await n.evaluateHandle(({BrowserWindow:e,webContents:t},n)=>{const r=t.fromDevToolsTargetId(n);return e.fromWebContents(r)},t)}}class j extends O.SdkObject{constructor(e){super(e,"electron"),this.logName="browser"}async launch(e,t){let r,o=["--inspect=0","--remote-debugging-port=0",...t.args||[]];"linux"===f.default.platform()&&process.geteuid&&0===process.geteuid()&&-1===o.indexOf("--no-sandbox")&&o.unshift("--no-sandbox");const i=await e.race(p.default.promises.mkdtemp(M)),s=new y.RecentLogsCollector,a=t.env?(0,I.envArrayToObject)(t.env):process.env;let l;if(t.executablePath)l=t.executablePath;else{try{l=n("../../node_modules/electron/index.js")}catch(e){if("MODULE_NOT_FOUND"===e?.code)throw new Error("\n"+(0,w.wrapInASCIIBox)(["Electron executablePath not found!","Please install it using `npm install -D electron` or set the executablePath to your Electron executable."].join("\n"),1));throw e}o.unshift("-r","./node_modules/playwright-core/lib/server/electron/loader.js")}let c=!1;"win32"===process.platform&&(c=!0,l=`"${l}"`,o=o.map(e=>`"${e}"`)),delete a.NODE_OPTIONS;const{launchedProcess:u,gracefullyClose:d,kill:h}=await(0,I.launchProcess)({command:l,args:o,env:a,log:t=>{e.log(t),s.log(t)},shell:c,stdio:"pipe",cwd:t.cwd,tempDirectories:[i],attemptToGracefullyClose:()=>r.close(),handleSIGINT:!0,handleSIGTERM:!0,handleSIGHUP:!0,onExit:()=>r?.emit(P.Events.Close)}),m=N(e,u,/Unable to open X display/).then(()=>{throw new Error(["Unable to open X display!","================================","Most likely this is because there is no X server available.","Use 'xvfb-run' on Linux to launch your tests with an emulated display server.","For example: 'xvfb-run npm run test:e2e'","================================",e.metadata.log].join("\n"))}),g=N(e,u,/^Debugger listening on (ws:\/\/.*)$/),b=N(e,u,/^DevTools listening on (ws:\/\/.*)$/),v=N(e,u,/Waiting for the debugger to disconnect\.\.\./);try{const n=await g,o=await B.WebSocketTransport.connect(e,n[1]),a=new x.CRConnection(this,o,k.helper.debugProtocolLogger(),s);v.then(()=>{o.close()}).catch(()=>{});const l=await Promise.race([b,m]),c=await B.WebSocketTransport.connect(e,l[1]),p={onclose:void 0,process:u,close:d,kill:h},f={...t,noDefaultViewport:!0},w={name:"electron",isChromium:!0,headful:!0,persistent:f,browserProcess:p,protocolLogger:k.helper.debugProtocolLogger(),browserLogsCollector:s,artifactsDir:i,downloadsPath:i,tracesDir:t.tracesDir||i,originalLaunchOptions:{}};(0,A.validateBrowserContextOptions)(f,w);const y=await e.race(_.CRBrowser.connect(this.attribution.playwright,c,w));return r=new P(this,y,a,u),await e.race(r.initialize()),r}catch(e){throw await h(),e}}}async function N(e,t,n){const r=new b.ManualPromise,o=g.createInterface({input:t.stderr}),i=new Error("Process failed to launch!"),s=[v.eventsHelper.addEventListener(o,"line",function(e){const t=e.match(n);t&&r.resolve(t)}),v.eventsHelper.addEventListener(o,"close",()=>r.reject(i)),v.eventsHelper.addEventListener(t,"exit",()=>r.reject(i)),v.eventsHelper.addEventListener(t,"error",()=>r.reject(i))];try{return await e.race(r)}finally{v.eventsHelper.removeEventListeners(s)}}},"./node_modules/playwright-core/lib/server/electron/loader.js":(e,t,n)=>{"use strict";const{app:r}=n("electron"),{chromiumSwitches:o}=n("./node_modules/playwright-core/lib/server/chromium/chromiumSwitches.js");process.argv.splice(1,process.argv.indexOf("--remote-debugging-port=0"));for(const e of o()){const t=e.match(/--([^=]*)=?(.*)/);r.commandLine.appendSwitch(t[1],t[2])}const i=r.whenReady(),s=r.emit.bind(r);let a;r.emit=(e,...t)=>"ready"===e?(a=t,r.listenerCount("ready")>0):s(e,...t);let l,c=!1;const u=new Promise(e=>l=e);r.isReady=()=>c,r.whenReady=()=>u,globalThis.__playwright_run=async()=>{const e=await i;c=!0,l(e),s("ready",...a)}},"./node_modules/playwright-core/lib/server/errors.js":(e,t,n)=>{"use strict";var r,o=Object.defineProperty,i=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,l={};((e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})})(l,{TargetClosedError:()=>p,TimeoutError:()=>h,isTargetClosedError:()=>f,parseError:()=>g,serializeError:()=>m}),e.exports=(r=l,((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let n of s(t))a.call(e,n)||undefined===n||o(e,n,{get:()=>t[n],enumerable:!(r=i(t,n))||r.enumerable});return e})(o({},"__esModule",{value:!0}),r));var c=n("./node_modules/playwright-core/lib/protocol/serializers.js"),u=n("./node_modules/playwright-core/lib/utils.js");class d extends Error{constructor(e){super(e),this.name=this.constructor.name}}class h extends d{}class p extends d{constructor(e,t){super((e||"Target page, context or browser has been closed")+(t||""))}}function f(e){return e instanceof p||"TargetClosedError"===e.name}function m(e){return(0,u.isError)(e)?{error:{message:e.message,stack:e.stack,name:e.name}}:{value:(0,c.serializeValue)(e,e=>({fallThrough:e}))}}function g(e){if(!e.error){if(void 0===e.value)throw new Error("Serialized error must have either an error or a value");return(0,c.parseSerializedValue)(e.value,void 0)}const t=new Error(e.error.message);return t.stack=e.error.stack||"",t.name=e.error.name,t}},"./node_modules/playwright-core/lib/server/fetch.js":(e,t,n)=>{"use strict";var r,o=Object.create,i=Object.defineProperty,s=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,l=Object.getPrototypeOf,c=Object.prototype.hasOwnProperty,u=(e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let o of a(t))c.call(e,o)||o===n||i(e,o,{get:()=>t[o],enumerable:!(r=s(t,o))||r.enumerable});return e},d=(e,t,n)=>(n=null!=e?o(l(e)):{},u(!t&&e&&e.__esModule?n:i(n,"default",{value:e,enumerable:!0}),e)),h={};((e,t)=>{for(var n in t)i(e,n,{get:t[n],enumerable:!0})})(h,{APIRequestContext:()=>T,BrowserContextAPIRequestContext:()=>B,GlobalAPIRequestContext:()=>M}),e.exports=(r=h,u(i({},"__esModule",{value:!0}),r));var p=d(n("http")),f=d(n("https")),m=n("stream"),g=n("tls"),b=d(n("zlib")),w=n("./node_modules/playwright-core/lib/utils.js"),y=n("./node_modules/playwright-core/lib/server/utils/crypto.js"),v=n("./node_modules/playwright-core/lib/server/utils/userAgent.js"),A=n("./node_modules/playwright-core/lib/server/browserContext.js"),_=n("./node_modules/playwright-core/lib/server/cookieStore.js"),x=n("./node_modules/playwright-core/lib/server/formData.js"),S=n("./node_modules/playwright-core/lib/server/instrumentation.js"),E=n("./node_modules/playwright-core/lib/server/progress.js"),C=n("./node_modules/playwright-core/lib/server/socksClientCertificatesInterceptor.js"),k=n("./node_modules/playwright-core/lib/server/utils/happyEyeballs.js"),O=n("./node_modules/playwright-core/lib/server/trace/recorder/tracing.js");class T extends S.SdkObject{constructor(e){super(e,"request-context"),this.fetchResponses=new Map,this.fetchLog=new Map,T.allInstances.add(this)}static{this.Events={Dispose:"dispose",Request:"request",RequestFinished:"requestfinished"}}static{this.allInstances=new Set}static findResponseBody(e){for(const t of T.allInstances){const n=t.fetchResponses.get(e);if(n)return n}}_disposeImpl(){T.allInstances.delete(this),this.fetchResponses.clear(),this.fetchLog.clear(),this.emit(T.Events.Dispose)}disposeResponse(e){this.fetchResponses.delete(e),this.fetchLog.delete(e)}_storeResponseBody(e){const t=(0,y.createGuid)();return this.fetchResponses.set(t,e),t}async fetch(e,t){const n=this._defaultOptions(),r={"user-agent":n.userAgent,accept:"*/*","accept-encoding":"gzip,deflate,br"};if(n.extraHTTPHeaders)for(const{name:e,value:t}of n.extraHTTPHeaders)F(r,e,t);if(t.headers)for(const{name:e,value:n}of t.headers)F(r,e,n);const o=new URL((0,w.constructURLBasedOnBaseURL)(n.baseURL,t.url));if(t.encodedParams)o.search=t.encodedParams;else if(t.params)for(const{name:e,value:n}of t.params)o.searchParams.append(e,n);const i=this._getHttpCredentials(o);"always"===i?.send&&L(r,i);const s=t.method?.toUpperCase()||"GET",a=n.proxy;let l;"per-context"!==a?.server&&(l=(0,w.createProxyAgent)(a,o));let c=t.maxRedirects??n.maxRedirects??20;c=0===c?-1:c;const u={method:s,headers:r,agent:l,maxRedirects:c,...(0,C.getMatchingTLSOptionsForOrigin)(this._defaultOptions().clientCertificates,o.origin),__testHookLookup:t.__testHookLookup};(t.ignoreHTTPSErrors||n.ignoreHTTPSErrors)&&(u.rejectUnauthorized=!1);const d=function(e,t){if((0,w.assert)((e.postData?1:0)+(e.jsonData?1:0)+(e.formData?1:0)+(e.multipartData?1:0)<=1,"Only one of 'data', 'form' or 'multipart' can be specified"),void 0!==e.jsonData)return F(t,"content-type","application/json",!0),Buffer.from(e.jsonData,"utf8");if(e.formData){const n=new URLSearchParams;for(const{name:t,value:r}of e.formData)n.append(t,r);return F(t,"content-type","application/x-www-form-urlencoded",!0),Buffer.from(n.toString(),"utf8")}if(e.multipartData){const n=new x.MultipartFormData;for(const t of e.multipartData)t.file?n.addFileField(t.name,t.file):t.value&&n.addField(t.name,t.value);return F(t,"content-type",n.contentTypeHeader(),!0),n.finish()}return void 0!==e.postData?(F(t,"content-type","application/octet-stream",!0),e.postData):void 0}(t,r);d&&F(r,"content-length",String(d.byteLength));const h=await this._sendRequestWithRetries(e,o,u,d,t.maxRetries),p=this._storeResponseBody(h.body);if(this.fetchLog.set(p,e.metadata.log),(void 0!==t.failOnStatusCode?t.failOnStatusCode:n.failOnStatusCode)&&(h.status<200||h.status>=400)){let e="";if(h.body.byteLength){let t=h.body.toString("utf8");t.length>1e3&&(t=t.substring(0,997)+"..."),e=`\nResponse text:\n${t}`}throw new Error(`${h.status} ${h.statusText}${e}`)}return{...h,fetchUid:p}}_parseSetCookieHeader(e,t){if(!t)return[];const n=new URL(e),r="/"+n.pathname.substr(1).split("/").slice(0,-1).join("/"),o=[];for(const e of t){const t=N(e);t&&(t.domain?(0,w.assert)(t.domain.startsWith(".")||!t.domain.includes(".")):t.domain=n.hostname,(0,_.domainMatches)(n.hostname,t.domain)&&(t.path&&t.path.startsWith("/")||(t.path=r),o.push(t)))}return o}async _updateRequestCookieHeader(e,t,n){if(void 0!==D(n,"cookie"))return;const r=(await e.race(this._cookies(t))).filter(e=>new _.Cookie(e).matches(t));r.length&&F(n,"cookie",r.map(e=>`${e.name}=${e.value}`).join("; "))}async _sendRequestWithRetries(e,t,n,r,o){o??=0;let i=250;for(let s=0;s<=o;s++)try{return await this._sendRequest(e,t,n,r)}catch(t){if((0,E.isAbortError)(t))throw t;if(t=(0,C.rewriteOpenSSLErrorIfNeeded)(t),0===o)throw t;if(s===o)throw new Error(`Failed after ${s+1} attempt(s): ${t}`);if("ECONNRESET"!==t.code)throw t;e.log(`  Received ECONNRESET, will retry after ${i}ms.`),await e.wait(i),i*=2}throw new Error("Unreachable")}async _sendRequest(e,t,n,r){await this._updateRequestCookieHeader(e,t,n.headers);const o=D(n.headers,"cookie")?.split(";").map(e=>{const[t,n]=e.split("=").map(e=>e.trim());return{name:t,value:n}})||[],i={url:t,method:n.method,headers:n.headers,cookies:o,postData:r};let s;this.emit(T.Events.Request,i);const a=new Promise((o,a)=>{const l=("https:"===t.protocol?f.default:p.default).request,c=n.agent||("https:"===t.protocol?k.httpsHappyEyeballsAgent:k.httpHappyEyeballsAgent),u={...n,agent:c},d=(0,w.monotonicTime)();let h,y,v,A,_,x,S,E;const O=[],B=l(t,u,async s=>{const l=(0,w.monotonicTime)(),c=e=>{const t=(0,w.monotonicTime)(),n=A??v,r={send:_-d,wait:l-_,receive:t-l,dns:y?y-d:-1,connect:n?n-d:-1,ssl:A?A-v:-1,blocked:h?h-d:-1},o={requestEvent:i,httpVersion:s.httpVersion,statusCode:s.statusCode||0,statusMessage:s.statusMessage||"",headers:s.headers,rawHeaders:s.rawHeaders,cookies:u,body:e,timings:r,serverIPAddress:x,serverPort:S,securityDetails:E};this.emit(T.Events.RequestFinished,o)};e.log(` ${s.statusCode} ${s.statusMessage}`);for(const[t,n]of Object.entries(s.headers))e.log(`  ${t}: ${n}`);const u=this._parseSetCookieHeader(s.url||t.toString(),s.headers["set-cookie"]);if(u.length)try{await this._addCookies(u)}catch(e){await Promise.all(u.map(e=>this._addCookies([e]).catch(()=>{})))}if(j.includes(s.statusCode)&&n.maxRedirects>=0){if(0===n.maxRedirects)return a(new Error("Max redirect count exceeded")),void B.destroy();const i={...n.headers};R(i,"cookie");const l=s.statusCode;let u=n.method;((301===l||302===l)&&"POST"===u||303===l&&!["GET","HEAD"].includes(u))&&(u="GET",r=void 0,R(i,"content-encoding"),R(i,"content-language"),R(i,"content-length"),R(i,"content-location"),R(i,"content-type"));const d={method:u,headers:i,agent:n.agent,maxRedirects:n.maxRedirects-1,...(0,C.getMatchingTLSOptionsForOrigin)(this._defaultOptions().clientCertificates,t.origin),__testHookLookup:n.__testHookLookup};!1===n.rejectUnauthorized&&(d.rejectUnauthorized=!1);const h=Buffer.from(s.headers.location??"","latin1").toString("utf8");if(h){let n;try{n=new URL(h,t)}catch(e){return a(new Error(`uri requested responds with an invalid redirect URL: ${h}`)),void B.destroy()}return i.host&&(i.host=n.host),c(),o(this._sendRequest(e,n,d,r)),void B.destroy()}}if(401===s.statusCode&&!D(n.headers,"authorization")){const i=s.headers["www-authenticate"],a=this._getHttpCredentials(t);if(i?.trim().startsWith("Basic")&&a)return L(n.headers,a),c(),o(this._sendRequest(e,t,n,r)),void B.destroy()}s.on("aborted",()=>a(new Error("aborted")));const p=[],f=()=>{const e=Buffer.concat(p);c(e),o({url:s.url||t.toString(),status:s.statusCode||0,statusText:s.statusMessage||"",headers:P(s.rawHeaders),body:e})};let g,k=s;const O=s.headers["content-encoding"];if("gzip"===O||"x-gzip"===O?g=b.createGunzip({flush:b.constants.Z_SYNC_FLUSH,finishFlush:b.constants.Z_SYNC_FLUSH}):"br"===O?g=b.createBrotliDecompress({flush:b.constants.BROTLI_OPERATION_FLUSH,finishFlush:b.constants.BROTLI_OPERATION_FLUSH}):"deflate"===O&&(g=b.createInflate()),g){const e=new I(f);k=(0,m.pipeline)(s,e,g,e=>{e&&a(new Error(`failed to decompress '${O}' encoding: ${e.message}`))}),k.on("error",e=>a(new Error(`failed to decompress '${O}' encoding: ${e}`)))}else k.on("error",a);k.on("data",e=>p.push(e)),k.on("end",f)});if(B.on("error",a),s=()=>B.destroy(),O.push(w.eventsHelper.addEventListener(this,T.Events.Dispose,()=>{a(new Error("Request context disposed.")),B.destroy()})),B.on("close",()=>w.eventsHelper.removeEventListeners(O)),B.on("socket",e=>{if(B.reusedSocket)return void(h=(0,w.monotonicTime)());const t=(0,k.timingForSocket)(e);y=t.dnsLookupAt,v=t.tcpConnectionAt,O.push(w.eventsHelper.addEventListener(e,"lookup",()=>{y=(0,w.monotonicTime)()}),w.eventsHelper.addEventListener(e,"connect",()=>{v=(0,w.monotonicTime)()}),w.eventsHelper.addEventListener(e,"secureConnect",()=>{if(A=(0,w.monotonicTime)(),e instanceof g.TLSSocket){const t=e.getPeerCertificate();E={protocol:e.getProtocol()??void 0,subjectName:t.subject.CN,validFrom:new Date(t.valid_from).getTime()/1e3,validTo:new Date(t.valid_to).getTime()/1e3,issuer:t.issuer.CN}}})),x=e.remoteAddress,S=e.remotePort}),B.on("finish",()=>{_=(0,w.monotonicTime)()}),e.log(` ${n.method} ${t.toString()}`),n.headers)for(const[t,r]of Object.entries(n.headers))e.log(`  ${t}: ${r}`);r&&B.write(r),B.end()});return e.race(a).catch(e=>{throw s?.(),e})}_getHttpCredentials(e){if(!this._defaultOptions().httpCredentials?.origin||e.origin.toLowerCase()===this._defaultOptions().httpCredentials?.origin?.toLowerCase())return this._defaultOptions().httpCredentials}}class I extends m.Transform{constructor(e){super(),this._receivedSomeData=!1,this._onEmptyStreamCallback=e}_transform(e,t,n){this._receivedSomeData=!0,n(null,e)}_flush(e){this._receivedSomeData?e(null):this._onEmptyStreamCallback()}}class B extends T{constructor(e){super(e),this._context=e,e.once(A.BrowserContext.Events.Close,()=>this._disposeImpl())}tracing(){return this._context.tracing}async dispose(e){this._closeReason=e.reason,this.fetchResponses.clear()}_defaultOptions(){return{userAgent:this._context._options.userAgent||this._context._browser.userAgent(),extraHTTPHeaders:this._context._options.extraHTTPHeaders,failOnStatusCode:void 0,httpCredentials:this._context._options.httpCredentials,proxy:this._context._options.proxy||this._context._browser.options.proxy,ignoreHTTPSErrors:this._context._options.ignoreHTTPSErrors,baseURL:this._context._options.baseURL,clientCertificates:this._context._options.clientCertificates}}async _addCookies(e){await this._context.addCookies(e)}async _cookies(e){return await this._context.cookies(e.toString())}async storageState(e,t){return this._context.storageState(e,t)}}class M extends T{constructor(e,t){super(e),this._cookieStore=new _.CookieStore,this.attribution.context=this,t.storageState&&(this._origins=t.storageState.origins?.map(e=>({indexedDB:[],...e})),this._cookieStore.addCookies(t.storageState.cookies||[])),(0,A.verifyClientCertificates)(t.clientCertificates),this._options={baseURL:t.baseURL,userAgent:t.userAgent||(0,v.getUserAgent)(),extraHTTPHeaders:t.extraHTTPHeaders,failOnStatusCode:!!t.failOnStatusCode,ignoreHTTPSErrors:!!t.ignoreHTTPSErrors,maxRedirects:t.maxRedirects,httpCredentials:t.httpCredentials,clientCertificates:t.clientCertificates,proxy:t.proxy},this._tracing=new O.Tracing(this,t.tracesDir)}tracing(){return this._tracing}async dispose(e){this._closeReason=e.reason,await this._tracing.flush(),await this._tracing.deleteTmpTracesDir(),this._disposeImpl()}_defaultOptions(){return this._options}async _addCookies(e){this._cookieStore.addCookies(e)}async _cookies(e){return this._cookieStore.cookies(e)}async storageState(e,t=!1){return{cookies:this._cookieStore.allCookies(),origins:(this._origins||[]).map(e=>({...e,indexedDB:t?e.indexedDB:[]}))}}}function P(e){const t=[];for(let n=0;n<e.length;n+=2)t.push({name:e[n],value:e[n+1]});return t}const j=[301,302,303,307,308];function N(e){const t=(0,_.parseRawCookie)(e);return t?{domain:"",path:"",expires:-1,httpOnly:!1,secure:!1,sameSite:"Lax",...t}:null}function F(e,t,n,r=!1){const o=Object.entries(e).find(e=>e[0].toLowerCase()===t.toLowerCase());o?r||(e[o[0]]=n):e[t]=n}function D(e,t){const n=Object.entries(e).find(e=>e[0].toLowerCase()===t.toLowerCase());return n?n[1]:void 0}function R(e,t){delete e[t]}function L(e,t){const{username:n,password:r}=t;F(e,"authorization",`Basic ${Buffer.from(`${n||""}:${r||""}`).toString("base64")}`)}},"./node_modules/playwright-core/lib/server/fileChooser.js":e=>{"use strict";var t,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,i=Object.prototype.hasOwnProperty,s={};((e,t)=>{for(var r in t)n(e,r,{get:t[r],enumerable:!0})})(s,{FileChooser:()=>a}),e.exports=(t=s,((e,t,s,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let s of o(t))i.call(e,s)||undefined===s||n(e,s,{get:()=>t[s],enumerable:!(a=r(t,s))||a.enumerable});return e})(n({},"__esModule",{value:!0}),t));class a{constructor(e,t,n){this._page=e,this._elementHandle=t,this._isMultiple=n}element(){return this._elementHandle}isMultiple(){return this._isMultiple}page(){return this._page}}},"./node_modules/playwright-core/lib/server/fileUploadUtils.js":(e,t,n)=>{"use strict";var r,o=Object.create,i=Object.defineProperty,s=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,l=Object.getPrototypeOf,c=Object.prototype.hasOwnProperty,u=(e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let o of a(t))c.call(e,o)||o===n||i(e,o,{get:()=>t[o],enumerable:!(r=s(t,o))||r.enumerable});return e},d=(e,t,n)=>(n=null!=e?o(l(e)):{},u(!t&&e&&e.__esModule?n:i(n,"default",{value:e,enumerable:!0}),e)),h={};((e,t)=>{for(var n in t)i(e,n,{get:t[n],enumerable:!0})})(h,{fileUploadSizeLimit:()=>b,prepareFilesForUpload:()=>w}),e.exports=(r=h,u(i({},"__esModule",{value:!0}),r));var p=d(n("fs")),f=d(n("path")),m=n("./node_modules/playwright-core/lib/utils/isomorphic/assert.js"),g=n("./node_modules/playwright-core/lib/utilsBundle.js");const b=52428800;async function w(e,t){const{payloads:n,streams:r,directoryStream:o}=t;let{localPaths:i,localDirectory:s}=t;if(1!==[n,i,s,r,o].filter(Boolean).length)throw new Error("Exactly one of payloads, localPaths and streams must be provided");if(r&&(i=r.map(e=>e.path())),o&&(s=o.path()),i)for(const e of i)(0,m.assert)(f.default.isAbsolute(e)&&f.default.resolve(e)===e,"Paths provided to localPaths must be absolute and fully resolved.");let a=n;if(!e._page.browserContext._browser._isCollocatedWithServer&&i){if(await async function(e){return(await Promise.all(e.map(async e=>(await p.default.promises.stat(e)).size))).reduce((e,t)=>e+t,0)>=b}(i))throw new Error("Cannot transfer files larger than 50Mb to a browser not co-located with the server");a=await Promise.all(i.map(async e=>({name:f.default.basename(e),buffer:await p.default.promises.readFile(e),lastModifiedMs:(await p.default.promises.stat(e)).mtimeMs}))),i=void 0}const l=a?.map(e=>({name:e.name,mimeType:e.mimeType||g.mime.getType(e.name)||"application/octet-stream",buffer:e.buffer.toString("base64"),lastModifiedMs:e.lastModifiedMs}));return{localPaths:i,localDirectory:s,filePayloads:l}}},"./node_modules/playwright-core/lib/server/firefox/ffAccessibility.js":e=>{"use strict";var t,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,i=Object.prototype.hasOwnProperty,s={};async function a(e,t){const n=t?t._objectId:void 0,{tree:r}=await e.send("Accessibility.getFullAXTree",{objectId:n}),o=new c(r);return{tree:o,needle:t?o._findNeedle():null}}((e,t)=>{for(var r in t)n(e,r,{get:t[r],enumerable:!0})})(s,{getAccessibilityTree:()=>a}),e.exports=(t=s,((e,t,s,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let s of o(t))i.call(e,s)||undefined===s||n(e,s,{get:()=>t[s],enumerable:!(a=r(t,s))||a.enumerable});return e})(n({},"__esModule",{value:!0}),t));const l=new Map(Object.entries({pushbutton:"button",checkbutton:"checkbox",editcombobox:"combobox","content deletion":"deletion",footnote:"doc-footnote","non-native document":"document",grouping:"group",graphic:"img","content insertion":"insertion",animation:"marquee","flat equation":"math",menupopup:"menu","check menu item":"menuitemcheckbox","radio menu item":"menuitemradio","listbox option":"option",radiobutton:"radio",statusbar:"status",pagetab:"tab",pagetablist:"tablist",propertypage:"tabpanel",entry:"textbox",outline:"tree","tree table":"treegrid",outlineitem:"treeitem"}));class c{constructor(e){this._payload=e,this._children=(e.children||[]).map(e=>new c(e)),this._editable=!!e.editable,this._richlyEditable=this._editable&&"textarea"!==e.tag&&"input"!==e.tag,this._focusable=!!e.focusable,this._expanded=!!e.expanded,this._name=this._payload.name,this._role=this._payload.role}_isPlainTextField(){return!(this._richlyEditable||!this._editable&&"entry"!==this._role)}_isTextOnlyObject(){const e=this._role;return"text leaf"===e||"text"===e||"statictext"===e}_hasFocusableChild(){if(void 0===this._cachedHasFocusableChild){this._cachedHasFocusableChild=!1;for(const e of this._children)if(e._focusable||e._hasFocusableChild()){this._cachedHasFocusableChild=!0;break}}return this._cachedHasFocusableChild}children(){return this._children}_findNeedle(){if(this._payload.foundObject)return this;for(const e of this._children){const t=e._findNeedle();if(t)return t}return null}isLeafNode(){if(!this._children.length)return!0;if(this._isPlainTextField()||this._isTextOnlyObject())return!0;switch(this._role){case"graphic":case"scrollbar":case"slider":case"separator":case"progressbar":return!0}return!(this._hasFocusableChild()||(!this._focusable||"document"===this._role||!this._name)&&("heading"!==this._role||!this._name))}isControl(){switch(this._role){case"checkbutton":case"check menu item":case"check rich option":case"combobox":case"combobox option":case"color chooser":case"listbox":case"listbox option":case"listbox rich option":case"popup menu":case"menupopup":case"menuitem":case"menubar":case"button":case"pushbutton":case"radiobutton":case"radio menuitem":case"scrollbar":case"slider":case"spinbutton":case"switch":case"pagetab":case"entry":case"tree table":return!0;default:return!1}}isInteresting(e){return!(!this._focusable&&!this._richlyEditable)||!!this.isControl()||!e&&this.isLeafNode()&&!!this._name.trim()}serialize(){const e={role:l.get(this._role)||this._role,name:this._name||""},t=["name","description","roledescription","valuetext","keyshortcuts"];for(const n of t)n in this._payload&&(e[n]=this._payload[n]);const n=["disabled","expanded","focused","modal","multiline","multiselectable","readonly","required","selected"];for(const t of n){if("document"===this._role&&"focused"===t)continue;const n=this._payload[t];n&&(e[t]=n)}const r=["level"];for(const t of r)t in this._payload&&(e[t]=this._payload[t]);const o=["autocomplete","haspopup","orientation"];for(const t of o){const n=this._payload[t];n&&"false"!==n&&(e[t]=n)}const i=e;return i.valueString=this._payload.value,"checked"in this._payload&&(i.checked=!0===this._payload.checked?"checked":"mixed"===this._payload.checked?"mixed":"unchecked"),"pressed"in this._payload&&(i.pressed=!0===this._payload.pressed?"pressed":"released"),"invalid"in this._payload&&(i.invalid=!0===this._payload.invalid?"true":"false"),i}}},"./node_modules/playwright-core/lib/server/firefox/ffBrowser.js":(e,t,n)=>{"use strict";var r,o=Object.create,i=Object.defineProperty,s=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,l=Object.getPrototypeOf,c=Object.prototype.hasOwnProperty,u=(e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let o of a(t))c.call(e,o)||o===n||i(e,o,{get:()=>t[o],enumerable:!(r=s(t,o))||r.enumerable});return e},d={};((e,t)=>{for(var n in t)i(e,n,{get:t[n],enumerable:!0})})(d,{FFBrowser:()=>v,FFBrowserContext:()=>A}),e.exports=(r=d,u(i({},"__esModule",{value:!0}),r));var h=n("./node_modules/playwright-core/lib/utils.js"),p=n("./node_modules/playwright-core/lib/server/browser.js"),f=n("./node_modules/playwright-core/lib/server/browserContext.js"),m=n("./node_modules/playwright-core/lib/server/errors.js"),g=((e,t,n)=>(n=null!=e?o(l(e)):{},u(e&&e.__esModule?n:i(n,"default",{value:e,enumerable:!0}),e)))(n("./node_modules/playwright-core/lib/server/network.js")),b=n("./node_modules/playwright-core/lib/server/firefox/ffConnection.js"),w=n("./node_modules/playwright-core/lib/server/firefox/ffPage.js"),y=n("./node_modules/playwright-core/lib/server/page.js");class v extends p.Browser{constructor(e,t,n){super(e,n),this._version="",this._userAgent="",this._connection=t,this.session=t.rootSession,this._ffPages=new Map,this._contexts=new Map,this._connection.on(b.ConnectionEvents.Disconnected,()=>this._onDisconnect()),this.session.on("Browser.attachedToTarget",this._onAttachedToTarget.bind(this)),this.session.on("Browser.detachedFromTarget",this._onDetachedFromTarget.bind(this)),this.session.on("Browser.downloadCreated",this._onDownloadCreated.bind(this)),this.session.on("Browser.downloadFinished",this._onDownloadFinished.bind(this)),this.session.on("Browser.videoRecordingFinished",this._onVideoRecordingFinished.bind(this))}static async connect(e,t,n){const r=new b.FFConnection(t,n.protocolLogger,n.browserLogsCollector),o=new v(e,r,n);n.__testHookOnConnectToBrowser&&await n.__testHookOnConnectToBrowser();let i=n.originalLaunchOptions.firefoxUserPrefs??{};Object.keys(x).length&&(i={...x,...i});const s=[o.session.send("Browser.enable",{attachToDefaultContext:!!n.persistent,userPrefs:Object.entries(i).map(([e,t])=>({name:e,value:t}))}),o._initVersion()];n.persistent&&(o._defaultContext=new A(o,void 0,n.persistent),s.push(o._defaultContext._initialize()));const a=n.originalLaunchOptions.proxyOverride||n.proxy;return a&&s.push(o.session.send("Browser.setBrowserProxy",_(a))),await Promise.all(s),o}async _initVersion(){const e=await this.session.send("Browser.getInfo");this._version=e.version.substring(e.version.indexOf("/")+1),this._userAgent=e.userAgent}isConnected(){return!this._connection._closed}async doCreateNewContext(e){if(e.isMobile)throw new Error("options.isMobile is not supported in Firefox");const{browserContextId:t}=await this.session.send("Browser.createBrowserContext",{removeOnDetach:!0}),n=new A(this,t,e);return await n._initialize(),this._contexts.set(t,n),n}contexts(){return Array.from(this._contexts.values())}version(){return this._version}userAgent(){return this._userAgent}_onDetachedFromTarget(e){const t=this._ffPages.get(e.targetId);this._ffPages.delete(e.targetId),t.didClose()}_onAttachedToTarget(e){const{targetId:t,browserContextId:n,openerId:r,type:o}=e.targetInfo;(0,h.assert)("page"===o);const i=n?this._contexts.get(n):this._defaultContext;(0,h.assert)(i,`Unknown context id:${n}, _defaultContext: ${this._defaultContext}`);const s=this._connection.createSession(e.sessionId),a=r?this._ffPages.get(r):null,l=new w.FFPage(s,i,a);this._ffPages.set(t,l)}_onDownloadCreated(e){const t=this._ffPages.get(e.pageTargetId);if(!t)return;t._page.frameManager.frameAbortedNavigation(e.frameId,"Download is starting");let n=t._page.initializedOrUndefined();n||(t._markAsError(new Error("Starting new page download")),t._opener&&(n=t._opener._page.initializedOrUndefined())),n&&this._downloadCreated(n,e.uuid,e.url,e.suggestedFileName)}_onDownloadFinished(e){const t=e.canceled?"canceled":e.error;this._downloadFinished(e.uuid,t)}_onVideoRecordingFinished(e){this._takeVideo(e.screencastId)?.reportFinished()}_onDisconnect(){for(const e of this._idToVideo.values())e.artifact.reportFinished(new m.TargetClosedError);this._idToVideo.clear();for(const e of this._ffPages.values())e.didClose();this._ffPages.clear(),this._didClose()}}class A extends f.BrowserContext{constructor(e,t,n){super(e,n,t)}async _initialize(){(0,h.assert)(!this._ffPages().length);const e=this._browserContextId,t=[super._initialize(),this._updateInitScripts()];"internal-browser-default"!==this._options.acceptDownloads&&t.push(this._browser.session.send("Browser.setDownloadOptions",{browserContextId:e,downloadOptions:{behavior:"accept"===this._options.acceptDownloads?"saveToDisk":"cancel",downloadsDir:this._browser.options.downloadsPath}})),t.push(this.doUpdateDefaultViewport()),this._options.hasTouch&&t.push(this._browser.session.send("Browser.setTouchOverride",{browserContextId:e,hasTouch:!0})),this._options.userAgent&&t.push(this._browser.session.send("Browser.setUserAgentOverride",{browserContextId:e,userAgent:this._options.userAgent})),this._options.bypassCSP&&t.push(this._browser.session.send("Browser.setBypassCSP",{browserContextId:e,bypassCSP:!0})),(this._options.ignoreHTTPSErrors||this._options.internalIgnoreHTTPSErrors)&&t.push(this._browser.session.send("Browser.setIgnoreHTTPSErrors",{browserContextId:e,ignoreHTTPSErrors:!0})),!1===this._options.javaScriptEnabled&&t.push(this._browser.session.send("Browser.setJavaScriptDisabled",{browserContextId:e,javaScriptDisabled:!0})),this._options.locale&&t.push(this._browser.session.send("Browser.setLocaleOverride",{browserContextId:e,locale:this._options.locale})),this._options.timezoneId&&t.push(this._browser.session.send("Browser.setTimezoneOverride",{browserContextId:e,timezoneId:this._options.timezoneId})),(this._options.extraHTTPHeaders||this._options.locale)&&t.push(this.doUpdateExtraHTTPHeaders()),this._options.httpCredentials&&t.push(this.setHTTPCredentials(this._options.httpCredentials)),this._options.geolocation&&t.push(this.setGeolocation(this._options.geolocation)),this._options.offline&&t.push(this.doUpdateOffline()),t.push(this.doUpdateDefaultEmulatedMedia()),this._options.recordVideo&&t.push(this._ensureVideosPath().then(()=>this._browser.session.send("Browser.setVideoRecordingOptions",{options:{...this._options.recordVideo.size,dir:this._options.recordVideo.dir},browserContextId:this._browserContextId})));const n=this._options.proxyOverride||this._options.proxy;n&&t.push(this._browser.session.send("Browser.setContextProxy",{browserContextId:this._browserContextId,..._(n)})),await Promise.all(t)}_ffPages(){return Array.from(this._browser._ffPages.values()).filter(e=>e._browserContext===this)}possiblyUninitializedPages(){return this._ffPages().map(e=>e._page)}async doCreateNewPage(){const{targetId:e}=await this._browser.session.send("Browser.newPage",{browserContextId:this._browserContextId}).catch(e=>{if(e.message.includes("Failed to override timezone"))throw new Error(`Invalid timezone ID: ${this._options.timezoneId}`);throw e});return this._browser._ffPages.get(e)._page}async doGetCookies(e){const{cookies:t}=await this._browser.session.send("Browser.getCookies",{browserContextId:this._browserContextId});return g.filterCookies(t.map(e=>{const{name:t,value:n,domain:r,path:o,expires:i,httpOnly:s,secure:a,sameSite:l}=e;return{name:t,value:n,domain:r,path:o,expires:i,httpOnly:s,secure:a,sameSite:l}}),e)}async addCookies(e){const t=g.rewriteCookies(e).map(e=>{const{name:t,value:n,url:r,domain:o,path:i,expires:s,httpOnly:a,secure:l,sameSite:c}=e;return{name:t,value:n,url:r,domain:o,path:i,expires:-1===s?void 0:s,httpOnly:a,secure:l,sameSite:c}});await this._browser.session.send("Browser.setCookies",{browserContextId:this._browserContextId,cookies:t})}async doClearCookies(){await this._browser.session.send("Browser.clearCookies",{browserContextId:this._browserContextId})}async doGrantPermissions(e,t){const n=new Map([["geolocation","geo"],["persistent-storage","persistent-storage"],["push","push"],["notifications","desktop-notification"]]),r=t.map(e=>{const t=n.get(e);if(!t)throw new Error("Unknown permission: "+e);return t});await this._browser.session.send("Browser.grantPermissions",{origin:e,browserContextId:this._browserContextId,permissions:r})}async doClearPermissions(){await this._browser.session.send("Browser.resetPermissions",{browserContextId:this._browserContextId})}async setGeolocation(e){(0,f.verifyGeolocation)(e),this._options.geolocation=e,await this._browser.session.send("Browser.setGeolocationOverride",{browserContextId:this._browserContextId,geolocation:e||null})}async doUpdateExtraHTTPHeaders(){let e=this._options.extraHTTPHeaders||[];this._options.locale&&(e=g.mergeHeaders([e,g.singleHeader("Accept-Language",this._options.locale)])),await this._browser.session.send("Browser.setExtraHTTPHeaders",{browserContextId:this._browserContextId,headers:e})}async setUserAgent(e){await this._browser.session.send("Browser.setUserAgentOverride",{browserContextId:this._browserContextId,userAgent:e||null})}async doUpdateOffline(){await this._browser.session.send("Browser.setOnlineOverride",{browserContextId:this._browserContextId,override:this._options.offline?"offline":"online"})}async doSetHTTPCredentials(e){this._options.httpCredentials=e;let t=null;if(e){const{username:n,password:r,origin:o}=e;t={username:n,password:r,origin:o}}await this._browser.session.send("Browser.setHTTPCredentials",{browserContextId:this._browserContextId,credentials:t})}async doAddInitScript(e){await this._updateInitScripts()}async doRemoveInitScripts(e){await this._updateInitScripts()}async _updateInitScripts(){const e=[...this._pageBindings.values()].map(e=>e.initScript.source);this.bindingsInitScript&&e.unshift(this.bindingsInitScript.source);const t=this.initScripts.map(e=>e.source);await this._browser.session.send("Browser.setInitScripts",{browserContextId:this._browserContextId,scripts:[...e,...t].map(e=>({script:e}))})}async doUpdateRequestInterception(){await Promise.all([this._browser.session.send("Browser.setRequestInterception",{browserContextId:this._browserContextId,enabled:this.requestInterceptors.length>0}),this._browser.session.send("Browser.setCacheDisabled",{browserContextId:this._browserContextId,cacheDisabled:this.requestInterceptors.length>0})])}async doUpdateDefaultViewport(){if(!this._options.viewport)return;const e={viewportSize:{width:this._options.viewport.width,height:this._options.viewport.height},deviceScaleFactor:this._options.deviceScaleFactor||1};await this._browser.session.send("Browser.setDefaultViewport",{browserContextId:this._browserContextId,viewport:e})}async doUpdateDefaultEmulatedMedia(){"no-override"!==this._options.colorScheme&&await this._browser.session.send("Browser.setColorScheme",{browserContextId:this._browserContextId,colorScheme:void 0!==this._options.colorScheme?this._options.colorScheme:"light"}),"no-override"!==this._options.reducedMotion&&await this._browser.session.send("Browser.setReducedMotion",{browserContextId:this._browserContextId,reducedMotion:void 0!==this._options.reducedMotion?this._options.reducedMotion:"no-preference"}),"no-override"!==this._options.forcedColors&&await this._browser.session.send("Browser.setForcedColors",{browserContextId:this._browserContextId,forcedColors:void 0!==this._options.forcedColors?this._options.forcedColors:"none"}),"no-override"!==this._options.contrast&&await this._browser.session.send("Browser.setContrast",{browserContextId:this._browserContextId,contrast:void 0!==this._options.contrast?this._options.contrast:"no-preference"})}async doExposePlaywrightBinding(){this._browser.session.send("Browser.addBinding",{browserContextId:this._browserContextId,name:y.PageBinding.kBindingName,script:""})}onClosePersistent(){}async clearCache(){await this._browser.session.send("Browser.clearCache")}async doClose(e){this._browserContextId?(await this._browser.session.send("Browser.removeBrowserContext",{browserContextId:this._browserContextId}),this._browser._contexts.delete(this._browserContextId)):(this._options.recordVideo&&await this._browser.session.send("Browser.setVideoRecordingOptions",{options:void 0,browserContextId:this._browserContextId}),await this._browser.close({reason:e}))}async cancelDownload(e){await this._browser.session.send("Browser.cancelDownload",{uuid:e})}}function _(e){const t=new URL(e.server);let n=parseInt(t.port,10),r="http";return"socks5:"===t.protocol?r="socks":"socks4:"===t.protocol?r="socks4":"https:"===t.protocol&&(r="https"),""===t.port&&("http:"===t.protocol?n=80:"https:"===t.protocol&&(n=443)),{type:r,bypass:e.bypass?e.bypass.split(",").map(e=>e.trim()):[],host:t.hostname,port:n,username:e.username,password:e.password}}const x={}},"./node_modules/playwright-core/lib/server/firefox/ffConnection.js":(e,t,n)=>{"use strict";var r,o=Object.defineProperty,i=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,l={};((e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})})(l,{ConnectionEvents:()=>p,FFConnection:()=>m,FFSession:()=>g,kBrowserCloseMessageId:()=>f}),e.exports=(r=l,((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let n of s(t))a.call(e,n)||undefined===n||o(e,n,{get:()=>t[n],enumerable:!(r=i(t,n))||r.enumerable});return e})(o({},"__esModule",{value:!0}),r));var c=n("events"),u=n("./node_modules/playwright-core/lib/server/utils/debugLogger.js"),d=n("./node_modules/playwright-core/lib/server/helper.js"),h=n("./node_modules/playwright-core/lib/server/protocolError.js");const p={Disconnected:Symbol("Disconnected")},f=-9999;class m extends c.EventEmitter{constructor(e,t,n){super(),this.setMaxListeners(0),this._transport=e,this._protocolLogger=t,this._browserLogsCollector=n,this._lastId=0,this._sessions=new Map,this._closed=!1,this.rootSession=new g(this,"",e=>this._rawSend(e)),this._sessions.set("",this.rootSession),this._transport.onmessage=this._onMessage.bind(this),this._transport.onclose=this._onClose.bind(this)}nextMessageId(){return++this._lastId}_rawSend(e){this._protocolLogger("send",e),this._transport.send(e)}async _onMessage(e){if(this._protocolLogger("receive",e),e.id===f)return;const t=this._sessions.get(e.sessionId||"");t&&t.dispatchMessage(e)}_onClose(e){this._closed=!0,this._transport.onmessage=void 0,this._transport.onclose=void 0,this._browserDisconnectedLogs=d.helper.formatBrowserLogs(this._browserLogsCollector.recentLogs(),e),this.rootSession.dispose(),Promise.resolve().then(()=>this.emit(p.Disconnected))}close(){this._closed||this._transport.close()}createSession(e){const t=new g(this,e,t=>this._rawSend({...t,sessionId:e}));return this._sessions.set(e,t),t}}class g extends c.EventEmitter{constructor(e,t,n){super(),this._disposed=!1,this._crashed=!1,this.setMaxListeners(0),this._callbacks=new Map,this._connection=e,this._sessionId=t,this._rawSend=n,this.on=super.on,this.addListener=super.addListener,this.off=super.removeListener,this.removeListener=super.removeListener,this.once=super.once}markAsCrashed(){this._crashed=!0}async send(e,t){if(this._crashed||this._disposed||this._connection._closed||this._connection._browserDisconnectedLogs)throw new h.ProtocolError(this._crashed?"crashed":"closed",void 0,this._connection._browserDisconnectedLogs);const n=this._connection.nextMessageId();return this._rawSend({method:e,params:t,id:n}),new Promise((t,r)=>{this._callbacks.set(n,{resolve:t,reject:r,error:new h.ProtocolError("error",e)})})}sendMayFail(e,t){return this.send(e,t).catch(e=>u.debugLogger.log("error",e))}dispatchMessage(e){if(e.id){const t=this._callbacks.get(e.id);t&&(this._callbacks.delete(e.id),e.error?(t.error.setMessage(e.error.message),t.reject(t.error)):t.resolve(e.result))}else Promise.resolve().then(()=>this.emit(e.method,e.params))}dispose(){this._disposed=!0,this._connection._sessions.delete(this._sessionId);for(const e of this._callbacks.values())e.error.type=this._crashed?"crashed":"closed",e.error.logs=this._connection._browserDisconnectedLogs,e.reject(e.error);this._callbacks.clear()}}},"./node_modules/playwright-core/lib/server/firefox/ffExecutionContext.js":(e,t,n)=>{"use strict";var r,o=Object.create,i=Object.defineProperty,s=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,l=Object.getPrototypeOf,c=Object.prototype.hasOwnProperty,u=(e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let o of a(t))c.call(e,o)||o===n||i(e,o,{get:()=>t[o],enumerable:!(r=s(t,o))||r.enumerable});return e},d=(e,t,n)=>(n=null!=e?o(l(e)):{},u(!t&&e&&e.__esModule?n:i(n,"default",{value:e,enumerable:!0}),e)),h={};((e,t)=>{for(var n in t)i(e,n,{get:t[n],enumerable:!0})})(h,{FFExecutionContext:()=>y,createHandle:()=>_}),e.exports=(r=h,u(i({},"__esModule",{value:!0}),r));var p=n("./node_modules/playwright-core/lib/utils/isomorphic/assert.js"),f=n("./node_modules/playwright-core/lib/utils/isomorphic/stackTrace.js"),m=n("./node_modules/playwright-core/lib/utils/isomorphic/utilityScriptSerializers.js"),g=d(n("./node_modules/playwright-core/lib/server/javascript.js")),b=d(n("./node_modules/playwright-core/lib/server/dom.js")),w=n("./node_modules/playwright-core/lib/server/protocolError.js");class y{constructor(e,t){this._session=e,this._executionContextId=t}async rawEvaluateJSON(e){const t=await this._session.send("Runtime.evaluate",{expression:e,returnByValue:!0,executionContextId:this._executionContextId}).catch(A);return v(t.exceptionDetails),t.result.value}async rawEvaluateHandle(e,t){const n=await this._session.send("Runtime.evaluate",{expression:t,returnByValue:!1,executionContextId:this._executionContextId}).catch(A);return v(n.exceptionDetails),_(e,n.result)}async evaluateWithArguments(e,t,n,r,o){const i=await this._session.send("Runtime.callFunction",{functionDeclaration:e,args:[{objectId:n._objectId,value:void 0},...r.map(e=>({value:e})),...o.map(e=>({objectId:e._objectId,value:void 0}))],returnByValue:t,executionContextId:this._executionContextId}).catch(A);return v(i.exceptionDetails),t?(0,m.parseEvaluationResultValue)(i.result.value):_(n._context,i.result)}async getProperties(e){const t=await this._session.send("Runtime.getObjectProperties",{executionContextId:this._executionContextId,objectId:e._objectId}),n=new Map;for(const r of t.properties)n.set(r.name,_(e._context,r.value));return n}async releaseHandle(e){e._objectId&&await this._session.send("Runtime.disposeObject",{executionContextId:this._executionContextId,objectId:e._objectId})}}function v(e){if(e)throw e.value?new g.JavaScriptErrorInEvaluate(JSON.stringify(e.value)):new g.JavaScriptErrorInEvaluate(e.text+(e.stack?"\n"+e.stack:""))}function A(e){if(e.message.includes("cyclic object value")||e.message.includes("Object is not serializable"))return{result:{type:"undefined",value:void 0}};if(e instanceof TypeError&&e.message.startsWith("Converting circular structure to JSON")&&(0,f.rewriteErrorMessage)(e,e.message+" Are you passing a nested JSHandle?"),!g.isJavaScriptErrorInEvaluate(e)&&!(0,w.isSessionClosedError)(e))throw new Error("Execution context was destroyed, most likely because of a navigation.");throw e}function _(e,t){return"node"===t.subtype?((0,p.assert)(e instanceof b.FrameExecutionContext),new b.ElementHandle(e,t.objectId)):new g.JSHandle(e,t.subtype||t.type||"","undefined"===(n=t).type?"undefined":n.unserializableValue?String(n.unserializableValue):"symbol"===n.type?"Symbol()":"regexp"===n.subtype?"RegExp":"weakmap"===n.subtype?"WeakMap":"weakset"===n.subtype?"WeakSet":n.subtype?n.subtype[0].toUpperCase()+n.subtype.slice(1):"value"in n?String(n.value):void 0,t.objectId,function(e){const t=e.value,n=e.unserializableValue;return n?g.parseUnserializableValue(n):t}(t));var n}},"./node_modules/playwright-core/lib/server/firefox/ffInput.js":e=>{"use strict";var t,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,i=Object.prototype.hasOwnProperty,s={};function a(e){let t=0;return e.has("Alt")&&(t|=1),e.has("Control")&&(t|=2),e.has("Shift")&&(t|=4),e.has("Meta")&&(t|=8),t}function l(e){return"left"===e?0:"middle"===e?1:"right"===e?2:0}function c(e){let t=0;return e.has("left")&&(t|=1),e.has("right")&&(t|=2),e.has("middle")&&(t|=4),t}((e,t)=>{for(var r in t)n(e,r,{get:t[r],enumerable:!0})})(s,{RawKeyboardImpl:()=>u,RawMouseImpl:()=>d,RawTouchscreenImpl:()=>h}),e.exports=(t=s,((e,t,s,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let s of o(t))i.call(e,s)||undefined===s||n(e,s,{get:()=>t[s],enumerable:!(a=r(t,s))||a.enumerable});return e})(n({},"__esModule",{value:!0}),t));class u{constructor(e){this._client=e}async keydown(e,t,n,r,o){let i=r.text;"\r"===i&&(i="");const{code:s,key:a,location:l}=r;await e.race(this._client.send("Page.dispatchKeyEvent",{type:"keydown",keyCode:r.keyCodeWithoutLocation,code:s,key:a,repeat:o,location:l,text:i}))}async keyup(e,t,n,r){const{code:o,key:i,location:s}=r;await e.race(this._client.send("Page.dispatchKeyEvent",{type:"keyup",key:i,keyCode:r.keyCodeWithoutLocation,code:o,location:s,repeat:!1}))}async sendText(e,t){await e.race(this._client.send("Page.insertText",{text:t}))}}class d{constructor(e){this._client=e}async move(e,t,n,r,o,i,s){await e.race(this._client.send("Page.dispatchMouseEvent",{type:"mousemove",button:0,buttons:c(o),x:Math.floor(t),y:Math.floor(n),modifiers:a(i)}))}async down(e,t,n,r,o,i,s){await e.race(this._client.send("Page.dispatchMouseEvent",{type:"mousedown",button:l(r),buttons:c(o),x:Math.floor(t),y:Math.floor(n),modifiers:a(i),clickCount:s}))}async up(e,t,n,r,o,i,s){await e.race(this._client.send("Page.dispatchMouseEvent",{type:"mouseup",button:l(r),buttons:c(o),x:Math.floor(t),y:Math.floor(n),modifiers:a(i),clickCount:s}))}async wheel(e,t,n,r,o,i,s){await this._page.mainFrame().evaluateExpression("new Promise(requestAnimationFrame)",{world:"utility"}),await e.race(this._client.send("Page.dispatchWheelEvent",{deltaX:i,deltaY:s,x:Math.floor(t),y:Math.floor(n),deltaZ:0,modifiers:a(o)}))}setPage(e){this._page=e}}class h{constructor(e){this._client=e}async tap(e,t,n,r){await e.race(this._client.send("Page.dispatchTapEvent",{x:t,y:n,modifiers:a(r)}))}}},"./node_modules/playwright-core/lib/server/firefox/ffNetworkManager.js":(e,t,n)=>{"use strict";var r,o=Object.create,i=Object.defineProperty,s=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,l=Object.getPrototypeOf,c=Object.prototype.hasOwnProperty,u=(e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let o of a(t))c.call(e,o)||o===n||i(e,o,{get:()=>t[o],enumerable:!(r=s(t,o))||r.enumerable});return e},d={};((e,t)=>{for(var n in t)i(e,n,{get:t[n],enumerable:!0})})(d,{FFNetworkManager:()=>f}),e.exports=(r=d,u(i({},"__esModule",{value:!0}),r));var h=n("./node_modules/playwright-core/lib/server/utils/eventsHelper.js"),p=((e,t,n)=>(n=null!=e?o(l(e)):{},u(e&&e.__esModule?n:i(n,"default",{value:e,enumerable:!0}),e)))(n("./node_modules/playwright-core/lib/server/network.js"));class f{constructor(e,t){this._session=e,this._requests=new Map,this._page=t,this._eventListeners=[h.eventsHelper.addEventListener(e,"Network.requestWillBeSent",this._onRequestWillBeSent.bind(this)),h.eventsHelper.addEventListener(e,"Network.responseReceived",this._onResponseReceived.bind(this)),h.eventsHelper.addEventListener(e,"Network.requestFinished",this._onRequestFinished.bind(this)),h.eventsHelper.addEventListener(e,"Network.requestFailed",this._onRequestFailed.bind(this))]}dispose(){h.eventsHelper.removeEventListeners(this._eventListeners)}async setRequestInterception(e){await Promise.all([this._session.send("Network.setRequestInterception",{enabled:e}),this._session.send("Page.setCacheDisabled",{cacheDisabled:e})])}_onRequestWillBeSent(e){const t=e.redirectedFrom&&this._requests.get(e.redirectedFrom)||null,n=t?t.request.frame():e.frameId?this._page.frameManager.frame(e.frameId):null;if(!n)return;if("OPTIONS"===e.method&&!e.isIntercepted)return;t&&this._requests.delete(t._id);const r=new b(n,t,e);let o;e.isIntercepted&&(o=new w(this._session,r)),this._requests.set(r._id,r),this._page.frameManager.requestStarted(r.request,o)}_onResponseReceived(e){const t=this._requests.get(e.requestId);if(!t)return;const n=e.timing.startTime;function r(e){return e?(e-n)/1e3:-1}const o={startTime:n/1e3,domainLookupStart:r(e.timing.domainLookupStart),domainLookupEnd:r(e.timing.domainLookupEnd),connectStart:r(e.timing.connectStart),secureConnectionStart:r(e.timing.secureConnectionStart),connectEnd:r(e.timing.connectEnd),requestStart:r(e.timing.requestStart),responseStart:r(e.timing.responseStart)},i=new p.Response(t.request,e.status,e.statusText,function(e){const t=[];for(const n of e){const e="set-cookie"===n.name.toLowerCase()?"\n":",",r=n.value.split(e).map(e=>e.trim());for(const e of r)t.push({name:n.name,value:e})}return t}(e.headers),o,async()=>{const e=await this._session.send("Network.getResponseBody",{requestId:t._id});if(e.evicted)throw new Error(`Response body for ${t.request.method()} ${t.request.url()} was evicted!`);return Buffer.from(e.base64body,"base64")},e.fromServiceWorker);e?.remoteIPAddress&&"number"==typeof e?.remotePort?i._serverAddrFinished({ipAddress:e.remoteIPAddress,port:e.remotePort}):i._serverAddrFinished(),i._securityDetailsFinished({protocol:e?.securityDetails?.protocol,subjectName:e?.securityDetails?.subjectName,issuer:e?.securityDetails?.issuer,validFrom:e?.securityDetails?.validFrom,validTo:e?.securityDetails?.validTo}),i.setRawResponseHeaders(null),i.setResponseHeadersSize(null),this._page.frameManager.requestReceivedResponse(i)}_onRequestFinished(e){const t=this._requests.get(e.requestId);if(!t)return;const n=t.request._existingResponse();n.setTransferSize(e.transferSize),n.setEncodedBodySize(e.encodedBodySize);const r=n.status()>=300&&n.status()<=399,o=e.responseEndTime?e.responseEndTime/1e3-n.timing().startTime:-1;r||this._requests.delete(t._id),n._requestFinished(o),e.protocolVersion&&n._setHttpVersion(e.protocolVersion),this._page.frameManager.reportRequestFinished(t.request,n)}_onRequestFailed(e){const t=this._requests.get(e.requestId);if(!t)return;this._requests.delete(t._id);const n=t.request._existingResponse();n&&(n.setTransferSize(null),n.setEncodedBodySize(null),n._requestFinished(-1)),t.request._setFailureText(e.errorCode),this._page.frameManager.requestFailed(t.request,"NS_BINDING_ABORTED"===e.errorCode)}}const m={TYPE_INVALID:"other",TYPE_OTHER:"other",TYPE_SCRIPT:"script",TYPE_IMAGE:"image",TYPE_STYLESHEET:"stylesheet",TYPE_OBJECT:"other",TYPE_DOCUMENT:"document",TYPE_SUBDOCUMENT:"document",TYPE_REFRESH:"document",TYPE_XBL:"other",TYPE_PING:"other",TYPE_XMLHTTPREQUEST:"xhr",TYPE_OBJECT_SUBREQUEST:"other",TYPE_DTD:"other",TYPE_FONT:"font",TYPE_MEDIA:"media",TYPE_WEBSOCKET:"websocket",TYPE_CSP_REPORT:"other",TYPE_XSLT:"other",TYPE_BEACON:"other",TYPE_FETCH:"fetch",TYPE_IMAGESET:"image",TYPE_WEB_MANIFEST:"manifest"},g={TYPE_INTERNAL_EVENTSOURCE:"eventsource"};class b{constructor(e,t,n){this._id=n.requestId,t&&(t._redirectedTo=this);let r=null;n.postData&&(r=Buffer.from(n.postData,"base64")),this.request=new p.Request(e._page.browserContext,e,null,t?t.request:null,n.navigationId,n.url,g[n.internalCause]||m[n.cause]||"other",n.method,r,n.headers),this.request.setRawRequestHeaders(null)}_finalRequest(){let e=this;for(;e._redirectedTo;)e=e._redirectedTo;return e}}class w{constructor(e,t){this._session=e,this._request=t}async continue(e){await this._session.sendMayFail("Network.resumeInterceptedRequest",{requestId:this._request._id,url:e.url,method:e.method,headers:e.headers,postData:e.postData?Buffer.from(e.postData).toString("base64"):void 0})}async fulfill(e){const t=e.isBase64?e.body:Buffer.from(e.body).toString("base64");await this._session.sendMayFail("Network.fulfillInterceptedRequest",{requestId:this._request._id,status:e.status,statusText:p.statusText(e.status),headers:e.headers,base64body:t})}async abort(e){await this._session.sendMayFail("Network.abortInterceptedRequest",{requestId:this._request._id,errorCode:e})}}},"./node_modules/playwright-core/lib/server/firefox/ffPage.js":(e,t,n)=>{"use strict";var r,o=Object.create,i=Object.defineProperty,s=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,l=Object.getPrototypeOf,c=Object.prototype.hasOwnProperty,u=(e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let o of a(t))c.call(e,o)||o===n||i(e,o,{get:()=>t[o],enumerable:!(r=s(t,o))||r.enumerable});return e},d=(e,t,n)=>(n=null!=e?o(l(e)):{},u(!t&&e&&e.__esModule?n:i(n,"default",{value:e,enumerable:!0}),e)),h={};((e,t)=>{for(var n in t)i(e,n,{get:t[n],enumerable:!0})})(h,{FFPage:()=>k,UTILITY_WORLD_NAME:()=>C}),e.exports=(r=h,u(i({},"__esModule",{value:!0}),r));var p=n("./node_modules/playwright-core/lib/server/utils/eventsHelper.js"),f=d(n("./node_modules/playwright-core/lib/server/dialog.js")),m=d(n("./node_modules/playwright-core/lib/server/dom.js")),g=n("./node_modules/playwright-core/lib/server/page.js"),b=n("./node_modules/playwright-core/lib/server/page.js"),w=n("./node_modules/playwright-core/lib/server/firefox/ffAccessibility.js"),y=n("./node_modules/playwright-core/lib/server/firefox/ffConnection.js"),v=n("./node_modules/playwright-core/lib/server/firefox/ffExecutionContext.js"),A=n("./node_modules/playwright-core/lib/server/firefox/ffInput.js"),_=n("./node_modules/playwright-core/lib/server/firefox/ffNetworkManager.js"),x=n("./node_modules/playwright-core/lib/server/utils/debugLogger.js"),S=n("./node_modules/playwright-core/lib/utils/isomorphic/stackTrace.js"),E=n("./node_modules/playwright-core/lib/server/errors.js");const C="__playwright_utility_world__";class k{constructor(e,t,n){this.cspErrorsAsynchronousForInlineScripts=!0,this._reportedAsNew=!1,this._workers=new Map,this._initScripts=[],this._session=e,this._opener=n,this.rawKeyboard=new A.RawKeyboardImpl(e),this.rawMouse=new A.RawMouseImpl(e),this.rawTouchscreen=new A.RawTouchscreenImpl(e),this._contextIdToContext=new Map,this._browserContext=t,this._page=new b.Page(this,t),this.rawMouse.setPage(this._page),this._networkManager=new _.FFNetworkManager(e,this._page),this._page.on(b.Page.Events.FrameDetached,e=>this._removeContextsForFrame(e)),this._eventListeners=[p.eventsHelper.addEventListener(this._session,"Page.eventFired",this._onEventFired.bind(this)),p.eventsHelper.addEventListener(this._session,"Page.frameAttached",this._onFrameAttached.bind(this)),p.eventsHelper.addEventListener(this._session,"Page.frameDetached",this._onFrameDetached.bind(this)),p.eventsHelper.addEventListener(this._session,"Page.navigationAborted",this._onNavigationAborted.bind(this)),p.eventsHelper.addEventListener(this._session,"Page.navigationCommitted",this._onNavigationCommitted.bind(this)),p.eventsHelper.addEventListener(this._session,"Page.navigationStarted",this._onNavigationStarted.bind(this)),p.eventsHelper.addEventListener(this._session,"Page.sameDocumentNavigation",this._onSameDocumentNavigation.bind(this)),p.eventsHelper.addEventListener(this._session,"Runtime.executionContextCreated",this._onExecutionContextCreated.bind(this)),p.eventsHelper.addEventListener(this._session,"Runtime.executionContextDestroyed",this._onExecutionContextDestroyed.bind(this)),p.eventsHelper.addEventListener(this._session,"Runtime.executionContextsCleared",this._onExecutionContextsCleared.bind(this)),p.eventsHelper.addEventListener(this._session,"Page.linkClicked",e=>this._onLinkClicked(e.phase)),p.eventsHelper.addEventListener(this._session,"Page.uncaughtError",this._onUncaughtError.bind(this)),p.eventsHelper.addEventListener(this._session,"Runtime.console",this._onConsole.bind(this)),p.eventsHelper.addEventListener(this._session,"Page.dialogOpened",this._onDialogOpened.bind(this)),p.eventsHelper.addEventListener(this._session,"Page.bindingCalled",this._onBindingCalled.bind(this)),p.eventsHelper.addEventListener(this._session,"Page.fileChooserOpened",this._onFileChooserOpened.bind(this)),p.eventsHelper.addEventListener(this._session,"Page.workerCreated",this._onWorkerCreated.bind(this)),p.eventsHelper.addEventListener(this._session,"Page.workerDestroyed",this._onWorkerDestroyed.bind(this)),p.eventsHelper.addEventListener(this._session,"Page.dispatchMessageFromWorker",this._onDispatchMessageFromWorker.bind(this)),p.eventsHelper.addEventListener(this._session,"Page.crashed",this._onCrashed.bind(this)),p.eventsHelper.addEventListener(this._session,"Page.videoRecordingStarted",this._onVideoRecordingStarted.bind(this)),p.eventsHelper.addEventListener(this._session,"Page.webSocketCreated",this._onWebSocketCreated.bind(this)),p.eventsHelper.addEventListener(this._session,"Page.webSocketClosed",this._onWebSocketClosed.bind(this)),p.eventsHelper.addEventListener(this._session,"Page.webSocketFrameReceived",this._onWebSocketFrameReceived.bind(this)),p.eventsHelper.addEventListener(this._session,"Page.webSocketFrameSent",this._onWebSocketFrameSent.bind(this)),p.eventsHelper.addEventListener(this._session,"Page.screencastFrame",this._onScreencastFrame.bind(this))],this._session.once("Page.ready",()=>{this._reportedAsNew||(this._reportedAsNew=!0,this._page.reportAsNew(this._opener?._page))}),this.addInitScript(new g.InitScript(""),C).catch(e=>this._markAsError(e))}async _markAsError(e){this._reportedAsNew||(this._reportedAsNew=!0,this._page.reportAsNew(this._opener?._page,e))}_onWebSocketCreated(e){this._page.frameManager.onWebSocketCreated(O(e.frameId,e.wsid),e.requestURL),this._page.frameManager.onWebSocketRequest(O(e.frameId,e.wsid))}_onWebSocketClosed(e){e.error&&this._page.frameManager.webSocketError(O(e.frameId,e.wsid),e.error),this._page.frameManager.webSocketClosed(O(e.frameId,e.wsid))}_onWebSocketFrameReceived(e){this._page.frameManager.webSocketFrameReceived(O(e.frameId,e.wsid),e.opcode,e.data)}_onWebSocketFrameSent(e){this._page.frameManager.onWebSocketFrameSent(O(e.frameId,e.wsid),e.opcode,e.data)}_onExecutionContextCreated(e){const{executionContextId:t,auxData:n}=e,r=this._page.frameManager.frame(n.frameId);if(!r)return;const o=new v.FFExecutionContext(this._session,t);let i=null;n.name===C?i="utility":n.name||(i="main");const s=new m.FrameExecutionContext(o,r,i);i&&r._contextCreated(i,s),this._contextIdToContext.set(t,s)}_onExecutionContextDestroyed(e){const{executionContextId:t}=e,n=this._contextIdToContext.get(t);n&&(this._contextIdToContext.delete(t),n.frame._contextDestroyed(n))}_onExecutionContextsCleared(){for(const e of Array.from(this._contextIdToContext.keys()))this._onExecutionContextDestroyed({executionContextId:e})}_removeContextsForFrame(e){for(const[t,n]of this._contextIdToContext)n.frame===e&&this._contextIdToContext.delete(t)}_onLinkClicked(e){"before"===e?this._page.frameManager.frameWillPotentiallyRequestNavigation():this._page.frameManager.frameDidPotentiallyRequestNavigation()}_onNavigationStarted(e){this._page.frameManager.frameRequestedNavigation(e.frameId,e.navigationId)}_onNavigationAborted(e){this._page.frameManager.frameAbortedNavigation(e.frameId,e.errorText,e.navigationId)}_onNavigationCommitted(e){for(const[t,n]of this._workers)n.frameId===e.frameId&&this._onWorkerDestroyed({workerId:t});this._page.frameManager.frameCommittedNewDocumentNavigation(e.frameId,e.url,e.name||"",e.navigationId||"",!1)}_onSameDocumentNavigation(e){this._page.frameManager.frameCommittedSameDocumentNavigation(e.frameId,e.url)}_onFrameAttached(e){this._page.frameManager.frameAttached(e.frameId,e.parentFrameId)}_onFrameDetached(e){this._page.frameManager.frameDetached(e.frameId)}_onEventFired(e){const{frameId:t,name:n}=e;"load"===n&&this._page.frameManager.frameLifecycleEvent(t,"load"),"DOMContentLoaded"===n&&this._page.frameManager.frameLifecycleEvent(t,"domcontentloaded")}_onUncaughtError(e){const{name:t,message:n}=(0,S.splitErrorMessage)(e.message),r=new Error(n);r.stack=e.message+"\n"+e.stack.split("\n").filter(Boolean).map(e=>e.replace(/([^@]*)@(.*)/,"    at $1 ($2)")).join("\n"),r.name=t,this._page.addPageError(r)}_onConsole(e){const{type:t,args:n,executionContextId:r,location:o}=e,i=this._contextIdToContext.get(r);i&&this._page.addConsoleMessage("warn"===t?"warning":t,n.map(e=>(0,v.createHandle)(i,e)),o)}_onDialogOpened(e){this._page.browserContext.dialogManager.dialogDidOpen(new f.Dialog(this._page,e.type,e.message,async(t,n)=>{await this._session.sendMayFail("Page.handleDialog",{dialogId:e.dialogId,accept:t,promptText:n})},e.defaultValue))}async _onBindingCalled(e){if(!(await this._page.waitForInitializedOrError()instanceof Error)){const t=this._contextIdToContext.get(e.executionContextId);t&&await this._page.onBindingCalled(e.payload,t)}}async _onFileChooserOpened(e){const{executionContextId:t,element:n}=e,r=this._contextIdToContext.get(t);if(!r)return;const o=(0,v.createHandle)(r,n).asElement();await this._page._onFileChooserOpened(o)}async _onWorkerCreated(e){const t=e.workerId,n=new b.Worker(this._page,e.url),r=new y.FFSession(this._session._connection,t,n=>{this._session.send("Page.sendMessageToWorker",{frameId:e.frameId,workerId:t,message:JSON.stringify(n)}).catch(e=>{r.dispatchMessage({id:n.id,method:"",params:{},error:{message:e.message,data:void 0}})})});this._workers.set(t,{session:r,frameId:e.frameId}),this._page.addWorker(t,n),r.once("Runtime.executionContextCreated",e=>{n.createExecutionContext(new v.FFExecutionContext(r,e.executionContextId))}),r.on("Runtime.console",e=>{const{type:t,args:r,location:o}=e,i=n.existingExecutionContext;this._page.addConsoleMessage(t,r.map(e=>(0,v.createHandle)(i,e)),o)})}_onWorkerDestroyed(e){const t=e.workerId,n=this._workers.get(t);n&&(n.session.dispose(),this._workers.delete(t),this._page.removeWorker(t))}async _onDispatchMessageFromWorker(e){const t=this._workers.get(e.workerId);t&&t.session.dispatchMessage(JSON.parse(e.message))}async _onCrashed(e){this._session.markAsCrashed(),this._page._didCrash()}_onVideoRecordingStarted(e){this._browserContext._browser._videoStarted(this._browserContext,e.screencastId,e.file,this._page.waitForInitializedOrError())}didClose(){this._markAsError(new E.TargetClosedError),this._session.dispose(),p.eventsHelper.removeEventListeners(this._eventListeners),this._networkManager.dispose(),this._page._didClose()}async navigateFrame(e,t,n){return{newDocumentId:(await this._session.send("Page.navigate",{url:t,referer:n,frameId:e._id})).navigationId||void 0}}async updateExtraHTTPHeaders(){await this._session.send("Network.setExtraHTTPHeaders",{headers:this._page.extraHTTPHeaders()||[]})}async updateEmulatedViewportSize(){const e=this._page.emulatedSize()?.viewport??null;await this._session.send("Page.setViewportSize",{viewportSize:e})}async bringToFront(){await this._session.send("Page.bringToFront",{})}async updateEmulateMedia(){const e=this._page.emulatedMedia(),t="no-override"===e.colorScheme?void 0:e.colorScheme,n="no-override"===e.reducedMotion?void 0:e.reducedMotion,r="no-override"===e.forcedColors?void 0:e.forcedColors,o="no-override"===e.contrast?void 0:e.contrast;await this._session.send("Page.setEmulatedMedia",{type:"no-override"===e.media?"":e.media,colorScheme:t,reducedMotion:n,forcedColors:r,contrast:o})}async updateRequestInterception(){await this._networkManager.setRequestInterception(this._page.needsRequestInterception())}async updateFileChooserInterception(){const e=this._page.fileChooserIntercepted();await this._session.send("Page.setInterceptFileChooserDialog",{enabled:e}).catch(()=>{})}async reload(){await this._session.send("Page.reload")}async goBack(){const{success:e}=await this._session.send("Page.goBack",{frameId:this._page.mainFrame()._id});return e}async goForward(){const{success:e}=await this._session.send("Page.goForward",{frameId:this._page.mainFrame()._id});return e}async requestGC(){await this._session.send("Heap.collectGarbage")}async addInitScript(e,t){this._initScripts.push({initScript:e,worldName:t}),await this._updateInitScripts()}async removeInitScripts(e){const t=new Set(e);this._initScripts=this._initScripts.filter(e=>!t.has(e.initScript)),await this._updateInitScripts()}async _updateInitScripts(){await this._session.send("Page.setInitScripts",{scripts:this._initScripts.map(e=>({script:e.initScript.source,worldName:e.worldName}))})}async closePage(e){await this._session.send("Page.close",{runBeforeUnload:e})}async setBackgroundColor(e){if(e)throw new Error("Not implemented")}async takeScreenshot(e,t,n,r,o,i,s){if(!n){const t=await this._page.mainFrame().waitForFunctionValueInUtility(e,()=>({x:window.scrollX,y:window.scrollY}));n={x:r.x+t.x,y:r.y+t.y,width:r.width,height:r.height}}const{data:a}=await e.race(this._session.send("Page.screenshot",{mimeType:"image/"+t,clip:n,quality:o,omitDeviceScaleFactor:"css"===s}));return Buffer.from(a,"base64")}async getContentFrame(e){const{contentFrameId:t}=await this._session.send("Page.describeNode",{frameId:e._context.frame._id,objectId:e._objectId});return t?this._page.frameManager.frame(t):null}async getOwnerFrame(e){const{ownerFrameId:t}=await this._session.send("Page.describeNode",{frameId:e._context.frame._id,objectId:e._objectId});return t||null}async getBoundingBox(e){const t=await this.getContentQuads(e);if(!t||!t.length)return null;let n=1/0,r=-1/0,o=1/0,i=-1/0;for(const e of t)for(const t of e)n=Math.min(n,t.x),r=Math.max(r,t.x),o=Math.min(o,t.y),i=Math.max(i,t.y);return{x:n,y:o,width:r-n,height:i-o}}async scrollRectIntoViewIfNeeded(e,t){return await this._session.send("Page.scrollIntoViewIfNeeded",{frameId:e._context.frame._id,objectId:e._objectId,rect:t}).then(()=>"done").catch(e=>{if(e instanceof Error&&e.message.includes("Node is detached from document"))return"error:notconnected";if(e instanceof Error&&e.message.includes("Node does not have a layout object"))return"error:notvisible";throw e})}async setScreencastOptions(e){if(e){const{screencastId:t}=await this._session.send("Page.startScreencast",e);this._screencastId=t}else await this._session.send("Page.stopScreencast")}_onScreencastFrame(e){if(!this._screencastId)return;const t=this._screencastId;this._page.throttleScreencastFrameAck(()=>{this._session.send("Page.screencastFrameAck",{screencastId:t}).catch(e=>x.debugLogger.log("error",e))});const n=Buffer.from(e.data,"base64");this._page.emit(b.Page.Events.ScreencastFrame,{buffer:n,width:e.deviceWidth,height:e.deviceHeight})}rafCountForStablePosition(){return 1}async getContentQuads(e){const t=await this._session.sendMayFail("Page.getContentQuads",{frameId:e._context.frame._id,objectId:e._objectId});return t?t.quads.map(e=>[e.p1,e.p2,e.p3,e.p4]):null}async setInputFilePaths(e,t){await this._session.send("Page.setFileInputFiles",{frameId:e._context.frame._id,objectId:e._objectId,files:t})}async adoptElementHandle(e,t){const n=await this._session.send("Page.adoptNode",{frameId:e._context.frame._id,objectId:e._objectId,executionContextId:t.delegate._executionContextId});if(!n.remoteObject)throw new Error(m.kUnableToAdoptErrorMessage);return(0,v.createHandle)(t,n.remoteObject)}async getAccessibilityTree(e){return(0,w.getAccessibilityTree)(this._session,e)}async inputActionEpilogue(){}async resetForReuse(e){await this.rawMouse.move(e,-1,-1,"none",new Set,new Set,!1)}async getFrameElement(e){const t=e.parentFrame();if(!t)throw new Error("Frame has been detached.");const n=await t._mainContext(),r=await this._session.send("Page.adoptNode",{frameId:e._id,executionContextId:n.delegate._executionContextId});if(!r.remoteObject)throw new Error("Frame has been detached.");return(0,v.createHandle)(n,r.remoteObject)}shouldToggleStyleSheetToSyncAnimations(){return!1}}function O(e,t){return`${e}---${t}`}},"./node_modules/playwright-core/lib/server/firefox/firefox.js":(e,t,n)=>{"use strict";var r,o=Object.create,i=Object.defineProperty,s=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,l=Object.getPrototypeOf,c=Object.prototype.hasOwnProperty,u=(e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let o of a(t))c.call(e,o)||o===n||i(e,o,{get:()=>t[o],enumerable:!(r=s(t,o))||r.enumerable});return e},d=(e,t,n)=>(n=null!=e?o(l(e)):{},u(!t&&e&&e.__esModule?n:i(n,"default",{value:e,enumerable:!0}),e)),h={};((e,t)=>{for(var n in t)i(e,n,{get:t[n],enumerable:!0})})(h,{Firefox:()=>v}),e.exports=(r=h,u(i({},"__esModule",{value:!0}),r));var p=d(n("os")),f=d(n("path")),m=n("./node_modules/playwright-core/lib/server/firefox/ffBrowser.js"),g=n("./node_modules/playwright-core/lib/server/firefox/ffConnection.js"),b=n("./node_modules/playwright-core/lib/server/utils/ascii.js"),w=n("./node_modules/playwright-core/lib/server/browserType.js"),y=n("./node_modules/playwright-core/lib/utils/isomorphic/manualPromise.js");class v extends w.BrowserType{constructor(e){super(e,"firefox")}connectToTransport(e,t){return m.FFBrowser.connect(this.attribution.playwright,e,t)}doRewriteStartupLog(e){return e.logs?(e.logs.includes("as root in a regular user's session is not supported.")&&(e.logs="\n"+(0,b.wrapInASCIIBox)(`Firefox is unable to launch if the $HOME folder isn't owned by the current user.\nWorkaround: Set the HOME=/root environment variable${process.env.GITHUB_ACTION?" in your GitHub Actions workflow file":""} when running Playwright.`,1)),e.logs.includes("no DISPLAY environment variable specified")&&(e.logs="\n"+(0,b.wrapInASCIIBox)(w.kNoXServerRunningError,1)),e):e}amendEnvironment(e){if(!f.default.isAbsolute(p.default.homedir()))throw new Error(`Cannot launch Firefox with relative home directory. Did you set ${"win32"===p.default.platform()?"USERPROFILE":"HOME"} to a relative path?`);return"linux"===p.default.platform()?{...e,SNAP_NAME:void 0,SNAP_INSTANCE_NAME:void 0}:e}attemptToGracefullyCloseBrowser(e){const t={method:"Browser.close",params:{},id:g.kBrowserCloseMessageId};e.send(t)}async defaultArgs(e,t,n){const{args:r=[],headless:o}=e;if(r.find(e=>e.startsWith("-profile")||e.startsWith("--profile")))throw this._createUserDataDirArgMisuseError("--profile");if(r.find(e=>e.startsWith("-juggler")))throw new Error("Use the port parameter instead of -juggler argument");const i=["-no-remote"];return o?i.push("-headless"):(i.push("-wait-for-browser"),i.push("-foreground")),i.push("-profile",n),i.push("-juggler-pipe"),i.push(...r),t?i.push("about:blank"):i.push("-silent"),i}waitForReadyState(e,t){const n=new y.ManualPromise;return t.onMessage(e=>{e.includes("Juggler listening to the pipe")&&n.resolve({})}),n}}},"./node_modules/playwright-core/lib/server/formData.js":(e,t,n)=>{"use strict";var r,o=Object.defineProperty,i=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,l={};((e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})})(l,{MultipartFormData:()=>u}),e.exports=(r=l,((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let n of s(t))a.call(e,n)||undefined===n||o(e,n,{get:()=>t[n],enumerable:!(r=i(t,n))||r.enumerable});return e})(o({},"__esModule",{value:!0}),r));var c=n("./node_modules/playwright-core/lib/utilsBundle.js");class u{constructor(){this._chunks=[],this._boundary=function(){const e=[];for(let t=0;t<16;t++)e.push(d[Math.floor(Math.random()*d.length)]);return"----WebKitFormBoundary"+String.fromCharCode(...e)}()}contentTypeHeader(){return`multipart/form-data; boundary=${this._boundary}`}addField(e,t){this._beginMultiPartHeader(e),this._finishMultiPartHeader(),this._chunks.push(Buffer.from(t)),this._finishMultiPartField()}addFileField(e,t){this._beginMultiPartHeader(e),this._chunks.push(Buffer.from(`; filename="${t.name}"`)),this._chunks.push(Buffer.from(`\r\ncontent-type: ${t.mimeType||c.mime.getType(t.name)||"application/octet-stream"}`)),this._finishMultiPartHeader(),this._chunks.push(t.buffer),this._finishMultiPartField()}finish(){return this._addBoundary(!0),Buffer.concat(this._chunks)}_beginMultiPartHeader(e){this._addBoundary(),this._chunks.push(Buffer.from(`content-disposition: form-data; name="${e}"`))}_finishMultiPartHeader(){this._chunks.push(Buffer.from("\r\n\r\n"))}_finishMultiPartField(){this._chunks.push(Buffer.from("\r\n"))}_addBoundary(e){this._chunks.push(Buffer.from("--"+this._boundary)),e&&this._chunks.push(Buffer.from("--")),this._chunks.push(Buffer.from("\r\n"))}}const d=[65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,48,49,50,51,52,53,54,55,56,57,65,66]},"./node_modules/playwright-core/lib/server/frameSelectors.js":(e,t,n)=>{"use strict";var r,o=Object.defineProperty,i=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,l={};((e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})})(l,{FrameSelectors:()=>d}),e.exports=(r=l,((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let n of s(t))a.call(e,n)||undefined===n||o(e,n,{get:()=>t[n],enumerable:!(r=i(t,n))||r.enumerable});return e})(o({},"__esModule",{value:!0}),r));var c=n("./node_modules/playwright-core/lib/utils.js"),u=n("./node_modules/playwright-core/lib/utils/isomorphic/selectorParser.js");class d{constructor(e){this.frame=e}_parseSelector(e,t){const n="boolean"==typeof t?.strict?t.strict:!!this.frame._page.browserContext._options.strictSelectors;return this.frame._page.browserContext.selectors().parseSelector(e,n)}async query(e,t,n){const r=await this.resolveInjectedForSelector(e,t,n);if(!r)return null;const o=await r.injected.evaluateHandle((e,{info:t,scope:n})=>e.querySelector(t.parsed,n||document,t.strict),{info:r.info,scope:r.scope}),i=o.asElement();return i?h(i,await r.frame._mainContext()):(o.dispose(),null)}async queryArrayInMainWorld(e,t){const n=await this.resolveInjectedForSelector(e,{mainWorld:!0},t);if(!n)throw new Error(`Failed to find frame for selector "${e}"`);return await n.injected.evaluateHandle((e,{info:t,scope:n})=>e.querySelectorAll(t.parsed,n||document),{info:n.info,scope:n.scope})}async queryCount(e,t){const n=await this.resolveInjectedForSelector(e);if(!n)throw new Error(`Failed to find frame for selector "${e}"`);return await(t.__testHookBeforeQuery?.()),await n.injected.evaluate((e,{info:t})=>e.querySelectorAll(t.parsed,document).length,{info:n.info})}async queryAll(e,t){const n=await this.resolveInjectedForSelector(e,{},t);if(!n)return[];const r=await n.injected.evaluateHandle((e,{info:t,scope:n})=>e.querySelectorAll(t.parsed,n||document),{info:n.info,scope:n.scope}),o=await r.getProperties();r.dispose();const i=await n.frame._mainContext(),s=[];for(const e of o.values()){const t=e.asElement();t?s.push(h(t,i)):e.dispose()}return Promise.all(s)}_jumpToAriaRefFrameIfNeeded(e,t,n){if("aria-ref"!==t.parsed.parts[0].name)return n;const r=t.parsed.parts[0].body.match(/^f(\d+)e\d+$/);if(!r)return n;const o=+r[1],i=this.frame._page,s=i.lastSnapshotFrameIds[o-1],a=s?i.frameManager.frame(s):null;if(!a)throw new u.InvalidSelectorError(`Invalid frame in aria-ref selector "${e}"`);return a}async resolveFrameForSelector(e,t={},n){let r=this.frame;const o=(0,u.splitSelectorByFrame)(e);for(const t of o)(0,u.visitAllSelectorParts)(t,(t,n)=>{if(n&&"internal:control"===t.name&&"enter-frame"===t.body){const t=(0,c.asLocator)(this.frame._page.browserContext._browser.sdkLanguage(),e);throw new u.InvalidSelectorError(`Frame locators are not allowed inside composite locators, while querying "${t}"`)}});for(let i=0;i<o.length-1;++i){const s=this._parseSelector(o[i],t);r=this._jumpToAriaRefFrameIfNeeded(e,s,r);const a=await r._context(s.world),l=await a.injectedScript(),c=(await l.evaluateHandle((e,{info:t,scope:n,selectorString:r})=>{const o=e.querySelector(t.parsed,n||document,t.strict);if(o&&"IFRAME"!==o.nodeName&&"FRAME"!==o.nodeName)throw e.createStacklessError(`Selector "${r}" resolved to ${e.previewNode(o)}, <iframe> was expected`);return o},{info:s,scope:0===i?n:void 0,selectorString:(0,u.stringifySelector)(s.parsed)})).asElement();if(!c)return null;const d=await r._page.delegate.getContentFrame(c);if(c.dispose(),!d)return null;r=d}r!==this.frame&&(n=void 0);const i=r.selectors._parseSelector(o[o.length-1],t);return r=this._jumpToAriaRefFrameIfNeeded(e,i,r),{frame:r,info:i,scope:n}}async resolveInjectedForSelector(e,t,n){const r=await this.resolveFrameForSelector(e,t,n);if(!r)return;const o=await r.frame._context(t?.mainWorld?"main":r.info.world);return{injected:await o.injectedScript(),info:r.info,frame:r.frame,scope:r.scope}}}async function h(e,t){if(e._context===t)return e;const n=await e._page.delegate.adoptElementHandle(e,t);return e.dispose(),n}},"./node_modules/playwright-core/lib/server/frames.js":(e,t,n)=>{"use strict";var r,o=Object.create,i=Object.defineProperty,s=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,l=Object.getPrototypeOf,c=Object.prototype.hasOwnProperty,u=(e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let o of a(t))c.call(e,o)||o===n||i(e,o,{get:()=>t[o],enumerable:!(r=s(t,o))||r.enumerable});return e},d=(e,t,n)=>(n=null!=e?o(l(e)):{},u(!t&&e&&e.__esModule?n:i(n,"default",{value:e,enumerable:!0}),e)),h={};((e,t)=>{for(var n in t)i(e,n,{get:t[n],enumerable:!0})})(h,{Frame:()=>N,FrameManager:()=>j,NavigationAbortedError:()=>M}),e.exports=(r=h,u(i({},"__esModule",{value:!0}),r));var p=n("./node_modules/playwright-core/lib/server/browserContext.js"),f=d(n("./node_modules/playwright-core/lib/server/dom.js")),m=n("./node_modules/playwright-core/lib/server/errors.js"),g=n("./node_modules/playwright-core/lib/server/fileUploadUtils.js"),b=n("./node_modules/playwright-core/lib/server/frameSelectors.js"),w=n("./node_modules/playwright-core/lib/server/helper.js"),y=n("./node_modules/playwright-core/lib/server/instrumentation.js"),v=d(n("./node_modules/playwright-core/lib/server/javascript.js")),A=d(n("./node_modules/playwright-core/lib/server/network.js")),_=n("./node_modules/playwright-core/lib/server/page.js"),x=n("./node_modules/playwright-core/lib/server/progress.js"),S=d(n("./node_modules/playwright-core/lib/server/types.js")),E=n("./node_modules/playwright-core/lib/utils.js"),C=n("./node_modules/playwright-core/lib/server/protocolError.js"),k=n("./node_modules/playwright-core/lib/server/utils/debugLogger.js"),O=n("./node_modules/playwright-core/lib/server/utils/eventsHelper.js"),T=n("./node_modules/playwright-core/lib/utils/isomorphic/selectorParser.js"),I=n("./node_modules/playwright-core/lib/utils/isomorphic/manualPromise.js"),B=n("./node_modules/playwright-core/lib/server/callLog.js");class M extends Error{constructor(e,t){super(t),this.documentId=e}}const P="<dummy>";class j{constructor(e){this._frames=new Map,this._consoleMessageTags=new Map,this._signalBarriers=new Set,this._webSockets=new Map,this._page=e,this._mainFrame=void 0}createDummyMainFrameIfNeeded(){this._mainFrame||this.frameAttached(P,null)}dispose(){for(const e of this._frames.values())e._stopNetworkIdleTimer(),e._invalidateNonStallingEvaluations("Target crashed")}mainFrame(){return this._mainFrame}frames(){const e=[];return function t(n){e.push(n);for(const e of n.childFrames())t(e)}(this._mainFrame),e}frame(e){return this._frames.get(e)||null}frameAttached(e,t){const n=t?this._frames.get(t):null;if(n){(0,E.assert)(!this._frames.has(e));const t=new N(this._page,e,n);return this._frames.set(e,t),this._page.emit(_.Page.Events.FrameAttached,t),t}return this._mainFrame?(this._frames.delete(this._mainFrame._id),this._mainFrame._id=e):((0,E.assert)(!this._frames.has(e)),this._mainFrame=new N(this._page,e,n)),this._frames.set(e,this._mainFrame),this._mainFrame}async waitForSignalsCreatedBy(e,t,n){if(!t)return n();const r=new F(e);this._signalBarriers.add(r);try{const t=await n();return await e.race(this._page.delegate.inputActionEpilogue()),await r.waitFor(),await new Promise((0,E.makeWaitForNextTask)()),t}finally{this._signalBarriers.delete(r)}}frameWillPotentiallyRequestNavigation(){for(const e of this._signalBarriers)e.retain()}frameDidPotentiallyRequestNavigation(){for(const e of this._signalBarriers)e.release()}frameRequestedNavigation(e,t){const n=this._frames.get(e);if(!n)return;for(const e of this._signalBarriers)e.addFrameNavigation(n);if(n.pendingDocument()&&n.pendingDocument().documentId===t)return;const r=t?Array.from(n._inflightRequests).find(e=>e._documentId===t):void 0;n.setPendingDocument({documentId:t,request:r})}frameCommittedNewDocumentNavigation(e,t,n,r,o){const i=this._frames.get(e);let s;this.removeChildFramesRecursively(i),this.clearWebSockets(i),i._url=t,i._name=n;const a=i.pendingDocument();a?(void 0===a.documentId&&(a.documentId=r),a.documentId===r?i._currentDocument=a:(s=a,i._currentDocument={documentId:r,request:void 0}),i.setPendingDocument(void 0)):i._currentDocument={documentId:r,request:void 0},i._onClearLifecycle();const l={url:t,name:n,newDocument:i._currentDocument,isPublic:!0};this._fireInternalFrameNavigation(i,l),o||(k.debugLogger.log("api",`  navigated to "${t}"`),this._page.frameNavigatedToNewDocument(i)),i.setPendingDocument(s)}frameCommittedSameDocumentNavigation(e,t){const n=this._frames.get(e);if(!n)return;const r=n.pendingDocument();r&&void 0===r.documentId&&void 0===r.request&&n.setPendingDocument(void 0),n._url=t;const o={url:t,name:n._name,isPublic:!0};this._fireInternalFrameNavigation(n,o),k.debugLogger.log("api",`  navigated to "${t}"`)}frameAbortedNavigation(e,t,n){const r=this._frames.get(e);if(!r||!r.pendingDocument())return;if(void 0!==n&&r.pendingDocument().documentId!==n)return;const o={url:r._url,name:r._name,newDocument:r.pendingDocument(),error:new M(n,t),isPublic:!(n&&r._redirectedNavigations.has(n))};r.setPendingDocument(void 0),this._fireInternalFrameNavigation(r,o)}frameDetached(e){const t=this._frames.get(e);t&&(this._removeFramesRecursively(t),this._page.mainFrame()._recalculateNetworkIdle())}frameLifecycleEvent(e,t){const n=this._frames.get(e);n&&n._onLifecycleEvent(t)}requestStarted(e,t){const n=e.frame();this._inflightRequestStarted(e),e._documentId&&n.setPendingDocument({documentId:e._documentId,request:e}),e._isFavicon?t?.abort("aborted").catch(()=>{}):(this._page.addNetworkRequest(e),this._page.emitOnContext(p.BrowserContext.Events.Request,e),t&&new A.Route(e,t).handle([...this._page.requestInterceptors,...this._page.browserContext.requestInterceptors]))}requestReceivedResponse(e){e.request()._isFavicon||this._page.emitOnContext(p.BrowserContext.Events.Response,e)}reportRequestFinished(e,t){this._inflightRequestFinished(e),e._isFavicon||this._page.emitOnContext(p.BrowserContext.Events.RequestFinished,{request:e,response:t})}requestFailed(e,t){const n=e.frame();if(this._inflightRequestFinished(e),n.pendingDocument()&&n.pendingDocument().request===e){let r=e.failure().errorText;t&&(r+="; maybe frame was detached?"),this.frameAbortedNavigation(n._id,r,n.pendingDocument().documentId)}e._isFavicon||this._page.emitOnContext(p.BrowserContext.Events.RequestFailed,e)}removeChildFramesRecursively(e){for(const t of e.childFrames())this._removeFramesRecursively(t)}_removeFramesRecursively(e){this.removeChildFramesRecursively(e),e._onDetached(),this._frames.delete(e._id),this._page.isClosed()||this._page.emit(_.Page.Events.FrameDetached,e)}_inflightRequestFinished(e){const t=e.frame();e._isFavicon||t._inflightRequests.has(e)&&(t._inflightRequests.delete(e),0===t._inflightRequests.size&&t._startNetworkIdleTimer())}_inflightRequestStarted(e){const t=e.frame();e._isFavicon||(t._inflightRequests.add(e),1===t._inflightRequests.size&&t._stopNetworkIdleTimer())}interceptConsoleMessage(e){if("debug"!==e.type())return!1;const t=e.text(),n=this._consoleMessageTags.get(t);return!!n&&(this._consoleMessageTags.delete(t),n(),!0)}clearWebSockets(e){e.parentFrame()||this._webSockets.clear()}onWebSocketCreated(e,t){const n=new A.WebSocket(this._page,t);this._webSockets.set(e,n)}onWebSocketRequest(e){const t=this._webSockets.get(e);t&&t.markAsNotified()&&this._page.emit(_.Page.Events.WebSocket,t)}onWebSocketResponse(e,t,n){const r=this._webSockets.get(e);t<400||r&&r.error(`${n}: ${t}`)}onWebSocketFrameSent(e,t,n){const r=this._webSockets.get(e);r&&r.frameSent(t,n)}webSocketFrameReceived(e,t,n){const r=this._webSockets.get(e);r&&r.frameReceived(t,n)}webSocketClosed(e){const t=this._webSockets.get(e);t&&t.closed(),this._webSockets.delete(e)}webSocketError(e,t){const n=this._webSockets.get(e);n&&n.error(t)}_fireInternalFrameNavigation(e,t){e.emit(N.Events.InternalNavigation,t)}}class N extends y.SdkObject{constructor(e,t,n){super(e,"frame"),this._firedLifecycleEvents=new Set,this._firedNetworkIdleSelf=!1,this._url="",this._contextData=new Map,this._childFrames=new Set,this._name="",this._inflightRequests=new Set,this._setContentCounter=0,this._detachedScope=new E.LongStandingScope,this._raceAgainstEvaluationStallingEventsPromises=new Set,this._redirectedNavigations=new Map,this.attribution.frame=this,this._id=t,this._page=e,this._parentFrame=n,this._currentDocument={documentId:void 0,request:void 0},this.selectors=new b.FrameSelectors(this),this._contextData.set("main",{contextPromise:new I.ManualPromise,context:null}),this._contextData.set("utility",{contextPromise:new I.ManualPromise,context:null}),this._setContext("main",null),this._setContext("utility",null),this._parentFrame&&this._parentFrame._childFrames.add(this),this._firedLifecycleEvents.add("commit"),t!==P&&this._startNetworkIdleTimer()}static{this.Events={InternalNavigation:"internalnavigation",AddLifecycle:"addlifecycle",RemoveLifecycle:"removelifecycle"}}isDetached(){return this._detachedScope.isClosed()}_onLifecycleEvent(e){this._firedLifecycleEvents.has(e)||(this._firedLifecycleEvents.add(e),this.emit(N.Events.AddLifecycle,e),this===this._page.mainFrame()&&"about:blank"!==this._url&&k.debugLogger.log("api",`  "${e}" event fired`),this._page.mainFrame()._recalculateNetworkIdle())}_onClearLifecycle(){for(const e of this._firedLifecycleEvents)this.emit(N.Events.RemoveLifecycle,e);this._firedLifecycleEvents.clear(),this._inflightRequests=new Set(Array.from(this._inflightRequests).filter(e=>e===this._currentDocument.request)),this._stopNetworkIdleTimer(),0===this._inflightRequests.size&&this._startNetworkIdleTimer(),this._page.mainFrame()._recalculateNetworkIdle(this),this._onLifecycleEvent("commit")}setPendingDocument(e){this._pendingDocument=e,e&&this._invalidateNonStallingEvaluations("Navigation interrupted the evaluation")}pendingDocument(){return this._pendingDocument}_invalidateNonStallingEvaluations(e){if(!this._raceAgainstEvaluationStallingEventsPromises.size)return;const t=new Error(e);for(const e of this._raceAgainstEvaluationStallingEventsPromises)e.reject(t)}async raceAgainstEvaluationStallingEvents(e){if(this._pendingDocument)throw new Error("Frame is currently attempting a navigation");if(this._page.browserContext.dialogManager.hasOpenDialogsForPage(this._page))throw new Error("Open JavaScript dialog prevents evaluation");const t=new I.ManualPromise;this._raceAgainstEvaluationStallingEventsPromises.add(t);try{return await Promise.race([e(),t])}finally{this._raceAgainstEvaluationStallingEventsPromises.delete(t)}}nonStallingRawEvaluateInExistingMainContext(e){return this.raceAgainstEvaluationStallingEvents(()=>{const t=this._existingMainContext();if(!t)throw new Error("Frame does not yet have a main execution context");return t.rawEvaluateJSON(e)})}nonStallingEvaluateInExistingContext(e,t){return this.raceAgainstEvaluationStallingEvents(()=>{const n=this._contextData.get(t)?.context;if(!n)throw new Error("Frame does not yet have the execution context");return n.evaluateExpression(e,{isFunction:!1})})}_recalculateNetworkIdle(e){let t=this._firedNetworkIdleSelf;for(const n of this._childFrames)n._recalculateNetworkIdle(e),n._firedLifecycleEvents.has("networkidle")||(t=!1);t&&!this._firedLifecycleEvents.has("networkidle")&&(this._firedLifecycleEvents.add("networkidle"),this.emit(N.Events.AddLifecycle,"networkidle"),this===this._page.mainFrame()&&"about:blank"!==this._url&&k.debugLogger.log("api",'  "networkidle" event fired')),e!==this&&this._firedLifecycleEvents.has("networkidle")&&!t&&(this._firedLifecycleEvents.delete("networkidle"),this.emit(N.Events.RemoveLifecycle,"networkidle"))}async raceNavigationAction(e,t){return E.LongStandingScope.raceMultiple([this._detachedScope,this._page.openScope],t().catch(t=>{if(t instanceof M&&t.documentId){const n=this._redirectedNavigations.get(t.documentId);if(n)return e.log(`waiting for redirected navigation to "${n.url}"`),e.race(n.gotoPromise)}throw t}))}redirectNavigation(e,t,n){const r=new x.ProgressController,o={url:e,gotoPromise:r.run(t=>this.gotoImpl(t,e,{referer:n}),0)};this._redirectedNavigations.set(t,o),o.gotoPromise.finally(()=>this._redirectedNavigations.delete(t))}async goto(e,t,n={}){const r=(0,E.constructURLBasedOnBaseURL)(this._page.browserContext._options.baseURL,t);return this.raceNavigationAction(e,async()=>this.gotoImpl(e,r,n))}async gotoImpl(e,t,n){const r=D("waitUntil",void 0===n.waitUntil?"load":n.waitUntil);e.log(`navigating to "${t}", waiting until "${r}"`);const o=(this._page.extraHTTPHeaders()||[]).find(e=>"referer"===e.name.toLowerCase());let i=o?o.value:void 0;if(void 0!==n.referer){if(void 0!==i&&i!==n.referer)throw new Error('"referer" is already specified as extra HTTP header');i=n.referer}t=w.helper.completeUserURL(t);const s=[],a=e=>s.push(e);this.on(N.Events.InternalNavigation,a);const l=await e.race(this._page.delegate.navigateFrame(this,t,i)).finally(()=>this.off(N.Events.InternalNavigation,a));let c;if(l.newDocumentId){const n=e=>e.newDocument&&(e.newDocument.documentId===l.newDocumentId||!e.error),r=s.filter(n);if(c=r.length?r[0]:await w.helper.waitForEvent(e,this,N.Events.InternalNavigation,n).promise,c.newDocument.documentId!==l.newDocumentId)throw new M(l.newDocumentId,`Navigation to "${t}" is interrupted by another navigation to "${c.url}"`);if(c.error)throw c.error}else{const t=e=>!e.newDocument,n=s.filter(t);c=n.length?n[0]:await w.helper.waitForEvent(e,this,N.Events.InternalNavigation,t).promise}this._firedLifecycleEvents.has(r)||await w.helper.waitForEvent(e,this,N.Events.AddLifecycle,e=>e===r).promise;const u=c.newDocument?c.newDocument.request:void 0;return u?e.race(u._finalRequest().response()):null}async _waitForNavigation(e,t,n){const r=D("waitUntil",void 0===n.waitUntil?"load":n.waitUntil);e.log(`waiting for navigation until "${r}"`);const o=await w.helper.waitForEvent(e,this,N.Events.InternalNavigation,n=>!!n.error||!(t&&!n.newDocument)&&(e.log(`  navigated to "${this._url}"`),!0)).promise;if(o.error)throw o.error;this._firedLifecycleEvents.has(r)||await w.helper.waitForEvent(e,this,N.Events.AddLifecycle,e=>e===r).promise;const i=o.newDocument?o.newDocument.request:void 0;return i?e.race(i._finalRequest().response()):null}async _waitForLoadState(e,t){const n=D("state",t);this._firedLifecycleEvents.has(n)||await w.helper.waitForEvent(e,this,N.Events.AddLifecycle,e=>e===n).promise}async frameElement(){return this._page.delegate.getFrameElement(this)}_context(e){return this._contextData.get(e).contextPromise.then(e=>{if(e instanceof v.ExecutionContext)return e;throw new Error(e.destroyedReason)})}_mainContext(){return this._context("main")}_existingMainContext(){return this._contextData.get("main")?.context||null}_utilityContext(){return this._context("utility")}async evaluateExpression(e,t={},n){const r=await this._context(t.world??"main");return await r.evaluateExpression(e,t,n)}async evaluateExpressionHandle(e,t={},n){const r=await this._context(t.world??"main");return await r.evaluateExpressionHandle(e,t,n)}async querySelector(e,t){return k.debugLogger.log("api",`    finding element using the selector "${e}"`),this.selectors.query(e,t)}async waitForSelector(e,t,n,r,o){if(r.visibility)throw new Error("options.visibility is not supported, did you mean options.state?");if(r.waitFor&&"visible"!==r.waitFor)throw new Error("options.waitFor is not supported, did you mean options.state?");const{state:i="visible"}=r;if(!["attached","detached","visible","hidden"].includes(i))throw new Error("state: expected one of (attached|detached|visible|hidden)");n&&e.log(`waiting for ${this._asLocator(t)}${"attached"===i?"":" to be "+i}`);const s=this.retryWithProgressAndTimeouts(e,[0,20,50,100,100,500],async s=>{n&&await this._page.performActionPreChecks(e);const a=await e.race(this.selectors.resolveInjectedForSelector(t,r,o));if(!a)return"hidden"===i||"detached"===i?null:s;const l=await e.race(a.injected.evaluateHandle((e,{info:t,root:n})=>{if(n&&!n.isConnected)throw e.createStacklessError("Element is not attached to the DOM");const r=e.querySelectorAll(t.parsed,n||document),o=r[0],i=!!o&&e.utils.isElementVisible(o);let s="";if(r.length>1){if(t.strict)throw e.strictModeViolationError(t.parsed,r);s=`  locator resolved to ${r.length} elements. Proceeding with the first one: ${e.previewNode(r[0])}`}else o&&(s=`  locator resolved to ${i?"visible":"hidden"} ${e.previewNode(o)}`);return{log:s,element:o,visible:i,attached:!!o}},{info:a.info,root:a.frame===this?o:void 0})),{log:c,visible:u,attached:d}=await e.race(l.evaluate(e=>({log:e.log,visible:e.visible,attached:e.attached})));if(c&&e.log(c),!{attached:d,detached:!d,visible:u,hidden:!u}[i])return l.dispose(),s;if(r.omitReturnValue)return l.dispose(),null;const h="attached"===i||"visible"===i?await e.race(l.evaluateHandle(e=>e.element)):null;if(l.dispose(),!h)return null;r.__testHookBeforeAdoptNode&&await e.race(r.__testHookBeforeAdoptNode());try{const t=await e.race(a.frame._mainContext());return await e.race(h._adoptTo(t))}catch(e){return s}});return o?o._context._raceAgainstContextDestroyed(s):s}async dispatchEvent(e,t,n,r={},o,i){await this._callOnElementOnceMatches(e,t,(e,t,n)=>{e.dispatchEvent(t,n.type,n.eventInit)},{type:n,eventInit:r},{mainWorld:!0,...o},i)}async evalOnSelector(e,t,n,r,o,i){const s=await this.selectors.query(e,{strict:t},i);if(!s)throw new Error(`Failed to find element matching selector "${e}"`);const a=await s.evaluateExpression(n,{isFunction:r},o);return s.dispose(),a}async evalOnSelectorAll(e,t,n,r,o){const i=await this.selectors.queryArrayInMainWorld(e,o),s=await i.evaluateExpression(t,{isFunction:n},r);return i.dispose(),s}async maskSelectors(e,t){const n=await this._utilityContext(),r=await n.injectedScript();await r.evaluate((e,{parsed:t,color:n})=>{e.maskSelectors(t,n)},{parsed:e,color:t})}async querySelectorAll(e){return this.selectors.queryAll(e)}async queryCount(e,t){try{return await this.selectors.queryCount(e,t)}catch(e){if(this.isNonRetriableError(e))throw e;return 0}}async content(){try{const e=await this._utilityContext();return await e.evaluate(()=>{let e="";return document.doctype&&(e=(new XMLSerializer).serializeToString(document.doctype)),document.documentElement&&(e+=document.documentElement.outerHTML),e})}catch(e){if(this.isNonRetriableError(e))throw e;throw new Error("Unable to retrieve content because the page is navigating and changing the content.")}}async setContent(e,t,n){const r=`--playwright--set--content--${this._id}--${++this._setContentCounter}--`;await this.raceNavigationAction(e,async()=>{const o=void 0===n.waitUntil?"load":n.waitUntil;e.log(`setting frame content, waiting until "${o}"`);const i=await e.race(this._utilityContext()),s=new I.ManualPromise;this._page.frameManager._consoleMessageTags.set(r,()=>{this._onClearLifecycle(),s.resolve()});const a=e.race(s).then(()=>this._waitForLoadState(e,o)),l=e.race(i.evaluate(({html:e,tag:t})=>{document.open(),console.debug(t),document.write(e),document.close()},{html:t,tag:r}));return await Promise.all([l,a]),null}).finally(()=>{this._page.frameManager._consoleMessageTags.delete(r)})}name(){return this._name||""}url(){return this._url}origin(){if(this._url.startsWith("http"))return A.parseURL(this._url)?.origin}parentFrame(){return this._parentFrame}childFrames(){return Array.from(this._childFrames)}async addScriptTag(e){const{url:t=null,content:n=null,type:r=""}=e;if(!t&&!n)throw new Error("Provide an object with a `url`, `path` or `content` property");const o=await this._mainContext();return this._raceWithCSPError(async()=>{if(null!==t)return(await o.evaluateHandle(i,{url:t,type:r})).asElement();const e=(await o.evaluateHandle(s,{content:n,type:r})).asElement();return this._page.delegate.cspErrorsAsynchronousForInlineScripts&&await o.evaluate(()=>!0),e});async function i(e){const t=document.createElement("script");t.src=e.url,e.type&&(t.type=e.type);const n=new Promise((e,n)=>{t.onload=e,t.onerror=e=>n("string"==typeof e?new Error(e):new Error(`Failed to load script at ${t.src}`))});return document.head.appendChild(t),await n,t}function s(e){const t=document.createElement("script");t.type=e.type||"text/javascript",t.text=e.content;let n=null;if(t.onerror=e=>n=e,document.head.appendChild(t),n)throw n;return t}}async addStyleTag(e){const{url:t=null,content:n=null}=e;if(!t&&!n)throw new Error("Provide an object with a `url`, `path` or `content` property");const r=await this._mainContext();return this._raceWithCSPError(async()=>null!==t?(await r.evaluateHandle(o,t)).asElement():(await r.evaluateHandle(i,n)).asElement());async function o(e){const t=document.createElement("link");t.rel="stylesheet",t.href=e;const n=new Promise((e,n)=>{t.onload=e,t.onerror=n});return document.head.appendChild(t),await n,t}async function i(e){const t=document.createElement("style");t.type="text/css",t.appendChild(document.createTextNode(e));const n=new Promise((e,n)=>{t.onload=e,t.onerror=n});return document.head.appendChild(t),await n,t}}async _raceWithCSPError(e){const t=[];let n,r,o;const i=e().then(e=>n=e).catch(e=>r=e),s=new Promise(e=>{t.push(O.eventsHelper.addEventListener(this._page.browserContext,p.BrowserContext.Events.Console,t=>{t.page()===this._page&&"error"===t.type()&&(t.text().includes("Content-Security-Policy")||t.text().includes("Content Security Policy"))&&(o=t,e())}))});if(await Promise.race([i,s]),O.eventsHelper.removeEventListeners(t),o)throw new Error(o.text());if(r)throw r;return n}async retryWithProgressAndTimeouts(e,t,n){const r=Symbol("continuePolling");t=[0,...t];let o=0;for(;;){const i=t[Math.min(o++,t.length-1)];if(i){const t=new Promise(e=>setTimeout(e,i));await e.race(E.LongStandingScope.raceMultiple([this._page.openScope,this._detachedScope],t))}try{const e=await n(r);if(e===r)continue;return e}catch(e){if(this.isNonRetriableError(e))throw e;continue}}}isNonRetriableError(e){return!!((0,x.isAbortError)(e)||v.isJavaScriptErrorInEvaluate(e)||(0,C.isSessionClosedError)(e)||f.isNonRecoverableDOMError(e)||(0,T.isInvalidSelectorError)(e)||this.isDetached())}async _retryWithProgressIfNotConnected(e,t,n,r,o){return e.log(`waiting for ${this._asLocator(t)}`),this.retryWithProgressAndTimeouts(e,[0,20,50,100,100,500],async i=>{r&&await this._page.performActionPreChecks(e);const s=await e.race(this.selectors.resolveInjectedForSelector(t,{strict:n}));if(!s)return i;const a=await e.race(s.injected.evaluateHandle((e,{info:t,callId:n})=>{const r=e.querySelectorAll(t.parsed,document);n&&e.markTargetElements(new Set(r),n);const o=r[0];let i="";if(r.length>1){if(t.strict)throw e.strictModeViolationError(t.parsed,r);i=`  locator resolved to ${r.length} elements. Proceeding with the first one: ${e.previewNode(r[0])}`}else o&&(i=`  locator resolved to ${e.previewNode(o)}`);return{log:i,success:!!o,element:o}},{info:s.info,callId:e.metadata.id})),{log:l,success:c}=await e.race(a.evaluate(e=>({log:e.log,success:e.success})));if(l&&e.log(l),!c)return a.dispose(),i;const u=await e.race(a.evaluateHandle(e=>e.element));a.dispose();try{const t=await o(u);return"error:notconnected"===t?(e.log("element was detached from the DOM, retrying"),i):t}finally{u?.dispose()}})}async rafrafTimeoutScreenshotElementWithProgress(e,t,n,r){return await this._retryWithProgressIfNotConnected(e,t,!0,!0,async t=>(await t._frame.rafrafTimeout(e,n),await this._page.screenshotter.screenshotElement(e,t,r)))}async click(e,t,n){return f.assertDone(await this._retryWithProgressIfNotConnected(e,t,n.strict,!n.force,t=>t._click(e,{...n,waitAfter:!n.noWaitAfter})))}async dblclick(e,t,n){return f.assertDone(await this._retryWithProgressIfNotConnected(e,t,n.strict,!n.force,t=>t._dblclick(e,n)))}async dragAndDrop(e,t,n,r){f.assertDone(await this._retryWithProgressIfNotConnected(e,t,r.strict,!r.force,async t=>t._retryPointerAction(e,"move and down",!1,async t=>{await this._page.mouse.move(e,t.x,t.y),await this._page.mouse.down(e)},{...r,waitAfter:"disabled",position:r.sourcePosition}))),f.assertDone(await this._retryWithProgressIfNotConnected(e,n,r.strict,!1,async t=>t._retryPointerAction(e,"move and up",!1,async t=>{await this._page.mouse.move(e,t.x,t.y),await this._page.mouse.up(e)},{...r,waitAfter:"disabled",position:r.targetPosition})))}async tap(e,t,n){if(!this._page.browserContext._options.hasTouch)throw new Error("The page does not support tap. Use hasTouch context option to enable touch support.");return f.assertDone(await this._retryWithProgressIfNotConnected(e,t,n.strict,!n.force,t=>t._tap(e,n)))}async fill(e,t,n,r){return f.assertDone(await this._retryWithProgressIfNotConnected(e,t,r.strict,!r.force,t=>t._fill(e,n,r)))}async focus(e,t,n){f.assertDone(await this._retryWithProgressIfNotConnected(e,t,n.strict,!0,t=>t._focus(e)))}async blur(e,t,n){f.assertDone(await this._retryWithProgressIfNotConnected(e,t,n.strict,!0,t=>t._blur(e)))}async resolveSelector(e,t,n={}){const r=await e.race(this.selectors.query(t,n));if(!r)throw new Error(`No element matching ${t}`);const o=await e.race(r.evaluateInUtility(async([e,t])=>e.generateSelectorSimple(t),{}));if(!o)throw new Error(`Unable to generate locator for ${t}`);let i=r._frame;const s=[o];for(;i?.parentFrame();){const n=await e.race(i.frameElement());if(n){const r=await e.race(n.evaluateInUtility(async([e,t])=>e.generateSelectorSimple(t),{}));if(n.dispose(),"error:notconnected"===r||!r)throw new Error(`Unable to generate locator for ${t}`);s.push(r)}i=i.parentFrame()}return{resolvedSelector:s.reverse().join(" >> internal:control=enter-frame >> ")}}async textContent(e,t,n,r){return this._callOnElementOnceMatches(e,t,(e,t)=>t.textContent,void 0,n,r)}async innerText(e,t,n,r){return this._callOnElementOnceMatches(e,t,(e,t)=>{if("http://www.w3.org/1999/xhtml"!==t.namespaceURI)throw e.createStacklessError("Node is not an HTMLElement");return t.innerText},void 0,n,r)}async innerHTML(e,t,n,r){return this._callOnElementOnceMatches(e,t,(e,t)=>t.innerHTML,void 0,n,r)}async getAttribute(e,t,n,r,o){return this._callOnElementOnceMatches(e,t,(e,t,n)=>t.getAttribute(n.name),{name:n},r,o)}async inputValue(e,t,n,r){return this._callOnElementOnceMatches(e,t,(e,t)=>{const n=e.retarget(t,"follow-label");if(!n||"INPUT"!==n.nodeName&&"TEXTAREA"!==n.nodeName&&"SELECT"!==n.nodeName)throw e.createStacklessError("Node is not an <input>, <textarea> or <select> element");return n.value},void 0,n,r)}async highlight(e,t){const n=await e.race(this.selectors.resolveInjectedForSelector(t));if(n)return await e.race(n.injected.evaluate((e,{info:t})=>e.highlight(t.parsed),{info:n.info}))}async hideHighlight(){return this.raceAgainstEvaluationStallingEvents(async()=>{const e=await this._utilityContext(),t=await e.injectedScript();return await t.evaluate(e=>e.hideHighlight())})}async _elementState(e,t,n,r,o){const i=await this._callOnElementOnceMatches(e,t,(e,t,n)=>e.elementState(t,n.state),{state:n},r,o);return"error:notconnected"===i.received&&f.throwElementIsNotAttached(),i.matches}async isVisible(e,t,n={},r){return e.log(`  checking visibility of ${this._asLocator(t)}`),await this.isVisibleInternal(e,t,n,r)}async isVisibleInternal(e,t,n={},r){try{const o=await e.race(this.selectors.resolveInjectedForSelector(t,n,r));return!!o&&await e.race(o.injected.evaluate((e,{info:t,root:n})=>{const r=e.querySelector(t.parsed,n||document,t.strict);return(r?e.elementState(r,"visible"):{matches:!1,received:"error:notconnected"}).matches},{info:o.info,root:o.frame===this?r:void 0}))}catch(e){if(this.isNonRetriableError(e))throw e;return!1}}async isHidden(e,t,n={},r){return!await this.isVisible(e,t,n,r)}async isDisabled(e,t,n,r){return this._elementState(e,t,"disabled",n,r)}async isEnabled(e,t,n,r){return this._elementState(e,t,"enabled",n,r)}async isEditable(e,t,n,r){return this._elementState(e,t,"editable",n,r)}async isChecked(e,t,n,r){return this._elementState(e,t,"checked",n,r)}async hover(e,t,n){return f.assertDone(await this._retryWithProgressIfNotConnected(e,t,n.strict,!n.force,t=>t._hover(e,n)))}async selectOption(e,t,n,r,o){return await this._retryWithProgressIfNotConnected(e,t,o.strict,!o.force,t=>t._selectOption(e,n,r,o))}async setInputFiles(e,t,n){const r=await(0,g.prepareFilesForUpload)(this,n);return f.assertDone(await this._retryWithProgressIfNotConnected(e,t,n.strict,!0,t=>t._setInputFiles(e,r)))}async type(e,t,n,r){return f.assertDone(await this._retryWithProgressIfNotConnected(e,t,r.strict,!0,t=>t._type(e,n,r)))}async press(e,t,n,r){return f.assertDone(await this._retryWithProgressIfNotConnected(e,t,r.strict,!0,t=>t._press(e,n,r)))}async check(e,t,n){return f.assertDone(await this._retryWithProgressIfNotConnected(e,t,n.strict,!n.force,t=>t._setChecked(e,!0,n)))}async uncheck(e,t,n){return f.assertDone(await this._retryWithProgressIfNotConnected(e,t,n.strict,!n.force,t=>t._setChecked(e,!1,n)))}async waitForTimeout(e,t){return e.wait(t)}async ariaSnapshot(e,t){return await this._retryWithProgressIfNotConnected(e,t,!0,!0,t=>e.race(t.ariaSnapshot()))}async expect(e,t,n,r){e.log(`${(0,E.renderTitleForCall)(e.metadata)}${r?` with timeout ${r}ms`:""}`);const o={isSet:!1},i=t=>{t.matches===n.isNot&&(e.metadata.error={error:{name:"Expect",message:"Expect failed"}})};try{t&&e.log(`waiting for ${this._asLocator(t)}`),await this._page.performActionPreChecks(e);try{const r=await this._expectInternal(e,t,n,o,!0);if(r.matches!==n.isNot)return r}catch(e){if(this.isNonRetriableError(e))throw e}const r=await this.retryWithProgressAndTimeouts(e,[100,250,500,1e3],async r=>{await this._page.performActionPreChecks(e);const{matches:i,received:s}=await this._expectInternal(e,t,n,o,!1);return i===n.isNot?r:{matches:i,received:s}});return i(r),r}catch(t){const r={matches:n.isNot,log:(0,B.compressCallLog)(e.metadata.log)};return(0,T.isInvalidSelectorError)(t)?r.errorMessage="Error: "+t.message:v.isJavaScriptErrorInEvaluate(t)?r.errorMessage=t.message:o.isSet&&(r.received=o.received,r.errorMessage=o.errorMessage),t instanceof m.TimeoutError&&(r.timedOut=!0),i(r),r}}async _expectInternal(e,t,n,r,o){const i=t=>o?t:e.race(t),s=t?await i(this.selectors.resolveFrameForSelector(t,{strict:!0})):void 0,{frame:a,info:l}=s||{frame:this,info:void 0},c="to.have.property"===n.expression?"main":l?.world??"utility",u=await i(a._context(c)),d=await i(u.injectedScript()),{log:h,matches:p,received:f,missingReceived:m}=await i(d.evaluate(async(e,{info:t,options:n,callId:r})=>{const o=t?e.querySelectorAll(t.parsed,document):[];r&&e.markTargetElements(new Set(o),r);let i="";if("to.have.count"===n.expression||n.expression.endsWith(".array"))i=`  locator resolved to ${o.length} element${1===o.length?"":"s"}`;else{if(o.length>1)throw e.strictModeViolationError(t.parsed,o);o.length&&(i=`  locator resolved to ${e.previewNode(o[0])}`)}return{log:i,...await e.expect(o[0],n,o)}},{info:l,options:n,callId:e.metadata.id}));return h&&e.log(h),p===n.isNot&&(m?r.errorMessage="Error: element(s) not found":r.received=f,r.isSet=!0,m||Array.isArray(f)||e.log(`  unexpected value "${function(e,t){return"to.match.aria"===e&&t?t.raw:t}(n.expression,f)}"`)),{matches:p,received:f}}async waitForFunctionExpression(e,t,n,r,o,i="main"){return"number"==typeof o.pollingInterval&&(0,E.assert)(o.pollingInterval>0,"Cannot poll with non-positive interval: "+o.pollingInterval),t=v.normalizeEvaluationExpression(t,n),this.retryWithProgressAndTimeouts(e,[100],async()=>{const s="main"===i?await e.race(this._mainContext()):await e.race(this._utilityContext()),a=await e.race(s.injectedScript()),l=await e.race(a.evaluateHandle((e,{expression:t,isFunction:n,polling:r,arg:o})=>{let i,s,a,l=!1;const c=new Promise((e,t)=>{s=e,a=t}),u=()=>{if(!l)try{const a=(()=>{let e=i??globalThis.eval(t);return!0===n?(i=e,e=e(o)):!1===n||"function"==typeof e&&(i=e,e=e(o)),e})();if(a)return void s(a);"number"!=typeof r?e.utils.builtins.requestAnimationFrame(u):e.utils.builtins.setTimeout(u,r)}catch(e){a(e)}};return u(),{result:c,abort:()=>l=!0}},{expression:t,isFunction:n,polling:o.pollingInterval,arg:r}));try{return await e.race(l.evaluateHandle(e=>e.result))}catch(e){throw await l.evaluate(e=>e.abort()).catch(()=>{}),e}finally{l.dispose()}})}async waitForFunctionValueInUtility(e,t){const n=`() => {\n      const result = (${t})();\n      if (!result)\n        return result;\n      return JSON.stringify(result);\n    }`,r=await this.waitForFunctionExpression(e,n,!0,void 0,{},"utility");return JSON.parse(r.rawValue())}async title(){return(await this._utilityContext()).evaluate(()=>document.title)}async rafrafTimeout(e,t){if(0===t)return;const n=await e.race(this._utilityContext());await Promise.all([e.race(n.evaluate(()=>new Promise(e=>{requestAnimationFrame(()=>{requestAnimationFrame(e)})}))),e.wait(t)])}_onDetached(){this._stopNetworkIdleTimer(),this._detachedScope.close(new Error("Frame was detached"));for(const e of this._contextData.values())e.context&&e.context.contextDestroyed("Frame was detached"),e.contextPromise.resolve({destroyedReason:"Frame was detached"});this._parentFrame&&this._parentFrame._childFrames.delete(this),this._parentFrame=null}async _callOnElementOnceMatches(e,t,n,r,o,i){const s=n.toString();e.log(`waiting for ${this._asLocator(t)}`);const a=this.retryWithProgressAndTimeouts(e,[0,20,50,100,100,500],async n=>{const a=await e.race(this.selectors.resolveInjectedForSelector(t,o,i));if(!a)return n;const{log:l,success:c,value:u}=await e.race(a.injected.evaluate((e,{info:t,callbackText:n,taskData:r,callId:o,root:i})=>{const s=e.eval(n),a=e.querySelector(t.parsed,i||document,t.strict);if(!a)return{success:!1};const l=`  locator resolved to ${e.previewNode(a)}`;return o&&e.markTargetElements(new Set([a]),o),{log:l,success:!0,value:s(e,a,r)}},{info:a.info,callbackText:s,taskData:r,callId:e.metadata.id,root:a.frame===this?i:void 0}));return l&&e.log(l),c?u:n});return i?i._context._raceAgainstContextDestroyed(a):a}_setContext(e,t){const n=this._contextData.get(e);n.context=t,t?n.contextPromise.resolve(t):n.contextPromise=new I.ManualPromise}_contextCreated(e,t){const n=this._contextData.get(e);n.context&&(n.context.contextDestroyed("Execution context was destroyed, most likely because of a navigation"),this._setContext(e,null)),this._setContext(e,t)}_contextDestroyed(e){if(!this._detachedScope.isClosed()){e.contextDestroyed("Execution context was destroyed, most likely because of a navigation");for(const[t,n]of this._contextData)n.context===e&&this._setContext(t,null)}}_startNetworkIdleTimer(){(0,E.assert)(!this._networkIdleTimer),this._firedLifecycleEvents.has("networkidle")||this._detachedScope.isClosed()||(this._networkIdleTimer=setTimeout(()=>{this._firedNetworkIdleSelf=!0,this._page.mainFrame()._recalculateNetworkIdle()},500))}_stopNetworkIdleTimer(){this._networkIdleTimer&&clearTimeout(this._networkIdleTimer),this._networkIdleTimer=void 0,this._firedNetworkIdleSelf=!1}async extendInjectedScript(e,t){const n=await this._context("main"),r=await n.injectedScript();await r.evaluate((e,{source:t,arg:n})=>{e.extend(t,n)},{source:e,arg:t})}_asLocator(e){return(0,E.asLocator)(this._page.browserContext._browser.sdkLanguage(),e)}}class F{constructor(e){this._protectCount=0,this._promise=new I.ManualPromise,this._progress=e,this.retain()}waitFor(){return this.release(),this._progress.race(this._promise)}addFrameNavigation(e){if(e.parentFrame())return;this.retain();const t=w.helper.waitForEvent(this._progress,e,N.Events.InternalNavigation,t=>!!t.isPublic&&(!t.error&&this._progress&&this._progress.log(`  navigated to "${e._url}"`),!0));E.LongStandingScope.raceMultiple([e._page.openScope,e._detachedScope],t.promise).catch(()=>{}).finally(()=>{t.dispose(),this.release()})}retain(){++this._protectCount}release(){--this._protectCount,this._protectCount||this._promise.resolve()}}function D(e,t){if("networkidle0"===t&&(t="networkidle"),!S.kLifecycleEvents.has(t))throw new Error(`${e}: expected one of (load|domcontentloaded|networkidle|commit)`);return t}},"./node_modules/playwright-core/lib/server/har/harRecorder.js":(e,t,n)=>{"use strict";var r,o=Object.create,i=Object.defineProperty,s=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,l=Object.getPrototypeOf,c=Object.prototype.hasOwnProperty,u=(e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let o of a(t))c.call(e,o)||o===n||i(e,o,{get:()=>t[o],enumerable:!(r=s(t,o))||r.enumerable});return e},d=(e,t,n)=>(n=null!=e?o(l(e)):{},u(!t&&e&&e.__esModule?n:i(n,"default",{value:e,enumerable:!0}),e)),h={};((e,t)=>{for(var n in t)i(e,n,{get:t[n],enumerable:!0})})(h,{HarRecorder:()=>v}),e.exports=(r=h,u(i({},"__esModule",{value:!0}),r));var p=d(n("fs")),f=d(n("path")),m=n("./node_modules/playwright-core/lib/server/artifact.js"),g=n("./node_modules/playwright-core/lib/server/har/harTracer.js"),b=n("./node_modules/playwright-core/lib/server/utils/crypto.js"),w=n("./node_modules/playwright-core/lib/utils/isomorphic/manualPromise.js"),y=n("./node_modules/playwright-core/lib/zipBundle.js");class v{constructor(e,t,n){this._isFlushed=!1,this._entries=[],this._zipFile=null,this._writtenZipEntries=new Set,this._artifact=new m.Artifact(e,f.default.join(e._browser.options.artifactsDir,`${(0,b.createGuid)()}.har`));const r=void 0!==n.urlRegexSource&&void 0!==n.urlRegexFlags?new RegExp(n.urlRegexSource,n.urlRegexFlags):void 0,o=!!n.zip,i=n.content||(o?"attach":"embed");this._tracer=new g.HarTracer(e,t,this,{content:i,slimMode:"minimal"===n.mode,includeTraceInfo:!1,recordRequestOverrides:!0,waitForContentOnStop:!0,urlFilter:r??n.urlGlob}),this._zipFile="attach"===i||o?new y.yazl.ZipFile:null,this._tracer.start({omitScripts:!1})}onEntryStarted(e){this._entries.push(e)}onEntryFinished(e){}onContentBlob(e,t){this._zipFile&&!this._writtenZipEntries.has(e)&&(this._writtenZipEntries.add(e),this._zipFile.addBuffer(t,e))}async flush(){if(this._isFlushed)return;this._isFlushed=!0,await this._tracer.flush();const e=this._tracer.stop();e.entries=this._entries;const t=function(e){const t=[];return A(e,t,"",!1,void 0),t.join("")}({log:e});if(this._zipFile){const e=new w.ManualPromise;this._zipFile.on("error",t=>e.reject(t)),this._zipFile.addBuffer(Buffer.from(t,"utf-8"),"har.har"),this._zipFile.end(),this._zipFile.outputStream.pipe(p.default.createWriteStream(this._artifact.localPath())).on("close",()=>{e.resolve()}),await e}else await p.default.promises.writeFile(this._artifact.localPath(),t)}async export(){return await this.flush(),this._artifact.reportFinished(),this._artifact}}function A(e,t,n,r,o){if("object"!=typeof e||null===e)return void t.push(JSON.stringify(e));const i=Array.isArray(e);if(!i&&"Object"!==e.constructor.name)return void t.push(JSON.stringify(e));const s=i?e:Object.entries(e).filter(e=>void 0!==e[1]);if(!s.length)return void t.push(i?"[]":"{}");const a=`${n}  `;let l;l=i?r?{open:"[",close:"]"}:{open:`[\n${a}`,close:`\n${n}]`}:r?{open:"{ ",close:" }"}:{open:`{\n${a}`,close:`\n${n}}`},t.push(l.open);for(let e=0;e<s.length;++e){const n=s[e];e&&t.push(r?", ":`,\n${a}`),i||t.push(`${JSON.stringify(n[0])}: `);const l=i?void 0:n[0],c=r||"timings"===l||"headers"===o;A(i?n:n[1],t,a,c,l)}t.push(l.close)}},"./node_modules/playwright-core/lib/server/har/harTracer.js":(e,t,n)=>{"use strict";var r,o=Object.create,i=Object.defineProperty,s=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,l=Object.getPrototypeOf,c=Object.prototype.hasOwnProperty,u=(e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let o of a(t))c.call(e,o)||o===n||i(e,o,{get:()=>t[o],enumerable:!(r=s(t,o))||r.enumerable});return e},d={};((e,t)=>{for(var n in t)i(e,n,{get:t[n],enumerable:!0})})(d,{HarTracer:()=>x}),e.exports=(r=d,u(i({},"__esModule",{value:!0}),r));var h=n("./node_modules/playwright-core/lib/utils.js"),p=n("./node_modules/playwright-core/lib/utils.js"),f=n("./node_modules/playwright-core/lib/server/utils/eventsHelper.js"),m=n("./node_modules/playwright-core/lib/utils/isomorphic/manualPromise.js"),g=n("./node_modules/playwright-core/lib/utilsBundle.js"),b=n("./node_modules/playwright-core/lib/server/browserContext.js"),w=n("./node_modules/playwright-core/lib/server/fetch.js"),y=n("./node_modules/playwright-core/lib/server/frames.js"),v=n("./node_modules/playwright-core/lib/server/helper.js"),A=((e,t,n)=>(n=null!=e?o(l(e)):{},u(e&&e.__esModule?n:i(n,"default",{value:e,enumerable:!0}),e)))(n("./node_modules/playwright-core/lib/server/network.js"));const _="HTTP/1.1";class x{constructor(e,t,n,r){this._barrierPromises=new Set,this._pageEntries=new Map,this._eventListeners=[],this._started=!1,this._context=e,this._page=t,this._delegate=n,this._options=r,r.slimMode&&(r.omitSecurityDetails=!0,r.omitCookies=!0,r.omitTiming=!0,r.omitServerIP=!0,r.omitSizes=!0,r.omitPages=!0),this._entrySymbol=Symbol("requestHarEntry"),this._baseURL=e instanceof w.APIRequestContext?e._defaultOptions().baseURL:e._options.baseURL}start(e){if(this._started)return;this._options.omitScripts=e.omitScripts,this._started=!0;const t=this._context instanceof w.APIRequestContext?this._context:this._context.fetchRequest;if(this._eventListeners=[f.eventsHelper.addEventListener(t,w.APIRequestContext.Events.Request,e=>this._onAPIRequest(e)),f.eventsHelper.addEventListener(t,w.APIRequestContext.Events.RequestFinished,e=>this._onAPIRequestFinished(e))],this._context instanceof b.BrowserContext){this._eventListeners.push(f.eventsHelper.addEventListener(this._context,b.BrowserContext.Events.Page,e=>this._createPageEntryIfNeeded(e)),f.eventsHelper.addEventListener(this._context,b.BrowserContext.Events.Request,e=>this._onRequest(e)),f.eventsHelper.addEventListener(this._context,b.BrowserContext.Events.RequestFinished,({request:e,response:t})=>this._onRequestFinished(e,t).catch(()=>{})),f.eventsHelper.addEventListener(this._context,b.BrowserContext.Events.RequestFailed,e=>this._onRequestFailed(e)),f.eventsHelper.addEventListener(this._context,b.BrowserContext.Events.Response,e=>this._onResponse(e)),f.eventsHelper.addEventListener(this._context,b.BrowserContext.Events.RequestAborted,e=>this._onRequestAborted(e)),f.eventsHelper.addEventListener(this._context,b.BrowserContext.Events.RequestFulfilled,e=>this._onRequestFulfilled(e)),f.eventsHelper.addEventListener(this._context,b.BrowserContext.Events.RequestContinued,e=>this._onRequestContinued(e)));for(const e of this._context.pages())this._createPageEntryIfNeeded(e)}}_shouldIncludeEntryWithUrl(e){return!this._options.urlFilter||(0,p.urlMatches)(this._baseURL,e,this._options.urlFilter)}_entryForRequest(e){return e[this._entrySymbol]}_createPageEntryIfNeeded(e){if(!e)return;if(this._options.omitPages)return;if(this._page&&e!==this._page)return;let t=this._pageEntries.get(e);if(!t){const n=new Date;t={startedDateTime:n.toISOString(),id:e.guid,title:"",pageTimings:this._options.omitTiming?{}:{onContentLoad:-1,onLoad:-1}},t[k]=n,e.mainFrame().on(y.Frame.Events.AddLifecycle,n=>{"load"===n&&this._onLoad(e,t),"domcontentloaded"===n&&this._onDOMContentLoaded(e,t)}),this._pageEntries.set(e,t)}return t}_onDOMContentLoaded(e,t){const n=e.mainFrame().evaluateExpression(String(()=>({title:document.title,domContentLoaded:performance.timing.domContentLoadedEventStart})),{isFunction:!0,world:"utility"}).then(e=>{t.title=e.title,this._options.omitTiming||(t.pageTimings.onContentLoad=e.domContentLoaded)}).catch(()=>{});this._addBarrier(e,n)}_onLoad(e,t){const n=e.mainFrame().evaluateExpression(String(()=>({title:document.title,loaded:performance.timing.loadEventStart})),{isFunction:!0,world:"utility"}).then(e=>{t.title=e.title,this._options.omitTiming||(t.pageTimings.onLoad=e.loaded)}).catch(()=>{});this._addBarrier(e,n)}_addBarrier(e,t){if(!e)return null;if(!this._options.waitForContentOnStop)return;const n=e.openScope.safeRace(t);this._barrierPromises.add(n),n.then(()=>this._barrierPromises.delete(n))}_onAPIRequest(e){if(!this._shouldIncludeEntryWithUrl(e.url.toString()))return;const t=S(void 0,e.method,e.url,void 0,this._options);t._apiRequest=!0,this._options.omitCookies||(t.request.cookies=e.cookies),t.request.headers=Object.entries(e.headers).map(([e,t])=>({name:e,value:t})),t.request.postData=this._postDataForBuffer(e.postData||null,e.headers["content-type"],this._options.content),this._options.omitSizes||(t.request.bodySize=e.postData?.length||0),e[this._entrySymbol]=t,this._started&&this._delegate.onEntryStarted(t)}_onAPIRequestFinished(e){const t=this._entryForRequest(e.requestEvent);if(!t)return;t.response.status=e.statusCode,t.response.statusText=e.statusMessage,t.response.httpVersion=e.httpVersion,t.response.redirectURL=e.headers.location||"",this._options.omitServerIP||(t.serverIPAddress=e.serverIPAddress,t._serverPort=e.serverPort),this._options.omitTiming||(t.timings=e.timings,this._computeHarEntryTotalTime(t)),this._options.omitSecurityDetails||(t._securityDetails=e.securityDetails);for(let n=0;n<e.rawHeaders.length;n+=2)t.response.headers.push({name:e.rawHeaders[n],value:e.rawHeaders[n+1]});t.response.cookies=this._options.omitCookies?[]:e.cookies.map(e=>({...e,expires:-1===e.expires?void 0:C(e.expires)}));const n=t.response.content,r=e.headers["content-type"];r&&(n.mimeType=r),this._storeResponseContent(e.body,n,"other"),this._options.omitSizes||(t.response.bodySize=e.body?.length??0),this._started&&this._delegate.onEntryFinished(t)}_onRequest(e){if(!this._shouldIncludeEntryWithUrl(e.url()))return;const t=e.frame()?._page;if(this._page&&t!==this._page)return;const n=A.parseURL(e.url());if(!n)return;const r=this._createPageEntryIfNeeded(t),o=S(r?.id,e.method(),n,e.frame()?.guid,this._options);if(this._recordRequestHeadersAndCookies(o,e.headers()),o.request.postData=this._postDataForRequest(e,this._options.content),this._options.omitSizes||(o.request.bodySize=e.bodySize()),e.redirectedFrom()){const t=this._entryForRequest(e.redirectedFrom());t&&(t.response.redirectURL=e.url())}e[this._entrySymbol]=o,(0,h.assert)(this._started),this._delegate.onEntryStarted(o)}_recordRequestHeadersAndCookies(e,t){if(!this._options.omitCookies){e.request.cookies=[];for(const n of t.filter(e=>"cookie"===e.name.toLowerCase()))e.request.cookies.push(...n.value.split(";").map(E))}e.request.headers=t}_recordRequestOverrides(e,t){t.overrides()&&this._options.recordRequestOverrides&&(e.request.method=t.method(),e.request.url=t.url(),e.request.postData=this._postDataForRequest(t,this._options.content),this._recordRequestHeadersAndCookies(e,t.headers()))}async _onRequestFinished(e,t){if(!t)return;const n=this._entryForRequest(e);if(!n)return;const r=e.frame()?._page;this._options.omitServerIP||this._addBarrier(r||e.serviceWorker(),t.serverAddr().then(e=>{e?.ipAddress&&(n.serverIPAddress=e.ipAddress),e?.port&&(n._serverPort=e.port)})),this._options.omitSecurityDetails||this._addBarrier(r||e.serviceWorker(),t.securityDetails().then(e=>{e&&(n._securityDetails=e)}));const o=t.httpVersion();n.request.httpVersion=o,n.response.httpVersion=o;const i=this._options.omitSizes?void 0:{_encodedBodySize:-1,_decodedBodySize:-1,barrier:new m.ManualPromise,_check:function(){-1!==this._encodedBodySize&&-1!==this._decodedBodySize&&(n.response.content.compression=Math.max(0,this._decodedBodySize-this._encodedBodySize),this.barrier.resolve())},setEncodedBodySize:function(e){this._encodedBodySize=e,this._check()},setDecodedBodySize:function(e){this._decodedBodySize=e,this._check()}};i&&this._addBarrier(r||e.serviceWorker(),i.barrier);const s=t.body().then(t=>{if(this._options.omitScripts&&"script"===e.resourceType())return void i?.setDecodedBodySize(0);const r=n.response.content;i?.setDecodedBodySize(t.length),this._storeResponseContent(t,r,e.resourceType())}).catch(()=>{i?.setDecodedBodySize(0)}).then(()=>{this._started&&this._delegate.onEntryFinished(n)});this._addBarrier(r||e.serviceWorker(),s);const a=t.timing();n.timings.receive=-1!==t.request()._responseEndTiming?v.helper.millisToRoundishMillis(t.request()._responseEndTiming-a.responseStart):-1,this._computeHarEntryTotalTime(n),this._options.omitSizes||this._addBarrier(r||e.serviceWorker(),t.sizes().then(e=>{n.response.bodySize=e.responseBodySize,n.response.headersSize=e.responseHeadersSize,n.response._transferSize=e.transferSize,n.request.headersSize=e.requestHeadersSize,i?.setEncodedBodySize(e.responseBodySize)}))}async _onRequestFailed(e){const t=this._entryForRequest(e);t&&(null!==e._failureText&&(t.response._failureText=e._failureText),this._recordRequestOverrides(t,e),this._started&&this._delegate.onEntryFinished(t))}_onRequestAborted(e){const t=this._entryForRequest(e);t&&(t._wasAborted=!0)}_onRequestFulfilled(e){const t=this._entryForRequest(e);t&&(t._wasFulfilled=!0)}_onRequestContinued(e){const t=this._entryForRequest(e);t&&(t._wasContinued=!0)}_storeResponseContent(e,t,n){if(e){if(this._options.omitSizes||(t.size=e.length),"embed"===this._options.content)(0,p.isTextualMimeType)(t.mimeType)&&"font"!==n?t.text=e.toString():(t.text=e.toString("base64"),t.encoding="base64");else if("attach"===this._options.content){const n=(0,h.calculateSha1)(e)+"."+(g.mime.getExtension(t.mimeType)||"dat");this._options.includeTraceInfo?t._sha1=n:t._file=n,this._started&&this._delegate.onContentBlob(n,e)}}else t.size=0}_onResponse(e){const t=this._entryForRequest(e.request());if(!t)return;const n=e.frame()?._page,r=this._createPageEntryIfNeeded(n),o=e.request();if(t.response={status:e.status(),statusText:e.statusText(),httpVersion:e.httpVersion(),cookies:[],headers:[],content:{size:-1,mimeType:"x-unknown"},headersSize:-1,bodySize:-1,redirectURL:"",_transferSize:this._options.omitSizes?void 0:-1},!this._options.omitTiming){const n=r?r[k].valueOf():0,o=e.timing();r&&n>o.startTime&&(r.startedDateTime=new Date(o.startTime).toISOString());const i=-1!==o.domainLookupEnd?v.helper.millisToRoundishMillis(o.domainLookupEnd-o.domainLookupStart):-1,s=-1!==o.connectEnd?v.helper.millisToRoundishMillis(o.connectEnd-o.connectStart):-1,a=-1!==o.connectEnd?v.helper.millisToRoundishMillis(o.connectEnd-o.secureConnectionStart):-1,l=-1!==o.responseStart?v.helper.millisToRoundishMillis(o.responseStart-o.requestStart):-1,c=-1;t.timings={dns:i,connect:s,ssl:a,send:0,wait:l,receive:c},this._computeHarEntryTotalTime(t)}this._recordRequestOverrides(t,o),this._addBarrier(n||o.serviceWorker(),o.rawRequestHeaders().then(e=>{this._recordRequestHeadersAndCookies(t,e)})),this._recordResponseHeaders(t,e.headers()),this._addBarrier(n||o.serviceWorker(),e.rawResponseHeaders().then(e=>{this._recordResponseHeaders(t,e)}))}_recordResponseHeaders(e,t){this._options.omitCookies||(e.response.cookies=t.filter(e=>"set-cookie"===e.name.toLowerCase()).map(e=>E(e.value))),e.response.headers=t;const n=t.find(e=>"content-type"===e.name.toLowerCase());n&&(e.response.content.mimeType=n.value)}_computeHarEntryTotalTime(e){e.time=[e.timings.dns,e.timings.connect,e.timings.ssl,e.timings.wait,e.timings.receive].reduce((e,t)=>(t||-1)>0?t+e:e,0)}async flush(){await Promise.all(this._barrierPromises)}stop(){this._started=!1,f.eventsHelper.removeEventListeners(this._eventListeners),this._barrierPromises.clear();const e=this._context instanceof b.BrowserContext?this._context:void 0,t={version:"1.2",creator:{name:"Playwright",version:(0,p.getPlaywrightVersion)()},browser:{name:e?._browser.options.name||"",version:e?._browser.version()||""},pages:this._pageEntries.size?Array.from(this._pageEntries.values()):void 0,entries:[]};if(!this._options.omitTiming)for(const e of t.pages||[]){const t=e[k].valueOf();"number"==typeof e.pageTimings.onContentLoad&&e.pageTimings.onContentLoad>=0?e.pageTimings.onContentLoad-=t:e.pageTimings.onContentLoad=-1,"number"==typeof e.pageTimings.onLoad&&e.pageTimings.onLoad>=0?e.pageTimings.onLoad-=t:e.pageTimings.onLoad=-1}return this._pageEntries.clear(),t}_postDataForRequest(e,t){const n=e.postDataBuffer();if(!n)return;const r=e.headerValue("content-type");return this._postDataForBuffer(n,r,t)}_postDataForBuffer(e,t,n){if(!e)return;t??="application/octet-stream";const r={mimeType:t,text:"",params:[]};if("embed"===n&&"application/octet-stream"!==t&&(r.text=e.toString()),"attach"===n){const n=(0,h.calculateSha1)(e)+"."+(g.mime.getExtension(t)||"dat");this._options.includeTraceInfo?r._sha1=n:r._file=n,this._delegate.onContentBlob(n,e)}if("application/x-www-form-urlencoded"===t){const t=new URLSearchParams(e.toString());for(const[e,n]of t.entries())r.params.push({name:e,value:n})}return r}}function S(e,t,n,r,o){return{pageref:e,startedDateTime:(new Date).toISOString(),time:-1,request:{method:t,url:n.toString(),httpVersion:_,cookies:[],headers:[],queryString:[...n.searchParams].map(e=>({name:e[0],value:e[1]})),headersSize:-1,bodySize:-1},response:{status:-1,statusText:"",httpVersion:_,cookies:[],headers:[],content:{size:-1,mimeType:"x-unknown"},headersSize:-1,bodySize:-1,redirectURL:"",_transferSize:o.omitSizes?void 0:-1},cache:{},timings:{send:-1,wait:-1,receive:-1},_frameref:o.includeTraceInfo?r:void 0,_monotonicTime:o.includeTraceInfo?(0,h.monotonicTime)():void 0}}function E(e){const t={name:"",value:""};let n=!0;for(const r of e.split(/; */)){const e=r.indexOf("="),o=-1!==e?r.substr(0,e).trim():r.trim(),i=-1!==e?r.substr(e+1,r.length).trim():"";n?(n=!1,t.name=o,t.value=i):("Domain"===o&&(t.domain=i),"Expires"===o&&(t.expires=C(i)),"HttpOnly"===o&&(t.httpOnly=!0),"Max-Age"===o&&(t.expires=C(Date.now()+1e3*+i)),"Path"===o&&(t.path=i),"SameSite"===o&&(t.sameSite=i),"Secure"===o&&(t.secure=!0))}return t}function C(e){try{return new Date(e).toISOString()}catch(e){}}const k=Symbol("startedDate")},"./node_modules/playwright-core/lib/server/harBackend.js":(e,t,n)=>{"use strict";var r,o=Object.create,i=Object.defineProperty,s=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,l=Object.getPrototypeOf,c=Object.prototype.hasOwnProperty,u=(e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let o of a(t))c.call(e,o)||o===n||i(e,o,{get:()=>t[o],enumerable:!(r=s(t,o))||r.enumerable});return e},d=(e,t,n)=>(n=null!=e?o(l(e)):{},u(!t&&e&&e.__esModule?n:i(n,"default",{value:e,enumerable:!0}),e)),h={};((e,t)=>{for(var n in t)i(e,n,{get:t[n],enumerable:!0})})(h,{HarBackend:()=>b}),e.exports=(r=h,u(i({},"__esModule",{value:!0}),r));var p=d(n("fs")),f=d(n("path")),m=n("./node_modules/playwright-core/lib/server/utils/crypto.js");const g=[301,302,303,307,308];class b{constructor(e,t,n){this.id=(0,m.createGuid)(),this._harFile=e,this._baseDir=t,this._zipFile=n}async lookup(e,t,n,r,o){let i;try{i=await this._harFindResponse(e,t,n,r)}catch(e){return{action:"error",message:"HAR error: "+e.message}}if(!i)return{action:"noentry"};if(i.request.url!==e&&o)return{action:"redirect",redirectURL:i.request.url};const s=i.response;try{const e=await this._loadContent(s.content);return{action:"fulfill",status:s.status,headers:s.headers,body:e}}catch(e){return{action:"error",message:e.message}}}async _loadContent(e){const t=e._file;let n;return n=t?this._zipFile?await this._zipFile.read(t):await p.default.promises.readFile(f.default.resolve(this._baseDir,t)):Buffer.from(e.text||"","base64"===e.encoding?"base64":"utf-8"),n}async _harFindResponse(e,t,n,r){const o=this._harFile.log,i=new Set;for(;;){const s=[];for(const i of o.entries)if(i.request.url===e&&i.request.method===t){if("POST"===t&&r&&i.request.postData){const e=await this._loadContent(i.request.postData);if(!e.equals(r)){const t=y(n);if(!t)continue;const o=y(i.request.headers);if(!o)continue;if(r.toString().replaceAll(t,"")!==e.toString().replaceAll(o,""))continue}}s.push(i)}if(!s.length)return;let a=s[0];if(s.length>1){const e=[];for(const t of s){const r=w(t.request.headers,n);e.push({candidate:t,matchingHeaders:r})}e.sort((e,t)=>t.matchingHeaders-e.matchingHeaders),a=e[0].candidate}if(i.has(a))throw new Error(`Found redirect cycle for ${e}`);i.add(a);const l=a.response.headers.find(e=>"location"===e.name.toLowerCase());if(!g.includes(a.response.status)||!l)return a;e=new URL(l.value,e).toString(),((301===a.response.status||302===a.response.status)&&"POST"===t||303===a.response.status&&!["GET","HEAD"].includes(t))&&(t="GET")}}dispose(){this._zipFile?.close()}}function w(e,t){const n=new Set(t.map(e=>e.name.toLowerCase()+":"+e.value));let r=0;for(const t of e)n.has(t.name.toLowerCase()+":"+t.value)&&++r;return r}function y(e){const t=e.find(e=>"content-type"===e.name.toLowerCase());if(!t?.value.includes("multipart/form-data"))return;const n=t.value.match(/boundary=(\S+)/);return n?n[1]:void 0}},"./node_modules/playwright-core/lib/server/helper.js":(e,t,n)=>{"use strict";var r,o=Object.defineProperty,i=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,l={};((e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})})(l,{helper:()=>h}),e.exports=(r=l,((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let n of s(t))a.call(e,n)||undefined===n||o(e,n,{get:()=>t[n],enumerable:!(r=i(t,n))||r.enumerable});return e})(o({},"__esModule",{value:!0}),r));var c=n("./node_modules/playwright-core/lib/server/utils/debugLogger.js"),u=n("./node_modules/playwright-core/lib/server/utils/eventsHelper.js");const d=process.env.MAX_LOG_LENGTH?+process.env.MAX_LOG_LENGTH:1/0,h=class{static completeUserURL(e){return(e.startsWith("localhost")||e.startsWith("127.0.0.1"))&&(e="http://"+e),e}static enclosingIntRect(e){const t=Math.floor(e.x+.001),n=Math.floor(e.y+.001);return{x:t,y:n,width:Math.ceil(e.x+e.width-.001)-t,height:Math.ceil(e.y+e.height-.001)-n}}static enclosingIntSize(e){return{width:Math.floor(e.width+.001),height:Math.floor(e.height+.001)}}static getViewportSizeFromWindowFeatures(e){const t=e.find(e=>e.startsWith("width=")),n=e.find(e=>e.startsWith("height=")),r=t?parseInt(t.substring(6),10):NaN,o=n?parseInt(n.substring(7),10):NaN;return Number.isNaN(r)||Number.isNaN(o)?null:{width:r,height:o}}static waitForEvent(e,t,n,r){const o=[],i=()=>u.eventsHelper.removeEventListeners(o);return{promise:e.race(new Promise((e,i)=>{o.push(u.eventsHelper.addEventListener(t,n,t=>{try{if(r&&!r(t))return;e(t)}catch(e){i(e)}}))})).finally(()=>i()),dispose:i}}static secondsToRoundishMillis(e){return(1e6*e|0)/1e3}static millisToRoundishMillis(e){return(1e3*e|0)/1e3}static debugProtocolLogger(e){return(t,n)=>{if(e&&e(t,n),c.debugLogger.isEnabled("protocol")){let e=JSON.stringify(n);e.length>d&&(e=e.substring(0,d/2)+" <<<<<( LOG TRUNCATED )>>>>> "+e.substring(e.length-d/2)),c.debugLogger.log("protocol",("send"===t?"SEND  ":" RECV ")+e)}}}static formatBrowserLogs(e,t){return t||e.length?"\n"+(t?t+"\n":"")+e.join("\n"):""}}},"./node_modules/playwright-core/lib/server/index.js":(e,t,n)=>{"use strict";var r,o=Object.defineProperty,i=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,l={};((e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})})(l,{DispatcherConnection:()=>u.DispatcherConnection,PlaywrightDispatcher:()=>d.PlaywrightDispatcher,Registry:()=>c.Registry,RootDispatcher:()=>u.RootDispatcher,createPlaywright:()=>h.createPlaywright,installBrowsersForNpmInstall:()=>c.installBrowsersForNpmInstall,installRootRedirect:()=>p.installRootRedirect,openTraceInBrowser:()=>p.openTraceInBrowser,openTraceViewerApp:()=>p.openTraceViewerApp,registry:()=>c.registry,registryDirectory:()=>c.registryDirectory,runTraceViewerApp:()=>p.runTraceViewerApp,startTraceViewerServer:()=>p.startTraceViewerServer,writeDockerVersion:()=>c.writeDockerVersion}),e.exports=(r=l,((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let n of s(t))a.call(e,n)||undefined===n||o(e,n,{get:()=>t[n],enumerable:!(r=i(t,n))||r.enumerable});return e})(o({},"__esModule",{value:!0}),r));var c=n("./node_modules/playwright-core/lib/server/registry/index.js"),u=n("./node_modules/playwright-core/lib/server/dispatchers/dispatcher.js"),d=n("./node_modules/playwright-core/lib/server/dispatchers/playwrightDispatcher.js"),h=n("./node_modules/playwright-core/lib/server/playwright.js"),p=n("./node_modules/playwright-core/lib/server/trace/viewer/traceViewer.js")},"./node_modules/playwright-core/lib/server/input.js":(e,t,n)=>{"use strict";var r,o=Object.create,i=Object.defineProperty,s=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,l=Object.getPrototypeOf,c=Object.prototype.hasOwnProperty,u=(e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let o of a(t))c.call(e,o)||o===n||i(e,o,{get:()=>t[o],enumerable:!(r=s(t,o))||r.enumerable});return e},d={};((e,t)=>{for(var n in t)i(e,n,{get:t[n],enumerable:!0})})(d,{Keyboard:()=>b,Mouse:()=>v,Touchscreen:()=>x,keypadLocation:()=>m,resolveSmartModifier:()=>y,resolveSmartModifierString:()=>w}),e.exports=(r=d,u(i({},"__esModule",{value:!0}),r));var h=n("./node_modules/playwright-core/lib/utils.js"),p=((e,t,n)=>(n=null!=e?o(l(e)):{},u(e&&e.__esModule?n:i(n,"default",{value:e,enumerable:!0}),e)))(n("./node_modules/playwright-core/lib/server/usKeyboardLayout.js")),f=n("./node_modules/playwright-core/lib/server/dom.js");const m=p.keypadLocation,g=["Alt","Control","Meta","Shift"];class b{constructor(e,t){this._pressedModifiers=new Set,this._pressedKeys=new Set,this._raw=e,this._page=t}async down(e,t){const n=this._keyDescriptionForString(t),r=this._pressedKeys.has(n.code);this._pressedKeys.add(n.code),g.includes(n.key)&&this._pressedModifiers.add(n.key),await this._raw.keydown(e,this._pressedModifiers,t,n,r)}_keyDescriptionForString(e){const t=w(e);let n=_.get(t);if(!n)throw new f.NonRecoverableDOMError(`Unknown key: "${t}"`);return n=this._pressedModifiers.has("Shift")&&n.shifted?n.shifted:n,this._pressedModifiers.size>1||!this._pressedModifiers.has("Shift")&&1===this._pressedModifiers.size?{...n,text:""}:n}async up(e,t){const n=this._keyDescriptionForString(t);g.includes(n.key)&&this._pressedModifiers.delete(n.key),this._pressedKeys.delete(n.code),await this._raw.keyup(e,this._pressedModifiers,t,n)}async insertText(e,t){await this._raw.sendText(e,t)}async type(e,t,n){const r=n&&n.delay||void 0;for(const n of t)_.has(n)?await this.press(e,n,{delay:r}):(r&&await e.wait(r),await this.insertText(e,n))}async press(e,t,n={}){const r=function(e){const t=[];let n="";for(const r of e)"+"===r&&n?(t.push(n),n=""):n+=r;return t.push(n),t}(t);t=r[r.length-1];for(let t=0;t<r.length-1;++t)await this.down(e,r[t]);await this.down(e,t),n.delay&&await e.wait(n.delay),await this.up(e,t);for(let t=r.length-2;t>=0;--t)await this.up(e,r[t])}async ensureModifiers(e,t){const n=t.map(y);for(const e of n)if(!g.includes(e))throw new Error("Unknown modifier "+e);const r=Array.from(this._pressedModifiers);for(const t of g){const r=n.includes(t),o=this._pressedModifiers.has(t);r&&!o?await this.down(e,t):!r&&o&&await this.up(e,t)}return r}_modifiers(){return this._pressedModifiers}}function w(e){return"ControlOrMeta"===e?"darwin"===process.platform?"Meta":"Control":e}function y(e){return w(e)}class v{constructor(e,t){this._x=0,this._y=0,this._lastButton="none",this._buttons=new Set,this._raw=e,this._page=t,this._keyboard=this._page.keyboard}currentPoint(){return{x:this._x,y:this._y}}async move(e,t,n,r={}){const{steps:o=1}=r,i=this._x,s=this._y;this._x=t,this._y=n;for(let a=1;a<=o;a++){const l=i+a/o*(t-i),c=s+a/o*(n-s);await this._raw.move(e,l,c,this._lastButton,this._buttons,this._keyboard._modifiers(),!!r.forClick)}}async down(e,t={}){const{button:n="left",clickCount:r=1}=t;this._lastButton=n,this._buttons.add(n),await this._raw.down(e,this._x,this._y,this._lastButton,this._buttons,this._keyboard._modifiers(),r)}async up(e,t={}){const{button:n="left",clickCount:r=1}=t;this._lastButton="none",this._buttons.delete(n),await this._raw.up(e,this._x,this._y,n,this._buttons,this._keyboard._modifiers(),r)}async click(e,t,n,r={}){const{delay:o=null,clickCount:i=1}=r;if(o){this.move(e,t,n,{forClick:!0});for(let t=1;t<=i;++t)await this.down(e,{...r,clickCount:t}),await e.wait(o),await this.up(e,{...r,clickCount:t}),t<i&&await e.wait(o)}else{const o=[];o.push(this.move(e,t,n,{forClick:!0}));for(let t=1;t<=i;++t)o.push(this.down(e,{...r,clickCount:t})),o.push(this.up(e,{...r,clickCount:t}));await Promise.all(o)}}async wheel(e,t,n){await this._raw.wheel(e,this._x,this._y,this._buttons,this._keyboard._modifiers(),t,n)}}const A=new Map([["ShiftLeft",["Shift"]],["ControlLeft",["Control"]],["AltLeft",["Alt"]],["MetaLeft",["Meta"]],["Enter",["\n","\r"]]]),_=function(e){const t=new Map;for(const n in e){const r=e[n],o={key:r.key||"",keyCode:r.keyCode||0,keyCodeWithoutLocation:r.keyCodeWithoutLocation||r.keyCode||0,code:n,text:r.text||"",location:r.location||0};let i;if(1===r.key.length&&(o.text=o.key),r.shiftKey&&((0,h.assert)(1===r.shiftKey.length),i={...o},i.key=r.shiftKey,i.text=r.shiftKey,r.shiftKeyCode&&(i.keyCode=r.shiftKeyCode)),t.set(n,{...o,shifted:i}),A.has(n))for(const e of A.get(n))t.set(e,o);r.location||(1===o.key.length&&t.set(o.key,o),i&&t.set(i.key,{...i,shifted:void 0}))}return t}(p.USKeyboardLayout);class x{constructor(e,t){this._raw=e,this._page=t}async tap(e,t,n){if(!this._page.browserContext._options.hasTouch)throw new Error("hasTouch must be enabled on the browser context before using the touchscreen.");await this._raw.tap(e,t,n,this._page.keyboard._modifiers())}}},"./node_modules/playwright-core/lib/server/instrumentation.js":(e,t,n)=>{"use strict";var r,o=Object.defineProperty,i=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,l={};((e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})})(l,{SdkObject:()=>d,createInstrumentation:()=>p,createRootSdkObject:()=>h}),e.exports=(r=l,((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let n of s(t))a.call(e,n)||undefined===n||o(e,n,{get:()=>t[n],enumerable:!(r=i(t,n))||r.enumerable});return e})(o({},"__esModule",{value:!0}),r));var c=n("events"),u=n("./node_modules/playwright-core/lib/server/utils/crypto.js");class d extends c.EventEmitter{constructor(e,t,n){super(),this.guid=n||`${t||""}@${(0,u.createGuid)()}`,this.setMaxListeners(0),this.attribution={...e.attribution},this.instrumentation=e.instrumentation}}function h(){const e={attribution:{},instrumentation:p()},t=new d(e);return t.guid="",t}function p(){const e=new Map;return new Proxy({},{get:(t,n)=>"string"!=typeof n?t[n]:"addListener"===n?(t,n)=>e.set(t,n):"removeListener"===n?t=>e.delete(t):n.startsWith("on")?async(t,...r)=>{for(const[o,i]of e)i&&t.attribution.context!==i||await(o[n]?.(t,...r))}:t[n]})}},"./node_modules/playwright-core/lib/server/javascript.js":(e,t,n)=>{"use strict";var r,o=Object.create,i=Object.defineProperty,s=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,l=Object.getPrototypeOf,c=Object.prototype.hasOwnProperty,u=(e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let o of a(t))c.call(e,o)||o===n||i(e,o,{get:()=>t[o],enumerable:!(r=s(t,o))||r.enumerable});return e},d={};((e,t)=>{for(var n in t)i(e,n,{get:t[n],enumerable:!0})})(d,{ExecutionContext:()=>b,JSHandle:()=>w,JavaScriptErrorInEvaluate:()=>x,evaluate:()=>y,evaluateExpression:()=>v,isJavaScriptErrorInEvaluate:()=>S,normalizeEvaluationExpression:()=>_,parseUnserializableValue:()=>A,sparseArrayToString:()=>E}),e.exports=(r=d,u(i({},"__esModule",{value:!0}),r));var h=n("./node_modules/playwright-core/lib/server/instrumentation.js"),p=((e,t,n)=>(n=null!=e?o(l(e)):{},u(e&&e.__esModule?n:i(n,"default",{value:e,enumerable:!0}),e)))(n("./node_modules/playwright-core/lib/generated/utilityScriptSource.js")),f=n("./node_modules/playwright-core/lib/utils.js"),m=n("./node_modules/playwright-core/lib/utils/isomorphic/utilityScriptSerializers.js"),g=n("./node_modules/playwright-core/lib/utils/isomorphic/manualPromise.js");class b extends h.SdkObject{constructor(e,t,n){super(e,"execution-context"),this._contextDestroyedScope=new g.LongStandingScope,this.worldNameForTest=n,this.delegate=t}contextDestroyed(e){this._contextDestroyedScope.close(new Error(e))}async _raceAgainstContextDestroyed(e){return this._contextDestroyedScope.race(e)}rawEvaluateJSON(e){return this._raceAgainstContextDestroyed(this.delegate.rawEvaluateJSON(e))}rawEvaluateHandle(e){return this._raceAgainstContextDestroyed(this.delegate.rawEvaluateHandle(this,e))}async evaluateWithArguments(e,t,n,r){const o=await this.utilityScript();return this._raceAgainstContextDestroyed(this.delegate.evaluateWithArguments(e,t,o,n,r))}getProperties(e){return this._raceAgainstContextDestroyed(this.delegate.getProperties(e))}releaseHandle(e){return this.delegate.releaseHandle(e)}adoptIfNeeded(e){return null}utilityScript(){if(!this._utilityScriptPromise){const e=`\n      (() => {\n        const module = {};\n        ${p.source}\n        return new (module.exports.UtilityScript())(globalThis, ${(0,f.isUnderTest)()});\n      })();`;this._utilityScriptPromise=this._raceAgainstContextDestroyed(this.delegate.rawEvaluateHandle(this,e)).then(e=>(e._setPreview("UtilityScript"),e))}return this._utilityScriptPromise}async doSlowMo(){}}class w extends h.SdkObject{constructor(e,t,n,r,o){super(e,"handle"),this.__jshandle=!0,this._disposed=!1,this._context=e,this._objectId=r,this._value=o,this._objectType=t,this._preview=this._objectId?n||`JSHandle@${this._objectType}`:String(o),this._objectId&&globalThis.leakedJSHandles&&globalThis.leakedJSHandles.set(this,new Error("Leaked JSHandle"))}async evaluate(e,t){return y(this._context,!0,e,this,t)}async evaluateHandle(e,t){return y(this._context,!1,e,this,t)}async evaluateExpression(e,t,n){const r=await v(this._context,e,{...t,returnByValue:!0},this,n);return await this._context.doSlowMo(),r}async evaluateExpressionHandle(e,t,n){const r=await v(this._context,e,{...t,returnByValue:!1},this,n);return await this._context.doSlowMo(),r}async getProperty(e){const t=await this.evaluateHandle((e,t)=>{const n={__proto__:null};return n[t]=e[t],n},e),n=(await t.getProperties()).get(e);return t.dispose(),n}async getProperties(){return this._objectId?this._context.getProperties(this):new Map}rawValue(){return this._value}async jsonValue(){return this._objectId?this._context.evaluateWithArguments("(utilityScript, ...args) => utilityScript.jsonValue(...args)",!0,[!0],[this]):this._value}asElement(){return null}dispose(){this._disposed||(this._disposed=!0,this._objectId&&(this._context.releaseHandle(this).catch(e=>{}),globalThis.leakedJSHandles&&globalThis.leakedJSHandles.delete(this)))}toString(){return this._preview}_setPreviewCallback(e){this._previewCallback=e}preview(){return this._preview}worldNameForTest(){return this._context.worldNameForTest}_setPreview(e){this._preview=e,this._previewCallback&&this._previewCallback(e)}}async function y(e,t,n,...r){return v(e,String(n),{returnByValue:t,isFunction:"function"==typeof n},...r)}async function v(e,t,n,...r){t=_(t,n.isFunction);const o=[],i=[],s=e=>(o.push(e),o.length-1);r=r.map(t=>(0,m.serializeAsCallArgument)(t,t=>{if(t instanceof w){if(!t._objectId)return{fallThrough:t._value};if(t._disposed)throw new x("JSHandle is disposed!");const n=e.adoptIfNeeded(t);return null===n?{h:s(Promise.resolve(t))}:(i.push(n),{h:s(n)})}return{fallThrough:t}}));const a=[];for(const t of await Promise.all(o)){if(t._context!==e)throw new x("JSHandles can be evaluated only in the context they were created!");a.push(t)}const l=[n.isFunction,n.returnByValue,t,r.length,...r];try{return await e.evaluateWithArguments("(utilityScript, ...args) => utilityScript.evaluate(...args)",n.returnByValue||!1,l,a)}finally{i.map(e=>e.then(e=>e.dispose()))}}function A(e){return"NaN"===e?NaN:"Infinity"===e?1/0:"-Infinity"===e?-1/0:"-0"===e?-0:void 0}function _(e,t){if(e=e.trim(),t)try{new Function("("+e+")")}catch(t){e=e.startsWith("async ")?"async function "+e.substring(6):"function "+e;try{new Function("("+e+")")}catch(e){throw new Error("Passed function is not well-serializable!")}}return/^(async)?\s*function(\s|\()/.test(e)&&(e="("+e+")"),e}class x extends Error{}function S(e){return e instanceof x}function E(e){const t=[];for(const{name:n,value:r}of e){const e=+n;isNaN(e)||e<0||t.push({index:e,value:r})}t.sort((e,t)=>e.index-t.index);let n=-1;const r=[];for(const{index:e,value:o}of t){const t=e-n-1;1===t?r.push("empty"):t>1&&r.push(`empty x ${t}`),r.push(String(o)),n=e}return"["+r.join(", ")+"]"}},"./node_modules/playwright-core/lib/server/launchApp.js":(e,t,n)=>{"use strict";var r,o=Object.create,i=Object.defineProperty,s=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,l=Object.getPrototypeOf,c=Object.prototype.hasOwnProperty,u=(e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let o of a(t))c.call(e,o)||o===n||i(e,o,{get:()=>t[o],enumerable:!(r=s(t,o))||r.enumerable});return e},d=(e,t,n)=>(n=null!=e?o(l(e)):{},u(!t&&e&&e.__esModule?n:i(n,"default",{value:e,enumerable:!0}),e)),h={};((e,t)=>{for(var n in t)i(e,n,{get:t[n],enumerable:!0})})(h,{launchApp:()=>y,syncLocalStorageWithSettings:()=>v}),e.exports=(r=h,u(i({},"__esModule",{value:!0}),r));var p=d(n("fs")),f=d(n("path")),m=n("./node_modules/playwright-core/lib/utils.js"),g=n("./node_modules/playwright-core/lib/server/registry/index.js"),b=n("./node_modules/playwright-core/lib/server/registry/index.js"),w=n("./node_modules/playwright-core/lib/server/progress.js");async function y(e,t){const n=[...t.persistentContextOptions?.args??[]];let r=t.persistentContextOptions?.channel;"chromium"===e.name()&&(n.push("--app=data:text/html,",`--window-size=${t.windowSize.width},${t.windowSize.height}`,...t.windowPosition?[`--window-position=${t.windowPosition.x},${t.windowPosition.y}`]:[],"--test-type="),r||t.persistentContextOptions?.executablePath||(r=(0,g.findChromiumChannelBestEffort)(t.sdkLanguage)));const o=new w.ProgressController;let i;try{i=await o.run(o=>e.launchPersistentContext(o,"",{ignoreDefaultArgs:["--enable-automation"],...t?.persistentContextOptions,channel:r,noDefaultViewport:t.persistentContextOptions?.noDefaultViewport??!0,acceptDownloads:t?.persistentContextOptions?.acceptDownloads??((0,m.isUnderTest)()?"accept":"internal-browser-default"),colorScheme:t?.persistentContextOptions?.colorScheme??"no-override",args:n}),0)}catch(e){throw r&&(e=(0,m.rewriteErrorMessage)(e,[`Failed to launch "${r}" channel.`,"Using custom channels could lead to unexpected behavior due to Enterprise policies (chrome://policy).","Install the default browser instead:",(0,m.wrapInASCIIBox)(`${(0,g.buildPlaywrightCLICommand)(t.sdkLanguage,"install")}`,2)].join("\n"))),e}const[s]=i.pages();return"chromium"===e.name()&&"darwin"===process.platform&&i.on("page",async e=>{"chrome://new-tab-page/"===e.mainFrame().url()&&(await s.bringToFront(),await e.close())}),"chromium"===e.name()&&await async function(e){const t=await p.default.promises.readFile("./node_modules/playwright-core/lib/server/chromium/appIcon.png"),n=e.delegate;await n._mainFrameSession._client.send("Browser.setDockTile",{image:t.toString("base64")})}(s),{context:i,page:s}}async function v(e,t){if((0,m.isUnderTest)())return;const n=f.default.join(b.registryDirectory,".settings",`${t}.json`),r=new w.ProgressController;await r.run(async t=>{await e.exposeBinding(t,"_saveSerializedSettings",!1,(e,t)=>{p.default.mkdirSync(f.default.dirname(n),{recursive:!0}),p.default.writeFileSync(n,t)});const r=await p.default.promises.readFile(n,"utf-8").catch(()=>"{}");await e.addInitScript(t,`(${String(e=>{location&&"data:"===location.protocol||window.top===window&&(Object.entries(e).map(([e,t])=>localStorage[e]=t),window.saveSettings=()=>{window._saveSerializedSettings(JSON.stringify({...localStorage}))})})})(${r});\n    `)})}},"./node_modules/playwright-core/lib/server/localUtils.js":(e,t,n)=>{"use strict";var r,o=Object.create,i=Object.defineProperty,s=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,l=Object.getPrototypeOf,c=Object.prototype.hasOwnProperty,u=(e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let o of a(t))c.call(e,o)||o===n||i(e,o,{get:()=>t[o],enumerable:!(r=s(t,o))||r.enumerable});return e},d=(e,t,n)=>(n=null!=e?o(l(e)):{},u(!t&&e&&e.__esModule?n:i(n,"default",{value:e,enumerable:!0}),e)),h={};((e,t)=>{for(var n in t)i(e,n,{get:t[n],enumerable:!0})})(h,{addStackToTracingNoReply:()=>M,harClose:()=>O,harLookup:()=>k,harOpen:()=>C,harUnzip:()=>T,traceDiscarded:()=>B,tracingStarted:()=>I,zip:()=>S}),e.exports=(r=h,u(i({},"__esModule",{value:!0}),r));var p=d(n("fs")),f=d(n("os")),m=d(n("path")),g=n("./node_modules/playwright-core/lib/server/utils/crypto.js"),b=n("./node_modules/playwright-core/lib/server/harBackend.js"),w=n("./node_modules/playwright-core/lib/utils/isomorphic/manualPromise.js"),y=n("./node_modules/playwright-core/lib/server/utils/zipFile.js"),v=n("./node_modules/playwright-core/lib/zipBundle.js"),A=n("./node_modules/playwright-core/lib/utils/isomorphic/traceUtils.js"),_=n("./node_modules/playwright-core/lib/utils/isomorphic/assert.js"),x=n("./node_modules/playwright-core/lib/server/utils/fileUtils.js");async function S(e,t,n){const r=new w.ManualPromise,o=new v.yazl.ZipFile;o.on("error",e=>r.reject(e));const i=(e,t)=>{try{p.default.statSync(e).isFile()&&o.addFile(e,t)}catch(e){}};for(const e of n.entries)i(e.value,e.name);const s=n.stacksId?t.get(n.stacksId):void 0;if(s?.callStacks.length)if(await e.race(s.writer),process.env.PW_LIVE_TRACE_STACKS)o.addFile(s.file,"trace.stacks");else{const e=Buffer.from(JSON.stringify((0,A.serializeClientSideCallMetadata)(s.callStacks)));o.addBuffer(e,"trace.stacks")}if(n.includeSources){const e=new Set;for(const{stack:t}of s?.callStacks||[])if(t)for(const{file:n}of t)e.add(n);for(const t of e)i(t,"resources/src@"+await(0,g.calculateSha1)(t)+".txt")}if("write"===n.mode)return await e.race(p.default.promises.mkdir(m.default.dirname(n.zipFile),{recursive:!0})),o.end(void 0,()=>{o.outputStream.pipe(p.default.createWriteStream(n.zipFile)).on("close",()=>r.resolve()).on("error",e=>r.reject(e))}),await e.race(r),void await E(e,t,n.stacksId);const a=n.zipFile+".tmp";await e.race(p.default.promises.rename(n.zipFile,a)),v.yauzl.open(a,(e,t)=>{if(e)return void r.reject(e);(0,_.assert)(t);let i=t.entryCount;t.on("entry",e=>{t.openReadStream(e,(t,s)=>{t?r.reject(t):(o.addReadStream(s,e.fileName),0===--i&&o.end(void 0,()=>{o.outputStream.pipe(p.default.createWriteStream(n.zipFile)).on("close",()=>{p.default.promises.unlink(a).then(()=>{r.resolve()}).catch(e=>r.reject(e))})}))})})}),await e.race(r),await E(e,t,n.stacksId)}async function E(e,t,n){const r=n?t.get(n):void 0;r&&(t.delete(n),r.tmpDir&&await e.race((0,x.removeFolders)([r.tmpDir])))}async function C(e,t,n){let r;if(n.file.endsWith(".zip")){const t=new y.ZipFile(n.file);try{const n=(await e.race(t.entries())).find(e=>e.endsWith(".har"));if(!n)return{error:"Specified archive does not have a .har file"};const o=await e.race(t.read(n)),i=JSON.parse(o.toString());r=new b.HarBackend(i,null,t)}catch(e){throw t.close(),e}}else{const t=JSON.parse(await e.race(p.default.promises.readFile(n.file,"utf-8")));r=new b.HarBackend(t,m.default.dirname(n.file),null)}return t.set(r.id,r),{harId:r.id}}async function k(e,t,n){const r=t.get(n.harId);return r?await e.race(r.lookup(n.url,n.method,n.headers,n.postData,n.isNavigationRequest)):{action:"error",message:"Internal error: har was not opened"}}function O(e,t){const n=e.get(t.harId);n&&(e.delete(n.id),n.dispose())}async function T(e,t){const n=m.default.dirname(t.zipFile),r=new y.ZipFile(t.zipFile);try{for(const o of await e.race(r.entries())){const i=await e.race(r.read(o));"har.har"===o?await e.race(p.default.promises.writeFile(t.harFile,i)):await e.race(p.default.promises.writeFile(m.default.join(n,o),i))}await e.race(p.default.promises.unlink(t.zipFile))}finally{r.close()}}async function I(e,t,n){let r;n.tracesDir||(r=await e.race(p.default.promises.mkdtemp(m.default.join(f.default.tmpdir(),"playwright-tracing-"))));const o=m.default.join(n.tracesDir||r,n.traceName+".stacks");return t.set(o,{callStacks:[],file:o,writer:Promise.resolve(),tmpDir:r}),{stacksId:o}}async function B(e,t,n){await E(e,t,n.stacksId)}function M(e,t){for(const n of e.values())n.callStacks.push(t.callData),process.env.PW_LIVE_TRACE_STACKS&&(n.writer=n.writer.then(()=>{const e=Buffer.from(JSON.stringify((0,A.serializeClientSideCallMetadata)(n.callStacks)));return p.default.promises.writeFile(n.file,e)}))}},"./node_modules/playwright-core/lib/server/macEditingCommands.js":e=>{"use strict";var t,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,i=Object.prototype.hasOwnProperty,s={};((e,t)=>{for(var r in t)n(e,r,{get:t[r],enumerable:!0})})(s,{macEditingCommands:()=>a}),e.exports=(t=s,((e,t,s,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let s of o(t))i.call(e,s)||undefined===s||n(e,s,{get:()=>t[s],enumerable:!(a=r(t,s))||a.enumerable});return e})(n({},"__esModule",{value:!0}),t));const a={Backspace:"deleteBackward:",Enter:"insertNewline:",NumpadEnter:"insertNewline:",Escape:"cancelOperation:",ArrowUp:"moveUp:",ArrowDown:"moveDown:",ArrowLeft:"moveLeft:",ArrowRight:"moveRight:",F5:"complete:",Delete:"deleteForward:",Home:"scrollToBeginningOfDocument:",End:"scrollToEndOfDocument:",PageUp:"scrollPageUp:",PageDown:"scrollPageDown:","Shift+Backspace":"deleteBackward:","Shift+Enter":"insertNewline:","Shift+NumpadEnter":"insertNewline:","Shift+Escape":"cancelOperation:","Shift+ArrowUp":"moveUpAndModifySelection:","Shift+ArrowDown":"moveDownAndModifySelection:","Shift+ArrowLeft":"moveLeftAndModifySelection:","Shift+ArrowRight":"moveRightAndModifySelection:","Shift+F5":"complete:","Shift+Delete":"deleteForward:","Shift+Home":"moveToBeginningOfDocumentAndModifySelection:","Shift+End":"moveToEndOfDocumentAndModifySelection:","Shift+PageUp":"pageUpAndModifySelection:","Shift+PageDown":"pageDownAndModifySelection:","Shift+Numpad5":"delete:","Control+Tab":"selectNextKeyView:","Control+Enter":"insertLineBreak:","Control+NumpadEnter":"insertLineBreak:","Control+Quote":"insertSingleQuoteIgnoringSubstitution:","Control+KeyA":"moveToBeginningOfParagraph:","Control+KeyB":"moveBackward:","Control+KeyD":"deleteForward:","Control+KeyE":"moveToEndOfParagraph:","Control+KeyF":"moveForward:","Control+KeyH":"deleteBackward:","Control+KeyK":"deleteToEndOfParagraph:","Control+KeyL":"centerSelectionInVisibleArea:","Control+KeyN":"moveDown:","Control+KeyO":["insertNewlineIgnoringFieldEditor:","moveBackward:"],"Control+KeyP":"moveUp:","Control+KeyT":"transpose:","Control+KeyV":"pageDown:","Control+KeyY":"yank:","Control+Backspace":"deleteBackwardByDecomposingPreviousCharacter:","Control+ArrowUp":"scrollPageUp:","Control+ArrowDown":"scrollPageDown:","Control+ArrowLeft":"moveToLeftEndOfLine:","Control+ArrowRight":"moveToRightEndOfLine:","Shift+Control+Enter":"insertLineBreak:","Shift+Control+NumpadEnter":"insertLineBreak:","Shift+Control+Tab":"selectPreviousKeyView:","Shift+Control+Quote":"insertDoubleQuoteIgnoringSubstitution:","Shift+Control+KeyA":"moveToBeginningOfParagraphAndModifySelection:","Shift+Control+KeyB":"moveBackwardAndModifySelection:","Shift+Control+KeyE":"moveToEndOfParagraphAndModifySelection:","Shift+Control+KeyF":"moveForwardAndModifySelection:","Shift+Control+KeyN":"moveDownAndModifySelection:","Shift+Control+KeyP":"moveUpAndModifySelection:","Shift+Control+KeyV":"pageDownAndModifySelection:","Shift+Control+Backspace":"deleteBackwardByDecomposingPreviousCharacter:","Shift+Control+ArrowUp":"scrollPageUp:","Shift+Control+ArrowDown":"scrollPageDown:","Shift+Control+ArrowLeft":"moveToLeftEndOfLineAndModifySelection:","Shift+Control+ArrowRight":"moveToRightEndOfLineAndModifySelection:","Alt+Backspace":"deleteWordBackward:","Alt+Enter":"insertNewlineIgnoringFieldEditor:","Alt+NumpadEnter":"insertNewlineIgnoringFieldEditor:","Alt+Escape":"complete:","Alt+ArrowUp":["moveBackward:","moveToBeginningOfParagraph:"],"Alt+ArrowDown":["moveForward:","moveToEndOfParagraph:"],"Alt+ArrowLeft":"moveWordLeft:","Alt+ArrowRight":"moveWordRight:","Alt+Delete":"deleteWordForward:","Alt+PageUp":"pageUp:","Alt+PageDown":"pageDown:","Shift+Alt+Backspace":"deleteWordBackward:","Shift+Alt+Enter":"insertNewlineIgnoringFieldEditor:","Shift+Alt+NumpadEnter":"insertNewlineIgnoringFieldEditor:","Shift+Alt+Escape":"complete:","Shift+Alt+ArrowUp":"moveParagraphBackwardAndModifySelection:","Shift+Alt+ArrowDown":"moveParagraphForwardAndModifySelection:","Shift+Alt+ArrowLeft":"moveWordLeftAndModifySelection:","Shift+Alt+ArrowRight":"moveWordRightAndModifySelection:","Shift+Alt+Delete":"deleteWordForward:","Shift+Alt+PageUp":"pageUp:","Shift+Alt+PageDown":"pageDown:","Control+Alt+KeyB":"moveWordBackward:","Control+Alt+KeyF":"moveWordForward:","Control+Alt+Backspace":"deleteWordBackward:","Shift+Control+Alt+KeyB":"moveWordBackwardAndModifySelection:","Shift+Control+Alt+KeyF":"moveWordForwardAndModifySelection:","Shift+Control+Alt+Backspace":"deleteWordBackward:","Meta+NumpadSubtract":"cancel:","Meta+Backspace":"deleteToBeginningOfLine:","Meta+ArrowUp":"moveToBeginningOfDocument:","Meta+ArrowDown":"moveToEndOfDocument:","Meta+ArrowLeft":"moveToLeftEndOfLine:","Meta+ArrowRight":"moveToRightEndOfLine:","Shift+Meta+NumpadSubtract":"cancel:","Shift+Meta+Backspace":"deleteToBeginningOfLine:","Shift+Meta+ArrowUp":"moveToBeginningOfDocumentAndModifySelection:","Shift+Meta+ArrowDown":"moveToEndOfDocumentAndModifySelection:","Shift+Meta+ArrowLeft":"moveToLeftEndOfLineAndModifySelection:","Shift+Meta+ArrowRight":"moveToRightEndOfLineAndModifySelection:","Meta+KeyA":"selectAll:","Meta+KeyC":"copy:","Meta+KeyX":"cut:","Meta+KeyV":"paste:","Meta+KeyZ":"undo:","Shift+Meta+KeyZ":"redo:"}},"./node_modules/playwright-core/lib/server/network.js":(e,t,n)=>{"use strict";var r,o=Object.defineProperty,i=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,l={};((e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})})(l,{Request:()=>v,Response:()=>_,Route:()=>A,WebSocket:()=>x,filterCookies:()=>f,isLocalHostname:()=>m,kMaxCookieExpiresDateInSeconds:()=>g,mergeHeaders:()=>k,parseURL:()=>w,rewriteCookies:()=>b,singleHeader:()=>C,statusText:()=>E,stripFragmentFromUrl:()=>y}),e.exports=(r=l,((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let n of s(t))a.call(e,n)||undefined===n||o(e,n,{get:()=>t[n],enumerable:!(r=i(t,n))||r.enumerable});return e})(o({},"__esModule",{value:!0}),r));var c=n("./node_modules/playwright-core/lib/utils.js"),u=n("./node_modules/playwright-core/lib/server/browserContext.js"),d=n("./node_modules/playwright-core/lib/server/fetch.js"),h=n("./node_modules/playwright-core/lib/server/instrumentation.js"),p=n("./node_modules/playwright-core/lib/utils/isomorphic/manualPromise.js");function f(e,t){const n=t.map(e=>new URL(e));return e.filter(e=>{if(!n.length)return!0;for(const t of n){let n=e.domain;if(n.startsWith(".")||(n="."+n),("."+t.hostname).endsWith(n)&&t.pathname.startsWith(e.path)&&("https:"===t.protocol||m(t.hostname)||!e.secure))return!0}return!1})}function m(e){return"localhost"===e||e.endsWith(".localhost")}const g=253402300799;function b(e){return e.map(e=>{(0,c.assert)(e.url||e.domain&&e.path,"Cookie should have a url or a domain/path pair"),(0,c.assert)(!(e.url&&e.domain),"Cookie should have either url or domain"),(0,c.assert)(!(e.url&&e.path),"Cookie should have either url or path"),(0,c.assert)(!(e.expires&&e.expires<0&&-1!==e.expires),"Cookie should have a valid expires, only -1 or a positive number for the unix timestamp in seconds is allowed"),(0,c.assert)(!(e.expires&&e.expires>0&&e.expires>g),"Cookie should have a valid expires, only -1 or a positive number for the unix timestamp in seconds is allowed");const t={...e};if(t.url){(0,c.assert)("about:blank"!==t.url,`Blank page can not have cookie "${e.name}"`),(0,c.assert)(!t.url.startsWith("data:"),`Data URL page can not have cookie "${e.name}"`);const n=new URL(t.url);t.domain=n.hostname,t.path=n.pathname.substring(0,n.pathname.lastIndexOf("/")+1),t.secure="https:"===n.protocol}return t})}function w(e){try{return new URL(e)}catch(e){return null}}function y(e){return e.includes("#")?e.substring(0,e.indexOf("#")):e}class v extends h.SdkObject{constructor(e,t,n,r,o,i,s,a,l,u){super(t||e,"request"),this._response=null,this._redirectedTo=null,this._failureText=null,this._headersMap=new Map,this._frame=null,this._serviceWorker=null,this._rawRequestHeadersPromise=new p.ManualPromise,this._waitForResponsePromise=new p.ManualPromise,this._responseEndTiming=-1,(0,c.assert)(!i.startsWith("data:"),"Data urls should not fire requests"),this._context=e,this._frame=t,this._serviceWorker=n,this._redirectedFrom=r,r&&(r._redirectedTo=this),this._documentId=o,this._url=y(i),this._resourceType=s,this._method=a,this._postData=l,this._headers=u,this._updateHeadersMap(),this._isFavicon=i.endsWith("/favicon.ico")||!!r?._isFavicon}_setFailureText(e){this._failureText=e,this._waitForResponsePromise.resolve(null)}_applyOverrides(e){return this._overrides={...this._overrides,...e},this._updateHeadersMap(),this._overrides}_updateHeadersMap(){for(const{name:e,value:t}of this.headers())this._headersMap.set(e.toLowerCase(),t)}overrides(){return this._overrides}url(){return this._overrides?.url||this._url}resourceType(){return this._resourceType}method(){return this._overrides?.method||this._method}postDataBuffer(){return this._overrides?.postData||this._postData}headers(){return this._overrides?.headers||this._headers}headerValue(e){return this._headersMap.get(e)}setRawRequestHeaders(e){this._rawRequestHeadersPromise.isDone()||this._rawRequestHeadersPromise.resolve(e||this._headers)}async rawRequestHeaders(){return this._overrides?.headers||this._rawRequestHeadersPromise}response(){return this._waitForResponsePromise}_existingResponse(){return this._response}_setResponse(e){this._response=e,this._waitForResponsePromise.resolve(e)}_finalRequest(){return this._redirectedTo?this._redirectedTo._finalRequest():this}frame(){return this._frame}serviceWorker(){return this._serviceWorker}isNavigationRequest(){return!!this._documentId}redirectedFrom(){return this._redirectedFrom}failure(){return null===this._failureText?null:{errorText:this._failureText}}_setBodySize(e){this._bodySize=e}bodySize(){return this._bodySize||this.postDataBuffer()?.length||0}async requestHeadersSize(){let e=4;e+=this.method().length,e+=new URL(this.url()).pathname.length,e+=8;const t=await this.rawRequestHeaders();for(const n of t)e+=n.name.length+n.value.length+4;return e}}class A extends h.SdkObject{constructor(e,t){super(e._frame||e._context,"route"),this._handled=!1,this._futureHandlers=[],this._request=e,this._delegate=t,this._request._context.addRouteInFlight(this)}handle(e){this._futureHandlers=[...e],this.continue({isFallback:!0}).catch(()=>{})}async removeHandler(e){this._futureHandlers=this._futureHandlers.filter(t=>t!==e),e!==this._currentHandler||await this.continue({isFallback:!0}).catch(()=>{})}request(){return this._request}async abort(e="failed"){this._startHandling(),this._request._context.emit(u.BrowserContext.Events.RequestAborted,this._request),await this._delegate.abort(e),this._endHandling()}redirectNavigationRequest(e){this._startHandling(),(0,c.assert)(this._request.isNavigationRequest()),this._request.frame().redirectNavigation(e,this._request._documentId,this._request.headerValue("referer")),this._endHandling()}async fulfill(e){this._startHandling();let t=e.body,n=e.isBase64||!1;if(void 0===t)if(e.fetchResponseUid){const r=this._request._context.fetchRequest.fetchResponses.get(e.fetchResponseUid)||d.APIRequestContext.findResponseBody(e.fetchResponseUid);(0,c.assert)(r,"Fetch response has been disposed"),t=r.toString("base64"),n=!0}else t="",n=!1;else(!e.status||e.status<200||e.status>=400)&&(this._request._responseBodyOverride={body:t,isBase64:n});const r=[...e.headers||[]];this._maybeAddCorsHeaders(r),this._request._context.emit(u.BrowserContext.Events.RequestFulfilled,this._request),await this._delegate.fulfill({status:e.status||200,headers:r,body:t,isBase64:n}),this._endHandling()}_maybeAddCorsHeaders(e){const t=this._request.headerValue("origin");if(!t)return;const n=new URL(this._request.url());n.protocol.startsWith("http")&&n.origin!==t.trim()&&(e.find(({name:e})=>"access-control-allow-origin"===e)||(e.push({name:"access-control-allow-origin",value:t}),e.push({name:"access-control-allow-credentials",value:"true"}),e.push({name:"vary",value:"Origin"})))}async continue(e){if(e.url){const t=new URL(e.url);if(new URL(this._request.url()).protocol!==t.protocol)throw new Error("New URL must have same protocol as overridden URL")}e.headers&&(e.headers=e.headers?.filter(e=>{const t=e.name.toLowerCase();return"cookie"!==t&&"host"!==t})),e=this._request._applyOverrides(e);const t=this._futureHandlers.shift();if(t)return this._currentHandler=t,void t(this,this._request);e.isFallback||this._request._context.emit(u.BrowserContext.Events.RequestContinued,this._request),this._startHandling(),await this._delegate.continue(e),this._endHandling()}_startHandling(){(0,c.assert)(!this._handled,"Route is already handled!"),this._handled=!0,this._currentHandler=void 0}_endHandling(){this._futureHandlers=[],this._currentHandler=void 0,this._request._context.removeRouteInFlight(this)}}class _ extends h.SdkObject{constructor(e,t,n,r,o,i,s,a){super(e.frame()||e._context,"response"),this._contentPromise=null,this._finishedPromise=new p.ManualPromise,this._headersMap=new Map,this._serverAddrPromise=new p.ManualPromise,this._securityDetailsPromise=new p.ManualPromise,this._rawResponseHeadersPromise=new p.ManualPromise,this._encodedBodySizePromise=new p.ManualPromise,this._transferSizePromise=new p.ManualPromise,this._responseHeadersSizePromise=new p.ManualPromise,this._request=e,this._timing=o,this._status=t,this._statusText=n,this._url=e.url(),this._headers=r;for(const{name:e,value:t}of this._headers)this._headersMap.set(e.toLowerCase(),t);this._getResponseBodyCallback=i,this._request._setResponse(this),this._httpVersion=a,this._fromServiceWorker=s}_serverAddrFinished(e){this._serverAddrPromise.resolve(e)}_securityDetailsFinished(e){this._securityDetailsPromise.resolve(e)}_requestFinished(e){this._request._responseEndTiming=Math.max(e,this._timing.responseStart),-1===this._timing.requestStart&&(this._timing.requestStart=this._request._responseEndTiming),this._finishedPromise.resolve()}_setHttpVersion(e){this._httpVersion=e}url(){return this._url}status(){return this._status}statusText(){return this._statusText}headers(){return this._headers}headerValue(e){return this._headersMap.get(e)}async rawResponseHeaders(){return this._rawResponseHeadersPromise}setRawResponseHeaders(e){this._rawResponseHeadersPromise.isDone()||this._rawResponseHeadersPromise.resolve(e||this._headers)}setTransferSize(e){this._transferSizePromise.resolve(e)}setEncodedBodySize(e){this._encodedBodySizePromise.resolve(e)}setResponseHeadersSize(e){this._responseHeadersSizePromise.resolve(e)}timing(){return this._timing}async serverAddr(){return await this._serverAddrPromise||null}async securityDetails(){return await this._securityDetailsPromise||null}body(){return this._contentPromise||(this._contentPromise=this._finishedPromise.then(async()=>{if(this._status>=300&&this._status<=399)throw new Error("Response body is unavailable for redirect responses");if(this._request._responseBodyOverride){const{body:e,isBase64:t}=this._request._responseBodyOverride;return Buffer.from(e,t?"base64":"utf-8")}return this._getResponseBodyCallback()})),this._contentPromise}request(){return this._request}frame(){return this._request.frame()}httpVersion(){return this._httpVersion?"http/1.1"===this._httpVersion?"HTTP/1.1":"h2"===this._httpVersion?"HTTP/2.0":this._httpVersion:"HTTP/1.1"}fromServiceWorker(){return this._fromServiceWorker}async responseHeadersSize(){const e=await this._responseHeadersSizePromise;if(null!==e)return e;let t=4;t+=8,t+=3,t+=this.statusText().length;const n=await this._rawResponseHeadersPromise;for(const e of n)t+=e.name.length+e.value.length+4;return t+=2,t}async sizes(){const e=await this._request.requestHeadersSize(),t=await this.responseHeadersSize();let n=await this._encodedBodySizePromise;if(null===n){const e=await this._rawResponseHeadersPromise,t=e.find(e=>"content-length"===e.name.toLowerCase())?.value;n=t?+t:0}let r=await this._transferSizePromise;return null===r&&(r=t+n),{requestBodySize:this._request.bodySize(),requestHeadersSize:e,responseBodySize:n,responseHeadersSize:t,transferSize:r}}}class x extends h.SdkObject{constructor(e,t){super(e,"ws"),this._notified=!1,this._url=t}static{this.Events={Close:"close",SocketError:"socketerror",FrameReceived:"framereceived",FrameSent:"framesent"}}markAsNotified(){return!this._notified&&(this._notified=!0,!0)}url(){return this._url}frameSent(e,t){this.emit(x.Events.FrameSent,{opcode:e,data:t})}frameReceived(e,t){this.emit(x.Events.FrameReceived,{opcode:e,data:t})}error(e){this.emit(x.Events.SocketError,e)}closed(){this.emit(x.Events.Close)}}const S={100:"Continue",101:"Switching Protocols",102:"Processing",103:"Early Hints",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",306:"Switch Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Too Early",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",510:"Not Extended",511:"Network Authentication Required"};function E(e){return S[String(e)]||"Unknown"}function C(e,t){return[{name:e,value:t}]}function k(e){const t=new Map,n=new Map;for(const r of e)if(r)for(const{name:e,value:o}of r){const r=e.toLowerCase();n.set(r,e),t.set(r,o)}const r=[];for(const[e,o]of t)r.push({name:n.get(e),value:o});return r}},"./node_modules/playwright-core/lib/server/page.js":(e,t,n)=>{"use strict";var r,o=Object.create,i=Object.defineProperty,s=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,l=Object.getPrototypeOf,c=Object.prototype.hasOwnProperty,u=(e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let o of a(t))c.call(e,o)||o===n||i(e,o,{get:()=>t[o],enumerable:!(r=s(t,o))||r.enumerable});return e},d=(e,t,n)=>(n=null!=e?o(l(e)):{},u(!t&&e&&e.__esModule?n:i(n,"default",{value:e,enumerable:!0}),e)),h={};((e,t)=>{for(var n in t)i(e,n,{get:t[n],enumerable:!0})})(h,{InitScript:()=>F,Page:()=>P,PageBinding:()=>N,Worker:()=>j}),e.exports=(r=h,u(i({},"__esModule",{value:!0}),r));var p=d(n("./node_modules/playwright-core/lib/server/accessibility.js")),f=n("./node_modules/playwright-core/lib/server/browserContext.js"),m=n("./node_modules/playwright-core/lib/server/console.js"),g=n("./node_modules/playwright-core/lib/server/errors.js"),b=n("./node_modules/playwright-core/lib/server/fileChooser.js"),w=d(n("./node_modules/playwright-core/lib/server/frames.js")),y=n("./node_modules/playwright-core/lib/server/helper.js"),v=d(n("./node_modules/playwright-core/lib/server/input.js")),A=n("./node_modules/playwright-core/lib/server/instrumentation.js"),_=d(n("./node_modules/playwright-core/lib/server/javascript.js")),x=n("./node_modules/playwright-core/lib/server/screenshotter.js"),S=n("./node_modules/playwright-core/lib/utils.js"),E=n("./node_modules/playwright-core/lib/utils.js"),C=n("./node_modules/playwright-core/lib/server/utils/comparators.js"),k=n("./node_modules/playwright-core/lib/server/utils/debugLogger.js"),O=n("./node_modules/playwright-core/lib/utils/isomorphic/selectorParser.js"),T=n("./node_modules/playwright-core/lib/utils/isomorphic/manualPromise.js"),I=n("./node_modules/playwright-core/lib/utils/isomorphic/utilityScriptSerializers.js"),B=n("./node_modules/playwright-core/lib/server/callLog.js"),M=d(n("./node_modules/playwright-core/lib/generated/bindingsControllerSource.js"));class P extends A.SdkObject{constructor(e,t){super(t,"page"),this._closedState="open",this._closedPromise=new T.ManualPromise,this._initializedPromise=new T.ManualPromise,this._consoleMessages=[],this._pageErrors=[],this._crashed=!1,this.openScope=new S.LongStandingScope,this._emulatedMedia={},this._fileChooserInterceptedBy=new Set,this._pageBindings=new Map,this.initScripts=[],this._workers=new Map,this.requestInterceptors=[],this.video=null,this._locatorHandlers=new Map,this._lastLocatorHandlerUid=0,this._locatorHandlerRunningCounter=0,this._networkRequests=[],this._frameThrottler=new D(10,35,200),this.lastSnapshotFrameIds=[],this.attribution.page=this,this.delegate=e,this.browserContext=t,this.accessibility=new p.Accessibility(e.getAccessibilityTree.bind(e)),this.keyboard=new v.Keyboard(e.rawKeyboard,this),this.mouse=new v.Mouse(e.rawMouse,this),this.touchscreen=new v.Touchscreen(e.rawTouchscreen,this),this.screenshotter=new x.Screenshotter(this),this.frameManager=new w.FrameManager(this),e.pdf&&(this.pdf=e.pdf.bind(e)),this.coverage=e.coverage?e.coverage():null,this.isStorageStatePage=t.isCreatingStorageStatePage()}static{this.Events={Close:"close",Crash:"crash",Download:"download",EmulatedSizeChanged:"emulatedsizechanged",FileChooser:"filechooser",FrameAttached:"frameattached",FrameDetached:"framedetached",InternalFrameNavigatedToNewDocument:"internalframenavigatedtonewdocument",LocatorHandlerTriggered:"locatorhandlertriggered",ScreencastFrame:"screencastframe",Video:"video",WebSocket:"websocket",Worker:"worker"}}async reportAsNew(e,t){if(e){const t=await e.waitForInitializedOrError();t instanceof P&&!t.isClosed()&&(this._opener=t)}this._markInitialized(t)}_markInitialized(e=void 0){if(e){if(this.browserContext.isClosingOrClosed())return;this.frameManager.createDummyMainFrameIfNeeded()}this._initialized=e||this,this.emitOnContext(f.BrowserContext.Events.Page,this);for(const e of this._pageErrors)this.emitOnContext(f.BrowserContext.Events.PageError,e,this);for(const e of this._consoleMessages)this.emitOnContext(f.BrowserContext.Events.Console,e);this.isClosed()?this.emit(P.Events.Close):this.instrumentation.onPageOpen(this),this._initializedPromise.resolve(this._initialized)}initializedOrUndefined(){return this._initialized?this:void 0}waitForInitializedOrError(){return this._initializedPromise}emitOnContext(e,...t){this.isStorageStatePage||this.browserContext.emit(e,...t)}async resetForReuse(e){await this.mainFrame().gotoImpl(e,"about:blank",{}),this._emulatedSize=void 0,this._emulatedMedia={},this._extraHTTPHeaders=void 0,await Promise.all([this.delegate.updateEmulatedViewportSize(),this.delegate.updateEmulateMedia(),this.delegate.updateExtraHTTPHeaders()]),await this.delegate.resetForReuse(e)}_didClose(){this.frameManager.dispose(),this._frameThrottler.dispose(),(0,S.assert)("closed"!==this._closedState,"Page closed twice"),this._closedState="closed",this.emit(P.Events.Close),this._closedPromise.resolve(),this.instrumentation.onPageClose(this),this.openScope.close(new g.TargetClosedError)}_didCrash(){this.frameManager.dispose(),this._frameThrottler.dispose(),this.emit(P.Events.Crash),this._crashed=!0,this.instrumentation.onPageClose(this),this.openScope.close(new Error("Page crashed"))}async _onFileChooserOpened(e){let t;try{t=await e.evaluate(e=>!!e.multiple)}catch(e){return}if(!this.listenerCount(P.Events.FileChooser))return void e.dispose();const n=new b.FileChooser(this,e,t);this.emit(P.Events.FileChooser,n)}opener(){return this._opener}mainFrame(){return this.frameManager.mainFrame()}frames(){return this.frameManager.frames()}async exposeBinding(e,t,n,r){if(this._pageBindings.has(t))throw new Error(`Function "${t}" has been already registered`);if(this.browserContext._pageBindings.has(t))throw new Error(`Function "${t}" has been already registered in the browser context`);await e.race(this.browserContext.exposePlaywrightBindingIfNeeded());const o=new N(t,r,n);this._pageBindings.set(t,o);try{return await e.race(this.delegate.addInitScript(o.initScript)),await e.race(this.safeNonStallingEvaluateInAllFrames(o.initScript.source,"main")),o}catch(e){throw this._pageBindings.delete(t),e}}async removeExposedBindings(e){e=e.filter(e=>this._pageBindings.get(e.name)===e);for(const t of e)this._pageBindings.delete(t.name);await this.delegate.removeInitScripts(e.map(e=>e.initScript));const t=e.map(e=>`{ ${e.cleanupScript} };\n`).join("");await this.safeNonStallingEvaluateInAllFrames(t,"main")}async setExtraHTTPHeaders(e,t){const n=this._extraHTTPHeaders;try{this._extraHTTPHeaders=t,await e.race(this.delegate.updateExtraHTTPHeaders())}catch(e){throw this._extraHTTPHeaders=n,this.delegate.updateExtraHTTPHeaders().catch(()=>{}),e}}extraHTTPHeaders(){return this._extraHTTPHeaders}addNetworkRequest(e){this._networkRequests.push(e);for(const e of L(this._networkRequests,100))this.emitOnContext(f.BrowserContext.Events.RequestCollected,e)}networkRequests(){return this._networkRequests}async onBindingCalled(e,t){"closed"!==this._closedState&&await N.dispatch(this,e,t)}addConsoleMessage(e,t,n,r){const o=new m.ConsoleMessage(this,e,r,t,n);this.frameManager.interceptConsoleMessage(o)?t.forEach(e=>e.dispose()):(this._consoleMessages.push(o),L(this._consoleMessages,200),this._initialized&&this.emitOnContext(f.BrowserContext.Events.Console,o))}consoleMessages(){return this._consoleMessages}addPageError(e){this._pageErrors.push(e),L(this._pageErrors,200),this._initialized&&this.emitOnContext(f.BrowserContext.Events.PageError,e,this)}pageErrors(){return this._pageErrors}async reload(e,t){return this.mainFrame().raceNavigationAction(e,async()=>{const[n]=await Promise.all([this.mainFrame()._waitForNavigation(e,!0,t),e.race(this.delegate.reload())]);return n})}async goBack(e,t){return this.mainFrame().raceNavigationAction(e,async()=>{let n;const r=this.mainFrame()._waitForNavigation(e,!1,t).catch(e=>(n=e,null));if(!await e.race(this.delegate.goBack()))return r.catch(()=>{}),null;const o=await r;if(n)throw n;return o})}async goForward(e,t){return this.mainFrame().raceNavigationAction(e,async()=>{let n;const r=this.mainFrame()._waitForNavigation(e,!1,t).catch(e=>(n=e,null));if(!await e.race(this.delegate.goForward()))return r.catch(()=>{}),null;const o=await r;if(n)throw n;return o})}requestGC(){return this.delegate.requestGC()}registerLocatorHandler(e,t){const n=++this._lastLocatorHandlerUid;return this._locatorHandlers.set(n,{selector:e,noWaitAfter:t}),n}resolveLocatorHandler(e,t){const n=this._locatorHandlers.get(e);t&&this._locatorHandlers.delete(e),n&&(n.resolved?.resolve(),n.resolved=void 0)}unregisterLocatorHandler(e){this._locatorHandlers.delete(e)}async performActionPreChecks(e){await this._performWaitForNavigationCheck(e),await this._performLocatorHandlersCheckpoint(e),await this._performWaitForNavigationCheck(e)}async _performWaitForNavigationCheck(e){const t=this.frameManager.mainFrame();if(!t||!t.pendingDocument())return;const n=t.pendingDocument()?.request?.url(),r=n?`" ${(0,S.trimStringWithEllipsis)(n,200)}"`:"";e.log(`  waiting for${r} navigation to finish...`),await y.helper.waitForEvent(e,t,w.Frame.Events.InternalNavigation,n=>!!n.isPublic&&(n.error||e.log(`  navigated to "${(0,S.trimStringWithEllipsis)(t.url(),200)}"`),!0)).promise}async _performLocatorHandlersCheckpoint(e){if(!this._locatorHandlerRunningCounter)for(const[t,n]of this._locatorHandlers)if(n.resolved||await this.mainFrame().isVisibleInternal(e,n.selector,{strict:!0})&&(n.resolved=new T.ManualPromise,this.emit(P.Events.LocatorHandlerTriggered,t)),n.resolved){++this._locatorHandlerRunningCounter,e.log(`  found ${(0,E.asLocator)(this.browserContext._browser.sdkLanguage(),n.selector)}, intercepting action to run the handler`);const t=n.resolved.then(async()=>{n.noWaitAfter?e.log("  locator handler has finished"):(e.log(`  locator handler has finished, waiting for ${(0,E.asLocator)(this.browserContext._browser.sdkLanguage(),n.selector)} to be hidden`),await this.mainFrame().waitForSelector(e,n.selector,!1,{state:"hidden"}))});await e.race(this.openScope.race(t)).finally(()=>--this._locatorHandlerRunningCounter),e.log("  interception handler has finished, continuing")}}async emulateMedia(e,t){const n={...this._emulatedMedia};void 0!==t.media&&(this._emulatedMedia.media=t.media),void 0!==t.colorScheme&&(this._emulatedMedia.colorScheme=t.colorScheme),void 0!==t.reducedMotion&&(this._emulatedMedia.reducedMotion=t.reducedMotion),void 0!==t.forcedColors&&(this._emulatedMedia.forcedColors=t.forcedColors),void 0!==t.contrast&&(this._emulatedMedia.contrast=t.contrast);try{await e.race(this.delegate.updateEmulateMedia())}catch(e){throw this._emulatedMedia=n,this.delegate.updateEmulateMedia().catch(()=>{}),e}}emulatedMedia(){const e=this.browserContext._options;return{media:this._emulatedMedia.media||"no-override",colorScheme:void 0!==this._emulatedMedia.colorScheme?this._emulatedMedia.colorScheme:e.colorScheme??"light",reducedMotion:void 0!==this._emulatedMedia.reducedMotion?this._emulatedMedia.reducedMotion:e.reducedMotion??"no-preference",forcedColors:void 0!==this._emulatedMedia.forcedColors?this._emulatedMedia.forcedColors:e.forcedColors??"none",contrast:void 0!==this._emulatedMedia.contrast?this._emulatedMedia.contrast:e.contrast??"no-preference"}}async setViewportSize(e,t){const n=this._emulatedSize;try{this._setEmulatedSize({viewport:{...t},screen:{...t}}),await e.race(this.delegate.updateEmulatedViewportSize())}catch(e){throw this._emulatedSize=n,this.delegate.updateEmulatedViewportSize().catch(()=>{}),e}}setEmulatedSizeFromWindowOpen(e){this._setEmulatedSize(e)}_setEmulatedSize(e){this._emulatedSize=e,this.emit(P.Events.EmulatedSizeChanged)}emulatedSize(){if(this._emulatedSize)return this._emulatedSize;const e=this.browserContext._options;return e.viewport?{viewport:e.viewport,screen:e.screen||e.viewport}:void 0}async bringToFront(){await this.delegate.bringToFront()}async addInitScript(e,t){const n=new F(t);this.initScripts.push(n);try{await e.race(this.delegate.addInitScript(n))}catch(e){throw this.removeInitScripts([n]).catch(()=>{}),e}return n}async removeInitScripts(e){const t=new Set(e);this.initScripts=this.initScripts.filter(e=>!t.has(e)),await this.delegate.removeInitScripts(e)}needsRequestInterception(){return this.requestInterceptors.length>0||this.browserContext.requestInterceptors.length>0}async addRequestInterceptor(e,t,n){n?this.requestInterceptors.unshift(t):this.requestInterceptors.push(t),await this.delegate.updateRequestInterception()}async removeRequestInterceptor(e){const t=this.requestInterceptors.indexOf(e);-1!==t&&(this.requestInterceptors.splice(t,1),await this.browserContext.notifyRoutesInFlightAboutRemovedHandler(e),await this.delegate.updateRequestInterception())}async expectScreenshot(e,t){const n=t.locator,r=n?async r=>await n.frame.rafrafTimeoutScreenshotElementWithProgress(e,n.selector,r,t||{}):async n=>(await this.performActionPreChecks(e),await this.mainFrame().rafrafTimeout(e,n),await this.screenshotter.screenshotPage(e,t||{})),o=(0,C.getComparator)("image/png");if(!t.expected&&t.isNot)return{errorMessage:'"not" matcher requires expected result'};try{if("png"!==(0,x.validateScreenshotOptions)(t||{}))throw new Error("Only PNG screenshots are supported")}catch(e){return{errorMessage:e.message}}let i;const s=(e,n,r)=>{const s=e&&n?o(e,n,t):void 0;return void 0!==s&&!!s==!!t.isNot||(s&&(i={errorMessage:s.errorMessage,diff:s.diff,actual:e,previous:r}),!1)};try{let n,o;const a=[0,100,250,500];e.log(`${(0,S.renderTitleForCall)(e.metadata)}${t.timeout?` with timeout ${t.timeout}ms`:""}`),t.expected?e.log("  verifying given screenshot expectation"):e.log("  generating new stable screenshot expectation");let l=!0;for(;;){if(this.isClosed())throw new Error("The page has closed");const c=a.shift()??1e3;if(c&&e.log(`waiting ${c}ms before taking screenshot`),o=n,n=await r(c).catch(t=>{if(this.mainFrame().isNonRetriableError(t))throw t;e.log("failed to take screenshot - "+t.message)}),n){if(s(n,t.expected&&l?t.expected:o,o))break;i&&e.log(i.errorMessage),l=!1}}if(l||e.log("captured a stable screenshot"),!t.expected)return{actual:n};if(l)return e.log("screenshot matched expectation"),{};if(s(n,t.expected,void 0))return e.log("screenshot matched expectation"),{};throw new Error(i.errorMessage)}catch(t){if(_.isJavaScriptErrorInEvaluate(t)||(0,O.isInvalidSelectorError)(t))throw t;let n=t.message;return t instanceof g.TimeoutError&&i?.previous&&(n="Failed to take two consecutive stable screenshots."),{log:(0,B.compressCallLog)(t.message?[...e.metadata.log,t.message]:e.metadata.log),...i,errorMessage:n,timedOut:t instanceof g.TimeoutError}}}async screenshot(e,t){return await this.screenshotter.screenshotPage(e,t)}async close(e={}){if("closed"===this._closedState)return;e.reason&&(this.closeReason=e.reason);const t=!!e.runBeforeUnload;"closing"!==this._closedState&&(this._closedState="closing",await this.delegate.closePage(t).catch(e=>k.debugLogger.log("error",e))),t||await this._closedPromise}isClosed(){return"closed"===this._closedState}hasCrashed(){return this._crashed}isClosedOrClosingOrCrashed(){return"open"!==this._closedState||this._crashed}addWorker(e,t){this._workers.set(e,t),this.emit(P.Events.Worker,t)}removeWorker(e){const t=this._workers.get(e);t&&(t.didClose(),this._workers.delete(e))}clearWorkers(){for(const[e,t]of this._workers)t.didClose(),this._workers.delete(e)}async setFileChooserInterceptedBy(e,t){const n=this.fileChooserIntercepted();e?this._fileChooserInterceptedBy.add(t):this._fileChooserInterceptedBy.delete(t),n!==this.fileChooserIntercepted()&&await this.delegate.updateFileChooserInterception()}fileChooserIntercepted(){return this._fileChooserInterceptedBy.size>0}frameNavigatedToNewDocument(e){this.emit(P.Events.InternalFrameNavigatedToNewDocument,e);const t=e.origin();t&&this.browserContext.addVisitedOrigin(t)}allInitScripts(){const e=[...this.browserContext._pageBindings.values(),...this._pageBindings.values()].map(e=>e.initScript);return this.browserContext.bindingsInitScript&&e.unshift(this.browserContext.bindingsInitScript),[...e,...this.browserContext.initScripts,...this.initScripts]}getBinding(e){return this._pageBindings.get(e)||this.browserContext._pageBindings.get(e)}setScreencastOptions(e){this.delegate.setScreencastOptions(e).catch(e=>k.debugLogger.log("error",e)),this._frameThrottler.setThrottlingEnabled(!!e)}throttleScreencastFrameAck(e){this._frameThrottler.ack(e)}temporarilyDisableTracingScreencastThrottling(){this._frameThrottler.recharge()}async safeNonStallingEvaluateInAllFrames(e,t,n={}){await Promise.all(this.frames().map(async r=>{try{await r.nonStallingEvaluateInExistingContext(e,t)}catch(e){if(n.throwOnJSErrors&&_.isJavaScriptErrorInEvaluate(e))throw e}}))}async hideHighlight(){await Promise.all(this.frames().map(e=>e.hideHighlight().catch(()=>{})))}async snapshotForAI(e){return this.lastSnapshotFrameIds=[],(await R(e,this.mainFrame(),0,this.lastSnapshotFrameIds)).join("\n")}}class j extends A.SdkObject{constructor(e,t){super(e,"worker"),this.existingExecutionContext=null,this.openScope=new S.LongStandingScope,this.url=t,this._executionContextCallback=()=>{},this._executionContextPromise=new Promise(e=>this._executionContextCallback=e)}static{this.Events={Close:"close",Console:"console"}}createExecutionContext(e){return this.existingExecutionContext=new _.ExecutionContext(this,e,"worker"),this._executionContextCallback(this.existingExecutionContext),this.existingExecutionContext}didClose(){this.existingExecutionContext&&this.existingExecutionContext.contextDestroyed("Worker was closed"),this.emit(j.Events.Close,this),this.openScope.close(new Error("Worker closed"))}async evaluateExpression(e,t,n){return _.evaluateExpression(await this._executionContextPromise,e,{returnByValue:!0,isFunction:t},n)}async evaluateExpressionHandle(e,t,n){return _.evaluateExpression(await this._executionContextPromise,e,{returnByValue:!1,isFunction:t},n)}}class N{static{this.kController="__playwright__binding__controller__"}static{this.kBindingName="__playwright__binding__"}static createInitScript(){return new F(`\n      (() => {\n        const module = {};\n        ${M.source}\n        const property = '${N.kController}';\n        if (!globalThis[property])\n          globalThis[property] = new (module.exports.BindingsController())(globalThis, '${N.kBindingName}');\n      })();\n    `)}constructor(e,t,n){this.name=e,this.playwrightFunction=t,this.initScript=new F(`globalThis['${N.kController}'].addBinding(${JSON.stringify(e)}, ${n})`),this.needsHandle=n,this.cleanupScript=`globalThis['${N.kController}'].removeBinding(${JSON.stringify(e)})`}static async dispatch(e,t,n){const{name:r,seq:o,serializedArgs:i}=JSON.parse(t);try{(0,S.assert)(n.world);const t=e.getBinding(r);if(!t)throw new Error(`Function "${r}" is not exposed`);let s;if(t.needsHandle){const i=await n.evaluateExpressionHandle(`arg => globalThis['${N.kController}'].takeBindingHandle(arg)`,{isFunction:!0},{name:r,seq:o}).catch(e=>null);s=await t.playwrightFunction({frame:n.frame,page:e,context:e.browserContext},i)}else{if(!Array.isArray(i))throw new Error("serializedArgs is not an array. This can happen when Array.prototype.toJSON is defined incorrectly");const r=i.map(e=>(0,I.parseEvaluationResultValue)(e));s=await t.playwrightFunction({frame:n.frame,page:e,context:e.browserContext},...r)}n.evaluateExpressionHandle(`arg => globalThis['${N.kController}'].deliverBindingResult(arg)`,{isFunction:!0},{name:r,seq:o,result:s}).catch(e=>k.debugLogger.log("error",e))}catch(e){n.evaluateExpressionHandle(`arg => globalThis['${N.kController}'].deliverBindingResult(arg)`,{isFunction:!0},{name:r,seq:o,error:e}).catch(e=>k.debugLogger.log("error",e))}}}class F{constructor(e){this.source=`(() => {\n      ${e}\n    })();`}}class D{constructor(e,t,n){this._acks=[],this._throttlingEnabled=!1,this._nonThrottledFrames=e,this._budget=e,this._defaultInterval=t,this._throttlingInterval=n,this._tick()}dispose(){this._timeoutId&&(clearTimeout(this._timeoutId),this._timeoutId=void 0)}setThrottlingEnabled(e){this._throttlingEnabled=e}recharge(){for(const e of this._acks)e();this._acks=[],this._budget=this._nonThrottledFrames,this._timeoutId&&(clearTimeout(this._timeoutId),this._tick())}ack(e){this._timeoutId?this._acks.push(e):e()}_tick(){const e=this._acks.shift();e&&(--this._budget,e()),this._throttlingEnabled&&this._budget<=0?this._timeoutId=setTimeout(()=>this._tick(),this._throttlingInterval):this._timeoutId=setTimeout(()=>this._tick(),this._defaultInterval)}}async function R(e,t,n,r){const o=(await t.retryWithProgressAndTimeouts(e,[1e3,2e3,4e3,8e3],async r=>{try{const o=await e.race(t._utilityContext()),i=await e.race(o.injectedScript()),s=await e.race(i.evaluate((e,t)=>{const n=e.document.body;return!n||e.ariaSnapshot(n,{mode:"ai",refPrefix:t})},n?"f"+n:""));return!0===s?r:s}catch(e){if(t.isNonRetriableError(e))throw e;return r}})).split("\n"),i=[];for(const n of o){const o=n.match(/^(\s*)- iframe (?:\[active\] )?\[ref=([^\]]*)\]/);if(!o){i.push(n);continue}const s=o[1],a=`aria-ref=${o[2]} >> internal:control=enter-frame >> body`,l=await e.race(t.selectors.resolveFrameForSelector(a,{strict:!0}));if(!l){i.push(n);continue}const c=r.length+1;r.push(l.frame._id);try{const t=await R(e,l.frame,c,r);i.push(n+":",...t.map(e=>s+"  "+e))}catch{i.push(n)}}return i}function L(e,t){return e.length>t?e.splice(0,t/10):[]}},"./node_modules/playwright-core/lib/server/pipeTransport.js":(e,t,n)=>{"use strict";var r,o=Object.defineProperty,i=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,l={};((e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})})(l,{PipeTransport:()=>d}),e.exports=(r=l,((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let n of s(t))a.call(e,n)||undefined===n||o(e,n,{get:()=>t[n],enumerable:!(r=i(t,n))||r.enumerable});return e})(o({},"__esModule",{value:!0}),r));var c=n("./node_modules/playwright-core/lib/utils.js"),u=n("./node_modules/playwright-core/lib/server/utils/debugLogger.js");class d{constructor(e,t){this._pendingBuffers=[],this._waitForNextTask=(0,c.makeWaitForNextTask)(),this._closed=!1,this._pipeRead=t,this._pipeWrite=e,t.on("data",e=>this._dispatch(e)),t.on("close",()=>{this._closed=!0,this._onclose&&this._onclose.call(null)}),t.on("error",e=>u.debugLogger.log("error",e)),e.on("error",e=>u.debugLogger.log("error",e)),this.onmessage=void 0}get onclose(){return this._onclose}set onclose(e){this._onclose=e,e&&!this._pipeRead.readable&&e()}send(e){if(this._closed)throw new Error("Pipe has been closed");this._pipeWrite.write(JSON.stringify(e)),this._pipeWrite.write("\0")}close(){throw new Error("unimplemented")}_dispatch(e){let t=e.indexOf("\0");if(-1===t)return void this._pendingBuffers.push(e);this._pendingBuffers.push(e.slice(0,t));const n=Buffer.concat(this._pendingBuffers).toString();this._waitForNextTask(()=>{this.onmessage&&this.onmessage.call(null,JSON.parse(n))});let r=t+1;for(t=e.indexOf("\0",r);-1!==t;){const n=e.toString(void 0,r,t);this._waitForNextTask(()=>{this.onmessage&&this.onmessage.call(null,JSON.parse(n))}),r=t+1,t=e.indexOf("\0",r)}this._pendingBuffers=[e.slice(r)]}}},"./node_modules/playwright-core/lib/server/playwright.js":(e,t,n)=>{"use strict";var r,o=Object.defineProperty,i=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,l={};((e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})})(l,{Playwright:()=>y,createPlaywright:()=>v}),e.exports=(r=l,((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let n of s(t))a.call(e,n)||undefined===n||o(e,n,{get:()=>t[n],enumerable:!(r=i(t,n))||r.enumerable});return e})(o({},"__esModule",{value:!0}),r));var c=n("./node_modules/playwright-core/lib/server/android/android.js"),u=n("./node_modules/playwright-core/lib/server/android/backendAdb.js"),d=n("./node_modules/playwright-core/lib/server/bidi/bidiChromium.js"),h=n("./node_modules/playwright-core/lib/server/bidi/bidiFirefox.js"),p=n("./node_modules/playwright-core/lib/server/chromium/chromium.js"),f=n("./node_modules/playwright-core/lib/server/debugController.js"),m=n("./node_modules/playwright-core/lib/server/electron/electron.js"),g=n("./node_modules/playwright-core/lib/server/firefox/firefox.js"),b=n("./node_modules/playwright-core/lib/server/instrumentation.js"),w=n("./node_modules/playwright-core/lib/server/webkit/webkit.js");class y extends b.SdkObject{constructor(e){super((0,b.createRootSdkObject)(),void 0,"Playwright"),this._allPages=new Set,this._allBrowsers=new Set,this.options=e,this.attribution.playwright=this,this.instrumentation.addListener({onBrowserOpen:e=>this._allBrowsers.add(e),onBrowserClose:e=>this._allBrowsers.delete(e),onPageOpen:e=>this._allPages.add(e),onPageClose:e=>this._allPages.delete(e)},null),this.chromium=new p.Chromium(this),this._bidiChromium=new d.BidiChromium(this),this._bidiFirefox=new h.BidiFirefox(this),this.firefox=new g.Firefox(this),this.webkit=new w.WebKit(this),this.electron=new m.Electron(this),this.android=new c.Android(this,new u.AdbBackend),this.debugController=new f.DebugController(this)}allBrowsers(){return[...this._allBrowsers]}allPages(){return[...this._allPages]}}function v(e){return new y(e)}},"./node_modules/playwright-core/lib/server/progress.js":(e,t,n)=>{"use strict";var r,o=Object.defineProperty,i=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,l={};((e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})})(l,{ProgressController:()=>h,isAbortError:()=>f,raceUncancellableOperationWithCleanup:()=>m}),e.exports=(r=l,((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let n of s(t))a.call(e,n)||undefined===n||o(e,n,{get:()=>t[n],enumerable:!(r=i(t,n))||r.enumerable});return e})(o({},"__esModule",{value:!0}),r));var c=n("./node_modules/playwright-core/lib/server/errors.js"),u=n("./node_modules/playwright-core/lib/utils.js"),d=n("./node_modules/playwright-core/lib/utils/isomorphic/manualPromise.js");class h{constructor(e,t){this._forceAbortPromise=new d.ManualPromise,this._donePromise=new d.ManualPromise,this._state="before",this.metadata=e||{id:"",startTime:0,endTime:0,type:"Internal",method:"",params:{},log:[],internal:!0},this._onCallLog=t,this._forceAbortPromise.catch(e=>null)}async abort(e){"running"===this._state&&(e[p]=!0,this._state={error:e},this._forceAbortPromise.reject(e)),await this._donePromise}async run(e,t){(0,u.assert)("before"===this._state),this._state="running";const n={log:e=>{"running"===this._state&&this.metadata.log.push(e),this._onCallLog?.(e)},metadata:this.metadata,race:e=>{const t=Array.isArray(e)?e:[e];return Promise.race([...t,this._forceAbortPromise])},wait:async e=>{let t;const r=new Promise(n=>t=setTimeout(n,e));return n.race(r).finally(()=>clearTimeout(t))}};let r;if(t){const e=new c.TimeoutError(`Timeout ${t}ms exceeded.`);r=setTimeout(()=>{"running"===this._state&&(e[p]=!0,this._state={error:e},this._forceAbortPromise.reject(e))},t)}try{const t=await e(n);return this._state="finished",t}catch(e){throw this._state={error:e},e}finally{clearTimeout(r),this._donePromise.resolve()}}}const p=Symbol("kAbortError");function f(e){return!!e[p]}async function m(e,t,n){let r=!1;try{return await e.race(t().then(async e=>(r&&await n(e),e)))}catch(e){throw r=!0,e}}},"./node_modules/playwright-core/lib/server/protocolError.js":(e,t,n)=>{"use strict";var r,o=Object.defineProperty,i=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,l={};((e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})})(l,{ProtocolError:()=>u,isProtocolError:()=>d,isSessionClosedError:()=>h}),e.exports=(r=l,((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let n of s(t))a.call(e,n)||undefined===n||o(e,n,{get:()=>t[n],enumerable:!(r=i(t,n))||r.enumerable});return e})(o({},"__esModule",{value:!0}),r));var c=n("./node_modules/playwright-core/lib/utils/isomorphic/stackTrace.js");class u extends Error{constructor(e,t,n){super(),this.type=e,this.method=t,this.logs=n}setMessage(e){(0,c.rewriteErrorMessage)(this,`Protocol error (${this.method}): ${e}`)}browserLogMessage(){return this.logs?"\nBrowser logs:\n"+this.logs:""}}function d(e){return e instanceof u}function h(e){return e instanceof u&&("closed"===e.type||"crashed"===e.type)}},"./node_modules/playwright-core/lib/server/recorder.js":(e,t,n)=>{"use strict";var r,o=Object.create,i=Object.defineProperty,s=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,l=Object.getPrototypeOf,c=Object.prototype.hasOwnProperty,u=(e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let o of a(t))c.call(e,o)||o===n||i(e,o,{get:()=>t[o],enumerable:!(r=s(t,o))||r.enumerable});return e},d=(e,t,n)=>(n=null!=e?o(l(e)):{},u(!t&&e&&e.__esModule?n:i(n,"default",{value:e,enumerable:!0}),e)),h={};((e,t)=>{for(var n in t)i(e,n,{get:t[n],enumerable:!0})})(h,{Recorder:()=>I,RecorderEvent:()=>T}),e.exports=(r=h,u(i({},"__esModule",{value:!0}),r));var p=d(n("events")),f=d(n("fs")),m=n("./node_modules/playwright-core/lib/utils.js"),g=n("./node_modules/playwright-core/lib/server/browserContext.js"),b=n("./node_modules/playwright-core/lib/server/debugger.js"),w=n("./node_modules/playwright-core/lib/server/recorder/recorderUtils.js"),y=n("./node_modules/playwright-core/lib/utils/isomorphic/locatorParser.js"),v=n("./node_modules/playwright-core/lib/utils/isomorphic/selectorParser.js"),A=n("./node_modules/playwright-core/lib/server/progress.js"),_=n("./node_modules/playwright-core/lib/server/recorder/recorderSignalProcessor.js"),x=d(n("./node_modules/playwright-core/lib/generated/pollingRecorderSource.js")),S=n("./node_modules/playwright-core/lib/utils.js"),E=n("./node_modules/playwright-core/lib/server/frames.js"),C=n("./node_modules/playwright-core/lib/server/page.js"),k=n("./node_modules/playwright-core/lib/server/recorder/recorderRunner.js");const O=Symbol("recorderSymbol"),T={PausedStateChanged:"pausedStateChanged",ModeChanged:"modeChanged",ElementPicked:"elementPicked",CallLogsUpdated:"callLogsUpdated",UserSourcesChanged:"userSourcesChanged",ActionAdded:"actionAdded",SignalAdded:"signalAdded",PageNavigated:"pageNavigated",ContextClosed:"contextClosed"};class I extends p.default{constructor(e,t){super(),this._highlightedElement={},this._overlayState={offsetX:0},this._currentCallsMetadata=new Map,this._userSources=new Map,this._omitCallTracking=!1,this._currentLanguage="javascript",this._pageAliases=new Map,this._lastPopupOrdinal=0,this._lastDialogOrdinal=-1,this._lastDownloadOrdinal=-1,this._listeners=[],this._enabled=!1,this._callLogs=[],this._context=e,this._params=t,this._mode=t.mode||"none",this._recorderMode=t.recorderMode??"default",this.handleSIGINT=t.handleSIGINT,this._signalProcessor=new _.RecorderSignalProcessor({addAction:e=>{this._enabled&&this.emit(T.ActionAdded,e)},addSignal:e=>{this._enabled&&this.emit(T.SignalAdded,e)}}),e.on(g.BrowserContext.Events.BeforeClose,()=>{this.emit(T.ContextClosed)}),this._listeners.push(S.eventsHelper.addEventListener(process,"exit",()=>{this.emit(T.ContextClosed)})),this._setEnabled("recording"===t.mode),this._omitCallTracking=!!t.omitCallTracking,this._debugger=e.debugger(),e.instrumentation.addListener(this,e),(0,m.isUnderTest)()&&(this._overlayState.offsetX=200)}static forContext(e,t){let n=e[O];return n||(n=I._create(e,t),e[O]=n),n}static existingForContext(e){return e[O]}static async _create(e,t={}){const n=new I(e,t);return await n._install(),n}async _install(){this.emit(T.ModeChanged,this._mode),this.emit(T.PausedStateChanged,this._debugger.isPaused()),this._context.once(g.BrowserContext.Events.Close,()=>{S.eventsHelper.removeEventListeners(this._listeners),this._context.instrumentation.removeListener(this),this.emit(T.ContextClosed)});const e=new A.ProgressController;await e.run(async e=>{await this._context.exposeBinding(e,"__pw_recorderState",!1,async e=>{let t,n;if(![...this._currentCallsMetadata.keys()].some(B)){t=await this._scopeHighlightedSelectorToFrame(e.frame);for(const[r,o]of this._currentCallsMetadata)e.page===o.attribution.page&&(n=r.point||n,t=t||r.params.selector)}return{mode:this._mode,actionPoint:n,actionSelector:t,ariaTemplate:this._highlightedElement.ariaTemplate,language:this._currentLanguage,testIdAttributeName:this._testIdAttributeName(),overlay:this._overlayState}}),await this._context.exposeBinding(e,"__pw_recorderElementPicked",!1,async({frame:e},t)=>{const n=await(0,w.generateFrameSelector)(e);this.emit(T.ElementPicked,{selector:(0,w.buildFullSelector)(n,t.selector),ariaSnapshot:t.ariaSnapshot},!0)}),await this._context.exposeBinding(e,"__pw_recorderSetMode",!1,async({frame:e},t)=>{e.parentFrame()||this.setMode(t)}),await this._context.exposeBinding(e,"__pw_recorderSetOverlayState",!1,async({frame:e},t)=>{e.parentFrame()||(this._overlayState=t)}),await this._context.exposeBinding(e,"__pw_resume",!1,()=>{this._debugger.resume(!1)}),this._context.on(g.BrowserContext.Events.Page,e=>this._onPage(e));for(const e of this._context.pages())this._onPage(e);this._context.dialogManager.addDialogHandler(e=>(this._onDialog(e.page()),!1)),await this._context.exposeBinding(e,"__pw_recorderPerformAction",!1,(e,t)=>this._performAction(e.frame,t)),await this._context.exposeBinding(e,"__pw_recorderRecordAction",!1,(e,t)=>this._recordAction(e.frame,t)),await this._context.extendInjectedScript(x.source,{recorderMode:this._recorderMode})}),this._debugger.isPaused()&&this._pausedStateChanged(),this._debugger.on(b.Debugger.Events.PausedStateChanged,()=>this._pausedStateChanged())}_pausedStateChanged(){for(const{metadata:e,sdkObject:t}of this._debugger.pausedDetails())this._currentCallsMetadata.has(e)||this.onBeforeCall(t,e);this.emit(T.PausedStateChanged,this._debugger.isPaused()),this._updateUserSources(),this.updateCallLog([...this._currentCallsMetadata.keys()])}mode(){return this._mode}setMode(e){this._mode!==e&&(this._highlightedElement={},this._mode=e,this.emit(T.ModeChanged,this._mode),this._setEnabled(this._isRecording()),this._debugger.setMuted(this._isRecording()),"none"!==this._mode&&"standby"!==this._mode&&1===this._context.pages().length&&this._context.pages()[0].bringToFront().catch(()=>{}),this._refreshOverlay())}url(){const e=this._context.pages()[0];return e?.mainFrame().url()}setHighlightedSelector(e){this._highlightedElement={selector:(0,y.locatorOrSelectorAsSelector)(this._currentLanguage,e,this._context.selectors().testIdAttributeName())},this._refreshOverlay()}setHighlightedAriaTemplate(e){this._highlightedElement={ariaTemplate:e},this._refreshOverlay()}step(){this._debugger.resume(!0)}setLanguage(e){this._currentLanguage=e,this._refreshOverlay()}resume(){this._debugger.resume(!1)}pause(){this._debugger.pauseOnNextStatement()}paused(){return this._debugger.isPaused()}close(){this._debugger.resume(!1)}hideHighlightedSelector(){this._highlightedElement={},this._refreshOverlay()}pausedSourceId(){for(const{metadata:e}of this._debugger.pausedDetails()){if(!e.location)continue;const t=this._userSources.get(e.location.file);if(t)return t.id}}userSources(){return[...this._userSources.values()]}callLog(){return this._callLogs}async _scopeHighlightedSelectorToFrame(e){if(this._highlightedElement.selector)try{const t=e._page.mainFrame(),n=await t.selectors.resolveFrameForSelector(this._highlightedElement.selector);return!n||n?.frame!==t&&n?.frame!==e?"":(0,v.stringifySelector)(n.info.parsed)}catch{return""}}_refreshOverlay(){for(const e of this._context.pages())for(const t of e.frames())t.evaluateExpression("window.__pw_refreshOverlay()").catch(()=>{})}async onBeforeCall(e,t){this._omitCallTracking||this._isRecording()||(this._currentCallsMetadata.set(t,e),this._updateUserSources(),this.updateCallLog([t]),B(t)?this.hideHighlightedSelector():t.params&&t.params.selector&&(this._highlightedElement={selector:t.params.selector}))}async onAfterCall(e,t){this._omitCallTracking||this._isRecording()||(t.error||this._currentCallsMetadata.delete(t),this._updateUserSources(),this.updateCallLog([t]))}_updateUserSources(){for(const e of this._userSources.values())e.highlight=[],e.revealLine=void 0;for(const e of this._currentCallsMetadata.keys()){if(!e.location)continue;const{file:t,line:n}=e.location;let r=this._userSources.get(t);if(r||(r={isRecorded:!1,label:t,id:t,text:this._readSource(t),highlight:[],language:M(t)},this._userSources.set(t,r)),n){const t=this._debugger.isPaused(e);r.highlight.push({line:n,type:e.error?"error":t?"paused":"running"}),r.revealLine=n}}this.emit(T.UserSourcesChanged,this.userSources(),this.pausedSourceId())}async onBeforeInputAction(e,t){}async onCallLog(e,t,n,r){this.updateCallLog([t])}updateCallLog(e){if(this._isRecording())return;const t=[];for(const n of e){if(!n.method||n.internal)continue;let e="done";this._currentCallsMetadata.has(n)&&(e="in-progress"),this._debugger.isPaused(n)&&(e="paused"),t.push((0,w.metadataToCallLog)(n,e))}this._callLogs=t,this.emit(T.CallLogsUpdated,t)}_isRecording(){return["recording","assertingText","assertingVisibility","assertingValue","assertingSnapshot"].includes(this._mode)}_readSource(e){try{return f.default.readFileSync(e,"utf-8")}catch(e){return"// No source available"}}_setEnabled(e){this._enabled=e}async _onPage(e){const t=e.mainFrame();e.on(C.Page.Events.Close,()=>{this._signalProcessor.addAction({frame:this._describeMainFrame(e),action:{name:"closePage",signals:[]},startTime:(0,S.monotonicTime)()}),this._pageAliases.delete(e),this._filePrimaryURLChanged()}),t.on(E.Frame.Events.InternalNavigation,n=>{n.isPublic&&(this._onFrameNavigated(t,e),this._filePrimaryURLChanged())}),e.on(C.Page.Events.Download,()=>this._onDownload(e));const n="page"+(this._pageAliases.size?String(++this._lastPopupOrdinal):"");this._pageAliases.set(e,n),e.opener()?this._onPopup(e.opener(),e):this._signalProcessor.addAction({frame:this._describeMainFrame(e),action:{name:"openPage",url:e.mainFrame().url(),signals:[]},startTime:(0,S.monotonicTime)()}),this._filePrimaryURLChanged()}_filePrimaryURLChanged(){const e=this._context.pages()[0];this.emit(T.PageNavigated,e?.mainFrame().url())}clear(){if("recording"===this._params.mode)for(const e of this._context.pages())this._onFrameNavigated(e.mainFrame(),e)}_describeMainFrame(e){return{pageGuid:e.guid,pageAlias:this._pageAliases.get(e),framePath:[]}}async _describeFrame(e){return{pageGuid:e._page.guid,pageAlias:this._pageAliases.get(e._page),framePath:await(0,w.generateFrameSelector)(e)}}_testIdAttributeName(){return this._params.testIdAttributeName||this._context.selectors().testIdAttributeName()||"data-testid"}async _createActionInContext(e,t){return{frame:await this._describeFrame(e),action:t,description:void 0,startTime:(0,S.monotonicTime)()}}async _performAction(e,t){const n=await this._createActionInContext(e,t);this._signalProcessor.addAction(n),"openPage"!==n.action.name&&"closePage"!==n.action.name&&await(0,k.performAction)(this._pageAliases,n),n.endTime=(0,S.monotonicTime)()}async _recordAction(e,t){const n=await this._createActionInContext(e,t);this._signalProcessor.addAction(n)}_onFrameNavigated(e,t){const n=this._pageAliases.get(t);this._signalProcessor.signal(n,e,{name:"navigation",url:e.url()})}_onPopup(e,t){const n=this._pageAliases.get(e),r=this._pageAliases.get(t);this._signalProcessor.signal(n,e.mainFrame(),{name:"popup",popupAlias:r})}_onDownload(e){const t=this._pageAliases.get(e);++this._lastDownloadOrdinal,this._signalProcessor.signal(t,e.mainFrame(),{name:"download",downloadAlias:this._lastDownloadOrdinal?String(this._lastDownloadOrdinal):""})}_onDialog(e){const t=this._pageAliases.get(e);++this._lastDialogOrdinal,this._signalProcessor.signal(t,e.mainFrame(),{name:"dialog",dialogAlias:this._lastDialogOrdinal?String(this._lastDialogOrdinal):""})}}function B(e){return e.method.toLowerCase().includes("screenshot")}function M(e){return e.endsWith(".py")?"python":e.endsWith(".java")?"java":e.endsWith(".cs")?"csharp":"javascript"}},"./node_modules/playwright-core/lib/server/recorder/recorderApp.js":(e,t,n)=>{"use strict";var r,o=Object.create,i=Object.defineProperty,s=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,l=Object.getPrototypeOf,c=Object.prototype.hasOwnProperty,u=(e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let o of a(t))c.call(e,o)||o===n||i(e,o,{get:()=>t[o],enumerable:!(r=s(t,o))||r.enumerable});return e},d=(e,t,n)=>(n=null!=e?o(l(e)):{},u(!t&&e&&e.__esModule?n:i(n,"default",{value:e,enumerable:!0}),e)),h={};((e,t)=>{for(var n in t)i(e,n,{get:t[n],enumerable:!0})})(h,{ProgrammaticRecorderApp:()=>k,RecorderApp:()=>C}),e.exports=(r=h,u(i({},"__esModule",{value:!0}),r));var p=d(n("fs")),f=d(n("path")),m=n("./node_modules/playwright-core/lib/server/utils/debug.js"),g=n("./node_modules/playwright-core/lib/utilsBundle.js"),b=n("./node_modules/playwright-core/lib/server/launchApp.js"),w=n("./node_modules/playwright-core/lib/server/launchApp.js"),y=n("./node_modules/playwright-core/lib/server/progress.js"),v=n("./node_modules/playwright-core/lib/server/recorder/throttledFile.js"),A=n("./node_modules/playwright-core/lib/server/codegen/languages.js"),_=n("./node_modules/playwright-core/lib/server/recorder/recorderUtils.js"),x=n("./node_modules/playwright-core/lib/server/codegen/language.js"),S=n("./node_modules/playwright-core/lib/server/recorder.js"),E=n("./node_modules/playwright-core/lib/server/browserContext.js");class C{constructor(e,t,n,r){this._throttledOutputFile=null,this._actions=[],this._userSources=[],this._recorderSources=[],this._page=n,this._recorder=e,this.wsEndpointForTest=r,this._languageGeneratorOptions={browserName:t.browserName,launchOptions:{headless:!1,...t.launchOptions,tracesDir:void 0},contextOptions:{...t.contextOptions},deviceName:t.device,saveStorage:t.saveStorage},this._throttledOutputFile=t.outputFile?new v.ThrottledFile(t.outputFile):null,this._primaryGeneratorId=process.env.TEST_INSPECTOR_LANGUAGE||t.language||function(e){for(const t of(0,A.languageSet)())if(t.highlighter===e)return t.id;return e}(t.sdkLanguage),this._selectedGeneratorId=this._primaryGeneratorId}async _init(e){await(0,b.syncLocalStorageWithSettings)(this._page,"recorder");const t=new y.ProgressController;await t.run(async t=>{await this._page.addRequestInterceptor(t,e=>{if(!e.request().url().startsWith("https://playwright/"))return void e.continue({isFallback:!0}).catch(()=>{});const t=e.request().url().substring(19),r=n("./node_modules/playwright-core/lib/vite/recorder sync recursive ^\\.\\/.*$").resolve("./"+t);p.default.promises.readFile(r).then(t=>{e.fulfill({status:200,headers:[{name:"Content-Type",value:g.mime.getType(f.default.extname(r))||"application/octet-stream"}],body:t.toString("base64"),isBase64:!0}).catch(()=>{})})}),await this._page.exposeBinding(t,"dispatch",!1,(e,t)=>this._handleUIEvent(t)),this._page.once("close",()=>{this._recorder.close(),this._page.browserContext.close({reason:"Recorder window closed"}).catch(()=>{}),delete e[T]}),await this._page.mainFrame().goto(t,process.env.PW_HMR?"http://localhost:44225":"https://playwright/index.html")});const r=this._recorder.url();r&&this._onPageNavigated(r),this._onModeChanged(this._recorder.mode()),this._onPausedStateChanged(this._recorder.paused()),this._updateActions("reveal"),this._onUserSourcesChanged(this._recorder.userSources(),this._recorder.pausedSourceId()),this._onCallLogsUpdated(this._recorder.callLog()),this._wireListeners(this._recorder)}_handleUIEvent(e){if("clear"===e.event)return this._actions=[],this._updateActions("reveal"),void this._recorder.clear();if("fileChanged"===e.event){const t=[...this._recorderSources,...this._userSources].find(t=>t.id===e.params.fileId);return void(t&&(t.isRecorded&&(this._selectedGeneratorId=t.id),this._recorder.setLanguage(t.language)))}if("setAutoExpect"===e.event)return this._languageGeneratorOptions.generateAutoExpect=e.params.autoExpect,void this._updateActions();if("setMode"!==e.event)if("resume"!==e.event)if("pause"!==e.event){if("step"!==e.event){if("highlightRequested"===e.event)return e.params.selector&&this._recorder.setHighlightedSelector(e.params.selector),void(e.params.ariaTemplate&&this._recorder.setHighlightedAriaTemplate(e.params.ariaTemplate));throw new Error(`Unknown event: ${e.event}`)}this._recorder.step()}else this._recorder.pause();else this._recorder.resume();else this._recorder.setMode(e.params.mode)}static async show(e,t){if(process.env.PW_CODEGEN_NO_INSPECTOR)return;const n=await S.Recorder.forContext(e,t);if("api"===t.recorderMode){const r=e._browser.options.name;return void await k.run(e,n,r,t)}await C._show(n,e,t)}async close(){await this._page.close()}static showInspectorNoReply(e){process.env.PW_CODEGEN_NO_INSPECTOR||S.Recorder.forContext(e,{}).then(t=>C._show(t,e,{})).catch(()=>{})}static async _show(e,t,r){if(t[T])return;t[T]=!0;const o=t._browser.sdkLanguage(),i=!!t._browser.options.headful,s=n("./node_modules/playwright-core/lib/server/playwright.js").createPlaywright({sdkLanguage:"javascript",isInternalPlaywright:!0}),{context:a,page:l}=await(0,w.launchApp)(s.chromium,{sdkLanguage:o,windowSize:{width:600,height:600},windowPosition:{x:1020,y:10},persistentContextOptions:{noDefaultViewport:!0,headless:!!process.env.PWTEST_CLI_HEADLESS||(0,m.isUnderTest)()&&!i,cdpPort:(0,m.isUnderTest)()?0:void 0,handleSIGINT:r.handleSIGINT,executablePath:t._browser.options.isChromium?t._browser.options.customExecutablePath:void 0,channel:t._browser.options.isChromium?t._browser.options.channel:void 0}}),c=new y.ProgressController;await c.run(async e=>{await a._browser._defaultContext._loadDefaultContextAsIs(e)});const u={browserName:t._browser.options.name,sdkLanguage:t._browser.sdkLanguage(),wsEndpointForTest:t._browser.options.wsEndpoint,headed:!!t._browser.options.headful,executablePath:t._browser.options.isChromium?t._browser.options.customExecutablePath:void 0,channel:t._browser.options.isChromium?t._browser.options.channel:void 0,...r},d=new C(e,u,l,a._browser.options.wsEndpoint);await d._init(t),t.recorderAppForTest=d}_wireListeners(e){e.on(S.RecorderEvent.ActionAdded,e=>{this._onActionAdded(e)}),e.on(S.RecorderEvent.SignalAdded,e=>{this._onSignalAdded(e)}),e.on(S.RecorderEvent.PageNavigated,e=>{this._onPageNavigated(e)}),e.on(S.RecorderEvent.ContextClosed,()=>{this._onContextClosed()}),e.on(S.RecorderEvent.ModeChanged,e=>{this._onModeChanged(e)}),e.on(S.RecorderEvent.PausedStateChanged,e=>{this._onPausedStateChanged(e)}),e.on(S.RecorderEvent.UserSourcesChanged,(e,t)=>{this._onUserSourcesChanged(e,t)}),e.on(S.RecorderEvent.ElementPicked,(e,t)=>{this._onElementPicked(e,t)}),e.on(S.RecorderEvent.CallLogsUpdated,e=>{this._onCallLogsUpdated(e)})}_onActionAdded(e){this._actions.push(e),this._updateActions("reveal")}_onSignalAdded(e){const t=this._actions.findLast(t=>t.frame.pageGuid===e.frame.pageGuid);t&&t.action.signals.push(e.signal),this._updateActions()}_onPageNavigated(e){this._page.mainFrame().evaluateExpression((({url:e})=>{window.playwrightSetPageURL(e)}).toString(),{isFunction:!0},{url:e}).catch(()=>{})}_onContextClosed(){this._throttledOutputFile?.flush(),this._page.browserContext.close({reason:"Recorder window closed"}).catch(()=>{})}_onModeChanged(e){this._page.mainFrame().evaluateExpression((e=>{window.playwrightSetMode(e)}).toString(),{isFunction:!0},e).catch(()=>{})}_onPausedStateChanged(e){this._page.mainFrame().evaluateExpression((e=>{window.playwrightSetPaused(e)}).toString(),{isFunction:!0},e).catch(()=>{})}_onUserSourcesChanged(e,t){(e.length||this._userSources.length)&&(this._userSources=e,this._pushAllSources(),this._revealSource(t))}_onElementPicked(e,t){t&&this._page.bringToFront(),this._page.mainFrame().evaluateExpression((e=>{window.playwrightElementPicked(e.elementInfo,e.userGesture)}).toString(),{isFunction:!0},{elementInfo:e,userGesture:t}).catch(()=>{})}_onCallLogsUpdated(e){this._page.mainFrame().evaluateExpression((e=>{window.playwrightUpdateLogs(e)}).toString(),{isFunction:!0},e).catch(()=>{})}_pushAllSources(){const e=[...this._userSources,...this._recorderSources];this._page.mainFrame().evaluateExpression((({sources:e})=>{window.playwrightSetSources(e)}).toString(),{isFunction:!0},{sources:e}).catch(()=>{})}_revealSource(e){e&&this._page.mainFrame().evaluateExpression((({sourceId:e})=>{window.playwrightSelectSource(e)}).toString(),{isFunction:!0},{sourceId:e}).catch(()=>{})}_updateActions(e){const t=[],n=(0,_.collapseActions)(this._actions);let r;for(const o of(0,A.languageSet)()){const{header:i,footer:s,actionTexts:a,text:l}=(0,x.generateCode)(n,o,this._languageGeneratorOptions),c={isRecorded:!0,label:o.name,group:o.groupName,id:o.id,text:l,header:i,footer:s,actions:a,language:o.highlighter,highlight:[]};c.revealLine=l.split("\n").length-1,t.push(c),o.id===this._primaryGeneratorId&&this._throttledOutputFile?.setContent(c.text),"reveal"===e&&c.id===this._selectedGeneratorId&&(r=c.id)}this._recorderSources=t,this._pushAllSources(),this._revealSource(r)}}class k{static async run(e,t,n,r){let o=null;const i=[...(0,A.languageSet)()],s={browserName:n,launchOptions:{headless:!1,...r.launchOptions,tracesDir:void 0},contextOptions:{...r.contextOptions},deviceName:r.device,saveStorage:r.saveStorage},a=i.find(e=>e.id===r.language)??i.find(e=>"playwright-test"===e.id);t.on(S.RecorderEvent.ActionAdded,t=>{const n=O(e,t.frame.pageGuid);if(!n)return;const{actionTexts:r}=(0,x.generateCode)([t],a,s);o&&(0,_.shouldMergeAction)(t,o)?e.emit(E.BrowserContext.Events.RecorderEvent,{event:"actionUpdated",data:t,page:n,code:r.join("\n")}):e.emit(E.BrowserContext.Events.RecorderEvent,{event:"actionAdded",data:t,page:n,code:r.join("\n")}),o=t}),t.on(S.RecorderEvent.SignalAdded,t=>{const n=O(e,t.frame.pageGuid);e.emit(E.BrowserContext.Events.RecorderEvent,{event:"signalAdded",data:t,page:n,code:""})})}}function O(e,t){return e.pages().find(e=>e.guid===t)}const T=Symbol("recorderApp")},"./node_modules/playwright-core/lib/server/recorder/recorderRunner.js":(e,t,n)=>{"use strict";var r,o=Object.defineProperty,i=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,l={};((e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})})(l,{performAction:()=>p,toClickOptions:()=>f}),e.exports=(r=l,((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let n of s(t))a.call(e,n)||undefined===n||o(e,n,{get:()=>t[n],enumerable:!(r=i(t,n))||r.enumerable});return e})(o({},"__esModule",{value:!0}),r));var c=n("./node_modules/playwright-core/lib/utils.js"),u=n("./node_modules/playwright-core/lib/server/codegen/language.js"),d=n("./node_modules/playwright-core/lib/server/recorder/recorderUtils.js"),h=n("./node_modules/playwright-core/lib/server/progress.js");async function p(e,t){const n=(0,d.mainFrameForAction)(e,t),r=new h.ProgressController;return await r.run(e=>async function(e,t,n){const{action:r}=n;if("navigate"===r.name)return void await t.goto(e,r.url);if("openPage"===r.name)throw Error("Not reached");if("closePage"===r.name)return void await t._page.close();const o=(0,d.buildFullSelector)(n.frame.framePath,r.selector);if("click"===r.name){const n=f(r);return void await t.click(e,o,{...n,strict:!0})}if("hover"!==r.name){if("press"===r.name){const n=[...(0,u.toKeyboardModifiers)(r.modifiers),r.key].join("+");return void await t.press(e,o,n,{strict:!0})}if("fill"!==r.name)if("setInputFiles"!==r.name)if("check"!==r.name)if("uncheck"!==r.name){if("select"===r.name){const n=r.options.map(e=>({value:e}));return void await t.selectOption(e,o,[],n,{strict:!0})}if("assertChecked"!==r.name)if("assertText"!==r.name)if("assertValue"!==r.name){if("assertVisible"!==r.name)throw new Error("Internal error: unexpected action "+r.name);await t.expect(e,o,{selector:o,expression:"to.be.visible",isNot:!1})}else await t.expect(e,o,{selector:o,expression:"to.have.value",expectedValue:r.value,isNot:!1});else await t.expect(e,o,{selector:o,expression:"to.have.text",expectedText:(0,c.serializeExpectedTextValues)([r.text],{matchSubstring:!0,normalizeWhiteSpace:!0}),isNot:!1});else await t.expect(e,o,{selector:o,expression:"to.be.checked",expectedValue:{checked:r.checked},isNot:!r.checked})}else await t.uncheck(e,o,{strict:!0});else await t.check(e,o,{strict:!0});else await t.setInputFiles(e,o,{selector:o,payloads:[],strict:!0});else await t.fill(e,o,r.text,{strict:!0})}else await t.hover(e,o,{position:r.position,strict:!0})}(e,n,t),5e3)}function f(e){const t=(0,u.toKeyboardModifiers)(e.modifiers),n={};return"left"!==e.button&&(n.button=e.button),t.length&&(n.modifiers=t),e.clickCount>1&&(n.clickCount=e.clickCount),e.position&&(n.position=e.position),n}},"./node_modules/playwright-core/lib/server/recorder/recorderSignalProcessor.js":(e,t,n)=>{"use strict";var r,o=Object.defineProperty,i=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,l={};((e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})})(l,{RecorderSignalProcessor:()=>h}),e.exports=(r=l,((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let n of s(t))a.call(e,n)||undefined===n||o(e,n,{get:()=>t[n],enumerable:!(r=i(t,n))||r.enumerable});return e})(o({},"__esModule",{value:!0}),r));var c=n("./node_modules/playwright-core/lib/server/utils/debug.js"),u=n("./node_modules/playwright-core/lib/utils/isomorphic/time.js"),d=n("./node_modules/playwright-core/lib/server/recorder/recorderUtils.js");class h{constructor(e){this._lastAction=null,this._delegate=e}addAction(e){this._lastAction=e,this._delegate.addAction(e)}signal(e,t,n){const r=(0,u.monotonicTime)();if("navigation"===n.name&&t._page.mainFrame()===t){const n=this._lastAction,o=(0,c.isUnderTest)()?500:5e3;let i=!1;return n?("click"!==n.action.name&&"press"!==n.action.name&&"fill"!==n.action.name||r-n.startTime>o)&&(i=!0):i=!0,void(i&&this.addAction({frame:{pageGuid:t._page.guid,pageAlias:e,framePath:[]},action:{name:"navigate",url:t.url(),signals:[]},startTime:r,endTime:r}))}(0,d.generateFrameSelector)(t).then(o=>{const i={frame:{pageGuid:t._page.guid,pageAlias:e,framePath:o},signal:n,timestamp:r};this._delegate.addSignal(i)})}}},"./node_modules/playwright-core/lib/server/recorder/recorderUtils.js":(e,t,n)=>{"use strict";var r,o=Object.defineProperty,i=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,l={};((e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})})(l,{buildFullSelector:()=>h,collapseActions:()=>y,frameForAction:()=>m,generateFrameSelector:()=>v,mainFrameForAction:()=>f,metadataToCallLog:()=>p,shouldMergeAction:()=>w}),e.exports=(r=l,((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let n of s(t))a.call(e,n)||undefined===n||o(e,n,{get:()=>t[n],enumerable:!(r=i(t,n))||r.enumerable});return e})(o({},"__esModule",{value:!0}),r));var c=n("./node_modules/playwright-core/lib/utils/isomorphic/protocolFormatter.js"),u=n("./node_modules/playwright-core/lib/utils.js"),d=n("./node_modules/playwright-core/lib/utils/isomorphic/timeoutRunner.js");function h(e,t){return[...e,t].join(" >> internal:control=enter-frame >> ")}function p(e,t){const n=(0,c.renderTitleForCall)(e);e.error&&(t="error");const r={url:e.params?.url,selector:e.params?.selector};let o=e.endTime?e.endTime-e.startTime:void 0;return"number"==typeof o&&e.pauseStartTime&&e.pauseEndTime&&(o-=e.pauseEndTime-e.pauseStartTime,o=Math.max(o,0)),{id:e.id,messages:e.log,title:n??"",status:t,error:e.error?.error?.message,params:r,duration:o}}function f(e,t){const n=t.frame.pageAlias,r=[...e.entries()].find(([,e])=>n===e)?.[0];if(!r)throw new Error(`Internal error: page ${n} not found in [${[...e.values()]}]`);return r.mainFrame()}async function m(e,t,n){const r=t.frame.pageAlias,o=[...e.entries()].find(([,e])=>r===e)?.[0];if(!o)throw new Error("Internal error: page not found");const i=h(t.frame.framePath,n.selector),s=await o.mainFrame().selectors.resolveFrameForSelector(i);if(!s)throw new Error("Internal error: frame not found");return s.frame}function g(e,t){return e.action.name===t.action.name&&e.frame.pageAlias===t.frame.pageAlias&&e.frame.framePath.join("|")===t.frame.framePath.join("|")}function b(e,t){return"selector"in e.action&&"selector"in t.action&&e.action.selector===t.action.selector}function w(e,t){if(!t)return!1;switch(e.action.name){case"fill":return g(e,t)&&b(e,t);case"navigate":return g(e,t);case"click":return g(e,t)&&b(e,t)&&function(e,t){return e.startTime-t.startTime<500}(e,t)&&e.action.clickCount>t.action.clickCount}return!1}function y(e){const t=[];for(const n of e){if(!w(n,t[t.length-1])){t.push(n);continue}const e=t[t.length-1].startTime;t[t.length-1]=n,t[t.length-1].startTime=e}return t}async function v(e){const t=[];for(;e;){const n=e.parentFrame();if(!n)break;t.push(A(n,e)),e=n}return(await Promise.all(t)).reverse()}async function A(e,t){const n=await(0,d.raceAgainstDeadline)(async()=>{try{const n=await t.frameElement();if(!n||!e)return;const r=await e._utilityContext(),o=await r.injectedScript();return await o.evaluate((e,t)=>e.generateSelectorSimple(t),n)}catch(e){}},(0,u.monotonicTime)()+2e3);return!n.timedOut&&n.result?n.result:t.name()?`iframe[name=${(0,u.quoteCSSAttributeValue)(t.name())}]`:`iframe[src=${(0,u.quoteCSSAttributeValue)(t.url())}]`}},"./node_modules/playwright-core/lib/server/recorder/throttledFile.js":(e,t,n)=>{"use strict";var r,o=Object.create,i=Object.defineProperty,s=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,l=Object.getPrototypeOf,c=Object.prototype.hasOwnProperty,u=(e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let o of a(t))c.call(e,o)||o===n||i(e,o,{get:()=>t[o],enumerable:!(r=s(t,o))||r.enumerable});return e},d={};((e,t)=>{for(var n in t)i(e,n,{get:t[n],enumerable:!0})})(d,{ThrottledFile:()=>p}),e.exports=(r=d,u(i({},"__esModule",{value:!0}),r));var h=((e,t,n)=>(n=null!=e?o(l(e)):{},u(e&&e.__esModule?n:i(n,"default",{value:e,enumerable:!0}),e)))(n("fs"));class p{constructor(e){this._file=e}setContent(e){this._text=e,this._timer||(this._timer=setTimeout(()=>this.flush(),250))}flush(){this._timer&&(clearTimeout(this._timer),this._timer=void 0),this._text&&h.default.writeFileSync(this._file,this._text),this._text=void 0}}},"./node_modules/playwright-core/lib/server/registry/browserFetcher.js":(e,t,n)=>{"use strict";var r,o=Object.create,i=Object.defineProperty,s=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,l=Object.getPrototypeOf,c=Object.prototype.hasOwnProperty,u=(e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let o of a(t))c.call(e,o)||o===n||i(e,o,{get:()=>t[o],enumerable:!(r=s(t,o))||r.enumerable});return e},d=(e,t,n)=>(n=null!=e?o(l(e)):{},u(!t&&e&&e.__esModule?n:i(n,"default",{value:e,enumerable:!0}),e)),h={};((e,t)=>{for(var n in t)i(e,n,{get:t[n],enumerable:!0})})(h,{downloadBrowserWithProgressBar:()=>x,logPolitely:()=>E}),e.exports=(r=h,u(i({},"__esModule",{value:!0}),r));var p=d(n("child_process")),f=d(n("fs")),m=d(n("os")),g=d(n("path")),b=n("./node_modules/playwright-core/lib/server/utils/debugLogger.js"),w=n("./node_modules/playwright-core/lib/utils/isomorphic/manualPromise.js"),y=n("./node_modules/playwright-core/lib/server/utils/userAgent.js"),v=n("./node_modules/playwright-core/lib/utilsBundle.js"),A=n("./node_modules/playwright-core/lib/server/utils/fileUtils.js"),_=n("./node_modules/playwright-core/lib/server/registry/index.js");async function x(e,t,n,r,o,i){if(await(0,A.existsAsync)((0,_.browserDirectoryToMarkerFilePath)(t)))return b.debugLogger.log("install",`${e} is already downloaded.`),!1;const s=await f.default.promises.mkdtemp(g.default.join(m.default.tmpdir(),"playwright-download-")),a=g.default.join(s,o);try{const o=5;for(let s=1;s<=o;++s){b.debugLogger.log("install",`downloading ${e} - attempt #${s}`);const l=r[(s-1)%r.length];E(`Downloading ${e}`+v.colors.dim(` from ${l}`));const{error:c}=await S(e,t,l,a,n,i);if(!c){b.debugLogger.log("install",`SUCCESS installing ${e}`);break}await(0,A.existsAsync)(a)&&await f.default.promises.unlink(a),await(0,A.existsAsync)(t)&&await f.default.promises.rmdir(t,{recursive:!0});const u=c?.message||"";if(b.debugLogger.log("install",`attempt #${s} - ERROR: ${u}`),s>=o)throw c}}catch(t){throw b.debugLogger.log("install",`FAILED installation ${e} with error: ${t}`),process.exitCode=1,t}finally{await(0,A.removeFolders)([s])}return E(`${e} downloaded to ${t}`),!0}function S(e,t,n,r,o,i){const s=p.fork(g.default.join(__dirname,"oopDownloadBrowserMain.js")),a=new w.ManualPromise,l=process.stdout.isTTY?function(){let e,t=0;return(n,r)=>{e||(e=new v.progress(`${C(r)} [:bar] :percent :etas`,{complete:"=",incomplete:" ",width:20,total:r}));const o=n-t;t=n,e.tick(o)}}():function(){let e=-1;return(t,n)=>{const r=t/n,o=Math.floor(10*r);if(o>e){e=o;const t=String(100*r|0).padStart(3);console.log(`|${"".repeat(8*o)}${" ".repeat(8*(10-o))}| ${t}% of ${C(n)}`)}}}();s.on("message",e=>{"log"===e?.method&&b.debugLogger.log("install",e.params.message),"progress"===e?.method&&l(e.params.done,e.params.total)}),s.on("exit",e=>{0===e?f.default.existsSync((0,_.browserDirectoryToMarkerFilePath)(t))?a.resolve({error:null}):a.resolve({error:new Error(`Download failure, ${(0,_.browserDirectoryToMarkerFilePath)(t)} does not exist`)}):a.resolve({error:new Error(`Download failure, code=${e}`)})}),s.on("error",e=>{a.resolve({error:e})}),b.debugLogger.log("install","running download:"),b.debugLogger.log("install",`-- from url: ${n}`),b.debugLogger.log("install",`-- to location: ${r}`);const c={title:e,browserDirectory:t,url:n,zipPath:r,executablePath:o,socketTimeout:i,userAgent:(0,y.getUserAgent)()};return s.send({method:"download",params:c}),a}function E(e){const t=process.env.npm_config_loglevel;["silent","error","warn"].indexOf(t||"")>-1||console.log(e)}function C(e){const t=e/1024/1024;return Math.round(10*t)/10+" MiB"}},"./node_modules/playwright-core/lib/server/registry/dependencies.js":(e,t,n)=>{"use strict";var r,o=Object.create,i=Object.defineProperty,s=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,l=Object.getPrototypeOf,c=Object.prototype.hasOwnProperty,u=(e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let o of a(t))c.call(e,o)||o===n||i(e,o,{get:()=>t[o],enumerable:!(r=s(t,o))||r.enumerable});return e},d=(e,t,n)=>(n=null!=e?o(l(e)):{},u(!t&&e&&e.__esModule?n:i(n,"default",{value:e,enumerable:!0}),e)),h={};((e,t)=>{for(var n in t)i(e,n,{get:t[n],enumerable:!0})})(h,{dockerVersion:()=>k,installDependenciesLinux:()=>B,installDependenciesWindows:()=>I,readDockerVersionSync:()=>O,transformCommandsForRoot:()=>D,validateDependenciesLinux:()=>P,validateDependenciesWindows:()=>M,writeDockerVersion:()=>C}),e.exports=(r=h,u(i({},"__esModule",{value:!0}),r));var p=d(n("child_process")),f=d(n("fs")),m=d(n("os")),g=d(n("path")),b=n("./node_modules/playwright-core/lib/server/registry/nativeDeps.js"),w=n("./node_modules/playwright-core/lib/server/utils/ascii.js"),y=n("./node_modules/playwright-core/lib/server/utils/hostPlatform.js"),v=n("./node_modules/playwright-core/lib/server/utils/spawnAsync.js"),A=n("./node_modules/playwright-core/lib/server/utils/userAgent.js"),_=n("./node_modules/playwright-core/lib/server/registry/index.js");const x=g.default.join(__dirname,"..","..","..","bin"),S=process.env.PW_CLI_DISPLAY_VERSION||n("./node_modules/playwright-core/package.json").rE,E="/ms-playwright/.docker-info";async function C(e){await f.default.promises.mkdir(g.default.dirname(E),{recursive:!0}),await f.default.promises.writeFile(E,JSON.stringify(k(e),null,2),"utf8"),await f.default.promises.chmod(E,511)}function k(e){return{driverVersion:S,dockerImageName:e.replace("%version%",S)}}function O(){try{const e=JSON.parse(f.default.readFileSync(E,"utf8"));return{...e,dockerImageNameTemplate:e.dockerImageName.replace(e.driverVersion,"%version%")}}catch(e){return null}}const T=e=>"win32"===process.platform?e.endsWith(".exe"):f.default.promises.access(e,f.default.constants.X_OK).then(()=>!0).catch(()=>!1);async function I(e,t){if(e.has("chromium")){const e="powershell.exe",n=["-ExecutionPolicy","Bypass","-File",g.default.join(x,"install_media_pack.ps1")];if(t)return void console.log(`${e} ${F(n).join(" ")}`);const{code:r}=await(0,v.spawnAsync)(e,n,{cwd:x,stdio:"inherit"});if(0!==r)throw new Error("Failed to install windows dependencies!")}}async function B(e,t){const n=[],r=y.hostPlatform;y.isOfficiallySupportedPlatform||console.warn(`BEWARE: your OS is not officially supported by Playwright; installing dependencies for ${r} as a fallback.`);for(const t of e){const e=b.deps[r];if(!e)return void console.warn(`Cannot install dependencies for ${r} with Playwright ${(0,A.getPlaywrightVersion)()}!`);n.push(...e[t])}const o=Array.from(new Set(n));t||console.log("Installing dependencies...");const i=[];i.push("apt-get update"),i.push(["apt-get","install","-y","--no-install-recommends",...o].join(" "));const{command:s,args:a,elevatedPermissions:l}=await D(i);if(t)return void console.log(`${s} ${F(a).join(" ")}`);l&&console.log("Switching to root user to install dependencies...");const c=p.spawn(s,a,{stdio:"inherit"});await new Promise((e,t)=>{c.on("exit",n=>0===n?e():t(new Error(`Installation process exited with code: ${n}`))),c.on("error",t)})}async function M(e,t){const n=t,r=[];for(const e of n)r.push(...await j(e));const o=await Promise.all(r.map(t=>async function(e,t){const n=_.registry.findExecutable("winldd").executablePathOrDie(e),r=g.default.dirname(t),{stdout:o,code:i}=await(0,v.spawnAsync)(n,[t],{cwd:r,env:{...process.env,LD_LIBRARY_PATH:process.env.LD_LIBRARY_PATH?`${process.env.LD_LIBRARY_PATH}:${r}`:r}});if(0!==i)return[];return o.split("\n").map(e=>e.trim()).filter(e=>e.endsWith("not found")&&e.includes("=>")).map(e=>e.split("=>")[0].trim().toLowerCase())}(e,t))),i=new Set;for(const e of o)for(const t of e)i.add(t);if(!i.size)return;let s=!1,a=!1;for(const e of i)e.startsWith("api-ms-win-crt")||"vcruntime140.dll"===e||"vcruntime140_1.dll"===e||"msvcp140.dll"===e?s=!0:"mf.dll"!==e&&"mfplat.dll"!==e&&"msmpeg2vdec.dll"!==e&&"evr.dll"!==e&&"avrt.dll"!==e||(a=!0);const l=[];s&&l.push("Some of the Universal C Runtime files cannot be found on the system. You can fix","that by installing Microsoft Visual C++ Redistributable for Visual Studio from:","https://support.microsoft.com/en-us/help/2977003/the-latest-supported-visual-c-downloads",""),a&&l.push("Some of the Media Foundation files cannot be found on the system. If you are","on Windows Server try fixing this by running the following command in PowerShell","as Administrator:","","    Install-WindowsFeature Server-Media-Foundation","","For Windows N editions visit:","https://support.microsoft.com/en-us/help/3145500/media-feature-pack-list-for-windows-n-editions",""),l.push("Full list of missing libraries:",`    ${[...i].join("\n    ")}`,"");const c=`Host system is missing dependencies!\n\n${l.join("\n")}`;if(function(){if("win32"!==m.default.platform()||"x64"!==m.default.arch())return!1;const[e,t]=m.default.release().split(".").map(e=>parseInt(e,10));return e>6||6===e&&t>1}())throw new Error(c);console.warn("WARNING: running on unsupported windows version!"),console.warn(c)}async function P(e,t,n){const r=t,o=[];for(const e of r)o.push(...await j(e));const i=await Promise.all(o.map(e=>async function(e,t){const n=g.default.dirname(e);let r=t.join(":");process.env.LD_LIBRARY_PATH&&(r=`${process.env.LD_LIBRARY_PATH}:${r}`);const{stdout:o,code:i}=await(0,v.spawnAsync)("ldd",[e],{cwd:n,env:{...process.env,LD_LIBRARY_PATH:r}});if(0!==i)return[];return o.split("\n").map(e=>e.trim()).filter(e=>e.endsWith("not found")&&e.includes("=>")).map(e=>e.split("=>")[0].trim())}(e,r))),s=new Set;for(const e of i)for(const t of e)s.add(t);for(const e of await async function(e){if(!e.length)return[];const{stdout:t,code:n,error:r}=await(0,v.spawnAsync)("/sbin/ldconfig",["-p"],{});if(0!==n||r)return[];return e.filter(e=>!(e=>t.toLowerCase().includes(e.toLowerCase()))(e))}(n))s.add(e);if(!s.size)return;const a=new Set(s),l=new Set,c=b.deps[y.hostPlatform]?{...b.deps[y.hostPlatform]?.lib2package||{},...N}:{};for(const e of s){const t=c[e];t&&(l.add(t),s.delete(e))}const u=process.getuid?.()&&"win32"!==m.default.platform()?"sudo ":"",d=O(),h=["Host system is missing dependencies to run browsers."];if(d&&!d.driverVersion.startsWith((0,A.getPlaywrightVersion)(!0)+".")){const t=(0,A.getPlaywrightVersion)(),n=d.dockerImageName.replace(d.driverVersion,t);h.push("This is most likely due to Docker image version not matching Playwright version:",`- Playwright  : ${t}`,`- Docker image: ${d.driverVersion}`,"","Either:",`- (recommended) use Docker image "${n}"`,"- (alternative 1) run the following command inside Docker to install missing dependencies:","",`    ${u}${(0,_.buildPlaywrightCLICommand)(e,"install-deps")}`,"","- (alternative 2) use apt inside Docker:","",`    ${u}apt-get install ${[...l].join("\\\n        ")}`,"","<3 Playwright Team")}else l.size&&!s.size?h.push("Please install them with the following command:","",`    ${u}${(0,_.buildPlaywrightCLICommand)(e,"install-deps")}`,"","Alternatively, use apt:",`    ${u}apt-get install ${[...l].join("\\\n        ")}`,"","<3 Playwright Team"):h.push("Missing libraries:",...[...a].map(e=>"    "+e));throw new Error("\n"+(0,w.wrapInASCIIBox)(h.join("\n"),1))}async function j(e){if(!f.default.existsSync(e))return[];const t=(await f.default.promises.readdir(e)).map(t=>g.default.resolve(e,t)),n=await Promise.all(t.map(e=>f.default.promises.stat(e))),r=t.filter((e,t)=>n[t].isFile());return(await Promise.all(r.map(async e=>(function(e){switch(m.default.platform()){case"linux":return e.endsWith(".so")||e.includes(".so.");case"win32":return e.endsWith(".dll");default:return!1}}(g.default.basename(e).toLowerCase())||!!await T(e))&&e))).filter(Boolean)}const N={"libx264.so":"gstreamer1.0-libav"};function F(e){return e.map(e=>e.includes(" ")?`"${e}"`:e)}async function D(e){return 0===process.getuid?.()?{command:"sh",args:["-c",`${e.join("&& ")}`],elevatedPermissions:!1}:0===(await(0,v.spawnAsync)("which",["sudo"])).code?{command:"sudo",args:["--","sh","-c",`${e.join("&& ")}`],elevatedPermissions:!0}:{command:"su",args:["root","-c",`${e.join("&& ")}`],elevatedPermissions:!0}}},"./node_modules/playwright-core/lib/server/registry/index.js":(e,t,n)=>{"use strict";var r,o=Object.create,i=Object.defineProperty,s=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,l=Object.getPrototypeOf,c=Object.prototype.hasOwnProperty,u=(e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let o of a(t))c.call(e,o)||o===n||i(e,o,{get:()=>t[o],enumerable:!(r=s(t,o))||r.enumerable});return e},d=(e,t,n)=>(n=null!=e?o(l(e)):{},u(!t&&e&&e.__esModule?n:i(n,"default",{value:e,enumerable:!0}),e)),h={};((e,t)=>{for(var n in t)i(e,n,{get:t[n],enumerable:!0})})(h,{Registry:()=>L,browserDirectoryToMarkerFilePath:()=>z,buildPlaywrightCLICommand:()=>H,findChromiumChannelBestEffort:()=>Q,installBrowsersForNpmInstall:()=>U,registry:()=>W,registryDirectory:()=>N,writeDockerVersion:()=>T.writeDockerVersion}),e.exports=(r=h,u(i({},"__esModule",{value:!0}),r));var p=d(n("fs")),f=d(n("os")),m=d(n("path")),g=d(n("util")),b=n("./node_modules/playwright-core/lib/server/registry/browserFetcher.js"),w=n("./node_modules/playwright-core/lib/server/registry/dependencies.js"),y=n("./node_modules/playwright-core/lib/server/registry/dependencies.js"),v=n("./node_modules/playwright-core/lib/utils.js"),A=n("./node_modules/playwright-core/lib/server/utils/ascii.js"),_=n("./node_modules/playwright-core/lib/server/utils/debugLogger.js"),x=n("./node_modules/playwright-core/lib/server/utils/hostPlatform.js"),S=n("./node_modules/playwright-core/lib/server/utils/network.js"),E=n("./node_modules/playwright-core/lib/server/utils/spawnAsync.js"),C=n("./node_modules/playwright-core/lib/server/utils/userAgent.js"),k=n("./node_modules/playwright-core/lib/utilsBundle.js"),O=n("./node_modules/playwright-core/lib/server/utils/fileUtils.js"),T=n("./node_modules/playwright-core/lib/server/registry/dependencies.js");const I=m.default.join(__dirname,"..","..",".."),B=m.default.join(__dirname,"..","..","..","bin"),M=["https://cdn.playwright.dev/dbazure/download/playwright","https://playwright.download.prss.microsoft.com/dbazure/download/playwright","https://cdn.playwright.dev"];if(process.env.PW_TEST_CDN_THAT_SHOULD_WORK)for(let e=0;e<M.length;e++){const t=M[e];if(t!==process.env.PW_TEST_CDN_THAT_SHOULD_WORK){const n=new URL(t);n.hostname=n.hostname+".does-not-resolve.playwright.dev",M[e]=n.toString()}}const P={chromium:{linux:["chrome-linux","chrome"],mac:["chrome-mac","Chromium.app","Contents","MacOS","Chromium"],win:["chrome-win","chrome.exe"]},"chromium-headless-shell":{linux:["chrome-linux","headless_shell"],mac:["chrome-mac","headless_shell"],win:["chrome-win","headless_shell.exe"]},firefox:{linux:["firefox","firefox"],mac:["firefox","Nightly.app","Contents","MacOS","firefox"],win:["firefox","firefox.exe"]},webkit:{linux:["pw_run.sh"],mac:["pw_run.sh"],win:["Playwright.exe"]},ffmpeg:{linux:["ffmpeg-linux"],mac:["ffmpeg-mac"],win:["ffmpeg-win64.exe"]},winldd:{linux:void 0,mac:void 0,win:["PrintDeps.exe"]}},j={chromium:{"<unknown>":void 0,"ubuntu18.04-x64":void 0,"ubuntu20.04-x64":"builds/chromium/%s/chromium-linux.zip","ubuntu22.04-x64":"builds/chromium/%s/chromium-linux.zip","ubuntu24.04-x64":"builds/chromium/%s/chromium-linux.zip","ubuntu18.04-arm64":void 0,"ubuntu20.04-arm64":"builds/chromium/%s/chromium-linux-arm64.zip","ubuntu22.04-arm64":"builds/chromium/%s/chromium-linux-arm64.zip","ubuntu24.04-arm64":"builds/chromium/%s/chromium-linux-arm64.zip","debian11-x64":"builds/chromium/%s/chromium-linux.zip","debian11-arm64":"builds/chromium/%s/chromium-linux-arm64.zip","debian12-x64":"builds/chromium/%s/chromium-linux.zip","debian12-arm64":"builds/chromium/%s/chromium-linux-arm64.zip","debian13-x64":"builds/chromium/%s/chromium-linux.zip","debian13-arm64":"builds/chromium/%s/chromium-linux-arm64.zip","mac10.13":"builds/chromium/%s/chromium-mac.zip","mac10.14":"builds/chromium/%s/chromium-mac.zip","mac10.15":"builds/chromium/%s/chromium-mac.zip",mac11:"builds/chromium/%s/chromium-mac.zip","mac11-arm64":"builds/chromium/%s/chromium-mac-arm64.zip",mac12:"builds/chromium/%s/chromium-mac.zip","mac12-arm64":"builds/chromium/%s/chromium-mac-arm64.zip",mac13:"builds/chromium/%s/chromium-mac.zip","mac13-arm64":"builds/chromium/%s/chromium-mac-arm64.zip",mac14:"builds/chromium/%s/chromium-mac.zip","mac14-arm64":"builds/chromium/%s/chromium-mac-arm64.zip",mac15:"builds/chromium/%s/chromium-mac.zip","mac15-arm64":"builds/chromium/%s/chromium-mac-arm64.zip",win64:"builds/chromium/%s/chromium-win64.zip"},"chromium-headless-shell":{"<unknown>":void 0,"ubuntu18.04-x64":void 0,"ubuntu20.04-x64":"builds/chromium/%s/chromium-headless-shell-linux.zip","ubuntu22.04-x64":"builds/chromium/%s/chromium-headless-shell-linux.zip","ubuntu24.04-x64":"builds/chromium/%s/chromium-headless-shell-linux.zip","ubuntu18.04-arm64":void 0,"ubuntu20.04-arm64":"builds/chromium/%s/chromium-headless-shell-linux-arm64.zip","ubuntu22.04-arm64":"builds/chromium/%s/chromium-headless-shell-linux-arm64.zip","ubuntu24.04-arm64":"builds/chromium/%s/chromium-headless-shell-linux-arm64.zip","debian11-x64":"builds/chromium/%s/chromium-headless-shell-linux.zip","debian11-arm64":"builds/chromium/%s/chromium-headless-shell-linux-arm64.zip","debian12-x64":"builds/chromium/%s/chromium-headless-shell-linux.zip","debian12-arm64":"builds/chromium/%s/chromium-headless-shell-linux-arm64.zip","debian13-x64":"builds/chromium/%s/chromium-headless-shell-linux.zip","debian13-arm64":"builds/chromium/%s/chromium-headless-shell-linux-arm64.zip","mac10.13":void 0,"mac10.14":void 0,"mac10.15":void 0,mac11:"builds/chromium/%s/chromium-headless-shell-mac.zip","mac11-arm64":"builds/chromium/%s/chromium-headless-shell-mac-arm64.zip",mac12:"builds/chromium/%s/chromium-headless-shell-mac.zip","mac12-arm64":"builds/chromium/%s/chromium-headless-shell-mac-arm64.zip",mac13:"builds/chromium/%s/chromium-headless-shell-mac.zip","mac13-arm64":"builds/chromium/%s/chromium-headless-shell-mac-arm64.zip",mac14:"builds/chromium/%s/chromium-headless-shell-mac.zip","mac14-arm64":"builds/chromium/%s/chromium-headless-shell-mac-arm64.zip",mac15:"builds/chromium/%s/chromium-headless-shell-mac.zip","mac15-arm64":"builds/chromium/%s/chromium-headless-shell-mac-arm64.zip",win64:"builds/chromium/%s/chromium-headless-shell-win64.zip"},"chromium-tip-of-tree":{"<unknown>":void 0,"ubuntu18.04-x64":void 0,"ubuntu20.04-x64":"builds/chromium-tip-of-tree/%s/chromium-tip-of-tree-linux.zip","ubuntu22.04-x64":"builds/chromium-tip-of-tree/%s/chromium-tip-of-tree-linux.zip","ubuntu24.04-x64":"builds/chromium-tip-of-tree/%s/chromium-tip-of-tree-linux.zip","ubuntu18.04-arm64":void 0,"ubuntu20.04-arm64":"builds/chromium-tip-of-tree/%s/chromium-tip-of-tree-linux-arm64.zip","ubuntu22.04-arm64":"builds/chromium-tip-of-tree/%s/chromium-tip-of-tree-linux-arm64.zip","ubuntu24.04-arm64":"builds/chromium-tip-of-tree/%s/chromium-tip-of-tree-linux-arm64.zip","debian11-x64":"builds/chromium-tip-of-tree/%s/chromium-tip-of-tree-linux.zip","debian11-arm64":"builds/chromium-tip-of-tree/%s/chromium-tip-of-tree-linux-arm64.zip","debian12-x64":"builds/chromium-tip-of-tree/%s/chromium-tip-of-tree-linux.zip","debian12-arm64":"builds/chromium-tip-of-tree/%s/chromium-tip-of-tree-linux-arm64.zip","debian13-x64":"builds/chromium-tip-of-tree/%s/chromium-tip-of-tree-linux.zip","debian13-arm64":"builds/chromium-tip-of-tree/%s/chromium-tip-of-tree-linux-arm64.zip","mac10.13":"builds/chromium-tip-of-tree/%s/chromium-tip-of-tree-mac.zip","mac10.14":"builds/chromium-tip-of-tree/%s/chromium-tip-of-tree-mac.zip","mac10.15":"builds/chromium-tip-of-tree/%s/chromium-tip-of-tree-mac.zip",mac11:"builds/chromium-tip-of-tree/%s/chromium-tip-of-tree-mac.zip","mac11-arm64":"builds/chromium-tip-of-tree/%s/chromium-tip-of-tree-mac-arm64.zip",mac12:"builds/chromium-tip-of-tree/%s/chromium-tip-of-tree-mac.zip","mac12-arm64":"builds/chromium-tip-of-tree/%s/chromium-tip-of-tree-mac-arm64.zip",mac13:"builds/chromium-tip-of-tree/%s/chromium-tip-of-tree-mac.zip","mac13-arm64":"builds/chromium-tip-of-tree/%s/chromium-tip-of-tree-mac-arm64.zip",mac14:"builds/chromium-tip-of-tree/%s/chromium-tip-of-tree-mac.zip","mac14-arm64":"builds/chromium-tip-of-tree/%s/chromium-tip-of-tree-mac-arm64.zip",mac15:"builds/chromium-tip-of-tree/%s/chromium-tip-of-tree-mac.zip","mac15-arm64":"builds/chromium-tip-of-tree/%s/chromium-tip-of-tree-mac-arm64.zip",win64:"builds/chromium-tip-of-tree/%s/chromium-tip-of-tree-win64.zip"},"chromium-tip-of-tree-headless-shell":{"<unknown>":void 0,"ubuntu18.04-x64":void 0,"ubuntu20.04-x64":"builds/chromium-tip-of-tree/%s/chromium-tip-of-tree-headless-shell-linux.zip","ubuntu22.04-x64":"builds/chromium-tip-of-tree/%s/chromium-tip-of-tree-headless-shell-linux.zip","ubuntu24.04-x64":"builds/chromium-tip-of-tree/%s/chromium-tip-of-tree-headless-shell-linux.zip","ubuntu18.04-arm64":void 0,"ubuntu20.04-arm64":"builds/chromium-tip-of-tree/%s/chromium-tip-of-tree-headless-shell-linux-arm64.zip","ubuntu22.04-arm64":"builds/chromium-tip-of-tree/%s/chromium-tip-of-tree-headless-shell-linux-arm64.zip","ubuntu24.04-arm64":"builds/chromium-tip-of-tree/%s/chromium-tip-of-tree-headless-shell-linux-arm64.zip","debian11-x64":"builds/chromium-tip-of-tree/%s/chromium-tip-of-tree-headless-shell-linux.zip","debian11-arm64":"builds/chromium-tip-of-tree/%s/chromium-tip-of-tree-headless-shell-linux-arm64.zip","debian12-x64":"builds/chromium-tip-of-tree/%s/chromium-tip-of-tree-headless-shell-linux.zip","debian12-arm64":"builds/chromium-tip-of-tree/%s/chromium-tip-of-tree-headless-shell-linux-arm64.zip","debian13-x64":"builds/chromium-tip-of-tree/%s/chromium-tip-of-tree-headless-shell-linux.zip","debian13-arm64":"builds/chromium-tip-of-tree/%s/chromium-tip-of-tree-headless-shell-linux-arm64.zip","mac10.13":void 0,"mac10.14":void 0,"mac10.15":void 0,mac11:"builds/chromium-tip-of-tree/%s/chromium-tip-of-tree-headless-shell-mac.zip","mac11-arm64":"builds/chromium-tip-of-tree/%s/chromium-tip-of-tree-headless-shell-mac-arm64.zip",mac12:"builds/chromium-tip-of-tree/%s/chromium-tip-of-tree-headless-shell-mac.zip","mac12-arm64":"builds/chromium-tip-of-tree/%s/chromium-tip-of-tree-headless-shell-mac-arm64.zip",mac13:"builds/chromium-tip-of-tree/%s/chromium-tip-of-tree-headless-shell-mac.zip","mac13-arm64":"builds/chromium-tip-of-tree/%s/chromium-tip-of-tree-headless-shell-mac-arm64.zip",mac14:"builds/chromium-tip-of-tree/%s/chromium-tip-of-tree-headless-shell-mac.zip","mac14-arm64":"builds/chromium-tip-of-tree/%s/chromium-tip-of-tree-headless-shell-mac-arm64.zip",mac15:"builds/chromium-tip-of-tree/%s/chromium-tip-of-tree-headless-shell-mac.zip","mac15-arm64":"builds/chromium-tip-of-tree/%s/chromium-tip-of-tree-headless-shell-mac-arm64.zip",win64:"builds/chromium-tip-of-tree/%s/chromium-tip-of-tree-headless-shell-win64.zip"},firefox:{"<unknown>":void 0,"ubuntu18.04-x64":void 0,"ubuntu20.04-x64":"builds/firefox/%s/firefox-ubuntu-20.04.zip","ubuntu22.04-x64":"builds/firefox/%s/firefox-ubuntu-22.04.zip","ubuntu24.04-x64":"builds/firefox/%s/firefox-ubuntu-24.04.zip","ubuntu18.04-arm64":void 0,"ubuntu20.04-arm64":"builds/firefox/%s/firefox-ubuntu-20.04-arm64.zip","ubuntu22.04-arm64":"builds/firefox/%s/firefox-ubuntu-22.04-arm64.zip","ubuntu24.04-arm64":"builds/firefox/%s/firefox-ubuntu-24.04-arm64.zip","debian11-x64":"builds/firefox/%s/firefox-debian-11.zip","debian11-arm64":"builds/firefox/%s/firefox-debian-11-arm64.zip","debian12-x64":"builds/firefox/%s/firefox-debian-12.zip","debian12-arm64":"builds/firefox/%s/firefox-debian-12-arm64.zip","debian13-x64":"builds/firefox/%s/firefox-debian-13.zip","debian13-arm64":"builds/firefox/%s/firefox-debian-13-arm64.zip","mac10.13":"builds/firefox/%s/firefox-mac.zip","mac10.14":"builds/firefox/%s/firefox-mac.zip","mac10.15":"builds/firefox/%s/firefox-mac.zip",mac11:"builds/firefox/%s/firefox-mac.zip","mac11-arm64":"builds/firefox/%s/firefox-mac-arm64.zip",mac12:"builds/firefox/%s/firefox-mac.zip","mac12-arm64":"builds/firefox/%s/firefox-mac-arm64.zip",mac13:"builds/firefox/%s/firefox-mac.zip","mac13-arm64":"builds/firefox/%s/firefox-mac-arm64.zip",mac14:"builds/firefox/%s/firefox-mac.zip","mac14-arm64":"builds/firefox/%s/firefox-mac-arm64.zip",mac15:"builds/firefox/%s/firefox-mac.zip","mac15-arm64":"builds/firefox/%s/firefox-mac-arm64.zip",win64:"builds/firefox/%s/firefox-win64.zip"},"firefox-beta":{"<unknown>":void 0,"ubuntu18.04-x64":void 0,"ubuntu20.04-x64":"builds/firefox-beta/%s/firefox-beta-ubuntu-20.04.zip","ubuntu22.04-x64":"builds/firefox-beta/%s/firefox-beta-ubuntu-22.04.zip","ubuntu24.04-x64":"builds/firefox-beta/%s/firefox-beta-ubuntu-24.04.zip","ubuntu18.04-arm64":void 0,"ubuntu20.04-arm64":void 0,"ubuntu22.04-arm64":"builds/firefox-beta/%s/firefox-beta-ubuntu-22.04-arm64.zip","ubuntu24.04-arm64":"builds/firefox-beta/%s/firefox-beta-ubuntu-24.04-arm64.zip","debian11-x64":"builds/firefox-beta/%s/firefox-beta-debian-11.zip","debian11-arm64":"builds/firefox-beta/%s/firefox-beta-debian-11-arm64.zip","debian12-x64":"builds/firefox-beta/%s/firefox-beta-debian-12.zip","debian12-arm64":"builds/firefox-beta/%s/firefox-beta-debian-12-arm64.zip","debian13-x64":"builds/firefox-beta/%s/firefox-beta-debian-12.zip","debian13-arm64":"builds/firefox-beta/%s/firefox-beta-debian-12-arm64.zip","mac10.13":"builds/firefox-beta/%s/firefox-beta-mac.zip","mac10.14":"builds/firefox-beta/%s/firefox-beta-mac.zip","mac10.15":"builds/firefox-beta/%s/firefox-beta-mac.zip",mac11:"builds/firefox-beta/%s/firefox-beta-mac.zip","mac11-arm64":"builds/firefox-beta/%s/firefox-beta-mac-arm64.zip",mac12:"builds/firefox-beta/%s/firefox-beta-mac.zip","mac12-arm64":"builds/firefox-beta/%s/firefox-beta-mac-arm64.zip",mac13:"builds/firefox-beta/%s/firefox-beta-mac.zip","mac13-arm64":"builds/firefox-beta/%s/firefox-beta-mac-arm64.zip",mac14:"builds/firefox-beta/%s/firefox-beta-mac.zip","mac14-arm64":"builds/firefox-beta/%s/firefox-beta-mac-arm64.zip",mac15:"builds/firefox-beta/%s/firefox-beta-mac.zip","mac15-arm64":"builds/firefox-beta/%s/firefox-beta-mac-arm64.zip",win64:"builds/firefox-beta/%s/firefox-beta-win64.zip"},webkit:{"<unknown>":void 0,"ubuntu18.04-x64":void 0,"ubuntu20.04-x64":"builds/webkit/%s/webkit-ubuntu-20.04.zip","ubuntu22.04-x64":"builds/webkit/%s/webkit-ubuntu-22.04.zip","ubuntu24.04-x64":"builds/webkit/%s/webkit-ubuntu-24.04.zip","ubuntu18.04-arm64":void 0,"ubuntu20.04-arm64":"builds/webkit/%s/webkit-ubuntu-20.04-arm64.zip","ubuntu22.04-arm64":"builds/webkit/%s/webkit-ubuntu-22.04-arm64.zip","ubuntu24.04-arm64":"builds/webkit/%s/webkit-ubuntu-24.04-arm64.zip","debian11-x64":"builds/webkit/%s/webkit-debian-11.zip","debian11-arm64":"builds/webkit/%s/webkit-debian-11-arm64.zip","debian12-x64":"builds/webkit/%s/webkit-debian-12.zip","debian12-arm64":"builds/webkit/%s/webkit-debian-12-arm64.zip","debian13-x64":"builds/webkit/%s/webkit-debian-13.zip","debian13-arm64":"builds/webkit/%s/webkit-debian-13-arm64.zip","mac10.13":void 0,"mac10.14":"builds/deprecated-webkit-mac-10.14/%s/deprecated-webkit-mac-10.14.zip","mac10.15":"builds/deprecated-webkit-mac-10.15/%s/deprecated-webkit-mac-10.15.zip",mac11:"builds/webkit/%s/webkit-mac-11.zip","mac11-arm64":"builds/webkit/%s/webkit-mac-11-arm64.zip",mac12:"builds/webkit/%s/webkit-mac-12.zip","mac12-arm64":"builds/webkit/%s/webkit-mac-12-arm64.zip",mac13:"builds/webkit/%s/webkit-mac-13.zip","mac13-arm64":"builds/webkit/%s/webkit-mac-13-arm64.zip",mac14:"builds/webkit/%s/webkit-mac-14.zip","mac14-arm64":"builds/webkit/%s/webkit-mac-14-arm64.zip",mac15:"builds/webkit/%s/webkit-mac-15.zip","mac15-arm64":"builds/webkit/%s/webkit-mac-15-arm64.zip",win64:"builds/webkit/%s/webkit-win64.zip"},ffmpeg:{"<unknown>":void 0,"ubuntu18.04-x64":void 0,"ubuntu20.04-x64":"builds/ffmpeg/%s/ffmpeg-linux.zip","ubuntu22.04-x64":"builds/ffmpeg/%s/ffmpeg-linux.zip","ubuntu24.04-x64":"builds/ffmpeg/%s/ffmpeg-linux.zip","ubuntu18.04-arm64":void 0,"ubuntu20.04-arm64":"builds/ffmpeg/%s/ffmpeg-linux-arm64.zip","ubuntu22.04-arm64":"builds/ffmpeg/%s/ffmpeg-linux-arm64.zip","ubuntu24.04-arm64":"builds/ffmpeg/%s/ffmpeg-linux-arm64.zip","debian11-x64":"builds/ffmpeg/%s/ffmpeg-linux.zip","debian11-arm64":"builds/ffmpeg/%s/ffmpeg-linux-arm64.zip","debian12-x64":"builds/ffmpeg/%s/ffmpeg-linux.zip","debian12-arm64":"builds/ffmpeg/%s/ffmpeg-linux-arm64.zip","debian13-x64":"builds/ffmpeg/%s/ffmpeg-linux.zip","debian13-arm64":"builds/ffmpeg/%s/ffmpeg-linux-arm64.zip","mac10.13":"builds/ffmpeg/%s/ffmpeg-mac.zip","mac10.14":"builds/ffmpeg/%s/ffmpeg-mac.zip","mac10.15":"builds/ffmpeg/%s/ffmpeg-mac.zip",mac11:"builds/ffmpeg/%s/ffmpeg-mac.zip","mac11-arm64":"builds/ffmpeg/%s/ffmpeg-mac-arm64.zip",mac12:"builds/ffmpeg/%s/ffmpeg-mac.zip","mac12-arm64":"builds/ffmpeg/%s/ffmpeg-mac-arm64.zip",mac13:"builds/ffmpeg/%s/ffmpeg-mac.zip","mac13-arm64":"builds/ffmpeg/%s/ffmpeg-mac-arm64.zip",mac14:"builds/ffmpeg/%s/ffmpeg-mac.zip","mac14-arm64":"builds/ffmpeg/%s/ffmpeg-mac-arm64.zip",mac15:"builds/ffmpeg/%s/ffmpeg-mac.zip","mac15-arm64":"builds/ffmpeg/%s/ffmpeg-mac-arm64.zip",win64:"builds/ffmpeg/%s/ffmpeg-win64.zip"},winldd:{"<unknown>":void 0,"ubuntu18.04-x64":void 0,"ubuntu20.04-x64":void 0,"ubuntu22.04-x64":void 0,"ubuntu24.04-x64":void 0,"ubuntu18.04-arm64":void 0,"ubuntu20.04-arm64":void 0,"ubuntu22.04-arm64":void 0,"ubuntu24.04-arm64":void 0,"debian11-x64":void 0,"debian11-arm64":void 0,"debian12-x64":void 0,"debian12-arm64":void 0,"debian13-x64":void 0,"debian13-arm64":void 0,"mac10.13":void 0,"mac10.14":void 0,"mac10.15":void 0,mac11:void 0,"mac11-arm64":void 0,mac12:void 0,"mac12-arm64":void 0,mac13:void 0,"mac13-arm64":void 0,mac14:void 0,"mac14-arm64":void 0,mac15:void 0,"mac15-arm64":void 0,win64:"builds/winldd/%s/winldd-win64.zip"},android:{"<unknown>":"builds/android/%s/android.zip","ubuntu18.04-x64":void 0,"ubuntu20.04-x64":"builds/android/%s/android.zip","ubuntu22.04-x64":"builds/android/%s/android.zip","ubuntu24.04-x64":"builds/android/%s/android.zip","ubuntu18.04-arm64":void 0,"ubuntu20.04-arm64":"builds/android/%s/android.zip","ubuntu22.04-arm64":"builds/android/%s/android.zip","ubuntu24.04-arm64":"builds/android/%s/android.zip","debian11-x64":"builds/android/%s/android.zip","debian11-arm64":"builds/android/%s/android.zip","debian12-x64":"builds/android/%s/android.zip","debian12-arm64":"builds/android/%s/android.zip","debian13-x64":"builds/android/%s/android.zip","debian13-arm64":"builds/android/%s/android.zip","mac10.13":"builds/android/%s/android.zip","mac10.14":"builds/android/%s/android.zip","mac10.15":"builds/android/%s/android.zip",mac11:"builds/android/%s/android.zip","mac11-arm64":"builds/android/%s/android.zip",mac12:"builds/android/%s/android.zip","mac12-arm64":"builds/android/%s/android.zip",mac13:"builds/android/%s/android.zip","mac13-arm64":"builds/android/%s/android.zip",mac14:"builds/android/%s/android.zip","mac14-arm64":"builds/android/%s/android.zip",mac15:"builds/android/%s/android.zip","mac15-arm64":"builds/android/%s/android.zip",win64:"builds/android/%s/android.zip"},_bidiFirefox:{},_bidiChromium:{}},N=(()=>{let e;const t=(0,v.getFromENV)("PLAYWRIGHT_BROWSERS_PATH");if("0"===t)e=m.default.join(__dirname,"..","..","..",".local-browsers");else if(t)e=t;else{let t;if("linux"===process.platform)t=process.env.XDG_CACHE_HOME||m.default.join(f.default.homedir(),".cache");else if("darwin"===process.platform)t=m.default.join(f.default.homedir(),"Library","Caches");else{if("win32"!==process.platform)throw new Error("Unsupported platform: "+process.platform);t=process.env.LOCALAPPDATA||m.default.join(f.default.homedir(),"AppData","Local")}e=m.default.join(t,"ms-playwright")}return m.default.isAbsolute(e)||(e=m.default.resolve((0,v.getFromENV)("INIT_CWD")||process.cwd(),e)),e})();function F(e){const t=m.default.basename(e);for(const e of R)if(t.startsWith(e.replace(/-/g,"_")+"-"))return!0;return!1}function D(e){return e.browsers.map(e=>{const t=e.name,n=(e.revisionOverrides||{})[x.hostPlatform],r=n||e.revision,o=n?`${t}_${x.hostPlatform}_special`:`${t}`;return{name:t,revision:r,hasRevisionOverride:!!n,browserVersion:n?void 0:e.browserVersion,installByDefault:!!e.installByDefault,dir:m.default.join(N,o.replace(/-/g,"_")+"-"+r)}})}const R=["android","chromium","firefox","webkit","ffmpeg","firefox-beta","chromium-tip-of-tree","chromium-headless-shell","chromium-tip-of-tree-headless-shell"];class L{constructor(e){const t=D(e),n=(e,t)=>{let n;return"linux"===process.platform?n=P[t].linux:"darwin"===process.platform?n=P[t].mac:"win32"===process.platform&&(n=P[t].win),n?m.default.join(e,...n):void 0},r=(e,t,n,r)=>{if(!t)throw new Error(`${e} is not supported on ${x.hostPlatform}`);const o=H(r,"install"+(n?"":" "+e));if(!(0,O.canAccessFile)(t)){const e=(0,w.readDockerVersionSync)(),i=e?(0,w.dockerVersion)(e.dockerImageNameTemplate):null,s=e&&i&&e.dockerImageName!==i.dockerImageName?[`Looks like ${"javascript"===r?"Playwright Test or ":""}Playwright was just updated to ${i.driverVersion}.`,"Please update docker image as well.",`-  current: ${e.dockerImageName}`,`- required: ${i.dockerImageName}`,"","<3 Playwright Team"].join("\n"):[`Looks like ${"javascript"===r?"Playwright Test or ":""}Playwright was just installed or updated.`,`Please run the following command to download new browser${n?"s":""}:`,"",`    ${o}`,"","<3 Playwright Team"].join("\n");throw new Error(`Executable doesn't exist at ${t}\n${(0,A.wrapInASCIIBox)(s,1)}`)}return t};this._executables=[];const o=t.find(e=>"chromium"===e.name),i=n(o.dir,"chromium");this._executables.push({type:"browser",name:"chromium",browserName:"chromium",directory:o.dir,executablePath:()=>i,executablePathOrDie:e=>r("chromium",i,o.installByDefault,e),installType:o.installByDefault?"download-by-default":"download-on-demand",_validateHostRequirements:e=>this._validateHostRequirements(e,o.dir,["chrome-linux"],[],["chrome-win"]),downloadURLs:this._downloadURLs(o),browserVersion:o.browserVersion,_install:()=>this._downloadExecutable(o,i),_dependencyGroup:"chromium",_isHermeticInstallation:!0});const s=t.find(e=>"chromium-headless-shell"===e.name),a=n(s.dir,"chromium-headless-shell");this._executables.push({type:"channel",name:"chromium-headless-shell",browserName:"chromium",directory:s.dir,executablePath:()=>a,executablePathOrDie:e=>r("chromium",a,s.installByDefault,e),installType:s.installByDefault?"download-by-default":"download-on-demand",_validateHostRequirements:e=>this._validateHostRequirements(e,s.dir,["chrome-linux"],[],["chrome-win"]),downloadURLs:this._downloadURLs(s),browserVersion:o.browserVersion,_install:()=>this._downloadExecutable(s,a),_dependencyGroup:"chromium",_isHermeticInstallation:!0});const l=t.find(e=>"chromium-tip-of-tree-headless-shell"===e.name),c=n(l.dir,"chromium-headless-shell");this._executables.push({type:"channel",name:"chromium-tip-of-tree-headless-shell",browserName:"chromium",directory:l.dir,executablePath:()=>c,executablePathOrDie:e=>r("chromium",c,l.installByDefault,e),installType:l.installByDefault?"download-by-default":"download-on-demand",_validateHostRequirements:e=>this._validateHostRequirements(e,l.dir,["chrome-linux"],[],["chrome-win"]),downloadURLs:this._downloadURLs(l),browserVersion:o.browserVersion,_install:()=>this._downloadExecutable(l,c),_dependencyGroup:"chromium",_isHermeticInstallation:!0});const u=t.find(e=>"chromium-tip-of-tree"===e.name),d=n(u.dir,"chromium");this._executables.push({type:"tool",name:"chromium-tip-of-tree",browserName:"chromium",directory:u.dir,executablePath:()=>d,executablePathOrDie:e=>r("chromium-tip-of-tree",d,u.installByDefault,e),installType:u.installByDefault?"download-by-default":"download-on-demand",_validateHostRequirements:e=>this._validateHostRequirements(e,u.dir,["chrome-linux"],[],["chrome-win"]),downloadURLs:this._downloadURLs(u),browserVersion:u.browserVersion,_install:()=>this._downloadExecutable(u,d),_dependencyGroup:"chromium",_isHermeticInstallation:!0}),this._executables.push(this._createChromiumChannel("chrome",{linux:"/opt/google/chrome/chrome",darwin:"/Applications/Google Chrome.app/Contents/MacOS/Google Chrome",win32:"\\Google\\Chrome\\Application\\chrome.exe"},()=>this._installChromiumChannel("chrome",{linux:"reinstall_chrome_stable_linux.sh",darwin:"reinstall_chrome_stable_mac.sh",win32:"reinstall_chrome_stable_win.ps1"}))),this._executables.push(this._createChromiumChannel("chrome-beta",{linux:"/opt/google/chrome-beta/chrome",darwin:"/Applications/Google Chrome Beta.app/Contents/MacOS/Google Chrome Beta",win32:"\\Google\\Chrome Beta\\Application\\chrome.exe"},()=>this._installChromiumChannel("chrome-beta",{linux:"reinstall_chrome_beta_linux.sh",darwin:"reinstall_chrome_beta_mac.sh",win32:"reinstall_chrome_beta_win.ps1"}))),this._executables.push(this._createChromiumChannel("chrome-dev",{linux:"/opt/google/chrome-unstable/chrome",darwin:"/Applications/Google Chrome Dev.app/Contents/MacOS/Google Chrome Dev",win32:"\\Google\\Chrome Dev\\Application\\chrome.exe"})),this._executables.push(this._createChromiumChannel("chrome-canary",{linux:"/opt/google/chrome-canary/chrome",darwin:"/Applications/Google Chrome Canary.app/Contents/MacOS/Google Chrome Canary",win32:"\\Google\\Chrome SxS\\Application\\chrome.exe"})),this._executables.push(this._createChromiumChannel("msedge",{linux:"/opt/microsoft/msedge/msedge",darwin:"/Applications/Microsoft Edge.app/Contents/MacOS/Microsoft Edge",win32:"\\Microsoft\\Edge\\Application\\msedge.exe"},()=>this._installMSEdgeChannel("msedge",{linux:"reinstall_msedge_stable_linux.sh",darwin:"reinstall_msedge_stable_mac.sh",win32:"reinstall_msedge_stable_win.ps1"}))),this._executables.push(this._createChromiumChannel("msedge-beta",{linux:"/opt/microsoft/msedge-beta/msedge",darwin:"/Applications/Microsoft Edge Beta.app/Contents/MacOS/Microsoft Edge Beta",win32:"\\Microsoft\\Edge Beta\\Application\\msedge.exe"},()=>this._installMSEdgeChannel("msedge-beta",{darwin:"reinstall_msedge_beta_mac.sh",linux:"reinstall_msedge_beta_linux.sh",win32:"reinstall_msedge_beta_win.ps1"}))),this._executables.push(this._createChromiumChannel("msedge-dev",{linux:"/opt/microsoft/msedge-dev/msedge",darwin:"/Applications/Microsoft Edge Dev.app/Contents/MacOS/Microsoft Edge Dev",win32:"\\Microsoft\\Edge Dev\\Application\\msedge.exe"},()=>this._installMSEdgeChannel("msedge-dev",{darwin:"reinstall_msedge_dev_mac.sh",linux:"reinstall_msedge_dev_linux.sh",win32:"reinstall_msedge_dev_win.ps1"}))),this._executables.push(this._createChromiumChannel("msedge-canary",{linux:"",darwin:"/Applications/Microsoft Edge Canary.app/Contents/MacOS/Microsoft Edge Canary",win32:"\\Microsoft\\Edge SxS\\Application\\msedge.exe"})),this._executables.push(this._createBidiFirefoxChannel("moz-firefox",{linux:"/snap/bin/firefox",darwin:"/Applications/Firefox.app/Contents/MacOS/firefox",win32:"\\Mozilla Firefox\\firefox.exe"})),this._executables.push(this._createBidiFirefoxChannel("moz-firefox-beta",{linux:"/opt/firefox-beta/firefox",darwin:"/Applications/Firefox.app/Contents/MacOS/firefox",win32:"\\Mozilla Firefox\\firefox.exe"})),this._executables.push(this._createBidiFirefoxChannel("moz-firefox-nightly",{linux:"/opt/firefox-nightly/firefox",darwin:"/Applications/Firefox Nightly.app/Contents/MacOS/firefox",win32:"\\Mozilla Firefox\\firefox.exe"})),this._executables.push(this._createBidiChromiumChannel("bidi-chrome-stable",{linux:"/opt/google/chrome/chrome",darwin:"/Applications/Google Chrome.app/Contents/MacOS/Google Chrome",win32:"\\Google\\Chrome\\Application\\chrome.exe"})),this._executables.push(this._createBidiChromiumChannel("bidi-chrome-canary",{linux:"/opt/google/chrome-canary/chrome",darwin:"/Applications/Google Chrome Canary.app/Contents/MacOS/Google Chrome Canary",win32:"\\Google\\Chrome SxS\\Application\\chrome.exe"})),this._executables.push({type:"browser",name:"_bidiChromium",browserName:"_bidiChromium",directory:o.dir,executablePath:()=>i,executablePathOrDie:e=>r("chromium",i,o.installByDefault,e),installType:"download-on-demand",_validateHostRequirements:e=>this._validateHostRequirements(e,o.dir,["chrome-linux"],[],["chrome-win"]),downloadURLs:this._downloadURLs(o),browserVersion:o.browserVersion,_install:()=>this._downloadExecutable(o,i),_dependencyGroup:"chromium",_isHermeticInstallation:!0});const h=t.find(e=>"firefox"===e.name),p=n(h.dir,"firefox");this._executables.push({type:"browser",name:"firefox",browserName:"firefox",directory:h.dir,executablePath:()=>p,executablePathOrDie:e=>r("firefox",p,h.installByDefault,e),installType:h.installByDefault?"download-by-default":"download-on-demand",_validateHostRequirements:e=>this._validateHostRequirements(e,h.dir,["firefox"],[],["firefox"]),downloadURLs:this._downloadURLs(h),browserVersion:h.browserVersion,_install:()=>this._downloadExecutable(h,p),_dependencyGroup:"firefox",_isHermeticInstallation:!0});const f=t.find(e=>"firefox-beta"===e.name),g=n(f.dir,"firefox");this._executables.push({type:"tool",name:"firefox-beta",browserName:"firefox",directory:f.dir,executablePath:()=>g,executablePathOrDie:e=>r("firefox-beta",g,f.installByDefault,e),installType:f.installByDefault?"download-by-default":"download-on-demand",_validateHostRequirements:e=>this._validateHostRequirements(e,f.dir,["firefox"],[],["firefox"]),downloadURLs:this._downloadURLs(f),browserVersion:f.browserVersion,_install:()=>this._downloadExecutable(f,g),_dependencyGroup:"firefox",_isHermeticInstallation:!0});const b=t.find(e=>"webkit"===e.name),y=n(b.dir,"webkit"),v=[m.default.join("minibrowser-gtk"),m.default.join("minibrowser-gtk","bin"),m.default.join("minibrowser-gtk","lib"),m.default.join("minibrowser-gtk","sys","lib"),m.default.join("minibrowser-wpe"),m.default.join("minibrowser-wpe","bin"),m.default.join("minibrowser-wpe","lib"),m.default.join("minibrowser-wpe","sys","lib")];this._executables.push({type:"browser",name:"webkit",browserName:"webkit",directory:b.dir,executablePath:()=>y,executablePathOrDie:e=>r("webkit",y,b.installByDefault,e),installType:b.installByDefault?"download-by-default":"download-on-demand",_validateHostRequirements:e=>this._validateHostRequirements(e,b.dir,v,["libGLESv2.so.2","libx264.so"],[""]),downloadURLs:this._downloadURLs(b),browserVersion:b.browserVersion,_install:()=>this._downloadExecutable(b,y),_dependencyGroup:"webkit",_isHermeticInstallation:!0}),this._executables.push({type:"channel",name:"webkit-wsl",browserName:"webkit",directory:b.dir,executablePath:()=>process.execPath,executablePathOrDie:()=>process.execPath,wslExecutablePath:`/home/pwuser/.cache/ms-playwright/webkit-${b.revision}/pw_run.sh`,installType:"download-on-demand",_validateHostRequirements:e=>Promise.resolve(),_isHermeticInstallation:!0,_install:async()=>{if("win32"!==process.platform)throw new Error("WebKit via WSL is only supported on Windows");const e=m.default.join(B,"install_webkit_wsl.ps1"),{code:t}=await(0,E.spawnAsync)("powershell.exe",["-ExecutionPolicy","Bypass","-File",e],{stdio:"inherit"});if(0!==t)throw new Error("Failed to install WebKit via WSL")}});const _=t.find(e=>"ffmpeg"===e.name),S=n(_.dir,"ffmpeg");this._executables.push({type:"tool",name:"ffmpeg",browserName:void 0,directory:_.dir,executablePath:()=>S,executablePathOrDie:e=>r("ffmpeg",S,_.installByDefault,e),installType:_.installByDefault?"download-by-default":"download-on-demand",_validateHostRequirements:()=>Promise.resolve(),downloadURLs:this._downloadURLs(_),_install:()=>this._downloadExecutable(_,S),_dependencyGroup:"tools",_isHermeticInstallation:!0});const C=t.find(e=>"winldd"===e.name),k=n(C.dir,"winldd");this._executables.push({type:"tool",name:"winldd",browserName:void 0,directory:C.dir,executablePath:()=>k,executablePathOrDie:e=>r("winldd",k,C.installByDefault,e),installType:"win32"===process.platform?"download-by-default":"none",_validateHostRequirements:()=>Promise.resolve(),downloadURLs:this._downloadURLs(C),_install:()=>this._downloadExecutable(C,k),_dependencyGroup:"tools",_isHermeticInstallation:!0});const T=t.find(e=>"android"===e.name);this._executables.push({type:"tool",name:"android",browserName:void 0,directory:T.dir,executablePath:()=>{},executablePathOrDie:()=>"",installType:"download-on-demand",_validateHostRequirements:()=>Promise.resolve(),downloadURLs:this._downloadURLs(T),_install:()=>this._downloadExecutable(T),_dependencyGroup:"tools",_isHermeticInstallation:!0})}_createChromiumChannel(e,t,n){const r=(r,o)=>{const i=t[process.platform];if(!i){if(o)throw new Error(`Chromium distribution '${e}' is not supported on ${process.platform}`);return}const s="win32"===process.platform?[process.env.LOCALAPPDATA,process.env.PROGRAMFILES,process.env["PROGRAMFILES(X86)"],process.env.HOMEDRIVE+"\\Program Files",process.env.HOMEDRIVE+"\\Program Files (x86)"].filter(Boolean):[""];for(const e of s){const t=m.default.join(e,i);if((0,O.canAccessFile)(t))return t}if(!o)return;const a=s.length?` at ${m.default.join(s[0],i)}`:"",l=n?`\nRun "${H(r,"install "+e)}"`:"";throw new Error(`Chromium distribution '${e}' is not found${a}${l}`)};return{type:"channel",name:e,browserName:"chromium",directory:void 0,executablePath:e=>r(e,!1),executablePathOrDie:e=>r(e,!0),installType:n?"install-script":"none",_validateHostRequirements:()=>Promise.resolve(),_isHermeticInstallation:!1,_install:n}}_createBidiFirefoxChannel(e,t,n){const r=(n,r)=>{const o=t[process.platform];if(!o){if(r)throw new Error(`Firefox distribution '${e}' is not supported on ${process.platform}`);return}const i="win32"===process.platform?[process.env.LOCALAPPDATA,process.env.PROGRAMFILES,process.env["PROGRAMFILES(X86)"],process.env.HOMEDRIVE+"\\Program Files",process.env.HOMEDRIVE+"\\Program Files (x86)"].filter(Boolean):[""];for(const e of i){const t=m.default.join(e,o);if((0,O.canAccessFile)(t))return t}if(r)throw new Error(`Cannot find Firefox installation for channel '${e}' at the standard system paths.`)};return{type:"channel",name:e,browserName:"_bidiFirefox",directory:void 0,executablePath:e=>r(0,!1),executablePathOrDie:e=>r(0,!0),installType:"none",_validateHostRequirements:()=>Promise.resolve(),_isHermeticInstallation:!0,_install:n}}_createBidiChromiumChannel(e,t,n){const r=(r,o)=>{const i=t[process.platform];if(!i){if(o)throw new Error(`Chromium distribution '${e}' is not supported on ${process.platform}`);return}const s="win32"===process.platform?[process.env.LOCALAPPDATA,process.env.PROGRAMFILES,process.env["PROGRAMFILES(X86)"],process.env.HOMEDRIVE+"\\Program Files",process.env.HOMEDRIVE+"\\Program Files (x86)"].filter(Boolean):[""];for(const e of s){const t=m.default.join(e,i);if((0,O.canAccessFile)(t))return t}if(!o)return;const a=s.length?` at ${m.default.join(s[0],i)}`:"",l=n?`\nRun "${H(r,"install "+e)}"`:"";throw new Error(`Chromium distribution '${e}' is not found${a}${l}`)};return{type:"channel",name:e,browserName:"_bidiChromium",directory:void 0,executablePath:e=>r(e,!1),executablePathOrDie:e=>r(e,!0),installType:n?"install-script":"none",_validateHostRequirements:()=>Promise.resolve(),_isHermeticInstallation:!1,_install:n}}executables(){return this._executables}findExecutable(e){return this._executables.find(t=>t.name===e)}defaultExecutables(){return this._executables.filter(e=>"download-by-default"===e.installType)}_dedupe(e){return Array.from(new Set(e))}async _validateHostRequirements(e,t,n,r,o){return"linux"===f.default.platform()?await(0,y.validateDependenciesLinux)(e,n.map(e=>m.default.join(t,e)),r):"win32"===f.default.platform()&&"x64"===f.default.arch()?await(0,y.validateDependenciesWindows)(e,o.map(e=>m.default.join(t,e))):void 0}async installDeps(e,t){const n=this._dedupe(e),r=new Set;for(const e of n)e._dependencyGroup&&r.add(e._dependencyGroup);return r.add("tools"),"win32"===f.default.platform()?await(0,y.installDependenciesWindows)(r,t):"linux"===f.default.platform()?await(0,y.installDependenciesLinux)(r,t):void 0}async install(e,t){const n=this._dedupe(e);await p.default.promises.mkdir(N,{recursive:!0});const r=m.default.join(N,"__dirlock"),o=m.default.join(N,".links");let i;try{i=await k.lockfile.lock(N,{retries:{retries:20,factor:1.27579},onCompromised:e=>{throw new Error(`${e.message} Path: ${r}`)},lockfilePath:r}),await p.default.promises.mkdir(o,{recursive:!0}),await p.default.promises.writeFile(m.default.join(o,(0,v.calculateSha1)(I)),I),(0,v.getAsBooleanFromENV)("PLAYWRIGHT_SKIP_BROWSER_GC")||await this._validateInstallationCache(o);for(const e of n){if(!e._install)throw new Error(`ERROR: Playwright does not support installing ${e.name}`);const{embedderName:n}=(0,C.getEmbedderName)();if(!(0,v.getAsBooleanFromENV)("CI")&&!e._isHermeticInstallation&&!t&&e.executablePath(n)){const t=H(n,"install --force "+e.name);return void process.stderr.write("\n"+(0,A.wrapInASCIIBox)([`ATTENTION: "${e.name}" is already installed on the system!`,"",`"${e.name}" installation is not hermetic; installing newer version`,"requires *removal* of a current installation first.","",`To *uninstall* current version and re-install latest "${e.name}":`,"",`- Close all running instances of "${e.name}", if any`,'- Use "--force" to install browser:',"",`    ${t}`,"","<3 Playwright Team"].join("\n"),1)+"\n\n")}await e._install()}}catch(e){if("ELOCKED"===e.code){const e="win32"===process.platform?"rm -R":"rm -rf";throw new Error("\n"+(0,A.wrapInASCIIBox)(["An active lockfile is found at:","",`  ${r}`,"","Either:","- wait a few minutes if other Playwright is installing browsers in parallel","- remove lock manually with:","",`    ${e} ${r}`,"","<3 Playwright Team"].join("\n"),1))}throw e}finally{i&&await i()}}async uninstall(e){const t=m.default.join(N,".links");if(e){const e=await p.default.promises.readdir(t).catch(()=>[]);for(const n of e)await p.default.promises.unlink(m.default.join(t,n))}else await p.default.promises.unlink(m.default.join(t,(0,v.calculateSha1)(I))).catch(()=>{});return await this._validateInstallationCache(t),{numberOfBrowsersLeft:(await p.default.promises.readdir(N).catch(()=>[])).filter(e=>F(e)).length}}async validateHostRequirementsForExecutablesIfNeeded(e,t){if((0,v.getAsBooleanFromENV)("PLAYWRIGHT_SKIP_VALIDATE_HOST_REQUIREMENTS"))process.stderr.write("Skipping host requirements validation logic because `PLAYWRIGHT_SKIP_VALIDATE_HOST_REQUIREMENTS` env variable is set.\n");else for(const n of e)await this._validateHostRequirementsForExecutableIfNeeded(n,t)}async _validateHostRequirementsForExecutableIfNeeded(e,t){if(!e.directory)return;const n=m.default.join(e.directory,"DEPENDENCIES_VALIDATED");if(!await p.default.promises.stat(n).then(e=>Date.now()-e.mtime.getTime()<2592e6).catch(()=>!1)){_.debugLogger.log("install",`validating host requirements for "${e.name}"`);try{await e._validateHostRequirements(t),_.debugLogger.log("install",`validation passed for ${e.name}`)}catch(t){throw _.debugLogger.log("install",`validation failed for ${e.name}`),t}await p.default.promises.writeFile(n,"").catch(()=>{})}}_downloadURLs(e){const t=j[e.name],n=t[x.hostPlatform]||t["<unknown>"];if(!n)return[];const r=g.format(n,e.revision);let o,i=M.map(e=>`${e}/${r}`);e.name.startsWith("chromium")?o="PLAYWRIGHT_CHROMIUM_DOWNLOAD_HOST":e.name.startsWith("firefox")?o="PLAYWRIGHT_FIREFOX_DOWNLOAD_HOST":e.name.startsWith("webkit")&&(o="PLAYWRIGHT_WEBKIT_DOWNLOAD_HOST");const s=o&&(0,v.getFromENV)(o)||(0,v.getFromENV)("PLAYWRIGHT_DOWNLOAD_HOST");return s&&(i=[`${s}/${r}`]),i}async _downloadExecutable(e,t){const n=this._downloadURLs(e);if(!n.length)throw new Error(`ERROR: Playwright does not support ${e.name} on ${x.hostPlatform}`);if(x.isOfficiallySupportedPlatform||(0,b.logPolitely)(`BEWARE: your OS is not officially supported by Playwright; downloading fallback build for ${x.hostPlatform}.`),e.hasRevisionOverride){const t=`You are using a frozen ${e.name} browser which does not receive updates anymore on ${x.hostPlatform}. Please update to the latest version of your operating system to test up-to-date browsers.`;process.env.GITHUB_ACTIONS?console.log(`::warning title=Playwright::${t}`):(0,b.logPolitely)(t)}const r=e.name.split("-").map(e=>"ffmpeg"===e?"FFMPEG":e.charAt(0).toUpperCase()+e.slice(1)).join(" "),o=e.browserVersion?`${r} ${e.browserVersion} (playwright build v${e.revision})`:`${r} playwright build v${e.revision}`,i=`playwright-download-${e.name}-${x.hostPlatform}-${e.revision}.zip`,s=+((0,v.getFromENV)("PLAYWRIGHT_DOWNLOAD_CONNECTION_TIMEOUT")||"0")||S.NET_DEFAULT_TIMEOUT;await(0,b.downloadBrowserWithProgressBar)(o,e.dir,t,n,i,s).catch(e=>{throw new Error(`Failed to download ${o}, caused by\n${e.stack}`)})}async _installMSEdgeChannel(e,t){const n=[];if("linux"!==process.platform){const t=q(JSON.parse(await(0,S.fetchData)(void 0,{url:"https://edgeupdates.microsoft.com/api/products"}))),r={msedge:"Stable","msedge-beta":"Beta","msedge-dev":"Dev"}[e],o=t.find(e=>e.product===r),i={darwin:{platform:"MacOS",arch:"universal",artifact:"pkg"},win32:{platform:"Windows",arch:"x64",artifact:"msi"}}[process.platform],s=i?o.releases.find(e=>e.platform===i.platform&&e.architecture===i.arch&&e.artifacts.length>0):null,a=s?s.artifacts.find(e=>e.artifactname===i.artifact):null;if(!a)throw new Error(`Cannot install ${e} on ${process.platform}`);n.push(a.location)}await this._installChromiumChannel(e,t,n)}async _installChromiumChannel(e,t,n=[]){const r=t[process.platform];if(!r)throw new Error(`Cannot install ${e} on ${process.platform}`);const o=B;if(r.endsWith(".ps1")){const t=["-ExecutionPolicy","Bypass","-File",m.default.join(B,r),...n],{code:i}=await(0,E.spawnAsync)("powershell.exe",t,{cwd:o,stdio:"inherit"});if(0!==i)throw new Error(`Failed to install ${e}`)}else{const{command:t,args:i,elevatedPermissions:s}=await(0,w.transformCommandsForRoot)([`bash "${m.default.join(B,r)}" ${n.join("")}`]);s&&console.log("Switching to root user to install dependencies...");const{code:a}=await(0,E.spawnAsync)(t,i,{cwd:o,stdio:"inherit"});if(0!==a)throw new Error(`Failed to install ${e}`)}}async listInstalledBrowsers(){const e=m.default.join(N,".links"),{browsers:t}=await this._traverseBrowserInstallations(e);return t.filter(e=>p.default.existsSync(e.browserPath))}async _validateInstallationCache(e){const{browsers:t,brokenLinks:n}=await this._traverseBrowserInstallations(e);await this._deleteStaleBrowsers(t),await this._deleteBrokenInstallations(n)}async _traverseBrowserInstallations(e){const t=[],r=[];for(const o of await p.default.promises.readdir(e)){const i=m.default.join(e,o);let s="";try{s=(await p.default.promises.readFile(i)).toString();const e=D(n("./node_modules/playwright-core/lib/server sync recursive")(m.default.join(s,"browsers.json")));for(const n of R){const r=e.find(e=>e.name===n);if(!r)continue;const o=r.dir,i=parseInt(r.revision,10);t.push({browserName:n,browserVersion:i,browserPath:o,referenceDir:s})}}catch(e){r.push(i)}}return{browsers:t,brokenLinks:r}}async _deleteStaleBrowsers(e){const t=new Set;for(const n of e){const{browserName:e,browserVersion:r,browserPath:o}=n;("chromium"===e&&(r>=786218||r<3e5)||"firefox"===e&&r>=1128||"webkit"===e&&r>=1307||"firefox"!==e&&"chromium"!==e&&"webkit"!==e)&&!await(0,O.existsAsync)(z(o))||t.add(o)}let n=(await p.default.promises.readdir(N)).map(e=>m.default.join(N,e));n=n.filter(e=>F(e));const r=new Set(n);for(const e of t)r.delete(e);for(const e of r)(0,b.logPolitely)("Removing unused browser at "+e);await(0,O.removeFolders)([...r])}async _deleteBrokenInstallations(e){for(const t of e)await p.default.promises.unlink(t).catch(e=>{})}}function z(e){return m.default.join(e,"INSTALLATION_COMPLETE")}function H(e,t){switch(e){case"python":return`playwright ${t}`;case"java":return`mvn exec:java -e -D exec.mainClass=com.microsoft.playwright.CLI -D exec.args="${t}"`;case"csharp":return`pwsh bin/Debug/netX/playwright.ps1 ${t}`;default:return`${(0,v.getPackageManagerExecCommand)()} playwright ${t}`}}async function U(e){if((0,v.getAsBooleanFromENV)("PLAYWRIGHT_SKIP_BROWSER_DOWNLOAD"))return(0,b.logPolitely)("Skipping browsers download because `PLAYWRIGHT_SKIP_BROWSER_DOWNLOAD` env variable is set"),!1;const t=[];"win32"===process.platform&&t.push(W.findExecutable("winldd"));for(const n of e){const e=W.findExecutable(n);if(!e||"none"===e.installType)throw new Error(`Cannot install ${n}`);t.push(e)}await W.install(t,!1)}function Q(e){let t=null;for(const n of["chromium","chrome","msedge"])try{W.findExecutable(n).executablePathOrDie(e),t="chromium"===n?void 0:n;break}catch(e){}if(null===t){const t=["No chromium-based browser found on the system.","Please run the following command to download one:","",`    ${H(e,"install chromium")}`,"","<3 Playwright Team"].join("\n");throw new Error("\n"+(0,A.wrapInASCIIBox)(t,1))}return t}function q(e){if("object"!=typeof e||!e)return e;if(Array.isArray(e))return e.map(q);const t={};for(const[n,r]of Object.entries(e))t[n.toLowerCase()]=q(r);return t}const W=new L(n("./node_modules/playwright-core/browsers.json"))},"./node_modules/playwright-core/lib/server/registry/nativeDeps.js":e=>{"use strict";var t,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,i=Object.prototype.hasOwnProperty,s={};((e,t)=>{for(var r in t)n(e,r,{get:t[r],enumerable:!0})})(s,{deps:()=>a}),e.exports=(t=s,((e,t,s,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let s of o(t))i.call(e,s)||undefined===s||n(e,s,{get:()=>t[s],enumerable:!(a=r(t,s))||a.enumerable});return e})(n({},"__esModule",{value:!0}),t));const a={"ubuntu20.04-x64":{tools:["xvfb","fonts-noto-color-emoji","ttf-unifont","libfontconfig","libfreetype6","xfonts-cyrillic","xfonts-scalable","fonts-liberation","fonts-ipafont-gothic","fonts-wqy-zenhei","fonts-tlwg-loma-otf","ttf-ubuntu-font-family"],chromium:["fonts-liberation","libasound2","libatk-bridge2.0-0","libatk1.0-0","libatspi2.0-0","libcairo2","libcups2","libdbus-1-3","libdrm2","libegl1","libgbm1","libglib2.0-0","libgtk-3-0","libnspr4","libnss3","libpango-1.0-0","libx11-6","libx11-xcb1","libxcb1","libxcomposite1","libxdamage1","libxext6","libxfixes3","libxrandr2","libxshmfence1"],firefox:["ffmpeg","libatk1.0-0","libcairo-gobject2","libcairo2","libdbus-1-3","libdbus-glib-1-2","libfontconfig1","libfreetype6","libgdk-pixbuf2.0-0","libglib2.0-0","libgtk-3-0","libpango-1.0-0","libpangocairo-1.0-0","libpangoft2-1.0-0","libx11-6","libx11-xcb1","libxcb-shm0","libxcb1","libxcomposite1","libxcursor1","libxdamage1","libxext6","libxfixes3","libxi6","libxrender1","libxt6","libxtst6"],webkit:["libenchant-2-2","libflite1","libx264-155","libatk-bridge2.0-0","libatk1.0-0","libcairo2","libegl1","libenchant1c2a","libepoxy0","libevdev2","libfontconfig1","libfreetype6","libgdk-pixbuf2.0-0","libgl1","libgles2","libglib2.0-0","libgtk-3-0","libgudev-1.0-0","libharfbuzz-icu0","libharfbuzz0b","libhyphen0","libicu66","libjpeg-turbo8","libnghttp2-14","libnotify4","libopengl0","libopenjp2-7","libopus0","libpango-1.0-0","libpng16-16","libsecret-1-0","libvpx6","libwayland-client0","libwayland-egl1","libwayland-server0","libwebp6","libwebpdemux2","libwoff1","libx11-6","libxcomposite1","libxdamage1","libxkbcommon0","libxml2","libxslt1.1","libatomic1","libevent-2.1-7"],lib2package:{"libflite.so.1":"libflite1","libflite_usenglish.so.1":"libflite1","libflite_cmu_grapheme_lang.so.1":"libflite1","libflite_cmu_grapheme_lex.so.1":"libflite1","libflite_cmu_indic_lang.so.1":"libflite1","libflite_cmu_indic_lex.so.1":"libflite1","libflite_cmulex.so.1":"libflite1","libflite_cmu_time_awb.so.1":"libflite1","libflite_cmu_us_awb.so.1":"libflite1","libflite_cmu_us_kal16.so.1":"libflite1","libflite_cmu_us_kal.so.1":"libflite1","libflite_cmu_us_rms.so.1":"libflite1","libflite_cmu_us_slt.so.1":"libflite1","libx264.so":"libx264-155","libasound.so.2":"libasound2","libatk-1.0.so.0":"libatk1.0-0","libatk-bridge-2.0.so.0":"libatk-bridge2.0-0","libatspi.so.0":"libatspi2.0-0","libcairo-gobject.so.2":"libcairo-gobject2","libcairo.so.2":"libcairo2","libcups.so.2":"libcups2","libdbus-1.so.3":"libdbus-1-3","libdbus-glib-1.so.2":"libdbus-glib-1-2","libdrm.so.2":"libdrm2","libEGL.so.1":"libegl1","libenchant.so.1":"libenchant1c2a","libevdev.so.2":"libevdev2","libepoxy.so.0":"libepoxy0","libfontconfig.so.1":"libfontconfig1","libfreetype.so.6":"libfreetype6","libgbm.so.1":"libgbm1","libgdk_pixbuf-2.0.so.0":"libgdk-pixbuf2.0-0","libgdk-3.so.0":"libgtk-3-0","libgdk-x11-2.0.so.0":"libgtk2.0-0","libgio-2.0.so.0":"libglib2.0-0","libGL.so.1":"libgl1","libGLESv2.so.2":"libgles2","libglib-2.0.so.0":"libglib2.0-0","libgmodule-2.0.so.0":"libglib2.0-0","libgobject-2.0.so.0":"libglib2.0-0","libgthread-2.0.so.0":"libglib2.0-0","libgtk-3.so.0":"libgtk-3-0","libgtk-x11-2.0.so.0":"libgtk2.0-0","libgudev-1.0.so.0":"libgudev-1.0-0","libharfbuzz-icu.so.0":"libharfbuzz-icu0","libharfbuzz.so.0":"libharfbuzz0b","libhyphen.so.0":"libhyphen0","libicui18n.so.66":"libicu66","libicuuc.so.66":"libicu66","libjpeg.so.8":"libjpeg-turbo8","libnotify.so.4":"libnotify4","libnspr4.so":"libnspr4","libnss3.so":"libnss3","libnssutil3.so":"libnss3","libOpenGL.so.0":"libopengl0","libopenjp2.so.7":"libopenjp2-7","libopus.so.0":"libopus0","libpango-1.0.so.0":"libpango-1.0-0","libpangocairo-1.0.so.0":"libpangocairo-1.0-0","libpangoft2-1.0.so.0":"libpangoft2-1.0-0","libpng16.so.16":"libpng16-16","libsecret-1.so.0":"libsecret-1-0","libsmime3.so":"libnss3","libvpx.so.6":"libvpx6","libwayland-client.so.0":"libwayland-client0","libwayland-egl.so.1":"libwayland-egl1","libwayland-server.so.0":"libwayland-server0","libwebp.so.6":"libwebp6","libwebpdemux.so.2":"libwebpdemux2","libwoff2dec.so.1.0.2":"libwoff1","libX11-xcb.so.1":"libx11-xcb1","libX11.so.6":"libx11-6","libxcb-dri3.so.0":"libxcb-dri3-0","libxcb-shm.so.0":"libxcb-shm0","libxcb.so.1":"libxcb1","libXcomposite.so.1":"libxcomposite1","libXcursor.so.1":"libxcursor1","libXdamage.so.1":"libxdamage1","libXext.so.6":"libxext6","libXfixes.so.3":"libxfixes3","libXi.so.6":"libxi6","libxkbcommon.so.0":"libxkbcommon0","libxml2.so.2":"libxml2","libXrandr.so.2":"libxrandr2","libXrender.so.1":"libxrender1","libxslt.so.1":"libxslt1.1","libXt.so.6":"libxt6","libXtst.so.6":"libxtst6","libxshmfence.so.1":"libxshmfence1","libatomic.so.1":"libatomic1","libenchant-2.so.2":"libenchant-2-2","libevent-2.1.so.7":"libevent-2.1-7"}},"ubuntu22.04-x64":{tools:["xvfb","fonts-noto-color-emoji","fonts-unifont","libfontconfig1","libfreetype6","xfonts-cyrillic","xfonts-scalable","fonts-liberation","fonts-ipafont-gothic","fonts-wqy-zenhei","fonts-tlwg-loma-otf","fonts-freefont-ttf"],chromium:["libasound2","libatk-bridge2.0-0","libatk1.0-0","libatspi2.0-0","libcairo2","libcups2","libdbus-1-3","libdrm2","libgbm1","libglib2.0-0","libnspr4","libnss3","libpango-1.0-0","libwayland-client0","libx11-6","libxcb1","libxcomposite1","libxdamage1","libxext6","libxfixes3","libxkbcommon0","libxrandr2"],firefox:["ffmpeg","libasound2","libatk1.0-0","libcairo-gobject2","libcairo2","libdbus-1-3","libdbus-glib-1-2","libfontconfig1","libfreetype6","libgdk-pixbuf-2.0-0","libglib2.0-0","libgtk-3-0","libpango-1.0-0","libpangocairo-1.0-0","libx11-6","libx11-xcb1","libxcb-shm0","libxcb1","libxcomposite1","libxcursor1","libxdamage1","libxext6","libxfixes3","libxi6","libxrandr2","libxrender1","libxtst6"],webkit:["libsoup-3.0-0","libenchant-2-2","gstreamer1.0-libav","gstreamer1.0-plugins-bad","gstreamer1.0-plugins-base","gstreamer1.0-plugins-good","libicu70","libatk-bridge2.0-0","libatk1.0-0","libcairo2","libdbus-1-3","libdrm2","libegl1","libepoxy0","libevdev2","libffi7","libfontconfig1","libfreetype6","libgbm1","libgdk-pixbuf-2.0-0","libgles2","libglib2.0-0","libglx0","libgstreamer-gl1.0-0","libgstreamer-plugins-base1.0-0","libgstreamer1.0-0","libgtk-4-1","libgudev-1.0-0","libharfbuzz-icu0","libharfbuzz0b","libhyphen0","libjpeg-turbo8","liblcms2-2","libmanette-0.2-0","libnotify4","libopengl0","libopenjp2-7","libopus0","libpango-1.0-0","libpng16-16","libproxy1v5","libsecret-1-0","libwayland-client0","libwayland-egl1","libwayland-server0","libwebpdemux2","libwoff1","libx11-6","libxcomposite1","libxdamage1","libxkbcommon0","libxml2","libxslt1.1","libx264-163","libatomic1","libevent-2.1-7","libavif13"],lib2package:{"libavif.so.13":"libavif13","libsoup-3.0.so.0":"libsoup-3.0-0","libasound.so.2":"libasound2","libatk-1.0.so.0":"libatk1.0-0","libatk-bridge-2.0.so.0":"libatk-bridge2.0-0","libatspi.so.0":"libatspi2.0-0","libcairo-gobject.so.2":"libcairo-gobject2","libcairo.so.2":"libcairo2","libcups.so.2":"libcups2","libdbus-1.so.3":"libdbus-1-3","libdbus-glib-1.so.2":"libdbus-glib-1-2","libdrm.so.2":"libdrm2","libEGL.so.1":"libegl1","libepoxy.so.0":"libepoxy0","libevdev.so.2":"libevdev2","libffi.so.7":"libffi7","libfontconfig.so.1":"libfontconfig1","libfreetype.so.6":"libfreetype6","libgbm.so.1":"libgbm1","libgdk_pixbuf-2.0.so.0":"libgdk-pixbuf-2.0-0","libgdk-3.so.0":"libgtk-3-0","libgio-2.0.so.0":"libglib2.0-0","libGLESv2.so.2":"libgles2","libglib-2.0.so.0":"libglib2.0-0","libGLX.so.0":"libglx0","libgmodule-2.0.so.0":"libglib2.0-0","libgobject-2.0.so.0":"libglib2.0-0","libgstallocators-1.0.so.0":"libgstreamer-plugins-base1.0-0","libgstapp-1.0.so.0":"libgstreamer-plugins-base1.0-0","libgstaudio-1.0.so.0":"libgstreamer-plugins-base1.0-0","libgstbase-1.0.so.0":"libgstreamer1.0-0","libgstfft-1.0.so.0":"libgstreamer-plugins-base1.0-0","libgstgl-1.0.so.0":"libgstreamer-gl1.0-0","libgstpbutils-1.0.so.0":"libgstreamer-plugins-base1.0-0","libgstreamer-1.0.so.0":"libgstreamer1.0-0","libgsttag-1.0.so.0":"libgstreamer-plugins-base1.0-0","libgstvideo-1.0.so.0":"libgstreamer-plugins-base1.0-0","libgtk-3.so.0":"libgtk-3-0","libgtk-4.so.1":"libgtk-4-1","libgudev-1.0.so.0":"libgudev-1.0-0","libharfbuzz-icu.so.0":"libharfbuzz-icu0","libharfbuzz.so.0":"libharfbuzz0b","libhyphen.so.0":"libhyphen0","libjpeg.so.8":"libjpeg-turbo8","liblcms2.so.2":"liblcms2-2","libmanette-0.2.so.0":"libmanette-0.2-0","libnotify.so.4":"libnotify4","libnspr4.so":"libnspr4","libnss3.so":"libnss3","libnssutil3.so":"libnss3","libOpenGL.so.0":"libopengl0","libopenjp2.so.7":"libopenjp2-7","libopus.so.0":"libopus0","libpango-1.0.so.0":"libpango-1.0-0","libpangocairo-1.0.so.0":"libpangocairo-1.0-0","libpng16.so.16":"libpng16-16","libproxy.so.1":"libproxy1v5","libsecret-1.so.0":"libsecret-1-0","libsmime3.so":"libnss3","libwayland-client.so.0":"libwayland-client0","libwayland-egl.so.1":"libwayland-egl1","libwayland-server.so.0":"libwayland-server0","libwebpdemux.so.2":"libwebpdemux2","libwoff2dec.so.1.0.2":"libwoff1","libX11-xcb.so.1":"libx11-xcb1","libX11.so.6":"libx11-6","libxcb-shm.so.0":"libxcb-shm0","libxcb.so.1":"libxcb1","libXcomposite.so.1":"libxcomposite1","libXcursor.so.1":"libxcursor1","libXdamage.so.1":"libxdamage1","libXext.so.6":"libxext6","libXfixes.so.3":"libxfixes3","libXi.so.6":"libxi6","libxkbcommon.so.0":"libxkbcommon0","libxml2.so.2":"libxml2","libXrandr.so.2":"libxrandr2","libXrender.so.1":"libxrender1","libxslt.so.1":"libxslt1.1","libXtst.so.6":"libxtst6","libicui18n.so.60":"libicu70","libicuuc.so.66":"libicu70","libicui18n.so.66":"libicu70","libwebp.so.6":"libwebp6","libenchant-2.so.2":"libenchant-2-2","libx264.so":"libx264-163","libvpx.so.7":"libvpx7","libatomic.so.1":"libatomic1","libevent-2.1.so.7":"libevent-2.1-7"}},"ubuntu24.04-x64":{tools:["xvfb","fonts-noto-color-emoji","fonts-unifont","libfontconfig1","libfreetype6","xfonts-cyrillic","xfonts-scalable","fonts-liberation","fonts-ipafont-gothic","fonts-wqy-zenhei","fonts-tlwg-loma-otf","fonts-freefont-ttf"],chromium:["libasound2t64","libatk-bridge2.0-0t64","libatk1.0-0t64","libatspi2.0-0t64","libcairo2","libcups2t64","libdbus-1-3","libdrm2","libgbm1","libglib2.0-0t64","libnspr4","libnss3","libpango-1.0-0","libx11-6","libxcb1","libxcomposite1","libxdamage1","libxext6","libxfixes3","libxkbcommon0","libxrandr2"],firefox:["libasound2t64","libatk1.0-0t64","libcairo-gobject2","libcairo2","libdbus-1-3","libfontconfig1","libfreetype6","libgdk-pixbuf-2.0-0","libglib2.0-0t64","libgtk-3-0t64","libpango-1.0-0","libpangocairo-1.0-0","libx11-6","libx11-xcb1","libxcb-shm0","libxcb1","libxcomposite1","libxcursor1","libxdamage1","libxext6","libxfixes3","libxi6","libxrandr2","libxrender1"],webkit:["gstreamer1.0-libav","gstreamer1.0-plugins-bad","gstreamer1.0-plugins-base","gstreamer1.0-plugins-good","libicu74","libatomic1","libatk-bridge2.0-0t64","libatk1.0-0t64","libcairo-gobject2","libcairo2","libdbus-1-3","libdrm2","libenchant-2-2","libepoxy0","libevent-2.1-7t64","libflite1","libfontconfig1","libfreetype6","libgbm1","libgdk-pixbuf-2.0-0","libgles2","libglib2.0-0t64","libgstreamer-gl1.0-0","libgstreamer-plugins-bad1.0-0","libgstreamer-plugins-base1.0-0","libgstreamer1.0-0","libgtk-4-1","libharfbuzz-icu0","libharfbuzz0b","libhyphen0","libicu74","libjpeg-turbo8","liblcms2-2","libmanette-0.2-0","libopus0","libpango-1.0-0","libpangocairo-1.0-0","libpng16-16t64","libsecret-1-0","libvpx9","libwayland-client0","libwayland-egl1","libwayland-server0","libwebp7","libwebpdemux2","libwoff1","libx11-6","libxkbcommon0","libxml2","libxslt1.1","libx264-164","libavif16"],lib2package:{"libavif.so.16":"libavif16","libasound.so.2":"libasound2t64","libatk-1.0.so.0":"libatk1.0-0t64","libatk-bridge-2.0.so.0":"libatk-bridge2.0-0t64","libatomic.so.1":"libatomic1","libatspi.so.0":"libatspi2.0-0t64","libcairo-gobject.so.2":"libcairo-gobject2","libcairo.so.2":"libcairo2","libcups.so.2":"libcups2t64","libdbus-1.so.3":"libdbus-1-3","libdrm.so.2":"libdrm2","libenchant-2.so.2":"libenchant-2-2","libepoxy.so.0":"libepoxy0","libevent-2.1.so.7":"libevent-2.1-7t64","libflite_cmu_grapheme_lang.so.1":"libflite1","libflite_cmu_grapheme_lex.so.1":"libflite1","libflite_cmu_indic_lang.so.1":"libflite1","libflite_cmu_indic_lex.so.1":"libflite1","libflite_cmu_time_awb.so.1":"libflite1","libflite_cmu_us_awb.so.1":"libflite1","libflite_cmu_us_kal.so.1":"libflite1","libflite_cmu_us_kal16.so.1":"libflite1","libflite_cmu_us_rms.so.1":"libflite1","libflite_cmu_us_slt.so.1":"libflite1","libflite_cmulex.so.1":"libflite1","libflite_usenglish.so.1":"libflite1","libflite.so.1":"libflite1","libfontconfig.so.1":"libfontconfig1","libfreetype.so.6":"libfreetype6","libgbm.so.1":"libgbm1","libgdk_pixbuf-2.0.so.0":"libgdk-pixbuf-2.0-0","libgdk-3.so.0":"libgtk-3-0t64","libgio-2.0.so.0":"libglib2.0-0t64","libGLESv2.so.2":"libgles2","libglib-2.0.so.0":"libglib2.0-0t64","libgmodule-2.0.so.0":"libglib2.0-0t64","libgobject-2.0.so.0":"libglib2.0-0t64","libgstallocators-1.0.so.0":"libgstreamer-plugins-base1.0-0","libgstapp-1.0.so.0":"libgstreamer-plugins-base1.0-0","libgstaudio-1.0.so.0":"libgstreamer-plugins-base1.0-0","libgstbase-1.0.so.0":"libgstreamer1.0-0","libgstcodecparsers-1.0.so.0":"libgstreamer-plugins-bad1.0-0","libgstfft-1.0.so.0":"libgstreamer-plugins-base1.0-0","libgstgl-1.0.so.0":"libgstreamer-gl1.0-0","libgstpbutils-1.0.so.0":"libgstreamer-plugins-base1.0-0","libgstreamer-1.0.so.0":"libgstreamer1.0-0","libgsttag-1.0.so.0":"libgstreamer-plugins-base1.0-0","libgstvideo-1.0.so.0":"libgstreamer-plugins-base1.0-0","libgtk-3.so.0":"libgtk-3-0t64","libgtk-4.so.1":"libgtk-4-1","libharfbuzz-icu.so.0":"libharfbuzz-icu0","libharfbuzz.so.0":"libharfbuzz0b","libhyphen.so.0":"libhyphen0","libicudata.so.74":"libicu74","libicui18n.so.74":"libicu74","libicuuc.so.74":"libicu74","libjpeg.so.8":"libjpeg-turbo8","liblcms2.so.2":"liblcms2-2","libmanette-0.2.so.0":"libmanette-0.2-0","libnspr4.so":"libnspr4","libnss3.so":"libnss3","libnssutil3.so":"libnss3","libopus.so.0":"libopus0","libpango-1.0.so.0":"libpango-1.0-0","libpangocairo-1.0.so.0":"libpangocairo-1.0-0","libpng16.so.16":"libpng16-16t64","libsecret-1.so.0":"libsecret-1-0","libsmime3.so":"libnss3","libsoup-3.0.so.0":"libsoup-3.0-0","libvpx.so.9":"libvpx9","libwayland-client.so.0":"libwayland-client0","libwayland-egl.so.1":"libwayland-egl1","libwayland-server.so.0":"libwayland-server0","libwebp.so.7":"libwebp7","libwebpdemux.so.2":"libwebpdemux2","libwoff2dec.so.1.0.2":"libwoff1","libX11-xcb.so.1":"libx11-xcb1","libX11.so.6":"libx11-6","libxcb-shm.so.0":"libxcb-shm0","libxcb.so.1":"libxcb1","libXcomposite.so.1":"libxcomposite1","libXcursor.so.1":"libxcursor1","libXdamage.so.1":"libxdamage1","libXext.so.6":"libxext6","libXfixes.so.3":"libxfixes3","libXi.so.6":"libxi6","libxkbcommon.so.0":"libxkbcommon0","libxml2.so.2":"libxml2","libXrandr.so.2":"libxrandr2","libXrender.so.1":"libxrender1","libxslt.so.1":"libxslt1.1","libx264.so":"libx264-164"}},"debian11-x64":{tools:["xvfb","fonts-noto-color-emoji","fonts-unifont","libfontconfig1","libfreetype6","xfonts-cyrillic","xfonts-scalable","fonts-liberation","fonts-ipafont-gothic","fonts-wqy-zenhei","fonts-tlwg-loma-otf","fonts-freefont-ttf"],chromium:["libasound2","libatk-bridge2.0-0","libatk1.0-0","libatspi2.0-0","libcairo2","libcups2","libdbus-1-3","libdrm2","libgbm1","libglib2.0-0","libnspr4","libnss3","libpango-1.0-0","libwayland-client0","libx11-6","libxcb1","libxcomposite1","libxdamage1","libxext6","libxfixes3","libxkbcommon0","libxrandr2"],firefox:["libasound2","libatk1.0-0","libcairo-gobject2","libcairo2","libdbus-1-3","libdbus-glib-1-2","libfontconfig1","libfreetype6","libgdk-pixbuf-2.0-0","libglib2.0-0","libgtk-3-0","libharfbuzz0b","libpango-1.0-0","libpangocairo-1.0-0","libx11-6","libx11-xcb1","libxcb-shm0","libxcb1","libxcomposite1","libxcursor1","libxdamage1","libxext6","libxfixes3","libxi6","libxrandr2","libxrender1","libxtst6"],webkit:["gstreamer1.0-libav","gstreamer1.0-plugins-bad","gstreamer1.0-plugins-base","gstreamer1.0-plugins-good","libatk-bridge2.0-0","libatk1.0-0","libcairo2","libdbus-1-3","libdrm2","libegl1","libenchant-2-2","libepoxy0","libevdev2","libfontconfig1","libfreetype6","libgbm1","libgdk-pixbuf-2.0-0","libgles2","libglib2.0-0","libglx0","libgstreamer-gl1.0-0","libgstreamer-plugins-base1.0-0","libgstreamer1.0-0","libgtk-3-0","libgudev-1.0-0","libharfbuzz-icu0","libharfbuzz0b","libhyphen0","libicu67","libjpeg62-turbo","liblcms2-2","libmanette-0.2-0","libnghttp2-14","libnotify4","libopengl0","libopenjp2-7","libopus0","libpango-1.0-0","libpng16-16","libproxy1v5","libsecret-1-0","libwayland-client0","libwayland-egl1","libwayland-server0","libwebp6","libwebpdemux2","libwoff1","libx11-6","libxcomposite1","libxdamage1","libxkbcommon0","libxml2","libxslt1.1","libatomic1","libevent-2.1-7"],lib2package:{"libasound.so.2":"libasound2","libatk-1.0.so.0":"libatk1.0-0","libatk-bridge-2.0.so.0":"libatk-bridge2.0-0","libatspi.so.0":"libatspi2.0-0","libcairo-gobject.so.2":"libcairo-gobject2","libcairo.so.2":"libcairo2","libcups.so.2":"libcups2","libdbus-1.so.3":"libdbus-1-3","libdbus-glib-1.so.2":"libdbus-glib-1-2","libdrm.so.2":"libdrm2","libEGL.so.1":"libegl1","libenchant-2.so.2":"libenchant-2-2","libepoxy.so.0":"libepoxy0","libevdev.so.2":"libevdev2","libfontconfig.so.1":"libfontconfig1","libfreetype.so.6":"libfreetype6","libgbm.so.1":"libgbm1","libgdk_pixbuf-2.0.so.0":"libgdk-pixbuf-2.0-0","libgdk-3.so.0":"libgtk-3-0","libgio-2.0.so.0":"libglib2.0-0","libGLESv2.so.2":"libgles2","libglib-2.0.so.0":"libglib2.0-0","libGLX.so.0":"libglx0","libgmodule-2.0.so.0":"libglib2.0-0","libgobject-2.0.so.0":"libglib2.0-0","libgstallocators-1.0.so.0":"libgstreamer-plugins-base1.0-0","libgstapp-1.0.so.0":"libgstreamer-plugins-base1.0-0","libgstaudio-1.0.so.0":"libgstreamer-plugins-base1.0-0","libgstbase-1.0.so.0":"libgstreamer1.0-0","libgstfft-1.0.so.0":"libgstreamer-plugins-base1.0-0","libgstgl-1.0.so.0":"libgstreamer-gl1.0-0","libgstpbutils-1.0.so.0":"libgstreamer-plugins-base1.0-0","libgstreamer-1.0.so.0":"libgstreamer1.0-0","libgsttag-1.0.so.0":"libgstreamer-plugins-base1.0-0","libgstvideo-1.0.so.0":"libgstreamer-plugins-base1.0-0","libgtk-3.so.0":"libgtk-3-0","libgudev-1.0.so.0":"libgudev-1.0-0","libharfbuzz-icu.so.0":"libharfbuzz-icu0","libharfbuzz.so.0":"libharfbuzz0b","libhyphen.so.0":"libhyphen0","libicui18n.so.67":"libicu67","libicuuc.so.67":"libicu67","libjpeg.so.62":"libjpeg62-turbo","liblcms2.so.2":"liblcms2-2","libmanette-0.2.so.0":"libmanette-0.2-0","libnotify.so.4":"libnotify4","libnspr4.so":"libnspr4","libnss3.so":"libnss3","libnssutil3.so":"libnss3","libOpenGL.so.0":"libopengl0","libopenjp2.so.7":"libopenjp2-7","libopus.so.0":"libopus0","libpango-1.0.so.0":"libpango-1.0-0","libpangocairo-1.0.so.0":"libpangocairo-1.0-0","libpng16.so.16":"libpng16-16","libproxy.so.1":"libproxy1v5","libsecret-1.so.0":"libsecret-1-0","libsmime3.so":"libnss3","libwayland-client.so.0":"libwayland-client0","libwayland-egl.so.1":"libwayland-egl1","libwayland-server.so.0":"libwayland-server0","libwebp.so.6":"libwebp6","libwebpdemux.so.2":"libwebpdemux2","libwoff2dec.so.1.0.2":"libwoff1","libX11-xcb.so.1":"libx11-xcb1","libX11.so.6":"libx11-6","libxcb-shm.so.0":"libxcb-shm0","libxcb.so.1":"libxcb1","libXcomposite.so.1":"libxcomposite1","libXcursor.so.1":"libxcursor1","libXdamage.so.1":"libxdamage1","libXext.so.6":"libxext6","libXfixes.so.3":"libxfixes3","libXi.so.6":"libxi6","libxkbcommon.so.0":"libxkbcommon0","libxml2.so.2":"libxml2","libXrandr.so.2":"libxrandr2","libXrender.so.1":"libxrender1","libxslt.so.1":"libxslt1.1","libXtst.so.6":"libxtst6","libatomic.so.1":"libatomic1","libevent-2.1.so.7":"libevent-2.1-7"}},"debian12-x64":{tools:["xvfb","fonts-noto-color-emoji","fonts-unifont","libfontconfig1","libfreetype6","xfonts-scalable","fonts-liberation","fonts-ipafont-gothic","fonts-wqy-zenhei","fonts-tlwg-loma-otf","fonts-freefont-ttf"],chromium:["libasound2","libatk-bridge2.0-0","libatk1.0-0","libatspi2.0-0","libcairo2","libcups2","libdbus-1-3","libdrm2","libgbm1","libglib2.0-0","libnspr4","libnss3","libpango-1.0-0","libx11-6","libxcb1","libxcomposite1","libxdamage1","libxext6","libxfixes3","libxkbcommon0","libxrandr2"],firefox:["libasound2","libatk1.0-0","libcairo-gobject2","libcairo2","libdbus-1-3","libdbus-glib-1-2","libfontconfig1","libfreetype6","libgdk-pixbuf-2.0-0","libglib2.0-0","libgtk-3-0","libharfbuzz0b","libpango-1.0-0","libpangocairo-1.0-0","libx11-6","libx11-xcb1","libxcb-shm0","libxcb1","libxcomposite1","libxcursor1","libxdamage1","libxext6","libxfixes3","libxi6","libxrandr2","libxrender1","libxtst6"],webkit:["libsoup-3.0-0","gstreamer1.0-libav","gstreamer1.0-plugins-bad","gstreamer1.0-plugins-base","gstreamer1.0-plugins-good","libatk-bridge2.0-0","libatk1.0-0","libcairo2","libdbus-1-3","libdrm2","libegl1","libenchant-2-2","libepoxy0","libevdev2","libfontconfig1","libfreetype6","libgbm1","libgdk-pixbuf-2.0-0","libgles2","libglib2.0-0","libglx0","libgstreamer-gl1.0-0","libgstreamer-plugins-base1.0-0","libgstreamer1.0-0","libgtk-4-1","libgudev-1.0-0","libharfbuzz-icu0","libharfbuzz0b","libhyphen0","libicu72","libjpeg62-turbo","liblcms2-2","libmanette-0.2-0","libnotify4","libopengl0","libopenjp2-7","libopus0","libpango-1.0-0","libpng16-16","libproxy1v5","libsecret-1-0","libwayland-client0","libwayland-egl1","libwayland-server0","libwebp7","libwebpdemux2","libwoff1","libx11-6","libxcomposite1","libxdamage1","libxkbcommon0","libxml2","libxslt1.1","libatomic1","libevent-2.1-7","libavif15"],lib2package:{"libavif.so.15":"libavif15","libsoup-3.0.so.0":"libsoup-3.0-0","libasound.so.2":"libasound2","libatk-1.0.so.0":"libatk1.0-0","libatk-bridge-2.0.so.0":"libatk-bridge2.0-0","libatspi.so.0":"libatspi2.0-0","libcairo.so.2":"libcairo2","libcups.so.2":"libcups2","libdbus-1.so.3":"libdbus-1-3","libdrm.so.2":"libdrm2","libgbm.so.1":"libgbm1","libgio-2.0.so.0":"libglib2.0-0","libglib-2.0.so.0":"libglib2.0-0","libgobject-2.0.so.0":"libglib2.0-0","libnspr4.so":"libnspr4","libnss3.so":"libnss3","libnssutil3.so":"libnss3","libpango-1.0.so.0":"libpango-1.0-0","libsmime3.so":"libnss3","libX11.so.6":"libx11-6","libxcb.so.1":"libxcb1","libXcomposite.so.1":"libxcomposite1","libXdamage.so.1":"libxdamage1","libXext.so.6":"libxext6","libXfixes.so.3":"libxfixes3","libxkbcommon.so.0":"libxkbcommon0","libXrandr.so.2":"libxrandr2","libgtk-4.so.1":"libgtk-4-1"}},"debian13-x64":{tools:["xvfb","fonts-noto-color-emoji","fonts-unifont","libfontconfig1","libfreetype6","xfonts-scalable","fonts-liberation","fonts-ipafont-gothic","fonts-wqy-zenhei","fonts-tlwg-loma-otf","fonts-freefont-ttf"],chromium:["libasound2t64","libatk-bridge2.0-0t64","libatk1.0-0t64","libatspi2.0-0t64","libcairo2","libcups2t64","libdbus-1-3","libdrm2","libgbm1","libglib2.0-0t64","libnspr4","libnss3","libpango-1.0-0","libx11-6","libxcb1","libxcomposite1","libxdamage1","libxext6","libxfixes3","libxkbcommon0","libxrandr2"],firefox:["libasound2","libatk1.0-0t64","libcairo-gobject2","libcairo2","libdbus-1-3","libdbus-glib-1-2","libfontconfig1","libfreetype6","libgdk-pixbuf-2.0-0","libglib2.0-0t64","libgtk-3-0t64","libharfbuzz0b","libpango-1.0-0","libpangocairo-1.0-0","libx11-6","libx11-xcb1","libxcb-shm0","libxcb1","libxcomposite1","libxcursor1","libxdamage1","libxext6","libxfixes3","libxi6","libxrandr2","libxrender1","libxtst6"],webkit:["libsoup-3.0-0","gstreamer1.0-libav","gstreamer1.0-plugins-bad","gstreamer1.0-plugins-base","gstreamer1.0-plugins-good","libatk-bridge2.0-0t64","libatk1.0-0t64","libcairo2","libdbus-1-3","libdrm2","libegl1","libenchant-2-2","libepoxy0","libevdev2","libfontconfig1","libfreetype6","libgbm1","libgdk-pixbuf-2.0-0","libgles2","libglib2.0-0t64","libglx0","libgstreamer-gl1.0-0","libgstreamer-plugins-base1.0-0","libgstreamer1.0-0","libgtk-4-1","libgudev-1.0-0","libharfbuzz-icu0","libharfbuzz0b","libhyphen0","libicu76","libjpeg62-turbo","liblcms2-2","libmanette-0.2-0","libnotify4","libopengl0","libopenjp2-7","libopus0","libpango-1.0-0","libpng16-16t64","libproxy1v5","libsecret-1-0","libwayland-client0","libwayland-egl1","libwayland-server0","libwebp7","libwebpdemux2","libwoff1","libx11-6","libxcomposite1","libxdamage1","libxkbcommon0","libxml2","libxslt1.1","libatomic1","libevent-2.1-7t64","libavif16"],lib2package:{"libicudata.so.74":"libicu76","libicui18n.so.74":"libicu76","libicuuc.so.74":"libicu76","libevent-2.1.so.7":"libevent-2.1-7t64","libpng16.so.16":"libpng16-16t64","libgdk-3.so.0":"libgtk-3-0t64","libgtk-3.so.0":"libgtk-3-0t64","libavif.so.16":"libavif16","libsoup-3.0.so.0":"libsoup-3.0-0","libasound.so.2":"libasound2t64","libatk-1.0.so.0":"libatk1.0-0t64","libatk-bridge-2.0.so.0":"libatk-bridge2.0-0t64","libatspi.so.0":"libatspi2.0-0t64","libcairo.so.2":"libcairo2","libcups.so.2":"libcups2t64","libdbus-1.so.3":"libdbus-1-3","libdrm.so.2":"libdrm2","libgbm.so.1":"libgbm1","libgio-2.0.so.0":"libglib2.0-0t64","libglib-2.0.so.0":"libglib2.0-0t64","libgobject-2.0.so.0":"libglib2.0-0t64","libnspr4.so":"libnspr4","libnss3.so":"libnss3","libnssutil3.so":"libnss3","libpango-1.0.so.0":"libpango-1.0-0","libsmime3.so":"libnss3","libX11.so.6":"libx11-6","libxcb.so.1":"libxcb1","libXcomposite.so.1":"libxcomposite1","libXdamage.so.1":"libxdamage1","libXext.so.6":"libxext6","libXfixes.so.3":"libxfixes3","libxkbcommon.so.0":"libxkbcommon0","libXrandr.so.2":"libxrandr2","libgtk-4.so.1":"libgtk-4-1"}}};a["ubuntu20.04-arm64"]={tools:[...a["ubuntu20.04-x64"].tools],chromium:[...a["ubuntu20.04-x64"].chromium],firefox:[...a["ubuntu20.04-x64"].firefox],webkit:[...a["ubuntu20.04-x64"].webkit],lib2package:{...a["ubuntu20.04-x64"].lib2package}},a["ubuntu22.04-arm64"]={tools:[...a["ubuntu22.04-x64"].tools],chromium:[...a["ubuntu22.04-x64"].chromium],firefox:[...a["ubuntu22.04-x64"].firefox],webkit:[...a["ubuntu22.04-x64"].webkit],lib2package:{...a["ubuntu22.04-x64"].lib2package}},a["ubuntu24.04-arm64"]={tools:[...a["ubuntu24.04-x64"].tools],chromium:[...a["ubuntu24.04-x64"].chromium],firefox:[...a["ubuntu24.04-x64"].firefox],webkit:[...a["ubuntu24.04-x64"].webkit],lib2package:{...a["ubuntu24.04-x64"].lib2package}},a["debian11-arm64"]={tools:[...a["debian11-x64"].tools],chromium:[...a["debian11-x64"].chromium],firefox:[...a["debian11-x64"].firefox],webkit:[...a["debian11-x64"].webkit],lib2package:{...a["debian11-x64"].lib2package}},a["debian12-arm64"]={tools:[...a["debian12-x64"].tools],chromium:[...a["debian12-x64"].chromium],firefox:[...a["debian12-x64"].firefox],webkit:[...a["debian12-x64"].webkit],lib2package:{...a["debian12-x64"].lib2package}},a["debian13-arm64"]={tools:[...a["debian13-x64"].tools],chromium:[...a["debian13-x64"].chromium],firefox:[...a["debian13-x64"].firefox],webkit:[...a["debian13-x64"].webkit],lib2package:{...a["debian13-x64"].lib2package}}},"./node_modules/playwright-core/lib/server/screenshotter.js":(e,t,n)=>{"use strict";var r,o=Object.defineProperty,i=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,l={};((e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})})(l,{Screenshotter:()=>p,validateScreenshotOptions:()=>g}),e.exports=(r=l,((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let n of s(t))a.call(e,n)||undefined===n||o(e,n,{get:()=>t[n],enumerable:!(r=i(t,n))||r.enumerable});return e})(o({},"__esModule",{value:!0}),r));var c=n("./node_modules/playwright-core/lib/server/helper.js"),u=n("./node_modules/playwright-core/lib/utils.js"),d=n("./node_modules/playwright-core/lib/utils/isomorphic/multimap.js");function h(e,t,n,r){if(r){const e=document.createElement("style");e.textContent="body {}",document.head.appendChild(e),document.documentElement.getBoundingClientRect(),e.remove()}if(!e&&!t&&!n)return;const o=(e,t=[])=>{t.push(e);const n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT);do{const e=n.currentNode,r=e instanceof Element?e.shadowRoot:null;r&&o(r,t)}while(n.nextNode());return t},i=o(document),s=[];if(e)for(const t of i){const n=document.createElement("style");n.textContent=e,t===document?document.documentElement.append(n):t.append(n),s.push(()=>{n.remove()})}if(t){const e=new Map;for(const t of i)t.querySelectorAll("input,textarea,[contenteditable]").forEach(t=>{e.set(t,{value:t.style.getPropertyValue("caret-color"),priority:t.style.getPropertyPriority("caret-color")}),t.style.setProperty("caret-color","transparent","important")});s.push(()=>{for(const[t,n]of e)t.style.setProperty("caret-color",n.value,n.priority)})}if(n){const e=new Set,t=t=>{for(const n of t.getAnimations()){if(!n.effect||0===n.playbackRate||e.has(n))continue;const t=n.effect.getComputedTiming().endTime;if(Number.isFinite(t))try{n.finish()}catch(e){}else try{n.cancel(),e.add(n)}catch(e){}}};for(const e of i){const n=t.bind(null,e);n(),e.addEventListener("transitionrun",n),e.addEventListener("animationstart",n),s.push(()=>{e.removeEventListener("transitionrun",n),e.removeEventListener("animationstart",n)})}s.push(()=>{for(const t of e)try{t.play()}catch(e){}})}window.__pwCleanupScreenshot=()=>{for(const e of s)e();delete window.__pwCleanupScreenshot}}class p{constructor(e){this._queue=new f,this._page=e,this._queue=new f}async _originalViewportSize(e){let t=this._page.emulatedSize()?.viewport;return t||(t=await this._page.mainFrame().waitForFunctionValueInUtility(e,()=>({width:window.innerWidth,height:window.innerHeight}))),t}async _fullPageSize(e){return await this._page.mainFrame().waitForFunctionValueInUtility(e,()=>document.body&&document.documentElement?{width:Math.max(document.body.scrollWidth,document.documentElement.scrollWidth,document.body.offsetWidth,document.documentElement.offsetWidth,document.body.clientWidth,document.documentElement.clientWidth),height:Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.body.clientHeight,document.documentElement.clientHeight)}:null)}async screenshotPage(e,t){const n=g(t);return this._queue.postTask(async()=>{e.log("taking page screenshot");const r=await this._originalViewportSize(e);await this._preparePageForScreenshot(e,this._page.mainFrame(),t.style,"initial"!==t.caret,"disabled"===t.animations);try{if(t.fullPage){const o=await this._fullPageSize(e);let i={x:0,y:0,width:o.width,height:o.height};const s=o.width<=r.width&&o.height<=r.height;return t.clip&&(i=m(t.clip,i)),await this._screenshot(e,n,i,void 0,s,t)}const o=t.clip?m(t.clip,r):{x:0,y:0,...r};return await this._screenshot(e,n,void 0,o,!0,t)}finally{await this._restorePageAfterScreenshot()}})}async screenshotElement(e,t,n){const r=g(n);return this._queue.postTask(async()=>{e.log("taking element screenshot");const o=await this._originalViewportSize(e);await this._preparePageForScreenshot(e,t._frame,n.style,"initial"!==n.caret,"disabled"===n.animations);try{await t._waitAndScrollIntoViewIfNeeded(e,!0);const i=await e.race(t.boundingBox());(0,u.assert)(i,"Node is either not visible or not an HTMLElement"),(0,u.assert)(0!==i.width,"Node has 0 width."),(0,u.assert)(0!==i.height,"Node has 0 height.");const s=i.width<=o.width&&i.height<=o.height,a=await this._page.mainFrame().waitForFunctionValueInUtility(e,()=>({x:window.scrollX,y:window.scrollY})),l={...i};return l.x+=a.x,l.y+=a.y,await this._screenshot(e,r,c.helper.enclosingIntRect(l),void 0,s,n)}finally{await this._restorePageAfterScreenshot()}})}async _preparePageForScreenshot(e,t,n,r,o){o&&e.log("  disabled all CSS animations");const i=this._page.delegate.shouldToggleStyleSheetToSyncAnimations();await e.race(this._page.safeNonStallingEvaluateInAllFrames("("+h.toString()+`)(${JSON.stringify(n)}, ${r}, ${o}, ${i})`,"utility"));try{process.env.PW_TEST_SCREENSHOT_NO_FONTS_READY||(e.log("waiting for fonts to load..."),await e.race(t.nonStallingEvaluateInExistingContext("document.fonts.ready","utility").catch(()=>{})),e.log("fonts loaded"))}catch(e){throw await this._restorePageAfterScreenshot(),e}}async _restorePageAfterScreenshot(){await this._page.safeNonStallingEvaluateInAllFrames("window.__pwCleanupScreenshot && window.__pwCleanupScreenshot()","utility")}async _maskElements(e,t){if(!t.mask||!t.mask.length)return()=>Promise.resolve();const n=new d.MultiMap;await e.race(Promise.all((t.mask||[]).map(async({frame:e,selector:t})=>{const r=await e.selectors.resolveFrameForSelector(t);r&&n.set(r.frame,r.info.parsed)})));const r=[...n.keys()],o=async()=>{await Promise.all(r.map(e=>e.hideHighlight()))};try{const i=r.map(e=>e.maskSelectors(n.get(e),t.maskColor||"#F0F"));return await e.race(Promise.all(i)),o}catch(e){throw o().catch(()=>{}),e}}async _screenshot(e,t,n,r,o,i){i.__testHookBeforeScreenshot&&await e.race(i.__testHookBeforeScreenshot());const s=i.omitBackground&&"png"===t;s&&await e.race(this._page.delegate.setBackgroundColor({r:0,g:0,b:0,a:0}));const a=await this._maskElements(e,i);try{const l="jpeg"===t?i.quality??80:void 0,c=await this._page.delegate.takeScreenshot(e,t,n,r,l,o,i.scale||"device");return await a(),s&&await this._page.delegate.setBackgroundColor(),i.__testHookAfterScreenshot&&await e.race(i.__testHookAfterScreenshot()),c}catch(e){throw a().catch(()=>{}),s&&this._page.delegate.setBackgroundColor().catch(()=>{}),e}}}class f{constructor(){this._chain=Promise.resolve()}postTask(e){const t=this._chain.then(e);return this._chain=t.catch(()=>{}),t}}function m(e,t){const n={x:Math.max(0,Math.min(e.x,t.width)),y:Math.max(0,Math.min(e.y,t.height))},r=Math.max(0,Math.min(e.x+e.width,t.width)),o=Math.max(0,Math.min(e.y+e.height,t.height)),i={x:n.x,y:n.y,width:r-n.x,height:o-n.y};return(0,u.assert)(i.width&&i.height,"Clipped area is either empty or outside the resulting image"),i}function g(e){let t=null;return e.type&&((0,u.assert)("png"===e.type||"jpeg"===e.type,"Unknown options.type value: "+e.type),t=e.type),t||(t="png"),void 0!==e.quality&&((0,u.assert)("jpeg"===t,"options.quality is unsupported for the "+t+" screenshots"),(0,u.assert)("number"==typeof e.quality,"Expected options.quality to be a number but found "+typeof e.quality),(0,u.assert)(Number.isInteger(e.quality),"Expected options.quality to be an integer"),(0,u.assert)(e.quality>=0&&e.quality<=100,"Expected options.quality to be between 0 and 100 (inclusive), got "+e.quality)),e.clip&&((0,u.assert)("number"==typeof e.clip.x,"Expected options.clip.x to be a number but found "+typeof e.clip.x),(0,u.assert)("number"==typeof e.clip.y,"Expected options.clip.y to be a number but found "+typeof e.clip.y),(0,u.assert)("number"==typeof e.clip.width,"Expected options.clip.width to be a number but found "+typeof e.clip.width),(0,u.assert)("number"==typeof e.clip.height,"Expected options.clip.height to be a number but found "+typeof e.clip.height),(0,u.assert)(0!==e.clip.width,"Expected options.clip.width not to be 0."),(0,u.assert)(0!==e.clip.height,"Expected options.clip.height not to be 0.")),t}},"./node_modules/playwright-core/lib/server/selectors.js":(e,t,n)=>{"use strict";var r,o=Object.defineProperty,i=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,l={};((e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})})(l,{Selectors:()=>d}),e.exports=(r=l,((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let n of s(t))a.call(e,n)||undefined===n||o(e,n,{get:()=>t[n],enumerable:!(r=i(t,n))||r.enumerable});return e})(o({},"__esModule",{value:!0}),r));var c=n("./node_modules/playwright-core/lib/server/utils/crypto.js"),u=n("./node_modules/playwright-core/lib/utils/isomorphic/selectorParser.js");class d{constructor(e,t){this.guid=`selectors@${(0,c.createGuid)()}`,this._builtinEngines=new Set(["css","css:light","xpath","xpath:light","_react","_vue","text","text:light","id","id:light","data-testid","data-testid:light","data-test-id","data-test-id:light","data-test","data-test:light","nth","visible","internal:control","internal:has","internal:has-not","internal:has-text","internal:has-not-text","internal:and","internal:or","internal:chain","role","internal:attr","internal:label","internal:text","internal:role","internal:testid","internal:describe","aria-ref"]),this._builtinEnginesInMainWorld=new Set(["_react","_vue"]),this._engines=new Map,this._testIdAttributeName=t??"data-testid";for(const t of e)this.register(t)}register(e){if(!e.name.match(/^[a-zA-Z_0-9-]+$/))throw new Error("Selector engine name may only contain [a-zA-Z0-9_] characters");if(this._builtinEngines.has(e.name)||"zs"===e.name||"zs:light"===e.name)throw new Error(`"${e.name}" is a predefined selector engine`);if(this._engines.has(e.name))throw new Error(`"${e.name}" selector engine has been already registered`);this._engines.set(e.name,e)}testIdAttributeName(){return this._testIdAttributeName}setTestIdAttributeName(e){this._testIdAttributeName=e}parseSelector(e,t){const n="string"==typeof e?(0,u.parseSelector)(e):e;let r=!1;return(0,u.visitAllSelectorParts)(n,e=>{const t=e.name,o=this._engines.get(t);if(!o&&!this._builtinEngines.has(t))throw new u.InvalidSelectorError(`Unknown engine "${t}" while parsing selector ${(0,u.stringifySelector)(n)}`);o&&!o.contentScript&&(r=!0),this._builtinEnginesInMainWorld.has(t)&&(r=!0)}),{parsed:n,world:r?"main":"utility",strict:t}}}},"./node_modules/playwright-core/lib/server/socksClientCertificatesInterceptor.js":(e,t,n)=>{"use strict";var r,o=Object.create,i=Object.defineProperty,s=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,l=Object.getPrototypeOf,c=Object.prototype.hasOwnProperty,u=(e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let o of a(t))c.call(e,o)||o===n||i(e,o,{get:()=>t[o],enumerable:!(r=s(t,o))||r.enumerable});return e},d=(e,t,n)=>(n=null!=e?o(l(e)):{},u(!t&&e&&e.__esModule?n:i(n,"default",{value:e,enumerable:!0}),e)),h={};((e,t)=>{for(var n in t)i(e,n,{get:t[n],enumerable:!0})})(h,{ClientCertificatesProxy:()=>k,getMatchingTLSOptionsForOrigin:()=>I,rewriteOpenSSLErrorIfNeeded:()=>M}),e.exports=(r=h,u(i({},"__esModule",{value:!0}),r));var p=n("events"),f=d(n("http2")),m=d(n("net")),g=d(n("stream")),b=d(n("tls")),w=n("./node_modules/playwright-core/lib/server/utils/socksProxy.js"),y=n("./node_modules/playwright-core/lib/utils.js"),v=n("./node_modules/playwright-core/lib/server/browserContext.js"),A=n("./node_modules/playwright-core/lib/server/utils/network.js"),_=n("./node_modules/playwright-core/lib/server/utils/debugLogger.js"),x=n("./node_modules/playwright-core/lib/server/utils/happyEyeballs.js"),S=n("./node_modules/playwright-core/lib/utilsBundle.js");let E;class C{constructor(e,t,n,r){this._firstPackageReceived=!1,this._closed=!1,this.socksProxy=e,this.uid=t,this.host=n,this.port=r,this._serverCloseEventListener=()=>{this._browserEncrypted.destroy()},this._browserEncrypted=new g.default.Duplex({read:()=>{},write:(e,t,n)=>{this.socksProxy._socksProxy.sendSocketData({uid:this.uid,data:e}),n()},destroy:(t,n)=>{t?e._socksProxy.sendSocketError({uid:this.uid,error:t.message}):e._socksProxy.sendSocketEnd({uid:this.uid}),n()}})}async connect(){const e=this.socksProxy.getProxyAgent(this.host,this.port);this._serverEncrypted=e?await e.callback(new p.EventEmitter,{host:B(this.host),port:this.port,secureEndpoint:!1}):await(0,x.createSocket)(B(this.host),this.port),this._serverEncrypted.once("close",this._serverCloseEventListener),this._serverEncrypted.once("error",e=>this._browserEncrypted.destroy(e)),this._closed?this._serverEncrypted.destroy():this.socksProxy._socksProxy.socketConnected({uid:this.uid,host:this._serverEncrypted.localAddress,port:this._serverEncrypted.localPort})}onClose(){this._serverEncrypted.destroy(),this._browserEncrypted.destroy(),this._closed=!0}onData(e){this._firstPackageReceived||(this._firstPackageReceived=!0,22===e[0]?this._establishTlsTunnel(this._browserEncrypted,e):this._establishPlaintextTunnel(this._browserEncrypted)),this._browserEncrypted.push(e)}_establishPlaintextTunnel(e){e.pipe(this._serverEncrypted),this._serverEncrypted.pipe(e)}_establishTlsTunnel(e,t){const n=function(e){if(e.length<6)return null;if(22!==e[0])return null;let t=5;if(1!==e[t])return null;if(t+=4,t+=2,t+=32,t>=e.length)return null;if(t+=1+e[t],t+2>e.length)return null;if(t+=2+e.readUInt16BE(t),t>=e.length)return null;if(t+=1+e[t],t+2>e.length)return null;const n=e.readUInt16BE(t);t+=2;const r=t+n;if(r>e.length)return null;for(;t+4<=r;){const n=e.readUInt16BE(t);t+=2;const o=e.readUInt16BE(t);if(t+=2,t+o>r)return null;if(16===n)return P(e.subarray(t,t+o));t+=o}return null}(t)||["http/1.1"];_.debugLogger.log("client-certificates",`Browser->Proxy ${this.host}:${this.port} offers ALPN ${n}`);const r=b.default.connect({socket:this._serverEncrypted,host:this.host,port:this.port,rejectUnauthorized:!this.socksProxy.ignoreHTTPSErrors,ALPNProtocols:n,servername:m.default.isIP(this.host)?void 0:this.host,secureContext:this.socksProxy.secureContextMap.get(new URL(`https://${this.host}:${this.port}`).origin)},async()=>{const t=await this._upgradeToTLSIfNeeded(e,r.alpnProtocol);_.debugLogger.log("client-certificates",`Proxy->Server ${this.host}:${this.port} chooses ALPN ${t.alpnProtocol}`),t.pipe(r),r.pipe(t);const n=e=>this._serverEncrypted.destroy(e);t.once("error",n),r.once("error",n),t.once("close",n),r.once("close",n),this._closed&&r.destroy()});r.once("error",async e=>{_.debugLogger.log("client-certificates",`error when connecting to server: ${e.message.replaceAll("\n"," ")}`),this._serverEncrypted.removeListener("close",this._serverCloseEventListener),this._serverEncrypted.destroy();const t=await this._upgradeToTLSIfNeeded(this._browserEncrypted,r.alpnProtocol),n=(0,y.escapeHTML)("Playwright client-certificate error: "+e.message).replaceAll("\n"," <br>");if("h2"===t.alpnProtocol)if("performServerHandshake"in f.default){const e=f.default.performServerHandshake(t);e.on("error",e=>{this._browserEncrypted.destroy(e)}),e.once("stream",t=>{const r=t=>{e.close(),this._browserEncrypted.destroy(t)};t.once("end",r),t.once("error",r),t.respond({[f.default.constants.HTTP2_HEADER_CONTENT_TYPE]:"text/html",[f.default.constants.HTTP2_HEADER_STATUS]:503}),t.end(n)})}else this._browserEncrypted.destroy(e);else t.end(["HTTP/1.1 503 Internal Server Error","Content-Type: text/html; charset=utf-8","Content-Length: "+Buffer.byteLength(n),"",n].join("\r\n"))})}async _upgradeToTLSIfNeeded(e,t){return this._brorwserDecrypted??=new Promise((n,r)=>{const o=b.default.createServer({...E,ALPNProtocols:[t||"http/1.1"]});o.emit("connection",e),o.once("secureConnection",e=>{o.close(),n(e)}),o.once("error",e=>{o.close(),r(e)})}),this._brorwserDecrypted}}class k{constructor(e){this._connections=new Map,this.secureContextMap=new Map,(0,v.verifyClientCertificates)(e.clientCertificates),this.ignoreHTTPSErrors=e.ignoreHTTPSErrors,this._proxy=e.proxy,this._initSecureContexts(e.clientCertificates),this._socksProxy=new w.SocksProxy,this._socksProxy.setPattern("*"),this._socksProxy.addListener(w.SocksProxy.Events.SocksRequested,async e=>{try{const t=new C(this,e.uid,e.host,e.port);await t.connect(),this._connections.set(e.uid,t)}catch(t){_.debugLogger.log("client-certificates",`Failed to connect to ${e.host}:${e.port}: ${t.message}`),this._socksProxy.socketFailed({uid:e.uid,errorCode:t.code})}}),this._socksProxy.addListener(w.SocksProxy.Events.SocksData,e=>{this._connections.get(e.uid)?.onData(e.data)}),this._socksProxy.addListener(w.SocksProxy.Events.SocksClosed,e=>{this._connections.get(e.uid)?.onClose(),this._connections.delete(e.uid)}),function(){if(E)return;const{cert:e,key:t}=(0,y.generateSelfSignedCertificate)();E={key:t,cert:e}}()}getProxyAgent(e,t){const n=(0,A.createProxyAgent)(this._proxy);if(n)return n;const r=(0,S.getProxyForUrl)(`https://${e}:${t}`);return r?(0,A.createProxyAgent)({server:r}):void 0}_initSecureContexts(e){const t=new Map;for(const n of e||[]){const e=O(n.origin),r=t.get(e)||[];r.push(n),t.set(e,r)}for(const[e,n]of t)try{this.secureContextMap.set(e,b.default.createSecureContext(T(n)))}catch(e){throw e=M(e),(0,y.rewriteErrorMessage)(e,`Failed to load client certificate: ${e.message}`)}}static async create(e,t){const n=new k(t);try{return await e.race(n._socksProxy.listen(0,"127.0.0.1")),n}catch(e){throw await n.close(),e}}proxySettings(){return{server:`socks5://127.0.0.1:${this._socksProxy.port()}`}}async close(){await this._socksProxy.close()}}function O(e){try{return new URL(e).origin}catch(t){return e}}function T(e){if(!e||!e.length)return;const t={pfx:[],key:[],cert:[]};for(const n of e)n.cert&&t.cert.push(n.cert),n.key&&t.key.push({pem:n.key,passphrase:n.passphrase}),n.pfx&&t.pfx.push({buf:n.pfx,passphrase:n.passphrase});return t}function I(e,t){const n=e?.filter(e=>O(e.origin)===t);return T(n)}function B(e){return"local.playwright"===e?"localhost":e}function M(e){return"unsupported"!==e.message&&"ERR_CRYPTO_UNSUPPORTED_OPERATION"!==e.code?e:(0,y.rewriteErrorMessage)(e,["Unsupported TLS certificate.","Most likely, the security algorithm of the given certificate was deprecated by OpenSSL.","For more details, see https://github.com/openssl/openssl/blob/master/README-PROVIDERS.md#the-legacy-provider","You could probably modernize the certificate by following the steps at https://github.com/nodejs/node/issues/40672#issuecomment-1243648223"].join("\n"))}function P(e){if(e.length<2)return null;if(e.readUInt16BE(0)!==e.length-2)return null;const t=[];let n=2;for(;n<e.length;){const r=e[n];if(n+=1,n+r>e.length)break;const o=e.subarray(n,n+r).toString("utf8");t.push(o),n+=r}return t.length>0?t:null}},"./node_modules/playwright-core/lib/server/socksInterceptor.js":(e,t,n)=>{"use strict";var r,o=Object.create,i=Object.defineProperty,s=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,l=Object.getPrototypeOf,c=Object.prototype.hasOwnProperty,u=(e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let o of a(t))c.call(e,o)||o===n||i(e,o,{get:()=>t[o],enumerable:!(r=s(t,o))||r.enumerable});return e},d=(e,t,n)=>(n=null!=e?o(l(e)):{},u(!t&&e&&e.__esModule?n:i(n,"default",{value:e,enumerable:!0}),e)),h={};((e,t)=>{for(var n in t)i(e,n,{get:t[n],enumerable:!0})})(h,{SocksInterceptor:()=>b}),e.exports=(r=h,u(i({},"__esModule",{value:!0}),r));var p=d(n("events")),f=d(n("./node_modules/playwright-core/lib/server/utils/socksProxy.js")),m=n("./node_modules/playwright-core/lib/protocol/validator.js"),g=n("./node_modules/playwright-core/lib/server/utils/debug.js");class b{constructor(e,t,n){this._ids=new Set,this._handler=new f.SocksProxyHandler(t,n);let r=-1;this._channel=new Proxy(new p.default,{get:(t,n)=>n in t||void 0!==t[n]||"string"!=typeof n?t[n]:t=>{try{const o=--r;this._ids.add(o),t=(0,m.findValidator)("SocksSupport",n,"Params")(t,"",{tChannelImpl:w,binary:"toBase64",isUnderTest:g.isUnderTest}),e.send({id:o,guid:this._socksSupportObjectGuid,method:n,params:t,metadata:{stack:[],apiName:"",internal:!0}})}catch(e){}}}),this._handler.on(f.SocksProxyHandler.Events.SocksConnected,e=>this._channel.socksConnected(e)),this._handler.on(f.SocksProxyHandler.Events.SocksData,e=>this._channel.socksData(e)),this._handler.on(f.SocksProxyHandler.Events.SocksError,e=>this._channel.socksError(e)),this._handler.on(f.SocksProxyHandler.Events.SocksFailed,e=>this._channel.socksFailed(e)),this._handler.on(f.SocksProxyHandler.Events.SocksEnd,e=>this._channel.socksEnd(e)),this._channel.on("socksRequested",e=>this._handler.socketRequested(e)),this._channel.on("socksClosed",e=>this._handler.socketClosed(e)),this._channel.on("socksData",e=>this._handler.sendSocketData(e))}cleanup(){this._handler.cleanup()}interceptMessage(e){if(this._ids.has(e.id))return this._ids.delete(e.id),!0;if("__create__"===e.method&&"SocksSupport"===e.params.type)return this._socksSupportObjectGuid=e.params.guid,!1;if(this._socksSupportObjectGuid&&e.guid===this._socksSupportObjectGuid){const t=(0,m.findValidator)("SocksSupport",e.method,"Event")(e.params,"",{tChannelImpl:w,binary:"fromBase64",isUnderTest:g.isUnderTest});return this._channel.emit(e.method,t),!0}return!1}}function w(e,t,n,r){throw new m.ValidationError(`${n}: channels are not expected in SocksSupport`)}},"./node_modules/playwright-core/lib/server/trace/recorder/snapshotter.js":(e,t,n)=>{"use strict";var r,o=Object.defineProperty,i=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,l={};((e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})})(l,{Snapshotter:()=>b}),e.exports=(r=l,((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let n of s(t))a.call(e,n)||undefined===n||o(e,n,{get:()=>t[n],enumerable:!(r=i(t,n))||r.enumerable});return e})(o({},"__esModule",{value:!0}),r));var c=n("./node_modules/playwright-core/lib/server/trace/recorder/snapshotterInjected.js"),u=n("./node_modules/playwright-core/lib/utils/isomorphic/time.js"),d=n("./node_modules/playwright-core/lib/server/utils/crypto.js"),h=n("./node_modules/playwright-core/lib/server/utils/debugLogger.js"),p=n("./node_modules/playwright-core/lib/server/utils/eventsHelper.js"),f=n("./node_modules/playwright-core/lib/utilsBundle.js"),m=n("./node_modules/playwright-core/lib/server/browserContext.js"),g=n("./node_modules/playwright-core/lib/server/page.js");class b{constructor(e,t){this._eventListeners=[],this._started=!1,this._context=e,this._delegate=t;const n=(0,d.createGuid)();this._snapshotStreamer="__playwright_snapshot_streamer_"+n}started(){return this._started}async start(){this._started=!0,this._initScript||await this._initialize(),await this.reset()}async reset(){this._started&&await this._context.safeNonStallingEvaluateInAllFrames(`window["${this._snapshotStreamer}"].reset()`,"main")}stop(){this._started=!1}async resetForReuse(){this._initScript&&(p.eventsHelper.removeEventListeners(this._eventListeners),await this._context.removeInitScripts([this._initScript]),this._initScript=void 0)}async _initialize(){for(const e of this._context.pages())this._onPage(e);this._eventListeners=[p.eventsHelper.addEventListener(this._context,m.BrowserContext.Events.Page,this._onPage.bind(this))];const{javaScriptEnabled:e}=this._context._options,t=`(${c.frameSnapshotStreamer})("${this._snapshotStreamer}", ${e||void 0===e})`;this._initScript=await this._context.addInitScript(void 0,t),await this._context.safeNonStallingEvaluateInAllFrames(t,"main")}dispose(){p.eventsHelper.removeEventListeners(this._eventListeners)}async _captureFrameSnapshot(e){const t=!!e[w];e[w]=!1;const n=`window["${this._snapshotStreamer}"].captureSnapshot(${t?"true":"false"})`;try{return await e.nonStallingRawEvaluateInExistingMainContext(n)}catch(t){e[w]=!0,h.debugLogger.log("error",t)}}async captureSnapshot(e,t,n){const r=e.frames().map(async r=>{const o=await this._captureFrameSnapshot(r);if(!o||!this._started)return;const i={callId:t,snapshotName:n,pageId:e.guid,frameId:r.guid,frameUrl:o.url,doctype:o.doctype,html:o.html,viewport:o.viewport,timestamp:(0,u.monotonicTime)(),wallTime:o.wallTime,collectionTime:o.collectionTime,resourceOverrides:[],isMainFrame:e.mainFrame()===r};for(const{url:e,content:t,contentType:n}of o.resourceOverrides)if("string"==typeof t){const r=Buffer.from(t),o=(0,d.calculateSha1)(r)+"."+(f.mime.getExtension(n)||"dat");this._delegate.onSnapshotterBlob({sha1:o,buffer:r}),i.resourceOverrides.push({url:e,sha1:o})}else i.resourceOverrides.push({url:e,ref:t});this._delegate.onFrameSnapshot(i)});await Promise.all(r)}_onPage(e){for(const t of e.frames())this._annotateFrameHierarchy(t);this._eventListeners.push(p.eventsHelper.addEventListener(e,g.Page.Events.FrameAttached,e=>this._annotateFrameHierarchy(e)))}async _annotateFrameHierarchy(e){try{const t=await e.frameElement(),n=e.parentFrame();if(!n)return;const r=await n._mainContext();await(r?.evaluate(({snapshotStreamer:e,frameElement:t,frameId:n})=>{window[e].markIframe(t,n)},{snapshotStreamer:this._snapshotStreamer,frameElement:t,frameId:e.guid})),t.dispose()}catch(e){}}}const w=Symbol("kNeedsReset")},"./node_modules/playwright-core/lib/server/trace/recorder/snapshotterInjected.js":e=>{"use strict";var t,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,i=Object.prototype.hasOwnProperty,s={};function a(e,t){if(window[e])return;const n="__playwright_value_",r="__playwright_checked_",o="__playwright_selected_",i="__playwright_scroll_top_",s="__playwright_scroll_left_",a="__playwright_style_sheet_",l="__playwright_target__",c="__playwright_custom_elements__",u="__playwright_current_src__",d="__playwright_bounding_rect__",h="__playwright_popover_open_",p="__playwright_dialog_open_",f=Symbol("__playwright_snapshot_frameid_"),m=Symbol("__playwright_snapshot_cache_"),g=Symbol("__playwright_end_of_list_");function b(e){return e[m]||(e[m]={}),e[m]}function w(e){try{const t=new URL(e);return t.hash="",t.toString()}catch(t){return e}}window[e]=new class{constructor(){this._lastSnapshotNumber=0,this._staleStyleSheets=new Set,this._readingStyleSheet=!1;const e=e=>{e.parentStyleSheet&&this._invalidateStyleSheet(e.parentStyleSheet)};this._interceptNativeMethod(window.CSSStyleSheet.prototype,"insertRule",e=>this._invalidateStyleSheet(e)),this._interceptNativeMethod(window.CSSStyleSheet.prototype,"deleteRule",e=>this._invalidateStyleSheet(e)),this._interceptNativeMethod(window.CSSStyleSheet.prototype,"addRule",e=>this._invalidateStyleSheet(e)),this._interceptNativeMethod(window.CSSStyleSheet.prototype,"removeRule",e=>this._invalidateStyleSheet(e)),this._interceptNativeGetter(window.CSSStyleSheet.prototype,"rules",e=>this._invalidateStyleSheet(e)),this._interceptNativeGetter(window.CSSStyleSheet.prototype,"cssRules",e=>this._invalidateStyleSheet(e)),this._interceptNativeMethod(window.CSSStyleSheet.prototype,"replaceSync",e=>this._invalidateStyleSheet(e)),this._interceptNativeMethod(window.CSSGroupingRule.prototype,"insertRule",e),this._interceptNativeMethod(window.CSSGroupingRule.prototype,"deleteRule",e),this._interceptNativeGetter(window.CSSGroupingRule.prototype,"cssRules",e),this._interceptNativeAsyncMethod(window.CSSStyleSheet.prototype,"replace",e=>this._invalidateStyleSheet(e)),this._fakeBase=document.createElement("base"),this._observer=new MutationObserver(e=>this._handleMutations(e)),this._observer.observe(document,{attributes:!0,subtree:!0}),this._refreshListenersWhenNeeded()}_refreshListenersWhenNeeded(){this._refreshListeners();const e="__playwright_snapshotter_global_listeners_check__";let t=!1;const n=()=>t=!0;window.addEventListener(e,n),new MutationObserver(r=>{r.some(e=>Array.from(e.addedNodes).includes(document.documentElement))&&(t=!1,window.dispatchEvent(new CustomEvent(e)),t||(window.addEventListener(e,n),this._refreshListeners()))}).observe(document,{childList:!0})}_refreshListeners(){document.addEventListener("__playwright_mark_target__",e=>{if(!e.detail)return;const t=e.detail;e.composedPath()[0].__playwright_target__=t}),document.addEventListener("__playwright_unmark_target__",e=>{if(!e.detail)return;const t=e.detail;e.composedPath()[0].__playwright_target__===t&&delete e.composedPath()[0].__playwright_target__})}_interceptNativeMethod(e,t,n){const r=e[t];r&&(e[t]=function(...e){const t=r.call(this,...e);return n(this,t),t})}_interceptNativeAsyncMethod(e,t,n){const r=e[t];r&&(e[t]=async function(...e){const t=await r.call(this,...e);return n(this,t),t})}_interceptNativeGetter(e,t,n){const r=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(e,t,{...r,get:function(){const e=r.get.call(this);return n(this,e),e}})}_handleMutations(e){for(const t of e)b(t.target).attributesCached=void 0}_invalidateStyleSheet(e){this._readingStyleSheet||this._staleStyleSheets.add(e)}_updateStyleElementStyleSheetTextIfNeeded(e,t){const n=b(e);if(this._staleStyleSheets.has(e)||t&&void 0===n.cssText){this._staleStyleSheets.delete(e);try{n.cssText=this._getSheetText(e)}catch(e){n.cssText=""}}return n.cssText}_updateLinkStyleSheetTextIfNeeded(e,t){const n=b(e);if(this._staleStyleSheets.has(e)){this._staleStyleSheets.delete(e);try{return n.cssText=this._getSheetText(e),n.cssRef=t,n.cssText}catch(e){}}return void 0===n.cssRef?void 0:t-n.cssRef}markIframe(e,t){e[f]=t}reset(){this._staleStyleSheets.clear();const e=t=>{if(delete t[m],t.nodeType===Node.ELEMENT_NODE){const n=t;n.shadowRoot&&e(n.shadowRoot)}for(let n=t.firstChild;n;n=n.nextSibling)e(n)};e(document.documentElement),e(this._fakeBase)}__sanitizeMetaAttribute(e,t,n){if("charset"===e)return"utf-8";if("content-type"!==n.toLowerCase()||"content"!==e)return t;const[r,...o]=t.split(";");if("text/html"!==r||o.length<=0)return t;const i=o.findIndex(e=>e.trim().startsWith("charset="));return i>-1&&(o[i]="charset=utf-8"),`${r}; ${o.join("; ")}`}_sanitizeUrl(e){return e.startsWith("javascript:")||e.startsWith("vbscript:")?"":e}_sanitizeSrcSet(e){return e.split(",").map(e=>{const t=(e=e.trim()).lastIndexOf(" ");return-1===t?this._sanitizeUrl(e):this._sanitizeUrl(e.substring(0,t).trim())+e.substring(t)}).join(", ")}_resolveUrl(e,t){if(""===t)return"";try{return new URL(t,e).href}catch(e){return t}}_getSheetBase(e){let t=e;for(;t.parentStyleSheet;)t=t.parentStyleSheet;return t.ownerNode?t.ownerNode.baseURI:document.baseURI}_getSheetText(e){this._readingStyleSheet=!0;try{const t=[];for(const n of e.cssRules)t.push(n.cssText);return t.join("\n")}finally{this._readingStyleSheet=!1}}captureSnapshot(e){const m=performance.now(),y=++this._lastSnapshotNumber;e&&this.reset();let v=0,A=0,_=0;this._handleMutations(this._observer.takeRecords());const x=new Set,S=e=>{const a=e.nodeType,m=a===Node.DOCUMENT_FRAGMENT_NODE?"template":e.nodeName;if(a!==Node.ELEMENT_NODE&&a!==Node.DOCUMENT_FRAGMENT_NODE&&a!==Node.TEXT_NODE)return;if("SCRIPT"===m)return;if("LINK"===m&&a===Node.ELEMENT_NODE){const t=e.getAttribute("rel")?.toLowerCase();if("preload"===t||"prefetch"===t)return}if(t&&"NOSCRIPT"===m)return;if("META"===m&&"content-security-policy"===e.httpEquiv.toLowerCase())return;if(("IFRAME"===m||"FRAME"===m)&&_)return;const w=b(e),C=[];let k=!!w.cached,O=0;const T=e=>{k=k&&w.cached[C.length]===e,C.push(e)},I=e=>(w.attributesCached=!0,k?{equals:!0,n:[[y-w.ref[0],w.ref[1]]]}:(v+=O,w.ref=[y,v++],w.cached=C,{equals:!1,n:e}));if(a===Node.TEXT_NODE){const t=e.nodeValue||"";return T(t),I(t)}if("STYLE"===m){const t=e.sheet;let n;return t&&(n=this._updateStyleElementStyleSheetTextIfNeeded(t)),n=n||e.textContent||"",T(n),O++,I([m,{},n])}const B={},M=[m,B],P=e=>{const t=S(e);t&&(M.push(t.n),T(e),k=k&&t.equals)},j=e=>{const t=E(e);t&&(M.push(t.n),T(e),k=k&&t.equals)};if(a===Node.DOCUMENT_FRAGMENT_NODE&&(B.__playwright_shadow_root_="open"),a===Node.ELEMENT_NODE){const t=e;if(t.localName.includes("-")&&window.customElements?.get(t.localName)&&x.add(t.localName),"INPUT"===m||"TEXTAREA"===m){const e=t.value;T(n),T(e),B[n]=e}if("INPUT"===m&&["checkbox","radio"].includes(t.type)){const e=t.checked?"true":"false";T(r),T(e),B[r]=e}if("OPTION"===m){const e=t.selected?"true":"false";T(o),T(e),B[o]=e}if("CANVAS"===m||"IFRAME"===m||"FRAME"===m){const e=t.getBoundingClientRect(),n=JSON.stringify({left:e.left,top:e.top,right:e.right,bottom:e.bottom});T(d),T(n),B[d]=n}if(t.popover&&t.matches&&t.matches(":popover-open")){const e="true";T(h),T(e),B[h]=e}if("DIALOG"===m&&t.open){const e=t.matches(":modal")?"modal":"true";T(p),T(e),B[p]=e}t.scrollTop&&(T(i),T(t.scrollTop),B[i]=""+t.scrollTop),t.scrollLeft&&(T(s),T(t.scrollLeft),B[s]=""+t.scrollLeft),t.shadowRoot&&(++A,P(t.shadowRoot),--A),"__playwright_target__"in t&&(T(l),T(t.__playwright_target__),B[l]=t.__playwright_target__)}"HEAD"===m&&(++_,this._fakeBase.setAttribute("href",document.baseURI),P(this._fakeBase));for(let t=e.firstChild;t;t=t.nextSibling)P(t);"HEAD"===m&&--_,T(g);let N=null;if(e.ownerDocument.documentElement===e?N=e.ownerDocument:e.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&(N=e),N){for(const e of N.adoptedStyleSheets||[])j(e);T(g)}if("IFRAME"===m||"FRAME"===m){const t=e[f],n="src",r=t?`/snapshot/${t}`:"";T(n),T(r),B[n]=r}if("BODY"===m&&x.size){const e=[...x].join(",");T(c),T(e),B[c]=e}if("IMG"===m||"PICTURE"===m){const t="PICTURE"===m?"":this._sanitizeUrl(e.currentSrc);T(u),T(t),B[u]=t}if(k&&w.attributesCached&&!A)return I(M);if(a===Node.ELEMENT_NODE){const t=e;for(let n=0;n<t.attributes.length;n++){const r=t.attributes[n].name;if("LINK"===m&&"integrity"===r)continue;if("IFRAME"===m&&("src"===r||"srcdoc"===r||"sandbox"===r))continue;if("FRAME"===m&&"src"===r)continue;if("DIALOG"===m&&"open"===r)continue;let o=t.attributes[n].value;"META"===m?o=this.__sanitizeMetaAttribute(r,o,e.httpEquiv):"src"===r&&"IMG"===m?o=this._sanitizeUrl(o):"srcset"===r&&"IMG"===m||"srcset"===r&&"SOURCE"===m?o=this._sanitizeSrcSet(o):"href"===r&&"LINK"===m?o=this._sanitizeUrl(o):r.startsWith("on")&&(o=""),T(r),T(o),B[r]=o}T(g)}return 2!==M.length||Object.keys(B).length||M.pop(),I(M)},E=e=>{const t=b(e),n=t.cssText,r=this._updateStyleElementStyleSheetTextIfNeeded(e,!0);return r===n?{equals:!0,n:[[y-t.ref[0],t.ref[1]]]}:(t.ref=[y,v++],{equals:!1,n:["template",{[a]:r}]})};let C;if(document.documentElement){const{n:e}=S(document.documentElement);C=e}else C=["html"];const k={html:C,doctype:document.doctype?document.doctype.name:void 0,resourceOverrides:[],viewport:{width:window.innerWidth,height:window.innerHeight},url:location.href,wallTime:Date.now(),collectionTime:0};for(const e of this._staleStyleSheets){if(null===e.href)continue;const t=this._updateLinkStyleSheetTextIfNeeded(e,y);if(void 0===t)continue;const n=this._getSheetBase(e),r=w(this._resolveUrl(n,e.href));k.resourceOverrides.push({url:r,content:t,contentType:"text/css"})}return k.collectionTime=performance.now()-m,k}}}((e,t)=>{for(var r in t)n(e,r,{get:t[r],enumerable:!0})})(s,{frameSnapshotStreamer:()=>a}),e.exports=(t=s,((e,t,s,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let s of o(t))i.call(e,s)||undefined===s||n(e,s,{get:()=>t[s],enumerable:!(a=r(t,s))||a.enumerable});return e})(n({},"__esModule",{value:!0}),t))},"./node_modules/playwright-core/lib/server/trace/recorder/tracing.js":(e,t,n)=>{"use strict";var r,o=Object.create,i=Object.defineProperty,s=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,l=Object.getPrototypeOf,c=Object.prototype.hasOwnProperty,u=(e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let o of a(t))c.call(e,o)||o===n||i(e,o,{get:()=>t[o],enumerable:!(r=s(t,o))||r.enumerable});return e},d=(e,t,n)=>(n=null!=e?o(l(e)):{},u(!t&&e&&e.__esModule?n:i(n,"default",{value:e,enumerable:!0}),e)),h={};((e,t)=>{for(var n in t)i(e,n,{get:t[n],enumerable:!0})})(h,{Tracing:()=>M}),e.exports=(r=h,u(i({},"__esModule",{value:!0}),r));var p=d(n("fs")),f=d(n("os")),m=d(n("path")),g=n("./node_modules/playwright-core/lib/server/trace/recorder/snapshotter.js"),b=n("./node_modules/playwright-core/lib/utils/isomorphic/protocolMetainfo.js"),w=n("./node_modules/playwright-core/lib/utils/isomorphic/assert.js"),y=n("./node_modules/playwright-core/lib/utils/isomorphic/time.js"),v=n("./node_modules/playwright-core/lib/server/utils/eventsHelper.js"),A=n("./node_modules/playwright-core/lib/server/utils/crypto.js"),_=n("./node_modules/playwright-core/lib/server/artifact.js"),x=n("./node_modules/playwright-core/lib/server/browserContext.js"),S=n("./node_modules/playwright-core/lib/server/dispatchers/dispatcher.js"),E=n("./node_modules/playwright-core/lib/server/errors.js"),C=n("./node_modules/playwright-core/lib/server/utils/fileUtils.js"),k=n("./node_modules/playwright-core/lib/server/har/harTracer.js"),O=n("./node_modules/playwright-core/lib/server/instrumentation.js"),T=n("./node_modules/playwright-core/lib/server/page.js"),I=n("./node_modules/playwright-core/lib/server/progress.js");const B={width:800,height:600,quality:90};class M extends O.SdkObject{constructor(e,t){super(e,"tracing"),this._fs=new C.SerializedFS,this._screencastListeners=[],this._eventListeners=[],this._isStopping=!1,this._allResources=new Set,this._pendingHarEntries=new Set,this._context=e,this._precreatedTracesDir=t,this._harTracer=new k.HarTracer(e,null,this,{content:"attach",includeTraceInfo:!0,recordRequestOverrides:!1,waitForContentOnStop:!1});const n="selectors"in e?e.selectors().testIdAttributeName():void 0;this._contextCreatedEvent={version:8,type:"context-options",origin:"library",browserName:"",options:{},platform:process.platform,wallTime:0,monotonicTime:0,sdkLanguage:this._sdkLanguage(),testIdAttributeName:n,contextId:e.guid},e instanceof x.BrowserContext&&(this._snapshotter=new g.Snapshotter(e,this),(0,w.assert)(t,"tracesDir must be specified for BrowserContext"),this._contextCreatedEvent.browserName=e._browser.options.name,this._contextCreatedEvent.channel=e._browser.options.channel,this._contextCreatedEvent.options=e._options)}_sdkLanguage(){return this._context instanceof x.BrowserContext?this._context._browser.sdkLanguage():this._context.attribution.playwright.options.sdkLanguage}async resetForReuse(e){await this.stopChunk(e,{mode:"discard"}).catch(()=>{}),await this.stop(e),this._snapshotter&&await e.race(this._snapshotter.resetForReuse())}start(e){if(this._isStopping)throw new Error("Cannot start tracing while stopping");if(this._state)throw new Error("Tracing has been already started");this._contextCreatedEvent.sdkLanguage=this._sdkLanguage();const t=e.name||(0,A.createGuid)(),n=this._createTracesDirIfNeeded();this._state={options:e,traceName:t,tracesDir:n,traceFile:m.default.join(n,t+".trace"),networkFile:m.default.join(n,t+".network"),resourcesDir:m.default.join(n,"resources"),chunkOrdinal:0,traceSha1s:new Set,networkSha1s:new Set,recording:!1,callIds:new Set,groupStack:[]},this._fs.mkdir(this._state.resourcesDir),this._fs.writeFile(this._state.networkFile,""),e.snapshots&&this._harTracer.start({omitScripts:!e.live})}async startChunk(e,t={}){if(this._state&&this._state.recording&&await this.stopChunk(e,{mode:"discard"}),!this._state)throw new Error("Must start tracing before starting a new chunk");if(this._isStopping)throw new Error("Cannot start a trace chunk while stopping");this._state.recording=!0,this._state.callIds.clear();const n=this._context instanceof x.BrowserContext;t.name&&t.name!==this._state.traceName?this._changeTraceName(this._state,t.name,n):this._allocateNewTraceFile(this._state),n||this._fs.writeFile(this._state.networkFile,""),this._fs.mkdir(m.default.dirname(this._state.traceFile));const r={...this._contextCreatedEvent,title:t.title,wallTime:Date.now(),monotonicTime:(0,y.monotonicTime)()};return this._appendTraceEvent(r),this._context.instrumentation.addListener(this,this._context),this._eventListeners.push(v.eventsHelper.addEventListener(this._context,x.BrowserContext.Events.Console,this._onConsoleMessage.bind(this)),v.eventsHelper.addEventListener(this._context,x.BrowserContext.Events.PageError,this._onPageError.bind(this))),this._state.options.screenshots&&this._startScreencast(),this._state.options.snapshots&&await(this._snapshotter?.start()),{traceName:this._state.traceName}}_currentGroupId(){return this._state?.groupStack.length?this._state.groupStack[this._state.groupStack.length-1]:void 0}group(e,t,n){if(!this._state)return;const r=[],{file:o,line:i,column:s}=t??n.location??{};o&&r.push({file:o,line:i??0,column:s??0});const a={type:"before",callId:n.id,startTime:n.startTime,title:e,class:"Tracing",method:"tracingGroup",params:{},stepId:n.stepId,stack:r};this._currentGroupId()&&(a.parentId=this._currentGroupId()),this._state.groupStack.push(a.callId),this._appendTraceEvent(a)}groupEnd(){if(!this._state)return;const e=this._state.groupStack.pop();if(!e)return;const t={type:"after",callId:e,endTime:(0,y.monotonicTime)()};this._appendTraceEvent(t)}_startScreencast(){if(this._context instanceof x.BrowserContext){for(const e of this._context.pages())this._startScreencastInPage(e);this._screencastListeners.push(v.eventsHelper.addEventListener(this._context,x.BrowserContext.Events.Page,this._startScreencastInPage.bind(this)))}}_stopScreencast(){if(v.eventsHelper.removeEventListeners(this._screencastListeners),this._context instanceof x.BrowserContext)for(const e of this._context.pages())e.setScreencastOptions(null)}_allocateNewTraceFile(e){const t=e.chunkOrdinal?`-chunk${e.chunkOrdinal}`:"";e.chunkOrdinal++,e.traceFile=m.default.join(e.tracesDir,`${e.traceName}${t}.trace`)}_changeTraceName(e,t,n){e.traceName=t,e.chunkOrdinal=0,this._allocateNewTraceFile(e);const r=m.default.join(e.tracesDir,t+".network");n&&this._fs.copyFile(e.networkFile,r),e.networkFile=r}async stop(e){if(!this._state)return;if(this._isStopping)throw new Error("Tracing is already stopping");if(this._state.recording)throw new Error("Must stop trace file before stopping tracing");this._closeAllGroups(),this._harTracer.stop(),this.flushHarEntries();const t=e?e.race(this._fs.syncAndGetError()):this._fs.syncAndGetError();await t.finally(()=>{this._state=void 0})}async deleteTmpTracesDir(){this._tracesTmpDir&&await(0,C.removeFolders)([this._tracesTmpDir])}_createTracesDirIfNeeded(){return this._precreatedTracesDir?this._precreatedTracesDir:(this._tracesTmpDir=p.default.mkdtempSync(m.default.join(f.default.tmpdir(),"playwright-tracing-")),this._tracesTmpDir)}abort(){this._snapshotter?.dispose(),this._harTracer.stop()}async flush(){this.abort(),await this._fs.syncAndGetError()}_closeAllGroups(){for(;this._currentGroupId();)this.groupEnd()}async stopChunk(e,t){if(this._isStopping)throw new Error("Tracing is already stopping");if(this._isStopping=!0,!this._state||!this._state.recording){if(this._isStopping=!1,"discard"!==t.mode)throw new Error("Must start tracing before stopping");return{}}this._closeAllGroups(),this._context.instrumentation.removeListener(this),v.eventsHelper.removeEventListeners(this._eventListeners),this._state.options.screenshots&&this._stopScreencast(),this._state.options.snapshots&&this._snapshotter?.stop(),this.flushHarEntries();const n=m.default.join(this._state.tracesDir,this._state.traceName+`-pwnetcopy-${this._state.chunkOrdinal}.network`),r=[];r.push({name:"trace.trace",value:this._state.traceFile}),r.push({name:"trace.network",value:n});for(const e of new Set([...this._state.traceSha1s,...this._state.networkSha1s]))r.push({name:m.default.join("resources",e),value:m.default.join(this._state.resourcesDir,e)});if(this._state.traceSha1s=new Set,"discard"===t.mode)return this._isStopping=!1,this._state.recording=!1,{};this._fs.copyFile(this._state.networkFile,n);const o=this._state.traceFile+".zip";"archive"===t.mode&&this._fs.zip(r,o);const i=e?e.race(this._fs.syncAndGetError()):this._fs.syncAndGetError(),s=await i.catch(e=>e);if(this._isStopping=!1,this._state&&(this._state.recording=!1),s){if(!(0,I.isAbortError)(s)&&this._context instanceof x.BrowserContext&&!this._context._browser.isConnected())return{};throw s}if("entries"===t.mode)return{entries:r};const a=new _.Artifact(this._context,o);return a.reportFinished(),{artifact:a}}async _captureSnapshot(e,t,n){this._snapshotter&&t.attribution.page&&this._snapshotter.started()&&function(e){const t=b.methodMetainfo.get(e.type+"."+e.method);return!!t?.snapshot}(n)&&await this._snapshotter.captureSnapshot(t.attribution.page,n.id,e).catch(()=>{})}onBeforeCall(e,t){const n=function(e,t){if(e.internal||e.method.startsWith("tracing"))return null;const n={type:"before",callId:e.id,startTime:e.startTime,title:e.title,class:e.type,method:e.method,params:e.params,stepId:e.stepId,pageId:e.pageId};return t&&(n.parentId=t),n}(t,this._currentGroupId());return n?(e.attribution.page?.temporarilyDisableTracingScreencastThrottling(),n.beforeSnapshot=`before@${t.id}`,this._state?.callIds.add(t.id),this._appendTraceEvent(n),this._captureSnapshot(n.beforeSnapshot,e,t)):Promise.resolve()}onBeforeInputAction(e,t){if(!this._state?.callIds.has(t.id))return Promise.resolve();const n=function(e){return e.internal||e.method.startsWith("tracing")?null:{type:"input",callId:e.id,point:e.point}}(t);return n?(e.attribution.page?.temporarilyDisableTracingScreencastThrottling(),n.inputSnapshot=`input@${t.id}`,this._appendTraceEvent(n),this._captureSnapshot(n.inputSnapshot,e,t)):Promise.resolve()}onCallLog(e,t,n,r){if(!this._state?.callIds.has(t.id))return;if(t.internal)return;if("api"!==n)return;const o=function(e,t){return e.internal||e.method.startsWith("tracing")?null:{type:"log",callId:e.id,time:(0,y.monotonicTime)(),message:t}}(t,r);o&&this._appendTraceEvent(o)}async onAfterCall(e,t){if(!this._state?.callIds.has(t.id))return;this._state?.callIds.delete(t.id);const n=function(e){return e.internal||e.method.startsWith("tracing")?null:{type:"after",callId:e.id,endTime:e.endTime,error:e.error?.error,result:e.result,point:e.point}}(t);return n?(e.attribution.page?.temporarilyDisableTracingScreencastThrottling(),n.afterSnapshot=`after@${t.id}`,this._appendTraceEvent(n),this._captureSnapshot(n.afterSnapshot,e,t)):void 0}onEntryStarted(e){this._pendingHarEntries.add(e)}onEntryFinished(e){this._pendingHarEntries.delete(e);const t=P({type:"resource-snapshot",snapshot:e},this._state.networkSha1s);this._fs.appendFile(this._state.networkFile,JSON.stringify(t)+"\n",!0)}flushHarEntries(){const e=[];for(const t of this._pendingHarEntries){const n=P({type:"resource-snapshot",snapshot:t},this._state.networkSha1s);e.push(JSON.stringify(n))}this._pendingHarEntries.clear(),e.length&&this._fs.appendFile(this._state.networkFile,e.join("\n")+"\n",!0)}onContentBlob(e,t){this._appendResource(e,t)}onSnapshotterBlob(e){this._appendResource(e.sha1,e.buffer)}onFrameSnapshot(e){this._appendTraceEvent({type:"frame-snapshot",snapshot:e})}_onConsoleMessage(e){const t={type:"console",messageType:e.type(),text:e.text(),args:e.args().map(e=>({preview:e.toString(),value:e.rawValue()})),location:e.location(),time:(0,y.monotonicTime)(),pageId:e.page()?.guid};this._appendTraceEvent(t)}onDialog(e){const t={type:"event",time:(0,y.monotonicTime)(),class:"BrowserContext",method:"dialog",params:{pageId:e.page().guid,type:e.type(),message:e.message(),defaultValue:e.defaultValue()}};this._appendTraceEvent(t)}onDownload(e,t){const n={type:"event",time:(0,y.monotonicTime)(),class:"BrowserContext",method:"download",params:{pageId:e.guid,url:t.url,suggestedFilename:t.suggestedFilename()}};this._appendTraceEvent(n)}onPageOpen(e){const t={type:"event",time:(0,y.monotonicTime)(),class:"BrowserContext",method:"page",params:{pageId:e.guid,openerPageId:e.opener()?.guid}};this._appendTraceEvent(t)}onPageClose(e){const t={type:"event",time:(0,y.monotonicTime)(),class:"BrowserContext",method:"pageClosed",params:{pageId:e.guid}};this._appendTraceEvent(t)}_onPageError(e,t){const n={type:"event",time:(0,y.monotonicTime)(),class:"BrowserContext",method:"pageError",params:{error:(0,E.serializeError)(e)},pageId:t.guid};this._appendTraceEvent(n)}_startScreencastInPage(e){e.setScreencastOptions(B);const t=e.guid;this._screencastListeners.push(v.eventsHelper.addEventListener(e,T.Page.Events.ScreencastFrame,n=>{const r=n.timestamp||Date.now(),o=`${t}-${r}.jpeg`,i={type:"screencast-frame",pageId:e.guid,sha1:o,width:n.width,height:n.height,timestamp:(0,y.monotonicTime)(),frameSwapWallTime:n.frameSwapWallTime};this._appendResource(o,n.buffer),this._appendTraceEvent(i)}))}_appendTraceEvent(e){const t=P(e,this._state.traceSha1s),n=this._state.options.live||"event"!==e.type&&"console"!==e.type&&"log"!==e.type;this._fs.appendFile(this._state.traceFile,JSON.stringify(t)+"\n",n)}_appendResource(e,t){if(this._allResources.has(e))return;this._allResources.add(e);const n=m.default.join(this._state.resourcesDir,e);this._fs.writeFile(n,t,!0)}}function P(e,t){if(Array.isArray(e))return e.map(e=>P(e,t));if(e instanceof S.Dispatcher)return`<${e._type}>`;if(e instanceof Buffer)return"<Buffer>";if(e instanceof Date)return e;if("object"==typeof e){const n={};for(const r in e){if("sha1"===r||"_sha1"===r||r.endsWith("Sha1")){const n=e[r];n&&t.add(n)}n[r]=P(e[r],t)}return n}return e}},"./node_modules/playwright-core/lib/server/trace/viewer/traceViewer.js":(e,t,n)=>{"use strict";var r,o=Object.create,i=Object.defineProperty,s=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,l=Object.getPrototypeOf,c=Object.prototype.hasOwnProperty,u=(e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let o of a(t))c.call(e,o)||o===n||i(e,o,{get:()=>t[o],enumerable:!(r=s(t,o))||r.enumerable});return e},d=(e,t,n)=>(n=null!=e?o(l(e)):{},u(!t&&e&&e.__esModule?n:i(n,"default",{value:e,enumerable:!0}),e)),h={};((e,t)=>{for(var n in t)i(e,n,{get:t[n],enumerable:!0})})(h,{installRootRedirect:()=>E,openTraceInBrowser:()=>T,openTraceViewerApp:()=>O,runTraceInBrowser:()=>k,runTraceViewerApp:()=>C,startTraceViewerServer:()=>S}),e.exports=(r=h,u(i({},"__esModule",{value:!0}),r));var p=d(n("fs")),f=d(n("path")),m=n("./node_modules/playwright-core/lib/utils.js"),g=n("./node_modules/playwright-core/lib/utils.js"),b=n("./node_modules/playwright-core/lib/server/utils/httpServer.js"),w=n("./node_modules/playwright-core/lib/utilsBundle.js"),y=n("./node_modules/playwright-core/lib/server/launchApp.js"),v=n("./node_modules/playwright-core/lib/server/launchApp.js"),A=n("./node_modules/playwright-core/lib/server/playwright.js"),_=n("./node_modules/playwright-core/lib/server/progress.js");function x(e){for(const t of e){let e=t;if(t.endsWith(".json")&&(e=t.substring(0,t.length-5)),!(t.startsWith("http://")||t.startsWith("https://")||p.default.existsSync(e)||p.default.existsSync(e+".trace")))throw new Error(`Trace file ${t} does not exist!`)}}async function S(e){const t=new b.HttpServer;t.routePrefix("/trace",(e,n)=>{const r=new URL("http://localhost"+e.url),o=r.pathname.slice(6);if(process.env.PW_HMR&&n.appendHeader("Access-Control-Allow-Origin","http://localhost:44223"),o.endsWith("/stall.js"))return!0;if(o.startsWith("/file")){try{const o=r.searchParams.get("path");if(p.default.existsSync(o))return t.serveFile(e,n,r.searchParams.get("path"));if(o.endsWith(".json")){const e=o.substring(0,o.length-5);return n.statusCode=200,n.setHeader("Content-Type","application/json"),n.end(JSON.stringify(function(e){const t={entries:[]},n=f.default.dirname(e),r=f.default.basename(e);for(const e of p.default.readdirSync(n))e.startsWith(r)&&t.entries.push({name:e,path:f.default.join(n,e)});const o=f.default.join(n,"resources");if(p.default.existsSync(o))for(const e of p.default.readdirSync(o))t.entries.push({name:"resources/"+e,path:f.default.join(o,e)});return t}(e))),!0}}catch(e){}return n.statusCode=404,n.end(),!0}const i=f.default.join(__dirname,"..","..","..","vite","traceViewer",...o.split("/"));return t.serveFile(e,n,i)});const n=e?.transport||(e?.isServer?new I:void 0);n&&t.createWebSocket(n);const{host:r,port:o}=e||{};return await t.start({preferredPort:o,host:r}),t}async function E(e,t,n){const r=new URLSearchParams;f.default.sep!==f.default.posix.sep&&r.set("pathSeparator",f.default.sep);for(const e of t)r.append("trace",e);e.wsGuid()&&r.append("ws",e.wsGuid()),n?.isServer&&r.append("isServer",""),(0,g.isUnderTest)()&&r.append("isUnderTest","true");for(const e of n.args||[])r.append("arg",e);n.grep&&r.append("grep",n.grep),n.grepInvert&&r.append("grepInvert",n.grepInvert);for(const e of n.project||[])r.append("project",e);for(const e of n.reporter||[])r.append("reporter",e);let o=".";process.env.PW_HMR&&(o="http://localhost:44223",r.set("server",e.urlPrefix("precise")));const i=`${o}/trace/${n.webApp||"index.html"}?${r.toString()}`;e.routePath("/",(e,t)=>(t.statusCode=302,t.setHeader("Location",i),t.end(),!0))}async function C(e,t,n,r){x(e);const o=await S(n);await E(o,e,n);const i=await O(o.urlPrefix("precise"),t,n);return r&&i.on("close",()=>(0,m.gracefullyProcessExitDoNotHang)(0)),i}async function k(e,t){x(e);const n=await S(t);await E(n,e,t),await T(n.urlPrefix("human-readable"))}async function O(e,t,n){const r=(0,A.createPlaywright)({sdkLanguage:"javascript",isInternalPlaywright:!0}),o=(0,g.isUnderTest)()?"chromium":t,{context:i,page:s}=await(0,v.launchApp)(r[o],{sdkLanguage:r.options.sdkLanguage,windowSize:{width:1280,height:800},persistentContextOptions:{...n?.persistentContextOptions,cdpPort:(0,g.isUnderTest)()?0:void 0,headless:!!n?.headless,colorScheme:(0,g.isUnderTest)()?"light":void 0}}),a=new _.ProgressController;return await a.run(async t=>{await i._browser._defaultContext._loadDefaultContextAsIs(t),process.env.PWTEST_PRINT_WS_ENDPOINT&&process.stderr.write("DevTools listening on: "+i._browser.options.wsEndpoint+"\n"),(0,g.isUnderTest)()||await(0,y.syncLocalStorageWithSettings)(s,"traceviewer"),(0,g.isUnderTest)()&&s.on("close",()=>i.close({reason:"Trace viewer closed"}).catch(()=>{})),await s.mainFrame().goto(t,e)}),s}async function T(e){console.log("\nListening on "+e),(0,g.isUnderTest)()||await(0,w.open)(e.replace("0.0.0.0","localhost")).catch(()=>{})}class I{constructor(){process.stdin.on("data",e=>{const t=e.toString().trim();t!==this._traceUrl&&(t.endsWith(".json")?this._pollLoadTrace(t):this._loadTrace(t))}),process.stdin.on("close",()=>(0,m.gracefullyProcessExitDoNotHang)(0))}onconnect(){}async dispatch(e,t){"initialize"===e&&this._traceUrl&&this._loadTrace(this._traceUrl)}onclose(){}_loadTrace(e){this._traceUrl=e,clearTimeout(this._pollTimer),this.sendEvent?.("loadTraceRequested",{traceUrl:e})}_pollLoadTrace(e){this._loadTrace(e),this._pollTimer=setTimeout(()=>{this._pollLoadTrace(e)},500)}}},"./node_modules/playwright-core/lib/server/transport.js":(e,t,n)=>{"use strict";var r,o=Object.defineProperty,i=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,l={};((e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})})(l,{WebSocketTransport:()=>p,perMessageDeflate:()=>h}),e.exports=(r=l,((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let n of s(t))a.call(e,n)||undefined===n||o(e,n,{get:()=>t[n],enumerable:!(r=i(t,n))||r.enumerable});return e})(o({},"__esModule",{value:!0}),r));var c=n("./node_modules/playwright-core/lib/utils.js"),u=n("./node_modules/playwright-core/lib/server/utils/happyEyeballs.js"),d=n("./node_modules/playwright-core/lib/utilsBundle.js");const h={clientNoContextTakeover:!0,zlibDeflateOptions:{level:3},zlibInflateOptions:{chunkSize:10240},threshold:10240};class p{constructor(e,t,n,r){this.headers=[],this.wsEndpoint=t,this._logUrl=n,this._ws=new d.ws(t,[],{maxPayload:268435456,headers:r.headers,followRedirects:r.followRedirects,agent:/^(https|wss):\/\//.test(t)?u.httpsHappyEyeballsAgent:u.httpHappyEyeballsAgent,perMessageDeflate:h}),this._ws.on("upgrade",t=>{for(let n=0;n<t.rawHeaders.length;n+=2)this.headers.push({name:t.rawHeaders[n],value:t.rawHeaders[n+1]}),r.debugLogHeader&&t.rawHeaders[n]===r.debugLogHeader&&e?.log(t.rawHeaders[n+1])}),this._progress=e;const o=(0,c.makeWaitForNextTask)();this._ws.addEventListener("message",e=>{o(()=>{const t=e.data;let n;try{n=JSON.parse(t)}catch(e){return this._progress?.log(`<closing ws> Closing websocket due to malformed JSON. eventData=${t} e=${e?.message}`),void this._ws.close()}try{this.onmessage&&this.onmessage.call(null,n)}catch(e){this._progress?.log(`<closing ws> Closing websocket due to failed onmessage callback. eventData=${t} e=${e?.message}`),this._ws.close()}})}),this._ws.addEventListener("close",e=>{this._progress?.log(`<ws disconnected> ${n} code=${e.code} reason=${e.reason}`),this.onclose&&this.onclose.call(null,e.reason)}),this._ws.addEventListener("error",e=>this._progress?.log(`<ws error> ${n} ${e.type} ${e.message}`))}static async connect(e,t,n={}){return await p._connect(e,t,n,!1)}static async _connect(e,t,n,r){const o=function(e){try{const t=new URL(e);return t.search="",t.hash="",t.toString()}catch{return e}}(t);e?.log(`<ws connecting> ${o}`);const i=new p(e,t,o,{...n,followRedirects:!!n.followRedirects&&r}),s=new Promise((t,s)=>{i._ws.on("open",async()=>{e?.log(`<ws connected> ${o}`),t({})}),i._ws.on("error",t=>{e?.log(`<ws connect error> ${o} ${t.message}`),s(new Error("WebSocket error: "+t.message)),i._ws.close()}),i._ws.on("unexpected-response",(a,l)=>{if(n.followRedirects&&!r&&(301===l.statusCode||302===l.statusCode||307===l.statusCode||308===l.statusCode))return t({redirect:l}),void i._ws.close();for(let t=0;t<l.rawHeaders.length;t+=2)n.debugLogHeader&&l.rawHeaders[t]===n.debugLogHeader&&e?.log(l.rawHeaders[t+1]);const c=[],u=`${o} ${l.statusCode} ${l.statusMessage}`;l.on("data",e=>c.push(e)),l.on("close",()=>{const t=c.length?`${u}\n${Buffer.concat(c)}`:u;e?.log(`<ws unexpected response> ${t}`),s(new Error("WebSocket error: "+t)),i._ws.close()})})});try{const t=e?await e.race(s):await s;if(t.redirect){const r=Object.fromEntries(Object.entries(n.headers||{}).filter(([e])=>!e.includes("access-key")&&"authorization"!==e.toLowerCase()));return p._connect(e,t.redirect.headers.location,{...n,headers:r},!0)}return i}catch(e){throw await i.closeAndWait(),e}}send(e){this._ws.send(JSON.stringify(e))}close(){this._progress?.log(`<ws disconnecting> ${this._logUrl}`),this._ws.close()}async closeAndWait(){if(this._ws.readyState===d.ws.CLOSED)return;const e=new Promise(e=>this._ws.once("close",e));this.close(),await e}}},"./node_modules/playwright-core/lib/server/types.js":e=>{"use strict";var t,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,i=Object.prototype.hasOwnProperty,s={};((e,t)=>{for(var r in t)n(e,r,{get:t[r],enumerable:!0})})(s,{kLifecycleEvents:()=>a}),e.exports=(t=s,((e,t,s,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let s of o(t))i.call(e,s)||undefined===s||n(e,s,{get:()=>t[s],enumerable:!(a=r(t,s))||a.enumerable});return e})(n({},"__esModule",{value:!0}),t));const a=new Set(["load","domcontentloaded","networkidle","commit"])},"./node_modules/playwright-core/lib/server/usKeyboardLayout.js":e=>{"use strict";var t,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,i=Object.prototype.hasOwnProperty,s={};((e,t)=>{for(var r in t)n(e,r,{get:t[r],enumerable:!0})})(s,{USKeyboardLayout:()=>l,keypadLocation:()=>a}),e.exports=(t=s,((e,t,s,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let s of o(t))i.call(e,s)||undefined===s||n(e,s,{get:()=>t[s],enumerable:!(a=r(t,s))||a.enumerable});return e})(n({},"__esModule",{value:!0}),t));const a=3,l={Escape:{keyCode:27,key:"Escape"},F1:{keyCode:112,key:"F1"},F2:{keyCode:113,key:"F2"},F3:{keyCode:114,key:"F3"},F4:{keyCode:115,key:"F4"},F5:{keyCode:116,key:"F5"},F6:{keyCode:117,key:"F6"},F7:{keyCode:118,key:"F7"},F8:{keyCode:119,key:"F8"},F9:{keyCode:120,key:"F9"},F10:{keyCode:121,key:"F10"},F11:{keyCode:122,key:"F11"},F12:{keyCode:123,key:"F12"},Backquote:{keyCode:192,shiftKey:"~",key:"`"},Digit1:{keyCode:49,shiftKey:"!",key:"1"},Digit2:{keyCode:50,shiftKey:"@",key:"2"},Digit3:{keyCode:51,shiftKey:"#",key:"3"},Digit4:{keyCode:52,shiftKey:"$",key:"4"},Digit5:{keyCode:53,shiftKey:"%",key:"5"},Digit6:{keyCode:54,shiftKey:"^",key:"6"},Digit7:{keyCode:55,shiftKey:"&",key:"7"},Digit8:{keyCode:56,shiftKey:"*",key:"8"},Digit9:{keyCode:57,shiftKey:"(",key:"9"},Digit0:{keyCode:48,shiftKey:")",key:"0"},Minus:{keyCode:189,shiftKey:"_",key:"-"},Equal:{keyCode:187,shiftKey:"+",key:"="},Backslash:{keyCode:220,shiftKey:"|",key:"\\"},Backspace:{keyCode:8,key:"Backspace"},Tab:{keyCode:9,key:"Tab"},KeyQ:{keyCode:81,shiftKey:"Q",key:"q"},KeyW:{keyCode:87,shiftKey:"W",key:"w"},KeyE:{keyCode:69,shiftKey:"E",key:"e"},KeyR:{keyCode:82,shiftKey:"R",key:"r"},KeyT:{keyCode:84,shiftKey:"T",key:"t"},KeyY:{keyCode:89,shiftKey:"Y",key:"y"},KeyU:{keyCode:85,shiftKey:"U",key:"u"},KeyI:{keyCode:73,shiftKey:"I",key:"i"},KeyO:{keyCode:79,shiftKey:"O",key:"o"},KeyP:{keyCode:80,shiftKey:"P",key:"p"},BracketLeft:{keyCode:219,shiftKey:"{",key:"["},BracketRight:{keyCode:221,shiftKey:"}",key:"]"},CapsLock:{keyCode:20,key:"CapsLock"},KeyA:{keyCode:65,shiftKey:"A",key:"a"},KeyS:{keyCode:83,shiftKey:"S",key:"s"},KeyD:{keyCode:68,shiftKey:"D",key:"d"},KeyF:{keyCode:70,shiftKey:"F",key:"f"},KeyG:{keyCode:71,shiftKey:"G",key:"g"},KeyH:{keyCode:72,shiftKey:"H",key:"h"},KeyJ:{keyCode:74,shiftKey:"J",key:"j"},KeyK:{keyCode:75,shiftKey:"K",key:"k"},KeyL:{keyCode:76,shiftKey:"L",key:"l"},Semicolon:{keyCode:186,shiftKey:":",key:";"},Quote:{keyCode:222,shiftKey:'"',key:"'"},Enter:{keyCode:13,key:"Enter",text:"\r"},ShiftLeft:{keyCode:160,keyCodeWithoutLocation:16,key:"Shift",location:1},KeyZ:{keyCode:90,shiftKey:"Z",key:"z"},KeyX:{keyCode:88,shiftKey:"X",key:"x"},KeyC:{keyCode:67,shiftKey:"C",key:"c"},KeyV:{keyCode:86,shiftKey:"V",key:"v"},KeyB:{keyCode:66,shiftKey:"B",key:"b"},KeyN:{keyCode:78,shiftKey:"N",key:"n"},KeyM:{keyCode:77,shiftKey:"M",key:"m"},Comma:{keyCode:188,shiftKey:"<",key:","},Period:{keyCode:190,shiftKey:">",key:"."},Slash:{keyCode:191,shiftKey:"?",key:"/"},ShiftRight:{keyCode:161,keyCodeWithoutLocation:16,key:"Shift",location:2},ControlLeft:{keyCode:162,keyCodeWithoutLocation:17,key:"Control",location:1},MetaLeft:{keyCode:91,key:"Meta",location:1},AltLeft:{keyCode:164,keyCodeWithoutLocation:18,key:"Alt",location:1},Space:{keyCode:32,key:" "},AltRight:{keyCode:165,keyCodeWithoutLocation:18,key:"Alt",location:2},AltGraph:{keyCode:225,key:"AltGraph"},MetaRight:{keyCode:92,key:"Meta",location:2},ContextMenu:{keyCode:93,key:"ContextMenu"},ControlRight:{keyCode:163,keyCodeWithoutLocation:17,key:"Control",location:2},PrintScreen:{keyCode:44,key:"PrintScreen"},ScrollLock:{keyCode:145,key:"ScrollLock"},Pause:{keyCode:19,key:"Pause"},PageUp:{keyCode:33,key:"PageUp"},PageDown:{keyCode:34,key:"PageDown"},Insert:{keyCode:45,key:"Insert"},Delete:{keyCode:46,key:"Delete"},Home:{keyCode:36,key:"Home"},End:{keyCode:35,key:"End"},ArrowLeft:{keyCode:37,key:"ArrowLeft"},ArrowUp:{keyCode:38,key:"ArrowUp"},ArrowRight:{keyCode:39,key:"ArrowRight"},ArrowDown:{keyCode:40,key:"ArrowDown"},NumLock:{keyCode:144,key:"NumLock"},NumpadDivide:{keyCode:111,key:"/",location:3},NumpadMultiply:{keyCode:106,key:"*",location:3},NumpadSubtract:{keyCode:109,key:"-",location:3},Numpad7:{keyCode:36,shiftKeyCode:103,key:"Home",shiftKey:"7",location:3},Numpad8:{keyCode:38,shiftKeyCode:104,key:"ArrowUp",shiftKey:"8",location:3},Numpad9:{keyCode:33,shiftKeyCode:105,key:"PageUp",shiftKey:"9",location:3},Numpad4:{keyCode:37,shiftKeyCode:100,key:"ArrowLeft",shiftKey:"4",location:3},Numpad5:{keyCode:12,shiftKeyCode:101,key:"Clear",shiftKey:"5",location:3},Numpad6:{keyCode:39,shiftKeyCode:102,key:"ArrowRight",shiftKey:"6",location:3},NumpadAdd:{keyCode:107,key:"+",location:3},Numpad1:{keyCode:35,shiftKeyCode:97,key:"End",shiftKey:"1",location:3},Numpad2:{keyCode:40,shiftKeyCode:98,key:"ArrowDown",shiftKey:"2",location:3},Numpad3:{keyCode:34,shiftKeyCode:99,key:"PageDown",shiftKey:"3",location:3},Numpad0:{keyCode:45,shiftKeyCode:96,key:"Insert",shiftKey:"0",location:3},NumpadDecimal:{keyCode:46,shiftKeyCode:110,key:"\0",shiftKey:".",location:3},NumpadEnter:{keyCode:13,key:"Enter",text:"\r",location:3}}},"./node_modules/playwright-core/lib/server/utils/ascii.js":e=>{"use strict";var t,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,i=Object.prototype.hasOwnProperty,s={};function a(e,t=0){const n=e.split("\n"),r=Math.max(...n.map(e=>e.length));return[""+"".repeat(r+2*t)+"",...n.map(e=>""+" ".repeat(t)+e+" ".repeat(r-e.length+t)+""),""+"".repeat(r+2*t)+""].join("\n")}function l(e){return JSON.stringify(e).replace(/[\u007f-\uffff]/g,e=>"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4))}((e,t)=>{for(var r in t)n(e,r,{get:t[r],enumerable:!0})})(s,{jsonStringifyForceASCII:()=>l,wrapInASCIIBox:()=>a}),e.exports=(t=s,((e,t,s,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let s of o(t))i.call(e,s)||undefined===s||n(e,s,{get:()=>t[s],enumerable:!(a=r(t,s))||a.enumerable});return e})(n({},"__esModule",{value:!0}),t))},"./node_modules/playwright-core/lib/server/utils/comparators.js":(e,t,n)=>{"use strict";var r,o=Object.create,i=Object.defineProperty,s=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,l=Object.getPrototypeOf,c=Object.prototype.hasOwnProperty,u=(e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let o of a(t))c.call(e,o)||o===n||i(e,o,{get:()=>t[o],enumerable:!(r=s(t,o))||r.enumerable});return e},d={};((e,t)=>{for(var n in t)i(e,n,{get:t[n],enumerable:!0})})(d,{compareBuffersOrStrings:()=>y,getComparator:()=>b}),e.exports=(r=d,u(i({},"__esModule",{value:!0}),r));var h=n("./node_modules/playwright-core/lib/server/utils/image_tools/compare.js"),p=((e,t,n)=>(n=null!=e?o(l(e)):{},u(e&&e.__esModule?n:i(n,"default",{value:e,enumerable:!0}),e)))(n("./node_modules/playwright-core/lib/third_party/pixelmatch.js")),f=n("./node_modules/playwright-core/lib/utilsBundle.js"),m=n("./node_modules/playwright-core/lib/utilsBundle.js"),g=n("./node_modules/playwright-core/lib/utilsBundle.js");function b(e){return"image/png"===e?v.bind(null,"image/png"):"image/jpeg"===e?v.bind(null,"image/jpeg"):"text/plain"===e?A:y}const w=5120;function y(e,t){return"string"==typeof e?A(e,t):e&&e instanceof Buffer?Buffer.compare(e,t)?{errorMessage:"Buffers differ"}:null:{errorMessage:"Actual result should be a Buffer or a string."}}function v(e,t,n,r={}){if(!(t&&t instanceof Buffer))return{errorMessage:"Actual result should be a Buffer."};!function(e,t){if("image/png"===t){const t=[137,80,78,71,13,10,26,10];if(e.length<t.length||!t.every((t,n)=>e[n]===t))throw new Error("Could not decode expected image as PNG.")}else if("image/jpeg"===t){const t=[255,216];if(e.length<t.length||!t.every((t,n)=>e[n]===t))throw new Error("Could not decode expected image as JPEG.")}}(n,e);let o="image/png"===e?g.PNG.sync.read(t):f.jpegjs.decode(t,{maxMemoryUsageInMB:w}),i="image/png"===e?g.PNG.sync.read(n):f.jpegjs.decode(n,{maxMemoryUsageInMB:w});const s={width:Math.max(i.width,o.width),height:Math.max(i.height,o.height)};let a="";i.width===o.width&&i.height===o.height||(a=`Expected an image ${i.width}px by ${i.height}px, received ${o.width}px by ${o.height}px. `,o=_(o,s),i=_(i,s));const l=new g.PNG({width:s.width,height:s.height});let c;if("ssim-cie94"===r.comparator)c=(0,h.compare)(i.data,o.data,l.data,s.width,s.height,{maxColorDeltaE94:1});else{if("pixelmatch"!==(r.comparator??"pixelmatch"))throw new Error(`Configuration specifies unknown comparator "${r.comparator}"`);c=(0,p.default)(i.data,o.data,l.data,s.width,s.height,{threshold:r.threshold??.2})}const u=r.maxDiffPixels,d=void 0!==r.maxDiffPixelRatio?i.width*i.height*r.maxDiffPixelRatio:void 0;let m;m=void 0!==u&&void 0!==d?Math.min(u,d):u??d??0;const b=Math.ceil(c/(i.width*i.height)*100)/100,y=c>m?`${c} pixels (ratio ${b.toFixed(2)} of all image pixels) are different.`:"";return y||a?{errorMessage:a+y,diff:g.PNG.sync.write(l)}:null}function A(e,t){if("string"!=typeof e)return{errorMessage:"Actual result should be a string"};let n=t.toString("utf-8");return n===e?null:(e.endsWith("\n")||(e+="\n"),n.endsWith("\n")||(n+="\n"),{errorMessage:m.diff.createPatch("file",n,e,void 0,void 0,{context:5}).split("\n").slice(4).map(e=>e.startsWith("-")?m.colors.green(e):e.startsWith("+")?m.colors.red(e):e.startsWith("@@")?m.colors.dim(e):e).join("\n")})}function _(e,t){if(e.width===t.width&&e.height===t.height)return e;const n=new Uint8Array(t.width*t.height*4);for(let r=0;r<t.height;r++)for(let o=0;o<t.width;o++){const i=4*(r*t.width+o);if(r<e.height&&o<e.width){const t=4*(r*e.width+o);n[i]=e.data[t],n[i+1]=e.data[t+1],n[i+2]=e.data[t+2],n[i+3]=e.data[t+3]}else n[i]=0,n[i+1]=0,n[i+2]=0,n[i+3]=0}return{data:Buffer.from(n),width:t.width,height:t.height}}},"./node_modules/playwright-core/lib/server/utils/crypto.js":(e,t,n)=>{"use strict";var r,o=Object.create,i=Object.defineProperty,s=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,l=Object.getPrototypeOf,c=Object.prototype.hasOwnProperty,u=(e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let o of a(t))c.call(e,o)||o===n||i(e,o,{get:()=>t[o],enumerable:!(r=s(t,o))||r.enumerable});return e},d={};((e,t)=>{for(var n in t)i(e,n,{get:t[n],enumerable:!0})})(d,{calculateSha1:()=>m,createGuid:()=>f,generateSelfSignedCertificate:()=>w}),e.exports=(r=d,u(i({},"__esModule",{value:!0}),r));var h=((e,t,n)=>(n=null!=e?o(l(e)):{},u(e&&e.__esModule?n:i(n,"default",{value:e,enumerable:!0}),e)))(n("crypto")),p=n("./node_modules/playwright-core/lib/utils/isomorphic/assert.js");function f(){return h.default.randomBytes(16).toString("hex")}function m(e){const t=h.default.createHash("sha1");return t.update(e),t.digest("hex")}function g(e){const t=[];do{let n=127&e;e>>>=7,t.length>0&&(n|=128),t.push(n)}while(e>0);return Buffer.from(t.reverse())}class b{static encodeSequence(e){return this._encode(48,Buffer.concat(e))}static encodeInteger(e){return(0,p.assert)(e>=-128&&e<=127),this._encode(2,Buffer.from([e]))}static encodeObjectIdentifier(e){const t=e.split(".").map(e=>Number(e)),n=[g(40*t[0]+t[1])];for(let e=2;e<t.length;e++)n.push(g(t[e]));return this._encode(6,Buffer.concat(n))}static encodeNull(){return Buffer.from([5,0])}static encodeSet(e){return(0,p.assert)(1===e.length,"Only one item in the set is supported. We'd need to sort the data to support more."),this._encode(49,Buffer.concat(e))}static encodeExplicitContextDependent(e,t){return this._encode(160+e,t)}static encodePrintableString(e){return this._encode(19,Buffer.from(e))}static encodeBitString(e){const t=Buffer.concat([Buffer.from([0]),e]);return this._encode(3,t)}static encodeDate(e){const t=e.getUTCFullYear(),n=t>=2050,r=[n?t.toString():t.toString().slice(-2),(e.getUTCMonth()+1).toString().padStart(2,"0"),e.getUTCDate().toString().padStart(2,"0"),e.getUTCHours().toString().padStart(2,"0"),e.getUTCMinutes().toString().padStart(2,"0"),e.getUTCSeconds().toString().padStart(2,"0")].join("")+"Z",o=n?24:23;return this._encode(o,Buffer.from(r))}static _encode(e,t){const n=this._encodeLength(t.length);return Buffer.concat([Buffer.from([e]),n,t])}static _encodeLength(e){if(e<128)return Buffer.from([e]);{const t=[];for(;e>0;)t.unshift(255&e),e>>=8;return Buffer.from([128|t.length,...t])}}}function w(){const{privateKey:e,publicKey:t}=h.default.generateKeyPairSync("rsa",{modulusLength:2048}),n=t.export({type:"pkcs1",format:"der"}),r=31536e6,o=new Date((new Date).getTime()-r),i=new Date((new Date).getTime()+r),s=b.encodeSequence([b.encodeExplicitContextDependent(0,b.encodeInteger(1)),b.encodeInteger(1),b.encodeSequence([b.encodeObjectIdentifier("1.2.840.113549.1.1.11"),b.encodeNull()]),b.encodeSequence([b.encodeSet([b.encodeSequence([b.encodeObjectIdentifier("2.5.4.3"),b.encodePrintableString("localhost")])]),b.encodeSet([b.encodeSequence([b.encodeObjectIdentifier("2.5.4.10"),b.encodePrintableString("Playwright Client Certificate Support")])])]),b.encodeSequence([b.encodeDate(o),b.encodeDate(i)]),b.encodeSequence([b.encodeSet([b.encodeSequence([b.encodeObjectIdentifier("2.5.4.3"),b.encodePrintableString("localhost")])]),b.encodeSet([b.encodeSequence([b.encodeObjectIdentifier("2.5.4.10"),b.encodePrintableString("Playwright Client Certificate Support")])])]),b.encodeSequence([b.encodeSequence([b.encodeObjectIdentifier("1.2.840.113549.1.1.1"),b.encodeNull()]),b.encodeBitString(n)])]),a=h.default.sign("sha256",s,e);return{cert:["-----BEGIN CERTIFICATE-----",b.encodeSequence([s,b.encodeSequence([b.encodeObjectIdentifier("1.2.840.113549.1.1.11"),b.encodeNull()]),b.encodeBitString(a)]).toString("base64").match(/.{1,64}/g).join("\n"),"-----END CERTIFICATE-----"].join("\n"),key:e.export({type:"pkcs1",format:"pem"})}}},"./node_modules/playwright-core/lib/server/utils/debug.js":(e,t,n)=>{"use strict";var r,o=Object.defineProperty,i=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,l={};((e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})})(l,{debugMode:()=>d,isUnderTest:()=>p}),e.exports=(r=l,((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let n of s(t))a.call(e,n)||undefined===n||o(e,n,{get:()=>t[n],enumerable:!(r=i(t,n))||r.enumerable});return e})(o({},"__esModule",{value:!0}),r));var c=n("./node_modules/playwright-core/lib/server/utils/env.js");const u=(0,c.getFromENV)("PWDEBUG")||"";function d(){return"console"===u?"console":"0"===u||"false"===u?"":u?"inspector":""}const h=(0,c.getAsBooleanFromENV)("PWTEST_UNDER_TEST");function p(){return h}},"./node_modules/playwright-core/lib/server/utils/debugLogger.js":(e,t,n)=>{"use strict";var r,o=Object.create,i=Object.defineProperty,s=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,l=Object.getPrototypeOf,c=Object.prototype.hasOwnProperty,u=(e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let o of a(t))c.call(e,o)||o===n||i(e,o,{get:()=>t[o],enumerable:!(r=s(t,o))||r.enumerable});return e},d={};((e,t)=>{for(var n in t)i(e,n,{get:t[n],enumerable:!0})})(d,{RecentLogsCollector:()=>g,debugLogger:()=>m}),e.exports=(r=d,u(i({},"__esModule",{value:!0}),r));var h=((e,t,n)=>(n=null!=e?o(l(e)):{},u(e&&e.__esModule?n:i(n,"default",{value:e,enumerable:!0}),e)))(n("fs")),p=n("./node_modules/playwright-core/lib/utilsBundle.js");const f={api:45,protocol:34,install:34,download:34,browser:0,socks:92,"client-certificates":92,error:160,channel:33,server:45,"server:channel":34,"server:metadata":33,recorder:45},m=new class{constructor(){if(this._debuggers=new Map,process.env.DEBUG_FILE){const e=new RegExp(["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:[a-zA-Z\\d]*(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-ntqry=><~]))"].join("|"),"g"),t=h.default.createWriteStream(process.env.DEBUG_FILE);p.debug.log=n=>{t.write(n.replace(e,"")),t.write("\n")}}}log(e,t){let n=this._debuggers.get(e);n||(n=(0,p.debug)(`pw:${e}`),this._debuggers.set(e,n),n.color=f[e]||0),n(t)}isEnabled(e){return p.debug.enabled(`pw:${e}`)}};class g{constructor(){this._logs=[],this._listeners=[]}log(e){this._logs.push(e),300===this._logs.length&&this._logs.splice(0,150);for(const t of this._listeners)t(e)}recentLogs(){return this._logs.length>150?this._logs.slice(-150):this._logs}onMessage(e){for(const t of this._logs)e(t);this._listeners.push(e)}}},"./node_modules/playwright-core/lib/server/utils/env.js":e=>{"use strict";var t,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,i=Object.prototype.hasOwnProperty,s={};function a(e){let t=process.env[e];return t=void 0===t?process.env[`npm_config_${e.toLowerCase()}`]:t,t=void 0===t?process.env[`npm_package_config_${e.toLowerCase()}`]:t,t}function l(e,t){const n=a(e);return!("false"===n||"0"===n||!n&&!t)}function c(){const e=process.env.npm_config_user_agent||"";return e.includes("yarn")?"yarn":e.includes("pnpm")?"pnpm":"npm"}function u(){const e=c();return"yarn"===e?"yarn":"pnpm"===e?"pnpm exec":"npx"}function d(){return process.argv.length>=2&&process.argv[1].includes("_npx")}function h(){return process.env.PLAYWRIGHT_TEST="1"}((e,t)=>{for(var r in t)n(e,r,{get:t[r],enumerable:!0})})(s,{getAsBooleanFromENV:()=>l,getFromENV:()=>a,getPackageManager:()=>c,getPackageManagerExecCommand:()=>u,isLikelyNpxGlobal:()=>d,setPlaywrightTestProcessEnv:()=>h}),e.exports=(t=s,((e,t,s,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let s of o(t))i.call(e,s)||undefined===s||n(e,s,{get:()=>t[s],enumerable:!(a=r(t,s))||a.enumerable});return e})(n({},"__esModule",{value:!0}),t))},"./node_modules/playwright-core/lib/server/utils/eventsHelper.js":e=>{"use strict";var t,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,i=Object.prototype.hasOwnProperty,s={};((e,t)=>{for(var r in t)n(e,r,{get:t[r],enumerable:!0})})(s,{eventsHelper:()=>a}),e.exports=(t=s,((e,t,s,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let s of o(t))i.call(e,s)||undefined===s||n(e,s,{get:()=>t[s],enumerable:!(a=r(t,s))||a.enumerable});return e})(n({},"__esModule",{value:!0}),t));const a=class{static addEventListener(e,t,n){return e.on(t,n),{emitter:e,eventName:t,handler:n}}static removeEventListeners(e){for(const t of e)t.emitter.removeListener(t.eventName,t.handler);e.splice(0,e.length)}}},"./node_modules/playwright-core/lib/server/utils/expectUtils.js":(e,t,n)=>{"use strict";var r,o=Object.defineProperty,i=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,l={};((e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})})(l,{serializeExpectedTextValues:()=>u}),e.exports=(r=l,((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let n of s(t))a.call(e,n)||undefined===n||o(e,n,{get:()=>t[n],enumerable:!(r=i(t,n))||r.enumerable});return e})(o({},"__esModule",{value:!0}),r));var c=n("./node_modules/playwright-core/lib/utils/isomorphic/rtti.js");function u(e,t={}){return e.map(e=>({string:(0,c.isString)(e)?e:void 0,regexSource:(0,c.isRegExp)(e)?e.source:void 0,regexFlags:(0,c.isRegExp)(e)?e.flags:void 0,matchSubstring:t.matchSubstring,ignoreCase:t.ignoreCase,normalizeWhiteSpace:t.normalizeWhiteSpace}))}},"./node_modules/playwright-core/lib/server/utils/fileUtils.js":(e,t,n)=>{"use strict";var r,o=Object.create,i=Object.defineProperty,s=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,l=Object.getPrototypeOf,c=Object.prototype.hasOwnProperty,u=(e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let o of a(t))c.call(e,o)||o===n||i(e,o,{get:()=>t[o],enumerable:!(r=s(t,o))||r.enumerable});return e},d=(e,t,n)=>(n=null!=e?o(l(e)):{},u(!t&&e&&e.__esModule?n:i(n,"default",{value:e,enumerable:!0}),e)),h={};((e,t)=>{for(var n in t)i(e,n,{get:t[n],enumerable:!0})})(h,{SerializedFS:()=>S,canAccessFile:()=>v,copyFileAndMakeWritable:()=>A,existsAsync:()=>b,mkdirIfNeeded:()=>w,removeFolders:()=>y,sanitizeForFilePath:()=>_,toPosixPath:()=>x}),e.exports=(r=h,u(i({},"__esModule",{value:!0}),r));var p=d(n("fs")),f=d(n("path")),m=n("./node_modules/playwright-core/lib/utils/isomorphic/manualPromise.js"),g=n("./node_modules/playwright-core/lib/zipBundle.js");const b=e=>new Promise(t=>p.default.stat(e,e=>t(!e)));async function w(e){await p.default.promises.mkdir(f.default.dirname(e),{recursive:!0}).catch(()=>{})}async function y(e){return await Promise.all(e.map(e=>p.default.promises.rm(e,{recursive:!0,force:!0,maxRetries:10}).catch(e=>e)))}function v(e){if(!e)return!1;try{return p.default.accessSync(e),!0}catch(e){return!1}}async function A(e,t){await p.default.promises.copyFile(e,t),await p.default.promises.chmod(t,436)}function _(e){return e.replace(/[\x00-\x2C\x2E-\x2F\x3A-\x40\x5B-\x60\x7B-\x7F]+/g,"-")}function x(e){return e.split(f.default.sep).join(f.default.posix.sep)}class S{constructor(){this._buffers=new Map,this._operations=[],this._operationsDone=new m.ManualPromise,this._operationsDone.resolve()}mkdir(e){this._appendOperation({op:"mkdir",dir:e})}writeFile(e,t,n){this._buffers.delete(e),this._appendOperation({op:"writeFile",file:e,content:t,skipIfExists:n})}appendFile(e,t,n){this._buffers.has(e)||this._buffers.set(e,[]),this._buffers.get(e).push(t),n&&this._flushFile(e)}_flushFile(e){const t=this._buffers.get(e);if(void 0===t)return;const n=t.join("");this._buffers.delete(e),this._appendOperation({op:"appendFile",file:e,content:n})}copyFile(e,t){this._flushFile(e),this._buffers.delete(t),this._appendOperation({op:"copyFile",from:e,to:t})}async syncAndGetError(){for(const e of this._buffers.keys())this._flushFile(e);return await this._operationsDone,this._error}zip(e,t){for(const e of this._buffers.keys())this._flushFile(e);this._appendOperation({op:"zip",entries:e,zipFileName:t})}_appendOperation(e){const t=this._operations[this._operations.length-1];"appendFile"!==t?.op||"appendFile"!==e.op||t.file!==e.file?(this._operations.push(e),this._operationsDone.isDone()&&this._performOperations()):t.content+=e.content}async _performOperations(){for(this._operationsDone=new m.ManualPromise;this._operations.length;){const e=this._operations.shift();if(!this._error)try{await this._performOperation(e)}catch(e){this._error=e}}this._operationsDone.resolve()}async _performOperation(e){switch(e.op){case"mkdir":return void await p.default.promises.mkdir(e.dir,{recursive:!0});case"writeFile":return void(e.skipIfExists?await p.default.promises.writeFile(e.file,e.content,{flag:"wx"}).catch(()=>{}):await p.default.promises.writeFile(e.file,e.content));case"copyFile":return void await p.default.promises.copyFile(e.from,e.to);case"appendFile":return void await p.default.promises.appendFile(e.file,e.content);case"zip":{const t=new g.yazl.ZipFile,n=new m.ManualPromise;t.on("error",e=>n.reject(e));for(const n of e.entries)t.addFile(n.value,n.name);return t.end(),t.outputStream.pipe(p.default.createWriteStream(e.zipFileName)).on("close",()=>n.resolve()).on("error",e=>n.reject(e)),void await n}}}}},"./node_modules/playwright-core/lib/server/utils/happyEyeballs.js":(e,t,n)=>{"use strict";var r,o=Object.create,i=Object.defineProperty,s=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,l=Object.getPrototypeOf,c=Object.prototype.hasOwnProperty,u=(e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let o of a(t))c.call(e,o)||o===n||i(e,o,{get:()=>t[o],enumerable:!(r=s(t,o))||r.enumerable});return e},d=(e,t,n)=>(n=null!=e?o(l(e)):{},u(!t&&e&&e.__esModule?n:i(n,"default",{value:e,enumerable:!0}),e)),h={};((e,t)=>{for(var n in t)i(e,n,{get:t[n],enumerable:!0})})(h,{createConnectionAsync:()=>I,createSocket:()=>O,createTLSSocket:()=>T,httpHappyEyeballsAgent:()=>k,httpsHappyEyeballsAgent:()=>C,timingForSocket:()=>P}),e.exports=(r=h,u(i({},"__esModule",{value:!0}),r));var p=d(n("dns")),f=d(n("http")),m=d(n("https")),g=d(n("net")),b=d(n("tls")),w=n("./node_modules/playwright-core/lib/utils/isomorphic/assert.js"),y=n("./node_modules/playwright-core/lib/utils/isomorphic/manualPromise.js"),v=n("./node_modules/playwright-core/lib/utils/isomorphic/time.js");const A=300,_=Symbol("kDNSLookupAt"),x=Symbol("kTCPConnectionAt");class S extends f.default.Agent{createConnection(e,t){if(g.default.isIP(M(e)))return g.default.createConnection(e);I(e,t,!1).catch(e=>t?.(e))}}class E extends m.default.Agent{createConnection(e,t){if(g.default.isIP(M(e)))return b.default.connect(e);I(e,t,!0).catch(e=>t?.(e))}}const C=new E({keepAlive:!0}),k=new S({keepAlive:!0});async function O(e,t){return new Promise((n,r)=>{if(g.default.isIP(e)){const o=g.default.createConnection({host:e,port:t});o.on("connect",()=>n(o)),o.on("error",e=>r(e))}else I({host:e,port:t},(e,t)=>{e&&r(e),t&&n(t)},!1).catch(e=>r(e))})}async function T(e){return new Promise((t,n)=>{if((0,w.assert)(e.host,"host is required"),g.default.isIP(e.host)){const r=b.default.connect(e);r.on("secureConnect",()=>t(r)),r.on("error",e=>n(e))}else I(e,(e,r)=>{e&&n(e),r&&(r.on("secureConnect",()=>t(r)),r.on("error",e=>n(e)))},!0).catch(e=>n(e))})}async function I(e,t,n){const r=e.__testHookLookup||B,o=M(e),i=await r(o),s=(0,v.monotonicTime)(),a=new Set;let l,c=0;const u=(e,n)=>{a.delete(e)&&(++c,l??=n,c===i.length&&t?.(l))},d=new y.ManualPromise;for(const{address:r}of i){const i=n?b.default.connect({...e,port:e.port,host:r,servername:o}):g.default.createConnection({...e,port:e.port,host:r});if(i[_]=s,i.on("connect",()=>{i[x]=(0,v.monotonicTime)(),d.resolve(),t?.(null,i),a.delete(i);for(const e of a)e.destroy();a.clear()}),i.on("timeout",()=>{i.destroy(),u(i,new Error("Connection timeout"))}),i.on("error",e=>u(i,e)),a.add(i),await Promise.race([d,new Promise(e=>setTimeout(e,A))]),d.isDone())break}}async function B(e){const t=await p.default.promises.lookup(e,{all:!0,family:0,verbatim:!0});let n=t.filter(({family:e})=>6===e),r=t.filter(({family:e})=>4===e);if(n.length&&n[0]!==t[0]){const e=n;n=r,r=e}const o=[];for(let e=0;e<Math.max(n.length,r.length);e++)n[e]&&o.push(n[e]),r[e]&&o.push(r[e]);return o}function M(e){if(e.hostname)return e.hostname;if(e.host)return e.host;throw new Error("Either options.hostname or options.host must be provided")}function P(e){return{dnsLookupAt:e[_],tcpConnectionAt:e[x]}}},"./node_modules/playwright-core/lib/server/utils/hostPlatform.js":(e,t,n)=>{"use strict";var r,o=Object.create,i=Object.defineProperty,s=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,l=Object.getPrototypeOf,c=Object.prototype.hasOwnProperty,u=(e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let o of a(t))c.call(e,o)||o===n||i(e,o,{get:()=>t[o],enumerable:!(r=s(t,o))||r.enumerable});return e},d={};((e,t)=>{for(var n in t)i(e,n,{get:t[n],enumerable:!0})})(d,{hostPlatform:()=>f,isOfficiallySupportedPlatform:()=>m}),e.exports=(r=d,u(i({},"__esModule",{value:!0}),r));var h=((e,t,n)=>(n=null!=e?o(l(e)):{},u(e&&e.__esModule?n:i(n,"default",{value:e,enumerable:!0}),e)))(n("os")),p=n("./node_modules/playwright-core/lib/server/utils/linuxUtils.js");const{hostPlatform:f,isOfficiallySupportedPlatform:m}=function(){if(process.env.PLAYWRIGHT_HOST_PLATFORM_OVERRIDE)return{hostPlatform:process.env.PLAYWRIGHT_HOST_PLATFORM_OVERRIDE,isOfficiallySupportedPlatform:!1};const e=h.default.platform();if("darwin"===e){const e=h.default.release().split(".").map(e=>parseInt(e,10));let t="";if(e[0]<18)t="mac10.13";else if(18===e[0])t="mac10.14";else if(19===e[0])t="mac10.15";else{const n=15;t="mac"+Math.min(e[0]-9,n),h.default.cpus().some(e=>e.model.includes("Apple"))&&(t+="-arm64")}return{hostPlatform:t,isOfficiallySupportedPlatform:!0}}if("linux"===e){if(!["x64","arm64"].includes(h.default.arch()))return{hostPlatform:"<unknown>",isOfficiallySupportedPlatform:!1};const e="-"+h.default.arch(),t=(0,p.getLinuxDistributionInfoSync)();if("ubuntu"===t?.id||"pop"===t?.id||"neon"===t?.id||"tuxedo"===t?.id){const n="ubuntu"===t?.id,r=t?.version,o=parseInt(t.version,10);return o<20?{hostPlatform:"ubuntu18.04"+e,isOfficiallySupportedPlatform:!1}:o<22?{hostPlatform:"ubuntu20.04"+e,isOfficiallySupportedPlatform:n&&"20.04"===r}:o<24?{hostPlatform:"ubuntu22.04"+e,isOfficiallySupportedPlatform:n&&"22.04"===r}:o<26?{hostPlatform:"ubuntu24.04"+e,isOfficiallySupportedPlatform:n&&"24.04"===r}:{hostPlatform:"ubuntu"+t.version+e,isOfficiallySupportedPlatform:!1}}if("linuxmint"===t?.id){const n=parseInt(t.version,10);return n<=20?{hostPlatform:"ubuntu20.04"+e,isOfficiallySupportedPlatform:!1}:21===n?{hostPlatform:"ubuntu22.04"+e,isOfficiallySupportedPlatform:!1}:{hostPlatform:"ubuntu24.04"+e,isOfficiallySupportedPlatform:!1}}if("debian"===t?.id||"raspbian"===t?.id){const n="debian"===t?.id;if("11"===t?.version)return{hostPlatform:"debian11"+e,isOfficiallySupportedPlatform:n};if("12"===t?.version)return{hostPlatform:"debian12"+e,isOfficiallySupportedPlatform:n};if("13"===t?.version)return{hostPlatform:"debian13"+e,isOfficiallySupportedPlatform:n};if(""===t?.version)return{hostPlatform:"debian13"+e,isOfficiallySupportedPlatform:n}}return{hostPlatform:"ubuntu20.04"+e,isOfficiallySupportedPlatform:!1}}return"win32"===e?{hostPlatform:"win64",isOfficiallySupportedPlatform:!0}:{hostPlatform:"<unknown>",isOfficiallySupportedPlatform:!1}}()},"./node_modules/playwright-core/lib/server/utils/httpServer.js":(e,t,n)=>{"use strict";var r,o=Object.create,i=Object.defineProperty,s=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,l=Object.getPrototypeOf,c=Object.prototype.hasOwnProperty,u=(e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let o of a(t))c.call(e,o)||o===n||i(e,o,{get:()=>t[o],enumerable:!(r=s(t,o))||r.enumerable});return e},d=(e,t,n)=>(n=null!=e?o(l(e)):{},u(!t&&e&&e.__esModule?n:i(n,"default",{value:e,enumerable:!0}),e)),h={};((e,t)=>{for(var n in t)i(e,n,{get:t[n],enumerable:!0})})(h,{HttpServer:()=>v}),e.exports=(r=h,u(i({},"__esModule",{value:!0}),r));var p=d(n("fs")),f=d(n("path")),m=n("./node_modules/playwright-core/lib/utilsBundle.js"),g=n("./node_modules/playwright-core/lib/server/utils/crypto.js"),b=n("./node_modules/playwright-core/lib/utils/isomorphic/assert.js"),w=n("./node_modules/playwright-core/lib/utils/isomorphic/manualPromise.js"),y=n("./node_modules/playwright-core/lib/server/utils/network.js");class v{constructor(){this._urlPrefixPrecise="",this._urlPrefixHumanReadable="",this._port=0,this._started=!1,this._routes=[],this._server=(0,y.createHttpServer)(this._onRequest.bind(this))}server(){return this._server}routePrefix(e,t){this._routes.push({prefix:e,handler:t})}routePath(e,t){this._routes.push({exact:e,handler:t})}port(){return this._port}async _tryStart(e,t){const n=new w.ManualPromise,r=e=>n.reject(e);this._server.on("error",r);try{this._server.listen(e,t),await Promise.race([new Promise(e=>this._server.once("listening",e)),n])}finally{this._server.removeListener("error",r)}}createWebSocket(e,t){(0,b.assert)(!this._wsGuid,"can only create one main websocket transport per server"),this._wsGuid=t||(0,g.createGuid)(),new m.wsServer({server:this._server,path:"/"+this._wsGuid}).on("connection",t=>{e.onconnect(),e.sendEvent=(e,n)=>t.send(JSON.stringify({method:e,params:n})),e.close=()=>t.close(),t.on("message",async n=>{const{id:r,method:o,params:i}=JSON.parse(String(n));try{const n=await e.dispatch(o,i);t.send(JSON.stringify({id:r,result:n}))}catch(e){t.send(JSON.stringify({id:r,error:String(e)}))}}),t.on("close",()=>e.onclose()),t.on("error",()=>e.onclose())})}wsGuid(){return this._wsGuid}async start(e={}){(0,b.assert)(!this._started,"server already started"),this._started=!0;const t=e.host||"localhost";if(e.preferredPort)try{await this._tryStart(e.preferredPort,t)}catch(e){if(!e||!e.message||!e.message.includes("EADDRINUSE"))throw e;await this._tryStart(void 0,t)}else await this._tryStart(e.port,t);const n=this._server.address();if((0,b.assert)(n,"Could not bind server socket"),"string"==typeof n)this._urlPrefixPrecise=n,this._urlPrefixHumanReadable=n;else{this._port=n.port;const e="IPv4"===n.family?n.address:`[${n.address}]`;this._urlPrefixPrecise=`http://${e}:${n.port}`,this._urlPrefixHumanReadable=`http://${t}:${n.port}`}}async stop(){await new Promise(e=>this._server.close(e))}urlPrefix(e){return"human-readable"===e?this._urlPrefixHumanReadable:this._urlPrefixPrecise}serveFile(e,t,n,r){try{for(const[e,n]of Object.entries(r||{}))t.setHeader(e,n);return e.headers.range?this._serveRangeFile(e,t,n):this._serveFile(t,n),!0}catch(e){return!1}}_serveFile(e,t){const n=p.default.readFileSync(t);e.statusCode=200;const r=m.mime.getType(f.default.extname(t))||"application/octet-stream";e.setHeader("Content-Type",r),e.setHeader("Content-Length",n.byteLength),e.end(n)}_serveRangeFile(e,t,n){const r=e.headers.range;if(!r||!r.startsWith("bytes=")||r.includes(", ")||1!==[...r].filter(e=>"-"===e).length)return t.statusCode=400,t.end("Bad request");const[o,i]=r.replace(/bytes=/,"").split("-");let s,a;const l=p.default.statSync(n).size;if(""!==o&&""===i?(s=+o,a=l-1):""===o&&""!==i?(s=l-+i,a=l-1):(s=+o,a=+i),Number.isNaN(s)||Number.isNaN(a)||s>=l||a>=l||s>a)return t.writeHead(416,{"Content-Range":`bytes */${l}`}),t.end();t.writeHead(206,{"Content-Range":`bytes ${s}-${a}/${l}`,"Accept-Ranges":"bytes","Content-Length":a-s+1,"Content-Type":m.mime.getType(f.default.extname(n))}),p.default.createReadStream(n,{start:s,end:a}).pipe(t)}_onRequest(e,t){if("OPTIONS"===e.method)return t.writeHead(200),void t.end();e.on("error",()=>t.end());try{if(!e.url)return void t.end();const n=new URL("http://localhost"+e.url);for(const r of this._routes){if(r.exact&&n.pathname===r.exact&&r.handler(e,t))return;if(r.prefix&&n.pathname.startsWith(r.prefix)&&r.handler(e,t))return}t.statusCode=404,t.end()}catch(e){t.end()}}}},"./node_modules/playwright-core/lib/server/utils/image_tools/colorUtils.js":e=>{"use strict";var t,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,i=Object.prototype.hasOwnProperty,s={};function a(e,t){return 255+(e-255)*t}function l(e,t,n){return 77*e+150*t+29*n+128>>8}function c(e,t){const[n,r,o]=p(u(e)),[i,s,a]=p(u(t)),l=n-i,c=r-s,d=o-a,h=Math.sqrt(r**2+o**2),f=h-Math.sqrt(s**2+a**2);let m=c**2+d**2-f**2;m=m<0?0:Math.sqrt(m);const g=1+.045*h,b=1+.015*h;return Math.sqrt((l/1/1)**2+(f/g/1)**2+(m/b/1)**2)}function u(e){let t=e[0]/255,n=e[1]/255,r=e[2]/255;return t=t>.04045?Math.pow((t+.055)/1.055,2.4):t/12.92,n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92,r=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92,[.4124*t+.3576*n+.1805*r,.2126*t+.7152*n+.0722*r,.0193*t+.1192*n+.9505*r]}((e,t)=>{for(var r in t)n(e,r,{get:t[r],enumerable:!0})})(s,{blendWithWhite:()=>a,colorDeltaE94:()=>c,rgb2gray:()=>l,srgb2xyz:()=>u,xyz2lab:()=>p}),e.exports=(t=s,((e,t,s,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let s of o(t))i.call(e,s)||undefined===s||n(e,s,{get:()=>t[s],enumerable:!(a=r(t,s))||a.enumerable});return e})(n({},"__esModule",{value:!0}),t));const d=36/29/29,h=216/29/29/29;function p(e){const t=e[0]/.950489,n=e[1],r=e[2]/1.08884,o=n>h?n**(1/3):n/3/d+4/29;return[116*o-16,500*((t>h?t**(1/3):t/3/d+4/29)-o),200*(o-(r>h?r**(1/3):r/3/d+4/29))]}},"./node_modules/playwright-core/lib/server/utils/image_tools/compare.js":(e,t,n)=>{"use strict";var r,o=Object.defineProperty,i=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,l={};((e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})})(l,{compare:()=>m}),e.exports=(r=l,((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let n of s(t))a.call(e,n)||undefined===n||o(e,n,{get:()=>t[n],enumerable:!(r=i(t,n))||r.enumerable});return e})(o({},"__esModule",{value:!0}),r));var c=n("./node_modules/playwright-core/lib/server/utils/image_tools/colorUtils.js"),u=n("./node_modules/playwright-core/lib/server/utils/image_tools/imageChannel.js"),d=n("./node_modules/playwright-core/lib/server/utils/image_tools/stats.js");const h=15,p=1;function f(e,t,n,r,o,i,s){const a=4*(r*e+n);t[a+0]=o,t[a+1]=i,t[a+2]=s,t[a+3]=255}function m(e,t,n,r,o,i={}){const{maxColorDeltaE94:s=1}=i,a=Math.max(p,h),l=[255,0,255],m=[0,255,0],[g,b,w]=u.ImageChannel.intoRGB(r,o,t,{paddingSize:a,paddingColorEven:l,paddingColorOdd:m}),[y,v,A]=u.ImageChannel.intoRGB(r,o,e,{paddingSize:a,paddingColorEven:l,paddingColorOdd:m}),_=(e,t)=>{},x=n?(e,t)=>f(r,n,e-a,t-a,255,0,0):_,S=n?(e,t)=>f(r,n,e-a,t-a,255,255,0):_,E=n?(e,t)=>{const o=(0,c.rgb2gray)(g.get(e,t),b.get(e,t),w.get(e,t)),i=(0,c.blendWithWhite)(o,.1);f(r,n,e-a,t-a,i,i,i)}:_;let C,k,O,T=0;for(let e=a;e<g.height-a;++e)for(let t=a;t<g.width-a;++t){if(g.get(t,e)===y.get(t,e)&&b.get(t,e)===v.get(t,e)&&w.get(t,e)===A.get(t,e)){E(t,e);continue}if((0,c.colorDeltaE94)([g.get(t,e),b.get(t,e),w.get(t,e)],[y.get(t,e),v.get(t,e),A.get(t,e)])<=s){E(t,e);continue}C&&k&&O||(C=new d.FastStats(g,y),k=new d.FastStats(b,v),O=new d.FastStats(w,A));const[n,r]=g.boundXY(t-p,e-p),[o,i]=g.boundXY(t+p,e+p),a=C.varianceC1(n,r,o,i)+k.varianceC1(n,r,o,i)+O.varianceC1(n,r,o,i),l=C.varianceC2(n,r,o,i)+k.varianceC2(n,r,o,i)+O.varianceC2(n,r,o,i);if(0===a||0===l){x(t,e),++T;continue}const[u,f]=g.boundXY(t-h,e-h),[m,_]=g.boundXY(t+h,e+h);((0,d.ssim)(C,u,f,m,_)+(0,d.ssim)(k,u,f,m,_)+(0,d.ssim)(O,u,f,m,_))/3>=.99?S(t,e):(x(t,e),++T)}return T}},"./node_modules/playwright-core/lib/server/utils/image_tools/imageChannel.js":(e,t,n)=>{"use strict";var r,o=Object.defineProperty,i=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,l={};((e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})})(l,{ImageChannel:()=>u}),e.exports=(r=l,((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let n of s(t))a.call(e,n)||undefined===n||o(e,n,{get:()=>t[n],enumerable:!(r=i(t,n))||r.enumerable});return e})(o({},"__esModule",{value:!0}),r));var c=n("./node_modules/playwright-core/lib/server/utils/image_tools/colorUtils.js");class u{static intoRGB(e,t,n,r={}){const{paddingSize:o=0,paddingColorOdd:i=[255,0,255],paddingColorEven:s=[0,255,0]}=r,a=e+2*o,l=t+2*o,d=new Uint8Array(a*l),h=new Uint8Array(a*l),p=new Uint8Array(a*l);for(let t=0;t<l;++t)for(let r=0;r<a;++r){const u=t*a+r;if(t>=o&&t<l-o&&r>=o&&r<a-o){const i=4*((t-o)*e+(r-o)),s=255===n[i+3]?1:n[i+3]/255;d[u]=(0,c.blendWithWhite)(n[i],s),h[u]=(0,c.blendWithWhite)(n[i+1],s),p[u]=(0,c.blendWithWhite)(n[i+2],s)}else{const e=(t+r)%2==0?s:i;d[u]=e[0],h[u]=e[1],p[u]=e[2]}}return[new u(a,l,d),new u(a,l,h),new u(a,l,p)]}constructor(e,t,n){this.data=n,this.width=e,this.height=t}get(e,t){return this.data[t*this.width+e]}boundXY(e,t){return[Math.min(Math.max(e,0),this.width-1),Math.min(Math.max(t,0),this.height-1)]}}},"./node_modules/playwright-core/lib/server/utils/image_tools/stats.js":e=>{"use strict";var t,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,i=Object.prototype.hasOwnProperty,s={};((e,t)=>{for(var r in t)n(e,r,{get:t[r],enumerable:!0})})(s,{FastStats:()=>c,ssim:()=>l}),e.exports=(t=s,((e,t,s,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let s of o(t))i.call(e,s)||undefined===s||n(e,s,{get:()=>t[s],enumerable:!(a=r(t,s))||a.enumerable});return e})(n({},"__esModule",{value:!0}),t));const a=255;function l(e,t,n,r,o){const i=e.meanC1(t,n,r,o),s=e.meanC2(t,n,r,o),l=e.varianceC1(t,n,r,o),c=e.varianceC2(t,n,r,o),u=e.covariance(t,n,r,o),d=(.01*a)**2,h=(.03*a)**2;return(2*i*s+d)*(2*u+h)/(i**2+s**2+d)/(l+c+h)}class c{constructor(e,t){this.c1=e,this.c2=t;const{width:n,height:r}=e;this._partialSumC1=new Array(n*r),this._partialSumC2=new Array(n*r),this._partialSumSq1=new Array(n*r),this._partialSumSq2=new Array(n*r),this._partialSumMult=new Array(n*r);const o=(e,t,r,o,i)=>{e[t]=r,i>0&&(e[t]+=e[(i-1)*n+o]),o>0&&(e[t]+=e[i*n+o-1]),o>0&&i>0&&(e[t]-=e[(i-1)*n+o-1])};for(let e=0;e<r;++e)for(let t=0;t<n;++t){const r=e*n+t;o(this._partialSumC1,r,this.c1.data[r],t,e),o(this._partialSumC2,r,this.c2.data[r],t,e),o(this._partialSumSq1,r,this.c1.data[r]*this.c1.data[r],t,e),o(this._partialSumSq2,r,this.c2.data[r]*this.c2.data[r],t,e),o(this._partialSumMult,r,this.c1.data[r]*this.c2.data[r],t,e)}}_sum(e,t,n,r,o){const i=this.c1.width;let s=e[o*i+r];return n>0&&(s-=e[(n-1)*i+r]),t>0&&(s-=e[o*i+t-1]),t>0&&n>0&&(s+=e[(n-1)*i+t-1]),s}meanC1(e,t,n,r){const o=(r-t+1)*(n-e+1);return this._sum(this._partialSumC1,e,t,n,r)/o}meanC2(e,t,n,r){const o=(r-t+1)*(n-e+1);return this._sum(this._partialSumC2,e,t,n,r)/o}varianceC1(e,t,n,r){const o=(r-t+1)*(n-e+1);return(this._sum(this._partialSumSq1,e,t,n,r)-this._sum(this._partialSumC1,e,t,n,r)**2/o)/o}varianceC2(e,t,n,r){const o=(r-t+1)*(n-e+1);return(this._sum(this._partialSumSq2,e,t,n,r)-this._sum(this._partialSumC2,e,t,n,r)**2/o)/o}covariance(e,t,n,r){const o=(r-t+1)*(n-e+1);return(this._sum(this._partialSumMult,e,t,n,r)-this._sum(this._partialSumC1,e,t,n,r)*this._sum(this._partialSumC2,e,t,n,r)/o)/o}}},"./node_modules/playwright-core/lib/server/utils/linuxUtils.js":(e,t,n)=>{"use strict";var r,o=Object.create,i=Object.defineProperty,s=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,l=Object.getPrototypeOf,c=Object.prototype.hasOwnProperty,u=(e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let o of a(t))c.call(e,o)||o===n||i(e,o,{get:()=>t[o],enumerable:!(r=s(t,o))||r.enumerable});return e},d={};((e,t)=>{for(var n in t)i(e,n,{get:t[n],enumerable:!0})})(d,{getLinuxDistributionInfoSync:()=>m}),e.exports=(r=d,u(i({},"__esModule",{value:!0}),r));var h=((e,t,n)=>(n=null!=e?o(l(e)):{},u(e&&e.__esModule?n:i(n,"default",{value:e,enumerable:!0}),e)))(n("fs"));let p,f=!1;function m(){if("linux"===process.platform){if(!p&&!f)try{const e=function(e){const t=new Map;for(const n of e.split("\n")){const e=n.split("="),r=e.shift();let o=e.join("=").trim();o.startsWith('"')&&o.endsWith('"')&&(o=o.substring(1,o.length-1)),r&&t.set(r.toLowerCase(),o)}return t}(h.default.readFileSync("/etc/os-release","utf8"));p={id:e.get("id")??"",version:e.get("version_id")??""}}catch(e){f=!0}return p}}},"./node_modules/playwright-core/lib/server/utils/network.js":(e,t,n)=>{"use strict";var r,o=Object.create,i=Object.defineProperty,s=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,l=Object.getPrototypeOf,c=Object.prototype.hasOwnProperty,u=(e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let o of a(t))c.call(e,o)||o===n||i(e,o,{get:()=>t[o],enumerable:!(r=s(t,o))||r.enumerable});return e},d=(e,t,n)=>(n=null!=e?o(l(e)):{},u(!t&&e&&e.__esModule?n:i(n,"default",{value:e,enumerable:!0}),e)),h={};((e,t)=>{for(var n in t)i(e,n,{get:t[n],enumerable:!0})})(h,{NET_DEFAULT_TIMEOUT:()=>v,createHttp2Server:()=>C,createHttpServer:()=>S,createHttpsServer:()=>E,createProxyAgent:()=>x,fetchData:()=>_,httpRequest:()=>A,isURLAvailable:()=>k}),e.exports=(r=h,u(i({},"__esModule",{value:!0}),r));var p=d(n("http")),f=d(n("http2")),m=d(n("https")),g=d(n("url")),b=n("./node_modules/playwright-core/lib/utilsBundle.js"),w=n("./node_modules/playwright-core/lib/server/utils/happyEyeballs.js"),y=n("./node_modules/playwright-core/lib/utils/isomorphic/manualPromise.js");const v=3e4;function A(e,t,n){const r=g.default.parse(e.url);let o={...r,agent:"https:"===r.protocol?w.httpsHappyEyeballsAgent:w.httpHappyEyeballsAgent,method:e.method||"GET",headers:e.headers};void 0!==e.rejectUnauthorized&&(o.rejectUnauthorized=e.rejectUnauthorized);const i=(0,b.getProxyForUrl)(e.url);if(i){const t=g.default.parse(i);e.url.startsWith("http:")?o={path:r.href,host:t.hostname,port:t.port,headers:o.headers,method:o.method}:(t.secureProxy="https:"===t.protocol,o.agent=new b.HttpsProxyAgent(t),o.rejectUnauthorized=!1)}let s;const a=r=>{const o=r.statusCode||0;o>=300&&o<400&&r.headers.location?(l.destroy(),s=A({...e,url:new URL(r.headers.location,e.url).toString()},t,n).cancel):t(r)},l="https:"===o.protocol?m.default.request(o,a):p.default.request(o,a);return l.on("error",n),void 0!==e.socketTimeout&&l.setTimeout(e.socketTimeout,()=>{n(new Error(`Request to ${e.url} timed out after ${e.socketTimeout}ms`)),l.abort()}),s=e=>{try{l.destroy(e)}catch{}},l.end(e.data),{cancel:e=>s(e)}}async function _(e,t,n){const r=new y.ManualPromise,{cancel:o}=A(t,async e=>{if(200!==e.statusCode){const o=n?await n(t,e):new Error(`fetch failed: server returned code ${e.statusCode}. URL: ${t.url}`);return void r.reject(o)}let o="";e.on("data",e=>o+=e),e.on("error",e=>r.reject(e)),e.on("end",()=>r.resolve(o))},e=>r.reject(e));if(!e)return r;try{return await e.race(r)}catch(e){throw o(e),e}}function x(e,t){if(!e)return;if(t&&e.bypass&&function(e,t){if(!t)return!1;const n=t.split(",").map(e=>((e=e.trim()).startsWith(".")||(e="."+e),e)),r="."+e.hostname;return n.some(e=>r.endsWith(e))}(t,e.bypass))return;let n=e.server.trim();/^\w+:\/\//.test(n)||(n="http://"+n);const r=g.default.parse(n);return r.protocol?.startsWith("socks")?new b.SocksProxyAgent({host:r.hostname,port:r.port||void 0}):(e.username&&(r.auth=`${e.username}:${e.password||""}`),t&&["ws:","wss:"].includes(t.protocol),new b.HttpsProxyAgent(r))}function S(...e){const t=p.default.createServer(...e);return T(t),t}function E(...e){const t=m.default.createServer(...e);return T(t),t}function C(...e){const t=f.default.createSecureServer(...e);return T(t),t}async function k(e,t,n,r){let o=await O(e,t,n,r);if(404===o&&"/"===e.pathname){const i=new URL(e);i.pathname="/index.html",o=await O(i,t,n,r)}return o>=200&&o<404}async function O(e,t,n,r){return new Promise(o=>{n?.(`HTTP GET: ${e}`),A({url:e.toString(),headers:{Accept:"*/*"},rejectUnauthorized:!t},e=>{e.resume();const t=e.statusCode??0;n?.(`HTTP Status: ${t}`),o(t)},t=>{"DEPTH_ZERO_SELF_SIGNED_CERT"===t.code&&r?.("[WebServer] Self-signed certificate detected. Try adding ignoreHTTPSErrors: true to config.webServer."),n?.(`Error while checking if ${e} is available: ${t.message}`),o(0)})})}function T(e){const t=new Set;e.on("connection",e=>{t.add(e),e.once("close",()=>t.delete(e))});const n=e.close;e.close=r=>{for(const e of t)e.destroy();return t.clear(),n.call(e,r)}}},"./node_modules/playwright-core/lib/server/utils/nodePlatform.js":(e,t,n)=>{"use strict";var r,o=Object.create,i=Object.defineProperty,s=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,l=Object.getPrototypeOf,c=Object.prototype.hasOwnProperty,u=(e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let o of a(t))c.call(e,o)||o===n||i(e,o,{get:()=>t[o],enumerable:!(r=s(t,o))||r.enumerable});return e},d=(e,t,n)=>(n=null!=e?o(l(e)):{},u(!t&&e&&e.__esModule?n:i(n,"default",{value:e,enumerable:!0}),e)),h={};((e,t)=>{for(var n in t)i(e,n,{get:t[n],enumerable:!0})})(h,{nodePlatform:()=>O,setBoxedStackPrefixes:()=>C}),e.exports=(r=h,u(i({},"__esModule",{value:!0}),r));var p=d(n("crypto")),f=d(n("fs")),m=d(n("path")),g=d(n("util")),b=n("stream"),w=n("events"),y=n("./node_modules/playwright-core/lib/utilsBundle.js"),v=n("./node_modules/playwright-core/lib/server/utils/debugLogger.js"),A=n("./node_modules/playwright-core/lib/server/utils/zones.js"),_=n("./node_modules/playwright-core/lib/server/utils/debug.js");const x=g.promisify(b.pipeline);class S{constructor(e){this._zone=e}push(e){return new S(this._zone.with("apiZone",e))}pop(){return new S(this._zone.without("apiZone"))}run(e){return this._zone.run(e)}data(){return this._zone.data("apiZone")}}let E=[];function C(e){E=e}const k=m.default.dirname("./node_modules/playwright-core/package.json"),O={name:"node",boxedStackPrefixes:()=>process.env.PWDEBUGIMPL?[]:[k,...E],calculateSha1:e=>{const t=p.default.createHash("sha1");return t.update(e),Promise.resolve(t.digest("hex"))},colors:y.colors,coreDir:k,createGuid:()=>p.default.randomBytes(16).toString("hex"),defaultMaxListeners:()=>w.EventEmitter.defaultMaxListeners,fs:()=>f.default,env:process.env,inspectCustom:g.inspect.custom,isDebugMode:()=>"inspector"===(0,_.debugMode)(),isJSDebuggerAttached:()=>!!n("inspector").url(),isLogEnabled:e=>v.debugLogger.isEnabled(e),isUnderTest:()=>(0,_.isUnderTest)(),log(e,t){v.debugLogger.log(e,t)},path:()=>m.default,pathSeparator:m.default.sep,showInternalStackFrames:()=>!!process.env.PWDEBUGIMPL,async streamFile(e,t){await x(f.default.createReadStream(e),t)},streamReadable:e=>new T(e),streamWritable:e=>new I(e),zones:{current:()=>new S((0,A.currentZone)()),empty:new S(A.emptyZone)}};class T extends b.Readable{constructor(e){super(),this._channel=e}async _read(){const e=await this._channel.read({size:1048576});e.binary.byteLength?this.push(e.binary):this.push(null)}_destroy(e,t){this._channel.close().catch(e=>null),super._destroy(e,t)}}class I extends b.Writable{constructor(e){super(),this._channel=e}async _write(e,t,n){n(await this._channel.write({binary:"string"==typeof e?Buffer.from(e):e}).catch(e=>e)||null)}async _final(e){e(await this._channel.close().catch(e=>e)||null)}}},"./node_modules/playwright-core/lib/server/utils/pipeTransport.js":(e,t,n)=>{"use strict";var r,o=Object.defineProperty,i=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,l={};((e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})})(l,{PipeTransport:()=>u}),e.exports=(r=l,((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let n of s(t))a.call(e,n)||undefined===n||o(e,n,{get:()=>t[n],enumerable:!(r=i(t,n))||r.enumerable});return e})(o({},"__esModule",{value:!0}),r));var c=n("./node_modules/playwright-core/lib/server/utils/task.js");class u{constructor(e,t,n,r="le"){this._data=Buffer.from([]),this._waitForNextTask=(0,c.makeWaitForNextTask)(),this._closed=!1,this._bytesLeft=0,this._pipeWrite=e,this._endian=r,this._closeableStream=n,t.on("data",e=>this._dispatch(e)),t.on("close",()=>{this._closed=!0,this.onclose&&this.onclose()}),this.onmessage=void 0,this.onclose=void 0}send(e){if(this._closed)throw new Error("Pipe has been closed");const t=Buffer.from(e,"utf-8"),n=Buffer.alloc(4);"be"===this._endian?n.writeUInt32BE(t.length,0):n.writeUInt32LE(t.length,0),this._pipeWrite.write(n),this._pipeWrite.write(t)}close(){this._closeableStream.close()}_dispatch(e){for(this._data=Buffer.concat([this._data,e]);(this._bytesLeft||!(this._data.length<4))&&(this._bytesLeft||(this._bytesLeft="be"===this._endian?this._data.readUInt32BE(0):this._data.readUInt32LE(0),this._data=this._data.slice(4)),this._bytesLeft&&!(this._data.length<this._bytesLeft));){const e=this._data.slice(0,this._bytesLeft);this._data=this._data.slice(this._bytesLeft),this._bytesLeft=0,this._waitForNextTask(()=>{this.onmessage&&this.onmessage(e.toString("utf-8"))})}}}},"./node_modules/playwright-core/lib/server/utils/processLauncher.js":(e,t,n)=>{"use strict";var r,o=Object.create,i=Object.defineProperty,s=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,l=Object.getPrototypeOf,c=Object.prototype.hasOwnProperty,u=(e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let o of a(t))c.call(e,o)||o===n||i(e,o,{get:()=>t[o],enumerable:!(r=s(t,o))||r.enumerable});return e},d=(e,t,n)=>(n=null!=e?o(l(e)):{},u(!t&&e&&e.__esModule?n:i(n,"default",{value:e,enumerable:!0}),e)),h={};((e,t)=>{for(var n in t)i(e,n,{get:t[n],enumerable:!0})})(h,{envArrayToObject:()=>O,gracefullyCloseAll:()=>v,gracefullyCloseSet:()=>w,gracefullyProcessExitDoNotHang:()=>A,launchProcess:()=>k}),e.exports=(r=h,u(i({},"__esModule",{value:!0}),r));var p=d(n("child_process")),f=d(n("fs")),m=d(n("readline")),g=n("./node_modules/playwright-core/lib/server/utils/fileUtils.js"),b=n("./node_modules/playwright-core/lib/utils.js");const w=new Set,y=new Set;async function v(){await Promise.all(Array.from(w).map(e=>e().catch(e=>{})))}function A(e){setTimeout(()=>process.exit(e),3e4),v().then(()=>{process.exit(e)})}let _=!1;const x=new Set,S={exit:function(){for(const e of y)e()},SIGINT:function e(){const t=()=>{(0,b.isUnderTest)()?setTimeout(()=>process.exit(130),1e3):process.exit(130)};if(_){process.off("SIGINT",e);for(const e of y)e();t()}else _=!0,v().then(()=>t())},SIGTERM:function(){v()},SIGHUP:function(){v()}};function E(e){x.has(e)||(x.add(e),process.on(e,S[e]))}function C(){if(!y.size){for(const e of x)process.off(e,S[e]);x.clear()}}async function k(e){const t="pipe"===e.stdio?["ignore","pipe","pipe","pipe","pipe"]:["pipe","pipe","pipe"];e.log(`<launching> ${e.command} ${e.args?e.args.join(" "):""}`);const n={detached:"win32"!==process.platform,env:e.env,cwd:e.cwd,shell:e.shell,stdio:t},r=p.spawn(e.command,e.args||[],n),o=async()=>{e.log(`[pid=${r.pid||"N/A"}] starting temporary directories cleanup`);const t=await(0,g.removeFolders)(e.tempDirectories);for(let n=0;n<e.tempDirectories.length;++n)t[n]&&e.log(`[pid=${r.pid||"N/A"}] exception while removing ${e.tempDirectories[n]}: ${t[n]}`);e.log(`[pid=${r.pid||"N/A"}] finished temporary directories cleanup`)};if(r.on("error",()=>{}),!r.pid){let e;const t=new Promise((t,n)=>e=t);return r.once("error",t=>{e(new Error("Failed to launch: "+t))}),t.then(async e=>{throw await o(),e})}e.log(`<launched> pid=${r.pid}`),m.createInterface({input:r.stdout}).on("line",t=>{e.log(`[pid=${r.pid}][out] `+t)}),m.createInterface({input:r.stderr}).on("line",t=>{e.log(`[pid=${r.pid}][err] `+t)});let i=!1,s=()=>{};const a=new Promise(e=>s=e);r.once("close",(t,n)=>{e.log(`[pid=${r.pid}] <process did exit: exitCode=${t}, signal=${n}>`),i=!0,w.delete(c),y.delete(d),C(),e.onExit(t,n),o().then(s)}),E("exit"),e.handleSIGINT&&E("SIGINT"),e.handleSIGTERM&&E("SIGTERM"),e.handleSIGHUP&&E("SIGHUP"),w.add(c),y.add(d);let l=!1;async function c(){if(l)return e.log(`[pid=${r.pid}] <forcefully close>`),u(),void await a;l=!0,e.log(`[pid=${r.pid}] <gracefully close start>`),await e.attemptToGracefullyClose().catch(()=>u()),await a,e.log(`[pid=${r.pid}] <gracefully close end>`)}function u(){if(w.delete(c),y.delete(d),C(),e.log(`[pid=${r.pid}] <kill>`),!r.pid||r.killed||i)e.log(`[pid=${r.pid}] <skipped force kill spawnedProcess.killed=${r.killed} processClosed=${i}>`);else{e.log(`[pid=${r.pid}] <will force kill>`);try{if("win32"===process.platform){const t=p.spawnSync(`taskkill /pid ${r.pid} /T /F`,{shell:!0}),[n,o]=[t.stdout.toString(),t.stderr.toString()];n&&e.log(`[pid=${r.pid}] taskkill stdout: ${n}`),o&&e.log(`[pid=${r.pid}] taskkill stderr: ${o}`)}else process.kill(-r.pid,"SIGKILL")}catch(t){e.log(`[pid=${r.pid}] exception while trying to kill process: ${t}`)}}}function d(){u(),e.log(`[pid=${r.pid||"N/A"}] starting temporary directories cleanup`);for(const t of e.tempDirectories)try{f.default.rmSync(t,{force:!0,recursive:!0,maxRetries:5})}catch(n){e.log(`[pid=${r.pid||"N/A"}] exception while removing ${t}: ${n}`)}e.log(`[pid=${r.pid||"N/A"}] finished temporary directories cleanup`)}return{launchedProcess:r,gracefullyClose:c,kill:function(){return u(),a}}}function O(e){const t={};for(const{name:n,value:r}of e)t[n]=r;return t}},"./node_modules/playwright-core/lib/server/utils/profiler.js":(e,t,n)=>{"use strict";var r,o=Object.create,i=Object.defineProperty,s=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,l=Object.getPrototypeOf,c=Object.prototype.hasOwnProperty,u=(e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let o of a(t))c.call(e,o)||o===n||i(e,o,{get:()=>t[o],enumerable:!(r=s(t,o))||r.enumerable});return e},d=(e,t,n)=>(n=null!=e?o(l(e)):{},u(!t&&e&&e.__esModule?n:i(n,"default",{value:e,enumerable:!0}),e)),h={};((e,t)=>{for(var n in t)i(e,n,{get:t[n],enumerable:!0})})(h,{startProfiling:()=>b,stopProfiling:()=>w}),e.exports=(r=h,u(i({},"__esModule",{value:!0}),r));var p=d(n("fs")),f=d(n("path"));const m=process.env.PWTEST_PROFILE_DIR||"";let g;async function b(){m&&(g=new(n("inspector").Session),g.connect(),await new Promise(e=>{g.post("Profiler.enable",()=>{g.post("Profiler.start",e)})}))}async function w(e){m&&await new Promise(t=>g.post("Profiler.stop",(n,{profile:r})=>{n||(p.default.mkdirSync(m,{recursive:!0}),p.default.writeFileSync(f.default.join(m,e+".json"),JSON.stringify(r))),t()}))}},"./node_modules/playwright-core/lib/server/utils/socksProxy.js":(e,t,n)=>{"use strict";var r,o=Object.create,i=Object.defineProperty,s=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,l=Object.getPrototypeOf,c=Object.prototype.hasOwnProperty,u=(e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let o of a(t))c.call(e,o)||o===n||i(e,o,{get:()=>t[o],enumerable:!(r=s(t,o))||r.enumerable});return e},d=(e,t,n)=>(n=null!=e?o(l(e)):{},u(!t&&e&&e.__esModule?n:i(n,"default",{value:e,enumerable:!0}),e)),h={};((e,t)=>{for(var n in t)i(e,n,{get:t[n],enumerable:!0})})(h,{SocksProxy:()=>x,SocksProxyHandler:()=>S,parsePattern:()=>_}),e.exports=(r=h,u(i({},"__esModule",{value:!0}),r));var p=d(n("events")),f=d(n("net")),m=n("./node_modules/playwright-core/lib/utils/isomorphic/assert.js"),g=n("./node_modules/playwright-core/lib/server/utils/crypto.js"),b=n("./node_modules/playwright-core/lib/server/utils/debugLogger.js"),w=n("./node_modules/playwright-core/lib/server/utils/happyEyeballs.js");class y{constructor(e,t,n){this._buffer=Buffer.from([]),this._offset=0,this._fence=0,this._uid=e,this._socket=t,this._client=n,this._boundOnData=this._onData.bind(this),t.on("data",this._boundOnData),t.on("close",()=>this._onClose()),t.on("end",()=>this._onClose()),t.on("error",()=>this._onClose()),this._run().catch(()=>this._socket.end())}async _run(){(0,m.assert)(await this._authenticate());const{command:e,host:t,port:n}=await this._parseRequest();1===e?(this._socket.off("data",this._boundOnData),this._client.onSocketRequested({uid:this._uid,host:t,port:n})):this._writeBytes(Buffer.from([5,7,0,1,0,0,0,0,0,0]))}async _authenticate(){const e=await this._readByte();(0,m.assert)(5===e,"The VER field must be set to x05 for this version of the protocol, was "+e);const t=await this._readByte();(0,m.assert)(t,"No authentication methods specified");const n=await this._readBytes(t);for(const t of n)if(0===t)return this._writeBytes(Buffer.from([e,t])),!0;return this._writeBytes(Buffer.from([e,255])),!1}async _parseRequest(){const e=await this._readByte();(0,m.assert)(5===e,"The VER field must be set to x05 for this version of the protocol, was "+e);const t=await this._readByte();await this._readByte();let n="";switch(await this._readByte()){case 1:n=(await this._readBytes(4)).join(".");break;case 3:const e=await this._readByte();n=(await this._readBytes(e)).toString();break;case 4:const t=await this._readBytes(16),r=[];for(let e=0;e<8;++e)r.push(t.readUInt16BE(2*e).toString(16));n=r.join(":")}const r=(await this._readBytes(2)).readUInt16BE(0);return this._buffer=Buffer.from([]),this._offset=0,this._fence=0,{command:t,host:n,port:r}}async _readByte(){return(await this._readBytes(1))[0]}async _readBytes(e){return this._fence=this._offset+e,(!this._buffer||this._buffer.length<this._fence)&&await new Promise(e=>this._fenceCallback=e),this._offset+=e,this._buffer.slice(this._offset-e,this._offset)}_writeBytes(e){this._socket.writable&&this._socket.write(e)}_onClose(){this._client.onSocketClosed({uid:this._uid})}_onData(e){if(this._buffer=Buffer.concat([this._buffer,e]),this._fenceCallback&&this._buffer.length>=this._fence){const e=this._fenceCallback;this._fenceCallback=void 0,e()}}socketConnected(e,t){this._writeBytes(Buffer.from([5,0,0,...A(e),t>>8,255&t])),this._socket.on("data",e=>this._client.onSocketData({uid:this._uid,data:e}))}socketFailed(e){const t=Buffer.from([5,0,0,...A("0.0.0.0"),0,0]);switch(e){case"ENOENT":case"ENOTFOUND":case"ETIMEDOUT":case"EHOSTUNREACH":t[1]=4;break;case"ENETUNREACH":t[1]=3;break;case"ECONNREFUSED":t[1]=5;break;case"ERULESET":t[1]=2}this._writeBytes(t),this._socket.end()}sendData(e){this._socket.write(e)}end(){this._socket.end()}error(e){this._socket.destroy(new Error(e))}}function v(e){return[...e].reduce((t,n)=>{const r=n.charCodeAt(0);if(r>=48&&r<=57)return t+r;if(r>=97&&r<=102)return t+(r-97)+10;if(r>=65&&r<=70)return t+(r-65)+10;throw new Error("Invalid IPv6 token "+e)},0)}function A(e){if(f.default.isIPv4(e))return[1,...e.split(".",4).map(e=>255&+e)];if(f.default.isIPv6(e)){const t=[4],n=e.split(":",8);for(;n.length<8;)n.unshift("");for(const e of n){const n=v(e);t.push(n>>8&255,255&n)}return t}throw new Error("Only IPv4 and IPv6 addresses are supported")}function _(e){if(!e)return()=>!1;const t=e.split(",").map(t=>{const n=t.match(/^(.*?)(?::(\d+))?$/);if(!n)throw new Error(`Unsupported token "${t}" in pattern "${e}"`);const r=n[2]?+n[2]:void 0,o=e=>void 0===r||r===e;let i=n[1];if("<loopback>"===i)return(e,t)=>!!o(t)&&("localhost"===e||e.endsWith(".localhost")||"127.0.0.1"===e||"[::1]"===e);if("*"===i)return(e,t)=>o(t);if(f.default.isIPv4(i)||f.default.isIPv6(i))return(e,t)=>e===i&&o(t);"."===i[0]&&(i="*"+i);const s=function(e){const t=e.split("*").map(e=>e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")).join(".*");return new RegExp("^"+t+"$")}(i);return(e,t)=>!(!o(t)||f.default.isIPv4(e)||f.default.isIPv6(e)||!e.match(s))});return(e,n)=>t.some(t=>t(e,n))}class x extends p.default{constructor(){super(),this._connections=new Map,this._sockets=new Set,this._closed=!1,this._patternMatcher=()=>!1,this._directSockets=new Map,this._server=new f.default.Server(e=>{const t=(0,g.createGuid)(),n=new y(t,e,this);this._connections.set(t,n)}),this._server.on("connection",e=>{this._closed?e.destroy():(this._sockets.add(e),e.once("close",()=>this._sockets.delete(e)))})}static{this.Events={SocksRequested:"socksRequested",SocksData:"socksData",SocksClosed:"socksClosed"}}setPattern(e){try{this._patternMatcher=_(e)}catch(e){this._patternMatcher=()=>!1}}async _handleDirect(e){try{const t=await(0,w.createSocket)(e.host,e.port);t.on("data",t=>this._connections.get(e.uid)?.sendData(t)),t.on("error",t=>{this._connections.get(e.uid)?.error(t.message),this._directSockets.delete(e.uid)}),t.on("end",()=>{this._connections.get(e.uid)?.end(),this._directSockets.delete(e.uid)});const n=t.localAddress,r=t.localPort;this._directSockets.set(e.uid,t),this._connections.get(e.uid)?.socketConnected(n,r)}catch(t){this._connections.get(e.uid)?.socketFailed(t.code)}}port(){return this._port}async listen(e,t){return new Promise(n=>{this._server.listen(e,t,()=>{const e=this._server.address().port;this._port=e,n(e)})})}async close(){if(!this._closed){this._closed=!0;for(const e of this._sockets)e.destroy();this._sockets.clear(),await new Promise(e=>this._server.close(e))}}onSocketRequested(e){this._patternMatcher(e.host,e.port)?this.emit(x.Events.SocksRequested,e):this._handleDirect(e)}onSocketData(e){const t=this._directSockets.get(e.uid);t?t.write(e.data):this.emit(x.Events.SocksData,e)}onSocketClosed(e){const t=this._directSockets.get(e.uid);if(t)return t.destroy(),void this._directSockets.delete(e.uid);this.emit(x.Events.SocksClosed,e)}socketConnected({uid:e,host:t,port:n}){this._connections.get(e)?.socketConnected(t,n)}socketFailed({uid:e,errorCode:t}){this._connections.get(e)?.socketFailed(t)}sendSocketData({uid:e,data:t}){this._connections.get(e)?.sendData(t)}sendSocketEnd({uid:e}){this._connections.get(e)?.end()}sendSocketError({uid:e,error:t}){this._connections.get(e)?.error(t)}}class S extends p.default{constructor(e,t){super(),this._sockets=new Map,this._patternMatcher=()=>!1,this._patternMatcher=_(e),this._redirectPortForTest=t}static{this.Events={SocksConnected:"socksConnected",SocksData:"socksData",SocksError:"socksError",SocksFailed:"socksFailed",SocksEnd:"socksEnd"}}cleanup(){for(const e of this._sockets.keys())this.socketClosed({uid:e})}async socketRequested({uid:e,host:t,port:n}){if(b.debugLogger.log("socks",`[${e}] => request ${t}:${n}`),!this._patternMatcher(t,n)){const t={uid:e,errorCode:"ERULESET"};return b.debugLogger.log("socks",`[${e}] <= pattern error ${t.errorCode}`),void this.emit(S.Events.SocksFailed,t)}"local.playwright"===t&&(t="localhost");try{this._redirectPortForTest&&(n=this._redirectPortForTest);const r=await(0,w.createSocket)(t,n);r.on("data",t=>{const n={uid:e,data:t};this.emit(S.Events.SocksData,n)}),r.on("error",t=>{const n={uid:e,error:t.message};b.debugLogger.log("socks",`[${e}] <= network socket error ${n.error}`),this.emit(S.Events.SocksError,n),this._sockets.delete(e)}),r.on("end",()=>{const t={uid:e};b.debugLogger.log("socks",`[${e}] <= network socket closed`),this.emit(S.Events.SocksEnd,t),this._sockets.delete(e)});const o=r.localAddress,i=r.localPort;this._sockets.set(e,r);const s={uid:e,host:o,port:i};b.debugLogger.log("socks",`[${e}] <= connected to network ${s.host}:${s.port}`),this.emit(S.Events.SocksConnected,s)}catch(t){const n={uid:e,errorCode:t.code};b.debugLogger.log("socks",`[${e}] <= connect error ${n.errorCode}`),this.emit(S.Events.SocksFailed,n)}}sendSocketData({uid:e,data:t}){this._sockets.get(e)?.write(t)}socketClosed({uid:e}){b.debugLogger.log("socks",`[${e}] <= browser socket closed`),this._sockets.get(e)?.destroy(),this._sockets.delete(e)}}},"./node_modules/playwright-core/lib/server/utils/spawnAsync.js":(e,t,n)=>{"use strict";var r,o=Object.defineProperty,i=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,l={};((e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})})(l,{spawnAsync:()=>u}),e.exports=(r=l,((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let n of s(t))a.call(e,n)||undefined===n||o(e,n,{get:()=>t[n],enumerable:!(r=i(t,n))||r.enumerable});return e})(o({},"__esModule",{value:!0}),r));var c=n("child_process");function u(e,t,n={}){const r=(0,c.spawn)(e,t,Object.assign({windowsHide:!0},n));return new Promise(e=>{let t="",n="";r.stdout&&r.stdout.on("data",e=>t+=e.toString()),r.stderr&&r.stderr.on("data",e=>n+=e.toString()),r.on("close",r=>e({stdout:t,stderr:n,code:r})),r.on("error",r=>e({stdout:t,stderr:n,code:0,error:r}))})}},"./node_modules/playwright-core/lib/server/utils/task.js":e=>{"use strict";var t,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,i=Object.prototype.hasOwnProperty,s={};function a(){if(process.versions.electron)return e=>setTimeout(e,0);if(parseInt(process.versions.node,10)>=11)return setImmediate;let e=!1;const t=[],n=()=>{const r=t.shift();r?(setImmediate(n),r()):e=!1};return r=>{t.push(r),e||(e=!0,setImmediate(n))}}((e,t)=>{for(var r in t)n(e,r,{get:t[r],enumerable:!0})})(s,{makeWaitForNextTask:()=>a}),e.exports=(t=s,((e,t,s,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let s of o(t))i.call(e,s)||undefined===s||n(e,s,{get:()=>t[s],enumerable:!(a=r(t,s))||a.enumerable});return e})(n({},"__esModule",{value:!0}),t))},"./node_modules/playwright-core/lib/server/utils/userAgent.js":(e,t,n)=>{"use strict";var r,o=Object.create,i=Object.defineProperty,s=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,l=Object.getPrototypeOf,c=Object.prototype.hasOwnProperty,u=(e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let o of a(t))c.call(e,o)||o===n||i(e,o,{get:()=>t[o],enumerable:!(r=s(t,o))||r.enumerable});return e},d={};((e,t)=>{for(var n in t)i(e,n,{get:t[n],enumerable:!0})})(d,{getEmbedderName:()=>b,getPlaywrightVersion:()=>w,getUserAgent:()=>g}),e.exports=(r=d,u(i({},"__esModule",{value:!0}),r));var h=n("child_process"),p=((e,t,n)=>(n=null!=e?o(l(e)):{},u(e&&e.__esModule?n:i(n,"default",{value:e,enumerable:!0}),e)))(n("os")),f=n("./node_modules/playwright-core/lib/server/utils/linuxUtils.js");let m;function g(){if(m)return m;try{m=function(){let e="unknown",t="unknown";if("win32"===process.platform){const n=p.default.release().split(".");e="windows",t=`${n[0]}.${n[1]}`}else if("darwin"===process.platform){const n=(0,h.execSync)("sw_vers -productVersion",{stdio:["ignore","pipe","ignore"]}).toString().trim().split(".");e="macOS",t=`${n[0]}.${n[1]}`}else if("linux"===process.platform){const n=(0,f.getLinuxDistributionInfoSync)();n?(e=n.id||"linux",t=n.version||"unknown"):e="linux"}const n=[];process.env.CI&&n.push("CI/1");const r=n.length?" "+n.join(" "):"",{embedderName:o,embedderVersion:i}=b();return`Playwright/${w()} (${p.default.arch()}; ${e} ${t}) ${o}/${i}${r}`}()}catch(e){m="Playwright/unknown"}return m}function b(){let e="unknown",t="unknown";return process.env.PW_LANG_NAME?["node","python","java","csharp"].includes(process.env.PW_LANG_NAME)&&(e=process.env.PW_LANG_NAME,t=process.env.PW_LANG_NAME_VERSION??"unknown"):(e="node",t=process.version.substring(1).split(".").slice(0,2).join(".")),{embedderName:e,embedderVersion:t}}function w(e=!1){const t=process.env.PW_VERSION_OVERRIDE||n("./node_modules/playwright-core/package.json").rE;return e?t.split(".").slice(0,2).join("."):t}},"./node_modules/playwright-core/lib/server/utils/wsServer.js":(e,t,n)=>{"use strict";var r,o=Object.defineProperty,i=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,l={};((e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})})(l,{WSServer:()=>m,perMessageDeflate:()=>f}),e.exports=(r=l,((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let n of s(t))a.call(e,n)||undefined===n||o(e,n,{get:()=>t[n],enumerable:!(r=i(t,n))||r.enumerable});return e})(o({},"__esModule",{value:!0}),r));var c=n("./node_modules/playwright-core/lib/server/utils/network.js"),u=n("./node_modules/playwright-core/lib/utilsBundle.js"),d=n("./node_modules/playwright-core/lib/server/utils/debugLogger.js");let h=0;const p=Symbol("kConnection"),f={serverNoContextTakeover:!0,zlibDeflateOptions:{level:3},zlibInflateOptions:{chunkSize:10240},threshold:10240};class m{constructor(e){this._delegate=e}async listen(e=0,t,n){d.debugLogger.log("server",`Server started at ${new Date}`);const r=(0,c.createHttpServer)(this._delegate.onRequest);r.on("error",e=>d.debugLogger.log("server",String(e))),this.server=r;const o=await new Promise((o,i)=>{r.listen(e,t,()=>{const e=r.address();if(!e)return void i(new Error("Could not bind server socket"));const s="string"==typeof e?`${e}${n}`:`ws://${t||"localhost"}:${e.port}${n}`;o(s)}).on("error",i)});return d.debugLogger.log("server","Listening at "+o),this._wsServer=new u.wsServer({noServer:!0,perMessageDeflate:f}),this._wsServer.on("headers",e=>this._delegate.onHeaders(e)),r.on("upgrade",(e,t,r)=>{if(new URL("http://localhost"+e.url).pathname!==n)return t.write(`HTTP/${e.httpVersion} 400 Bad Request\r\n\r\n`),void t.destroy();const o=this._delegate.onUpgrade(e,t);if(o)return t.write(o.error),void t.destroy();this._wsServer.handleUpgrade(e,t,r,t=>this._wsServer.emit("connection",t,e))}),this._wsServer.on("connection",(e,t)=>{d.debugLogger.log("server","Connected client ws.extension="+e.extensions);const n=new URL("http://localhost"+(t.url||"")),r=String(++h);d.debugLogger.log("server",`[${r}] serving connection: ${t.url}`);try{const o=this._delegate.onConnection(t,n,e,r);e[p]=o}catch(t){d.debugLogger.log("server",`[${r}] connection error: ${t}`),e.close(1011,String(t))}}),o}async close(){const e=this._wsServer;if(!e)return;d.debugLogger.log("server","closing websocket server");const t=new Promise(t=>e.close(t));await Promise.all(Array.from(e.clients).map(async e=>{const t=e[p];t&&await t.close();try{e.terminate()}catch(e){}})),await t,d.debugLogger.log("server","closing http server"),this.server&&await new Promise(e=>this.server.close(e)),this._wsServer=void 0,this.server=void 0,d.debugLogger.log("server","closed server")}}},"./node_modules/playwright-core/lib/server/utils/zipFile.js":(e,t,n)=>{"use strict";var r,o=Object.defineProperty,i=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,l={};((e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})})(l,{ZipFile:()=>u}),e.exports=(r=l,((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let n of s(t))a.call(e,n)||undefined===n||o(e,n,{get:()=>t[n],enumerable:!(r=i(t,n))||r.enumerable});return e})(o({},"__esModule",{value:!0}),r));var c=n("./node_modules/playwright-core/lib/zipBundle.js");class u{constructor(e){this._entries=new Map,this._fileName=e,this._openedPromise=this._open()}async _open(){await new Promise((e,t)=>{c.yauzl.open(this._fileName,{autoClose:!1},(n,r)=>{n?t(n):(this._zipFile=r,this._zipFile.on("entry",e=>{this._entries.set(e.fileName,e)}),this._zipFile.on("end",e))})})}async entries(){return await this._openedPromise,[...this._entries.keys()]}async read(e){await this._openedPromise;const t=this._entries.get(e);if(!t)throw new Error(`${e} not found in file ${this._fileName}`);return new Promise((e,n)=>{this._zipFile.openReadStream(t,(t,r)=>{if(t||!r)return void n(t||"Entry not found");const o=[];r.on("data",e=>o.push(e)),r.on("end",()=>e(Buffer.concat(o)))})})}close(){this._zipFile?.close()}}},"./node_modules/playwright-core/lib/server/utils/zones.js":(e,t,n)=>{"use strict";var r,o=Object.defineProperty,i=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,l={};((e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})})(l,{Zone:()=>u,currentZone:()=>h,emptyZone:()=>d}),e.exports=(r=l,((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let n of s(t))a.call(e,n)||undefined===n||o(e,n,{get:()=>t[n],enumerable:!(r=i(t,n))||r.enumerable});return e})(o({},"__esModule",{value:!0}),r));const c=new(n("async_hooks").AsyncLocalStorage);class u{constructor(e,t){this._asyncLocalStorage=e,this._data=t}with(e,t){return new u(this._asyncLocalStorage,new Map(this._data).set(e,t))}without(e){const t=e?new Map(this._data):new Map;return t.delete(e),new u(this._asyncLocalStorage,t)}run(e){return this._asyncLocalStorage.run(this,e)}data(e){return this._data.get(e)}}const d=new u(c,new Map);function h(){return c.getStore()??d}},"./node_modules/playwright-core/lib/server/webkit/webkit.js":(e,t,n)=>{"use strict";var r,o=Object.create,i=Object.defineProperty,s=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,l=Object.getPrototypeOf,c=Object.prototype.hasOwnProperty,u=(e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let o of a(t))c.call(e,o)||o===n||i(e,o,{get:()=>t[o],enumerable:!(r=s(t,o))||r.enumerable});return e},d={};((e,t)=>{for(var n in t)i(e,n,{get:t[n],enumerable:!0})})(d,{WebKit:()=>y,translatePathToWSL:()=>v}),e.exports=(r=d,u(i({},"__esModule",{value:!0}),r));var h=((e,t,n)=>(n=null!=e?o(l(e)):{},u(e&&e.__esModule?n:i(n,"default",{value:e,enumerable:!0}),e)))(n("path")),p=n("./node_modules/playwright-core/lib/server/webkit/wkConnection.js"),f=n("./node_modules/playwright-core/lib/server/utils/ascii.js"),m=n("./node_modules/playwright-core/lib/server/browserType.js"),g=n("./node_modules/playwright-core/lib/server/webkit/wkBrowser.js"),b=n("./node_modules/playwright-core/lib/server/utils/spawnAsync.js"),w=n("./node_modules/playwright-core/lib/server/registry/index.js");class y extends m.BrowserType{constructor(e){super(e,"webkit")}connectToTransport(e,t){return g.WKBrowser.connect(this.attribution.playwright,e,t)}amendEnvironment(e,t,n,r){return{...e,CURL_COOKIE_JAR_PATH:"win32"===process.platform&&n?h.default.join(t,"cookiejar.db"):void 0,WEBKIT_EXECUTABLE:"webkit-wsl"===r.channel?w.registry.findExecutable("webkit-wsl").wslExecutablePath:void 0}}doRewriteStartupLog(e){return e.logs?((e.logs.includes("Failed to open display")||e.logs.includes("cannot open display"))&&(e.logs="\n"+(0,f.wrapInASCIIBox)(m.kNoXServerRunningError,1)),e):e}attemptToGracefullyCloseBrowser(e){e.send({method:"Playwright.close",params:{},id:p.kBrowserCloseMessageId})}async defaultArgs(e,t,n){const{args:r=[],headless:o}=e;if(r.find(e=>e.startsWith("--user-data-dir")))throw this._createUserDataDirArgMisuseError("--user-data-dir");if(r.find(e=>!e.startsWith("-")))throw new Error("Arguments can not specify page to be opened");const i=["--inspector-pipe"];if("webkit-wsl"===e.channel){if(e.executablePath)throw new Error('Cannot specify executablePath when using the "webkit-wsl" channel.');i.unshift(h.default.join(__dirname,"wsl/webkit-wsl-transport-server.js"))}"win32"===process.platform&&"webkit-wsl"!==e.channel&&i.push("--disable-accelerated-compositing"),o&&i.push("--headless"),t?i.push(`--user-data-dir=${"webkit-wsl"===e.channel?await v(n):n}`):i.push("--no-startup-window");const s=e.proxyOverride||e.proxy;return s&&("darwin"===process.platform?(i.push(`--proxy=${s.server}`),s.bypass&&i.push(`--proxy-bypass-list=${s.bypass}`)):"linux"===process.platform||"win32"===process.platform&&"webkit-wsl"===e.channel?(i.push(`--proxy=${s.server}`),s.bypass&&i.push(...s.bypass.split(",").map(e=>`--ignore-host=${e}`))):"win32"===process.platform&&(i.push(`--curl-proxy=${s.server.replace(/^socks5:\/\//,"socks5h://")}`),s.bypass&&i.push(`--curl-noproxy=${s.bypass}`))),i.push(...r),t&&i.push("about:blank"),i}}async function v(e){const{stdout:t}=await(0,b.spawnAsync)("wsl.exe",["-d","playwright","--cd","/home/pwuser","wslpath",e.replace(/\\/g,"\\\\")]);return t.toString().trim()}},"./node_modules/playwright-core/lib/server/webkit/wkAccessibility.js":e=>{"use strict";var t,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,i=Object.prototype.hasOwnProperty,s={};async function a(e,t){const n=t?t._objectId:void 0,{axNode:r}=await e.send("Page.accessibilitySnapshot",{objectId:n}),o=new u(r);return{tree:o,needle:t?o._findNeedle():null}}((e,t)=>{for(var r in t)n(e,r,{get:t[r],enumerable:!0})})(s,{getAccessibilityTree:()=>a}),e.exports=(t=s,((e,t,s,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let s of o(t))i.call(e,s)||undefined===s||n(e,s,{get:()=>t[s],enumerable:!(a=r(t,s))||a.enumerable});return e})(n({},"__esModule",{value:!0}),t));const l=new Map(Object.entries({TextField:"textbox"})),c=new Map(Object.entries({WebArea:"HTML content",Summary:"summary",DescriptionList:"description list",ImageMap:"image map",ListMarker:"list marker",Video:"video playback",Mark:"highlighted",contentinfo:"content information",Details:"details",DescriptionListDetail:"description",DescriptionListTerm:"term",alertdialog:"web alert dialog",dialog:"web dialog",status:"application status",tabpanel:"tab panel",application:"web application"}));class u{constructor(e){this._payload=e,this._children=[];for(const e of this._payload.children||[])this._children.push(new u(e))}children(){return this._children}_findNeedle(){if(this._payload.found)return this;for(const e of this._children){const t=e._findNeedle();if(t)return t}return null}isControl(){switch(this._payload.role){case"button":case"checkbox":case"ColorWell":case"combobox":case"DisclosureTriangle":case"listbox":case"menu":case"menubar":case"menuitem":case"menuitemcheckbox":case"menuitemradio":case"radio":case"scrollbar":case"searchbox":case"slider":case"spinbutton":case"switch":case"tab":case"textbox":case"TextField":case"tree":return!0;default:return!1}}_isTextControl(){switch(this._payload.role){case"combobox":case"searchfield":case"textbox":case"TextField":return!0}return!1}_name(){return"text"===this._payload.role?this._payload.value||"":this._payload.name||""}isInteresting(e){const{role:t,focusable:n}=this._payload,r=this._name();return"ScrollArea"!==t&&("WebArea"===t||!(!n&&"MenuListOption"!==t)||!!this.isControl()||!e&&this.isLeafNode()&&!!r)}_hasRedundantTextChild(){if(1!==this._children.length)return!1;const e=this._children[0];return"text"===e._payload.role&&this._payload.name===e._payload.value}isLeafNode(){return!this._children.length||!!this._isTextControl()||!!this._hasRedundantTextChild()}serialize(){const e={role:l.get(this._payload.role)||this._payload.role,name:this._name()};if("description"in this._payload&&this._payload.description!==e.name&&(e.description=this._payload.description),"roledescription"in this._payload){const t=this._payload.roledescription;t!==this._payload.role&&c.get(this._payload.role)!==t&&(e.roledescription=t)}"value"in this._payload&&"text"!==this._payload.role&&("string"==typeof this._payload.value?e.valueString=this._payload.value:"number"==typeof this._payload.value&&(e.valueNumber=this._payload.value)),"checked"in this._payload&&(e.checked="true"===this._payload.checked?"checked":"false"===this._payload.checked?"unchecked":"mixed"),"pressed"in this._payload&&(e.pressed="true"===this._payload.pressed?"pressed":"false"===this._payload.pressed?"released":"mixed");const t=["keyshortcuts","valuetext"];for(const n of t)n in this._payload&&(e[n]=this._payload[n]);const n=["disabled","expanded","focused","modal","multiselectable","readonly","required","selected"];for(const t of n){if("focused"===t&&("WebArea"===this._payload.role||"ScrollArea"===this._payload.role))continue;const n=this._payload[t];n&&(e[t]=n)}const r=["level","valuemax","valuemin"];for(const t of r)t in this._payload&&(e[t]=this._payload[t]);const o=["autocomplete","haspopup","invalid"];for(const t of o){const n=this._payload[t];n&&"false"!==n&&(e[t]=n)}const i=new Set(["ScrollArea","scrollbar","listbox","combobox","menu","tree","separator","slider","tablist","toolbar"]);return this._payload.orientation&&i.has(this._payload.role)&&(e.orientation=this._payload.orientation),e}}},"./node_modules/playwright-core/lib/server/webkit/wkBrowser.js":(e,t,n)=>{"use strict";var r,o=Object.create,i=Object.defineProperty,s=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,l=Object.getPrototypeOf,c=Object.prototype.hasOwnProperty,u=(e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let o of a(t))c.call(e,o)||o===n||i(e,o,{get:()=>t[o],enumerable:!(r=s(t,o))||r.enumerable});return e},d={};((e,t)=>{for(var n in t)i(e,n,{get:t[n],enumerable:!0})})(d,{WKBrowser:()=>_,WKBrowserContext:()=>x}),e.exports=(r=d,u(i({},"__esModule",{value:!0}),r));var h=n("./node_modules/playwright-core/lib/utils.js"),p=n("./node_modules/playwright-core/lib/server/browser.js"),f=n("./node_modules/playwright-core/lib/server/browserContext.js"),m=((e,t,n)=>(n=null!=e?o(l(e)):{},u(e&&e.__esModule?n:i(n,"default",{value:e,enumerable:!0}),e)))(n("./node_modules/playwright-core/lib/server/network.js")),g=n("./node_modules/playwright-core/lib/server/webkit/wkConnection.js"),b=n("./node_modules/playwright-core/lib/server/webkit/wkPage.js"),w=n("./node_modules/playwright-core/lib/server/errors.js"),y=n("./node_modules/playwright-core/lib/server/webkit/webkit.js");const v="26.0",A=`Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/${v} Safari/605.1.15`;class _ extends p.Browser{constructor(e,t,n){super(e,n),this._contexts=new Map,this._wkPages=new Map,this._connection=new g.WKConnection(t,this._onDisconnect.bind(this),n.protocolLogger,n.browserLogsCollector),this._browserSession=this._connection.browserSession,this._browserSession.on("Playwright.pageProxyCreated",this._onPageProxyCreated.bind(this)),this._browserSession.on("Playwright.pageProxyDestroyed",this._onPageProxyDestroyed.bind(this)),this._browserSession.on("Playwright.provisionalLoadFailed",e=>this._onProvisionalLoadFailed(e)),this._browserSession.on("Playwright.windowOpen",e=>this._onWindowOpen(e)),this._browserSession.on("Playwright.downloadCreated",this._onDownloadCreated.bind(this)),this._browserSession.on("Playwright.downloadFilenameSuggested",this._onDownloadFilenameSuggested.bind(this)),this._browserSession.on("Playwright.downloadFinished",this._onDownloadFinished.bind(this)),this._browserSession.on("Playwright.screencastFinished",this._onScreencastFinished.bind(this)),this._browserSession.on(g.kPageProxyMessageReceived,this._onPageProxyMessageReceived.bind(this))}static async connect(e,t,n){const r=new _(e,t,n);n.__testHookOnConnectToBrowser&&await n.__testHookOnConnectToBrowser();const o=[r._browserSession.send("Playwright.enable")];return n.persistent&&(n.persistent.userAgent||=A,r._defaultContext=new x(r,void 0,n.persistent),o.push(r._defaultContext._initialize())),await Promise.all(o),r}_onDisconnect(){for(const e of this._wkPages.values())e.didClose();this._wkPages.clear();for(const e of this._idToVideo.values())e.artifact.reportFinished(new w.TargetClosedError);this._idToVideo.clear(),this._didClose()}async doCreateNewContext(e){const t=e.proxyOverride||e.proxy,n=t?{proxyServer:"win32"===process.platform&&"webkit-wsl"!==this.attribution.browser?.options.channel?t.server.replace(/^socks5:\/\//,"socks5h://"):t.server,proxyBypassList:t.bypass}:void 0,{browserContextId:r}=await this._browserSession.send("Playwright.createContext",n);e.userAgent=e.userAgent||A;const o=new x(this,r,e);return await o._initialize(),this._contexts.set(r,o),o}contexts(){return Array.from(this._contexts.values())}version(){return v}userAgent(){return A}_onDownloadCreated(e){const t=this._wkPages.get(e.pageProxyId);if(!t)return;let n=e.frameId;t._page.frameManager.frame(n)||(n=t._page.mainFrame()._id),t._page.frameManager.frameAbortedNavigation(n,"Download is starting");let r=t._page.initializedOrUndefined();r||(t._firstNonInitialNavigationCommittedReject(new Error("Starting new page download")),t._opener&&(r=t._opener._page.initializedOrUndefined())),r&&this._downloadCreated(r,e.uuid,e.url)}_onDownloadFilenameSuggested(e){this._downloadFilenameSuggested(e.uuid,e.suggestedFilename)}_onDownloadFinished(e){this._downloadFinished(e.uuid,e.error)}_onScreencastFinished(e){this._takeVideo(e.screencastId)?.reportFinished()}_onPageProxyCreated(e){const t=e.pageProxyId;let n=null;if(e.browserContextId&&(n=this._contexts.get(e.browserContextId)||null),n||(n=this._defaultContext),!n)return;const r=new g.WKSession(this._connection,t,e=>{this._connection.rawSend({...e,pageProxyId:t})}),o=e.openerId?this._wkPages.get(e.openerId):void 0,i=new b.WKPage(n,r,o||null);this._wkPages.set(t,i)}_onPageProxyDestroyed(e){const t=e.pageProxyId,n=this._wkPages.get(t);n&&(this._wkPages.delete(t),n.didClose())}_onPageProxyMessageReceived(e){const t=this._wkPages.get(e.pageProxyId);t&&t.dispatchMessageToSession(e.message)}_onProvisionalLoadFailed(e){const t=this._wkPages.get(e.pageProxyId);t&&t.handleProvisionalLoadFailed(e)}_onWindowOpen(e){const t=this._wkPages.get(e.pageProxyId);t&&t.handleWindowOpen(e)}isConnected(){return!this._connection.isClosed()}}class x extends f.BrowserContext{constructor(e,t,n){super(e,n,t),this._validateEmulatedViewport(n.viewport),this._authenticateProxyViaHeader()}async _initialize(){(0,h.assert)(!this._wkPages().length);const e=this._browserContextId,t=[super._initialize()];t.push(this._browser._browserSession.send("Playwright.setDownloadBehavior",{behavior:"accept"===this._options.acceptDownloads?"allow":"deny",downloadPath:"webkit-wsl"===this._browser.options.channel?await(0,y.translatePathToWSL)(this._browser.options.downloadsPath):this._browser.options.downloadsPath,browserContextId:e})),(this._options.ignoreHTTPSErrors||this._options.internalIgnoreHTTPSErrors)&&t.push(this._browser._browserSession.send("Playwright.setIgnoreCertificateErrors",{browserContextId:e,ignore:!0})),this._options.locale&&t.push(this._browser._browserSession.send("Playwright.setLanguages",{browserContextId:e,languages:[this._options.locale]})),this._options.geolocation&&t.push(this.setGeolocation(this._options.geolocation)),this._options.offline&&t.push(this.doUpdateOffline()),this._options.httpCredentials&&t.push(this.setHTTPCredentials(this._options.httpCredentials)),await Promise.all(t)}_wkPages(){return Array.from(this._browser._wkPages.values()).filter(e=>e._browserContext===this)}possiblyUninitializedPages(){return this._wkPages().map(e=>e._page)}async doCreateNewPage(){const{pageProxyId:e}=await this._browser._browserSession.send("Playwright.createPage",{browserContextId:this._browserContextId});return this._browser._wkPages.get(e)._page}async doGetCookies(e){const{cookies:t}=await this._browser._browserSession.send("Playwright.getAllCookies",{browserContextId:this._browserContextId});return m.filterCookies(t.map(e=>{const{name:t,value:n,domain:r,path:o,expires:i,httpOnly:s,secure:a,sameSite:l}=e;return{name:t,value:n,domain:r,path:o,expires:-1===i?-1:i/1e3,httpOnly:s,secure:a,sameSite:l}}),e)}async addCookies(e){const t=m.rewriteCookies(e).map(e=>{const{name:t,value:n,domain:r,path:o,expires:i,httpOnly:s,secure:a,sameSite:l}=e;return{name:t,value:n,domain:r,path:o,expires:i&&-1!==i?1e3*i:i,httpOnly:s,secure:a,sameSite:l,session:-1===i||void 0===i}});await this._browser._browserSession.send("Playwright.setCookies",{cookies:t,browserContextId:this._browserContextId})}async doClearCookies(){await this._browser._browserSession.send("Playwright.deleteAllCookies",{browserContextId:this._browserContextId})}async doGrantPermissions(e,t){await Promise.all(this.pages().map(n=>n.delegate._grantPermissions(e,t)))}async doClearPermissions(){await Promise.all(this.pages().map(e=>e.delegate._clearPermissions()))}async setGeolocation(e){(0,f.verifyGeolocation)(e),this._options.geolocation=e;const t=e?{...e,timestamp:Date.now()}:void 0;await this._browser._browserSession.send("Playwright.setGeolocationOverride",{browserContextId:this._browserContextId,geolocation:t})}async doUpdateExtraHTTPHeaders(){for(const e of this.pages())await e.delegate.updateExtraHTTPHeaders()}async setUserAgent(e){this._options.userAgent=e;for(const e of this.pages())await e.delegate.updateUserAgent()}async doUpdateOffline(){for(const e of this.pages())await e.delegate.updateOffline()}async doSetHTTPCredentials(e){this._options.httpCredentials=e;for(const e of this.pages())await e.delegate.updateHttpCredentials()}async doAddInitScript(e){for(const e of this.pages())await e.delegate._updateBootstrapScript()}async doRemoveInitScripts(e){for(const e of this.pages())await e.delegate._updateBootstrapScript()}async doUpdateRequestInterception(){for(const e of this.pages())await e.delegate.updateRequestInterception()}async doUpdateDefaultViewport(){}async doUpdateDefaultEmulatedMedia(){}async doExposePlaywrightBinding(){for(const e of this.pages())await e.delegate.exposePlaywrightBinding()}onClosePersistent(){}async clearCache(){await this._browser._browserSession.send("Playwright.clearMemoryCache",{browserContextId:this._browserContextId})}async doClose(e){this._browserContextId?(await this._browser._browserSession.send("Playwright.deleteContext",{browserContextId:this._browserContextId}),this._browser._contexts.delete(this._browserContextId)):(await Promise.all(this._wkPages().map(e=>e._stopVideo())),await this._browser.close({reason:e}))}async cancelDownload(e){await this._browser._browserSession.send("Playwright.cancelDownload",{uuid:e})}_validateEmulatedViewport(e){if(e&&"win32"===process.platform&&this._browser.options.headful&&(e.width<250||e.height<240))throw new Error("WebKit on Windows has a minimal viewport of 250x240.")}}},"./node_modules/playwright-core/lib/server/webkit/wkConnection.js":(e,t,n)=>{"use strict";var r,o=Object.defineProperty,i=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,l={};((e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})})(l,{WKConnection:()=>g,WKSession:()=>b,kBrowserCloseMessageId:()=>f,kPageProxyMessageReceived:()=>m}),e.exports=(r=l,((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let n of s(t))a.call(e,n)||undefined===n||o(e,n,{get:()=>t[n],enumerable:!(r=i(t,n))||r.enumerable});return e})(o({},"__esModule",{value:!0}),r));var c=n("events"),u=n("./node_modules/playwright-core/lib/utils.js"),d=n("./node_modules/playwright-core/lib/server/utils/debugLogger.js"),h=n("./node_modules/playwright-core/lib/server/helper.js"),p=n("./node_modules/playwright-core/lib/server/protocolError.js");const f=-9999,m=Symbol("kPageProxyMessageReceived");class g{constructor(e,t,n,r){this._lastId=0,this._closed=!1,this._transport=e,this._onDisconnect=t,this._protocolLogger=n,this._browserLogsCollector=r,this.browserSession=new b(this,"",e=>{this.rawSend(e)}),this._transport.onmessage=this._dispatchMessage.bind(this),this._transport.onclose=this._onClose.bind(this)}nextMessageId(){return++this._lastId}rawSend(e){this._protocolLogger("send",e),this._transport.send(e)}_dispatchMessage(e){if(this._protocolLogger("receive",e),e.id!==f){if(e.pageProxyId){const t={message:e,pageProxyId:e.pageProxyId};return void this.browserSession.dispatchMessage({method:m,params:t})}this.browserSession.dispatchMessage(e)}}_onClose(e){this._closed=!0,this._transport.onmessage=void 0,this._transport.onclose=void 0,this._browserDisconnectedLogs=h.helper.formatBrowserLogs(this._browserLogsCollector.recentLogs(),e),this.browserSession.dispose(),this._onDisconnect()}isClosed(){return this._closed}close(){this._closed||this._transport.close()}}class b extends c.EventEmitter{constructor(e,t,n){super(),this._disposed=!1,this._callbacks=new Map,this._crashed=!1,this.setMaxListeners(0),this.connection=e,this.sessionId=t,this._rawSend=n,this.on=super.on,this.off=super.removeListener,this.addListener=super.addListener,this.removeListener=super.removeListener,this.once=super.once}async send(e,t){if(this._crashed||this._disposed||this.connection._browserDisconnectedLogs)throw new p.ProtocolError(this._crashed?"crashed":"closed",void 0,this.connection._browserDisconnectedLogs);const n=this.connection.nextMessageId(),r={id:n,method:e,params:t};return this._rawSend(r),new Promise((t,r)=>{this._callbacks.set(n,{resolve:t,reject:r,error:new p.ProtocolError("error",e)})})}sendMayFail(e,t){return this.send(e,t).catch(e=>d.debugLogger.log("error",e))}markAsCrashed(){this._crashed=!0}isDisposed(){return this._disposed}dispose(){for(const e of this._callbacks.values())e.error.type=this._crashed?"crashed":"closed",e.error.logs=this.connection._browserDisconnectedLogs,e.reject(e.error);this._callbacks.clear(),this._disposed=!0}dispatchMessage(e){if(e.id&&this._callbacks.has(e.id)){const t=this._callbacks.get(e.id);this._callbacks.delete(e.id),e.error?(t.error.setMessage(e.error.message),t.reject(t.error)):t.resolve(e.result)}else e.id&&!e.error?(0,u.assert)(this.isDisposed()):Promise.resolve().then(()=>this.emit(e.method,e.params))}}},"./node_modules/playwright-core/lib/server/webkit/wkExecutionContext.js":(e,t,n)=>{"use strict";var r,o=Object.create,i=Object.defineProperty,s=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,l=Object.getPrototypeOf,c=Object.prototype.hasOwnProperty,u=(e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let o of a(t))c.call(e,o)||o===n||i(e,o,{get:()=>t[o],enumerable:!(r=s(t,o))||r.enumerable});return e},d=(e,t,n)=>(n=null!=e?o(l(e)):{},u(!t&&e&&e.__esModule?n:i(n,"default",{value:e,enumerable:!0}),e)),h={};((e,t)=>{for(var n in t)i(e,n,{get:t[n],enumerable:!0})})(h,{WKExecutionContext:()=>w,createHandle:()=>v}),e.exports=(r=h,u(i({},"__esModule",{value:!0}),r));var p=d(n("./node_modules/playwright-core/lib/server/javascript.js")),f=d(n("./node_modules/playwright-core/lib/server/dom.js")),m=n("./node_modules/playwright-core/lib/server/protocolError.js"),g=n("./node_modules/playwright-core/lib/utils/isomorphic/assert.js"),b=n("./node_modules/playwright-core/lib/utils/isomorphic/utilityScriptSerializers.js");class w{constructor(e,t){this._session=e,this._contextId=t}async rawEvaluateJSON(e){try{const t=await this._session.send("Runtime.evaluate",{expression:e,contextId:this._contextId,returnByValue:!0});if(t.wasThrown)throw new p.JavaScriptErrorInEvaluate(t.result.description);return t.result.value}catch(e){throw y(e)}}async rawEvaluateHandle(e,t){try{const n=await this._session.send("Runtime.evaluate",{expression:t,contextId:this._contextId,returnByValue:!1});if(n.wasThrown)throw new p.JavaScriptErrorInEvaluate(n.result.description);return v(e,n.result)}catch(e){throw y(e)}}async evaluateWithArguments(e,t,n,r,o){try{const i=await this._session.send("Runtime.callFunctionOn",{functionDeclaration:e,objectId:n._objectId,arguments:[{objectId:n._objectId},...r.map(e=>({value:e})),...o.map(e=>({objectId:e._objectId}))],returnByValue:t,emulateUserGesture:!0,awaitPromise:!0});if(i.wasThrown)throw new p.JavaScriptErrorInEvaluate(i.result.description);return t?(0,b.parseEvaluationResultValue)(i.result.value):v(n._context,i.result)}catch(e){throw y(e)}}async getProperties(e){const t=await this._session.send("Runtime.getProperties",{objectId:e._objectId,ownProperties:!0}),n=new Map;for(const r of t.properties)r.enumerable&&r.value&&n.set(r.name,v(e._context,r.value));return n}async releaseHandle(e){e._objectId&&await this._session.send("Runtime.releaseObject",{objectId:e._objectId})}}function y(e){if(e.message.includes("Object has too long reference chain"))throw new Error("Cannot serialize result: object reference chain is too long.");return p.isJavaScriptErrorInEvaluate(e)||(0,m.isSessionClosedError)(e)?e:new Error("Execution context was destroyed, most likely because of a navigation.")}function v(e,t){if("node"===t.subtype)return(0,g.assert)(e instanceof f.FrameExecutionContext),new f.ElementHandle(e,t.objectId);const n="Promise"===t.className;return new p.JSHandle(e,n?"promise":t.subtype||t.type,function(e){if("undefined"===e.type)return"undefined";if("value"in e)return String(e.value);if("Object"===e.description&&e.preview){const t=[];for(const{name:n,value:r}of e.preview.properties)t.push(`${n}: ${r}`);return`{${t.join(", ")}}`}return"array"===e.subtype&&e.preview?p.sparseArrayToString(e.preview.properties):e.description}(t),t.objectId,function(e){const t=e.value;return"number"===e.type&&["NaN","-Infinity","Infinity","-0"].includes(e.description)?p.parseUnserializableValue(e.description):t}(t))}},"./node_modules/playwright-core/lib/server/webkit/wkInput.js":(e,t,n)=>{"use strict";var r,o=Object.create,i=Object.defineProperty,s=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,l=Object.getPrototypeOf,c=Object.prototype.hasOwnProperty,u=(e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let o of a(t))c.call(e,o)||o===n||i(e,o,{get:()=>t[o],enumerable:!(r=s(t,o))||r.enumerable});return e},d={};((e,t)=>{for(var n in t)i(e,n,{get:t[n],enumerable:!0})})(d,{RawKeyboardImpl:()=>b,RawMouseImpl:()=>w,RawTouchscreenImpl:()=>y}),e.exports=(r=d,u(i({},"__esModule",{value:!0}),r));var h=n("./node_modules/playwright-core/lib/utils.js"),p=((e,t,n)=>(n=null!=e?o(l(e)):{},u(e&&e.__esModule?n:i(n,"default",{value:e,enumerable:!0}),e)))(n("./node_modules/playwright-core/lib/server/input.js")),f=n("./node_modules/playwright-core/lib/server/macEditingCommands.js");function m(e){let t=0;return e.has("Shift")&&(t|=1),e.has("Control")&&(t|=2),e.has("Alt")&&(t|=4),e.has("Meta")&&(t|=8),t}function g(e){let t=0;return e.has("left")&&(t|=1),e.has("right")&&(t|=2),e.has("middle")&&(t|=4),t}class b{constructor(e){this._pageProxySession=e}setSession(e){this._session=e}async keydown(e,t,n,r,o){const i=[];for(const e of["Shift","Control","Alt","Meta"])t.has(e)&&i.push(e);const{code:s,keyCode:a,key:l,text:c}=r;i.push(s);const u=i.join("+");let d=f.macEditingCommands[u];(0,h.isString)(d)&&(d=[d]),await e.race(this._pageProxySession.send("Input.dispatchKeyEvent",{type:"keyDown",modifiers:m(t),windowsVirtualKeyCode:a,code:s,key:l,text:c,unmodifiedText:c,autoRepeat:o,macCommands:d,isKeypad:r.location===p.keypadLocation}))}async keyup(e,t,n,r){const{code:o,key:i}=r;await e.race(this._pageProxySession.send("Input.dispatchKeyEvent",{type:"keyUp",modifiers:m(t),key:i,windowsVirtualKeyCode:r.keyCode,code:o,isKeypad:r.location===p.keypadLocation}))}async sendText(e,t){await e.race(this._session.send("Page.insertText",{text:t}))}}class w{constructor(e){this._pageProxySession=e}setSession(e){this._session=e}async move(e,t,n,r,o,i,s){await e.race(this._pageProxySession.send("Input.dispatchMouseEvent",{type:"move",button:r,buttons:g(o),x:t,y:n,modifiers:m(i)}))}async down(e,t,n,r,o,i,s){await e.race(this._pageProxySession.send("Input.dispatchMouseEvent",{type:"down",button:r,buttons:g(o),x:t,y:n,modifiers:m(i),clickCount:s}))}async up(e,t,n,r,o,i,s){await e.race(this._pageProxySession.send("Input.dispatchMouseEvent",{type:"up",button:r,buttons:g(o),x:t,y:n,modifiers:m(i),clickCount:s}))}async wheel(e,t,n,r,o,i,s){if(this._page?.browserContext._options.isMobile)throw new Error("Mouse wheel is not supported in mobile WebKit");await this._session.send("Page.updateScrollingState"),await e.race(this._page.mainFrame().evaluateExpression("new Promise(requestAnimationFrame)",{world:"utility"})),await e.race(this._pageProxySession.send("Input.dispatchWheelEvent",{x:t,y:n,deltaX:i,deltaY:s,modifiers:m(o)}))}setPage(e){this._page=e}}class y{constructor(e){this._pageProxySession=e}async tap(e,t,n,r){await e.race(this._pageProxySession.send("Input.dispatchTapEvent",{x:t,y:n,modifiers:m(r)}))}}},"./node_modules/playwright-core/lib/server/webkit/wkInterceptableRequest.js":(e,t,n)=>{"use strict";var r,o=Object.create,i=Object.defineProperty,s=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,l=Object.getPrototypeOf,c=Object.prototype.hasOwnProperty,u=(e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let o of a(t))c.call(e,o)||o===n||i(e,o,{get:()=>t[o],enumerable:!(r=s(t,o))||r.enumerable});return e},d={};((e,t)=>{for(var n in t)i(e,n,{get:t[n],enumerable:!0})})(d,{WKInterceptableRequest:()=>m,WKRouteImpl:()=>g}),e.exports=(r=d,u(i({},"__esModule",{value:!0}),r));var h=n("./node_modules/playwright-core/lib/utils.js"),p=((e,t,n)=>(n=null!=e?o(l(e)):{},u(e&&e.__esModule?n:i(n,"default",{value:e,enumerable:!0}),e)))(n("./node_modules/playwright-core/lib/server/network.js"));const f={aborted:"Cancellation",accessdenied:"AccessControl",addressunreachable:"General",blockedbyclient:"Cancellation",blockedbyresponse:"General",connectionaborted:"General",connectionclosed:"General",connectionfailed:"General",connectionrefused:"General",connectionreset:"General",internetdisconnected:"General",namenotresolved:"General",timedout:"Timeout",failed:"General"};class m{constructor(e,t,n,r,o){this._session=e,this._requestId=n.requestId;const i=n.type?n.type.toLowerCase():r?r.request.resourceType():"other";let s=null;this._timestamp=n.timestamp,this._wallTime=1e3*n.walltime,n.request.postData&&(s=Buffer.from(n.request.postData,"base64")),this.request=new p.Request(t._page.browserContext,t,null,r?.request||null,o,n.request.url,i,n.request.method,s,(0,h.headersObjectToArray)(n.request.headers))}adoptRequestFromNewProcess(e,t){this._session=e,this._requestId=t}createResponse(e){const t=e.timing,n={startTime:this._wallTime,domainLookupStart:t?b(t.domainLookupStart):-1,domainLookupEnd:t?b(t.domainLookupEnd):-1,connectStart:t?b(t.connectStart):-1,secureConnectionStart:t?b(t.secureConnectionStart):-1,connectEnd:t?b(t.connectEnd):-1,requestStart:t?b(t.requestStart):-1,responseStart:t?b(t.responseStart):-1},r="darwin"===process.platform?",":"playwright-set-cookie-separator",o=new p.Response(this.request,e.status,e.statusText,(0,h.headersObjectToArray)(e.headers,",",r),n,async()=>{const e=await this._session.send("Network.getResponseBody",{requestId:this._requestId});return Buffer.from(e.body,e.base64Encoded?"base64":"utf8")},"service-worker"===e.source);if(o.setRawResponseHeaders(null),o.setTransferSize(null),e.requestHeaders&&Object.keys(e.requestHeaders).length){const t={...e.requestHeaders};t.host||(t.Host=new URL(this.request.url()).host),this.request.setRawRequestHeaders((0,h.headersObjectToArray)(t))}else this.request.setRawRequestHeaders(null);return o}}class g{constructor(e,t){this._session=e,this._requestId=t}async abort(e){const t=f[e];(0,h.assert)(t,"Unknown error code: "+e),await this._session.sendMayFail("Network.interceptRequestWithError",{requestId:this._requestId,errorType:t})}async fulfill(e){if(300<=e.status&&e.status<400)throw new Error("Cannot fulfill with redirect status: "+e.status);let t=e.isBase64?"application/octet-stream":"text/plain";const n=(0,h.headersArrayToObject)(e.headers,!0),r=n["content-type"];r&&(t=r.split(";")[0].trim()),await this._session.sendMayFail("Network.interceptRequestWithResponse",{requestId:this._requestId,status:e.status,statusText:p.statusText(e.status),mimeType:t,headers:n,base64Encoded:e.isBase64,content:e.body})}async continue(e){await this._session.sendMayFail("Network.interceptWithRequest",{requestId:this._requestId,url:e.url,method:e.method,headers:e.headers?(0,h.headersArrayToObject)(e.headers,!1):void 0,postData:e.postData?Buffer.from(e.postData).toString("base64"):void 0})}}function b(e){return-1e3===e||e<=0?-1:(1e3*e|0)/1e3}},"./node_modules/playwright-core/lib/server/webkit/wkPage.js":(e,t,n)=>{"use strict";var r,o=Object.create,i=Object.defineProperty,s=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,l=Object.getPrototypeOf,c=Object.prototype.hasOwnProperty,u=(e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let o of a(t))c.call(e,o)||o===n||i(e,o,{get:()=>t[o],enumerable:!(r=s(t,o))||r.enumerable});return e},d=(e,t,n)=>(n=null!=e?o(l(e)):{},u(!t&&e&&e.__esModule?n:i(n,"default",{value:e,enumerable:!0}),e)),h={};((e,t)=>{for(var n in t)i(e,n,{get:t[n],enumerable:!0})})(h,{WKPage:()=>D}),e.exports=(r=h,u(i({},"__esModule",{value:!0}),r));var p=d(n("path")),f=n("./node_modules/playwright-core/lib/utils.js"),m=n("./node_modules/playwright-core/lib/utils/isomorphic/headers.js"),g=n("./node_modules/playwright-core/lib/server/utils/crypto.js"),b=n("./node_modules/playwright-core/lib/server/utils/eventsHelper.js"),w=n("./node_modules/playwright-core/lib/server/utils/hostPlatform.js"),y=n("./node_modules/playwright-core/lib/utils/isomorphic/stackTrace.js"),v=n("./node_modules/playwright-core/lib/utilsBundle.js"),A=d(n("./node_modules/playwright-core/lib/server/dialog.js")),_=d(n("./node_modules/playwright-core/lib/server/dom.js")),x=n("./node_modules/playwright-core/lib/server/errors.js"),S=n("./node_modules/playwright-core/lib/server/helper.js"),E=d(n("./node_modules/playwright-core/lib/server/network.js")),C=n("./node_modules/playwright-core/lib/server/page.js"),k=n("./node_modules/playwright-core/lib/server/webkit/wkAccessibility.js"),O=n("./node_modules/playwright-core/lib/server/webkit/wkConnection.js"),T=n("./node_modules/playwright-core/lib/server/webkit/wkExecutionContext.js"),I=n("./node_modules/playwright-core/lib/server/webkit/wkInput.js"),B=n("./node_modules/playwright-core/lib/server/webkit/wkInterceptableRequest.js"),M=n("./node_modules/playwright-core/lib/server/webkit/wkProvisionalPage.js"),P=n("./node_modules/playwright-core/lib/server/webkit/wkWorkers.js"),j=n("./node_modules/playwright-core/lib/server/utils/debugLogger.js"),N=n("./node_modules/playwright-core/lib/server/webkit/webkit.js");const F="__playwright_utility_world__";class D{constructor(e,t,n){if(this._provisionalPage=null,this._requestIdToRequest=new Map,this._requestIdToRequestWillBeSentEvent=new Map,this._sessionListeners=[],this._firstNonInitialNavigationCommittedFulfill=()=>{},this._firstNonInitialNavigationCommittedReject=e=>{},this._lastConsoleMessage=null,this._requestIdToResponseReceivedPayloadEvent=new Map,this._recordingVideoFile=null,this._screencastGeneration=0,this._pageProxySession=t,this._opener=n,this.rawKeyboard=new I.RawKeyboardImpl(t),this.rawMouse=new I.RawMouseImpl(t),this.rawTouchscreen=new I.RawTouchscreenImpl(t),this._contextIdToContext=new Map,this._page=new C.Page(this,e),this.rawMouse.setPage(this._page),this._workers=new P.WKWorkers(this._page),this._session=void 0,this._browserContext=e,this._page.on(C.Page.Events.FrameDetached,e=>this._removeContextsForFrame(e,!1)),this._eventListeners=[b.eventsHelper.addEventListener(this._pageProxySession,"Target.targetCreated",this._onTargetCreated.bind(this)),b.eventsHelper.addEventListener(this._pageProxySession,"Target.targetDestroyed",this._onTargetDestroyed.bind(this)),b.eventsHelper.addEventListener(this._pageProxySession,"Target.dispatchMessageFromTarget",this._onDispatchMessageFromTarget.bind(this)),b.eventsHelper.addEventListener(this._pageProxySession,"Target.didCommitProvisionalTarget",this._onDidCommitProvisionalTarget.bind(this)),b.eventsHelper.addEventListener(this._pageProxySession,"Screencast.screencastFrame",this._onScreencastFrame.bind(this))],this._firstNonInitialNavigationCommittedPromise=new Promise((e,t)=>{this._firstNonInitialNavigationCommittedFulfill=e,this._firstNonInitialNavigationCommittedReject=t}),this._firstNonInitialNavigationCommittedPromise.catch(()=>{}),n&&!e._options.noDefaultViewport&&n._nextWindowOpenPopupFeatures){const e=S.helper.getViewportSizeFromWindowFeatures(n._nextWindowOpenPopupFeatures);n._nextWindowOpenPopupFeatures=void 0,e&&this._page.setEmulatedSizeFromWindowOpen({viewport:e,screen:e})}}async _initializePageProxySession(){if(this._page.isStorageStatePage)return;const e=[this._pageProxySession.send("Dialog.enable"),this._pageProxySession.send("Emulation.setActiveAndFocused",{active:!0})];if(!1===this._browserContext._options.javaScriptEnabled&&e.push(this._pageProxySession.send("Emulation.setJavaScriptEnabled",{enabled:!1})),e.push(this._updateViewport()),e.push(this.updateHttpCredentials()),this._browserContext._permissions.size)for(const[t,n]of this._browserContext._permissions)e.push(this._grantPermissions(t,n));if(this._browserContext._options.recordVideo){const t=p.default.join(this._browserContext._options.recordVideo.dir,(0,g.createGuid)()+".webm");e.push(this._browserContext._ensureVideosPath().then(()=>this._startVideo({...this._browserContext._options.recordVideo.size,outputFile:t})))}await Promise.all(e)}_setSession(e){b.eventsHelper.removeEventListeners(this._sessionListeners),this._session=e,this.rawKeyboard.setSession(e),this.rawMouse.setSession(e),this._addSessionListeners(),this._workers.setSession(e)}async _initializeSession(e,t,n){await this._initializeSessionMayThrow(e,n).catch(n=>{if(!(t&&e.isDisposed()||this._session!==e))throw n})}async _initializeSessionMayThrow(e,t){const[,n]=await Promise.all([e.send("Page.enable"),e.send("Page.getResourceTree")]);t(n);const r=[e.send("Runtime.enable"),e.send("Page.createUserWorld",{name:F}).catch(e=>{}),e.send("Console.enable"),e.send("Network.enable"),this._workers.initializeSession(e)];if(this._page.browserContext.needsPlaywrightBinding()&&r.push(e.send("Runtime.addBinding",{name:C.PageBinding.kBindingName})),this._page.needsRequestInterception()&&(r.push(e.send("Network.setInterceptionEnabled",{enabled:!0})),r.push(e.send("Network.setResourceCachingDisabled",{disabled:!0})),r.push(e.send("Network.addInterception",{url:".*",stage:"request",isRegex:!0}))),this._page.isStorageStatePage)return void await Promise.all(r);const o=this._browserContext._options;o.userAgent&&r.push(this.updateUserAgent());const i=this._page.emulatedMedia();(i.media||i.colorScheme||i.reducedMotion||i.forcedColors||i.contrast)&&r.push(D._setEmulateMedia(e,i.media,i.colorScheme,i.reducedMotion,i.forcedColors,i.contrast));const s=this._calculateBootstrapScript();s.length&&r.push(e.send("Page.setBootstrapScript",{source:s})),this._page.frames().map(e=>e.evaluateExpression(s).catch(e=>{})),o.bypassCSP&&r.push(e.send("Page.setBypassCSP",{enabled:!0}));const a=this._page.emulatedSize();a&&r.push(e.send("Page.setScreenSizeOverride",{width:a.screen.width,height:a.screen.height})),r.push(this.updateEmulateMedia()),r.push(e.send("Network.setExtraHTTPHeaders",{headers:(0,m.headersArrayToObject)(this._calculateExtraHTTPHeaders(),!1)})),o.offline&&r.push(e.send("Network.setEmulateOfflineState",{offline:!0})),r.push(e.send("Page.setTouchEmulationEnabled",{enabled:!!o.hasTouch})),o.timezoneId&&r.push(e.send("Page.setTimeZone",{timeZone:o.timezoneId}).catch(e=>{throw new Error(`Invalid timezone ID: ${o.timezoneId}`)})),this._page.fileChooserIntercepted()&&r.push(e.send("Page.setInterceptFileChooserDialog",{enabled:!0})),r.push(e.send("Page.overrideSetting",{setting:"DeviceOrientationEventEnabled",value:o.isMobile})),r.push(e.send("Page.overrideSetting",{setting:"FullScreenEnabled",value:!o.isMobile})),r.push(e.send("Page.overrideSetting",{setting:"NotificationsEnabled",value:!o.isMobile})),r.push(e.send("Page.overrideSetting",{setting:"PointerLockEnabled",value:!o.isMobile})),r.push(e.send("Page.overrideSetting",{setting:"InputTypeMonthEnabled",value:o.isMobile})),r.push(e.send("Page.overrideSetting",{setting:"InputTypeWeekEnabled",value:o.isMobile})),r.push(e.send("Page.overrideSetting",{setting:"FixedBackgroundsPaintRelativeToDocument",value:o.isMobile})),await Promise.all(r)}_onDidCommitProvisionalTarget(e){const{oldTargetId:t,newTargetId:n}=e;(0,f.assert)(this._provisionalPage),(0,f.assert)(this._provisionalPage._session.sessionId===n,"Unknown new target: "+n),(0,f.assert)(this._session.sessionId===t,"Unknown old target: "+t);const r=this._provisionalPage._session;this._provisionalPage.commit(),this._provisionalPage.dispose(),this._provisionalPage=null,this._setSession(r)}_onTargetDestroyed(e){const{targetId:t,crashed:n}=e;this._provisionalPage&&this._provisionalPage._session.sessionId===t?(this._maybeCancelCoopNavigationRequest(this._provisionalPage),this._provisionalPage._session.dispose(),this._provisionalPage.dispose(),this._provisionalPage=null):this._session.sessionId===t&&(this._session.dispose(),b.eventsHelper.removeEventListeners(this._sessionListeners),n&&(this._session.markAsCrashed(),this._page._didCrash()))}didClose(){this._pageProxySession.dispose(),b.eventsHelper.removeEventListeners(this._sessionListeners),b.eventsHelper.removeEventListeners(this._eventListeners),this._session&&this._session.dispose(),this._provisionalPage&&(this._provisionalPage._session.dispose(),this._provisionalPage.dispose(),this._provisionalPage=null),this._firstNonInitialNavigationCommittedReject(new x.TargetClosedError),this._page._didClose()}dispatchMessageToSession(e){this._pageProxySession.dispatchMessage(e)}handleProvisionalLoadFailed(e){if(!this._page.initializedOrUndefined())return void this._firstNonInitialNavigationCommittedReject(new Error("Initial load failed"));if(!this._provisionalPage)return;let t=e.error;t.includes("cancelled")&&(t+="; maybe frame was detached?"),this._page.frameManager.frameAbortedNavigation(this._page.mainFrame()._id,t,e.loaderId)}handleWindowOpen(e){this._nextWindowOpenPopupFeatures=e.windowFeatures}async _onTargetCreated(e){const{targetInfo:t}=e,n=new O.WKSession(this._pageProxySession.connection,t.targetId,e=>{this._pageProxySession.send("Target.sendMessageToTarget",{message:JSON.stringify(e),targetId:t.targetId}).catch(t=>{n.dispatchMessage({id:e.id,error:{message:t.message}})})});if((0,f.assert)("page"===t.type,"Only page targets are expected in WebKit, received: "+t.type),t.isProvisional)(0,f.assert)(t.isProvisional),(0,f.assert)(!this._provisionalPage),this._provisionalPage=new M.WKProvisionalPage(n,this),t.isPaused&&this._provisionalPage.initializationPromise.then(()=>{this._pageProxySession.sendMayFail("Target.resume",{targetId:t.targetId})});else{let e;(0,f.assert)(!this._page.initializedOrUndefined());try{this._setSession(n),await Promise.all([this._initializePageProxySession(),this._initializeSession(n,!1,({frameTree:e})=>this._handleFrameTree(e))]),e=this._page}catch(t){e=t}if(t.isPaused&&this._pageProxySession.sendMayFail("Target.resume",{targetId:t.targetId}),e instanceof C.Page&&""===this._page.mainFrame().url())try{await this._firstNonInitialNavigationCommittedPromise}catch(t){e=t}this._page.reportAsNew(this._opener?._page,e instanceof C.Page?void 0:e)}}_onDispatchMessageFromTarget(e){const{targetId:t,message:n}=e;if(this._provisionalPage&&this._provisionalPage._session.sessionId===t)this._provisionalPage._session.dispatchMessage(JSON.parse(n));else{if(this._session.sessionId!==t)throw new Error("Unknown target: "+t);this._session.dispatchMessage(JSON.parse(n))}}_addSessionListeners(){this._sessionListeners=[b.eventsHelper.addEventListener(this._session,"Page.frameNavigated",e=>this._onFrameNavigated(e.frame,!1)),b.eventsHelper.addEventListener(this._session,"Page.navigatedWithinDocument",e=>this._onFrameNavigatedWithinDocument(e.frameId,e.url)),b.eventsHelper.addEventListener(this._session,"Page.frameAttached",e=>this._onFrameAttached(e.frameId,e.parentFrameId)),b.eventsHelper.addEventListener(this._session,"Page.frameDetached",e=>this._onFrameDetached(e.frameId)),b.eventsHelper.addEventListener(this._session,"Page.willCheckNavigationPolicy",e=>this._onWillCheckNavigationPolicy(e.frameId)),b.eventsHelper.addEventListener(this._session,"Page.didCheckNavigationPolicy",e=>this._onDidCheckNavigationPolicy(e.frameId,e.cancel)),b.eventsHelper.addEventListener(this._session,"Page.frameScheduledNavigation",e=>this._onFrameScheduledNavigation(e.frameId,e.delay,e.targetIsCurrentFrame)),b.eventsHelper.addEventListener(this._session,"Page.loadEventFired",e=>this._page.frameManager.frameLifecycleEvent(e.frameId,"load")),b.eventsHelper.addEventListener(this._session,"Page.domContentEventFired",e=>this._page.frameManager.frameLifecycleEvent(e.frameId,"domcontentloaded")),b.eventsHelper.addEventListener(this._session,"Runtime.executionContextCreated",e=>this._onExecutionContextCreated(e.context)),b.eventsHelper.addEventListener(this._session,"Runtime.bindingCalled",e=>this._onBindingCalled(e.contextId,e.argument)),b.eventsHelper.addEventListener(this._session,"Console.messageAdded",e=>this._onConsoleMessage(e)),b.eventsHelper.addEventListener(this._session,"Console.messageRepeatCountUpdated",e=>this._onConsoleRepeatCountUpdated(e)),b.eventsHelper.addEventListener(this._pageProxySession,"Dialog.javascriptDialogOpening",e=>this._onDialog(e)),b.eventsHelper.addEventListener(this._session,"Page.fileChooserOpened",e=>this._onFileChooserOpened(e)),b.eventsHelper.addEventListener(this._session,"Network.requestWillBeSent",e=>this._onRequestWillBeSent(this._session,e)),b.eventsHelper.addEventListener(this._session,"Network.requestIntercepted",e=>this._onRequestIntercepted(this._session,e)),b.eventsHelper.addEventListener(this._session,"Network.responseReceived",e=>this._onResponseReceived(this._session,e)),b.eventsHelper.addEventListener(this._session,"Network.loadingFinished",e=>this._onLoadingFinished(e)),b.eventsHelper.addEventListener(this._session,"Network.loadingFailed",e=>this._onLoadingFailed(this._session,e)),b.eventsHelper.addEventListener(this._session,"Network.webSocketCreated",e=>this._page.frameManager.onWebSocketCreated(e.requestId,e.url)),b.eventsHelper.addEventListener(this._session,"Network.webSocketWillSendHandshakeRequest",e=>this._page.frameManager.onWebSocketRequest(e.requestId)),b.eventsHelper.addEventListener(this._session,"Network.webSocketHandshakeResponseReceived",e=>this._page.frameManager.onWebSocketResponse(e.requestId,e.response.status,e.response.statusText)),b.eventsHelper.addEventListener(this._session,"Network.webSocketFrameSent",e=>e.response.payloadData&&this._page.frameManager.onWebSocketFrameSent(e.requestId,e.response.opcode,e.response.payloadData)),b.eventsHelper.addEventListener(this._session,"Network.webSocketFrameReceived",e=>e.response.payloadData&&this._page.frameManager.webSocketFrameReceived(e.requestId,e.response.opcode,e.response.payloadData)),b.eventsHelper.addEventListener(this._session,"Network.webSocketClosed",e=>this._page.frameManager.webSocketClosed(e.requestId)),b.eventsHelper.addEventListener(this._session,"Network.webSocketFrameError",e=>this._page.frameManager.webSocketError(e.requestId,e.errorMessage))]}async _updateState(e,t){await this._forAllSessions(n=>n.send(e,t).then())}async _forAllSessions(e){const t=[this._session];this._provisionalPage&&t.push(this._provisionalPage._session),await Promise.all(t.map(t=>e(t).catch(e=>{})))}_onWillCheckNavigationPolicy(e){this._provisionalPage||this._page.frameManager.frameRequestedNavigation(e)}_onDidCheckNavigationPolicy(e,t){t&&(this._provisionalPage||this._page.frameManager.frameAbortedNavigation(e,"Navigation canceled by policy check"))}_onFrameScheduledNavigation(e,t,n){n&&this._page.frameManager.frameRequestedNavigation(e)}_handleFrameTree(e){if(this._onFrameAttached(e.frame.id,e.frame.parentId||null),this._onFrameNavigated(e.frame,!0),this._page.frameManager.frameLifecycleEvent(e.frame.id,"domcontentloaded"),this._page.frameManager.frameLifecycleEvent(e.frame.id,"load"),e.childFrames)for(const t of e.childFrames)this._handleFrameTree(t)}_onFrameAttached(e,t){return this._page.frameManager.frameAttached(e,t)}_onFrameNavigated(e,t){const n=this._page.frameManager.frame(e.id);(0,f.assert)(n),this._removeContextsForFrame(n,!0),e.parentId||this._workers.clear(),this._page.frameManager.frameCommittedNewDocumentNavigation(e.id,e.url,e.name||"",e.loaderId,t),t||this._firstNonInitialNavigationCommittedFulfill()}_onFrameNavigatedWithinDocument(e,t){this._page.frameManager.frameCommittedSameDocumentNavigation(e,t)}_onFrameDetached(e){this._page.frameManager.frameDetached(e)}_removeContextsForFrame(e,t){for(const[n,r]of this._contextIdToContext)r.frame===e&&(this._contextIdToContext.delete(n),t&&e._contextDestroyed(r))}_onExecutionContextCreated(e){if(this._contextIdToContext.has(e.id))return;const t=this._page.frameManager.frame(e.frameId);if(!t)return;const n=new T.WKExecutionContext(this._session,e.id);let r=null;"normal"===e.type?r="main":"user"===e.type&&e.name===F&&(r="utility");const o=new _.FrameExecutionContext(n,t,r);r&&t._contextCreated(r,o),this._contextIdToContext.set(e.id,o)}async _onBindingCalled(e,t){if(!(await this._page.waitForInitializedOrError()instanceof Error)){const n=this._contextIdToContext.get(e);n&&await this._page.onBindingCalled(t,n)}}async navigateFrame(e,t,n){if(this._pageProxySession.isDisposed())throw new x.TargetClosedError;const r=this._pageProxySession.sessionId;return{newDocumentId:(await this._pageProxySession.connection.browserSession.send("Playwright.navigate",{url:t,pageProxyId:r,frameId:e._id,referrer:n})).loaderId}}_onConsoleMessage(e){const{type:t,level:n,text:r,parameters:o,url:i,line:s,column:a,source:l}=e.message;if("error"===n&&"javascript"===l){const{name:t,message:n}=(0,y.splitErrorMessage)(r);let o;o=e.message.stackTrace?r+"\n"+e.message.stackTrace.callFrames.map(e=>`    at ${e.functionName||"unknown"} (${e.url}:${e.lineNumber}:${e.columnNumber})`).join("\n"):"",this._lastConsoleMessage=null;const i=new Error(n);return i.stack=o,i.name=t,void this._page.addPageError(i)}let c=t||"";"log"===t?c=n:"timing"===t&&(c="timeEnd");const u=[];for(const e of o||[]){let t;if(e.objectId){const n=JSON.parse(e.objectId);t=this._contextIdToContext.get(n.injectedScriptId)}else t=[...this._contextIdToContext.values()].find(e=>e.frame===this._page.mainFrame());if(!t)return;u.push((0,T.createHandle)(t,e))}this._lastConsoleMessage={derivedType:c,text:r,handles:u,count:0,location:{url:i||"",lineNumber:(s||1)-1,columnNumber:(a||1)-1}},this._onConsoleRepeatCountUpdated({count:1})}_onConsoleRepeatCountUpdated(e){if(this._lastConsoleMessage){const{derivedType:t,text:n,handles:r,count:o,location:i}=this._lastConsoleMessage;for(let s=o;s<e.count;++s)this._page.addConsoleMessage(t,r,i,r.length?void 0:n);this._lastConsoleMessage.count=e.count}}_onDialog(e){this._page.browserContext.dialogManager.dialogDidOpen(new A.Dialog(this._page,e.type,e.message,async(t,n)=>{"beforeunload"!==e.type||t||this._page.frameManager.frameAbortedNavigation(this._page.mainFrame()._id,"navigation cancelled by beforeunload dialog"),await this._pageProxySession.send("Dialog.handleJavaScriptDialog",{accept:t,promptText:n})},e.defaultPrompt))}async _onFileChooserOpened(e){let t;try{const n=await this._page.frameManager.frame(e.frameId)._mainContext();t=(0,T.createHandle)(n,e.element).asElement()}catch(e){return}await this._page._onFileChooserOpened(t)}static async _setEmulateMedia(e,t,n,r,o,i){const s=[];let a,l,c,u;switch(s.push(e.send("Page.setEmulatedMedia",{media:"no-override"===t?"":t})),n){case"light":a="Light";break;case"dark":a="Dark";break;case"no-override":a=void 0}switch(s.push(e.send("Page.overrideUserPreference",{name:"PrefersColorScheme",value:a})),r){case"reduce":l="Reduce";break;case"no-preference":l="NoPreference";break;case"no-override":l=void 0}switch(s.push(e.send("Page.overrideUserPreference",{name:"PrefersReducedMotion",value:l})),o){case"active":c="Active";break;case"none":c="None";break;case"no-override":c=void 0}switch(s.push(e.send("Page.setForcedColors",{forcedColors:c})),i){case"more":u="More";break;case"no-preference":u="NoPreference";break;case"no-override":u=void 0}s.push(e.send("Page.overrideUserPreference",{name:"PrefersContrast",value:u})),await Promise.all(s)}async updateExtraHTTPHeaders(){await this._updateState("Network.setExtraHTTPHeaders",{headers:(0,m.headersArrayToObject)(this._calculateExtraHTTPHeaders(),!1)})}_calculateExtraHTTPHeaders(){const e=this._browserContext._options.locale;return E.mergeHeaders([this._browserContext._options.extraHTTPHeaders,this._page.extraHTTPHeaders(),e?E.singleHeader("Accept-Language",e):void 0])}async updateEmulateMedia(){const e=this._page.emulatedMedia(),t=e.colorScheme,n=e.reducedMotion,r=e.forcedColors,o=e.contrast;await this._forAllSessions(i=>D._setEmulateMedia(i,e.media,t,n,r,o))}async updateEmulatedViewportSize(){this._browserContext._validateEmulatedViewport(this._page.emulatedSize()?.viewport),await this._updateViewport()}async updateUserAgent(){const e=this._browserContext._options;this._updateState("Page.overrideUserAgent",{value:e.userAgent})}async bringToFront(){this._pageProxySession.send("Target.activate",{targetId:this._session.sessionId})}async _updateViewport(){const e=this._browserContext._options,t=this._page.emulatedSize();if(!t)return;const n=t.viewport,r=t.screen,o=[this._pageProxySession.send("Emulation.setDeviceMetricsOverride",{width:n.width,height:n.height,fixedLayout:!!e.isMobile,deviceScaleFactor:e.deviceScaleFactor||1}),this._session.send("Page.setScreenSizeOverride",{width:r.width,height:r.height})];if(e.isMobile){const e=n.width>n.height?90:0;o.push(this._pageProxySession.send("Emulation.setOrientationOverride",{angle:e}))}await Promise.all(o),this._browserContext._browser?.options.headful||"ubuntu22.04-x64"!==w.hostPlatform&&!w.hostPlatform.startsWith("debian12")||await new Promise(e=>setTimeout(e,500))}async updateRequestInterception(){const e=this._page.needsRequestInterception();await Promise.all([this._updateState("Network.setInterceptionEnabled",{enabled:e}),this._updateState("Network.setResourceCachingDisabled",{disabled:e}),this._updateState("Network.addInterception",{url:".*",stage:"request",isRegex:!0})])}async updateOffline(){await this._updateState("Network.setEmulateOfflineState",{offline:!!this._browserContext._options.offline})}async updateHttpCredentials(){const e=this._browserContext._options.httpCredentials||{username:"",password:"",origin:""};await this._pageProxySession.send("Emulation.setAuthCredentials",{username:e.username,password:e.password,origin:e.origin})}async updateFileChooserInterception(){const e=this._page.fileChooserIntercepted();await this._session.send("Page.setInterceptFileChooserDialog",{enabled:e}).catch(()=>{})}async reload(){await this._session.send("Page.reload")}goBack(){return this._session.send("Page.goBack").then(()=>!0).catch(e=>{if(e instanceof Error&&e.message.includes("Protocol error (Page.goBack): Failed to go"))return!1;throw e})}goForward(){return this._session.send("Page.goForward").then(()=>!0).catch(e=>{if(e instanceof Error&&e.message.includes("Protocol error (Page.goForward): Failed to go"))return!1;throw e})}async requestGC(){await this._session.send("Heap.gc")}async addInitScript(e){await this._updateBootstrapScript()}async removeInitScripts(e){await this._updateBootstrapScript()}async exposePlaywrightBinding(){await this._updateState("Runtime.addBinding",{name:C.PageBinding.kBindingName})}_calculateBootstrapScript(){const e=[];return this._page.browserContext._options.isMobile||(e.push("delete window.orientation"),e.push("delete window.ondevicemotion"),e.push("delete window.ondeviceorientation")),e.push('if (!window.safari) window.safari = { pushNotification: { toString() { return "[object SafariRemoteNotification]"; } } };'),e.push("if (!window.GestureEvent) window.GestureEvent = function GestureEvent() {};"),e.push(this._publicKeyCredentialScript()),e.push(...this._page.allInitScripts().map(e=>e.source)),e.join(";\n")}_publicKeyCredentialScript(){return`(${function(){window.PublicKeyCredential??={getClientCapabilities:async()=>({}),isConditionalMediationAvailable:async()=>!1,isUserVerifyingPlatformAuthenticatorAvailable:async()=>!1}}.toString()})();`}async _updateBootstrapScript(){await this._updateState("Page.setBootstrapScript",{source:this._calculateBootstrapScript()})}async closePage(e){await this._stopVideo(),await this._pageProxySession.sendMayFail("Target.close",{targetId:this._session.sessionId,runBeforeUnload:e})}async setBackgroundColor(e){await this._session.send("Page.setDefaultBackgroundColorOverride",{color:e})}_toolbarHeight(){return this._page.browserContext._browser?.options.headful?"mac10.15"===w.hostPlatform?55:59:0}async _startVideo(e){(0,f.assert)(!this._recordingVideoFile);const{screencastId:t}=await this._pageProxySession.send("Screencast.startVideo",{file:"webkit-wsl"===this._browserContext._browser.options.channel?await(0,N.translatePathToWSL)(e.outputFile):e.outputFile,width:e.width,height:e.height,toolbarHeight:this._toolbarHeight()});this._recordingVideoFile=e.outputFile,this._browserContext._browser._videoStarted(this._browserContext,t,e.outputFile,this._page.waitForInitializedOrError())}async _stopVideo(){this._recordingVideoFile&&(await this._pageProxySession.sendMayFail("Screencast.stopVideo"),this._recordingVideoFile=null)}validateScreenshotDimension(e,t){if("darwin"!==process.platform&&(!t&&this._page.browserContext._options.deviceScaleFactor&&(e=Math.ceil(e*this._page.browserContext._options.deviceScaleFactor)),e>32767))throw new Error("Cannot take screenshot larger than 32767 pixels on any dimension")}async takeScreenshot(e,t,n,r,o,i,s){const a=n||r,l="css"===s;this.validateScreenshotDimension(a.width,l),this.validateScreenshotDimension(a.height,l);const c=await e.race(this._session.send("Page.snapshotRect",{...a,coordinateSystem:n?"Page":"Viewport",omitDeviceScaleFactor:l}));let u=Buffer.from(c.dataURL.substr(22),"base64");return"jpeg"===t&&(u=v.jpegjs.encode(v.PNG.sync.read(u),o).data),u}async getContentFrame(e){const t=await this._session.send("DOM.describeNode",{objectId:e._objectId});return t.contentFrameId?this._page.frameManager.frame(t.contentFrameId):null}async getOwnerFrame(e){return e._objectId&&(await this._session.send("DOM.describeNode",{objectId:e._objectId})).ownerFrameId||null}async getBoundingBox(e){const t=await this.getContentQuads(e);if(!t||!t.length)return null;let n=1/0,r=-1/0,o=1/0,i=-1/0;for(const e of t)for(const t of e)n=Math.min(n,t.x),r=Math.max(r,t.x),o=Math.min(o,t.y),i=Math.max(i,t.y);return{x:n,y:o,width:r-n,height:i-o}}async scrollRectIntoViewIfNeeded(e,t){return await this._session.send("DOM.scrollIntoViewIfNeeded",{objectId:e._objectId,rect:t}).then(()=>"done").catch(e=>{if(e instanceof Error&&e.message.includes("Node does not have a layout object"))return"error:notvisible";if(e instanceof Error&&e.message.includes("Node is detached from document"))return"error:notconnected";throw e})}async setScreencastOptions(e){if(e){const t={...e,toolbarHeight:this._toolbarHeight()},{generation:n}=await this._pageProxySession.send("Screencast.startScreencast",t);this._screencastGeneration=n}else await this._pageProxySession.send("Screencast.stopScreencast")}_onScreencastFrame(e){const t=this._screencastGeneration;this._page.throttleScreencastFrameAck(()=>{this._pageProxySession.send("Screencast.screencastFrameAck",{generation:t}).catch(e=>j.debugLogger.log("error",e))});const n=Buffer.from(e.data,"base64");this._page.emit(C.Page.Events.ScreencastFrame,{buffer:n,width:e.deviceWidth,height:e.deviceHeight})}rafCountForStablePosition(){return"win32"===process.platform?5:1}async getContentQuads(e){const t=await this._session.sendMayFail("DOM.getContentQuads",{objectId:e._objectId});return t?t.quads.map(e=>[{x:e[0],y:e[1]},{x:e[2],y:e[3]},{x:e[4],y:e[5]},{x:e[6],y:e[7]}]):null}async setInputFilePaths(e,t){const n=this._pageProxySession.sessionId,r=e._objectId;"webkit-wsl"===this._browserContext._browser?.options.channel&&(t=await Promise.all(t.map(e=>(0,N.translatePathToWSL)(e)))),await Promise.all([this._pageProxySession.connection.browserSession.send("Playwright.grantFileReadAccess",{pageProxyId:n,paths:t}),this._session.send("DOM.setInputFiles",{objectId:r,paths:t})])}async adoptElementHandle(e,t){const n=await this._session.sendMayFail("DOM.resolveNode",{objectId:e._objectId,executionContextId:t.delegate._contextId});if(!n||"null"===n.object.subtype)throw new Error(_.kUnableToAdoptErrorMessage);return(0,T.createHandle)(t,n.object)}async getAccessibilityTree(e){return(0,k.getAccessibilityTree)(this._session,e)}async inputActionEpilogue(){}async resetForReuse(e){}async getFrameElement(e){const t=e.parentFrame();if(!t)throw new Error("Frame has been detached.");const n=await t._mainContext(),r=await this._session.send("DOM.resolveNode",{frameId:e._id,executionContextId:n.delegate._contextId});if(!r||"null"===r.object.subtype)throw new Error("Frame has been detached.");return(0,T.createHandle)(n,r.object)}_maybeCancelCoopNavigationRequest(e){const t=e.coopNavigationRequest();for(const[n,r]of this._requestIdToRequest)if(r.request===t)return void this._onLoadingFailed(e._session,{requestId:n,errorText:"Provisiolal navigation canceled.",timestamp:r._timestamp,canceled:!0})}_adoptRequestFromNewProcess(e,t,n){for(const[r,o]of this._requestIdToRequest)if(o.request===e)return this._requestIdToRequest.delete(r),o.adoptRequestFromNewProcess(t,n),void this._requestIdToRequest.set(n,o)}_onRequestWillBeSent(e,t){t.request.url.startsWith("data:")||t.request.url.startsWith("about:")||(this._page.needsRequestInterception()&&!t.redirectResponse?this._requestIdToRequestWillBeSentEvent.set(t.requestId,t):this._onRequest(e,t,!1))}_onRequest(e,t,n){let r=null;if(t.redirectResponse){const e=this._requestIdToRequest.get(t.requestId);e&&(this._handleRequestRedirect(e,t.requestId,t.redirectResponse,t.timestamp),r=e)}const o=r?r.request.frame():this._page.frameManager.frame(t.frameId);if(!o)return;const i="Document"===t.type?t.loaderId:void 0,s=new B.WKInterceptableRequest(e,o,t,r,i);let a;n&&(a=new B.WKRouteImpl(e,t.requestId),s.request.setRawRequestHeaders(null)),this._requestIdToRequest.set(t.requestId,s),this._page.frameManager.requestStarted(s.request,a)}_handleRequestRedirect(e,t,n,r){const o=e.createResponse(n);o._securityDetailsFinished(),o._serverAddrFinished(),o.setResponseHeadersSize(null),o.setEncodedBodySize(null),o._requestFinished(n.timing?S.helper.secondsToRoundishMillis(r-e._timestamp):-1),this._requestIdToRequest.delete(t),this._page.frameManager.requestReceivedResponse(o),this._page.frameManager.reportRequestFinished(e.request,o)}_onRequestIntercepted(e,t){const n=this._requestIdToRequestWillBeSentEvent.get(t.requestId);n?(this._requestIdToRequestWillBeSentEvent.delete(t.requestId),this._onRequest(e,n,!0)):e.sendMayFail("Network.interceptWithRequest",{requestId:t.requestId})}_onResponseReceived(e,t){const n=this._requestIdToRequestWillBeSentEvent.get(t.requestId);n&&(this._requestIdToRequestWillBeSentEvent.delete(t.requestId),this._onRequest(e,n,!1));const r=this._requestIdToRequest.get(t.requestId);if(!r)return;this._requestIdToResponseReceivedPayloadEvent.set(t.requestId,t);const o=r.createResponse(t.response);this._page.frameManager.requestReceivedResponse(o),204===o.status()&&r.request.isNavigationRequest()&&this._onLoadingFailed(e,{requestId:t.requestId,errorText:"Aborted: 204 No Content",timestamp:t.timestamp})}_onLoadingFinished(e){const t=this._requestIdToRequest.get(e.requestId);if(!t)return;const n=t.request._existingResponse();if(n){const r=this._requestIdToResponseReceivedPayloadEvent.get(e.requestId);n._serverAddrFinished(function(e){if(e)try{const t=e.lastIndexOf(":"),n=e.lastIndexOf(".");if(n<0)return{ipAddress:`[${e.slice(0,t)}]`,port:+e.slice(t+1)};if(t>n){const[t,n]=e.split(":");return{ipAddress:t,port:+n}}{const[t,n]=e.split(".");return{ipAddress:`[${t}]`,port:+n}}}catch(e){}}(e?.metrics?.remoteAddress)),n._securityDetailsFinished({protocol:R(n.url(),n.timing())?e.metrics?.securityConnection?.protocol:void 0,subjectName:r?.response.security?.certificate?.subject,validFrom:r?.response.security?.certificate?.validFrom,validTo:r?.response.security?.certificate?.validUntil}),e.metrics?.protocol&&n._setHttpVersion(e.metrics.protocol),n.setEncodedBodySize(e.metrics?.responseBodyBytesReceived??null),n.setResponseHeadersSize(e.metrics?.responseHeaderBytesReceived??null),n._requestFinished(S.helper.secondsToRoundishMillis(e.timestamp-t._timestamp))}else t.request.setRawRequestHeaders(null);this._requestIdToResponseReceivedPayloadEvent.delete(e.requestId),this._requestIdToRequest.delete(e.requestId),this._page.frameManager.reportRequestFinished(t.request,n)}_onLoadingFailed(e,t){const n=this._requestIdToRequestWillBeSentEvent.get(t.requestId);n&&(this._requestIdToRequestWillBeSentEvent.delete(t.requestId),this._onRequest(e,n,!1));const r=this._requestIdToRequest.get(t.requestId);if(!r)return;const o=r.request._existingResponse();o?(o._serverAddrFinished(),o._securityDetailsFinished(),o.setResponseHeadersSize(null),o.setEncodedBodySize(null),o._requestFinished(S.helper.secondsToRoundishMillis(t.timestamp-r._timestamp))):r.request.setRawRequestHeaders(null),this._requestIdToRequest.delete(t.requestId),r.request._setFailureText(t.errorText),this._page.frameManager.requestFailed(r.request,t.errorText.includes("cancelled"))}async _grantPermissions(e,t){const n=new Map([["geolocation","geolocation"],["notifications","notifications"],["clipboard-read","clipboard-read"]]),r=t.map(e=>{const t=n.get(e);if(!t)throw new Error("Unknown permission: "+e);return t});await this._pageProxySession.send("Emulation.grantPermissions",{origin:e,permissions:r})}async _clearPermissions(){await this._pageProxySession.send("Emulation.resetPermissions",{})}shouldToggleStyleSheetToSyncAnimations(){return!0}}function R(e,t){try{const n=new URL(e);return!("https:"!==n.protocol&&"wss:"!==n.protocol&&"sftp:"!==n.protocol||-1===t.secureConnectionStart&&-1!==t.connectStart)}catch(e){}}},"./node_modules/playwright-core/lib/server/webkit/wkProvisionalPage.js":(e,t,n)=>{"use strict";var r,o=Object.defineProperty,i=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,l={};((e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})})(l,{WKProvisionalPage:()=>d}),e.exports=(r=l,((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let n of s(t))a.call(e,n)||undefined===n||o(e,n,{get:()=>t[n],enumerable:!(r=i(t,n))||r.enumerable});return e})(o({},"__esModule",{value:!0}),r));var c=n("./node_modules/playwright-core/lib/utils.js"),u=n("./node_modules/playwright-core/lib/server/utils/eventsHelper.js");class d{constructor(e,t){this._sessionListeners=[],this._mainFrameId=null,this._session=e,this._wkPage=t,this._coopNavigationRequest=t._page.mainFrame().pendingDocument()?.request;const n=e=>t=>{t.frameId&&(t.frameId=this._wkPage._page.frameManager.mainFrame()._id),e(t)},r=this._wkPage;this._sessionListeners=[u.eventsHelper.addEventListener(e,"Network.requestWillBeSent",n(e=>this._onRequestWillBeSent(e))),u.eventsHelper.addEventListener(e,"Network.requestIntercepted",n(t=>r._onRequestIntercepted(e,t))),u.eventsHelper.addEventListener(e,"Network.responseReceived",n(t=>r._onResponseReceived(e,t))),u.eventsHelper.addEventListener(e,"Network.loadingFinished",n(e=>this._onLoadingFinished(e))),u.eventsHelper.addEventListener(e,"Network.loadingFailed",n(e=>this._onLoadingFailed(e)))],this.initializationPromise=this._wkPage._initializeSession(e,!0,({frameTree:e})=>this._handleFrameTree(e))}coopNavigationRequest(){return this._coopNavigationRequest}dispose(){u.eventsHelper.removeEventListeners(this._sessionListeners)}commit(){(0,c.assert)(this._mainFrameId),this._wkPage._onFrameAttached(this._mainFrameId,null)}_onRequestWillBeSent(e){this._coopNavigationRequest&&this._coopNavigationRequest.url()===e.request.url?this._wkPage._adoptRequestFromNewProcess(this._coopNavigationRequest,this._session,e.requestId):this._wkPage._onRequestWillBeSent(this._session,e)}_onLoadingFinished(e){this._coopNavigationRequest=void 0,this._wkPage._onLoadingFinished(e)}_onLoadingFailed(e){this._coopNavigationRequest=void 0,this._wkPage._onLoadingFailed(this._session,e)}_handleFrameTree(e){(0,c.assert)(!e.frame.parentId),this._mainFrameId=e.frame.id}}},"./node_modules/playwright-core/lib/server/webkit/wkWorkers.js":(e,t,n)=>{"use strict";var r,o=Object.defineProperty,i=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,l={};((e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})})(l,{WKWorkers:()=>p}),e.exports=(r=l,((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let n of s(t))a.call(e,n)||undefined===n||o(e,n,{get:()=>t[n],enumerable:!(r=i(t,n))||r.enumerable});return e})(o({},"__esModule",{value:!0}),r));var c=n("./node_modules/playwright-core/lib/server/utils/eventsHelper.js"),u=n("./node_modules/playwright-core/lib/server/page.js"),d=n("./node_modules/playwright-core/lib/server/webkit/wkConnection.js"),h=n("./node_modules/playwright-core/lib/server/webkit/wkExecutionContext.js");class p{constructor(e){this._sessionListeners=[],this._workerSessions=new Map,this._page=e}setSession(e){c.eventsHelper.removeEventListeners(this._sessionListeners),this.clear(),this._sessionListeners=[c.eventsHelper.addEventListener(e,"Worker.workerCreated",t=>{const n=new u.Worker(this._page,t.url),r=new d.WKSession(e.connection,t.workerId,n=>{e.send("Worker.sendMessageToWorker",{workerId:t.workerId,message:JSON.stringify(n)}).catch(e=>{r.dispatchMessage({id:n.id,error:{message:e.message}})})});this._workerSessions.set(t.workerId,r),n.createExecutionContext(new h.WKExecutionContext(r,void 0)),this._page.addWorker(t.workerId,n),r.on("Console.messageAdded",e=>this._onConsoleMessage(n,e)),Promise.all([r.send("Runtime.enable"),r.send("Console.enable"),e.send("Worker.initialized",{workerId:t.workerId})]).catch(e=>{this._page.removeWorker(t.workerId)})}),c.eventsHelper.addEventListener(e,"Worker.dispatchMessageFromWorker",e=>{const t=this._workerSessions.get(e.workerId);t&&t.dispatchMessage(JSON.parse(e.message))}),c.eventsHelper.addEventListener(e,"Worker.workerTerminated",e=>{const t=this._workerSessions.get(e.workerId);t&&(t.dispose(),this._workerSessions.delete(e.workerId),this._page.removeWorker(e.workerId))})]}clear(){this._page.clearWorkers(),this._workerSessions.clear()}async initializeSession(e){await e.send("Worker.enable")}async _onConsoleMessage(e,t){const{type:n,level:r,text:o,parameters:i,url:s,line:a,column:l}=t.message;let c=n||"";"log"===n?c=r:"timing"===n&&(c="timeEnd");const u=(i||[]).map(t=>(0,h.createHandle)(e.existingExecutionContext,t)),d={url:s||"",lineNumber:(a||1)-1,columnNumber:(l||1)-1};this._page.addConsoleMessage(c,u,d,u.length?void 0:o)}}},"./node_modules/playwright-core/lib/third_party/pixelmatch.js":e=>{"use strict";e.exports=function(e,o,s,a,l,c){if(!n(e)||!n(o)||s&&!n(s))throw new Error("Image data: Uint8Array, Uint8ClampedArray or Buffer expected.");if(e.length!==o.length||s&&s.length!==e.length)throw new Error("Image sizes do not match.");if(e.length!==a*l*4)throw new Error("Image data size does not match width/height.");c=Object.assign({},t,c);const h=a*l,p=new Uint32Array(e.buffer,e.byteOffset,h),f=new Uint32Array(o.buffer,o.byteOffset,h);let m=!0;for(let e=0;e<h;e++)if(p[e]!==f[e]){m=!1;break}if(m){if(s&&!c.diffMask)for(let t=0;t<h;t++)d(e,4*t,c.alpha,s);return 0}const g=35215*c.threshold*c.threshold;let b=0;for(let t=0;t<l;t++)for(let n=0;n<a;n++){const h=4*(t*a+n),p=i(e,o,h,h);Math.abs(p)>g?c.includeAA||!r(e,n,t,a,l,o)&&!r(o,n,t,a,l,e)?(s&&u(s,h,...p<0&&c.diffColorAlt||c.diffColor),b++):s&&!c.diffMask&&u(s,h,...c.aaColor):s&&(c.diffMask||d(e,h,c.alpha,s))}return b};const t={threshold:.1,includeAA:!1,alpha:.1,aaColor:[255,255,0],diffColor:[255,0,0],diffColorAlt:null,diffMask:!1};function n(e){return ArrayBuffer.isView(e)&&1===e.constructor.BYTES_PER_ELEMENT}function r(e,t,n,r,s,a){const l=Math.max(t-1,0),c=Math.max(n-1,0),u=Math.min(t+1,r-1),d=Math.min(n+1,s-1),h=4*(n*r+t);let p,f,m,g,b=t===l||t===u||n===c||n===d?1:0,w=0,y=0;for(let o=l;o<=u;o++)for(let s=c;s<=d;s++){if(o===t&&s===n)continue;const a=i(e,e,h,4*(s*r+o),!0);if(0===a){if(b++,b>2)return!1}else a<w?(w=a,p=o,f=s):a>y&&(y=a,m=o,g=s)}return 0!==w&&0!==y&&(o(e,p,f,r,s)&&o(a,p,f,r,s)||o(e,m,g,r,s)&&o(a,m,g,r,s))}function o(e,t,n,r,o){const i=Math.max(t-1,0),s=Math.max(n-1,0),a=Math.min(t+1,r-1),l=Math.min(n+1,o-1),c=4*(n*r+t);let u=t===i||t===a||n===s||n===l?1:0;for(let o=i;o<=a;o++)for(let i=s;i<=l;i++){if(o===t&&i===n)continue;const s=4*(i*r+o);if(e[c]===e[s]&&e[c+1]===e[s+1]&&e[c+2]===e[s+2]&&e[c+3]===e[s+3]&&u++,u>2)return!0}return!1}function i(e,t,n,r,o){let i=e[n+0],u=e[n+1],d=e[n+2],h=e[n+3],p=t[r+0],f=t[r+1],m=t[r+2],g=t[r+3];if(h===g&&i===p&&u===f&&d===m)return 0;h<255&&(h/=255,i=c(i,h),u=c(u,h),d=c(d,h)),g<255&&(g/=255,p=c(p,g),f=c(f,g),m=c(m,g));const b=s(i,u,d),w=s(p,f,m),y=b-w;if(o)return y;const v=a(i,u,d)-a(p,f,m),A=l(i,u,d)-l(p,f,m),_=.5053*y*y+.299*v*v+.1957*A*A;return b>w?-_:_}function s(e,t,n){return.29889531*e+.58662247*t+.11448223*n}function a(e,t,n){return.59597799*e-.2741761*t-.32180189*n}function l(e,t,n){return.21147017*e-.52261711*t+.31114694*n}function c(e,t){return 255+(e-255)*t}function u(e,t,n,r,o){e[t+0]=n,e[t+1]=r,e[t+2]=o,e[t+3]=255}function d(e,t,n,r){const o=c(s(e[t+0],e[t+1],e[t+2]),n*e[t+3]/255);u(r,t,o,o,o)}},"./node_modules/playwright-core/lib/utils.js":(e,t,n)=>{"use strict";var r,o=Object.defineProperty,i=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,l=(e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let l of s(t))a.call(e,l)||l===n||o(e,l,{get:()=>t[l],enumerable:!(r=i(t,l))||r.enumerable});return e},c=(e,t,n)=>(l(e,t,"default"),n&&l(n,t,"default")),u={};((e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})})(u,{colors:()=>d.colors}),e.exports=(r=u,l(o({},"__esModule",{value:!0}),r)),c(u,n("./node_modules/playwright-core/lib/utils/isomorphic/ariaSnapshot.js"),e.exports),c(u,n("./node_modules/playwright-core/lib/utils/isomorphic/assert.js"),e.exports),c(u,n("./node_modules/playwright-core/lib/utils/isomorphic/colors.js"),e.exports),c(u,n("./node_modules/playwright-core/lib/utils/isomorphic/headers.js"),e.exports),c(u,n("./node_modules/playwright-core/lib/utils/isomorphic/locatorGenerators.js"),e.exports),c(u,n("./node_modules/playwright-core/lib/utils/isomorphic/manualPromise.js"),e.exports),c(u,n("./node_modules/playwright-core/lib/utils/isomorphic/mimeType.js"),e.exports),c(u,n("./node_modules/playwright-core/lib/utils/isomorphic/multimap.js"),e.exports),c(u,n("./node_modules/playwright-core/lib/utils/isomorphic/protocolFormatter.js"),e.exports),c(u,n("./node_modules/playwright-core/lib/utils/isomorphic/protocolMetainfo.js"),e.exports),c(u,n("./node_modules/playwright-core/lib/utils/isomorphic/rtti.js"),e.exports),c(u,n("./node_modules/playwright-core/lib/utils/isomorphic/semaphore.js"),e.exports),c(u,n("./node_modules/playwright-core/lib/utils/isomorphic/stackTrace.js"),e.exports),c(u,n("./node_modules/playwright-core/lib/utils/isomorphic/stringUtils.js"),e.exports),c(u,n("./node_modules/playwright-core/lib/utils/isomorphic/time.js"),e.exports),c(u,n("./node_modules/playwright-core/lib/utils/isomorphic/timeoutRunner.js"),e.exports),c(u,n("./node_modules/playwright-core/lib/utils/isomorphic/urlMatch.js"),e.exports),c(u,n("./node_modules/playwright-core/lib/server/utils/ascii.js"),e.exports),c(u,n("./node_modules/playwright-core/lib/server/utils/comparators.js"),e.exports),c(u,n("./node_modules/playwright-core/lib/server/utils/crypto.js"),e.exports),c(u,n("./node_modules/playwright-core/lib/server/utils/debug.js"),e.exports),c(u,n("./node_modules/playwright-core/lib/server/utils/debugLogger.js"),e.exports),c(u,n("./node_modules/playwright-core/lib/server/utils/env.js"),e.exports),c(u,n("./node_modules/playwright-core/lib/server/utils/eventsHelper.js"),e.exports),c(u,n("./node_modules/playwright-core/lib/server/utils/expectUtils.js"),e.exports),c(u,n("./node_modules/playwright-core/lib/server/utils/fileUtils.js"),e.exports),c(u,n("./node_modules/playwright-core/lib/server/utils/hostPlatform.js"),e.exports),c(u,n("./node_modules/playwright-core/lib/server/utils/httpServer.js"),e.exports),c(u,n("./node_modules/playwright-core/lib/server/utils/network.js"),e.exports),c(u,n("./node_modules/playwright-core/lib/server/utils/nodePlatform.js"),e.exports),c(u,n("./node_modules/playwright-core/lib/server/utils/processLauncher.js"),e.exports),c(u,n("./node_modules/playwright-core/lib/server/utils/profiler.js"),e.exports),c(u,n("./node_modules/playwright-core/lib/server/utils/socksProxy.js"),e.exports),c(u,n("./node_modules/playwright-core/lib/server/utils/spawnAsync.js"),e.exports),c(u,n("./node_modules/playwright-core/lib/server/utils/task.js"),e.exports),c(u,n("./node_modules/playwright-core/lib/server/utils/userAgent.js"),e.exports),c(u,n("./node_modules/playwright-core/lib/server/utils/wsServer.js"),e.exports),c(u,n("./node_modules/playwright-core/lib/server/utils/zipFile.js"),e.exports),c(u,n("./node_modules/playwright-core/lib/server/utils/zones.js"),e.exports);var d=n("./node_modules/playwright-core/lib/utilsBundle.js")},"./node_modules/playwright-core/lib/utils/isomorphic/ariaSnapshot.js":e=>{"use strict";var t,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,i=Object.prototype.hasOwnProperty,s={};function a(e,t,n={}){const r=l(e,t,n);if(r.errors.length)throw new Error(r.errors[0].message);return r.fragment}function l(e,t,n={}){const r=new e.LineCounter,o={keepSourceTokens:!0,lineCounter:r,...n},i=e.parseDocument(t,o),s=[],a=e=>[r.linePos(e[0]),r.linePos(e[1])],l=(t,n)=>{for(const r of n.items){if(r instanceof e.Scalar&&"string"==typeof r.value){const e=h.parse(r,o,s);e&&(t.children=t.children||[],t.children.push(e));continue}r instanceof e.YAMLMap?u(t,r):s.push({message:"Sequence items should be strings or maps",range:a(r.range||n.range)})}},u=(t,n)=>{for(const r of n.items){if(t.children=t.children||[],!(r.key instanceof e.Scalar&&"string"==typeof r.key.value)){s.push({message:"Only string keys are supported",range:a(r.key.range||n.range)});continue}const i=r.key,c=r.value;if("text"===i.value){if(!(c instanceof e.Scalar&&"string"==typeof c.value)){s.push({message:"Text value should be a string",range:a(r.value.range||n.range)});continue}t.children.push({kind:"text",text:d(c.value)});continue}if("/children"===i.value){if(!(c instanceof e.Scalar&&"string"==typeof c.value)||"contain"!==c.value&&"equal"!==c.value&&"deep-equal"!==c.value){s.push({message:'Strict value should be "contain", "equal" or "deep-equal"',range:a(r.value.range||n.range)});continue}t.containerMode=c.value;continue}if(i.value.startsWith("/")){if(!(c instanceof e.Scalar&&"string"==typeof c.value)){s.push({message:"Property value should be a string",range:a(r.value.range||n.range)});continue}t.props=t.props??{},t.props[i.value.slice(1)]=d(c.value);continue}const u=h.parse(i,o,s);if(u){if(c instanceof e.Scalar){const e=typeof c.value;if("string"!==e&&"number"!==e&&"boolean"!==e){s.push({message:"Node value should be a string or a sequence",range:a(r.value.range||n.range)});continue}t.children.push({...u,children:[{kind:"text",text:d(String(c.value))}]});continue}c instanceof e.YAMLSeq?(t.children.push(u),l(u,c)):s.push({message:"Map values should be strings or sequences",range:a(r.value.range||n.range)})}}},p={kind:"role",role:"fragment"};return i.errors.forEach(e=>{s.push({message:e.message,range:[r.linePos(e.pos[0]),r.linePos(e.pos[1])]})}),s.length?{errors:s,fragment:p}:(i.contents instanceof e.YAMLSeq||s.push({message:'Aria snapshot must be a YAML sequence, elements starting with " -"',range:i.contents?a(i.contents.range):[{line:0,col:0},{line:0,col:0}]}),s.length?{errors:s,fragment:p}:(l(p,i.contents),s.length?{errors:s,fragment:c}:1!==p.children?.length||p.containerMode&&"contain"!==p.containerMode?{fragment:p,errors:[]}:{fragment:p.children[0],errors:[]}))}((e,t)=>{for(var r in t)n(e,r,{get:t[r],enumerable:!0})})(s,{KeyParser:()=>h,ParserError:()=>p,parseAriaSnapshot:()=>l,parseAriaSnapshotUnsafe:()=>a,textValue:()=>d}),e.exports=(t=s,((e,t,s,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let s of o(t))i.call(e,s)||undefined===s||n(e,s,{get:()=>t[s],enumerable:!(a=r(t,s))||a.enumerable});return e})(n({},"__esModule",{value:!0}),t));const c={kind:"role",role:"fragment"};function u(e){return e.replace(/[\u200b\u00ad]/g,"").replace(/[\r\n\s\t]+/g," ").trim()}function d(e){return{raw:e,normalized:u(e)}}class h{static parse(e,t,n){try{return new h(e.value)._parse()}catch(r){if(r instanceof p){const o=!1===t.prettyErrors?r.message:r.message+":\n\n"+e.value+"\n"+" ".repeat(r.pos)+"^\n";return n.push({message:o,range:[t.lineCounter.linePos(e.range[0]),t.lineCounter.linePos(e.range[0]+r.pos)]}),null}throw r}}constructor(e){this._input=e,this._pos=0,this._length=e.length}_peek(){return this._input[this._pos]||""}_next(){return this._pos<this._length?this._input[this._pos++]:null}_eof(){return this._pos>=this._length}_isWhitespace(){return!this._eof()&&/\s/.test(this._peek())}_skipWhitespace(){for(;this._isWhitespace();)this._pos++}_readIdentifier(e){this._eof()&&this._throwError(`Unexpected end of input when expecting ${e}`);const t=this._pos;for(;!this._eof()&&/[a-zA-Z]/.test(this._peek());)this._pos++;return this._input.slice(t,this._pos)}_readString(){let e="",t=!1;for(;!this._eof();){const n=this._next();if(t)e+=n,t=!1;else if("\\"===n)t=!0;else{if('"'===n)return e;e+=n}}this._throwError("Unterminated string")}_throwError(e,t=0){throw new p(e,t||this._pos)}_readRegex(){let e="",t=!1,n=!1;for(;!this._eof();){const r=this._next();if(t)e+=r,t=!1;else if("\\"===r)t=!0,e+=r;else{if("/"===r&&!n)return{pattern:e};"["===r?(n=!0,e+=r):"]"===r&&n?(e+=r,n=!1):e+=r}}this._throwError("Unterminated regex")}_readStringOrRegex(){const e=this._peek();return'"'===e?(this._next(),u(this._readString())):"/"===e?(this._next(),this._readRegex()):null}_readAttributes(e){let t=this._pos;for(;this._skipWhitespace(),"["===this._peek();){this._next(),this._skipWhitespace(),t=this._pos;const n=this._readIdentifier("attribute");this._skipWhitespace();let r="";if("="===this._peek())for(this._next(),this._skipWhitespace(),t=this._pos;"]"!==this._peek()&&!this._isWhitespace()&&!this._eof();)r+=this._next();this._skipWhitespace(),"]"!==this._peek()&&this._throwError("Expected ]"),this._next(),this._applyAttribute(e,n,r||"true",t)}}_parse(){this._skipWhitespace();const e=this._readIdentifier("role");this._skipWhitespace();const t={kind:"role",role:e,name:this._readStringOrRegex()||""};return this._readAttributes(t),this._skipWhitespace(),this._eof()||this._throwError("Unexpected input"),t}_applyAttribute(e,t,n,r){return"checked"===t?(this._assert("true"===n||"false"===n||"mixed"===n,'Value of "checked" attribute must be a boolean or "mixed"',r),void(e.checked="true"===n||"false"!==n&&"mixed")):"disabled"===t?(this._assert("true"===n||"false"===n,'Value of "disabled" attribute must be a boolean',r),void(e.disabled="true"===n)):"expanded"===t?(this._assert("true"===n||"false"===n,'Value of "expanded" attribute must be a boolean',r),void(e.expanded="true"===n)):"active"===t?(this._assert("true"===n||"false"===n,'Value of "active" attribute must be a boolean',r),void(e.active="true"===n)):"level"===t?(this._assert(!isNaN(Number(n)),'Value of "level" attribute must be a number',r),void(e.level=Number(n))):"pressed"===t?(this._assert("true"===n||"false"===n||"mixed"===n,'Value of "pressed" attribute must be a boolean or "mixed"',r),void(e.pressed="true"===n||"false"!==n&&"mixed")):"selected"===t?(this._assert("true"===n||"false"===n,'Value of "selected" attribute must be a boolean',r),void(e.selected="true"===n)):void this._assert(!1,`Unsupported attribute [${t}]`,r)}_assert(e,t,n){e||this._throwError(t||"Assertion error",n)}}class p extends Error{constructor(e,t){super(e),this.pos=t}}},"./node_modules/playwright-core/lib/utils/isomorphic/assert.js":e=>{"use strict";var t,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,i=Object.prototype.hasOwnProperty,s={};function a(e,t){if(!e)throw new Error(t||"Assertion error")}((e,t)=>{for(var r in t)n(e,r,{get:t[r],enumerable:!0})})(s,{assert:()=>a}),e.exports=(t=s,((e,t,s,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let s of o(t))i.call(e,s)||undefined===s||n(e,s,{get:()=>t[s],enumerable:!(a=r(t,s))||a.enumerable});return e})(n({},"__esModule",{value:!0}),t))},"./node_modules/playwright-core/lib/utils/isomorphic/colors.js":e=>{"use strict";var t,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,i=Object.prototype.hasOwnProperty,s={};((e,t)=>{for(var r in t)n(e,r,{get:t[r],enumerable:!0})})(s,{noColors:()=>l,webColors:()=>a}),e.exports=(t=s,((e,t,s,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let s of o(t))i.call(e,s)||undefined===s||n(e,s,{get:()=>t[s],enumerable:!(a=r(t,s))||a.enumerable});return e})(n({},"__esModule",{value:!0}),t));const a={enabled:!0,reset:e=>c(0,0,e),bold:e=>c(1,22,e),dim:e=>c(2,22,e),italic:e=>c(3,23,e),underline:e=>c(4,24,e),inverse:e=>c(7,27,e),hidden:e=>c(8,28,e),strikethrough:e=>c(9,29,e),black:e=>c(30,39,e),red:e=>c(31,39,e),green:e=>c(32,39,e),yellow:e=>c(33,39,e),blue:e=>c(34,39,e),magenta:e=>c(35,39,e),cyan:e=>c(36,39,e),white:e=>c(37,39,e),gray:e=>c(90,39,e),grey:e=>c(90,39,e)},l={enabled:!1,reset:e=>e,bold:e=>e,dim:e=>e,italic:e=>e,underline:e=>e,inverse:e=>e,hidden:e=>e,strikethrough:e=>e,black:e=>e,red:e=>e,green:e=>e,yellow:e=>e,blue:e=>e,magenta:e=>e,cyan:e=>e,white:e=>e,gray:e=>e,grey:e=>e},c=(e,t,n)=>`[${e}m${n}[${t}m`},"./node_modules/playwright-core/lib/utils/isomorphic/cssParser.js":(e,t,n)=>{"use strict";var r,o=Object.create,i=Object.defineProperty,s=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,l=Object.getPrototypeOf,c=Object.prototype.hasOwnProperty,u=(e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let o of a(t))c.call(e,o)||o===n||i(e,o,{get:()=>t[o],enumerable:!(r=s(t,o))||r.enumerable});return e},d={};((e,t)=>{for(var n in t)i(e,n,{get:t[n],enumerable:!0})})(d,{InvalidSelectorError:()=>p,isInvalidSelectorError:()=>f,parseCSS:()=>m,serializeSelector:()=>g}),e.exports=(r=d,u(i({},"__esModule",{value:!0}),r));var h=((e,t,n)=>(n=null!=e?o(l(e)):{},u(e&&e.__esModule?n:i(n,"default",{value:e,enumerable:!0}),e)))(n("./node_modules/playwright-core/lib/utils/isomorphic/cssTokenizer.js"));class p extends Error{}function f(e){return e instanceof p}function m(e,t){let n;try{n=h.tokenize(e),n[n.length-1]instanceof h.EOFToken||n.push(new h.EOFToken)}catch(t){const n=t.message+` while parsing css selector "${e}". Did you mean to CSS.escape it?`,r=(t.stack||"").indexOf(t.message);throw-1!==r&&(t.stack=t.stack.substring(0,r)+n+t.stack.substring(r+t.message.length)),t.message=n,t}const r=n.find(e=>e instanceof h.AtKeywordToken||e instanceof h.BadStringToken||e instanceof h.BadURLToken||e instanceof h.ColumnToken||e instanceof h.CDOToken||e instanceof h.CDCToken||e instanceof h.SemicolonToken||e instanceof h.OpenCurlyToken||e instanceof h.CloseCurlyToken||e instanceof h.URLToken||e instanceof h.PercentageToken);if(r)throw new p(`Unsupported token "${r.toSource()}" while parsing css selector "${e}". Did you mean to CSS.escape it?`);let o=0;const i=new Set;function s(){return new p(`Unexpected token "${n[o].toSource()}" while parsing css selector "${e}". Did you mean to CSS.escape it?`)}function a(){for(;n[o]instanceof h.WhitespaceToken;)o++}function l(e=o){return n[e]instanceof h.IdentToken}function c(e=o){return n[e]instanceof h.CommaToken}function u(e=o){return n[e]instanceof h.OpenParenToken}function d(e=o){return n[e]instanceof h.CloseParenToken}function f(e=o){return n[e]instanceof h.FunctionToken}function m(e=o){return n[e]instanceof h.DelimToken&&"*"===n[e].value}function g(e=o){return n[e]instanceof h.EOFToken}function b(e=o){return n[e]instanceof h.DelimToken&&[">","+","~"].includes(n[e].value)}function w(e=o){return c(e)||d(e)||g(e)||b(e)||n[e]instanceof h.WhitespaceToken}function y(){const e=[v()];for(;a(),c();)o++,e.push(v());return e}function v(){return a(),function(e=o){return n[e]instanceof h.NumberToken}()||function(e=o){return n[e]instanceof h.StringToken}()?n[o++].value:function(){const e={simples:[]};for(a(),b()?e.simples.push({selector:{functions:[{name:"scope",args:[]}]},combinator:""}):e.simples.push({selector:A(),combinator:""});;){if(a(),b())e.simples[e.simples.length-1].combinator=n[o++].value,a();else if(w())break;e.simples.push({combinator:"",selector:A()})}return e}()}function A(){let e="";const r=[];for(;!w();)if(l()||m())e+=n[o++].toSource();else if(n[o]instanceof h.HashToken)e+=n[o++].toSource();else if(n[o]instanceof h.DelimToken&&"."===n[o].value){if(o++,!l())throw s();e+="."+n[o++].toSource()}else if(n[o]instanceof h.ColonToken)if(o++,l())if(t.has(n[o].value.toLowerCase())){const e=n[o++].value.toLowerCase();r.push({name:e,args:[]}),i.add(e)}else e+=":"+n[o++].toSource();else{if(!f())throw s();{const l=n[o++].value.toLowerCase();if(t.has(l)?(r.push({name:l,args:y()}),i.add(l)):e+=`:${l}(${_()})`,a(),!d())throw s();o++}}else{if(!(n[o]instanceof h.OpenSquareToken))throw s();for(e+="[",o++;!(n[o]instanceof h.CloseSquareToken||g());)e+=n[o++].toSource();if(!(n[o]instanceof h.CloseSquareToken))throw s();e+="]",o++}if(!e&&!r.length)throw s();return{css:e||void 0,functions:r}}function _(){let e="",t=1;for(;!g()&&((u()||f())&&t++,d()&&t--,t);)e+=n[o++].toSource();return e}const x=y();if(!g())throw s();if(x.some(e=>"object"!=typeof e||!("simples"in e)))throw new p(`Error while parsing css selector "${e}". Did you mean to CSS.escape it?`);return{selector:x,names:Array.from(i)}}function g(e){return e.map(e=>"string"==typeof e?`"${e}"`:"number"==typeof e?String(e):e.simples.map(({selector:e,combinator:t})=>{let n=e.css||"";return n+=e.functions.map(e=>`:${e.name}(${g(e.args)})`).join(""),t&&(n+=" "+t),n}).join(" ")).join(", ")}},"./node_modules/playwright-core/lib/utils/isomorphic/cssTokenizer.js":e=>{"use strict";var t,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,i=Object.prototype.hasOwnProperty,s={};((e,t)=>{for(var r in t)n(e,r,{get:t[r],enumerable:!0})})(s,{AtKeywordToken:()=>$,BadStringToken:()=>v,BadURLToken:()=>A,CDCToken:()=>S,CDOToken:()=>x,CSSParserToken:()=>y,CloseCurlyToken:()=>I,CloseParenToken:()=>j,CloseSquareToken:()=>M,ColonToken:()=>E,ColumnToken:()=>z,CommaToken:()=>k,DashMatchToken:()=>F,DelimToken:()=>U,DimensionToken:()=>X,EOFToken:()=>H,FunctionToken:()=>W,GroupingToken:()=>O,HashToken:()=>G,IdentToken:()=>q,IncludeMatchToken:()=>N,InvalidCharacterError:()=>g,NumberToken:()=>J,OpenCurlyToken:()=>T,OpenParenToken:()=>P,OpenSquareToken:()=>B,PercentageToken:()=>K,PrefixMatchToken:()=>D,SemicolonToken:()=>C,StringToken:()=>V,StringValuedToken:()=>Q,SubstringMatchToken:()=>L,SuffixMatchToken:()=>R,URLToken:()=>Y,WhitespaceToken:()=>_,tokenize:()=>w}),e.exports=(t=s,((e,t,s,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let s of o(t))i.call(e,s)||undefined===s||n(e,s,{get:()=>t[s],enumerable:!(a=r(t,s))||a.enumerable});return e})(n({},"__esModule",{value:!0}),t));const a=function(e,t,n){return e>=t&&e<=n};function l(e){return a(e,48,57)}function c(e){return l(e)||a(e,65,70)||a(e,97,102)}function u(e){return function(e){return function(e){return a(e,65,90)}(e)||function(e){return a(e,97,122)}(e)}(e)||function(e){return e>=128}(e)||95===e}function d(e){return u(e)||l(e)||45===e}function h(e){return a(e,0,8)||11===e||a(e,14,31)||127===e}function p(e){return 10===e}function f(e){return p(e)||9===e||32===e}const m=1114111;class g extends Error{constructor(e){super(e),this.name="InvalidCharacterError"}}function b(e){if(e<=65535)return String.fromCharCode(e);e-=Math.pow(2,16);const t=Math.floor(e/Math.pow(2,10))+55296,n=e%Math.pow(2,10)+56320;return String.fromCharCode(t)+String.fromCharCode(n)}function w(e){const t=function(e){const t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);if(13===r&&10===e.charCodeAt(n+1)&&(r=10,n++),13!==r&&12!==r||(r=10),0===r&&(r=65533),a(r,55296,56319)&&a(e.charCodeAt(n+1),56320,57343)){const t=r-55296,o=e.charCodeAt(n+1)-56320;r=Math.pow(2,16)+t*Math.pow(2,10)+o,n++}t.push(r)}return t}(e);let n=-1;const r=[];let o,i=0,s=0,g=0;const w={line:i,column:s},y=function(e){return e>=t.length?-1:t[e]},O=function(e){if(void 0===e&&(e=1),e>3)throw"Spec Error: no more than three codepoints of lookahead.";return y(n+e)},Q=function(e){return void 0===e&&(e=1),n+=e,o=y(n),p(o)?(i+=1,g=s,s=0):s+=e,!0},Z=function(){return n-=1,p(o)?(i-=1,s=g):s-=1,w.line=i,w.column=s,!0},ee=function(e){return void 0===e&&(e=o),-1===e},te=function(){},ne=function(){},re=function(){if(oe(),Q(),f(o)){for(;f(O());)Q();return new _}if(34===o)return ae();if(35===o){if(d(O())||ue(O(1),O(2))){const e=new G("");return he(O(1),O(2),O(3))&&(e.type="id"),e.value=me(),e}return new U(o)}return 36===o?61===O()?(Q(),new R):new U(o):39===o?ae():40===o?new P:41===o?new j:42===o?61===O()?(Q(),new L):new U(o):43===o?fe()?(Z(),ie()):new U(o):44===o?new k:45===o?fe()?(Z(),ie()):45===O(1)&&62===O(2)?(Q(2),new S):pe()?(Z(),se()):new U(o):46===o?fe()?(Z(),ie()):new U(o):58===o?new E:59===o?new C:60===o?33===O(1)&&45===O(2)&&45===O(3)?(Q(3),new x):new U(o):64===o?he(O(1),O(2),O(3))?new $(me()):new U(o):91===o?new B:92===o?de()?(Z(),se()):new U(o):93===o?new M:94===o?61===O()?(Q(),new D):new U(o):123===o?new T:124===o?61===O()?(Q(),new F):124===O()?(Q(),new z):new U(o):125===o?new I:126===o?61===O()?(Q(),new N):new U(o):l(o)?(Z(),ie()):u(o)?(Z(),se()):ee()?new H:new U(o)},oe=function(){for(;47===O(1)&&42===O(2);)for(Q(2);;){if(Q(),42===o&&47===O()){Q();break}if(ee())return void ne()}},ie=function(){const e=ge();if(he(O(1),O(2),O(3))){const t=new X;return t.value=e.value,t.repr=e.repr,t.type=e.type,t.unit=me(),t}if(37===O()){Q();const t=new K;return t.value=e.value,t.repr=e.repr,t}{const t=new J;return t.value=e.value,t.repr=e.repr,t.type=e.type,t}},se=function(){const e=me();if("url"===e.toLowerCase()&&40===O()){for(Q();f(O(1))&&f(O(2));)Q();return 34===O()||39===O()?new W(e):!f(O())||34!==O(2)&&39!==O(2)?le():new W(e)}return 40===O()?(Q(),new W(e)):new q(e)},ae=function(e){void 0===e&&(e=o);let t="";for(;Q();){if(o===e||ee())return new V(t);if(p(o))return ne(),Z(),new v;92===o?ee(O())?te():p(O())?Q():t+=b(ce()):t+=b(o)}throw new Error("Internal error")},le=function(){const e=new Y("");for(;f(O());)Q();if(ee(O()))return e;for(;Q();){if(41===o||ee())return e;if(f(o)){for(;f(O());)Q();return 41===O()||ee(O())?(Q(),e):(we(),new A)}if(34===o||39===o||40===o||h(o))return ne(),we(),new A;if(92===o){if(!de())return ne(),we(),new A;e.value+=b(ce())}else e.value+=b(o)}throw new Error("Internal error")},ce=function(){if(Q(),c(o)){const e=[o];for(let t=0;t<5&&c(O());t++)Q(),e.push(o);f(O())&&Q();let t=parseInt(e.map(function(e){return String.fromCharCode(e)}).join(""),16);return t>m&&(t=65533),t}return ee()?65533:o},ue=function(e,t){return 92===e&&!p(t)},de=function(){return ue(o,O())},he=function(e,t,n){return 45===e?u(t)||45===t||ue(t,n):!!u(e)||92===e&&ue(e,t)},pe=function(){return he(o,O(1),O(2))},fe=function(){return e=o,t=O(1),n=O(2),43===e||45===e?!!l(t)||!(46!==t||!l(n)):46===e?!!l(t):!!l(e);var e,t,n},me=function(){let e="";for(;Q();)if(d(o))e+=b(o);else{if(!de())return Z(),e;e+=b(ce())}throw new Error("Internal parse error")},ge=function(){let e="",t="integer";for(43!==O()&&45!==O()||(Q(),e+=b(o));l(O());)Q(),e+=b(o);if(46===O(1)&&l(O(2)))for(Q(),e+=b(o),Q(),e+=b(o),t="number";l(O());)Q(),e+=b(o);const n=O(1),r=O(2),i=O(3);if(69!==n&&101!==n||!l(r)){if((69===n||101===n)&&(43===r||45===r)&&l(i))for(Q(),e+=b(o),Q(),e+=b(o),Q(),e+=b(o),t="number";l(O());)Q(),e+=b(o)}else for(Q(),e+=b(o),Q(),e+=b(o),t="number";l(O());)Q(),e+=b(o);return{type:t,value:be(e),repr:e}},be=function(e){return+e},we=function(){for(;Q();){if(41===o||ee())return;de()?(ce(),te()):te()}};let ye=0;for(;!ee(O());)if(r.push(re()),ye++,ye>2*t.length)throw new Error("I'm infinite-looping!");return r}class y{constructor(){this.tokenType=""}toJSON(){return{token:this.tokenType}}toString(){return this.tokenType}toSource(){return""+this}}class v extends y{constructor(){super(...arguments),this.tokenType="BADSTRING"}}class A extends y{constructor(){super(...arguments),this.tokenType="BADURL"}}class _ extends y{constructor(){super(...arguments),this.tokenType="WHITESPACE"}toString(){return"WS"}toSource(){return" "}}class x extends y{constructor(){super(...arguments),this.tokenType="CDO"}toSource(){return"\x3c!--"}}class S extends y{constructor(){super(...arguments),this.tokenType="CDC"}toSource(){return"--\x3e"}}class E extends y{constructor(){super(...arguments),this.tokenType=":"}}class C extends y{constructor(){super(...arguments),this.tokenType=";"}}class k extends y{constructor(){super(...arguments),this.tokenType=","}}class O extends y{constructor(){super(...arguments),this.value="",this.mirror=""}}class T extends O{constructor(){super(),this.tokenType="{",this.value="{",this.mirror="}"}}class I extends O{constructor(){super(),this.tokenType="}",this.value="}",this.mirror="{"}}class B extends O{constructor(){super(),this.tokenType="[",this.value="[",this.mirror="]"}}class M extends O{constructor(){super(),this.tokenType="]",this.value="]",this.mirror="["}}class P extends O{constructor(){super(),this.tokenType="(",this.value="(",this.mirror=")"}}class j extends O{constructor(){super(),this.tokenType=")",this.value=")",this.mirror="("}}class N extends y{constructor(){super(...arguments),this.tokenType="~="}}class F extends y{constructor(){super(...arguments),this.tokenType="|="}}class D extends y{constructor(){super(...arguments),this.tokenType="^="}}class R extends y{constructor(){super(...arguments),this.tokenType="$="}}class L extends y{constructor(){super(...arguments),this.tokenType="*="}}class z extends y{constructor(){super(...arguments),this.tokenType="||"}}class H extends y{constructor(){super(...arguments),this.tokenType="EOF"}toSource(){return""}}class U extends y{constructor(e){super(),this.tokenType="DELIM",this.value="",this.value=b(e)}toString(){return"DELIM("+this.value+")"}toJSON(){const e=this.constructor.prototype.constructor.prototype.toJSON.call(this);return e.value=this.value,e}toSource(){return"\\"===this.value?"\\\n":this.value}}class Q extends y{constructor(){super(...arguments),this.value=""}ASCIIMatch(e){return this.value.toLowerCase()===e.toLowerCase()}toJSON(){const e=this.constructor.prototype.constructor.prototype.toJSON.call(this);return e.value=this.value,e}}class q extends Q{constructor(e){super(),this.tokenType="IDENT",this.value=e}toString(){return"IDENT("+this.value+")"}toSource(){return Z(this.value)}}class W extends Q{constructor(e){super(),this.tokenType="FUNCTION",this.value=e,this.mirror=")"}toString(){return"FUNCTION("+this.value+")"}toSource(){return Z(this.value)+"("}}class $ extends Q{constructor(e){super(),this.tokenType="AT-KEYWORD",this.value=e}toString(){return"AT("+this.value+")"}toSource(){return"@"+Z(this.value)}}class G extends Q{constructor(e){super(),this.tokenType="HASH",this.value=e,this.type="unrestricted"}toString(){return"HASH("+this.value+")"}toJSON(){const e=this.constructor.prototype.constructor.prototype.toJSON.call(this);return e.value=this.value,e.type=this.type,e}toSource(){return"id"===this.type?"#"+Z(this.value):"#"+function(e){e=""+e;let t="";for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);if(0===r)throw new g("Invalid character: the input contains U+0000.");r>=128||45===r||95===r||a(r,48,57)||a(r,65,90)||a(r,97,122)?t+=e[n]:t+="\\"+r.toString(16)+" "}return t}(this.value)}}class V extends Q{constructor(e){super(),this.tokenType="STRING",this.value=e}toString(){return'"'+ee(this.value)+'"'}}class Y extends Q{constructor(e){super(),this.tokenType="URL",this.value=e}toString(){return"URL("+this.value+")"}toSource(){return'url("'+ee(this.value)+'")'}}class J extends y{constructor(){super(),this.tokenType="NUMBER",this.type="integer",this.repr=""}toString(){return"integer"===this.type?"INT("+this.value+")":"NUMBER("+this.value+")"}toJSON(){const e=super.toJSON();return e.value=this.value,e.type=this.type,e.repr=this.repr,e}toSource(){return this.repr}}class K extends y{constructor(){super(),this.tokenType="PERCENTAGE",this.repr=""}toString(){return"PERCENTAGE("+this.value+")"}toJSON(){const e=this.constructor.prototype.constructor.prototype.toJSON.call(this);return e.value=this.value,e.repr=this.repr,e}toSource(){return this.repr+"%"}}class X extends y{constructor(){super(),this.tokenType="DIMENSION",this.type="integer",this.repr="",this.unit=""}toString(){return"DIM("+this.value+","+this.unit+")"}toJSON(){const e=this.constructor.prototype.constructor.prototype.toJSON.call(this);return e.value=this.value,e.type=this.type,e.repr=this.repr,e.unit=this.unit,e}toSource(){const e=this.repr;let t=Z(this.unit);return"e"!==t[0].toLowerCase()||"-"!==t[1]&&!a(t.charCodeAt(1),48,57)||(t="\\65 "+t.slice(1,t.length)),e+t}}function Z(e){let t="";const n=(e=""+e).charCodeAt(0);for(let r=0;r<e.length;r++){const o=e.charCodeAt(r);if(0===o)throw new g("Invalid character: the input contains U+0000.");a(o,1,31)||127===o||0===r&&a(o,48,57)||1===r&&a(o,48,57)&&45===n?t+="\\"+o.toString(16)+" ":o>=128||45===o||95===o||a(o,48,57)||a(o,65,90)||a(o,97,122)?t+=e[r]:t+="\\"+e[r]}return t}function ee(e){e=""+e;let t="";for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);if(0===r)throw new g("Invalid character: the input contains U+0000.");a(r,1,31)||127===r?t+="\\"+r.toString(16)+" ":t+=34===r||92===r?"\\"+e[n]:e[n]}return t}},"./node_modules/playwright-core/lib/utils/isomorphic/headers.js":e=>{"use strict";var t,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,i=Object.prototype.hasOwnProperty,s={};function a(e,t,n){n||(n=t);const r=[];for(const o in e){const i=e[o];if(void 0!==i)if(t){const e="set-cookie"===o.toLowerCase()?n:t;for(const t of i.split(e))r.push({name:o,value:t.trim()})}else r.push({name:o,value:i})}return r}function l(e,t){const n={};for(const{name:r,value:o}of e)n[t?r.toLowerCase():r]=o;return n}((e,t)=>{for(var r in t)n(e,r,{get:t[r],enumerable:!0})})(s,{headersArrayToObject:()=>l,headersObjectToArray:()=>a}),e.exports=(t=s,((e,t,s,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let s of o(t))i.call(e,s)||undefined===s||n(e,s,{get:()=>t[s],enumerable:!(a=r(t,s))||a.enumerable});return e})(n({},"__esModule",{value:!0}),t))},"./node_modules/playwright-core/lib/utils/isomorphic/locatorGenerators.js":(e,t,n)=>{"use strict";var r,o=Object.defineProperty,i=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,l={};((e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})})(l,{CSharpLocatorFactory:()=>y,JavaLocatorFactory:()=>w,JavaScriptLocatorFactory:()=>g,JsonlLocatorFactory:()=>v,PythonLocatorFactory:()=>b,asLocator:()=>h,asLocatorDescription:()=>d,asLocators:()=>p}),e.exports=(r=l,((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let n of s(t))a.call(e,n)||undefined===n||o(e,n,{get:()=>t[n],enumerable:!(r=i(t,n))||r.enumerable});return e})(o({},"__esModule",{value:!0}),r));var c=n("./node_modules/playwright-core/lib/utils/isomorphic/selectorParser.js"),u=n("./node_modules/playwright-core/lib/utils/isomorphic/stringUtils.js");function d(e,t){try{const n=(0,c.parseSelector)(t),r=n.parts[n.parts.length-1];if("internal:describe"===r?.name){const e=JSON.parse(r.body);if("string"==typeof e)return e}return f(new A[e],n,!1,1)[0]}catch(e){return t}}function h(e,t,n=!1){return p(e,t,n,1)[0]}function p(e,t,n=!1,r=20,o){try{return f(new A[e](o),(0,c.parseSelector)(t),n,r)}catch(e){return[t]}}function f(e,t,n=!1,r=20){const o=[...t.parts],i=[];let s=n?"frame-locator":"page";for(let t=0;t<o.length;t++){const n=o[t],a=s;if(s="locator","internal:describe"===n.name)continue;if("nth"===n.name){"0"===n.body?i.push([e.generateLocator(a,"first",""),e.generateLocator(a,"nth","0")]):"-1"===n.body?i.push([e.generateLocator(a,"last",""),e.generateLocator(a,"nth","-1")]):i.push([e.generateLocator(a,"nth",n.body)]);continue}if("visible"===n.name){i.push([e.generateLocator(a,"visible",n.body),e.generateLocator(a,"default",`visible=${n.body}`)]);continue}if("internal:text"===n.name){const{exact:t,text:r}=m(n.body);i.push([e.generateLocator(a,"text",r,{exact:t})]);continue}if("internal:has-text"===n.name){const{exact:t,text:r}=m(n.body);if(!t){i.push([e.generateLocator(a,"has-text",r,{exact:t})]);continue}}if("internal:has-not-text"===n.name){const{exact:t,text:r}=m(n.body);if(!t){i.push([e.generateLocator(a,"has-not-text",r,{exact:t})]);continue}}if("internal:has"===n.name){const t=f(e,n.body.parsed,!1,r);i.push(t.map(t=>e.generateLocator(a,"has",t)));continue}if("internal:has-not"===n.name){const t=f(e,n.body.parsed,!1,r);i.push(t.map(t=>e.generateLocator(a,"hasNot",t)));continue}if("internal:and"===n.name){const t=f(e,n.body.parsed,!1,r);i.push(t.map(t=>e.generateLocator(a,"and",t)));continue}if("internal:or"===n.name){const t=f(e,n.body.parsed,!1,r);i.push(t.map(t=>e.generateLocator(a,"or",t)));continue}if("internal:chain"===n.name){const t=f(e,n.body.parsed,!1,r);i.push(t.map(t=>e.generateLocator(a,"chain",t)));continue}if("internal:label"===n.name){const{exact:t,text:r}=m(n.body);i.push([e.generateLocator(a,"label",r,{exact:t})]);continue}if("internal:role"===n.name){const t=(0,c.parseAttributeSelector)(n.body,!0),r={attrs:[]};for(const e of t.attributes)"name"===e.name?(r.exact=e.caseSensitive,r.name=e.value):("level"===e.name&&"string"==typeof e.value&&(e.value=+e.value),r.attrs.push({name:"include-hidden"===e.name?"includeHidden":e.name,value:e.value}));i.push([e.generateLocator(a,"role",t.name,r)]);continue}if("internal:testid"===n.name){const t=(0,c.parseAttributeSelector)(n.body,!0),{value:r}=t.attributes[0];i.push([e.generateLocator(a,"test-id",r)]);continue}if("internal:attr"===n.name){const t=(0,c.parseAttributeSelector)(n.body,!0),{name:r,value:o,caseSensitive:s}=t.attributes[0],l=o,u=!!s;if("placeholder"===r){i.push([e.generateLocator(a,"placeholder",l,{exact:u})]);continue}if("alt"===r){i.push([e.generateLocator(a,"alt",l,{exact:u})]);continue}if("title"===r){i.push([e.generateLocator(a,"title",l,{exact:u})]);continue}}if("internal:control"===n.name&&"enter-frame"===n.body){const n=i[i.length-1],r=o[t-1],l=n.map(t=>e.chainLocators([t,e.generateLocator(a,"frame","")]));["xpath","css"].includes(r.name)&&l.push(e.generateLocator(a,"frame-locator",(0,c.stringifySelector)({parts:[r]})),e.generateLocator(a,"frame-locator",(0,c.stringifySelector)({parts:[r]},!0))),n.splice(0,n.length,...l),s="frame-locator";continue}const l=o[t+1],u=(0,c.stringifySelector)({parts:[n]}),d=e.generateLocator(a,"default",u);if(l&&["internal:has-text","internal:has-not-text"].includes(l.name)){const{exact:n,text:r}=m(l.body);if(!n){const o=e.generateLocator("locator","internal:has-text"===l.name?"has-text":"has-not-text",r,{exact:n}),s={};"internal:has-text"===l.name?s.hasText=r:s.hasNotText=r;const c=e.generateLocator(a,"default",u,s);i.push([e.chainLocators([d,o]),c]),t++;continue}}let h;if(["xpath","css"].includes(n.name)){const t=(0,c.stringifySelector)({parts:[n]},!0);h=e.generateLocator(a,"default",t)}i.push([d,h].filter(Boolean))}return function(e,t,n){const r=t.map(()=>""),o=[],i=s=>{if(s===t.length)return o.push(e.chainLocators(r)),o.length<n;for(const e of t[s])if(r[s]=e,!i(s+1))return!1;return!0};return i(0),o}(e,i,r)}function m(e){let t=!1;const n=e.match(/^\/(.*)\/([igm]*)$/);return n?{text:new RegExp(n[1],n[2])}:(e.endsWith('"')?(e=JSON.parse(e),t=!0):e.endsWith('"s')?(e=JSON.parse(e.substring(0,e.length-1)),t=!0):e.endsWith('"i')&&(e=JSON.parse(e.substring(0,e.length-1)),t=!1),{exact:t,text:e})}class g{constructor(e){this.preferredQuote=e}generateLocator(e,t,n,r={}){switch(t){case"default":return void 0!==r.hasText?`locator(${this.quote(n)}, { hasText: ${this.toHasText(r.hasText)} })`:void 0!==r.hasNotText?`locator(${this.quote(n)}, { hasNotText: ${this.toHasText(r.hasNotText)} })`:`locator(${this.quote(n)})`;case"frame-locator":return`frameLocator(${this.quote(n)})`;case"frame":return"contentFrame()";case"nth":return`nth(${n})`;case"first":return"first()";case"last":return"last()";case"visible":return`filter({ visible: ${"true"===n?"true":"false"} })`;case"role":const e=[];_(r.name)?e.push(`name: ${this.regexToSourceString(r.name)}`):"string"==typeof r.name&&(e.push(`name: ${this.quote(r.name)}`),r.exact&&e.push("exact: true"));for(const{name:t,value:n}of r.attrs)e.push(`${t}: ${"string"==typeof n?this.quote(n):n}`);const o=e.length?`, { ${e.join(", ")} }`:"";return`getByRole(${this.quote(n)}${o})`;case"has-text":return`filter({ hasText: ${this.toHasText(n)} })`;case"has-not-text":return`filter({ hasNotText: ${this.toHasText(n)} })`;case"has":return`filter({ has: ${n} })`;case"hasNot":return`filter({ hasNot: ${n} })`;case"and":return`and(${n})`;case"or":return`or(${n})`;case"chain":return`locator(${n})`;case"test-id":return`getByTestId(${this.toTestIdValue(n)})`;case"text":return this.toCallWithExact("getByText",n,!!r.exact);case"alt":return this.toCallWithExact("getByAltText",n,!!r.exact);case"placeholder":return this.toCallWithExact("getByPlaceholder",n,!!r.exact);case"label":return this.toCallWithExact("getByLabel",n,!!r.exact);case"title":return this.toCallWithExact("getByTitle",n,!!r.exact);default:throw new Error("Unknown selector kind "+t)}}chainLocators(e){return e.join(".")}regexToSourceString(e){return(0,u.normalizeEscapedRegexQuotes)(String(e))}toCallWithExact(e,t,n){return _(t)?`${e}(${this.regexToSourceString(t)})`:n?`${e}(${this.quote(t)}, { exact: true })`:`${e}(${this.quote(t)})`}toHasText(e){return _(e)?this.regexToSourceString(e):this.quote(e)}toTestIdValue(e){return _(e)?this.regexToSourceString(e):this.quote(e)}quote(e){return(0,u.escapeWithQuotes)(e,this.preferredQuote??"'")}}class b{generateLocator(e,t,n,r={}){switch(t){case"default":return void 0!==r.hasText?`locator(${this.quote(n)}, has_text=${this.toHasText(r.hasText)})`:void 0!==r.hasNotText?`locator(${this.quote(n)}, has_not_text=${this.toHasText(r.hasNotText)})`:`locator(${this.quote(n)})`;case"frame-locator":return`frame_locator(${this.quote(n)})`;case"frame":return"content_frame";case"nth":return`nth(${n})`;case"first":return"first";case"last":return"last";case"visible":return`filter(visible=${"true"===n?"True":"False"})`;case"role":const e=[];_(r.name)?e.push(`name=${this.regexToString(r.name)}`):"string"==typeof r.name&&(e.push(`name=${this.quote(r.name)}`),r.exact&&e.push("exact=True"));for(const{name:t,value:n}of r.attrs){let r="string"==typeof n?this.quote(n):n;"boolean"==typeof n&&(r=n?"True":"False"),e.push(`${(0,u.toSnakeCase)(t)}=${r}`)}const o=e.length?`, ${e.join(", ")}`:"";return`get_by_role(${this.quote(n)}${o})`;case"has-text":return`filter(has_text=${this.toHasText(n)})`;case"has-not-text":return`filter(has_not_text=${this.toHasText(n)})`;case"has":return`filter(has=${n})`;case"hasNot":return`filter(has_not=${n})`;case"and":return`and_(${n})`;case"or":return`or_(${n})`;case"chain":return`locator(${n})`;case"test-id":return`get_by_test_id(${this.toTestIdValue(n)})`;case"text":return this.toCallWithExact("get_by_text",n,!!r.exact);case"alt":return this.toCallWithExact("get_by_alt_text",n,!!r.exact);case"placeholder":return this.toCallWithExact("get_by_placeholder",n,!!r.exact);case"label":return this.toCallWithExact("get_by_label",n,!!r.exact);case"title":return this.toCallWithExact("get_by_title",n,!!r.exact);default:throw new Error("Unknown selector kind "+t)}}chainLocators(e){return e.join(".")}regexToString(e){const t=e.flags.includes("i")?", re.IGNORECASE":"";return`re.compile(r"${(0,u.normalizeEscapedRegexQuotes)(e.source).replace(/\\\//,"/").replace(/"/g,'\\"')}"${t})`}toCallWithExact(e,t,n){return _(t)?`${e}(${this.regexToString(t)})`:n?`${e}(${this.quote(t)}, exact=True)`:`${e}(${this.quote(t)})`}toHasText(e){return _(e)?this.regexToString(e):`${this.quote(e)}`}toTestIdValue(e){return _(e)?this.regexToString(e):this.quote(e)}quote(e){return(0,u.escapeWithQuotes)(e,'"')}}class w{generateLocator(e,t,n,r={}){let o;switch(e){case"page":o="Page";break;case"frame-locator":o="FrameLocator";break;case"locator":o="Locator"}switch(t){case"default":return void 0!==r.hasText?`locator(${this.quote(n)}, new ${o}.LocatorOptions().setHasText(${this.toHasText(r.hasText)}))`:void 0!==r.hasNotText?`locator(${this.quote(n)}, new ${o}.LocatorOptions().setHasNotText(${this.toHasText(r.hasNotText)}))`:`locator(${this.quote(n)})`;case"frame-locator":return`frameLocator(${this.quote(n)})`;case"frame":return"contentFrame()";case"nth":return`nth(${n})`;case"first":return"first()";case"last":return"last()";case"visible":return`filter(new ${o}.FilterOptions().setVisible(${"true"===n?"true":"false"}))`;case"role":const e=[];_(r.name)?e.push(`.setName(${this.regexToString(r.name)})`):"string"==typeof r.name&&(e.push(`.setName(${this.quote(r.name)})`),r.exact&&e.push(".setExact(true)"));for(const{name:t,value:n}of r.attrs)e.push(`.set${(0,u.toTitleCase)(t)}(${"string"==typeof n?this.quote(n):n})`);const i=e.length?`, new ${o}.GetByRoleOptions()${e.join("")}`:"";return`getByRole(AriaRole.${(0,u.toSnakeCase)(n).toUpperCase()}${i})`;case"has-text":return`filter(new ${o}.FilterOptions().setHasText(${this.toHasText(n)}))`;case"has-not-text":return`filter(new ${o}.FilterOptions().setHasNotText(${this.toHasText(n)}))`;case"has":return`filter(new ${o}.FilterOptions().setHas(${n}))`;case"hasNot":return`filter(new ${o}.FilterOptions().setHasNot(${n}))`;case"and":return`and(${n})`;case"or":return`or(${n})`;case"chain":return`locator(${n})`;case"test-id":return`getByTestId(${this.toTestIdValue(n)})`;case"text":return this.toCallWithExact(o,"getByText",n,!!r.exact);case"alt":return this.toCallWithExact(o,"getByAltText",n,!!r.exact);case"placeholder":return this.toCallWithExact(o,"getByPlaceholder",n,!!r.exact);case"label":return this.toCallWithExact(o,"getByLabel",n,!!r.exact);case"title":return this.toCallWithExact(o,"getByTitle",n,!!r.exact);default:throw new Error("Unknown selector kind "+t)}}chainLocators(e){return e.join(".")}regexToString(e){const t=e.flags.includes("i")?", Pattern.CASE_INSENSITIVE":"";return`Pattern.compile(${this.quote((0,u.normalizeEscapedRegexQuotes)(e.source))}${t})`}toCallWithExact(e,t,n,r){return _(n)?`${t}(${this.regexToString(n)})`:r?`${t}(${this.quote(n)}, new ${e}.${(0,u.toTitleCase)(t)}Options().setExact(true))`:`${t}(${this.quote(n)})`}toHasText(e){return _(e)?this.regexToString(e):this.quote(e)}toTestIdValue(e){return _(e)?this.regexToString(e):this.quote(e)}quote(e){return(0,u.escapeWithQuotes)(e,'"')}}class y{generateLocator(e,t,n,r={}){switch(t){case"default":return void 0!==r.hasText?`Locator(${this.quote(n)}, new() { ${this.toHasText(r.hasText)} })`:void 0!==r.hasNotText?`Locator(${this.quote(n)}, new() { ${this.toHasNotText(r.hasNotText)} })`:`Locator(${this.quote(n)})`;case"frame-locator":return`FrameLocator(${this.quote(n)})`;case"frame":return"ContentFrame";case"nth":return`Nth(${n})`;case"first":return"First";case"last":return"Last";case"visible":return`Filter(new() { Visible = ${"true"===n?"true":"false"} })`;case"role":const e=[];_(r.name)?e.push(`NameRegex = ${this.regexToString(r.name)}`):"string"==typeof r.name&&(e.push(`Name = ${this.quote(r.name)}`),r.exact&&e.push("Exact = true"));for(const{name:t,value:n}of r.attrs)e.push(`${(0,u.toTitleCase)(t)} = ${"string"==typeof n?this.quote(n):n}`);const o=e.length?`, new() { ${e.join(", ")} }`:"";return`GetByRole(AriaRole.${(0,u.toTitleCase)(n)}${o})`;case"has-text":return`Filter(new() { ${this.toHasText(n)} })`;case"has-not-text":return`Filter(new() { ${this.toHasNotText(n)} })`;case"has":return`Filter(new() { Has = ${n} })`;case"hasNot":return`Filter(new() { HasNot = ${n} })`;case"and":return`And(${n})`;case"or":return`Or(${n})`;case"chain":return`Locator(${n})`;case"test-id":return`GetByTestId(${this.toTestIdValue(n)})`;case"text":return this.toCallWithExact("GetByText",n,!!r.exact);case"alt":return this.toCallWithExact("GetByAltText",n,!!r.exact);case"placeholder":return this.toCallWithExact("GetByPlaceholder",n,!!r.exact);case"label":return this.toCallWithExact("GetByLabel",n,!!r.exact);case"title":return this.toCallWithExact("GetByTitle",n,!!r.exact);default:throw new Error("Unknown selector kind "+t)}}chainLocators(e){return e.join(".")}regexToString(e){const t=e.flags.includes("i")?", RegexOptions.IgnoreCase":"";return`new Regex(${this.quote((0,u.normalizeEscapedRegexQuotes)(e.source))}${t})`}toCallWithExact(e,t,n){return _(t)?`${e}(${this.regexToString(t)})`:n?`${e}(${this.quote(t)}, new() { Exact = true })`:`${e}(${this.quote(t)})`}toHasText(e){return _(e)?`HasTextRegex = ${this.regexToString(e)}`:`HasText = ${this.quote(e)}`}toTestIdValue(e){return _(e)?this.regexToString(e):this.quote(e)}toHasNotText(e){return _(e)?`HasNotTextRegex = ${this.regexToString(e)}`:`HasNotText = ${this.quote(e)}`}quote(e){return(0,u.escapeWithQuotes)(e,'"')}}class v{generateLocator(e,t,n,r={}){return JSON.stringify({kind:t,body:n,options:r})}chainLocators(e){const t=e.map(e=>JSON.parse(e));for(let e=0;e<t.length-1;++e)t[e].next=t[e+1];return JSON.stringify(t[0])}}const A={javascript:g,python:b,java:w,csharp:y,jsonl:v};function _(e){return e instanceof RegExp}},"./node_modules/playwright-core/lib/utils/isomorphic/locatorParser.js":(e,t,n)=>{"use strict";var r,o=Object.defineProperty,i=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,l={};((e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})})(l,{locatorOrSelectorAsSelector:()=>m,unsafeLocatorOrSelectorAsSelector:()=>g}),e.exports=(r=l,((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let n of s(t))a.call(e,n)||undefined===n||o(e,n,{get:()=>t[n],enumerable:!(r=i(t,n))||r.enumerable});return e})(o({},"__esModule",{value:!0}),r));var c=n("./node_modules/playwright-core/lib/utils/isomorphic/locatorGenerators.js"),u=n("./node_modules/playwright-core/lib/utils/isomorphic/selectorParser.js"),d=n("./node_modules/playwright-core/lib/utils/isomorphic/stringUtils.js");function h(e){return[...e.matchAll(/\$\d+/g)].length}function p(e,t){return e.replace(/\$(\d+)/g,(e,n)=>"$"+(n-t))}function f(e,t,n){for(;;){const r=e.match(/filter\(,?(has=|hasnot=|sethas\(|sethasnot\()/);if(!r)break;const o=r.index+r[0].length;let i=0,s=o;for(;s<e.length&&("("===e[s]?i++:")"===e[s]&&i--,!(i<0));s++);let a=e.substring(0,o),l=0;["sethas(","sethasnot("].includes(r[1])&&(l=1,a=a.replace(/sethas\($/,"has=").replace(/sethasnot\($/,"hasnot="));const c=h(e.substring(0,o)),u=p(e.substring(o,s),c),d=h(u),m=t.slice(c,c+d),g=JSON.stringify(f(u,m,n));e=a.replace(/=$/,"2=")+`$${c+1}`+p(e.substring(s+l),d-1);const b=t.slice(0,c),w=t.slice(c+d);t=b.concat([{quote:'"',text:g}]).concat(w)}const r=(e=e.replace(/\,set([\w]+)\(([^)]+)\)/g,(e,t,n)=>","+t.toLowerCase()+"="+n.toLowerCase()).replace(/framelocator\(([^)]+)\)/g,"$1.internal:control=enter-frame").replace(/contentframe(\(\))?/g,"internal:control=enter-frame").replace(/locator\(([^)]+),hastext=([^),]+)\)/g,"locator($1).internal:has-text=$2").replace(/locator\(([^)]+),hasnottext=([^),]+)\)/g,"locator($1).internal:has-not-text=$2").replace(/locator\(([^)]+),hastext=([^),]+)\)/g,"locator($1).internal:has-text=$2").replace(/locator\(([^)]+)\)/g,"$1").replace(/getbyrole\(([^)]+)\)/g,"internal:role=$1").replace(/getbytext\(([^)]+)\)/g,"internal:text=$1").replace(/getbylabel\(([^)]+)\)/g,"internal:label=$1").replace(/getbytestid\(([^)]+)\)/g,`internal:testid=[${n}=$1]`).replace(/getby(placeholder|alt|title)(?:text)?\(([^)]+)\)/g,"internal:attr=[$1=$2]").replace(/first(\(\))?/g,"nth=0").replace(/last(\(\))?/g,"nth=-1").replace(/nth\(([^)]+)\)/g,"nth=$1").replace(/filter\(,?visible=true\)/g,"visible=true").replace(/filter\(,?visible=false\)/g,"visible=false").replace(/filter\(,?hastext=([^)]+)\)/g,"internal:has-text=$1").replace(/filter\(,?hasnottext=([^)]+)\)/g,"internal:has-not-text=$1").replace(/filter\(,?has2=([^)]+)\)/g,"internal:has=$1").replace(/filter\(,?hasnot2=([^)]+)\)/g,"internal:has-not=$1").replace(/,exact=false/g,"").replace(/,exact=true/g,"s").replace(/,includehidden=/g,",include-hidden=").replace(/\,/g,"][")).split(".");for(let e=0;e<r.length-1;e++)if("internal:control=enter-frame"===r[e]&&r[e+1].startsWith("nth=")){const[t]=r.splice(e,1);r.splice(e+1,0,t)}return r.map(e=>e.startsWith("internal:")&&"internal:control"!==e?e=(e=e.includes("[")?e.replace(/\]/,"")+"]":e).replace(/(?:r)\$(\d+)(i)?/g,(n,r,o)=>{const i=t[+r-1];return e.startsWith("internal:attr")||e.startsWith("internal:testid")||e.startsWith("internal:role")?(0,d.escapeForAttributeSelector)(new RegExp(i.text),!1)+(o||""):(0,d.escapeForTextSelector)(new RegExp(i.text,o),!1)}).replace(/\$(\d+)(i|s)?/g,(n,r,o)=>{const i=t[+r-1];return e.startsWith("internal:has=")||e.startsWith("internal:has-not=")?i.text:e.startsWith("internal:testid")?(0,d.escapeForAttributeSelector)(i.text,!0):e.startsWith("internal:attr")||e.startsWith("internal:role")?(0,d.escapeForAttributeSelector)(i.text,"s"===o):(0,d.escapeForTextSelector)(i.text,"s"===o)}):e.replace(/\$(\d+)/g,(e,n)=>t[+n-1].text)).join(" >> ")}function m(e,t,n){try{return g(e,t,n)}catch(e){return""}}function g(e,t,n){try{return(0,u.parseSelector)(t),t}catch(e){}const{selector:r,preferredQuote:o}=function(e,t){e=e.replace(/AriaRole\s*\.\s*([\w]+)/g,(e,t)=>t.toLowerCase()).replace(/(get_by_role|getByRole)\s*\(\s*(?:["'`])([^'"`]+)['"`]/g,(e,t,n)=>`${t}(${n.toLowerCase()}`);const n=[];let r="";for(let t=0;t<e.length;++t){const o=e[t];if('"'!==o&&"'"!==o&&"`"!==o&&"/"!==o){r+=o;continue}const i="r"===e[t-1]||"/"===e[t];++t;let s="";for(;t<e.length;)if("\\"!==e[t]){if(e[t]===o)break;s+=e[t++]}else i?(e[t+1]!==o&&(s+=e[t]),++t,s+=e[t]):(++t,"n"===e[t]?s+="\n":"r"===e[t]?s+="\r":"t"===e[t]?s+="\t":s+=e[t]),++t;n.push({quote:o,text:s}),r+=("/"===o?"r":"")+"$"+n.length}r=r.toLowerCase().replace(/get_by_alt_text/g,"getbyalttext").replace(/get_by_test_id/g,"getbytestid").replace(/get_by_([\w]+)/g,"getby$1").replace(/has_not_text/g,"hasnottext").replace(/has_text/g,"hastext").replace(/has_not/g,"hasnot").replace(/frame_locator/g,"framelocator").replace(/content_frame/g,"contentframe").replace(/[{}\s]/g,"").replace(/new\(\)/g,"").replace(/new[\w]+\.[\w]+options\(\)/g,"").replace(/\.set/g,",set").replace(/\.or_\(/g,"or(").replace(/\.and_\(/g,"and(").replace(/:/g,"=").replace(/,re\.ignorecase/g,"i").replace(/,pattern.case_insensitive/g,"i").replace(/,regexoptions.ignorecase/g,"i").replace(/re.compile\(([^)]+)\)/g,"$1").replace(/pattern.compile\(([^)]+)\)/g,"r$1").replace(/newregex\(([^)]+)\)/g,"r$1").replace(/string=/g,"=").replace(/regex=/g,"=").replace(/,,/g,",").replace(/,\)/g,")");const o=n.map(e=>e.quote).filter(e=>"'\"`".includes(e))[0];return{selector:f(r,n,t),preferredQuote:o}}(t,n),i=(0,c.asLocators)(e,r,void 0,void 0,o),s=b(e,t);return i.some(t=>b(e,t)===s)?r:""}function b(e,t){return t=t.replace(/\s/g,""),"javascript"===e&&(t=t.replace(/\\?["`]/g,"'").replace(/,{}/g,"")),t}},"./node_modules/playwright-core/lib/utils/isomorphic/locatorUtils.js":(e,t,n)=>{"use strict";var r,o=Object.defineProperty,i=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,l={};((e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})})(l,{getByAltTextSelector:()=>p,getByLabelSelector:()=>h,getByPlaceholderSelector:()=>m,getByRoleSelector:()=>b,getByTestIdSelector:()=>d,getByTextSelector:()=>g,getByTitleSelector:()=>f}),e.exports=(r=l,((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let n of s(t))a.call(e,n)||undefined===n||o(e,n,{get:()=>t[n],enumerable:!(r=i(t,n))||r.enumerable});return e})(o({},"__esModule",{value:!0}),r));var c=n("./node_modules/playwright-core/lib/utils/isomorphic/stringUtils.js");function u(e,t,n){return`internal:attr=[${e}=${(0,c.escapeForAttributeSelector)(t,n?.exact||!1)}]`}function d(e,t){return`internal:testid=[${e}=${(0,c.escapeForAttributeSelector)(t,!0)}]`}function h(e,t){return"internal:label="+(0,c.escapeForTextSelector)(e,!!t?.exact)}function p(e,t){return u("alt",e,t)}function f(e,t){return u("title",e,t)}function m(e,t){return u("placeholder",e,t)}function g(e,t){return"internal:text="+(0,c.escapeForTextSelector)(e,!!t?.exact)}function b(e,t={}){const n=[];return void 0!==t.checked&&n.push(["checked",String(t.checked)]),void 0!==t.disabled&&n.push(["disabled",String(t.disabled)]),void 0!==t.selected&&n.push(["selected",String(t.selected)]),void 0!==t.expanded&&n.push(["expanded",String(t.expanded)]),void 0!==t.includeHidden&&n.push(["include-hidden",String(t.includeHidden)]),void 0!==t.level&&n.push(["level",String(t.level)]),void 0!==t.name&&n.push(["name",(0,c.escapeForAttributeSelector)(t.name,!!t.exact)]),void 0!==t.pressed&&n.push(["pressed",String(t.pressed)]),`internal:role=${e}${n.map(([e,t])=>`[${e}=${t}]`).join("")}`}},"./node_modules/playwright-core/lib/utils/isomorphic/manualPromise.js":(e,t,n)=>{"use strict";var r,o=Object.defineProperty,i=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,l={};((e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})})(l,{LongStandingScope:()=>d,ManualPromise:()=>u}),e.exports=(r=l,((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let n of s(t))a.call(e,n)||undefined===n||o(e,n,{get:()=>t[n],enumerable:!(r=i(t,n))||r.enumerable});return e})(o({},"__esModule",{value:!0}),r));var c=n("./node_modules/playwright-core/lib/utils/isomorphic/stackTrace.js");class u extends Promise{constructor(){let e,t;super((n,r)=>{e=n,t=r}),this._isDone=!1,this._resolve=e,this._reject=t}isDone(){return this._isDone}resolve(e){this._isDone=!0,this._resolve(e)}reject(e){this._isDone=!0,this._reject(e)}static get[Symbol.species](){return Promise}get[Symbol.toStringTag](){return"ManualPromise"}}class d{constructor(){this._terminatePromises=new Map,this._isClosed=!1}reject(e){this._isClosed=!0,this._terminateError=e;for(const t of this._terminatePromises.keys())t.resolve(e)}close(e){this._isClosed=!0,this._closeError=e;for(const[t,n]of this._terminatePromises)t.resolve(h(e,n))}isClosed(){return this._isClosed}static async raceMultiple(e,t){return Promise.race(e.map(e=>e.race(t)))}async race(e){return this._race(Array.isArray(e)?e:[e],!1)}async safeRace(e,t){return this._race([e],!0,t)}async _race(e,t,n){const r=new u,o=(0,c.captureRawStack)();this._terminateError&&r.resolve(this._terminateError),this._closeError&&r.resolve(h(this._closeError,o)),this._terminatePromises.set(r,o);try{return await Promise.race([r.then(e=>t?n:Promise.reject(e)),...e])}finally{this._terminatePromises.delete(r)}}}function h(e,t){const n=new Error;return n.name=e.name,n.message=e.message,n.stack=[e.name+":"+e.message,...t].join("\n"),n}},"./node_modules/playwright-core/lib/utils/isomorphic/mimeType.js":e=>{"use strict";var t,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,i=Object.prototype.hasOwnProperty,s={};function a(e){return!!e.match(/^(application\/json|application\/.*?\+json|text\/(x-)?json)(;\s*charset=.*)?$/)}function l(e){return!!e.match(/^(text\/.*?|application\/(json|(x-)?javascript|xml.*?|ecmascript|graphql|x-www-form-urlencoded)|image\/svg(\+xml)?|application\/.*?(\+json|\+xml))(;\s*charset=.*)?$/)}function c(e){const t=e.lastIndexOf(".");if(-1===t)return null;const n=e.substring(t+1);return u.get(n)||null}((e,t)=>{for(var r in t)n(e,r,{get:t[r],enumerable:!0})})(s,{getMimeTypeForPath:()=>c,isJsonMimeType:()=>a,isTextualMimeType:()=>l}),e.exports=(t=s,((e,t,s,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let s of o(t))i.call(e,s)||undefined===s||n(e,s,{get:()=>t[s],enumerable:!(a=r(t,s))||a.enumerable});return e})(n({},"__esModule",{value:!0}),t));const u=new Map([["ez","application/andrew-inset"],["aw","application/applixware"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["dwd","application/atsc-dwd+xml"],["held","application/atsc-held+xml"],["rsat","application/atsc-rsat+xml"],["bdoc","application/bdoc"],["xcs","application/calendar+xml"],["ccxml","application/ccxml+xml"],["cdfx","application/cdfx+xml"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cu","application/cu-seeme"],["mpd","application/dash+xml"],["davmount","application/davmount+xml"],["dbk","application/docbook+xml"],["dssc","application/dssc+der"],["xdssc","application/dssc+xml"],["ecma","application/ecmascript"],["es","application/ecmascript"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["epub","application/epub+zip"],["exi","application/exi"],["exp","application/express"],["fdt","application/fdt+xml"],["pfr","application/font-tdpfr"],["geojson","application/geo+json"],["gml","application/gml+xml"],["gpx","application/gpx+xml"],["gxf","application/gxf"],["gz","application/gzip"],["hjson","application/hjson"],["stk","application/hyperstudio"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["ipfix","application/ipfix"],["its","application/its+xml"],["ear","application/java-archive"],["jar","application/java-archive"],["war","application/java-archive"],["ser","application/java-serialized-object"],["class","application/java-vm"],["js","application/javascript"],["mjs","application/javascript"],["json","application/json"],["map","application/json"],["json5","application/json5"],["jsonml","application/jsonml+json"],["jsonld","application/ld+json"],["lgr","application/lgr+xml"],["lostxml","application/lost+xml"],["hqx","application/mac-binhex40"],["cpt","application/mac-compactpro"],["mads","application/mads+xml"],["webmanifest","application/manifest+json"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ma","application/mathematica"],["mb","application/mathematica"],["nb","application/mathematica"],["mathml","application/mathml+xml"],["mbox","application/mbox"],["mscml","application/mediaservercontrol+xml"],["metalink","application/metalink+xml"],["meta4","application/metalink4+xml"],["mets","application/mets+xml"],["maei","application/mmt-aei+xml"],["musd","application/mmt-usd+xml"],["mods","application/mods+xml"],["m21","application/mp21"],["mp21","application/mp21"],["m4p","application/mp4"],["mp4s","application/mp4"],["doc","application/msword"],["dot","application/msword"],["mxf","application/mxf"],["nq","application/n-quads"],["nt","application/n-triples"],["cjs","application/node"],["bin","application/octet-stream"],["bpk","application/octet-stream"],["buffer","application/octet-stream"],["deb","application/octet-stream"],["deploy","application/octet-stream"],["dist","application/octet-stream"],["distz","application/octet-stream"],["dll","application/octet-stream"],["dmg","application/octet-stream"],["dms","application/octet-stream"],["dump","application/octet-stream"],["elc","application/octet-stream"],["exe","application/octet-stream"],["img","application/octet-stream"],["iso","application/octet-stream"],["lrf","application/octet-stream"],["mar","application/octet-stream"],["msi","application/octet-stream"],["msm","application/octet-stream"],["msp","application/octet-stream"],["pkg","application/octet-stream"],["so","application/octet-stream"],["oda","application/oda"],["opf","application/oebps-package+xml"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["oxps","application/oxps"],["relo","application/p2p-overlay+xml"],["xer","application/patch-ops-error+xml"],["pdf","application/pdf"],["pgp","application/pgp-encrypted"],["asc","application/pgp-signature"],["sig","application/pgp-signature"],["prf","application/pics-rules"],["p10","application/pkcs10"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["ac","application/pkix-attr-cert"],["cer","application/pkix-cert"],["crl","application/pkix-crl"],["pkipath","application/pkix-pkipath"],["pki","application/pkixcmp"],["pls","application/pls+xml"],["ai","application/postscript"],["eps","application/postscript"],["ps","application/postscript"],["provx","application/provenance+xml"],["pskcxml","application/pskc+xml"],["raml","application/raml+yaml"],["owl","application/rdf+xml"],["rdf","application/rdf+xml"],["rif","application/reginfo+xml"],["rnc","application/relax-ng-compact-syntax"],["rl","application/resource-lists+xml"],["rld","application/resource-lists-diff+xml"],["rs","application/rls-services+xml"],["rapd","application/route-apd+xml"],["sls","application/route-s-tsid+xml"],["rusd","application/route-usd+xml"],["gbr","application/rpki-ghostbusters"],["mft","application/rpki-manifest"],["roa","application/rpki-roa"],["rsd","application/rsd+xml"],["rss","application/rss+xml"],["rtf","application/rtf"],["sbml","application/sbml+xml"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["spq","application/scvp-vp-request"],["spp","application/scvp-vp-response"],["sdp","application/sdp"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["shf","application/shf+xml"],["sieve","application/sieve"],["siv","application/sieve"],["smi","application/smil+xml"],["smil","application/smil+xml"],["rq","application/sparql-query"],["srx","application/sparql-results+xml"],["gram","application/srgs"],["grxml","application/srgs+xml"],["sru","application/sru+xml"],["ssdl","application/ssdl+xml"],["ssml","application/ssml+xml"],["swidtag","application/swid+xml"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tfi","application/thraud+xml"],["tsd","application/timestamped-data"],["toml","application/toml"],["trig","application/trig"],["ttml","application/ttml+xml"],["ubj","application/ubjson"],["rsheet","application/urc-ressheet+xml"],["td","application/urc-targetdesc+xml"],["vxml","application/voicexml+xml"],["wasm","application/wasm"],["wgt","application/widget"],["hlp","application/winhlp"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["xaml","application/xaml+xml"],["xav","application/xcap-att+xml"],["xca","application/xcap-caps+xml"],["xdf","application/xcap-diff+xml"],["xel","application/xcap-el+xml"],["xns","application/xcap-ns+xml"],["xenc","application/xenc+xml"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xlf","application/xliff+xml"],["rng","application/xml"],["xml","application/xml"],["xsd","application/xml"],["xsl","application/xml"],["dtd","application/xml-dtd"],["xop","application/xop+xml"],["xpl","application/xproc+xml"],["*xsl","application/xslt+xml"],["xslt","application/xslt+xml"],["xspf","application/xspf+xml"],["mxml","application/xv+xml"],["xhvml","application/xv+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["yang","application/yang"],["yin","application/yin+xml"],["zip","application/zip"],["*3gpp","audio/3gpp"],["adp","audio/adpcm"],["amr","audio/amr"],["au","audio/basic"],["snd","audio/basic"],["kar","audio/midi"],["mid","audio/midi"],["midi","audio/midi"],["rmi","audio/midi"],["mxmf","audio/mobile-xmf"],["*mp3","audio/mp3"],["m4a","audio/mp4"],["mp4a","audio/mp4"],["m2a","audio/mpeg"],["m3a","audio/mpeg"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mpga","audio/mpeg"],["oga","audio/ogg"],["ogg","audio/ogg"],["opus","audio/ogg"],["spx","audio/ogg"],["s3m","audio/s3m"],["sil","audio/silk"],["wav","audio/wav"],["*wav","audio/wave"],["weba","audio/webm"],["xm","audio/xm"],["ttc","font/collection"],["otf","font/otf"],["ttf","font/ttf"],["woff","font/woff"],["woff2","font/woff2"],["exr","image/aces"],["apng","image/apng"],["avif","image/avif"],["bmp","image/bmp"],["cgm","image/cgm"],["drle","image/dicom-rle"],["emf","image/emf"],["fits","image/fits"],["g3","image/g3fax"],["gif","image/gif"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["hsj2","image/hsj2"],["ief","image/ief"],["jls","image/jls"],["jp2","image/jp2"],["jpg2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["jph","image/jph"],["jhc","image/jphc"],["jpm","image/jpm"],["jpf","image/jpx"],["jpx","image/jpx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["ktx","image/ktx"],["ktx2","image/ktx2"],["png","image/png"],["sgi","image/sgi"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["t38","image/t38"],["tif","image/tiff"],["tiff","image/tiff"],["tfx","image/tiff-fx"],["webp","image/webp"],["wmf","image/wmf"],["disposition-notification","message/disposition-notification"],["u8msg","message/global"],["u8dsn","message/global-delivery-status"],["u8mdn","message/global-disposition-notification"],["u8hdr","message/global-headers"],["eml","message/rfc822"],["mime","message/rfc822"],["3mf","model/3mf"],["gltf","model/gltf+json"],["glb","model/gltf-binary"],["iges","model/iges"],["igs","model/iges"],["mesh","model/mesh"],["msh","model/mesh"],["silo","model/mesh"],["mtl","model/mtl"],["obj","model/obj"],["stpx","model/step+xml"],["stpz","model/step+zip"],["stpxz","model/step-xml+zip"],["stl","model/stl"],["vrml","model/vrml"],["wrl","model/vrml"],["*x3db","model/x3d+binary"],["x3dbz","model/x3d+binary"],["x3db","model/x3d+fastinfoset"],["*x3dv","model/x3d+vrml"],["x3dvz","model/x3d+vrml"],["x3d","model/x3d+xml"],["x3dz","model/x3d+xml"],["x3dv","model/x3d-vrml"],["appcache","text/cache-manifest"],["manifest","text/cache-manifest"],["ics","text/calendar"],["ifb","text/calendar"],["coffee","text/coffeescript"],["litcoffee","text/coffeescript"],["css","text/css"],["csv","text/csv"],["htm","text/html"],["html","text/html"],["shtml","text/html"],["jade","text/jade"],["jsx","text/jsx"],["less","text/less"],["markdown","text/markdown"],["md","text/markdown"],["mml","text/mathml"],["mdx","text/mdx"],["n3","text/n3"],["conf","text/plain"],["def","text/plain"],["in","text/plain"],["ini","text/plain"],["list","text/plain"],["log","text/plain"],["text","text/plain"],["txt","text/plain"],["rtx","text/richtext"],["*rtf","text/rtf"],["sgm","text/sgml"],["sgml","text/sgml"],["shex","text/shex"],["slim","text/slim"],["slm","text/slim"],["spdx","text/spdx"],["styl","text/stylus"],["stylus","text/stylus"],["tsv","text/tab-separated-values"],["man","text/troff"],["me","text/troff"],["ms","text/troff"],["roff","text/troff"],["t","text/troff"],["tr","text/troff"],["ttl","text/turtle"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["vcard","text/vcard"],["vtt","text/vtt"],["*xml","text/xml"],["yaml","text/yaml"],["yml","text/yaml"],["3gp","video/3gpp"],["3gpp","video/3gpp"],["3g2","video/3gpp2"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["m4s","video/iso.segment"],["jpgv","video/jpeg"],["jpm","video/jpm"],["jpgm","video/jpm"],["mj2","video/mj2"],["mjp2","video/mj2"],["ts","video/mp2t"],["mp4","video/mp4"],["mp4v","video/mp4"],["mpg4","video/mp4"],["m1v","video/mpeg"],["m2v","video/mpeg"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["ogv","video/ogg"],["mov","video/quicktime"],["qt","video/quicktime"],["webm","video/webm"]])},"./node_modules/playwright-core/lib/utils/isomorphic/multimap.js":e=>{"use strict";var t,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,i=Object.prototype.hasOwnProperty,s={};((e,t)=>{for(var r in t)n(e,r,{get:t[r],enumerable:!0})})(s,{MultiMap:()=>a}),e.exports=(t=s,((e,t,s,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let s of o(t))i.call(e,s)||undefined===s||n(e,s,{get:()=>t[s],enumerable:!(a=r(t,s))||a.enumerable});return e})(n({},"__esModule",{value:!0}),t));class a{constructor(){this._map=new Map}set(e,t){let n=this._map.get(e);n||(n=[],this._map.set(e,n)),n.push(t)}get(e){return this._map.get(e)||[]}has(e){return this._map.has(e)}delete(e,t){const n=this._map.get(e);n&&n.includes(t)&&this._map.set(e,n.filter(e=>t!==e))}deleteAll(e){this._map.delete(e)}hasValue(e,t){const n=this._map.get(e);return!!n&&n.includes(t)}get size(){return this._map.size}[Symbol.iterator](){return this._map[Symbol.iterator]()}keys(){return this._map.keys()}values(){const e=[];for(const t of this.keys())e.push(...this.get(t));return e}clear(){this._map.clear()}}},"./node_modules/playwright-core/lib/utils/isomorphic/protocolFormatter.js":(e,t,n)=>{"use strict";var r,o=Object.defineProperty,i=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,l={};((e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})})(l,{formatProtocolParam:()=>u,getActionGroup:()=>p,renderTitleForCall:()=>h}),e.exports=(r=l,((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let n of s(t))a.call(e,n)||undefined===n||o(e,n,{get:()=>t[n],enumerable:!(r=i(t,n))||r.enumerable});return e})(o({},"__esModule",{value:!0}),r));var c=n("./node_modules/playwright-core/lib/utils/isomorphic/protocolMetainfo.js");function u(e,t){if(e)for(const n of t.split("|")){if("url"===n)try{const t=new URL(e[n]);return"data:"===t.protocol?t.protocol:"about:"===t.protocol?e[n]:t.pathname+t.search}catch(t){if(void 0!==e[n])return e[n]}if("timeNumber"===n&&void 0!==e[n])return new Date(e[n]).toString();const t=d(e,n);if(void 0!==t)return t}}function d(e,t){const n=t.split(".");let r=e;for(const e of n){if("object"!=typeof r||null===r)return;r=r[e]}if(void 0!==r)return String(r)}function h(e){return(e.title??c.methodMetainfo.get(e.type+"."+e.method)?.title??e.method).replace(/\{([^}]+)\}/g,(t,n)=>u(e.params,n)??t)}function p(e){return c.methodMetainfo.get(e.type+"."+e.method)?.group}},"./node_modules/playwright-core/lib/utils/isomorphic/protocolMetainfo.js":e=>{"use strict";var t,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,i=Object.prototype.hasOwnProperty,s={};((e,t)=>{for(var r in t)n(e,r,{get:t[r],enumerable:!0})})(s,{methodMetainfo:()=>a}),e.exports=(t=s,((e,t,s,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let s of o(t))i.call(e,s)||undefined===s||n(e,s,{get:()=>t[s],enumerable:!(a=r(t,s))||a.enumerable});return e})(n({},"__esModule",{value:!0}),t));const a=new Map([["APIRequestContext.fetch",{title:'{method} "{url}"'}],["APIRequestContext.fetchResponseBody",{title:"Get response body",group:"getter"}],["APIRequestContext.fetchLog",{internal:!0}],["APIRequestContext.storageState",{title:"Get storage state"}],["APIRequestContext.disposeAPIResponse",{internal:!0}],["APIRequestContext.dispose",{internal:!0}],["LocalUtils.zip",{internal:!0}],["LocalUtils.harOpen",{internal:!0}],["LocalUtils.harLookup",{internal:!0}],["LocalUtils.harClose",{internal:!0}],["LocalUtils.harUnzip",{internal:!0}],["LocalUtils.connect",{internal:!0}],["LocalUtils.tracingStarted",{internal:!0}],["LocalUtils.addStackToTracingNoReply",{internal:!0}],["LocalUtils.traceDiscarded",{internal:!0}],["LocalUtils.globToRegex",{internal:!0}],["Root.initialize",{internal:!0}],["Playwright.newRequest",{title:"Create request context"}],["DebugController.initialize",{internal:!0}],["DebugController.setReportStateChanged",{internal:!0}],["DebugController.setRecorderMode",{internal:!0}],["DebugController.highlight",{internal:!0}],["DebugController.hideHighlight",{internal:!0}],["DebugController.resume",{internal:!0}],["DebugController.closeBrowser",{internal:!0}],["DebugController.kill",{internal:!0}],["SocksSupport.socksConnected",{internal:!0}],["SocksSupport.socksFailed",{internal:!0}],["SocksSupport.socksData",{internal:!0}],["SocksSupport.socksError",{internal:!0}],["SocksSupport.socksEnd",{internal:!0}],["BrowserType.launch",{title:"Launch browser"}],["BrowserType.launchPersistentContext",{title:"Launch persistent context"}],["BrowserType.connectOverCDP",{title:"Connect over CDP"}],["Browser.close",{title:"Close browser",pausesBeforeAction:!0}],["Browser.killForTests",{internal:!0}],["Browser.defaultUserAgentForTest",{internal:!0}],["Browser.newContext",{title:"Create context"}],["Browser.newContextForReuse",{internal:!0}],["Browser.disconnectFromReusedContext",{internal:!0}],["Browser.newBrowserCDPSession",{title:"Create CDP session",group:"configuration"}],["Browser.startTracing",{title:"Start browser tracing",group:"configuration"}],["Browser.stopTracing",{title:"Stop browser tracing",group:"configuration"}],["EventTarget.waitForEventInfo",{title:'Wait for event "{info.event}"',snapshot:!0}],["BrowserContext.waitForEventInfo",{title:'Wait for event "{info.event}"',snapshot:!0}],["Page.waitForEventInfo",{title:'Wait for event "{info.event}"',snapshot:!0}],["WebSocket.waitForEventInfo",{title:'Wait for event "{info.event}"',snapshot:!0}],["ElectronApplication.waitForEventInfo",{title:'Wait for event "{info.event}"',snapshot:!0}],["AndroidDevice.waitForEventInfo",{title:'Wait for event "{info.event}"',snapshot:!0}],["BrowserContext.addCookies",{title:"Add cookies",group:"configuration"}],["BrowserContext.addInitScript",{title:"Add init script",group:"configuration"}],["BrowserContext.clearCookies",{title:"Clear cookies",group:"configuration"}],["BrowserContext.clearPermissions",{title:"Clear permissions",group:"configuration"}],["BrowserContext.close",{title:"Close context",pausesBeforeAction:!0}],["BrowserContext.cookies",{title:"Get cookies",group:"getter"}],["BrowserContext.exposeBinding",{title:"Expose binding",group:"configuration"}],["BrowserContext.grantPermissions",{title:"Grant permissions",group:"configuration"}],["BrowserContext.newPage",{title:"Create page"}],["BrowserContext.registerSelectorEngine",{internal:!0}],["BrowserContext.setTestIdAttributeName",{internal:!0}],["BrowserContext.setExtraHTTPHeaders",{title:"Set extra HTTP headers",group:"configuration"}],["BrowserContext.setGeolocation",{title:"Set geolocation",group:"configuration"}],["BrowserContext.setHTTPCredentials",{title:"Set HTTP credentials",group:"configuration"}],["BrowserContext.setNetworkInterceptionPatterns",{title:"Route requests",group:"route"}],["BrowserContext.setWebSocketInterceptionPatterns",{title:"Route WebSockets",group:"route"}],["BrowserContext.setOffline",{title:"Set offline mode"}],["BrowserContext.storageState",{title:"Get storage state"}],["BrowserContext.pause",{title:"Pause"}],["BrowserContext.enableRecorder",{internal:!0}],["BrowserContext.disableRecorder",{internal:!0}],["BrowserContext.newCDPSession",{title:"Create CDP session",group:"configuration"}],["BrowserContext.harStart",{internal:!0}],["BrowserContext.harExport",{internal:!0}],["BrowserContext.createTempFiles",{internal:!0}],["BrowserContext.updateSubscription",{internal:!0}],["BrowserContext.clockFastForward",{title:'Fast forward clock "{ticksNumber|ticksString}"'}],["BrowserContext.clockInstall",{title:'Install clock "{timeNumber|timeString}"'}],["BrowserContext.clockPauseAt",{title:'Pause clock "{timeNumber|timeString}"'}],["BrowserContext.clockResume",{title:"Resume clock"}],["BrowserContext.clockRunFor",{title:'Run clock "{ticksNumber|ticksString}"'}],["BrowserContext.clockSetFixedTime",{title:'Set fixed time "{timeNumber|timeString}"'}],["BrowserContext.clockSetSystemTime",{title:'Set system time "{timeNumber|timeString}"'}],["Page.addInitScript",{title:"Add init script",group:"configuration"}],["Page.close",{title:"Close page",pausesBeforeAction:!0}],["Page.consoleMessages",{title:"Get console messages",group:"getter"}],["Page.emulateMedia",{title:"Emulate media",snapshot:!0,pausesBeforeAction:!0}],["Page.exposeBinding",{title:"Expose binding",group:"configuration"}],["Page.goBack",{title:"Go back",slowMo:!0,snapshot:!0,pausesBeforeAction:!0}],["Page.goForward",{title:"Go forward",slowMo:!0,snapshot:!0,pausesBeforeAction:!0}],["Page.requestGC",{title:"Request garbage collection",group:"configuration"}],["Page.registerLocatorHandler",{title:"Register locator handler"}],["Page.resolveLocatorHandlerNoReply",{internal:!0}],["Page.unregisterLocatorHandler",{title:"Unregister locator handler"}],["Page.reload",{title:"Reload",slowMo:!0,snapshot:!0,pausesBeforeAction:!0}],["Page.expectScreenshot",{title:"Expect screenshot",snapshot:!0,pausesBeforeAction:!0}],["Page.screenshot",{title:"Screenshot",snapshot:!0,pausesBeforeAction:!0}],["Page.setExtraHTTPHeaders",{title:"Set extra HTTP headers",group:"configuration"}],["Page.setNetworkInterceptionPatterns",{title:"Route requests",group:"route"}],["Page.setWebSocketInterceptionPatterns",{title:"Route WebSockets",group:"route"}],["Page.setViewportSize",{title:"Set viewport size",snapshot:!0,pausesBeforeAction:!0}],["Page.keyboardDown",{title:'Key down "{key}"',slowMo:!0,snapshot:!0,pausesBeforeAction:!0}],["Page.keyboardUp",{title:'Key up "{key}"',slowMo:!0,snapshot:!0,pausesBeforeAction:!0}],["Page.keyboardInsertText",{title:'Insert "{text}"',slowMo:!0,snapshot:!0,pausesBeforeAction:!0}],["Page.keyboardType",{title:'Type "{text}"',slowMo:!0,snapshot:!0,pausesBeforeAction:!0}],["Page.keyboardPress",{title:'Press "{key}"',slowMo:!0,snapshot:!0,pausesBeforeAction:!0}],["Page.mouseMove",{title:"Mouse move",slowMo:!0,snapshot:!0,pausesBeforeAction:!0}],["Page.mouseDown",{title:"Mouse down",slowMo:!0,snapshot:!0,pausesBeforeAction:!0}],["Page.mouseUp",{title:"Mouse up",slowMo:!0,snapshot:!0,pausesBeforeAction:!0}],["Page.mouseClick",{title:"Click",slowMo:!0,snapshot:!0,pausesBeforeAction:!0}],["Page.mouseWheel",{title:"Mouse wheel",slowMo:!0,snapshot:!0,pausesBeforeAction:!0}],["Page.touchscreenTap",{title:"Tap",slowMo:!0,snapshot:!0,pausesBeforeAction:!0}],["Page.accessibilitySnapshot",{title:"Accessibility snapshot",group:"getter"}],["Page.pageErrors",{title:"Get page errors",group:"getter"}],["Page.pdf",{title:"PDF"}],["Page.requests",{title:"Get network requests",group:"getter"}],["Page.snapshotForAI",{internal:!0}],["Page.startJSCoverage",{title:"Start JS coverage",group:"configuration"}],["Page.stopJSCoverage",{title:"Stop JS coverage",group:"configuration"}],["Page.startCSSCoverage",{title:"Start CSS coverage",group:"configuration"}],["Page.stopCSSCoverage",{title:"Stop CSS coverage",group:"configuration"}],["Page.bringToFront",{title:"Bring to front"}],["Page.updateSubscription",{internal:!0}],["Frame.evalOnSelector",{title:"Evaluate",snapshot:!0,pausesBeforeAction:!0}],["Frame.evalOnSelectorAll",{title:"Evaluate",snapshot:!0,pausesBeforeAction:!0}],["Frame.addScriptTag",{title:"Add script tag",snapshot:!0,pausesBeforeAction:!0}],["Frame.addStyleTag",{title:"Add style tag",snapshot:!0,pausesBeforeAction:!0}],["Frame.ariaSnapshot",{title:"Aria snapshot",snapshot:!0,pausesBeforeAction:!0}],["Frame.blur",{title:"Blur",slowMo:!0,snapshot:!0,pausesBeforeAction:!0}],["Frame.check",{title:"Check",slowMo:!0,snapshot:!0,pausesBeforeInput:!0}],["Frame.click",{title:"Click",slowMo:!0,snapshot:!0,pausesBeforeInput:!0}],["Frame.content",{title:"Get content",snapshot:!0,pausesBeforeAction:!0}],["Frame.dragAndDrop",{title:"Drag and drop",slowMo:!0,snapshot:!0,pausesBeforeInput:!0}],["Frame.dblclick",{title:"Double click",slowMo:!0,snapshot:!0,pausesBeforeInput:!0}],["Frame.dispatchEvent",{title:'Dispatch "{type}"',slowMo:!0,snapshot:!0,pausesBeforeAction:!0}],["Frame.evaluateExpression",{title:"Evaluate",snapshot:!0,pausesBeforeAction:!0}],["Frame.evaluateExpressionHandle",{title:"Evaluate",snapshot:!0,pausesBeforeAction:!0}],["Frame.fill",{title:'Fill "{value}"',slowMo:!0,snapshot:!0,pausesBeforeInput:!0}],["Frame.focus",{title:"Focus",slowMo:!0,snapshot:!0,pausesBeforeAction:!0}],["Frame.frameElement",{title:"Get frame element",group:"getter"}],["Frame.resolveSelector",{internal:!0}],["Frame.highlight",{title:"Highlight element",group:"configuration"}],["Frame.getAttribute",{title:'Get attribute "{name}"',snapshot:!0,pausesBeforeAction:!0,group:"getter"}],["Frame.goto",{title:'Navigate to "{url}"',slowMo:!0,snapshot:!0,pausesBeforeAction:!0}],["Frame.hover",{title:"Hover",slowMo:!0,snapshot:!0,pausesBeforeInput:!0}],["Frame.innerHTML",{title:"Get HTML",snapshot:!0,pausesBeforeAction:!0,group:"getter"}],["Frame.innerText",{title:"Get inner text",snapshot:!0,pausesBeforeAction:!0,group:"getter"}],["Frame.inputValue",{title:"Get input value",snapshot:!0,pausesBeforeAction:!0,group:"getter"}],["Frame.isChecked",{title:"Is checked",snapshot:!0,pausesBeforeAction:!0,group:"getter"}],["Frame.isDisabled",{title:"Is disabled",snapshot:!0,pausesBeforeAction:!0,group:"getter"}],["Frame.isEnabled",{title:"Is enabled",snapshot:!0,pausesBeforeAction:!0,group:"getter"}],["Frame.isHidden",{title:"Is hidden",snapshot:!0,pausesBeforeAction:!0,group:"getter"}],["Frame.isVisible",{title:"Is visible",snapshot:!0,pausesBeforeAction:!0,group:"getter"}],["Frame.isEditable",{title:"Is editable",snapshot:!0,pausesBeforeAction:!0,group:"getter"}],["Frame.press",{title:'Press "{key}"',slowMo:!0,snapshot:!0,pausesBeforeInput:!0}],["Frame.querySelector",{title:"Query selector",snapshot:!0}],["Frame.querySelectorAll",{title:"Query selector all",snapshot:!0}],["Frame.queryCount",{title:"Query count",snapshot:!0,pausesBeforeAction:!0}],["Frame.selectOption",{title:"Select option",slowMo:!0,snapshot:!0,pausesBeforeInput:!0}],["Frame.setContent",{title:"Set content",snapshot:!0,pausesBeforeAction:!0}],["Frame.setInputFiles",{title:"Set input files",slowMo:!0,snapshot:!0,pausesBeforeInput:!0}],["Frame.tap",{title:"Tap",slowMo:!0,snapshot:!0,pausesBeforeInput:!0}],["Frame.textContent",{title:"Get text content",snapshot:!0,pausesBeforeAction:!0,group:"getter"}],["Frame.title",{title:"Get page title",group:"getter"}],["Frame.type",{title:'Type "{text}"',slowMo:!0,snapshot:!0,pausesBeforeInput:!0}],["Frame.uncheck",{title:"Uncheck",slowMo:!0,snapshot:!0,pausesBeforeInput:!0}],["Frame.waitForTimeout",{title:"Wait for timeout",snapshot:!0}],["Frame.waitForFunction",{title:"Wait for function",snapshot:!0,pausesBeforeAction:!0}],["Frame.waitForSelector",{title:"Wait for selector",snapshot:!0}],["Frame.expect",{title:'Expect "{expression}"',snapshot:!0,pausesBeforeAction:!0}],["Worker.evaluateExpression",{title:"Evaluate"}],["Worker.evaluateExpressionHandle",{title:"Evaluate"}],["Worker.updateSubscription",{internal:!0}],["JSHandle.dispose",{internal:!0}],["ElementHandle.dispose",{internal:!0}],["JSHandle.evaluateExpression",{title:"Evaluate",snapshot:!0,pausesBeforeAction:!0}],["ElementHandle.evaluateExpression",{title:"Evaluate",snapshot:!0,pausesBeforeAction:!0}],["JSHandle.evaluateExpressionHandle",{title:"Evaluate",snapshot:!0,pausesBeforeAction:!0}],["ElementHandle.evaluateExpressionHandle",{title:"Evaluate",snapshot:!0,pausesBeforeAction:!0}],["JSHandle.getPropertyList",{title:"Get property list",group:"getter"}],["ElementHandle.getPropertyList",{title:"Get property list",group:"getter"}],["JSHandle.getProperty",{title:"Get JS property",group:"getter"}],["ElementHandle.getProperty",{title:"Get JS property",group:"getter"}],["JSHandle.jsonValue",{title:"Get JSON value",group:"getter"}],["ElementHandle.jsonValue",{title:"Get JSON value",group:"getter"}],["ElementHandle.evalOnSelector",{title:"Evaluate",snapshot:!0,pausesBeforeAction:!0}],["ElementHandle.evalOnSelectorAll",{title:"Evaluate",snapshot:!0,pausesBeforeAction:!0}],["ElementHandle.boundingBox",{title:"Get bounding box",snapshot:!0,pausesBeforeAction:!0}],["ElementHandle.check",{title:"Check",slowMo:!0,snapshot:!0,pausesBeforeInput:!0}],["ElementHandle.click",{title:"Click",slowMo:!0,snapshot:!0,pausesBeforeInput:!0}],["ElementHandle.contentFrame",{title:"Get content frame",group:"getter"}],["ElementHandle.dblclick",{title:"Double click",slowMo:!0,snapshot:!0,pausesBeforeInput:!0}],["ElementHandle.dispatchEvent",{title:"Dispatch event",slowMo:!0,snapshot:!0,pausesBeforeAction:!0}],["ElementHandle.fill",{title:'Fill "{value}"',slowMo:!0,snapshot:!0,pausesBeforeInput:!0}],["ElementHandle.focus",{title:"Focus",slowMo:!0,snapshot:!0,pausesBeforeAction:!0}],["ElementHandle.getAttribute",{title:"Get attribute",snapshot:!0,pausesBeforeAction:!0,group:"getter"}],["ElementHandle.hover",{title:"Hover",slowMo:!0,snapshot:!0,pausesBeforeInput:!0}],["ElementHandle.innerHTML",{title:"Get HTML",snapshot:!0,pausesBeforeAction:!0,group:"getter"}],["ElementHandle.innerText",{title:"Get inner text",snapshot:!0,pausesBeforeAction:!0,group:"getter"}],["ElementHandle.inputValue",{title:"Get input value",snapshot:!0,pausesBeforeAction:!0,group:"getter"}],["ElementHandle.isChecked",{title:"Is checked",snapshot:!0,pausesBeforeAction:!0,group:"getter"}],["ElementHandle.isDisabled",{title:"Is disabled",snapshot:!0,pausesBeforeAction:!0,group:"getter"}],["ElementHandle.isEditable",{title:"Is editable",snapshot:!0,pausesBeforeAction:!0,group:"getter"}],["ElementHandle.isEnabled",{title:"Is enabled",snapshot:!0,pausesBeforeAction:!0,group:"getter"}],["ElementHandle.isHidden",{title:"Is hidden",snapshot:!0,pausesBeforeAction:!0,group:"getter"}],["ElementHandle.isVisible",{title:"Is visible",snapshot:!0,pausesBeforeAction:!0,group:"getter"}],["ElementHandle.ownerFrame",{title:"Get owner frame",group:"getter"}],["ElementHandle.press",{title:'Press "{key}"',slowMo:!0,snapshot:!0,pausesBeforeInput:!0}],["ElementHandle.querySelector",{title:"Query selector",snapshot:!0}],["ElementHandle.querySelectorAll",{title:"Query selector all",snapshot:!0}],["ElementHandle.screenshot",{title:"Screenshot",snapshot:!0,pausesBeforeAction:!0}],["ElementHandle.scrollIntoViewIfNeeded",{title:"Scroll into view",slowMo:!0,snapshot:!0,pausesBeforeAction:!0}],["ElementHandle.selectOption",{title:"Select option",slowMo:!0,snapshot:!0,pausesBeforeInput:!0}],["ElementHandle.selectText",{title:"Select text",slowMo:!0,snapshot:!0,pausesBeforeAction:!0}],["ElementHandle.setInputFiles",{title:"Set input files",slowMo:!0,snapshot:!0,pausesBeforeInput:!0}],["ElementHandle.tap",{title:"Tap",slowMo:!0,snapshot:!0,pausesBeforeInput:!0}],["ElementHandle.textContent",{title:"Get text content",snapshot:!0,pausesBeforeAction:!0,group:"getter"}],["ElementHandle.type",{title:"Type",slowMo:!0,snapshot:!0,pausesBeforeInput:!0}],["ElementHandle.uncheck",{title:"Uncheck",slowMo:!0,snapshot:!0,pausesBeforeInput:!0}],["ElementHandle.waitForElementState",{title:"Wait for state",snapshot:!0,pausesBeforeAction:!0}],["ElementHandle.waitForSelector",{title:"Wait for selector",snapshot:!0}],["Request.response",{internal:!0}],["Request.rawRequestHeaders",{internal:!0}],["Route.redirectNavigationRequest",{internal:!0}],["Route.abort",{title:"Abort request",group:"route"}],["Route.continue",{title:"Continue request",group:"route"}],["Route.fulfill",{title:"Fulfill request",group:"route"}],["WebSocketRoute.connect",{title:"Connect WebSocket to server",group:"route"}],["WebSocketRoute.ensureOpened",{internal:!0}],["WebSocketRoute.sendToPage",{title:"Send WebSocket message",group:"route"}],["WebSocketRoute.sendToServer",{title:"Send WebSocket message",group:"route"}],["WebSocketRoute.closePage",{internal:!0}],["WebSocketRoute.closeServer",{internal:!0}],["Response.body",{title:"Get response body",group:"getter"}],["Response.securityDetails",{internal:!0}],["Response.serverAddr",{internal:!0}],["Response.rawResponseHeaders",{internal:!0}],["Response.sizes",{internal:!0}],["BindingCall.reject",{internal:!0}],["BindingCall.resolve",{internal:!0}],["Dialog.accept",{title:"Accept dialog"}],["Dialog.dismiss",{title:"Dismiss dialog"}],["Tracing.tracingStart",{title:"Start tracing",group:"configuration"}],["Tracing.tracingStartChunk",{title:"Start tracing",group:"configuration"}],["Tracing.tracingGroup",{title:'Trace "{name}"'}],["Tracing.tracingGroupEnd",{title:"Group end"}],["Tracing.tracingStopChunk",{title:"Stop tracing",group:"configuration"}],["Tracing.tracingStop",{title:"Stop tracing",group:"configuration"}],["Artifact.pathAfterFinished",{internal:!0}],["Artifact.saveAs",{internal:!0}],["Artifact.saveAsStream",{internal:!0}],["Artifact.failure",{internal:!0}],["Artifact.stream",{internal:!0}],["Artifact.cancel",{internal:!0}],["Artifact.delete",{internal:!0}],["Stream.read",{internal:!0}],["Stream.close",{internal:!0}],["WritableStream.write",{internal:!0}],["WritableStream.close",{internal:!0}],["CDPSession.send",{title:"Send CDP command",group:"configuration"}],["CDPSession.detach",{title:"Detach CDP session",group:"configuration"}],["Electron.launch",{title:"Launch electron"}],["ElectronApplication.browserWindow",{internal:!0}],["ElectronApplication.evaluateExpression",{title:"Evaluate"}],["ElectronApplication.evaluateExpressionHandle",{title:"Evaluate"}],["ElectronApplication.updateSubscription",{internal:!0}],["Android.devices",{internal:!0}],["AndroidSocket.write",{internal:!0}],["AndroidSocket.close",{internal:!0}],["AndroidDevice.wait",{title:"Wait"}],["AndroidDevice.fill",{title:'Fill "{text}"'}],["AndroidDevice.tap",{title:"Tap"}],["AndroidDevice.drag",{title:"Drag"}],["AndroidDevice.fling",{title:"Fling"}],["AndroidDevice.longTap",{title:"Long tap"}],["AndroidDevice.pinchClose",{title:"Pinch close"}],["AndroidDevice.pinchOpen",{title:"Pinch open"}],["AndroidDevice.scroll",{title:"Scroll"}],["AndroidDevice.swipe",{title:"Swipe"}],["AndroidDevice.info",{internal:!0}],["AndroidDevice.screenshot",{title:"Screenshot"}],["AndroidDevice.inputType",{title:"Type"}],["AndroidDevice.inputPress",{title:"Press"}],["AndroidDevice.inputTap",{title:"Tap"}],["AndroidDevice.inputSwipe",{title:"Swipe"}],["AndroidDevice.inputDrag",{title:"Drag"}],["AndroidDevice.launchBrowser",{title:"Launch browser"}],["AndroidDevice.open",{title:"Open app"}],["AndroidDevice.shell",{title:"Execute shell command",group:"configuration"}],["AndroidDevice.installApk",{title:"Install apk"}],["AndroidDevice.push",{title:"Push"}],["AndroidDevice.connectToWebView",{title:"Connect to Web View"}],["AndroidDevice.close",{internal:!0}],["JsonPipe.send",{internal:!0}],["JsonPipe.close",{internal:!0}]])},"./node_modules/playwright-core/lib/utils/isomorphic/rtti.js":(e,t,n)=>{"use strict";var r,o=Object.defineProperty,i=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,l={};((e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})})(l,{isError:()=>h,isObject:()=>d,isRegExp:()=>u,isString:()=>c.isString}),e.exports=(r=l,((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let n of s(t))a.call(e,n)||undefined===n||o(e,n,{get:()=>t[n],enumerable:!(r=i(t,n))||r.enumerable});return e})(o({},"__esModule",{value:!0}),r));var c=n("./node_modules/playwright-core/lib/utils/isomorphic/stringUtils.js");function u(e){return e instanceof RegExp||"[object RegExp]"===Object.prototype.toString.call(e)}function d(e){return"object"==typeof e&&null!==e}function h(e){return e instanceof Error||e&&"Error"===Object.getPrototypeOf(e)?.name}},"./node_modules/playwright-core/lib/utils/isomorphic/selectorParser.js":(e,t,n)=>{"use strict";var r,o=Object.defineProperty,i=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,l={};((e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})})(l,{InvalidSelectorError:()=>u.InvalidSelectorError,customCSSNames:()=>p,isInvalidSelectorError:()=>u.isInvalidSelectorError,parseAttributeSelector:()=>y,parseSelector:()=>f,splitSelectorByFrame:()=>m,stringifySelector:()=>b,visitAllSelectorParts:()=>w}),e.exports=(r=l,((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let n of s(t))a.call(e,n)||undefined===n||o(e,n,{get:()=>t[n],enumerable:!(r=i(t,n))||r.enumerable});return e})(o({},"__esModule",{value:!0}),r));var c=n("./node_modules/playwright-core/lib/utils/isomorphic/cssParser.js"),u=n("./node_modules/playwright-core/lib/utils/isomorphic/cssParser.js");const d=new Set(["internal:has","internal:has-not","internal:and","internal:or","internal:chain","left-of","right-of","above","below","near"]),h=new Set(["left-of","right-of","above","below","near"]),p=new Set(["not","is","where","has","scope","light","visible","text","text-matches","text-is","has-text","above","below","right-of","left-of","near","nth-match"]);function f(e){const t=function(e){let t,n=0,r=0;const o={parts:[]},i=()=>{const t=e.substring(r,n).trim(),i=t.indexOf("=");let s,a;-1!==i&&t.substring(0,i).trim().match(/^[a-zA-Z_0-9-+:*]+$/)?(s=t.substring(0,i).trim(),a=t.substring(i+1)):t.length>1&&'"'===t[0]&&'"'===t[t.length-1]||t.length>1&&"'"===t[0]&&"'"===t[t.length-1]?(s="text",a=t):/^\(*\/\//.test(t)||t.startsWith("..")?(s="xpath",a=t):(s="css",a=t);let l=!1;if("*"===s[0]&&(l=!0,s=s.substring(1)),o.parts.push({name:s,body:a}),l){if(void 0!==o.capture)throw new c.InvalidSelectorError("Only one of the selectors can capture using * modifier");o.capture=o.parts.length-1}};if(!e.includes(">>"))return n=e.length,i(),o;const s=()=>{const t=e.substring(r,n).match(/^\s*text\s*=(.*)$/);return!!t&&!!t[1]};for(;n<e.length;){const o=e[n];"\\"===o&&n+1<e.length?n+=2:o===t?(t=void 0,n++):t||'"'!==o&&"'"!==o&&"`"!==o||s()?t||">"!==o||">"!==e[n+1]?n++:(i(),n+=2,r=n):(t=o,n++)}return i(),o}(e),n=[];for(const e of t.parts){if("css"===e.name||"css:light"===e.name){"css:light"===e.name&&(e.body=":light("+e.body+")");const t=(0,c.parseCSS)(e.body,p);n.push({name:"css",body:t.selector,source:e.body});continue}if(d.has(e.name)){let t,r;try{const n=JSON.parse("["+e.body+"]");if(!Array.isArray(n)||n.length<1||n.length>2||"string"!=typeof n[0])throw new c.InvalidSelectorError(`Malformed selector: ${e.name}=`+e.body);if(t=n[0],2===n.length){if("number"!=typeof n[1]||!h.has(e.name))throw new c.InvalidSelectorError(`Malformed selector: ${e.name}=`+e.body);r=n[1]}}catch(t){throw new c.InvalidSelectorError(`Malformed selector: ${e.name}=`+e.body)}const o={name:e.name,source:e.body,body:{parsed:f(t),distance:r}},i=[...o.body.parsed.parts].reverse().find(e=>"internal:control"===e.name&&"enter-frame"===e.body),s=i?o.body.parsed.parts.indexOf(i):-1;-1!==s&&g(o.body.parsed.parts.slice(0,s+1),n.slice(0,s+1))&&o.body.parsed.parts.splice(0,s+1),n.push(o);continue}n.push({...e,source:e.body})}if(d.has(n[0].name))throw new c.InvalidSelectorError(`"${n[0].name}" selector cannot be first`);return{capture:t.capture,parts:n}}function m(e){const t=f(e),n=[];let r={parts:[]},o=0;for(let e=0;e<t.parts.length;++e){const i=t.parts[e];if("internal:control"!==i.name||"enter-frame"!==i.body)t.capture===e&&(r.capture=e-o),r.parts.push(i);else{if(!r.parts.length)throw new c.InvalidSelectorError("Selector cannot start with entering frame, select the iframe first");n.push(r),r={parts:[]},o=e+1}}if(!r.parts.length)throw new c.InvalidSelectorError(`Selector cannot end with entering frame, while parsing selector ${e}`);if(n.push(r),"number"==typeof t.capture&&"number"!=typeof n[n.length-1].capture)throw new c.InvalidSelectorError("Can not capture the selector before diving into the frame. Only use * after the last frame has been selected");return n}function g(e,t){return b({parts:e})===b({parts:t})}function b(e,t){return"string"==typeof e?e:e.parts.map((n,r)=>{let o=!0;t||r===e.capture||("css"===n.name||"xpath"===n.name&&n.source.startsWith("//")||n.source.startsWith(".."))&&(o=!1);const i=o?n.name+"=":"";return`${r===e.capture?"*":""}${i}${n.source}`}).join(" >> ")}function w(e,t){const n=(e,r)=>{for(const o of e.parts)t(o,r),d.has(o.name)&&n(o.body.parsed,!0)};n(e,!1)}function y(e,t){let n=0,r=0===e.length;const o=()=>e[n]||"",i=()=>{const t=o();return++n,r=n>=e.length,t},s=t=>{if(r)throw new c.InvalidSelectorError(`Unexpected end of selector while parsing selector \`${e}\``);throw new c.InvalidSelectorError(`Error while parsing selector \`${e}\` - unexpected symbol "${o()}" at position ${n}`+(t?" during "+t:""))};function a(){for(;!r&&/\s/.test(o());)i()}function l(e){return e>=""||e>="0"&&e<="9"||e>="A"&&e<="Z"||e>="a"&&e<="z"||e>="0"&&e<="9"||"_"===e||"-"===e}function u(){let e="";for(a();!r&&l(o());)e+=i();return e}function d(e){let t=i();for(t!==e&&s("parsing quoted string");!r&&o()!==e;)"\\"===o()&&i(),t+=i();return o()!==e&&s("parsing quoted string"),t+=i(),t}function h(){let e="";return a(),e="'"===o()||'"'===o()?d(o()).slice(1,-1):u(),e||s("parsing property path"),e}function p(){i();const n=[];for(n.push(h()),a();"."===o();)i(),n.push(h()),a();if("]"===o())return i(),{name:n.join("."),jsonPath:n,op:"<truthy>",value:null,caseSensitive:!1};const u=function(){a();let e="";return r||(e+=i()),r||"="===e||(e+=i()),["=","*=","^=","$=","|=","~="].includes(e)||s("parsing operator"),e}();let p,f=!0;if(a(),"/"===o()){if("="!==u)throw new c.InvalidSelectorError(`Error while parsing selector \`${e}\` - cannot use ${u} in attribute with regular expression`);p=function(){"/"!==i()&&s("parsing regular expression");let t="",n=!1;for(;!r;){if("\\"===o())t+=i(),r&&s("parsing regular expression");else if(n&&"]"===o())n=!1;else if(n||"["!==o()){if(!n&&"/"===o())break}else n=!0;t+=i()}"/"!==i()&&s("parsing regular expression");let a="";for(;!r&&o().match(/[dgimsuy]/);)a+=i();try{return new RegExp(t,a)}catch(t){throw new c.InvalidSelectorError(`Error while parsing selector \`${e}\`: ${t.message}`)}}()}else if("'"===o()||'"'===o())p=d(o()).slice(1,-1),a(),"i"===o()||"I"===o()?(f=!1,i()):"s"!==o()&&"S"!==o()||(f=!0,i());else{for(p="";!r&&(l(o())||"+"===o()||"."===o());)p+=i();"true"===p?p=!0:"false"===p?p=!1:t||(p=+p,Number.isNaN(p)&&s("parsing attribute value"))}if(a(),"]"!==o()&&s("parsing attribute value"),i(),"="!==u&&"string"!=typeof p)throw new c.InvalidSelectorError(`Error while parsing selector \`${e}\` - cannot use ${u} in attribute with non-string matching value - ${p}`);return{name:n.join("."),jsonPath:n,op:u,value:p,caseSensitive:f}}const f={name:"",attributes:[]};for(f.name=u(),a();"["===o();)f.attributes.push(p()),a();if(r||s(void 0),!f.name&&!f.attributes.length)throw new c.InvalidSelectorError(`Error while parsing selector \`${e}\` - selector cannot be empty`);return f}},"./node_modules/playwright-core/lib/utils/isomorphic/semaphore.js":(e,t,n)=>{"use strict";var r,o=Object.defineProperty,i=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,l={};((e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})})(l,{Semaphore:()=>u}),e.exports=(r=l,((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let n of s(t))a.call(e,n)||undefined===n||o(e,n,{get:()=>t[n],enumerable:!(r=i(t,n))||r.enumerable});return e})(o({},"__esModule",{value:!0}),r));var c=n("./node_modules/playwright-core/lib/utils/isomorphic/manualPromise.js");class u{constructor(e){this._acquired=0,this._queue=[],this._max=e}setMax(e){this._max=e}acquire(){const e=new c.ManualPromise;return this._queue.push(e),this._flush(),e}release(){--this._acquired,this._flush()}_flush(){for(;this._acquired<this._max&&this._queue.length;)++this._acquired,this._queue.shift().resolve()}}},"./node_modules/playwright-core/lib/utils/isomorphic/stackTrace.js":e=>{"use strict";var t,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,i=Object.prototype.hasOwnProperty,s={};function a(){const e=Error.stackTraceLimit;Error.stackTraceLimit=50;const t=(new Error).stack||"";return Error.stackTraceLimit=e,t.split("\n")}function l(e,t,n){const r=e&&e.match(f);if(!r)return null;let o=r[2],i=r[7];if(!i)return null;if(!n&&(i.startsWith("internal")||i.startsWith("node:")))return null;const s=r[8],a=r[9],l=")"===r[11],c={file:"",line:0,column:0};if(s&&(c.line=Number(s)),a&&(c.column=Number(a)),l&&i){let e=0;for(let t=i.length-1;t>0;t--)if(")"===i.charAt(t))e++;else if("("===i.charAt(t)&&" "===i.charAt(t-1)&&(e--,-1===e&&" "===i.charAt(t-1))){const e=i.slice(0,t-1),n=i.slice(t+1);i=n,o+=` (${e}`;break}}if(o){const e=o.match(m);e&&(o=e[1])}return i&&(i.startsWith("file://")&&(i=function(e,t){if(!e.startsWith("file://"))return e;let n=decodeURIComponent(e.slice(7));return n.startsWith("/")&&/^[a-zA-Z]:/.test(n.slice(1))&&(n=n.slice(1)),n.replace(/\//g,t)}(i,t)),c.file=i),o&&(c.function=o),c}function c(e,t){const n=(e.stack?.split("\n")||[]).filter(e=>e.startsWith("    at "));e.message=t;const r=`${e.name}: ${e.message}`;return n.length&&(e.stack=`${r}\n${n.join("\n")}`),e}function u(e){const t=[];for(const n of e)n.function?t.push(`    at ${n.function} (${n.file}:${n.line}:${n.column})`):t.push(`    at ${n.file}:${n.line}:${n.column}`);return t}function d(e){const t=e.indexOf(":");return{name:-1!==t?e.slice(0,t):"",message:-1!==t&&t+2<=e.length?e.substring(t+2):e}}function h(e,t,n=!1){const r=e.split("\n");let o=r.findIndex(e=>e.startsWith("    at "));-1===o&&(o=r.length);const i=r.slice(0,o).join("\n"),s=r.slice(o);let a;for(const e of s){const r=l(e,t,n);if(r&&r.file&&!p(r.file,t)){a={file:r.file,column:r.column||0,line:r.line||0};break}}return{message:i,stackLines:s,location:a}}function p(e,t){return e.includes(`${t}node_modules${t}`)}((e,t)=>{for(var r in t)n(e,r,{get:t[r],enumerable:!0})})(s,{captureRawStack:()=>a,parseErrorStack:()=>h,parseStackFrame:()=>l,rewriteErrorMessage:()=>c,splitErrorMessage:()=>d,stringifyStackFrames:()=>u}),e.exports=(t=s,((e,t,s,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let s of o(t))i.call(e,s)||undefined===s||n(e,s,{get:()=>t[s],enumerable:!(a=r(t,s))||a.enumerable});return e})(n({},"__esModule",{value:!0}),t));const f=new RegExp("^(?:\\s*at )?(?:(new) )?(?:(.*?) \\()?(?:eval at ([^ ]+) \\((.+?):(\\d+):(\\d+)\\), )?(?:(.+?):(\\d+):(\\d+)|(native))(\\)?)$"),m=/^(.*?) \[as (.*?)\]$/},"./node_modules/playwright-core/lib/utils/isomorphic/stringUtils.js":e=>{"use strict";var t,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,i=Object.prototype.hasOwnProperty,s={};function a(e,t="'"){const n=JSON.stringify(e),r=n.substring(1,n.length-1).replace(/\\"/g,'"');if("'"===t)return t+r.replace(/[']/g,"\\'")+t;if('"'===t)return t+r.replace(/["]/g,'\\"')+t;if("`"===t)return t+r.replace(/[`]/g,"\\`")+t;throw new Error("Invalid escape char")}function l(e){return e.replace(/\\/g,"\\\\").replace(/`/g,"\\`").replace(/\$\{/g,"\\${")}function c(e){return"string"==typeof e||e instanceof String}function u(e){return e.charAt(0).toUpperCase()+e.substring(1)}function d(e){return e.replace(/([a-z0-9])([A-Z])/g,"$1_$2").replace(/([A-Z])([A-Z][a-z])/g,"$1_$2").toLowerCase()}function h(e){return`"${e.replace(/["\\]/g,e=>"\\"+e)}"`}let p;function f(){p=new Map}function m(e){let t=p?.get(e);return void 0===t&&(t=e.replace(/[\u200b\u00ad]/g,"").trim().replace(/\s+/g," "),p?.set(e,t)),t}function g(e){return e.replace(/(^|[^\\])(\\\\)*\\(['"`])/g,"$1$2$3")}function b(e){return e.unicode||e.unicodeSets?String(e):String(e).replace(/(^|[^\\])(\\\\)*(["'`])/g,"$1$2\\$3").replace(/>>/g,"\\>\\>")}function w(e,t){return"string"!=typeof e?b(e):`${JSON.stringify(e)}${t?"s":"i"}`}function y(e,t){return"string"!=typeof e?b(e):`"${e.replace(/\\/g,"\\\\").replace(/["]/g,'\\"')}"${t?"s":"i"}`}function v(e,t,n=""){if(e.length<=t)return e;const r=[...e];return r.length>t?r.slice(0,t-n.length).join("")+n:r.join("")}function A(e,t){return v(e,t,"")}function _(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}((e,t)=>{for(var r in t)n(e,r,{get:t[r],enumerable:!0})})(s,{cacheNormalizedWhitespaces:()=>f,escapeForAttributeSelector:()=>y,escapeForTextSelector:()=>w,escapeHTML:()=>E,escapeHTMLAttribute:()=>S,escapeRegExp:()=>_,escapeTemplateString:()=>l,escapeWithQuotes:()=>a,isString:()=>c,longestCommonSubstring:()=>C,normalizeEscapedRegexQuotes:()=>g,normalizeWhiteSpace:()=>m,quoteCSSAttributeValue:()=>h,toSnakeCase:()=>d,toTitleCase:()=>u,trimString:()=>v,trimStringWithEllipsis:()=>A}),e.exports=(t=s,((e,t,s,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let s of o(t))i.call(e,s)||undefined===s||n(e,s,{get:()=>t[s],enumerable:!(a=r(t,s))||a.enumerable});return e})(n({},"__esModule",{value:!0}),t));const x={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function S(e){return e.replace(/[&<>"']/gu,e=>x[e])}function E(e){return e.replace(/[&<]/gu,e=>x[e])}function C(e,t){const n=e.length,r=t.length;let o=0,i=0;const s=Array(n+1).fill(null).map(()=>Array(r+1).fill(0));for(let a=1;a<=n;a++)for(let n=1;n<=r;n++)e[a-1]===t[n-1]&&(s[a][n]=s[a-1][n-1]+1,s[a][n]>o&&(o=s[a][n],i=a));return e.slice(i-o,i)}},"./node_modules/playwright-core/lib/utils/isomorphic/time.js":e=>{"use strict";var t,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,i=Object.prototype.hasOwnProperty,s={};((e,t)=>{for(var r in t)n(e,r,{get:t[r],enumerable:!0})})(s,{DEFAULT_PLAYWRIGHT_LAUNCH_TIMEOUT:()=>p,DEFAULT_PLAYWRIGHT_TIMEOUT:()=>h,monotonicTime:()=>d,setTimeOrigin:()=>c,timeOrigin:()=>u}),e.exports=(t=s,((e,t,s,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let s of o(t))i.call(e,s)||undefined===s||n(e,s,{get:()=>t[s],enumerable:!(a=r(t,s))||a.enumerable});return e})(n({},"__esModule",{value:!0}),t));let a=performance.timeOrigin,l=0;function c(e){a=e,l=performance.timeOrigin-e}function u(){return a}function d(){return Math.floor(1e3*(performance.now()+l))/1e3}const h=3e4,p=18e4},"./node_modules/playwright-core/lib/utils/isomorphic/timeoutRunner.js":(e,t,n)=>{"use strict";var r,o=Object.defineProperty,i=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,l={};((e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})})(l,{pollAgainstDeadline:()=>d,raceAgainstDeadline:()=>u}),e.exports=(r=l,((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let n of s(t))a.call(e,n)||undefined===n||o(e,n,{get:()=>t[n],enumerable:!(r=i(t,n))||r.enumerable});return e})(o({},"__esModule",{value:!0}),r));var c=n("./node_modules/playwright-core/lib/utils/isomorphic/time.js");async function u(e,t){let n;return Promise.race([e().then(e=>({result:e,timedOut:!1})),new Promise(e=>{const r=(t||2147483647)-(0,c.monotonicTime)();n=setTimeout(()=>e({timedOut:!0}),r)})]).finally(()=>{clearTimeout(n)})}async function d(e,t,n=[100,250,500,1e3]){const r=n.pop()??1e3;let o;const i=()=>Promise.resolve().then(e);for(;;){const e=(0,c.monotonicTime)();if(t&&e>=t)break;const s=await u(i,t);if(s.timedOut)break;if(o=s.result.result,!s.result.continuePolling)return{result:o,timedOut:!1};const a=n.shift()??r;if(t&&t<=(0,c.monotonicTime)()+a)break;await new Promise(e=>setTimeout(e,a))}return{timedOut:!0,result:o}}},"./node_modules/playwright-core/lib/utils/isomorphic/traceUtils.js":e=>{"use strict";var t,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,i=Object.prototype.hasOwnProperty,s={};function a(e){const t=new Map,{files:n,stacks:r}=e;for(const e of r){const[r,o]=e;t.set(`call@${r}`,o.map(e=>({file:n[e[0]],line:e[1],column:e[2],function:e[3]})))}return t}function l(e){const t=new Map,n=[];for(const r of e){if(!r.stack||!r.stack.length)continue;const e=[];for(const n of r.stack){let r=t.get(n.file);"number"!=typeof r&&(r=t.size,t.set(n.file,r));const o=[r,n.line||0,n.column||0,n.function||""];e.push(o)}n.push([r.id,e])}return{files:[...t.keys()],stacks:n}}((e,t)=>{for(var r in t)n(e,r,{get:t[r],enumerable:!0})})(s,{parseClientSideCallMetadata:()=>a,serializeClientSideCallMetadata:()=>l}),e.exports=(t=s,((e,t,s,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let s of o(t))i.call(e,s)||undefined===s||n(e,s,{get:()=>t[s],enumerable:!(a=r(t,s))||a.enumerable});return e})(n({},"__esModule",{value:!0}),t))},"./node_modules/playwright-core/lib/utils/isomorphic/urlMatch.js":(e,t,n)=>{"use strict";var r,o=Object.defineProperty,i=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,l={};((e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})})(l,{constructURLBasedOnBaseURL:()=>g,globToRegexPattern:()=>d,resolveGlobToRegexPattern:()=>m,urlMatches:()=>f,urlMatchesEqual:()=>p}),e.exports=(r=l,((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let n of s(t))a.call(e,n)||undefined===n||o(e,n,{get:()=>t[n],enumerable:!(r=i(t,n))||r.enumerable});return e})(o({},"__esModule",{value:!0}),r));var c=n("./node_modules/playwright-core/lib/utils/isomorphic/stringUtils.js");const u=new Set(["$","^","+",".","*","(",")","|","\\","?","{","}","[","]"]);function d(e){const t=["^"];let n=!1;for(let r=0;r<e.length;++r){const o=e[r];if("\\"===o&&r+1<e.length){const n=e[++r];t.push(u.has(n)?"\\"+n:n);continue}if("*"===o){let n=1;for(;"*"===e[r+1];)n++,r++;n>1?t.push("(.*)"):t.push("([^/]*)");continue}switch(o){case"{":n=!0,t.push("(");break;case"}":n=!1,t.push(")");break;case",":if(n){t.push("|");break}t.push("\\"+o);break;default:t.push(u.has(o)?"\\"+o:o)}}return t.push("$"),t.join("")}function h(e){return e instanceof RegExp||"[object RegExp]"===Object.prototype.toString.call(e)}function p(e,t){return h(e)&&h(t)?e.source===t.source&&e.flags===t.flags:e===t}function f(e,t,n,r){if(void 0===n||""===n)return!0;if((0,c.isString)(n)&&(n=new RegExp(m(e,n,r))),h(n))return n.test(t);const o=function(e){try{return new URL(e)}catch(e){return null}}(t);if(!o)return!1;if("function"!=typeof n)throw new Error("url parameter should be string, RegExp or function");return n(o)}function m(e,t,n){return n&&(e=function(e){return e&&/^https?:\/\//.test(e)&&(e=e.replace(/^http/,"ws")),e}(e)),t=function(e,t){if(!t.startsWith("*")){let n=function(e,t){return 0===e.length?"":(r.set(t,e),t)};const r=new Map;if((t=t.replaceAll(/\\\\\?/g,"?")).startsWith("about:")||t.startsWith("data:")||t.startsWith("chrome:")||t.startsWith("edge:")||t.startsWith("file:"))return t;const o=b(e,t.split("/").map((e,t)=>{if("."===e||".."===e||""===e)return e;if(0===t&&e.endsWith(":"))return n(e,"http:");const r=e.indexOf("?");return-1===r?n(e,`$_${t}_$`):n(e.substring(0,r),`$_${t}_$`)+n(e.substring(r),`?$_${t}_$`)}).join("/"));let i=o.resolved;for(const[e,t]of r){const n=o.caseInsensitivePart?.includes(e);i=i.replace(e,n?t.toLowerCase():t)}t=i}return t}(e,t),d(t)}function g(e,t){try{return b(e,t).resolved}catch(e){return t}}function b(e,t){try{const n=new URL(t,e);return{resolved:n.toString(),caseInsensitivePart:n.origin}}catch(e){return{resolved:t}}}},"./node_modules/playwright-core/lib/utils/isomorphic/utilityScriptSerializers.js":e=>{"use strict";var t,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,i=Object.prototype.hasOwnProperty,s={};function a(e,t){try{return e instanceof t||Object.prototype.toString.call(e)===`[object ${t.name}]`}catch(e){return!1}}((e,t)=>{for(var r in t)n(e,r,{get:t[r],enumerable:!0})})(s,{parseEvaluationResultValue:()=>u,serializeAsCallArgument:()=>d}),e.exports=(t=s,((e,t,s,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let s of o(t))i.call(e,s)||undefined===s||n(e,s,{get:()=>t[s],enumerable:!(a=r(t,s))||a.enumerable});return e})(n({},"__esModule",{value:!0}),t));const l={i8:Int8Array,ui8:Uint8Array,ui8c:Uint8ClampedArray,i16:Int16Array,ui16:Uint16Array,i32:Int32Array,ui32:Uint32Array,f32:Float32Array,f64:Float64Array,bi64:BigInt64Array,bui64:BigUint64Array};function c(e){if("toBase64"in e)return e.toBase64();const t=Array.from(new Uint8Array(e.buffer,e.byteOffset,e.byteLength)).map(e=>String.fromCharCode(e)).join("");return btoa(t)}function u(e,t=[],n=new Map){if(!Object.is(e,void 0)){if("object"==typeof e&&e){if("ref"in e)return n.get(e.ref);if("v"in e){if("undefined"===e.v)return;return"null"===e.v?null:"NaN"===e.v?NaN:"Infinity"===e.v?1/0:"-Infinity"===e.v?-1/0:"-0"===e.v?-0:void 0}if("d"in e)return new Date(e.d);if("u"in e)return new URL(e.u);if("bi"in e)return BigInt(e.bi);if("e"in e){const t=new Error(e.e.m);return t.name=e.e.n,t.stack=e.e.s,t}if("r"in e)return new RegExp(e.r.p,e.r.f);if("a"in e){const r=[];n.set(e.id,r);for(const o of e.a)r.push(u(o,t,n));return r}if("o"in e){const r={};n.set(e.id,r);for(const{k:o,v:i}of e.o)"__proto__"!==o&&(r[o]=u(i,t,n));return r}if("h"in e)return t[e.h];if("ta"in e)return function(e,t){const n=atob(e),r=new Uint8Array(n.length);for(let e=0;e<n.length;e++)r[e]=n.charCodeAt(e);return new t(r.buffer)}(e.ta.b,l[e.ta.k])}return e}}function d(e,t){return h(e,t,{visited:new Map,lastId:0})}function h(e,t,n){if(e&&"object"==typeof e){if("function"==typeof globalThis.Window&&e instanceof globalThis.Window)return"ref: <Window>";if("function"==typeof globalThis.Document&&e instanceof globalThis.Document)return"ref: <Document>";if("function"==typeof globalThis.Node&&e instanceof globalThis.Node)return"ref: <Node>"}return p(e,t,n)}function p(e,t,n){const r=t(e);if(!("fallThrough"in r))return r;if("symbol"==typeof(e=r.fallThrough))return{v:"undefined"};if(Object.is(e,void 0))return{v:"undefined"};if(Object.is(e,null))return{v:"null"};if(Object.is(e,NaN))return{v:"NaN"};if(Object.is(e,1/0))return{v:"Infinity"};if(Object.is(e,-1/0))return{v:"-Infinity"};if(Object.is(e,-0))return{v:"-0"};if("boolean"==typeof e)return e;if("number"==typeof e)return e;if("string"==typeof e)return e;if("bigint"==typeof e)return{bi:e.toString()};if(function(e){try{return e instanceof Error||e&&"Error"===Object.getPrototypeOf(e)?.name}catch(e){return!1}}(e)){let t;return t=e.stack?.startsWith(e.name+": "+e.message)?e.stack:`${e.name}: ${e.message}\n${e.stack}`,{e:{n:e.name,m:e.message,s:t}}}if(function(e){try{return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}catch(e){return!1}}(e))return{d:e.toJSON()};if(function(e){try{return e instanceof URL||"[object URL]"===Object.prototype.toString.call(e)}catch(e){return!1}}(e))return{u:e.toJSON()};if(function(e){try{return e instanceof RegExp||"[object RegExp]"===Object.prototype.toString.call(e)}catch(e){return!1}}(e))return{r:{p:e.source,f:e.flags}};for(const[t,n]of Object.entries(l))if(a(e,n))return{ta:{b:c(e),k:t}};const o=n.visited.get(e);if(o)return{ref:o};if(Array.isArray(e)){const r=[],o=++n.lastId;n.visited.set(e,o);for(let o=0;o<e.length;++o)r.push(h(e[o],t,n));return{a:r,id:o}}if("object"==typeof e){const r=[],o=++n.lastId;n.visited.set(e,o);for(const o of Object.keys(e)){let i;try{i=e[o]}catch(e){continue}"toJSON"===o&&"function"==typeof i?r.push({k:o,v:{o:[],id:0}}):r.push({k:o,v:h(i,t,n)})}let i;try{0===r.length&&e.toJSON&&"function"==typeof e.toJSON&&(i={value:e.toJSON()})}catch(e){}return i?p(i.value,t,n):{o:r,id:o}}}},"./node_modules/playwright-core/lib/utilsBundle.js":(e,t,n)=>{"use strict";var r,o=Object.defineProperty,i=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,l={};((e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})})(l,{HttpsProxyAgent:()=>f,PNG:()=>v,ProgramOption:()=>_,SocksProxyAgent:()=>S,colors:()=>c,debug:()=>u,diff:()=>d,dotenv:()=>h,getProxyForUrl:()=>p,jpegjs:()=>m,lockfile:()=>g,mime:()=>b,minimatch:()=>w,ms:()=>I,open:()=>y,program:()=>A,progress:()=>x,ws:()=>C,wsReceiver:()=>O,wsSender:()=>T,wsServer:()=>k,yaml:()=>E}),e.exports=(r=l,((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let n of s(t))a.call(e,n)||undefined===n||o(e,n,{get:()=>t[n],enumerable:!(r=i(t,n))||r.enumerable});return e})(o({},"__esModule",{value:!0}),r));const c=n("./node_modules/playwright-core/lib/utilsBundleImpl/index.js").colors,u=n("./node_modules/playwright-core/lib/utilsBundleImpl/index.js").debug,d=n("./node_modules/playwright-core/lib/utilsBundleImpl/index.js").diff,h=n("./node_modules/playwright-core/lib/utilsBundleImpl/index.js").dotenv,p=n("./node_modules/playwright-core/lib/utilsBundleImpl/index.js").getProxyForUrl,f=n("./node_modules/playwright-core/lib/utilsBundleImpl/index.js").HttpsProxyAgent,m=n("./node_modules/playwright-core/lib/utilsBundleImpl/index.js").jpegjs,g=n("./node_modules/playwright-core/lib/utilsBundleImpl/index.js").lockfile,b=n("./node_modules/playwright-core/lib/utilsBundleImpl/index.js").mime,w=n("./node_modules/playwright-core/lib/utilsBundleImpl/index.js").minimatch,y=n("./node_modules/playwright-core/lib/utilsBundleImpl/index.js").open,v=n("./node_modules/playwright-core/lib/utilsBundleImpl/index.js").PNG,A=n("./node_modules/playwright-core/lib/utilsBundleImpl/index.js").program,_=n("./node_modules/playwright-core/lib/utilsBundleImpl/index.js").ProgramOption,x=n("./node_modules/playwright-core/lib/utilsBundleImpl/index.js").progress,S=n("./node_modules/playwright-core/lib/utilsBundleImpl/index.js").SocksProxyAgent,E=n("./node_modules/playwright-core/lib/utilsBundleImpl/index.js").yaml,C=n("./node_modules/playwright-core/lib/utilsBundleImpl/index.js").ws,k=n("./node_modules/playwright-core/lib/utilsBundleImpl/index.js").wsServer,O=n("./node_modules/playwright-core/lib/utilsBundleImpl/index.js").wsReceiver,T=n("./node_modules/playwright-core/lib/utilsBundleImpl/index.js").wsSender;function I(e){if(!isFinite(e))return"-";if(0===e)return"0ms";if(e<1e3)return e.toFixed(0)+"ms";const t=e/1e3;if(t<60)return t.toFixed(1)+"s";const n=t/60;if(n<60)return n.toFixed(1)+"m";const r=n/60;return r<24?r.toFixed(1)+"h":(r/24).toFixed(1)+"d"}},"./node_modules/playwright-core/lib/utilsBundleImpl/index.js":(e,t,n)=>{"use strict";var r,o,i=Object.create,s=Object.defineProperty,a=Object.getOwnPropertyDescriptor,l=Object.getOwnPropertyNames,c=Object.getPrototypeOf,u=Object.prototype.hasOwnProperty,d=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),h=(e,t)=>{for(var n in t)s(e,n,{get:t[n],enumerable:!0})},p=(e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let o of l(t))!u.call(e,o)&&o!==n&&s(e,o,{get:()=>t[o],enumerable:!(r=a(t,o))||r.enumerable});return e},f=(e,t,n)=>(n=null!=e?i(c(e)):{},p(!t&&e&&e.__esModule?n:s(n,"default",{value:e,enumerable:!0}),e)),m=d((e,t)=>{var n={};t.exports=n;var r={reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29],black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],gray:[90,39],grey:[90,39],brightRed:[91,39],brightGreen:[92,39],brightYellow:[93,39],brightBlue:[94,39],brightMagenta:[95,39],brightCyan:[96,39],brightWhite:[97,39],bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgGray:[100,49],bgGrey:[100,49],bgBrightRed:[101,49],bgBrightGreen:[102,49],bgBrightYellow:[103,49],bgBrightBlue:[104,49],bgBrightMagenta:[105,49],bgBrightCyan:[106,49],bgBrightWhite:[107,49],blackBG:[40,49],redBG:[41,49],greenBG:[42,49],yellowBG:[43,49],blueBG:[44,49],magentaBG:[45,49],cyanBG:[46,49],whiteBG:[47,49]};Object.keys(r).forEach(function(e){var t=r[e],o=n[e]=[];o.open="["+t[0]+"m",o.close="["+t[1]+"m"})}),g=d((e,t)=>{t.exports=function(e,t){var n=(t=t||process.argv).indexOf("--"),r=/^-{1,2}/.test(e)?"":"--",o=t.indexOf(r+e);return-1!==o&&(-1===n||o<n)}}),b=d((e,t)=>{var r=n("os"),o=g(),i=process.env,s=void 0;function a(e){var t=function(e){if(!1===s)return 0;if(o("color=16m")||o("color=full")||o("color=truecolor"))return 3;if(o("color=256"))return 2;if(e&&!e.isTTY&&!0!==s)return 0;var t=s?1:0;if("win32"===process.platform){var n=r.release().split(".");return Number(process.versions.node.split(".")[0])>=8&&Number(n[0])>=10&&Number(n[2])>=10586?Number(n[2])>=14931?3:2:1}if("CI"in i)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI"].some(function(e){return e in i})||"codeship"===i.CI_NAME?1:t;if("TEAMCITY_VERSION"in i)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(i.TEAMCITY_VERSION)?1:0;if("TERM_PROGRAM"in i){var a=parseInt((i.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(i.TERM_PROGRAM){case"iTerm.app":return a>=3?3:2;case"Hyper":return 3;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(i.TERM)?2:/^screen|^xterm|^vt100|^rxvt|color|ansi|cygwin|linux/i.test(i.TERM)||"COLORTERM"in i?1:(i.TERM,t)}(e);return function(e){return 0!==e&&{level:e,hasBasic:!0,has256:e>=2,has16m:e>=3}}(t)}o("no-color")||o("no-colors")||o("color=false")?s=!1:(o("color")||o("colors")||o("color=true")||o("color=always"))&&(s=!0),"FORCE_COLOR"in i&&(s=0===i.FORCE_COLOR.length||0!==parseInt(i.FORCE_COLOR,10)),t.exports={supportsColor:a,stdout:a(process.stdout),stderr:a(process.stderr)}}),w=d((e,t)=>{t.exports=function(e,t){var n="";e=(e=e||"Run the trap, drop the bass").split("");var r={a:["@","","","","","",""],b:["","","","","",""],c:["","",""],d:["","","","","",""],e:["","","","","","","",""],f:[""],g:[""],h:["","","","","",""],i:[""],j:[""],k:["","","",""],l:[""],m:["","","","","",""],n:["","","","","",""],o:["","","","","","","","",""],p:["",""],q:[""],r:["","","","","",""],s:["","","",""],t:["","",""],u:["",""],v:[""],w:["","","",""],x:["","","",""],y:["","",""],z:["",""]};return e.forEach(function(e){e=e.toLowerCase();var t=r[e]||[" "],o=Math.floor(Math.random()*t.length);n+=void 0!==r[e]?r[e][o]:e}),n}}),y=d((e,t)=>{t.exports=function(e,t){e=e||"   he is here   ";var n={up:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],down:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],mid:["","","","","","","","","","","","","","","","","","","","",""," "]},r=[].concat(n.up,n.down,n.mid);function o(e){return Math.floor(Math.random()*e)}function i(e){var t=!1;return r.filter(function(n){t=n===e}),t}return function(e,t){var r,s,a="";for(s in(t=t||{}).up=void 0===t.up||t.up,t.mid=void 0===t.mid||t.mid,t.down=void 0===t.down||t.down,t.size=void 0!==t.size?t.size:"maxi",e=e.split(""))if(!i(s)){switch(a+=e[s],r={up:0,down:0,mid:0},t.size){case"mini":r.up=o(8),r.mid=o(2),r.down=o(8);break;case"maxi":r.up=o(16)+3,r.mid=o(4)+1,r.down=o(64)+3;break;default:r.up=o(8)+1,r.mid=o(6)/2,r.down=o(8)+1}var l=["up","mid","down"];for(var c in l)for(var u=l[c],d=0;d<=r[u];d++)t[u]&&(a+=n[u][o(n[u].length)])}return a}(e,t)}}),v=d((e,t)=>{t.exports=function(e){return function(t,n,r){if(" "===t)return t;switch(n%3){case 0:return e.red(t);case 1:return e.white(t);case 2:return e.blue(t)}}}}),A=d((e,t)=>{t.exports=function(e){return function(t,n,r){return n%2==0?t:e.inverse(t)}}}),_=d((e,t)=>{t.exports=function(e){var t=["red","yellow","green","blue","magenta"];return function(n,r,o){return" "===n?n:e[t[r++%t.length]](n)}}}),x=d((e,t)=>{t.exports=function(e){var t=["underline","inverse","grey","yellow","red","green","blue","white","cyan","magenta","brightYellow","brightRed","brightGreen","brightBlue","brightWhite","brightCyan","brightMagenta"];return function(n,r,o){return" "===n?n:e[t[Math.round(Math.random()*(t.length-2))]](n)}}}),S=d((e,t)=>{var r={};t.exports=r,r.themes={};var o=n("util"),i=r.styles=m(),s=Object.defineProperties,a=new RegExp(/[\r\n]+/g);r.supportsColor=b().supportsColor,void 0===r.enabled&&(r.enabled=!1!==r.supportsColor()),r.enable=function(){r.enabled=!0},r.disable=function(){r.enabled=!1},r.stripColors=r.strip=function(e){return(""+e).replace(/\x1B\[\d+m/g,"")},r.stylize=function(e,t){if(!r.enabled)return e+"";var n=i[t];return!n&&t in r?r[t](e):n.open+e+n.close};var l=/[|\\{}()[\]^$+*?.]/g;function c(e){var t=function e(){return p.apply(e,arguments)};return t._styles=e,t.__proto__=h,t}var u,d=(u={},i.grey=i.gray,Object.keys(i).forEach(function(e){i[e].closeRe=new RegExp(function(e){if("string"!=typeof e)throw new TypeError("Expected a string");return e.replace(l,"\\$&")}(i[e].close),"g"),u[e]={get:function(){return c(this._styles.concat(e))}}}),u),h=s(function(){},d);function p(){var e=Array.prototype.slice.call(arguments).map(function(e){return null!=e&&e.constructor===String?e:o.inspect(e)}).join(" ");if(!r.enabled||!e)return e;for(var t=-1!=e.indexOf("\n"),n=this._styles,s=n.length;s--;){var l=i[n[s]];e=l.open+e.replace(l.closeRe,l.open)+l.close,t&&(e=e.replace(a,function(e){return l.close+e+l.open}))}return e}r.setTheme=function(e){if("string"!=typeof e)for(var t in e)(function(t){r[t]=function(n){if("object"==typeof e[t]){var o=n;for(var i in e[t])o=r[e[t][i]](o);return o}return r[e[t]](n)}})(t);else console.log("colors.setTheme now only accepts an object, not a string.  If you are trying to set a theme from a file, it is now your (the caller's) responsibility to require the file.  The old syntax looked like colors.setTheme(__dirname + '/../themes/generic-logging.js'); The new syntax looks like colors.setTheme(require(__dirname + '/../themes/generic-logging.js'));")};var f,g=function(e,t){var n=t.split("");return(n=n.map(e)).join("")};for(f in r.trap=w(),r.zalgo=y(),r.maps={},r.maps.america=v()(r),r.maps.zebra=A()(r),r.maps.rainbow=_()(r),r.maps.random=x()(r),r.maps)(function(e){r[e]=function(t){return g(r.maps[e],t)}})(f);s(r,function(){var e={};return Object.keys(d).forEach(function(t){e[t]={get:function(){return c([t])}}}),e}())}),E=d((e,t)=>{var n=S();t.exports=n}),C=d((e,t)=>{var n=1e3,r=6e4,o=60*r,i=24*o,s=7*i;function a(e,t,n,r){var o=t>=1.5*n;return Math.round(e/n)+" "+r+(o?"s":"")}t.exports=function(e,t){t=t||{};var l=typeof e;if("string"===l&&e.length>0)return function(e){if(!((e=String(e)).length>100)){var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(t){var a=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*a;case"weeks":case"week":case"w":return a*s;case"days":case"day":case"d":return a*i;case"hours":case"hour":case"hrs":case"hr":case"h":return a*o;case"minutes":case"minute":case"mins":case"min":case"m":return a*r;case"seconds":case"second":case"secs":case"sec":case"s":return a*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return a;default:return}}}}(e);if("number"===l&&isFinite(e))return t.long?function(e){var t=Math.abs(e);return t>=i?a(e,t,i,"day"):t>=o?a(e,t,o,"hour"):t>=r?a(e,t,r,"minute"):t>=n?a(e,t,n,"second"):e+" ms"}(e):function(e){var t=Math.abs(e);return t>=i?Math.round(e/i)+"d":t>=o?Math.round(e/o)+"h":t>=r?Math.round(e/r)+"m":t>=n?Math.round(e/n)+"s":e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}}),k=d((e,t)=>{t.exports=function(e){function t(e){let r,o,i,s=null;function a(...e){if(!a.enabled)return;let n=a,o=Number(new Date),i=o-(r||o);n.diff=i,n.prev=r,n.curr=o,r=o,e[0]=t.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let s=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,(r,o)=>{if("%%"===r)return"%";s++;let i=t.formatters[o];if("function"==typeof i){let t=e[s];r=i.call(n,t),e.splice(s,1),s--}return r}),t.formatArgs.call(n,e),(n.log||t.log).apply(n,e)}return a.namespace=e,a.useColors=t.useColors(),a.color=t.selectColor(e),a.extend=n,a.destroy=t.destroy,Object.defineProperty(a,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==s?s:(o!==t.namespaces&&(o=t.namespaces,i=t.enabled(e)),i),set:e=>{s=e}}),"function"==typeof t.init&&t.init(a),a}function n(e,n){let r=t(this.namespace+(void 0===n?":":n)+e);return r.log=this.log,r}function r(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return t.debug=t,t.default=t,t.coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){let e=[...t.names.map(r),...t.skips.map(r).map(e=>"-"+e)].join(",");return t.enable(""),e},t.enable=function(e){t.save(e),t.namespaces=e,t.names=[],t.skips=[];let n,r=("string"==typeof e?e:"").split(/[\s,]+/),o=r.length;for(n=0;n<o;n++)r[n]&&("-"===(e=r[n].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.slice(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){if("*"===e[e.length-1])return!0;let n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=C(),t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach(n=>{t[n]=e[n]}),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){let n=0;for(let t=0;t<e.length;t++)n=(n<<5)-n+e.charCodeAt(t),n|=0;return t.colors[Math.abs(n)%t.colors.length]},t.enable(t.load()),t}}),O=d((e,t)=>{e.formatArgs=function(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;let n="color: "+this.color;e.splice(1,0,n,"color: inherit");let r=0,o=0;e[0].replace(/%[a-zA-Z%]/g,e=>{"%%"!==e&&(r++,"%c"===e&&(o=r))}),e.splice(o,0,n)},e.save=function(t){try{t?e.storage.setItem("debug",t):e.storage.removeItem("debug")}catch{}},e.load=function(){let t;try{t=e.storage.getItem("debug")}catch{}return!t&&"undefined"!=typeof process&&"env"in process&&(t=process.env.DEBUG),t},e.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},e.storage=function(){try{return localStorage}catch{}}(),e.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.log=console.debug||console.log||(()=>{}),t.exports=k()(e);var{formatters:n}=t.exports;n.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}}),T=d((e,t)=>{t.exports=(e,t=process.argv)=>{let n=e.startsWith("-")?"":1===e.length?"-":"--",r=t.indexOf(n+e),o=t.indexOf("--");return-1!==r&&(-1===o||r<o)}}),I=d((e,t)=>{var r,o=n("os"),i=n("tty"),s=T(),{env:a}=process;function l(e,t={}){return function(e){return 0!==e&&{level:e,hasBasic:!0,has256:e>=2,has16m:e>=3}}(function(e,{streamIsTTY:t,sniffFlags:n=!0}={}){let i=function(){if("FORCE_COLOR"in a)return"true"===a.FORCE_COLOR?1:"false"===a.FORCE_COLOR?0:0===a.FORCE_COLOR.length?1:Math.min(Number.parseInt(a.FORCE_COLOR,10),3)}();void 0!==i&&(r=i);let l=n?r:i;if(0===l)return 0;if(n){if(s("color=16m")||s("color=full")||s("color=truecolor"))return 3;if(s("color=256"))return 2}if(e&&!t&&void 0===l)return 0;let c=l||0;if("dumb"===a.TERM)return c;if("win32"===process.platform){let e=o.release().split(".");return Number(e[0])>=10&&Number(e[2])>=10586?Number(e[2])>=14931?3:2:1}if("CI"in a)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE","DRONE"].some(e=>e in a)||"codeship"===a.CI_NAME?1:c;if("TEAMCITY_VERSION"in a)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(a.TEAMCITY_VERSION)?1:0;if("truecolor"===a.COLORTERM)return 3;if("TERM_PROGRAM"in a){let e=Number.parseInt((a.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(a.TERM_PROGRAM){case"iTerm.app":return e>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(a.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(a.TERM)||"COLORTERM"in a?1:c}(e,{streamIsTTY:e&&e.isTTY,...t}))}s("no-color")||s("no-colors")||s("color=false")||s("color=never")?r=0:(s("color")||s("colors")||s("color=true")||s("color=always"))&&(r=1),t.exports={supportsColor:l,stdout:l({isTTY:i.isatty(1)}),stderr:l({isTTY:i.isatty(2)})}}),B=d((e,t)=>{var r=n("tty"),o=n("util");e.init=function(t){t.inspectOpts={};let n=Object.keys(e.inspectOpts);for(let r=0;r<n.length;r++)t.inspectOpts[n[r]]=e.inspectOpts[n[r]]},e.log=function(...e){return process.stderr.write(o.format(...e)+"\n")},e.formatArgs=function(n){let{namespace:r,useColors:o}=this;if(o){let e=this.color,o="[3"+(e<8?e:"8;5;"+e),i=`  ${o};1m${r} [0m`;n[0]=i+n[0].split("\n").join("\n"+i),n.push(o+"m+"+t.exports.humanize(this.diff)+"[0m")}else n[0]=(e.inspectOpts.hideDate?"":(new Date).toISOString()+" ")+r+" "+n[0]},e.save=function(e){e?process.env.DEBUG=e:delete process.env.DEBUG},e.load=function(){return process.env.DEBUG},e.useColors=function(){return"colors"in e.inspectOpts?!!e.inspectOpts.colors:r.isatty(process.stderr.fd)},e.destroy=o.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."),e.colors=[6,2,3,4,5,1];try{let t=I();t&&(t.stderr||t).level>=2&&(e.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch{}e.inspectOpts=Object.keys(process.env).filter(e=>/^debug_/i.test(e)).reduce((e,t)=>{let n=t.substring(6).toLowerCase().replace(/_([a-z])/g,(e,t)=>t.toUpperCase()),r=process.env[t];return r=!!/^(yes|on|true|enabled)$/i.test(r)||!/^(no|off|false|disabled)$/i.test(r)&&("null"===r?null:Number(r)),e[n]=r,e},{}),t.exports=k()(e);var{formatters:i}=t.exports;i.o=function(e){return this.inspectOpts.colors=this.useColors,o.inspect(e,this.inspectOpts).split("\n").map(e=>e.trim()).join(" ")},i.O=function(e){return this.inspectOpts.colors=this.useColors,o.inspect(e,this.inspectOpts)}}),M=d((e,t)=>{"undefined"==typeof process||"renderer"===process.type||!0===process.browser||process.__nwjs?t.exports=O():t.exports=B()}),P=d((e,t)=>{t.exports={name:"dotenv",version:"16.4.5",description:"Loads environment variables from .env file",main:"lib/main.js",types:"lib/main.d.ts",exports:{".":{types:"./lib/main.d.ts",require:"./lib/main.js",default:"./lib/main.js"},"./config":"./config.js","./config.js":"./config.js","./lib/env-options":"./lib/env-options.js","./lib/env-options.js":"./lib/env-options.js","./lib/cli-options":"./lib/cli-options.js","./lib/cli-options.js":"./lib/cli-options.js","./package.json":"./package.json"},scripts:{"dts-check":"tsc --project tests/types/tsconfig.json",lint:"standard","lint-readme":"standard-markdown",pretest:"npm run lint && npm run dts-check",test:"tap tests/*.js --100 -Rspec","test:coverage":"tap --coverage-report=lcov",prerelease:"npm test",release:"standard-version"},repository:{type:"git",url:"git://github.com/motdotla/dotenv.git"},funding:"https://dotenvx.com",keywords:["dotenv","env",".env","environment","variables","config","settings"],readmeFilename:"README.md",license:"BSD-2-Clause",devDependencies:{"@definitelytyped/dtslint":"^0.0.133","@types/node":"^18.11.3",decache:"^4.6.1",sinon:"^14.0.1",standard:"^17.0.0","standard-markdown":"^7.1.0","standard-version":"^9.5.0",tap:"^16.3.0",tar:"^6.1.11",typescript:"^4.8.4"},engines:{node:">=12"},browser:{fs:!1}}}),j=d((e,t)=>{var r=n("fs"),o=n("path"),i=n("os"),s=n("crypto"),a=P().version,l=/(?:^|^)\s*(?:export\s+)?([\w.-]+)(?:\s*=\s*?|:\s+?)(\s*'(?:\\'|[^'])*'|\s*"(?:\\"|[^"])*"|\s*`(?:\\`|[^`])*`|[^#\r\n]+)?\s*(?:#.*)?(?:$|$)/gm;function c(e){console.log(`[dotenv@${a}][DEBUG] ${e}`)}function u(e){return e&&e.DOTENV_KEY&&e.DOTENV_KEY.length>0?e.DOTENV_KEY:process.env.DOTENV_KEY&&process.env.DOTENV_KEY.length>0?process.env.DOTENV_KEY:""}function d(e,t){let n;try{n=new URL(t)}catch(e){if("ERR_INVALID_URL"===e.code){let e=new Error("INVALID_DOTENV_KEY: Wrong format. Must be in valid uri format like dotenv://:key_1234@dotenvx.com/vault/.env.vault?environment=development");throw e.code="INVALID_DOTENV_KEY",e}throw e}let r=n.password;if(!r){let e=new Error("INVALID_DOTENV_KEY: Missing key part");throw e.code="INVALID_DOTENV_KEY",e}let o=n.searchParams.get("environment");if(!o){let e=new Error("INVALID_DOTENV_KEY: Missing environment part");throw e.code="INVALID_DOTENV_KEY",e}let i=`DOTENV_VAULT_${o.toUpperCase()}`,s=e.parsed[i];if(!s){let e=new Error(`NOT_FOUND_DOTENV_ENVIRONMENT: Cannot locate environment ${i} in your .env.vault file.`);throw e.code="NOT_FOUND_DOTENV_ENVIRONMENT",e}return{ciphertext:s,key:r}}function h(e){let t=null;if(e&&e.path&&e.path.length>0)if(Array.isArray(e.path))for(let n of e.path)r.existsSync(n)&&(t=n.endsWith(".vault")?n:`${n}.vault`);else t=e.path.endsWith(".vault")?e.path:`${e.path}.vault`;else t=o.resolve(process.cwd(),".env.vault");return r.existsSync(t)?t:null}function p(e){return"~"===e[0]?o.join(i.homedir(),e.slice(1)):e}var f={configDotenv:function(e){let t=o.resolve(process.cwd(),".env"),n="utf8",i=!(!e||!e.debug);e&&e.encoding?n=e.encoding:i&&c("No encoding is specified. UTF-8 is used by default");let s=[t];if(e&&e.path)if(Array.isArray(e.path)){s=[];for(let t of e.path)s.push(p(t))}else s=[p(e.path)];let a,l={};for(let t of s)try{let o=f.parse(r.readFileSync(t,{encoding:n}));f.populate(l,o,e)}catch(e){i&&c(`Failed to load ${t} ${e.message}`),a=e}let u=process.env;return e&&null!=e.processEnv&&(u=e.processEnv),f.populate(u,l,e),a?{parsed:l,error:a}:{parsed:l}},_configVault:function(e){console.log(`[dotenv@${a}][INFO] Loading env from encrypted .env.vault`);let t=f._parseVault(e),n=process.env;return e&&null!=e.processEnv&&(n=e.processEnv),f.populate(n,t,e),{parsed:t}},_parseVault:function(e){let t=h(e),n=f.configDotenv({path:t});if(!n.parsed){let e=new Error(`MISSING_DATA: Cannot parse ${t} for an unknown reason`);throw e.code="MISSING_DATA",e}let r,o=u(e).split(","),i=o.length;for(let e=0;e<i;e++)try{let t=d(n,o[e].trim());r=f.decrypt(t.ciphertext,t.key);break}catch(t){if(e+1>=i)throw t}return f.parse(r)},config:function(e){if(0===u(e).length)return f.configDotenv(e);let t=h(e);return t?f._configVault(e):(function(e){console.log(`[dotenv@${a}][WARN] ${e}`)}(`You set DOTENV_KEY but you are missing a .env.vault file at ${t}. Did you forget to build it?`),f.configDotenv(e))},decrypt:function(e,t){let n=Buffer.from(t.slice(-64),"hex"),r=Buffer.from(e,"base64"),o=r.subarray(0,12),i=r.subarray(-16);r=r.subarray(12,-16);try{let e=s.createDecipheriv("aes-256-gcm",n,o);return e.setAuthTag(i),`${e.update(r)}${e.final()}`}catch(e){let t=e instanceof RangeError,n="Invalid key length"===e.message,r="Unsupported state or unable to authenticate data"===e.message;if(t||n){let e=new Error("INVALID_DOTENV_KEY: It must be 64 characters long (or more)");throw e.code="INVALID_DOTENV_KEY",e}if(r){let e=new Error("DECRYPTION_FAILED: Please check your DOTENV_KEY");throw e.code="DECRYPTION_FAILED",e}throw e}},parse:function(e){let t,n={},r=e.toString();for(r=r.replace(/\r\n?/gm,"\n");null!=(t=l.exec(r));){let e=t[1],r=t[2]||"";r=r.trim();let o=r[0];r=r.replace(/^(['"`])([\s\S]*)\1$/gm,"$2"),'"'===o&&(r=r.replace(/\\n/g,"\n"),r=r.replace(/\\r/g,"\r")),n[e]=r}return n},populate:function(e,t,n={}){let r=!(!n||!n.debug),o=!(!n||!n.override);if("object"!=typeof t){let e=new Error("OBJECT_REQUIRED: Please check the processEnv argument being passed to populate");throw e.code="OBJECT_REQUIRED",e}for(let n of Object.keys(t))Object.prototype.hasOwnProperty.call(e,n)?(!0===o&&(e[n]=t[n]),r&&c(!0===o?`"${n}" is already defined and WAS overwritten`:`"${n}" is already defined and was NOT overwritten`)):e[n]=t[n]}};t.exports.configDotenv=f.configDotenv,t.exports._configVault=f._configVault,t.exports._parseVault=f._parseVault,t.exports.config=f.config,t.exports.decrypt=f.decrypt,t.exports.parse=f.parse,t.exports.populate=f.populate,t.exports=f}),N=d(e=>{var t=n("url").parse,r={ftp:21,gopher:70,http:80,https:443,ws:80,wss:443},o=String.prototype.endsWith||function(e){return e.length<=this.length&&-1!==this.indexOf(e,this.length-e.length)};function i(e){return process.env[e.toLowerCase()]||process.env[e.toUpperCase()]||""}e.getProxyForUrl=function(e){var n="string"==typeof e?t(e):e||{},s=n.protocol,a=n.host,l=n.port;if("string"!=typeof a||!a||"string"!=typeof s||(s=s.split(":",1)[0],!function(e,t){var n=(i("npm_config_no_proxy")||i("no_proxy")).toLowerCase();return!n||"*"!==n&&n.split(/[,\s]/).every(function(n){if(!n)return!0;var r=n.match(/^(.+):(\d+)$/),i=r?r[1]:n,s=r?parseInt(r[2]):0;return!(!s||s===t)||(/^[.*]/.test(i)?("*"===i.charAt(0)&&(i=i.slice(1)),!o.call(e,i)):e!==i)})}(a=a.replace(/:\d*$/,""),l=parseInt(l)||r[s]||0)))return"";var c=i("npm_config_"+s+"_proxy")||i(s+"_proxy")||i("npm_config_proxy")||i("all_proxy");return c&&-1===c.indexOf("://")&&(c=s+"://"+c),c}}),F=d(e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e){return function(t,n){return new Promise((r,o)=>{e.call(this,t,n,(e,t)=>{e?o(e):r(t)})})}}}),D=d((e,t)=>{var r=e&&e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},o=n("events"),i=r(M()),s=r(F()),a=i.default("agent-base");function l(){let{stack:e}=new Error;return"string"==typeof e&&e.split("\n").some(e=>-1!==e.indexOf("(https.js:")||-1!==e.indexOf("node:https:"))}function c(e,t){return new c.Agent(e,t)}!function(e){class t extends o.EventEmitter{constructor(e,t){super();let n=t;"function"==typeof e?this.callback=e:e&&(n=e),this.timeout=null,n&&"number"==typeof n.timeout&&(this.timeout=n.timeout),this.maxFreeSockets=1,this.maxSockets=1,this.maxTotalSockets=1/0,this.sockets={},this.freeSockets={},this.requests={},this.options={}}get defaultPort(){return"number"==typeof this.explicitDefaultPort?this.explicitDefaultPort:l()?443:80}set defaultPort(e){this.explicitDefaultPort=e}get protocol(){return"string"==typeof this.explicitProtocol?this.explicitProtocol:l()?"https:":"http:"}set protocol(e){this.explicitProtocol=e}callback(e,t,n){throw new Error('"agent-base" has no default implementation, you must subclass and override `callback()`')}addRequest(e,t){let n=Object.assign({},t);"boolean"!=typeof n.secureEndpoint&&(n.secureEndpoint=l()),null==n.host&&(n.host="localhost"),null==n.port&&(n.port=n.secureEndpoint?443:80),null==n.protocol&&(n.protocol=n.secureEndpoint?"https:":"http:"),n.host&&n.path&&delete n.path,delete n.agent,delete n.hostname,delete n._defaultAgent,delete n.defaultPort,delete n.createConnection,e._last=!0,e.shouldKeepAlive=!1;let r=!1,o=null,i=n.timeout||this.timeout,c=t=>{e._hadError||(e.emit("error",t),e._hadError=!0)},u=e=>{r||(null!==o&&(clearTimeout(o),o=null),c(e))},d=t=>{if(r)return;if(null!=o&&(clearTimeout(o),o=null),function(e){return!!e&&"function"==typeof e.addRequest}(t))return a("Callback returned another Agent instance %o",t.constructor.name),void t.addRequest(e,n);if(t)return t.once("free",()=>{this.freeSocket(t,n)}),void e.onSocket(t);let i=new Error(`no Duplex stream was returned to agent-base for \`${e.method} ${e.path}\``);c(i)};if("function"==typeof this.callback){this.promisifiedCallback||(this.callback.length>=3?(a("Converting legacy callback function to promise"),this.promisifiedCallback=s.default(this.callback)):this.promisifiedCallback=this.callback),"number"==typeof i&&i>0&&(o=setTimeout(()=>{o=null,r=!0;let e=new Error(`A "socket" was not created for HTTP request before ${i}ms`);e.code="ETIMEOUT",c(e)},i)),"port"in n&&"number"!=typeof n.port&&(n.port=Number(n.port));try{a("Resolving socket for %o request: %o",n.protocol,`${e.method} ${e.path}`),Promise.resolve(this.promisifiedCallback(e,n)).then(d,u)}catch(e){Promise.reject(e).catch(u)}}else c(new Error("`callback` is not defined"))}freeSocket(e,t){a("Freeing socket %o %o",e.constructor.name,t),e.destroy()}destroy(){a("Destroying agent %o",this.constructor.name)}}e.Agent=t,e.prototype=e.Agent.prototype}(c||(c={})),t.exports=c}),R=d(e=>{var t=e&&e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(e,"__esModule",{value:!0});var n=t(M()).default("https-proxy-agent:parse-proxy-response");e.default=function(e){return new Promise((t,r)=>{let o=0,i=[];function s(){let r=e.read();r?function(e){i.push(e),o+=e.length;let r=Buffer.concat(i,o);if(-1===r.indexOf("\r\n\r\n"))return n("have not received end of HTTP headers yet..."),void s();let a=r.toString("ascii",0,r.indexOf("\r\n")),l=+a.split(" ")[1];n("got proxy server response: %o",a),t({statusCode:l,buffered:r})}(r):e.once("readable",s)}function a(e){n("onclose had error %o",e)}function l(){n("onend")}e.on("error",function t(o){e.removeListener("end",l),e.removeListener("error",t),e.removeListener("close",a),e.removeListener("readable",s),n("onerror %o",o),r(o)}),e.on("close",a),e.on("end",l),s()})}}),L=d(e=>{var t=e&&e.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function s(e){try{l(r.next(e))}catch(e){i(e)}}function a(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){e.done?o(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(s,a)}l((r=r.apply(e,t||[])).next())})},r=e&&e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(e,"__esModule",{value:!0});var o=r(n("net")),i=r(n("tls")),s=r(n("url")),a=r(n("assert")),l=r(M()),c=D(),u=r(R()),d=l.default("https-proxy-agent:agent"),h=class extends c.Agent{constructor(e){let t;if(t="string"==typeof e?s.default.parse(e):e,!t)throw new Error("an HTTP(S) proxy server `host` and `port` must be specified!");d("creating new HttpsProxyAgent instance: %o",t),super(t);let n=Object.assign({},t);var r;this.secureProxy=t.secureProxy||"string"==typeof(r=n.protocol)&&/^https:?$/i.test(r),n.host=n.hostname||n.host,"string"==typeof n.port&&(n.port=parseInt(n.port,10)),!n.port&&n.host&&(n.port=this.secureProxy?443:80),this.secureProxy&&!("ALPNProtocols"in n)&&(n.ALPNProtocols=["http 1.1"]),n.host&&n.path&&(delete n.path,delete n.pathname),this.proxy=n}callback(e,n){return t(this,void 0,void 0,function*(){let t,{proxy:r,secureProxy:s}=this;s?(d("Creating `tls.Socket`: %o",r),t=i.default.connect(r)):(d("Creating `net.Socket`: %o",r),t=o.default.connect(r));let l=Object.assign({},r.headers),c=`CONNECT ${n.host}:${n.port} HTTP/1.1\r\n`;r.auth&&(l["Proxy-Authorization"]=`Basic ${Buffer.from(r.auth).toString("base64")}`);let{host:h,port:f,secureEndpoint:m}=n;(function(e,t){return!!(!t&&80===e||t&&443===e)})(f,m)||(h+=`:${f}`),l.Host=h,l.Connection="close";for(let e of Object.keys(l))c+=`${e}: ${l[e]}\r\n`;let g=u.default(t);t.write(`${c}\r\n`);let{statusCode:b,buffered:w}=yield g;if(200===b){if(e.once("socket",p),n.secureEndpoint){d("Upgrading socket connection to TLS");let e=n.servername||n.host;return i.default.connect(Object.assign(Object.assign({},function(e,...t){let n,r={};for(n in e)t.includes(n)||(r[n]=e[n]);return r}(n,"host","hostname","path","port")),{socket:t,servername:e}))}return t}t.destroy();let y=new o.default.Socket({writable:!1});return y.readable=!0,e.once("socket",e=>{d("replaying proxy buffer for failed request"),a.default(e.listenerCount("data")>0),e.push(w),e.push(null)}),y})}};function p(e){e.resume()}e.default=h}),z=d((e,t)=>{var n,r=e&&e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},o=r(L());function i(e){return new o.default(e)}(n=i||(i={})).HttpsProxyAgent=o.default,n.prototype=o.default.prototype,t.exports=i}),H=d((e,t)=>{function n(e){Math.round;var n,r,o,i,s,a=Math.floor,l=new Array(64),c=new Array(64),u=new Array(64),d=new Array(64),h=new Array(65535),p=new Array(65535),f=new Array(64),m=new Array(64),g=[],b=0,w=7,y=new Array(64),v=new Array(64),A=new Array(64),_=new Array(256),x=new Array(2048),S=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],E=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],C=[0,1,2,3,4,5,6,7,8,9,10,11],k=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],O=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],T=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],I=[0,1,2,3,4,5,6,7,8,9,10,11],B=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],M=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function P(e,t){for(var n=0,r=0,o=new Array,i=1;i<=16;i++){for(var s=1;s<=e[i];s++)o[t[r]]=[],o[t[r]][0]=n,o[t[r]][1]=i,r++,n++;n*=2}return o}function j(e){for(var t=e[0],n=e[1]-1;n>=0;)t&1<<n&&(b|=1<<w),n--,--w<0&&(255==b?(N(255),N(0)):N(b),w=7,b=0)}function N(e){g.push(e)}function F(e){N(e>>8&255),N(255&e)}function D(e,t,n,r,o){for(var i,s=o[0],a=o[240],l=function(e,t){var n,r,o,i,s,a,l,c,u,d,h=0;for(u=0;u<8;++u){n=e[h],r=e[h+1],o=e[h+2],i=e[h+3],s=e[h+4],a=e[h+5],l=e[h+6];var p=n+(c=e[h+7]),m=n-c,g=r+l,b=r-l,w=o+a,y=o-a,v=i+s,A=i-s,_=p+v,x=p-v,S=g+w,E=g-w;e[h]=_+S,e[h+4]=_-S;var C=.707106781*(E+x);e[h+2]=x+C,e[h+6]=x-C;var k=.382683433*((_=A+y)-(E=b+m)),O=.5411961*_+k,T=1.306562965*E+k,I=.707106781*(S=y+b),B=m+I,M=m-I;e[h+5]=M+O,e[h+3]=M-O,e[h+1]=B+T,e[h+7]=B-T,h+=8}for(h=0,u=0;u<8;++u){n=e[h],r=e[h+8],o=e[h+16],i=e[h+24],s=e[h+32],a=e[h+40],l=e[h+48];var P=n+(c=e[h+56]),j=n-c,N=r+l,F=r-l,D=o+a,R=o-a,L=i+s,z=i-s,H=P+L,U=P-L,Q=N+D,q=N-D;e[h]=H+Q,e[h+32]=H-Q;var W=.707106781*(q+U);e[h+16]=U+W,e[h+48]=U-W;var $=.382683433*((H=z+R)-(q=F+j)),G=.5411961*H+$,V=1.306562965*q+$,Y=.707106781*(Q=R+F),J=j+Y,K=j-Y;e[h+40]=K+G,e[h+24]=K-G,e[h+8]=J+V,e[h+56]=J-V,h++}for(u=0;u<64;++u)d=e[u]*t[u],f[u]=d>0?d+.5|0:d-.5|0;return f}(e,t),c=0;c<64;++c)m[S[c]]=l[c];var u=m[0]-n;n=m[0],0==u?j(r[0]):(j(r[p[i=32767+u]]),j(h[i]));for(var d=63;d>0&&0==m[d];d--);if(0==d)return j(s),n;for(var g,b=1;b<=d;){for(var w=b;0==m[b]&&b<=d;++b);var y=b-w;if(y>=16){g=y>>4;for(var v=1;v<=g;++v)j(a);y&=15}i=32767+m[b],j(o[(y<<4)+p[i]]),j(h[i]),b++}return 63!=d&&j(s),n}function R(e){e<=0&&(e=1),e>100&&(e=100),s!=e&&(function(e){for(var t=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],n=0;n<64;n++){var r=a((t[n]*e+50)/100);r<1?r=1:r>255&&(r=255),l[S[n]]=r}for(var o=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],i=0;i<64;i++){var s=a((o[i]*e+50)/100);s<1?s=1:s>255&&(s=255),c[S[i]]=s}for(var h=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],p=0,f=0;f<8;f++)for(var m=0;m<8;m++)u[p]=1/(l[S[p]]*h[f]*h[m]*8),d[p]=1/(c[S[p]]*h[f]*h[m]*8),p++}(e<50?Math.floor(5e3/e):Math.floor(200-2*e)),s=e)}this.encode=function(e,s){(new Date).getTime(),s&&R(s),g=new Array,b=0,w=7,F(65496),F(65504),F(16),N(74),N(70),N(73),N(70),N(0),N(1),N(1),N(0),F(1),F(1),N(0),N(0),function(e){void 0===e||e.constructor!==Array||e.forEach(e=>{if("string"==typeof e){F(65534);var t,n=e.length;for(F(n+2),t=0;t<n;t++)N(e.charCodeAt(t))}})}(e.comments),function(e){if(e){F(65505),69===e[0]&&120===e[1]&&105===e[2]&&102===e[3]?F(e.length+2):(F(e.length+5+2),N(69),N(120),N(105),N(102),N(0));for(var t=0;t<e.length;t++)N(e[t])}}(e.exifBuffer),function(){F(65499),F(132),N(0);for(var e=0;e<64;e++)N(l[e]);N(1);for(var t=0;t<64;t++)N(c[t])}(),function(e,t){F(65472),F(17),N(8),F(t),F(e),N(3),N(1),N(17),N(0),N(2),N(17),N(1),N(3),N(17),N(1)}(e.width,e.height),function(){F(65476),F(418),N(0);for(var e=0;e<16;e++)N(E[e+1]);for(var t=0;t<=11;t++)N(C[t]);N(16);for(var n=0;n<16;n++)N(k[n+1]);for(var r=0;r<=161;r++)N(O[r]);N(1);for(var o=0;o<16;o++)N(T[o+1]);for(var i=0;i<=11;i++)N(I[i]);N(17);for(var s=0;s<16;s++)N(B[s+1]);for(var a=0;a<=161;a++)N(M[a])}(),F(65498),F(12),N(3),N(1),N(0),N(2),N(17),N(3),N(17),N(0),N(63),N(0);var a=0,h=0,p=0;b=0,w=7,this.encode.displayName="_encode_";for(var f,m,_,S,P,L,z,H,U,Q=e.data,q=e.width,W=e.height,$=4*q,G=0;G<W;){for(f=0;f<$;){for(L=P=$*G+f,z=-1,H=0,U=0;U<64;U++)L=P+(H=U>>3)*$+(z=4*(7&U)),G+H>=W&&(L-=$*(G+1+H-W)),f+z>=$&&(L-=f+z-$+4),m=Q[L++],_=Q[L++],S=Q[L++],y[U]=(x[m]+x[_+256|0]+x[S+512|0]>>16)-128,v[U]=(x[m+768|0]+x[_+1024|0]+x[S+1280|0]>>16)-128,A[U]=(x[m+1280|0]+x[_+1536|0]+x[S+1792|0]>>16)-128;a=D(y,u,a,n,o),h=D(v,d,h,r,i),p=D(A,d,p,r,i),f+=32}G+=8}if(w>=0){var V=[];V[1]=w+1,V[0]=(1<<w+1)-1,j(V)}return F(65497),void 0===t?new Uint8Array(g):Buffer.from(g)},(new Date).getTime(),e||(e=50),function(){for(var e=String.fromCharCode,t=0;t<256;t++)_[t]=e(t)}(),n=P(E,C),r=P(T,I),o=P(k,O),i=P(B,M),function(){for(var e=1,t=2,n=1;n<=15;n++){for(var r=e;r<t;r++)p[32767+r]=n,h[32767+r]=[],h[32767+r][1]=n,h[32767+r][0]=r;for(var o=-(t-1);o<=-e;o++)p[32767+o]=n,h[32767+o]=[],h[32767+o][1]=n,h[32767+o][0]=t-1+o;e<<=1,t<<=1}}(),function(){for(var e=0;e<256;e++)x[e]=19595*e,x[e+256|0]=38470*e,x[e+512|0]=7471*e+32768,x[e+768|0]=-11059*e,x[e+1024|0]=-21709*e,x[e+1280|0]=32768*e+8421375,x[e+1536|0]=-27439*e,x[e+1792|0]=-5329*e}(),R(e),(new Date).getTime()}function r(e,t){return void 0===t&&(t=50),{data:new n(t).encode(e,t),width:e.width,height:e.height}}void 0!==t?t.exports=r:"undefined"!=typeof window&&(window["jpeg-js"]=window["jpeg-js"]||{},window["jpeg-js"].encode=r)}),U=d((e,t)=>{var n=function(){var e=new Int32Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]),t=4017,n=799,r=3406,o=2276,i=1567,s=3784,a=5793,l=2896;function c(){}function u(e,t){for(var n,r,o=0,i=[],s=16;s>0&&!e[s-1];)s--;i.push({children:[],index:0});var a,l=i[0];for(n=0;n<s;n++){for(r=0;r<e[n];r++){for((l=i.pop()).children[l.index]=t[o];l.index>0;){if(0===i.length)throw new Error("Could not recreate Huffman Table");l=i.pop()}for(l.index++,i.push(l);i.length<=n;)i.push(a={children:[],index:0}),l.children[l.index]=a.children,l=a;o++}n+1<s&&(i.push(a={children:[],index:0}),l.children[l.index]=a.children,l=a)}return i[0].children}function d(t,n,r,o,i,s,a,l,c,u){r.precision,r.samplesPerLine,r.scanLines;var d=r.mcusPerLine,h=r.progressive,p=(r.maxH,r.maxV,n),f=0,m=0;function g(){if(m>0)return m--,f>>m&1;if(255==(f=t[n++])){var e=t[n++];if(e)throw new Error("unexpected marker: "+(f<<8|e).toString(16))}return m=7,f>>>7}function b(e){for(var t,n=e;null!==(t=g());){if("number"==typeof(n=n[t]))return n;if("object"!=typeof n)throw new Error("invalid huffman sequence")}return null}function w(e){for(var t=0;e>0;){var n=g();if(null===n)return;t=t<<1|n,e--}return t}function y(e){var t=w(e);return t>=1<<e-1?t:t+(-1<<e)+1}var v,A=0,_=0;function x(e,t,n,r,o){var i=n%d,s=(n/d|0)*e.v+r,a=i*e.h+o;void 0===e.blocks[s]&&u.tolerantDecoding||t(e,e.blocks[s][a])}function S(e,t,n){var r=n/e.blocksPerLine|0,o=n%e.blocksPerLine;void 0===e.blocks[r]&&u.tolerantDecoding||t(e,e.blocks[r][o])}var E,C,k,O,T,I,B=o.length;I=h?0===s?0===l?function(e,t){var n=b(e.huffmanTableDC),r=0===n?0:y(n)<<c;t[0]=e.pred+=r}:function(e,t){t[0]|=g()<<c}:0===l?function(t,n){if(A>0)A--;else for(var r=s,o=a;r<=o;){var i=b(t.huffmanTableAC),l=15&i,u=i>>4;if(0!==l)n[e[r+=u]]=y(l)*(1<<c),r++;else{if(u<15){A=w(u)+(1<<u)-1;break}r+=16}}}:function(t,n){for(var r=s,o=a,i=0;r<=o;){var l=e[r],u=n[l]<0?-1:1;switch(_){case 0:var d=b(t.huffmanTableAC),h=15&d;if(i=d>>4,0===h)i<15?(A=w(i)+(1<<i),_=4):(i=16,_=1);else{if(1!==h)throw new Error("invalid ACn encoding");v=y(h),_=i?2:3}continue;case 1:case 2:n[l]?n[l]+=(g()<<c)*u:0===--i&&(_=2==_?3:0);break;case 3:n[l]?n[l]+=(g()<<c)*u:(n[l]=v<<c,_=0);break;case 4:n[l]&&(n[l]+=(g()<<c)*u)}r++}4===_&&0===--A&&(_=0)}:function(t,n){var r=b(t.huffmanTableDC),o=0===r?0:y(r);n[0]=t.pred+=o;for(var i=1;i<64;){var s=b(t.huffmanTableAC),a=15&s,l=s>>4;if(0!==a)n[e[i+=l]]=y(a),i++;else{if(l<15)break;i+=16}}};var M,P,j,N,F=0;for(P=1==B?o[0].blocksPerLine*o[0].blocksPerColumn:d*r.mcusPerColumn,i||(i=P);F<P;){for(C=0;C<B;C++)o[C].pred=0;if(A=0,1==B)for(E=o[0],T=0;T<i;T++)S(E,I,F),F++;else for(T=0;T<i;T++){for(C=0;C<B;C++)for(j=(E=o[C]).h,N=E.v,k=0;k<N;k++)for(O=0;O<j;O++)x(E,I,F,k,O);if(++F===P)break}if(F===P)do{if(255===t[n]&&0!==t[n+1])break;n+=1}while(n<t.length-2);if(m=0,(M=t[n]<<8|t[n+1])<65280)throw new Error("marker was not found");if(!(M>=65488&&M<=65495))break;n+=2}return n-p}function h(e,c){var u=[],d=c.blocksPerLine,h=c.blocksPerColumn,p=d<<3,f=new Int32Array(64),m=new Uint8Array(64);function b(e,u,d){var h,p,f,m,g,b,w,y,v,A,_=c.quantizationTable,x=d;for(A=0;A<64;A++)x[A]=e[A]*_[A];for(A=0;A<8;++A){var S=8*A;0!=x[1+S]||0!=x[2+S]||0!=x[3+S]||0!=x[4+S]||0!=x[5+S]||0!=x[6+S]||0!=x[7+S]?(h=a*x[0+S]+128>>8,p=a*x[4+S]+128>>8,f=x[2+S],m=x[6+S],g=l*(x[1+S]-x[7+S])+128>>8,y=l*(x[1+S]+x[7+S])+128>>8,b=x[3+S]<<4,w=x[5+S]<<4,v=h-p+1>>1,h=h+p+1>>1,p=v,v=f*s+m*i+128>>8,f=f*i-m*s+128>>8,m=v,v=g-w+1>>1,g=g+w+1>>1,w=v,v=y+b+1>>1,b=y-b+1>>1,y=v,v=h-m+1>>1,h=h+m+1>>1,m=v,v=p-f+1>>1,p=p+f+1>>1,f=v,v=g*o+y*r+2048>>12,g=g*r-y*o+2048>>12,y=v,v=b*n+w*t+2048>>12,b=b*t-w*n+2048>>12,w=v,x[0+S]=h+y,x[7+S]=h-y,x[1+S]=p+w,x[6+S]=p-w,x[2+S]=f+b,x[5+S]=f-b,x[3+S]=m+g,x[4+S]=m-g):(v=a*x[0+S]+512>>10,x[0+S]=v,x[1+S]=v,x[2+S]=v,x[3+S]=v,x[4+S]=v,x[5+S]=v,x[6+S]=v,x[7+S]=v)}for(A=0;A<8;++A){var E=A;0!=x[8+E]||0!=x[16+E]||0!=x[24+E]||0!=x[32+E]||0!=x[40+E]||0!=x[48+E]||0!=x[56+E]?(h=a*x[0+E]+2048>>12,p=a*x[32+E]+2048>>12,f=x[16+E],m=x[48+E],g=l*(x[8+E]-x[56+E])+2048>>12,y=l*(x[8+E]+x[56+E])+2048>>12,b=x[24+E],w=x[40+E],v=h-p+1>>1,h=h+p+1>>1,p=v,v=f*s+m*i+2048>>12,f=f*i-m*s+2048>>12,m=v,v=g-w+1>>1,g=g+w+1>>1,w=v,v=y+b+1>>1,b=y-b+1>>1,y=v,v=h-m+1>>1,h=h+m+1>>1,m=v,v=p-f+1>>1,p=p+f+1>>1,f=v,v=g*o+y*r+2048>>12,g=g*r-y*o+2048>>12,y=v,v=b*n+w*t+2048>>12,b=b*t-w*n+2048>>12,w=v,x[0+E]=h+y,x[56+E]=h-y,x[8+E]=p+w,x[48+E]=p-w,x[16+E]=f+b,x[40+E]=f-b,x[24+E]=m+g,x[32+E]=m-g):(v=a*d[A+0]+8192>>14,x[0+E]=v,x[8+E]=v,x[16+E]=v,x[24+E]=v,x[32+E]=v,x[40+E]=v,x[48+E]=v,x[56+E]=v)}for(A=0;A<64;++A){var C=128+(x[A]+8>>4);u[A]=C<0?0:C>255?255:C}}g(p*h*8);for(var w,y,v=0;v<h;v++){var A=v<<3;for(w=0;w<8;w++)u.push(new Uint8Array(p));for(var _=0;_<d;_++){b(c.blocks[v][_],m,f);var x=0,S=_<<3;for(y=0;y<8;y++){var E=u[A+y];for(w=0;w<8;w++)E[S+w]=m[x++]}}}return u}function p(e){return e<0?0:e>255?255:e}c.prototype={load:function(e){var t=new XMLHttpRequest;t.open("GET",e,!0),t.responseType="arraybuffer",t.onload=function(){var e=new Uint8Array(t.response||t.mozResponseArrayBuffer);this.parse(e),this.onload&&this.onload()}.bind(this),t.send(null)},parse:function(t){var n=1e3*this.opts.maxResolutionInMP*1e3,r=0;function o(){var e=t[r]<<8|t[r+1];return r+=2,e}function i(){var e=o(),n=t.subarray(r,r+e-2);return r+=n.length,n}function s(e){var t,n,r=1,o=1;for(n in e.components)e.components.hasOwnProperty(n)&&(r<(t=e.components[n]).h&&(r=t.h),o<t.v&&(o=t.v));var i=Math.ceil(e.samplesPerLine/8/r),s=Math.ceil(e.scanLines/8/o);for(n in e.components)if(e.components.hasOwnProperty(n)){t=e.components[n];var a=Math.ceil(Math.ceil(e.samplesPerLine/8)*t.h/r),l=Math.ceil(Math.ceil(e.scanLines/8)*t.v/o),c=i*t.h,u=s*t.v,d=[];g(u*c*256);for(var h=0;h<u;h++){for(var p=[],f=0;f<c;f++)p.push(new Int32Array(64));d.push(p)}t.blocksPerLine=a,t.blocksPerColumn=l,t.blocks=d}e.maxH=r,e.maxV=o,e.mcusPerLine=i,e.mcusPerColumn=s}t.length;var a,l,c=null,p=null,f=[],m=[],b=[],w=[],y=o(),v=-1;if(this.comments=[],65496!=y)throw new Error("SOI not found");for(y=o();65497!=y;){switch(y){case 65280:break;case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:var A=i();if(65534===y){var _=String.fromCharCode.apply(null,A);this.comments.push(_)}65504===y&&74===A[0]&&70===A[1]&&73===A[2]&&70===A[3]&&0===A[4]&&(c={version:{major:A[5],minor:A[6]},densityUnits:A[7],xDensity:A[8]<<8|A[9],yDensity:A[10]<<8|A[11],thumbWidth:A[12],thumbHeight:A[13],thumbData:A.subarray(14,14+3*A[12]*A[13])}),65505===y&&69===A[0]&&120===A[1]&&105===A[2]&&102===A[3]&&0===A[4]&&(this.exifBuffer=A.subarray(5,A.length)),65518===y&&65===A[0]&&100===A[1]&&111===A[2]&&98===A[3]&&101===A[4]&&0===A[5]&&(p={version:A[6],flags0:A[7]<<8|A[8],flags1:A[9]<<8|A[10],transformCode:A[11]});break;case 65499:for(var x=o()+r-2;r<x;){var S=t[r++];g(256);var E=new Int32Array(64);if(S>>4){if(S>>4!=1)throw new Error("DQT: invalid table spec");for(G=0;G<64;G++)E[e[G]]=o()}else for(G=0;G<64;G++)E[e[G]]=t[r++];f[15&S]=E}break;case 65472:case 65473:case 65474:o(),(a={}).extended=65473===y,a.progressive=65474===y,a.precision=t[r++],a.scanLines=o(),a.samplesPerLine=o(),a.components={},a.componentsOrder=[];var C=a.scanLines*a.samplesPerLine;if(C>n){var k=Math.ceil((C-n)/1e6);throw new Error(`maxResolutionInMP limit exceeded by ${k}MP`)}var O,T=t[r++];for(W=0;W<T;W++){O=t[r];var I=t[r+1]>>4,B=15&t[r+1],M=t[r+2];if(I<=0||B<=0)throw new Error("Invalid sampling factor, expected values above 0");a.componentsOrder.push(O),a.components[O]={h:I,v:B,quantizationIdx:M},r+=3}s(a),m.push(a);break;case 65476:var P=o();for(W=2;W<P;){var j=t[r++],N=new Uint8Array(16),F=0;for(G=0;G<16;G++,r++)F+=N[G]=t[r];g(16+F);var D=new Uint8Array(F);for(G=0;G<F;G++,r++)D[G]=t[r];W+=17+F,(j>>4?b:w)[15&j]=u(N,D)}break;case 65501:o(),l=o();break;case 65500:o(),o();break;case 65498:o();var R=t[r++],L=[];for(W=0;W<R;W++){V=a.components[t[r++]];var z=t[r++];V.huffmanTableDC=w[z>>4],V.huffmanTableAC=b[15&z],L.push(V)}var H=t[r++],U=t[r++],Q=t[r++],q=d(t,r,a,L,l,H,U,Q>>4,15&Q,this.opts);r+=q;break;case 65535:255!==t[r]&&r--;break;default:if(255==t[r-3]&&t[r-2]>=192&&t[r-2]<=254){r-=3;break}if(224===y||225==y){if(-1!==v)throw new Error(`first unknown JPEG marker at offset ${v.toString(16)}, second unknown JPEG marker ${y.toString(16)} at offset ${(r-1).toString(16)}`);v=r-1;let e=o();if(255===t[r+e-2]){r+=e-2;break}}throw new Error("unknown JPEG marker "+y.toString(16))}y=o()}if(1!=m.length)throw new Error("only single frame JPEGs supported");for(var W=0;W<m.length;W++){var $=m[W].components;for(var G in $)$[G].quantizationTable=f[$[G].quantizationIdx],delete $[G].quantizationIdx}for(this.width=a.samplesPerLine,this.height=a.scanLines,this.jfif=c,this.adobe=p,this.components=[],W=0;W<a.componentsOrder.length;W++){var V=a.components[a.componentsOrder[W]];this.components.push({lines:h(0,V),scaleX:V.h/a.maxH,scaleY:V.v/a.maxV})}},getData:function(e,t){var n,r,o,i,s,a,l,c,u,d,h,f,m,b,w,y,v,A,_,x,S,E=this.width/e,C=this.height/t,k=0,O=e*t*this.components.length;g(O);var T=new Uint8Array(O);switch(this.components.length){case 1:for(n=this.components[0],d=0;d<t;d++)for(s=n.lines[0|d*n.scaleY*C],u=0;u<e;u++)h=s[0|u*n.scaleX*E],T[k++]=h;break;case 2:for(n=this.components[0],r=this.components[1],d=0;d<t;d++)for(s=n.lines[0|d*n.scaleY*C],a=r.lines[0|d*r.scaleY*C],u=0;u<e;u++)h=s[0|u*n.scaleX*E],T[k++]=h,h=a[0|u*r.scaleX*E],T[k++]=h;break;case 3:for(S=!0,this.adobe&&this.adobe.transformCode?S=!0:void 0!==this.opts.colorTransform&&(S=!!this.opts.colorTransform),n=this.components[0],r=this.components[1],o=this.components[2],d=0;d<t;d++)for(s=n.lines[0|d*n.scaleY*C],a=r.lines[0|d*r.scaleY*C],l=o.lines[0|d*o.scaleY*C],u=0;u<e;u++)S?(h=s[0|u*n.scaleX*E],f=a[0|u*r.scaleX*E],A=p(h+1.402*((m=l[0|u*o.scaleX*E])-128)),_=p(h-.3441363*(f-128)-.71413636*(m-128)),x=p(h+1.772*(f-128))):(A=s[0|u*n.scaleX*E],_=a[0|u*r.scaleX*E],x=l[0|u*o.scaleX*E]),T[k++]=A,T[k++]=_,T[k++]=x;break;case 4:if(!this.adobe)throw new Error("Unsupported color mode (4 components)");for(S=!1,this.adobe&&this.adobe.transformCode?S=!0:void 0!==this.opts.colorTransform&&(S=!!this.opts.colorTransform),n=this.components[0],r=this.components[1],o=this.components[2],i=this.components[3],d=0;d<t;d++)for(s=n.lines[0|d*n.scaleY*C],a=r.lines[0|d*r.scaleY*C],l=o.lines[0|d*o.scaleY*C],c=i.lines[0|d*i.scaleY*C],u=0;u<e;u++)S?(h=s[0|u*n.scaleX*E],f=a[0|u*r.scaleX*E],m=l[0|u*o.scaleX*E],b=c[0|u*i.scaleX*E],w=255-p(h+1.402*(m-128)),y=255-p(h-.3441363*(f-128)-.71413636*(m-128)),v=255-p(h+1.772*(f-128))):(w=s[0|u*n.scaleX*E],y=a[0|u*r.scaleX*E],v=l[0|u*o.scaleX*E],b=c[0|u*i.scaleX*E]),T[k++]=255-w,T[k++]=255-y,T[k++]=255-v,T[k++]=255-b;break;default:throw new Error("Unsupported color mode")}return T},copyToImageData:function(e,t){var n,r,o,i,s,a,l,c,u,d=e.width,h=e.height,f=e.data,m=this.getData(d,h),g=0,b=0;switch(this.components.length){case 1:for(r=0;r<h;r++)for(n=0;n<d;n++)o=m[g++],f[b++]=o,f[b++]=o,f[b++]=o,t&&(f[b++]=255);break;case 3:for(r=0;r<h;r++)for(n=0;n<d;n++)l=m[g++],c=m[g++],u=m[g++],f[b++]=l,f[b++]=c,f[b++]=u,t&&(f[b++]=255);break;case 4:for(r=0;r<h;r++)for(n=0;n<d;n++)s=m[g++],a=m[g++],o=m[g++],l=255-p(s*(1-(i=m[g++])/255)+i),c=255-p(a*(1-i/255)+i),u=255-p(o*(1-i/255)+i),f[b++]=l,f[b++]=c,f[b++]=u,t&&(f[b++]=255);break;default:throw new Error("Unsupported color mode")}}};var f=0,m=0;function g(e=0){var t=f+e;if(t>m){var n=Math.ceil((t-m)/1024/1024);throw new Error(`maxMemoryUsageInMB limit exceeded by at least ${n}MB`)}f=t}return c.resetMaxMemoryUsage=function(e){f=0,m=e},c.getBytesAllocated=function(){return f},c.requestMemoryAllocation=g,c}();function r(e,t={}){var r={colorTransform:void 0,useTArray:!1,formatAsRGBA:!0,tolerantDecoding:!0,maxResolutionInMP:100,maxMemoryUsageInMB:512,...t},o=new Uint8Array(e),i=new n;i.opts=r,n.resetMaxMemoryUsage(1024*r.maxMemoryUsageInMB*1024),i.parse(o);var s=r.formatAsRGBA?4:3,a=i.width*i.height*s;try{n.requestMemoryAllocation(a);var l={width:i.width,height:i.height,exifBuffer:i.exifBuffer,data:r.useTArray?new Uint8Array(a):Buffer.alloc(a)};i.comments.length>0&&(l.comments=i.comments)}catch(e){throw e instanceof RangeError?new Error("Could not allocate enough memory for the image. Required: "+a):e instanceof ReferenceError&&"Buffer is not defined"===e.message?new Error("Buffer is not globally defined in this environment. Consider setting useTArray to true"):e}return i.copyToImageData(l,r.formatAsRGBA),l}void 0!==t?t.exports=r:"undefined"!=typeof window&&(window["jpeg-js"]=window["jpeg-js"]||{},window["jpeg-js"].decode=r)}),Q=d((e,t)=>{var n=H(),r=U();t.exports={encode:n,decode:r}}),q=d((e,t)=>{function n(){this._types=Object.create(null),this._extensions=Object.create(null);for(let e=0;e<arguments.length;e++)this.define(arguments[e]);this.define=this.define.bind(this),this.getType=this.getType.bind(this),this.getExtension=this.getExtension.bind(this)}n.prototype.define=function(e,t){for(let n in e){let r=e[n].map(function(e){return e.toLowerCase()});n=n.toLowerCase();for(let e=0;e<r.length;e++){let o=r[e];if("*"!==o[0]){if(!t&&o in this._types)throw new Error('Attempt to change mapping for "'+o+'" extension from "'+this._types[o]+'" to "'+n+'". Pass `force=true` to allow this, otherwise remove "'+o+'" from the list of extensions for "'+n+'".');this._types[o]=n}}if(t||!this._extensions[n]){let e=r[0];this._extensions[n]="*"!==e[0]?e:e.substr(1)}}},n.prototype.getType=function(e){let t=(e=String(e)).replace(/^.*[/\\]/,"").toLowerCase(),n=t.replace(/^.*\./,"").toLowerCase(),r=t.length<e.length;return(n.length<t.length-1||!r)&&this._types[n]||null},n.prototype.getExtension=function(e){return(e=/^\s*([^;\s]*)/.test(e)&&RegExp.$1)&&this._extensions[e.toLowerCase()]||null},t.exports=n}),W=d((e,t)=>{t.exports={"application/andrew-inset":["ez"],"application/applixware":["aw"],"application/atom+xml":["atom"],"application/atomcat+xml":["atomcat"],"application/atomdeleted+xml":["atomdeleted"],"application/atomsvc+xml":["atomsvc"],"application/atsc-dwd+xml":["dwd"],"application/atsc-held+xml":["held"],"application/atsc-rsat+xml":["rsat"],"application/bdoc":["bdoc"],"application/calendar+xml":["xcs"],"application/ccxml+xml":["ccxml"],"application/cdfx+xml":["cdfx"],"application/cdmi-capability":["cdmia"],"application/cdmi-container":["cdmic"],"application/cdmi-domain":["cdmid"],"application/cdmi-object":["cdmio"],"application/cdmi-queue":["cdmiq"],"application/cu-seeme":["cu"],"application/dash+xml":["mpd"],"application/davmount+xml":["davmount"],"application/docbook+xml":["dbk"],"application/dssc+der":["dssc"],"application/dssc+xml":["xdssc"],"application/ecmascript":["es","ecma"],"application/emma+xml":["emma"],"application/emotionml+xml":["emotionml"],"application/epub+zip":["epub"],"application/exi":["exi"],"application/express":["exp"],"application/fdt+xml":["fdt"],"application/font-tdpfr":["pfr"],"application/geo+json":["geojson"],"application/gml+xml":["gml"],"application/gpx+xml":["gpx"],"application/gxf":["gxf"],"application/gzip":["gz"],"application/hjson":["hjson"],"application/hyperstudio":["stk"],"application/inkml+xml":["ink","inkml"],"application/ipfix":["ipfix"],"application/its+xml":["its"],"application/java-archive":["jar","war","ear"],"application/java-serialized-object":["ser"],"application/java-vm":["class"],"application/javascript":["js","mjs"],"application/json":["json","map"],"application/json5":["json5"],"application/jsonml+json":["jsonml"],"application/ld+json":["jsonld"],"application/lgr+xml":["lgr"],"application/lost+xml":["lostxml"],"application/mac-binhex40":["hqx"],"application/mac-compactpro":["cpt"],"application/mads+xml":["mads"],"application/manifest+json":["webmanifest"],"application/marc":["mrc"],"application/marcxml+xml":["mrcx"],"application/mathematica":["ma","nb","mb"],"application/mathml+xml":["mathml"],"application/mbox":["mbox"],"application/mediaservercontrol+xml":["mscml"],"application/metalink+xml":["metalink"],"application/metalink4+xml":["meta4"],"application/mets+xml":["mets"],"application/mmt-aei+xml":["maei"],"application/mmt-usd+xml":["musd"],"application/mods+xml":["mods"],"application/mp21":["m21","mp21"],"application/mp4":["mp4s","m4p"],"application/msword":["doc","dot"],"application/mxf":["mxf"],"application/n-quads":["nq"],"application/n-triples":["nt"],"application/node":["cjs"],"application/octet-stream":["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","img","msi","msp","msm","buffer"],"application/oda":["oda"],"application/oebps-package+xml":["opf"],"application/ogg":["ogx"],"application/omdoc+xml":["omdoc"],"application/onenote":["onetoc","onetoc2","onetmp","onepkg"],"application/oxps":["oxps"],"application/p2p-overlay+xml":["relo"],"application/patch-ops-error+xml":["xer"],"application/pdf":["pdf"],"application/pgp-encrypted":["pgp"],"application/pgp-signature":["asc","sig"],"application/pics-rules":["prf"],"application/pkcs10":["p10"],"application/pkcs7-mime":["p7m","p7c"],"application/pkcs7-signature":["p7s"],"application/pkcs8":["p8"],"application/pkix-attr-cert":["ac"],"application/pkix-cert":["cer"],"application/pkix-crl":["crl"],"application/pkix-pkipath":["pkipath"],"application/pkixcmp":["pki"],"application/pls+xml":["pls"],"application/postscript":["ai","eps","ps"],"application/provenance+xml":["provx"],"application/pskc+xml":["pskcxml"],"application/raml+yaml":["raml"],"application/rdf+xml":["rdf","owl"],"application/reginfo+xml":["rif"],"application/relax-ng-compact-syntax":["rnc"],"application/resource-lists+xml":["rl"],"application/resource-lists-diff+xml":["rld"],"application/rls-services+xml":["rs"],"application/route-apd+xml":["rapd"],"application/route-s-tsid+xml":["sls"],"application/route-usd+xml":["rusd"],"application/rpki-ghostbusters":["gbr"],"application/rpki-manifest":["mft"],"application/rpki-roa":["roa"],"application/rsd+xml":["rsd"],"application/rss+xml":["rss"],"application/rtf":["rtf"],"application/sbml+xml":["sbml"],"application/scvp-cv-request":["scq"],"application/scvp-cv-response":["scs"],"application/scvp-vp-request":["spq"],"application/scvp-vp-response":["spp"],"application/sdp":["sdp"],"application/senml+xml":["senmlx"],"application/sensml+xml":["sensmlx"],"application/set-payment-initiation":["setpay"],"application/set-registration-initiation":["setreg"],"application/shf+xml":["shf"],"application/sieve":["siv","sieve"],"application/smil+xml":["smi","smil"],"application/sparql-query":["rq"],"application/sparql-results+xml":["srx"],"application/srgs":["gram"],"application/srgs+xml":["grxml"],"application/sru+xml":["sru"],"application/ssdl+xml":["ssdl"],"application/ssml+xml":["ssml"],"application/swid+xml":["swidtag"],"application/tei+xml":["tei","teicorpus"],"application/thraud+xml":["tfi"],"application/timestamped-data":["tsd"],"application/toml":["toml"],"application/trig":["trig"],"application/ttml+xml":["ttml"],"application/ubjson":["ubj"],"application/urc-ressheet+xml":["rsheet"],"application/urc-targetdesc+xml":["td"],"application/voicexml+xml":["vxml"],"application/wasm":["wasm"],"application/widget":["wgt"],"application/winhlp":["hlp"],"application/wsdl+xml":["wsdl"],"application/wspolicy+xml":["wspolicy"],"application/xaml+xml":["xaml"],"application/xcap-att+xml":["xav"],"application/xcap-caps+xml":["xca"],"application/xcap-diff+xml":["xdf"],"application/xcap-el+xml":["xel"],"application/xcap-ns+xml":["xns"],"application/xenc+xml":["xenc"],"application/xhtml+xml":["xhtml","xht"],"application/xliff+xml":["xlf"],"application/xml":["xml","xsl","xsd","rng"],"application/xml-dtd":["dtd"],"application/xop+xml":["xop"],"application/xproc+xml":["xpl"],"application/xslt+xml":["*xsl","xslt"],"application/xspf+xml":["xspf"],"application/xv+xml":["mxml","xhvml","xvml","xvm"],"application/yang":["yang"],"application/yin+xml":["yin"],"application/zip":["zip"],"audio/3gpp":["*3gpp"],"audio/adpcm":["adp"],"audio/amr":["amr"],"audio/basic":["au","snd"],"audio/midi":["mid","midi","kar","rmi"],"audio/mobile-xmf":["mxmf"],"audio/mp3":["*mp3"],"audio/mp4":["m4a","mp4a"],"audio/mpeg":["mpga","mp2","mp2a","mp3","m2a","m3a"],"audio/ogg":["oga","ogg","spx","opus"],"audio/s3m":["s3m"],"audio/silk":["sil"],"audio/wav":["wav"],"audio/wave":["*wav"],"audio/webm":["weba"],"audio/xm":["xm"],"font/collection":["ttc"],"font/otf":["otf"],"font/ttf":["ttf"],"font/woff":["woff"],"font/woff2":["woff2"],"image/aces":["exr"],"image/apng":["apng"],"image/avif":["avif"],"image/bmp":["bmp"],"image/cgm":["cgm"],"image/dicom-rle":["drle"],"image/emf":["emf"],"image/fits":["fits"],"image/g3fax":["g3"],"image/gif":["gif"],"image/heic":["heic"],"image/heic-sequence":["heics"],"image/heif":["heif"],"image/heif-sequence":["heifs"],"image/hej2k":["hej2"],"image/hsj2":["hsj2"],"image/ief":["ief"],"image/jls":["jls"],"image/jp2":["jp2","jpg2"],"image/jpeg":["jpeg","jpg","jpe"],"image/jph":["jph"],"image/jphc":["jhc"],"image/jpm":["jpm"],"image/jpx":["jpx","jpf"],"image/jxr":["jxr"],"image/jxra":["jxra"],"image/jxrs":["jxrs"],"image/jxs":["jxs"],"image/jxsc":["jxsc"],"image/jxsi":["jxsi"],"image/jxss":["jxss"],"image/ktx":["ktx"],"image/ktx2":["ktx2"],"image/png":["png"],"image/sgi":["sgi"],"image/svg+xml":["svg","svgz"],"image/t38":["t38"],"image/tiff":["tif","tiff"],"image/tiff-fx":["tfx"],"image/webp":["webp"],"image/wmf":["wmf"],"message/disposition-notification":["disposition-notification"],"message/global":["u8msg"],"message/global-delivery-status":["u8dsn"],"message/global-disposition-notification":["u8mdn"],"message/global-headers":["u8hdr"],"message/rfc822":["eml","mime"],"model/3mf":["3mf"],"model/gltf+json":["gltf"],"model/gltf-binary":["glb"],"model/iges":["igs","iges"],"model/mesh":["msh","mesh","silo"],"model/mtl":["mtl"],"model/obj":["obj"],"model/step+xml":["stpx"],"model/step+zip":["stpz"],"model/step-xml+zip":["stpxz"],"model/stl":["stl"],"model/vrml":["wrl","vrml"],"model/x3d+binary":["*x3db","x3dbz"],"model/x3d+fastinfoset":["x3db"],"model/x3d+vrml":["*x3dv","x3dvz"],"model/x3d+xml":["x3d","x3dz"],"model/x3d-vrml":["x3dv"],"text/cache-manifest":["appcache","manifest"],"text/calendar":["ics","ifb"],"text/coffeescript":["coffee","litcoffee"],"text/css":["css"],"text/csv":["csv"],"text/html":["html","htm","shtml"],"text/jade":["jade"],"text/jsx":["jsx"],"text/less":["less"],"text/markdown":["markdown","md"],"text/mathml":["mml"],"text/mdx":["mdx"],"text/n3":["n3"],"text/plain":["txt","text","conf","def","list","log","in","ini"],"text/richtext":["rtx"],"text/rtf":["*rtf"],"text/sgml":["sgml","sgm"],"text/shex":["shex"],"text/slim":["slim","slm"],"text/spdx":["spdx"],"text/stylus":["stylus","styl"],"text/tab-separated-values":["tsv"],"text/troff":["t","tr","roff","man","me","ms"],"text/turtle":["ttl"],"text/uri-list":["uri","uris","urls"],"text/vcard":["vcard"],"text/vtt":["vtt"],"text/xml":["*xml"],"text/yaml":["yaml","yml"],"video/3gpp":["3gp","3gpp"],"video/3gpp2":["3g2"],"video/h261":["h261"],"video/h263":["h263"],"video/h264":["h264"],"video/iso.segment":["m4s"],"video/jpeg":["jpgv"],"video/jpm":["*jpm","jpgm"],"video/mj2":["mj2","mjp2"],"video/mp2t":["ts"],"video/mp4":["mp4","mp4v","mpg4"],"video/mpeg":["mpeg","mpg","mpe","m1v","m2v"],"video/ogg":["ogv"],"video/quicktime":["qt","mov"],"video/webm":["webm"]}}),$=d((e,t)=>{t.exports={"application/prs.cww":["cww"],"application/vnd.1000minds.decision-model+xml":["1km"],"application/vnd.3gpp.pic-bw-large":["plb"],"application/vnd.3gpp.pic-bw-small":["psb"],"application/vnd.3gpp.pic-bw-var":["pvb"],"application/vnd.3gpp2.tcap":["tcap"],"application/vnd.3m.post-it-notes":["pwn"],"application/vnd.accpac.simply.aso":["aso"],"application/vnd.accpac.simply.imp":["imp"],"application/vnd.acucobol":["acu"],"application/vnd.acucorp":["atc","acutc"],"application/vnd.adobe.air-application-installer-package+zip":["air"],"application/vnd.adobe.formscentral.fcdt":["fcdt"],"application/vnd.adobe.fxp":["fxp","fxpl"],"application/vnd.adobe.xdp+xml":["xdp"],"application/vnd.adobe.xfdf":["xfdf"],"application/vnd.ahead.space":["ahead"],"application/vnd.airzip.filesecure.azf":["azf"],"application/vnd.airzip.filesecure.azs":["azs"],"application/vnd.amazon.ebook":["azw"],"application/vnd.americandynamics.acc":["acc"],"application/vnd.amiga.ami":["ami"],"application/vnd.android.package-archive":["apk"],"application/vnd.anser-web-certificate-issue-initiation":["cii"],"application/vnd.anser-web-funds-transfer-initiation":["fti"],"application/vnd.antix.game-component":["atx"],"application/vnd.apple.installer+xml":["mpkg"],"application/vnd.apple.keynote":["key"],"application/vnd.apple.mpegurl":["m3u8"],"application/vnd.apple.numbers":["numbers"],"application/vnd.apple.pages":["pages"],"application/vnd.apple.pkpass":["pkpass"],"application/vnd.aristanetworks.swi":["swi"],"application/vnd.astraea-software.iota":["iota"],"application/vnd.audiograph":["aep"],"application/vnd.balsamiq.bmml+xml":["bmml"],"application/vnd.blueice.multipass":["mpm"],"application/vnd.bmi":["bmi"],"application/vnd.businessobjects":["rep"],"application/vnd.chemdraw+xml":["cdxml"],"application/vnd.chipnuts.karaoke-mmd":["mmd"],"application/vnd.cinderella":["cdy"],"application/vnd.citationstyles.style+xml":["csl"],"application/vnd.claymore":["cla"],"application/vnd.cloanto.rp9":["rp9"],"application/vnd.clonk.c4group":["c4g","c4d","c4f","c4p","c4u"],"application/vnd.cluetrust.cartomobile-config":["c11amc"],"application/vnd.cluetrust.cartomobile-config-pkg":["c11amz"],"application/vnd.commonspace":["csp"],"application/vnd.contact.cmsg":["cdbcmsg"],"application/vnd.cosmocaller":["cmc"],"application/vnd.crick.clicker":["clkx"],"application/vnd.crick.clicker.keyboard":["clkk"],"application/vnd.crick.clicker.palette":["clkp"],"application/vnd.crick.clicker.template":["clkt"],"application/vnd.crick.clicker.wordbank":["clkw"],"application/vnd.criticaltools.wbs+xml":["wbs"],"application/vnd.ctc-posml":["pml"],"application/vnd.cups-ppd":["ppd"],"application/vnd.curl.car":["car"],"application/vnd.curl.pcurl":["pcurl"],"application/vnd.dart":["dart"],"application/vnd.data-vision.rdz":["rdz"],"application/vnd.dbf":["dbf"],"application/vnd.dece.data":["uvf","uvvf","uvd","uvvd"],"application/vnd.dece.ttml+xml":["uvt","uvvt"],"application/vnd.dece.unspecified":["uvx","uvvx"],"application/vnd.dece.zip":["uvz","uvvz"],"application/vnd.denovo.fcselayout-link":["fe_launch"],"application/vnd.dna":["dna"],"application/vnd.dolby.mlp":["mlp"],"application/vnd.dpgraph":["dpg"],"application/vnd.dreamfactory":["dfac"],"application/vnd.ds-keypoint":["kpxx"],"application/vnd.dvb.ait":["ait"],"application/vnd.dvb.service":["svc"],"application/vnd.dynageo":["geo"],"application/vnd.ecowin.chart":["mag"],"application/vnd.enliven":["nml"],"application/vnd.epson.esf":["esf"],"application/vnd.epson.msf":["msf"],"application/vnd.epson.quickanime":["qam"],"application/vnd.epson.salt":["slt"],"application/vnd.epson.ssf":["ssf"],"application/vnd.eszigno3+xml":["es3","et3"],"application/vnd.ezpix-album":["ez2"],"application/vnd.ezpix-package":["ez3"],"application/vnd.fdf":["fdf"],"application/vnd.fdsn.mseed":["mseed"],"application/vnd.fdsn.seed":["seed","dataless"],"application/vnd.flographit":["gph"],"application/vnd.fluxtime.clip":["ftc"],"application/vnd.framemaker":["fm","frame","maker","book"],"application/vnd.frogans.fnc":["fnc"],"application/vnd.frogans.ltf":["ltf"],"application/vnd.fsc.weblaunch":["fsc"],"application/vnd.fujitsu.oasys":["oas"],"application/vnd.fujitsu.oasys2":["oa2"],"application/vnd.fujitsu.oasys3":["oa3"],"application/vnd.fujitsu.oasysgp":["fg5"],"application/vnd.fujitsu.oasysprs":["bh2"],"application/vnd.fujixerox.ddd":["ddd"],"application/vnd.fujixerox.docuworks":["xdw"],"application/vnd.fujixerox.docuworks.binder":["xbd"],"application/vnd.fuzzysheet":["fzs"],"application/vnd.genomatix.tuxedo":["txd"],"application/vnd.geogebra.file":["ggb"],"application/vnd.geogebra.tool":["ggt"],"application/vnd.geometry-explorer":["gex","gre"],"application/vnd.geonext":["gxt"],"application/vnd.geoplan":["g2w"],"application/vnd.geospace":["g3w"],"application/vnd.gmx":["gmx"],"application/vnd.google-apps.document":["gdoc"],"application/vnd.google-apps.presentation":["gslides"],"application/vnd.google-apps.spreadsheet":["gsheet"],"application/vnd.google-earth.kml+xml":["kml"],"application/vnd.google-earth.kmz":["kmz"],"application/vnd.grafeq":["gqf","gqs"],"application/vnd.groove-account":["gac"],"application/vnd.groove-help":["ghf"],"application/vnd.groove-identity-message":["gim"],"application/vnd.groove-injector":["grv"],"application/vnd.groove-tool-message":["gtm"],"application/vnd.groove-tool-template":["tpl"],"application/vnd.groove-vcard":["vcg"],"application/vnd.hal+xml":["hal"],"application/vnd.handheld-entertainment+xml":["zmm"],"application/vnd.hbci":["hbci"],"application/vnd.hhe.lesson-player":["les"],"application/vnd.hp-hpgl":["hpgl"],"application/vnd.hp-hpid":["hpid"],"application/vnd.hp-hps":["hps"],"application/vnd.hp-jlyt":["jlt"],"application/vnd.hp-pcl":["pcl"],"application/vnd.hp-pclxl":["pclxl"],"application/vnd.hydrostatix.sof-data":["sfd-hdstx"],"application/vnd.ibm.minipay":["mpy"],"application/vnd.ibm.modcap":["afp","listafp","list3820"],"application/vnd.ibm.rights-management":["irm"],"application/vnd.ibm.secure-container":["sc"],"application/vnd.iccprofile":["icc","icm"],"application/vnd.igloader":["igl"],"application/vnd.immervision-ivp":["ivp"],"application/vnd.immervision-ivu":["ivu"],"application/vnd.insors.igm":["igm"],"application/vnd.intercon.formnet":["xpw","xpx"],"application/vnd.intergeo":["i2g"],"application/vnd.intu.qbo":["qbo"],"application/vnd.intu.qfx":["qfx"],"application/vnd.ipunplugged.rcprofile":["rcprofile"],"application/vnd.irepository.package+xml":["irp"],"application/vnd.is-xpr":["xpr"],"application/vnd.isac.fcs":["fcs"],"application/vnd.jam":["jam"],"application/vnd.jcp.javame.midlet-rms":["rms"],"application/vnd.jisp":["jisp"],"application/vnd.joost.joda-archive":["joda"],"application/vnd.kahootz":["ktz","ktr"],"application/vnd.kde.karbon":["karbon"],"application/vnd.kde.kchart":["chrt"],"application/vnd.kde.kformula":["kfo"],"application/vnd.kde.kivio":["flw"],"application/vnd.kde.kontour":["kon"],"application/vnd.kde.kpresenter":["kpr","kpt"],"application/vnd.kde.kspread":["ksp"],"application/vnd.kde.kword":["kwd","kwt"],"application/vnd.kenameaapp":["htke"],"application/vnd.kidspiration":["kia"],"application/vnd.kinar":["kne","knp"],"application/vnd.koan":["skp","skd","skt","skm"],"application/vnd.kodak-descriptor":["sse"],"application/vnd.las.las+xml":["lasxml"],"application/vnd.llamagraphics.life-balance.desktop":["lbd"],"application/vnd.llamagraphics.life-balance.exchange+xml":["lbe"],"application/vnd.lotus-1-2-3":["123"],"application/vnd.lotus-approach":["apr"],"application/vnd.lotus-freelance":["pre"],"application/vnd.lotus-notes":["nsf"],"application/vnd.lotus-organizer":["org"],"application/vnd.lotus-screencam":["scm"],"application/vnd.lotus-wordpro":["lwp"],"application/vnd.macports.portpkg":["portpkg"],"application/vnd.mapbox-vector-tile":["mvt"],"application/vnd.mcd":["mcd"],"application/vnd.medcalcdata":["mc1"],"application/vnd.mediastation.cdkey":["cdkey"],"application/vnd.mfer":["mwf"],"application/vnd.mfmp":["mfm"],"application/vnd.micrografx.flo":["flo"],"application/vnd.micrografx.igx":["igx"],"application/vnd.mif":["mif"],"application/vnd.mobius.daf":["daf"],"application/vnd.mobius.dis":["dis"],"application/vnd.mobius.mbk":["mbk"],"application/vnd.mobius.mqy":["mqy"],"application/vnd.mobius.msl":["msl"],"application/vnd.mobius.plc":["plc"],"application/vnd.mobius.txf":["txf"],"application/vnd.mophun.application":["mpn"],"application/vnd.mophun.certificate":["mpc"],"application/vnd.mozilla.xul+xml":["xul"],"application/vnd.ms-artgalry":["cil"],"application/vnd.ms-cab-compressed":["cab"],"application/vnd.ms-excel":["xls","xlm","xla","xlc","xlt","xlw"],"application/vnd.ms-excel.addin.macroenabled.12":["xlam"],"application/vnd.ms-excel.sheet.binary.macroenabled.12":["xlsb"],"application/vnd.ms-excel.sheet.macroenabled.12":["xlsm"],"application/vnd.ms-excel.template.macroenabled.12":["xltm"],"application/vnd.ms-fontobject":["eot"],"application/vnd.ms-htmlhelp":["chm"],"application/vnd.ms-ims":["ims"],"application/vnd.ms-lrm":["lrm"],"application/vnd.ms-officetheme":["thmx"],"application/vnd.ms-outlook":["msg"],"application/vnd.ms-pki.seccat":["cat"],"application/vnd.ms-pki.stl":["*stl"],"application/vnd.ms-powerpoint":["ppt","pps","pot"],"application/vnd.ms-powerpoint.addin.macroenabled.12":["ppam"],"application/vnd.ms-powerpoint.presentation.macroenabled.12":["pptm"],"application/vnd.ms-powerpoint.slide.macroenabled.12":["sldm"],"application/vnd.ms-powerpoint.slideshow.macroenabled.12":["ppsm"],"application/vnd.ms-powerpoint.template.macroenabled.12":["potm"],"application/vnd.ms-project":["mpp","mpt"],"application/vnd.ms-word.document.macroenabled.12":["docm"],"application/vnd.ms-word.template.macroenabled.12":["dotm"],"application/vnd.ms-works":["wps","wks","wcm","wdb"],"application/vnd.ms-wpl":["wpl"],"application/vnd.ms-xpsdocument":["xps"],"application/vnd.mseq":["mseq"],"application/vnd.musician":["mus"],"application/vnd.muvee.style":["msty"],"application/vnd.mynfc":["taglet"],"application/vnd.neurolanguage.nlu":["nlu"],"application/vnd.nitf":["ntf","nitf"],"application/vnd.noblenet-directory":["nnd"],"application/vnd.noblenet-sealer":["nns"],"application/vnd.noblenet-web":["nnw"],"application/vnd.nokia.n-gage.ac+xml":["*ac"],"application/vnd.nokia.n-gage.data":["ngdat"],"application/vnd.nokia.n-gage.symbian.install":["n-gage"],"application/vnd.nokia.radio-preset":["rpst"],"application/vnd.nokia.radio-presets":["rpss"],"application/vnd.novadigm.edm":["edm"],"application/vnd.novadigm.edx":["edx"],"application/vnd.novadigm.ext":["ext"],"application/vnd.oasis.opendocument.chart":["odc"],"application/vnd.oasis.opendocument.chart-template":["otc"],"application/vnd.oasis.opendocument.database":["odb"],"application/vnd.oasis.opendocument.formula":["odf"],"application/vnd.oasis.opendocument.formula-template":["odft"],"application/vnd.oasis.opendocument.graphics":["odg"],"application/vnd.oasis.opendocument.graphics-template":["otg"],"application/vnd.oasis.opendocument.image":["odi"],"application/vnd.oasis.opendocument.image-template":["oti"],"application/vnd.oasis.opendocument.presentation":["odp"],"application/vnd.oasis.opendocument.presentation-template":["otp"],"application/vnd.oasis.opendocument.spreadsheet":["ods"],"application/vnd.oasis.opendocument.spreadsheet-template":["ots"],"application/vnd.oasis.opendocument.text":["odt"],"application/vnd.oasis.opendocument.text-master":["odm"],"application/vnd.oasis.opendocument.text-template":["ott"],"application/vnd.oasis.opendocument.text-web":["oth"],"application/vnd.olpc-sugar":["xo"],"application/vnd.oma.dd2+xml":["dd2"],"application/vnd.openblox.game+xml":["obgx"],"application/vnd.openofficeorg.extension":["oxt"],"application/vnd.openstreetmap.data+xml":["osm"],"application/vnd.openxmlformats-officedocument.presentationml.presentation":["pptx"],"application/vnd.openxmlformats-officedocument.presentationml.slide":["sldx"],"application/vnd.openxmlformats-officedocument.presentationml.slideshow":["ppsx"],"application/vnd.openxmlformats-officedocument.presentationml.template":["potx"],"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":["xlsx"],"application/vnd.openxmlformats-officedocument.spreadsheetml.template":["xltx"],"application/vnd.openxmlformats-officedocument.wordprocessingml.document":["docx"],"application/vnd.openxmlformats-officedocument.wordprocessingml.template":["dotx"],"application/vnd.osgeo.mapguide.package":["mgp"],"application/vnd.osgi.dp":["dp"],"application/vnd.osgi.subsystem":["esa"],"application/vnd.palm":["pdb","pqa","oprc"],"application/vnd.pawaafile":["paw"],"application/vnd.pg.format":["str"],"application/vnd.pg.osasli":["ei6"],"application/vnd.picsel":["efif"],"application/vnd.pmi.widget":["wg"],"application/vnd.pocketlearn":["plf"],"application/vnd.powerbuilder6":["pbd"],"application/vnd.previewsystems.box":["box"],"application/vnd.proteus.magazine":["mgz"],"application/vnd.publishare-delta-tree":["qps"],"application/vnd.pvi.ptid1":["ptid"],"application/vnd.quark.quarkxpress":["qxd","qxt","qwd","qwt","qxl","qxb"],"application/vnd.rar":["rar"],"application/vnd.realvnc.bed":["bed"],"application/vnd.recordare.musicxml":["mxl"],"application/vnd.recordare.musicxml+xml":["musicxml"],"application/vnd.rig.cryptonote":["cryptonote"],"application/vnd.rim.cod":["cod"],"application/vnd.rn-realmedia":["rm"],"application/vnd.rn-realmedia-vbr":["rmvb"],"application/vnd.route66.link66+xml":["link66"],"application/vnd.sailingtracker.track":["st"],"application/vnd.seemail":["see"],"application/vnd.sema":["sema"],"application/vnd.semd":["semd"],"application/vnd.semf":["semf"],"application/vnd.shana.informed.formdata":["ifm"],"application/vnd.shana.informed.formtemplate":["itp"],"application/vnd.shana.informed.interchange":["iif"],"application/vnd.shana.informed.package":["ipk"],"application/vnd.simtech-mindmapper":["twd","twds"],"application/vnd.smaf":["mmf"],"application/vnd.smart.teacher":["teacher"],"application/vnd.software602.filler.form+xml":["fo"],"application/vnd.solent.sdkm+xml":["sdkm","sdkd"],"application/vnd.spotfire.dxp":["dxp"],"application/vnd.spotfire.sfs":["sfs"],"application/vnd.stardivision.calc":["sdc"],"application/vnd.stardivision.draw":["sda"],"application/vnd.stardivision.impress":["sdd"],"application/vnd.stardivision.math":["smf"],"application/vnd.stardivision.writer":["sdw","vor"],"application/vnd.stardivision.writer-global":["sgl"],"application/vnd.stepmania.package":["smzip"],"application/vnd.stepmania.stepchart":["sm"],"application/vnd.sun.wadl+xml":["wadl"],"application/vnd.sun.xml.calc":["sxc"],"application/vnd.sun.xml.calc.template":["stc"],"application/vnd.sun.xml.draw":["sxd"],"application/vnd.sun.xml.draw.template":["std"],"application/vnd.sun.xml.impress":["sxi"],"application/vnd.sun.xml.impress.template":["sti"],"application/vnd.sun.xml.math":["sxm"],"application/vnd.sun.xml.writer":["sxw"],"application/vnd.sun.xml.writer.global":["sxg"],"application/vnd.sun.xml.writer.template":["stw"],"application/vnd.sus-calendar":["sus","susp"],"application/vnd.svd":["svd"],"application/vnd.symbian.install":["sis","sisx"],"application/vnd.syncml+xml":["xsm"],"application/vnd.syncml.dm+wbxml":["bdm"],"application/vnd.syncml.dm+xml":["xdm"],"application/vnd.syncml.dmddf+xml":["ddf"],"application/vnd.tao.intent-module-archive":["tao"],"application/vnd.tcpdump.pcap":["pcap","cap","dmp"],"application/vnd.tmobile-livetv":["tmo"],"application/vnd.trid.tpt":["tpt"],"application/vnd.triscape.mxs":["mxs"],"application/vnd.trueapp":["tra"],"application/vnd.ufdl":["ufd","ufdl"],"application/vnd.uiq.theme":["utz"],"application/vnd.umajin":["umj"],"application/vnd.unity":["unityweb"],"application/vnd.uoml+xml":["uoml"],"application/vnd.vcx":["vcx"],"application/vnd.visio":["vsd","vst","vss","vsw"],"application/vnd.visionary":["vis"],"application/vnd.vsf":["vsf"],"application/vnd.wap.wbxml":["wbxml"],"application/vnd.wap.wmlc":["wmlc"],"application/vnd.wap.wmlscriptc":["wmlsc"],"application/vnd.webturbo":["wtb"],"application/vnd.wolfram.player":["nbp"],"application/vnd.wordperfect":["wpd"],"application/vnd.wqd":["wqd"],"application/vnd.wt.stf":["stf"],"application/vnd.xara":["xar"],"application/vnd.xfdl":["xfdl"],"application/vnd.yamaha.hv-dic":["hvd"],"application/vnd.yamaha.hv-script":["hvs"],"application/vnd.yamaha.hv-voice":["hvp"],"application/vnd.yamaha.openscoreformat":["osf"],"application/vnd.yamaha.openscoreformat.osfpvg+xml":["osfpvg"],"application/vnd.yamaha.smaf-audio":["saf"],"application/vnd.yamaha.smaf-phrase":["spf"],"application/vnd.yellowriver-custom-menu":["cmp"],"application/vnd.zul":["zir","zirz"],"application/vnd.zzazz.deck+xml":["zaz"],"application/x-7z-compressed":["7z"],"application/x-abiword":["abw"],"application/x-ace-compressed":["ace"],"application/x-apple-diskimage":["*dmg"],"application/x-arj":["arj"],"application/x-authorware-bin":["aab","x32","u32","vox"],"application/x-authorware-map":["aam"],"application/x-authorware-seg":["aas"],"application/x-bcpio":["bcpio"],"application/x-bdoc":["*bdoc"],"application/x-bittorrent":["torrent"],"application/x-blorb":["blb","blorb"],"application/x-bzip":["bz"],"application/x-bzip2":["bz2","boz"],"application/x-cbr":["cbr","cba","cbt","cbz","cb7"],"application/x-cdlink":["vcd"],"application/x-cfs-compressed":["cfs"],"application/x-chat":["chat"],"application/x-chess-pgn":["pgn"],"application/x-chrome-extension":["crx"],"application/x-cocoa":["cco"],"application/x-conference":["nsc"],"application/x-cpio":["cpio"],"application/x-csh":["csh"],"application/x-debian-package":["*deb","udeb"],"application/x-dgc-compressed":["dgc"],"application/x-director":["dir","dcr","dxr","cst","cct","cxt","w3d","fgd","swa"],"application/x-doom":["wad"],"application/x-dtbncx+xml":["ncx"],"application/x-dtbook+xml":["dtb"],"application/x-dtbresource+xml":["res"],"application/x-dvi":["dvi"],"application/x-envoy":["evy"],"application/x-eva":["eva"],"application/x-font-bdf":["bdf"],"application/x-font-ghostscript":["gsf"],"application/x-font-linux-psf":["psf"],"application/x-font-pcf":["pcf"],"application/x-font-snf":["snf"],"application/x-font-type1":["pfa","pfb","pfm","afm"],"application/x-freearc":["arc"],"application/x-futuresplash":["spl"],"application/x-gca-compressed":["gca"],"application/x-glulx":["ulx"],"application/x-gnumeric":["gnumeric"],"application/x-gramps-xml":["gramps"],"application/x-gtar":["gtar"],"application/x-hdf":["hdf"],"application/x-httpd-php":["php"],"application/x-install-instructions":["install"],"application/x-iso9660-image":["*iso"],"application/x-iwork-keynote-sffkey":["*key"],"application/x-iwork-numbers-sffnumbers":["*numbers"],"application/x-iwork-pages-sffpages":["*pages"],"application/x-java-archive-diff":["jardiff"],"application/x-java-jnlp-file":["jnlp"],"application/x-keepass2":["kdbx"],"application/x-latex":["latex"],"application/x-lua-bytecode":["luac"],"application/x-lzh-compressed":["lzh","lha"],"application/x-makeself":["run"],"application/x-mie":["mie"],"application/x-mobipocket-ebook":["prc","mobi"],"application/x-ms-application":["application"],"application/x-ms-shortcut":["lnk"],"application/x-ms-wmd":["wmd"],"application/x-ms-wmz":["wmz"],"application/x-ms-xbap":["xbap"],"application/x-msaccess":["mdb"],"application/x-msbinder":["obd"],"application/x-mscardfile":["crd"],"application/x-msclip":["clp"],"application/x-msdos-program":["*exe"],"application/x-msdownload":["*exe","*dll","com","bat","*msi"],"application/x-msmediaview":["mvb","m13","m14"],"application/x-msmetafile":["*wmf","*wmz","*emf","emz"],"application/x-msmoney":["mny"],"application/x-mspublisher":["pub"],"application/x-msschedule":["scd"],"application/x-msterminal":["trm"],"application/x-mswrite":["wri"],"application/x-netcdf":["nc","cdf"],"application/x-ns-proxy-autoconfig":["pac"],"application/x-nzb":["nzb"],"application/x-perl":["pl","pm"],"application/x-pilot":["*prc","*pdb"],"application/x-pkcs12":["p12","pfx"],"application/x-pkcs7-certificates":["p7b","spc"],"application/x-pkcs7-certreqresp":["p7r"],"application/x-rar-compressed":["*rar"],"application/x-redhat-package-manager":["rpm"],"application/x-research-info-systems":["ris"],"application/x-sea":["sea"],"application/x-sh":["sh"],"application/x-shar":["shar"],"application/x-shockwave-flash":["swf"],"application/x-silverlight-app":["xap"],"application/x-sql":["sql"],"application/x-stuffit":["sit"],"application/x-stuffitx":["sitx"],"application/x-subrip":["srt"],"application/x-sv4cpio":["sv4cpio"],"application/x-sv4crc":["sv4crc"],"application/x-t3vm-image":["t3"],"application/x-tads":["gam"],"application/x-tar":["tar"],"application/x-tcl":["tcl","tk"],"application/x-tex":["tex"],"application/x-tex-tfm":["tfm"],"application/x-texinfo":["texinfo","texi"],"application/x-tgif":["*obj"],"application/x-ustar":["ustar"],"application/x-virtualbox-hdd":["hdd"],"application/x-virtualbox-ova":["ova"],"application/x-virtualbox-ovf":["ovf"],"application/x-virtualbox-vbox":["vbox"],"application/x-virtualbox-vbox-extpack":["vbox-extpack"],"application/x-virtualbox-vdi":["vdi"],"application/x-virtualbox-vhd":["vhd"],"application/x-virtualbox-vmdk":["vmdk"],"application/x-wais-source":["src"],"application/x-web-app-manifest+json":["webapp"],"application/x-x509-ca-cert":["der","crt","pem"],"application/x-xfig":["fig"],"application/x-xliff+xml":["*xlf"],"application/x-xpinstall":["xpi"],"application/x-xz":["xz"],"application/x-zmachine":["z1","z2","z3","z4","z5","z6","z7","z8"],"audio/vnd.dece.audio":["uva","uvva"],"audio/vnd.digital-winds":["eol"],"audio/vnd.dra":["dra"],"audio/vnd.dts":["dts"],"audio/vnd.dts.hd":["dtshd"],"audio/vnd.lucent.voice":["lvp"],"audio/vnd.ms-playready.media.pya":["pya"],"audio/vnd.nuera.ecelp4800":["ecelp4800"],"audio/vnd.nuera.ecelp7470":["ecelp7470"],"audio/vnd.nuera.ecelp9600":["ecelp9600"],"audio/vnd.rip":["rip"],"audio/x-aac":["aac"],"audio/x-aiff":["aif","aiff","aifc"],"audio/x-caf":["caf"],"audio/x-flac":["flac"],"audio/x-m4a":["*m4a"],"audio/x-matroska":["mka"],"audio/x-mpegurl":["m3u"],"audio/x-ms-wax":["wax"],"audio/x-ms-wma":["wma"],"audio/x-pn-realaudio":["ram","ra"],"audio/x-pn-realaudio-plugin":["rmp"],"audio/x-realaudio":["*ra"],"audio/x-wav":["*wav"],"chemical/x-cdx":["cdx"],"chemical/x-cif":["cif"],"chemical/x-cmdf":["cmdf"],"chemical/x-cml":["cml"],"chemical/x-csml":["csml"],"chemical/x-xyz":["xyz"],"image/prs.btif":["btif"],"image/prs.pti":["pti"],"image/vnd.adobe.photoshop":["psd"],"image/vnd.airzip.accelerator.azv":["azv"],"image/vnd.dece.graphic":["uvi","uvvi","uvg","uvvg"],"image/vnd.djvu":["djvu","djv"],"image/vnd.dvb.subtitle":["*sub"],"image/vnd.dwg":["dwg"],"image/vnd.dxf":["dxf"],"image/vnd.fastbidsheet":["fbs"],"image/vnd.fpx":["fpx"],"image/vnd.fst":["fst"],"image/vnd.fujixerox.edmics-mmr":["mmr"],"image/vnd.fujixerox.edmics-rlc":["rlc"],"image/vnd.microsoft.icon":["ico"],"image/vnd.ms-dds":["dds"],"image/vnd.ms-modi":["mdi"],"image/vnd.ms-photo":["wdp"],"image/vnd.net-fpx":["npx"],"image/vnd.pco.b16":["b16"],"image/vnd.tencent.tap":["tap"],"image/vnd.valve.source.texture":["vtf"],"image/vnd.wap.wbmp":["wbmp"],"image/vnd.xiff":["xif"],"image/vnd.zbrush.pcx":["pcx"],"image/x-3ds":["3ds"],"image/x-cmu-raster":["ras"],"image/x-cmx":["cmx"],"image/x-freehand":["fh","fhc","fh4","fh5","fh7"],"image/x-icon":["*ico"],"image/x-jng":["jng"],"image/x-mrsid-image":["sid"],"image/x-ms-bmp":["*bmp"],"image/x-pcx":["*pcx"],"image/x-pict":["pic","pct"],"image/x-portable-anymap":["pnm"],"image/x-portable-bitmap":["pbm"],"image/x-portable-graymap":["pgm"],"image/x-portable-pixmap":["ppm"],"image/x-rgb":["rgb"],"image/x-tga":["tga"],"image/x-xbitmap":["xbm"],"image/x-xpixmap":["xpm"],"image/x-xwindowdump":["xwd"],"message/vnd.wfa.wsc":["wsc"],"model/vnd.collada+xml":["dae"],"model/vnd.dwf":["dwf"],"model/vnd.gdl":["gdl"],"model/vnd.gtw":["gtw"],"model/vnd.mts":["mts"],"model/vnd.opengex":["ogex"],"model/vnd.parasolid.transmit.binary":["x_b"],"model/vnd.parasolid.transmit.text":["x_t"],"model/vnd.sap.vds":["vds"],"model/vnd.usdz+zip":["usdz"],"model/vnd.valve.source.compiled-map":["bsp"],"model/vnd.vtu":["vtu"],"text/prs.lines.tag":["dsc"],"text/vnd.curl":["curl"],"text/vnd.curl.dcurl":["dcurl"],"text/vnd.curl.mcurl":["mcurl"],"text/vnd.curl.scurl":["scurl"],"text/vnd.dvb.subtitle":["sub"],"text/vnd.fly":["fly"],"text/vnd.fmi.flexstor":["flx"],"text/vnd.graphviz":["gv"],"text/vnd.in3d.3dml":["3dml"],"text/vnd.in3d.spot":["spot"],"text/vnd.sun.j2me.app-descriptor":["jad"],"text/vnd.wap.wml":["wml"],"text/vnd.wap.wmlscript":["wmls"],"text/x-asm":["s","asm"],"text/x-c":["c","cc","cxx","cpp","h","hh","dic"],"text/x-component":["htc"],"text/x-fortran":["f","for","f77","f90"],"text/x-handlebars-template":["hbs"],"text/x-java-source":["java"],"text/x-lua":["lua"],"text/x-markdown":["mkd"],"text/x-nfo":["nfo"],"text/x-opml":["opml"],"text/x-org":["*org"],"text/x-pascal":["p","pas"],"text/x-processing":["pde"],"text/x-sass":["sass"],"text/x-scss":["scss"],"text/x-setext":["etx"],"text/x-sfv":["sfv"],"text/x-suse-ymp":["ymp"],"text/x-uuencode":["uu"],"text/x-vcalendar":["vcs"],"text/x-vcard":["vcf"],"video/vnd.dece.hd":["uvh","uvvh"],"video/vnd.dece.mobile":["uvm","uvvm"],"video/vnd.dece.pd":["uvp","uvvp"],"video/vnd.dece.sd":["uvs","uvvs"],"video/vnd.dece.video":["uvv","uvvv"],"video/vnd.dvb.file":["dvb"],"video/vnd.fvt":["fvt"],"video/vnd.mpegurl":["mxu","m4u"],"video/vnd.ms-playready.media.pyv":["pyv"],"video/vnd.uvvu.mp4":["uvu","uvvu"],"video/vnd.vivo":["viv"],"video/x-f4v":["f4v"],"video/x-fli":["fli"],"video/x-flv":["flv"],"video/x-m4v":["m4v"],"video/x-matroska":["mkv","mk3d","mks"],"video/x-mng":["mng"],"video/x-ms-asf":["asf","asx"],"video/x-ms-vob":["vob"],"video/x-ms-wm":["wm"],"video/x-ms-wmv":["wmv"],"video/x-ms-wmx":["wmx"],"video/x-ms-wvx":["wvx"],"video/x-msvideo":["avi"],"video/x-sgi-movie":["movie"],"video/x-smv":["smv"],"x-conference/x-cooltalk":["ice"]}}),G=d((e,t)=>{var n=q();t.exports=new n(W(),$())}),V=d((e,t)=>{t.exports=function(e,t){for(var r=[],o=0;o<e.length;o++){var i=t(e[o],o);n(i)?r.push.apply(r,i):r.push(i)}return r};var n=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}}),Y=d((e,t)=>{function n(e,t,n){e instanceof RegExp&&(e=r(e,n)),t instanceof RegExp&&(t=r(t,n));var i=o(e,t,n);return i&&{start:i[0],end:i[1],pre:n.slice(0,i[0]),body:n.slice(i[0]+e.length,i[1]),post:n.slice(i[1]+t.length)}}function r(e,t){var n=t.match(e);return n?n[0]:null}function o(e,t,n){var r,o,i,s,a,l=n.indexOf(e),c=n.indexOf(t,l+1),u=l;if(l>=0&&c>0){if(e===t)return[l,c];for(r=[],i=n.length;u>=0&&!a;)u==l?(r.push(u),l=n.indexOf(e,u+1)):1==r.length?a=[r.pop(),c]:((o=r.pop())<i&&(i=o,s=c),c=n.indexOf(t,u+1)),u=l<c&&l>=0?l:c;r.length&&(a=[i,s])}return a}t.exports=n,n.range=o}),J=d((e,t)=>{var n=V(),r=Y();t.exports=function(e){return e?("{}"===e.substr(0,2)&&(e="\\{\\}"+e.substr(2)),g(function(e){return e.split("\\\\").join(o).split("\\{").join(i).split("\\}").join(s).split("\\,").join(a).split("\\.").join(l)}(e),!0).map(u)):[]};var o="\0SLASH"+Math.random()+"\0",i="\0OPEN"+Math.random()+"\0",s="\0CLOSE"+Math.random()+"\0",a="\0COMMA"+Math.random()+"\0",l="\0PERIOD"+Math.random()+"\0";function c(e){return parseInt(e,10)==e?parseInt(e,10):e.charCodeAt(0)}function u(e){return e.split(o).join("\\").split(i).join("{").split(s).join("}").split(a).join(",").split(l).join(".")}function d(e){if(!e)return[""];var t=[],n=r("{","}",e);if(!n)return e.split(",");var o=n.pre,i=n.body,s=n.post,a=o.split(",");a[a.length-1]+="{"+i+"}";var l=d(s);return s.length&&(a[a.length-1]+=l.shift(),a.push.apply(a,l)),t.push.apply(t,a),t}function h(e){return"{"+e+"}"}function p(e){return/^-?0\d/.test(e)}function f(e,t){return e<=t}function m(e,t){return e>=t}function g(e,t){var o=[],i=r("{","}",e);if(!i||/\$$/.test(i.pre))return[e];var a,l=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(i.body),u=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(i.body),b=l||u,w=i.body.indexOf(",")>=0;if(!b&&!w)return i.post.match(/,(?!,).*\}/)?g(e=i.pre+"{"+i.body+s+i.post):[e];if(b)a=i.body.split(/\.\./);else if(1===(a=d(i.body)).length&&1===(a=g(a[0],!1).map(h)).length)return(A=i.post.length?g(i.post,!1):[""]).map(function(e){return i.pre+a[0]+e});var y,v=i.pre,A=i.post.length?g(i.post,!1):[""];if(b){var _=c(a[0]),x=c(a[1]),S=Math.max(a[0].length,a[1].length),E=3==a.length?Math.abs(c(a[2])):1,C=f;x<_&&(E*=-1,C=m);var k=a.some(p);y=[];for(var O=_;C(O,x);O+=E){var T;if(u)"\\"===(T=String.fromCharCode(O))&&(T="");else if(T=String(O),k){var I=S-T.length;if(I>0){var B=new Array(I+1).join("0");T=O<0?"-"+B+T.slice(1):B+T}}y.push(T)}}else y=n(a,function(e){return g(e,!1)});for(var M=0;M<y.length;M++)for(var P=0;P<A.length;P++){var j=v+y[M]+A[P];(!t||b||j)&&o.push(j)}return o}}),K=d((e,t)=>{t.exports=h,h.Minimatch=p;var r=function(){try{return n("path")}catch{}}()||{sep:"/"};h.sep=r.sep;var o=h.GLOBSTAR=p.GLOBSTAR={},i=J(),s={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},a="[^/]",l=a+"*?",c="().*{}+?[]^$\\!".split("").reduce(function(e,t){return e[t]=!0,e},{}),u=/\/+/;function d(e,t){t=t||{};var n={};return Object.keys(e).forEach(function(t){n[t]=e[t]}),Object.keys(t).forEach(function(e){n[e]=t[e]}),n}function h(e,t,n){return m(t),n||(n={}),!(!n.nocomment&&"#"===t.charAt(0))&&new p(t,n).match(e)}function p(e,t){if(!(this instanceof p))return new p(e,t);m(e),t||(t={}),e=e.trim(),!t.allowWindowsEscape&&"/"!==r.sep&&(e=e.split(r.sep).join("/")),this.options=t,this.set=[],this.pattern=e,this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.partial=!!t.partial,this.make()}function f(e,t){return t||(t=this instanceof p?this.options:{}),e=void 0===e?this.pattern:e,m(e),t.nobrace||!/\{(?:(?!\{).)*\}/.test(e)?[e]:i(e)}h.filter=function(e,t){return t=t||{},function(n,r,o){return h(n,e,t)}},h.defaults=function(e){if(!e||"object"!=typeof e||!Object.keys(e).length)return h;var t=h,n=function(n,r,o){return t(n,r,d(e,o))};return(n.Minimatch=function(n,r){return new t.Minimatch(n,d(e,r))}).defaults=function(n){return t.defaults(d(e,n)).Minimatch},n.filter=function(n,r){return t.filter(n,d(e,r))},n.defaults=function(n){return t.defaults(d(e,n))},n.makeRe=function(n,r){return t.makeRe(n,d(e,r))},n.braceExpand=function(n,r){return t.braceExpand(n,d(e,r))},n.match=function(n,r,o){return t.match(n,r,d(e,o))},n},p.defaults=function(e){return h.defaults(e).Minimatch},p.prototype.debug=function(){},p.prototype.make=function(){var e=this.pattern,t=this.options;if(t.nocomment||"#"!==e.charAt(0))if(e){this.parseNegate();var n=this.globSet=this.braceExpand();t.debug&&(this.debug=function(){console.error.apply(console,arguments)}),this.debug(this.pattern,n),n=this.globParts=n.map(function(e){return e.split(u)}),this.debug(this.pattern,n),n=n.map(function(e,t,n){return e.map(this.parse,this)},this),this.debug(this.pattern,n),n=n.filter(function(e){return-1===e.indexOf(!1)}),this.debug(this.pattern,n),this.set=n}else this.empty=!0;else this.comment=!0},p.prototype.parseNegate=function(){var e=this.pattern,t=!1,n=0;if(!this.options.nonegate){for(var r=0,o=e.length;r<o&&"!"===e.charAt(r);r++)t=!t,n++;n&&(this.pattern=e.substr(n)),this.negate=t}},h.braceExpand=function(e,t){return f(e,t)},p.prototype.braceExpand=f;var m=function(e){if("string"!=typeof e)throw new TypeError("invalid pattern");if(e.length>65536)throw new TypeError("pattern is too long")};p.prototype.parse=function(e,t){m(e);var n=this.options;if("**"===e){if(!n.noglobstar)return o;e="*"}if(""===e)return"";var r,i="",u=!!n.nocase,d=!1,h=[],p=[],f=!1,b=-1,w=-1,y="."===e.charAt(0)?"":n.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",v=this;function A(){if(r){switch(r){case"*":i+=l,u=!0;break;case"?":i+=a,u=!0;break;default:i+="\\"+r}v.debug("clearStateChar %j %j",r,i),r=!1}}for(var _,x=0,S=e.length;x<S&&(_=e.charAt(x));x++)if(this.debug("%s\t%s %s %j",e,x,i,_),d&&c[_])i+="\\"+_,d=!1;else switch(_){case"/":return!1;case"\\":A(),d=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s\t%s %s %j <-- stateChar",e,x,i,_),f){this.debug("  in class"),"!"===_&&x===w+1&&(_="^"),i+=_;continue}v.debug("call clearStateChar %j",r),A(),r=_,n.noext&&A();continue;case"(":if(f){i+="(";continue}if(!r){i+="\\(";continue}h.push({type:r,start:x-1,reStart:i.length,open:s[r].open,close:s[r].close}),i+="!"===r?"(?:(?!(?:":"(?:",this.debug("plType %j %j",r,i),r=!1;continue;case")":if(f||!h.length){i+="\\)";continue}A(),u=!0;var E=h.pop();i+=E.close,"!"===E.type&&p.push(E),E.reEnd=i.length;continue;case"|":if(f||!h.length||d){i+="\\|",d=!1;continue}A(),i+="|";continue;case"[":if(A(),f){i+="\\"+_;continue}f=!0,w=x,b=i.length,i+=_;continue;case"]":if(x===w+1||!f){i+="\\"+_,d=!1;continue}var C=e.substring(w+1,x);try{RegExp("["+C+"]")}catch{var k=this.parse(C,g);i=i.substr(0,b)+"\\["+k[0]+"\\]",u=u||k[1],f=!1;continue}u=!0,f=!1,i+=_;continue;default:A(),d?d=!1:c[_]&&!("^"===_&&f)&&(i+="\\"),i+=_}for(f&&(C=e.substr(w+1),k=this.parse(C,g),i=i.substr(0,b)+"\\["+k[0],u=u||k[1]),E=h.pop();E;E=h.pop()){var O=i.slice(E.reStart+E.open.length);this.debug("setting tail",i,E),O=O.replace(/((?:\\{2}){0,64})(\\?)\|/g,function(e,t,n){return n||(n="\\"),t+t+n+"|"}),this.debug("tail=%j\n   %s",O,O,E,i);var T="*"===E.type?l:"?"===E.type?a:"\\"+E.type;u=!0,i=i.slice(0,E.reStart)+T+"\\("+O}A(),d&&(i+="\\\\");var I=!1;switch(i.charAt(0)){case"[":case".":case"(":I=!0}for(var B=p.length-1;B>-1;B--){var M=p[B],P=i.slice(0,M.reStart),j=i.slice(M.reStart,M.reEnd-8),N=i.slice(M.reEnd-8,M.reEnd),F=i.slice(M.reEnd);N+=F;var D=P.split("(").length-1,R=F;for(x=0;x<D;x++)R=R.replace(/\)[+*?]?/,"");var L="";""===(F=R)&&t!==g&&(L="$"),i=P+j+F+L+N}if(""!==i&&u&&(i="(?=.)"+i),I&&(i=y+i),t===g)return[i,u];if(!u)return function(e){return e.replace(/\\(.)/g,"$1")}(e);var z=n.nocase?"i":"";try{var H=new RegExp("^"+i+"$",z)}catch{return new RegExp("$.")}return H._glob=e,H._src=i,H};var g={};h.makeRe=function(e,t){return new p(e,t||{}).makeRe()},p.prototype.makeRe=function(){if(this.regexp||!1===this.regexp)return this.regexp;var e=this.set;if(!e.length)return this.regexp=!1,this.regexp;var t=this.options,n=t.noglobstar?l:t.dot?"(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?":"(?:(?!(?:\\/|^)\\.).)*?",r=t.nocase?"i":"",i=e.map(function(e){return e.map(function(e){return e===o?n:"string"==typeof e?function(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}(e):e._src}).join("\\/")}).join("|");i="^(?:"+i+")$",this.negate&&(i="^(?!"+i+").*$");try{this.regexp=new RegExp(i,r)}catch{this.regexp=!1}return this.regexp},h.match=function(e,t,n){var r=new p(t,n=n||{});return e=e.filter(function(e){return r.match(e)}),r.options.nonull&&!e.length&&e.push(t),e},p.prototype.match=function(e,t){if(void 0===t&&(t=this.partial),this.debug("match",e,this.pattern),this.comment)return!1;if(this.empty)return""===e;if("/"===e&&t)return!0;var n=this.options;"/"!==r.sep&&(e=e.split(r.sep).join("/")),e=e.split(u),this.debug(this.pattern,"split",e);var o,i,s=this.set;for(this.debug(this.pattern,"set",s),i=e.length-1;i>=0&&!(o=e[i]);i--);for(i=0;i<s.length;i++){var a=s[i],l=e;if(n.matchBase&&1===a.length&&(l=[o]),this.matchOne(l,a,t))return!!n.flipNegate||!this.negate}return!n.flipNegate&&this.negate},p.prototype.matchOne=function(e,t,n){var r=this.options;this.debug("matchOne",{this:this,file:e,pattern:t}),this.debug("matchOne",e.length,t.length);for(var i=0,s=0,a=e.length,l=t.length;i<a&&s<l;i++,s++){this.debug("matchOne loop");var c,u=t[s],d=e[i];if(this.debug(t,u,d),!1===u)return!1;if(u===o){this.debug("GLOBSTAR",[t,u,d]);var h=i,p=s+1;if(p===l){for(this.debug("** at the end");i<a;i++)if("."===e[i]||".."===e[i]||!r.dot&&"."===e[i].charAt(0))return!1;return!0}for(;h<a;){var f=e[h];if(this.debug("\nglobstar while",e,h,t,p,f),this.matchOne(e.slice(h),t.slice(p),n))return this.debug("globstar found match!",h,a,f),!0;if("."===f||".."===f||!r.dot&&"."===f.charAt(0)){this.debug("dot detected!",e,h,t,p);break}this.debug("globstar swallow a segment, and continue"),h++}return!(!n||(this.debug("\n>>> no match, partial?",e,h,t,p),h!==a))}if("string"==typeof u?(c=d===u,this.debug("string match",u,d,c)):(c=d.match(u),this.debug("pattern match",u,d,c)),!c)return!1}if(i===a&&s===l)return!0;if(i===a)return n;if(s===l)return i===a-1&&""===e[i];throw new Error("wtf?")}}),X=d((e,t)=>{var r,o=n("fs");t.exports=()=>(void 0===r&&(r=function(){try{return o.statSync("/.dockerenv"),!0}catch{return!1}}()||function(){try{return o.readFileSync("/proc/self/cgroup","utf8").includes("docker")}catch{return!1}}()),r)}),Z=d((e,t)=>{var r=n("os"),o=n("fs"),i=X(),s=()=>{if("linux"!==process.platform)return!1;if(r.release().toLowerCase().includes("microsoft"))return!i();try{return!!o.readFileSync("/proc/version","utf8").toLowerCase().includes("microsoft")&&!i()}catch{return!1}};process.env.__IS_WSL_TEST__?t.exports=s:t.exports=s()}),ee=d((e,t)=>{t.exports=(e,t,n)=>{let r=n=>Object.defineProperty(e,t,{value:n,enumerable:!0,writable:!0});return Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get(){let e=n();return r(e),e},set(e){r(e)}}),e}}),te=d((e,t)=>{var r=n("path"),o=n("child_process"),{promises:i,constants:s}=n("fs"),a=Z(),l=X(),c=ee(),u=r.join(__dirname,"xdg-open"),{platform:d,arch:h}=process,p=(()=>{let e,t="/mnt/";return async function(){if(e)return e;let n="/etc/wsl.conf",r=!1;try{await i.access(n,s.F_OK),r=!0}catch{}if(!r)return t;let o=await i.readFile(n,{encoding:"utf8"}),a=/(?<!#.*)root\s*=\s*(?<mountPoint>.*)/g.exec(o);return a?(e=a.groups.mountPoint.trim(),e=e.endsWith("/")?e:`${e}/`,e):t}})(),f=async(e,t)=>{let n;for(let r of e)try{return await t(r)}catch(e){n=e}throw n},m=async e=>{if(e={wait:!1,background:!1,newInstance:!1,allowNonzeroExitCode:!1,...e},Array.isArray(e.app))return f(e.app,t=>m({...e,app:t}));let{name:t,arguments:n=[]}=e.app||{};if(n=[...n],Array.isArray(t))return f(t,t=>m({...e,app:{name:t,arguments:n}}));let r,c=[],h={};if("darwin"===d)r="open",e.wait&&c.push("--wait-apps"),e.background&&c.push("--background"),e.newInstance&&c.push("--new"),t&&c.push("-a",t);else if("win32"===d||a&&!l()){let o=await p();r=a?`${o}c/Windows/System32/WindowsPowerShell/v1.0/powershell.exe`:`${process.env.SYSTEMROOT}\\System32\\WindowsPowerShell\\v1.0\\powershell`,c.push("-NoProfile","-NonInteractive","ExecutionPolicy","Bypass","-EncodedCommand"),a||(h.windowsVerbatimArguments=!0);let i=["Start"];e.wait&&i.push("-Wait"),t?(i.push(`"\`"${t}\`""`,"-ArgumentList"),e.target&&n.unshift(e.target)):e.target&&i.push(`"${e.target}"`),n.length>0&&(n=n.map(e=>`"\`"${e}\`""`),i.push(n.join(","))),e.target=Buffer.from(i.join(" "),"utf16le").toString("base64")}else{if(t)r=t;else{let e=!__dirname||"/"===__dirname,t=!1;try{await i.access(u,s.X_OK),t=!0}catch{}r=process.versions.electron||"android"===d||e||!t?"xdg-open":u}n.length>0&&c.push(...n),e.wait||(h.stdio="ignore",h.detached=!0)}e.target&&c.push(e.target),"darwin"===d&&n.length>0&&c.push("--args",...n);let g=o.spawn(r,c,h);return e.wait?new Promise((t,n)=>{g.once("error",n),g.once("close",r=>{e.allowNonzeroExitCode&&r>0?n(new Error(`Exited with code ${r}`)):t(g)})}):(g.unref(),g)},g=(e,t)=>{if("string"!=typeof e)throw new TypeError("Expected a `target`");return m({...t,target:e})};function b(e){if("string"==typeof e||Array.isArray(e))return e;let{[h]:t}=e;if(!t)throw new Error(`${h} is not supported`);return t}function w({[d]:e},{wsl:t}){if(t&&a)return b(t);if(!e)throw new Error(`${d} is not supported`);return b(e)}var y={};c(y,"chrome",()=>w({darwin:"google chrome",win32:"chrome",linux:["google-chrome","google-chrome-stable","chromium"]},{wsl:{ia32:"/mnt/c/Program Files (x86)/Google/Chrome/Application/chrome.exe",x64:["/mnt/c/Program Files/Google/Chrome/Application/chrome.exe","/mnt/c/Program Files (x86)/Google/Chrome/Application/chrome.exe"]}})),c(y,"firefox",()=>w({darwin:"firefox",win32:"C:\\Program Files\\Mozilla Firefox\\firefox.exe",linux:"firefox"},{wsl:"/mnt/c/Program Files/Mozilla Firefox/firefox.exe"})),c(y,"edge",()=>w({darwin:"microsoft edge",win32:"msedge",linux:["microsoft-edge","microsoft-edge-dev"]},{wsl:"/mnt/c/Program Files (x86)/Microsoft/Edge/Application/msedge.exe"})),g.apps=y,g.openApp=(e,t)=>{if("string"!=typeof e)throw new TypeError("Expected a `name`");let{arguments:n=[]}=t||{};if(null!=n&&!Array.isArray(n))throw new TypeError("Expected `appArguments` as Array type");return m({...t,app:{name:e,arguments:n}})},t.exports=g}),ne=d((e,t)=>{var r=n("util"),o=n("stream"),i=t.exports=function(){o.call(this),this._buffers=[],this._buffered=0,this._reads=[],this._paused=!1,this._encoding="utf8",this.writable=!0};r.inherits(i,o),i.prototype.read=function(e,t){this._reads.push({length:Math.abs(e),allowLess:e<0,func:t}),process.nextTick(function(){this._process(),this._paused&&this._reads&&this._reads.length>0&&(this._paused=!1,this.emit("drain"))}.bind(this))},i.prototype.write=function(e,t){if(!this.writable)return this.emit("error",new Error("Stream not writable")),!1;let n;return n=Buffer.isBuffer(e)?e:Buffer.from(e,t||this._encoding),this._buffers.push(n),this._buffered+=n.length,this._process(),this._reads&&0===this._reads.length&&(this._paused=!0),this.writable&&!this._paused},i.prototype.end=function(e,t){e&&this.write(e,t),this.writable=!1,this._buffers&&(0===this._buffers.length?this._end():(this._buffers.push(null),this._process()))},i.prototype.destroySoon=i.prototype.end,i.prototype._end=function(){this._reads.length>0&&this.emit("error",new Error("Unexpected end of input")),this.destroy()},i.prototype.destroy=function(){this._buffers&&(this.writable=!1,this._reads=null,this._buffers=null,this.emit("close"))},i.prototype._processReadAllowingLess=function(e){this._reads.shift();let t=this._buffers[0];t.length>e.length?(this._buffered-=e.length,this._buffers[0]=t.slice(e.length),e.func.call(this,t.slice(0,e.length))):(this._buffered-=t.length,this._buffers.shift(),e.func.call(this,t))},i.prototype._processRead=function(e){this._reads.shift();let t=0,n=0,r=Buffer.alloc(e.length);for(;t<e.length;){let o=this._buffers[n++],i=Math.min(o.length,e.length-t);o.copy(r,t,0,i),t+=i,i!==o.length&&(this._buffers[--n]=o.slice(i))}n>0&&this._buffers.splice(0,n),this._buffered-=e.length,e.func.call(this,r)},i.prototype._process=function(){try{for(;this._buffered>0&&this._reads&&this._reads.length>0;){let e=this._reads[0];if(e.allowLess)this._processReadAllowingLess(e);else{if(!(this._buffered>=e.length))break;this._processRead(e)}}this._buffers&&!this.writable&&this._end()}catch(e){this.emit("error",e)}}}),re=d(e=>{var t=[{x:[0],y:[0]},{x:[4],y:[0]},{x:[0,4],y:[4]},{x:[2,6],y:[0,4]},{x:[0,2,4,6],y:[2,6]},{x:[1,3,5,7],y:[0,2,4,6]},{x:[0,1,2,3,4,5,6,7],y:[1,3,5,7]}];e.getImagePasses=function(e,n){let r=[],o=e%8,i=n%8,s=(e-o)/8,a=(n-i)/8;for(let e=0;e<t.length;e++){let n=t[e],l=s*n.x.length,c=a*n.y.length;for(let e=0;e<n.x.length&&n.x[e]<o;e++)l++;for(let e=0;e<n.y.length&&n.y[e]<i;e++)c++;l>0&&c>0&&r.push({width:l,height:c,index:e})}return r},e.getInterlaceIterator=function(e){return function(n,r,o){let i=n%t[o].x.length,s=(n-i)/t[o].x.length*8+t[o].x[i],a=r%t[o].y.length;return 4*s+((r-a)/t[o].y.length*8+t[o].y[a])*e*4}}}),oe=d((e,t)=>{t.exports=function(e,t,n){let r=e+t-n,o=Math.abs(r-e),i=Math.abs(r-t),s=Math.abs(r-n);return o<=i&&o<=s?e:i<=s?t:n}}),ie=d((e,t)=>{var n=re(),r=oe();function o(e,t,n){let r=e*t;return 8!==n&&(r=Math.ceil(r/(8/n))),r}var i=t.exports=function(e,t){let r=e.width,i=e.height,s=e.interlace,a=e.bpp,l=e.depth;if(this.read=t.read,this.write=t.write,this.complete=t.complete,this._imageIndex=0,this._images=[],s){let e=n.getImagePasses(r,i);for(let t=0;t<e.length;t++)this._images.push({byteWidth:o(e[t].width,a,l),height:e[t].height,lineIndex:0})}else this._images.push({byteWidth:o(r,a,l),height:i,lineIndex:0});this._xComparison=8===l?a:16===l?2*a:1};i.prototype.start=function(){this.read(this._images[this._imageIndex].byteWidth+1,this._reverseFilterLine.bind(this))},i.prototype._unFilterType1=function(e,t,n){let r=this._xComparison,o=r-1;for(let i=0;i<n;i++){let n=e[1+i],s=i>o?t[i-r]:0;t[i]=n+s}},i.prototype._unFilterType2=function(e,t,n){let r=this._lastLine;for(let o=0;o<n;o++){let n=e[1+o],i=r?r[o]:0;t[o]=n+i}},i.prototype._unFilterType3=function(e,t,n){let r=this._xComparison,o=r-1,i=this._lastLine;for(let s=0;s<n;s++){let n=e[1+s],a=i?i[s]:0,l=s>o?t[s-r]:0,c=Math.floor((l+a)/2);t[s]=n+c}},i.prototype._unFilterType4=function(e,t,n){let o=this._xComparison,i=o-1,s=this._lastLine;for(let a=0;a<n;a++){let n=e[1+a],l=s?s[a]:0,c=a>i?t[a-o]:0,u=a>i&&s?s[a-o]:0,d=r(c,l,u);t[a]=n+d}},i.prototype._reverseFilterLine=function(e){let t,n=e[0],r=this._images[this._imageIndex],o=r.byteWidth;if(0===n)t=e.slice(1,o+1);else switch(t=Buffer.alloc(o),n){case 1:this._unFilterType1(e,t,o);break;case 2:this._unFilterType2(e,t,o);break;case 3:this._unFilterType3(e,t,o);break;case 4:this._unFilterType4(e,t,o);break;default:throw new Error("Unrecognised filter type - "+n)}this.write(t),r.lineIndex++,r.lineIndex>=r.height?(this._lastLine=null,this._imageIndex++,r=this._images[this._imageIndex]):this._lastLine=t,r?this.read(r.byteWidth+1,this._reverseFilterLine.bind(this)):(this._lastLine=null,this.complete())}}),se=d((e,t)=>{var r=n("util"),o=ne(),i=ie(),s=t.exports=function(e){o.call(this);let t=[],n=this;this._filter=new i(e,{read:this.read.bind(this),write:function(e){t.push(e)},complete:function(){n.emit("complete",Buffer.concat(t))}}),this._filter.start()};r.inherits(s,o)}),ae=d((e,t)=>{t.exports={PNG_SIGNATURE:[137,80,78,71,13,10,26,10],TYPE_IHDR:1229472850,TYPE_IEND:1229278788,TYPE_IDAT:1229209940,TYPE_PLTE:1347179589,TYPE_tRNS:1951551059,TYPE_gAMA:1732332865,COLORTYPE_GRAYSCALE:0,COLORTYPE_PALETTE:1,COLORTYPE_COLOR:2,COLORTYPE_ALPHA:4,COLORTYPE_PALETTE_COLOR:3,COLORTYPE_COLOR_ALPHA:6,COLORTYPE_TO_BPP_MAP:{0:1,2:3,3:1,4:2,6:4},GAMMA_DIVISION:1e5}}),le=d((e,t)=>{var n=[];!function(){for(let e=0;e<256;e++){let t=e;for(let e=0;e<8;e++)1&t?t=3988292384^t>>>1:t>>>=1;n[e]=t}}();var r=t.exports=function(){this._crc=-1};r.prototype.write=function(e){for(let t=0;t<e.length;t++)this._crc=n[255&(this._crc^e[t])]^this._crc>>>8;return!0},r.prototype.crc32=function(){return-1^this._crc},r.crc32=function(e){let t=-1;for(let r=0;r<e.length;r++)t=n[255&(t^e[r])]^t>>>8;return-1^t}}),ce=d((e,t)=>{var n=ae(),r=le(),o=t.exports=function(e,t){this._options=e,e.checkCRC=!1!==e.checkCRC,this._hasIHDR=!1,this._hasIEND=!1,this._emittedHeadersFinished=!1,this._palette=[],this._colorType=0,this._chunks={},this._chunks[n.TYPE_IHDR]=this._handleIHDR.bind(this),this._chunks[n.TYPE_IEND]=this._handleIEND.bind(this),this._chunks[n.TYPE_IDAT]=this._handleIDAT.bind(this),this._chunks[n.TYPE_PLTE]=this._handlePLTE.bind(this),this._chunks[n.TYPE_tRNS]=this._handleTRNS.bind(this),this._chunks[n.TYPE_gAMA]=this._handleGAMA.bind(this),this.read=t.read,this.error=t.error,this.metadata=t.metadata,this.gamma=t.gamma,this.transColor=t.transColor,this.palette=t.palette,this.parsed=t.parsed,this.inflateData=t.inflateData,this.finished=t.finished,this.simpleTransparency=t.simpleTransparency,this.headersFinished=t.headersFinished||function(){}};o.prototype.start=function(){this.read(n.PNG_SIGNATURE.length,this._parseSignature.bind(this))},o.prototype._parseSignature=function(e){let t=n.PNG_SIGNATURE;for(let n=0;n<t.length;n++)if(e[n]!==t[n])return void this.error(new Error("Invalid file signature"));this.read(8,this._parseChunkBegin.bind(this))},o.prototype._parseChunkBegin=function(e){let t=e.readUInt32BE(0),o=e.readUInt32BE(4),i="";for(let t=4;t<8;t++)i+=String.fromCharCode(e[t]);let s=!!(32&e[4]);if(this._hasIHDR||o===n.TYPE_IHDR)return this._crc=new r,this._crc.write(Buffer.from(i)),this._chunks[o]?this._chunks[o](t):void(s?this.read(t+4,this._skipChunk.bind(this)):this.error(new Error("Unsupported critical chunk type "+i)));this.error(new Error("Expected IHDR on beggining"))},o.prototype._skipChunk=function(){this.read(8,this._parseChunkBegin.bind(this))},o.prototype._handleChunkEnd=function(){this.read(4,this._parseChunkEnd.bind(this))},o.prototype._parseChunkEnd=function(e){let t=e.readInt32BE(0),n=this._crc.crc32();this._options.checkCRC&&n!==t?this.error(new Error("Crc error - "+t+" - "+n)):this._hasIEND||this.read(8,this._parseChunkBegin.bind(this))},o.prototype._handleIHDR=function(e){this.read(e,this._parseIHDR.bind(this))},o.prototype._parseIHDR=function(e){this._crc.write(e);let t=e.readUInt32BE(0),r=e.readUInt32BE(4),o=e[8],i=e[9],s=e[10],a=e[11],l=e[12];if(8!==o&&4!==o&&2!==o&&1!==o&&16!==o)return void this.error(new Error("Unsupported bit depth "+o));if(!(i in n.COLORTYPE_TO_BPP_MAP))return void this.error(new Error("Unsupported color type"));if(0!==s)return void this.error(new Error("Unsupported compression method"));if(0!==a)return void this.error(new Error("Unsupported filter method"));if(0!==l&&1!==l)return void this.error(new Error("Unsupported interlace method"));this._colorType=i;let c=n.COLORTYPE_TO_BPP_MAP[this._colorType];this._hasIHDR=!0,this.metadata({width:t,height:r,depth:o,interlace:!!l,palette:!!(i&n.COLORTYPE_PALETTE),color:!!(i&n.COLORTYPE_COLOR),alpha:!!(i&n.COLORTYPE_ALPHA),bpp:c,colorType:i}),this._handleChunkEnd()},o.prototype._handlePLTE=function(e){this.read(e,this._parsePLTE.bind(this))},o.prototype._parsePLTE=function(e){this._crc.write(e);let t=Math.floor(e.length/3);for(let n=0;n<t;n++)this._palette.push([e[3*n],e[3*n+1],e[3*n+2],255]);this.palette(this._palette),this._handleChunkEnd()},o.prototype._handleTRNS=function(e){this.simpleTransparency(),this.read(e,this._parseTRNS.bind(this))},o.prototype._parseTRNS=function(e){if(this._crc.write(e),this._colorType===n.COLORTYPE_PALETTE_COLOR){if(0===this._palette.length)return void this.error(new Error("Transparency chunk must be after palette"));if(e.length>this._palette.length)return void this.error(new Error("More transparent colors than palette size"));for(let t=0;t<e.length;t++)this._palette[t][3]=e[t];this.palette(this._palette)}this._colorType===n.COLORTYPE_GRAYSCALE&&this.transColor([e.readUInt16BE(0)]),this._colorType===n.COLORTYPE_COLOR&&this.transColor([e.readUInt16BE(0),e.readUInt16BE(2),e.readUInt16BE(4)]),this._handleChunkEnd()},o.prototype._handleGAMA=function(e){this.read(e,this._parseGAMA.bind(this))},o.prototype._parseGAMA=function(e){this._crc.write(e),this.gamma(e.readUInt32BE(0)/n.GAMMA_DIVISION),this._handleChunkEnd()},o.prototype._handleIDAT=function(e){this._emittedHeadersFinished||(this._emittedHeadersFinished=!0,this.headersFinished()),this.read(-e,this._parseIDAT.bind(this,e))},o.prototype._parseIDAT=function(e,t){if(this._crc.write(t),this._colorType===n.COLORTYPE_PALETTE_COLOR&&0===this._palette.length)throw new Error("Expected palette not found");this.inflateData(t);let r=e-t.length;r>0?this._handleIDAT(r):this._handleChunkEnd()},o.prototype._handleIEND=function(e){this.read(e,this._parseIEND.bind(this))},o.prototype._parseIEND=function(e){this._crc.write(e),this._hasIEND=!0,this._handleChunkEnd(),this.finished&&this.finished()}}),ue=d(e=>{var t=re(),n=[function(){},function(e,t,n,r){if(r===t.length)throw new Error("Ran out of data");let o=t[r];e[n]=o,e[n+1]=o,e[n+2]=o,e[n+3]=255},function(e,t,n,r){if(r+1>=t.length)throw new Error("Ran out of data");let o=t[r];e[n]=o,e[n+1]=o,e[n+2]=o,e[n+3]=t[r+1]},function(e,t,n,r){if(r+2>=t.length)throw new Error("Ran out of data");e[n]=t[r],e[n+1]=t[r+1],e[n+2]=t[r+2],e[n+3]=255},function(e,t,n,r){if(r+3>=t.length)throw new Error("Ran out of data");e[n]=t[r],e[n+1]=t[r+1],e[n+2]=t[r+2],e[n+3]=t[r+3]}],r=[function(){},function(e,t,n,r){let o=t[0];e[n]=o,e[n+1]=o,e[n+2]=o,e[n+3]=r},function(e,t,n){let r=t[0];e[n]=r,e[n+1]=r,e[n+2]=r,e[n+3]=t[1]},function(e,t,n,r){e[n]=t[0],e[n+1]=t[1],e[n+2]=t[2],e[n+3]=r},function(e,t,n){e[n]=t[0],e[n+1]=t[1],e[n+2]=t[2],e[n+3]=t[3]}];function o(e,t,r,o,i,s){let a=e.width,l=e.height,c=e.index;for(let e=0;e<l;e++)for(let l=0;l<a;l++){let a=r(l,e,c);n[o](t,i,a,s),s+=o}return s}function i(e,t,n,o,i,s){let a=e.width,l=e.height,c=e.index;for(let e=0;e<l;e++){for(let l=0;l<a;l++){let a=i.get(o),u=n(l,e,c);r[o](t,a,u,s)}i.resetAfterLine()}}e.dataToBitMap=function(e,n){let r,s,a=n.width,l=n.height,c=n.depth,u=n.bpp,d=n.interlace;8!==c&&(r=function(e,t){let n=[],r=0;function o(){if(r===e.length)throw new Error("Ran out of data");let o,i,s,a,l,c,u,d,h=e[r];switch(r++,t){default:throw new Error("unrecognised depth");case 16:u=e[r],r++,n.push((h<<8)+u);break;case 4:u=15&h,d=h>>4,n.push(d,u);break;case 2:l=3&h,c=h>>2&3,u=h>>4&3,d=h>>6&3,n.push(d,u,c,l);break;case 1:o=1&h,i=h>>1&1,s=h>>2&1,a=h>>3&1,l=h>>4&1,c=h>>5&1,u=h>>6&1,d=h>>7&1,n.push(d,u,c,l,a,s,i,o)}}return{get:function(e){for(;n.length<e;)o();let t=n.slice(0,e);return n=n.slice(e),t},resetAfterLine:function(){n.length=0},end:function(){if(r!==e.length)throw new Error("extra data found")}}}(e,c)),s=c<=8?Buffer.alloc(a*l*4):new Uint16Array(a*l*4);let h,p,f=Math.pow(2,c)-1,m=0;if(d)h=t.getImagePasses(a,l),p=t.getInterlaceIterator(a,l);else{let e=0;p=function(){let t=e;return e+=4,t},h=[{width:a,height:l}]}for(let t=0;t<h.length;t++)8===c?m=o(h[t],s,p,u,e,m):i(h[t],s,p,u,r,f);if(8===c){if(m!==e.length)throw new Error("extra data found")}else r.end();return s}}),de=d((e,t)=>{t.exports=function(e,t,n=!1){let r=t.depth,o=t.width,i=t.height,s=t.colorType,a=t.transColor,l=t.palette,c=e;return 3===s?function(e,t,n,r,o){let i=0;for(let s=0;s<r;s++)for(let r=0;r<n;r++){let n=o[e[i]];if(!n)throw new Error("index "+e[i]+" not in palette");for(let e=0;e<4;e++)t[i+e]=n[e];i+=4}}(e,c,o,i,l):(a&&function(e,t,n,r,o){let i=0;for(let s=0;s<r;s++)for(let r=0;r<n;r++){let n=!1;if(1===o.length?o[0]===e[i]&&(n=!0):o[0]===e[i]&&o[1]===e[i+1]&&o[2]===e[i+2]&&(n=!0),n)for(let e=0;e<4;e++)t[i+e]=0;i+=4}}(e,c,o,i,a),8!==r&&!n&&(16===r&&(c=Buffer.alloc(o*i*4)),function(e,t,n,r,o){let i=Math.pow(2,o)-1,s=0;for(let o=0;o<r;o++)for(let r=0;r<n;r++){for(let n=0;n<4;n++)t[s+n]=Math.floor(255*e[s+n]/i+.5);s+=4}}(e,c,o,i,r))),c}}),he=d((e,t)=>{var r=n("util"),o=n("zlib"),i=ne(),s=se(),a=ce(),l=ue(),c=de(),u=t.exports=function(e){i.call(this),this._parser=new a(e,{read:this.read.bind(this),error:this._handleError.bind(this),metadata:this._handleMetaData.bind(this),gamma:this.emit.bind(this,"gamma"),palette:this._handlePalette.bind(this),transColor:this._handleTransColor.bind(this),finished:this._finished.bind(this),inflateData:this._inflateData.bind(this),simpleTransparency:this._simpleTransparency.bind(this),headersFinished:this._headersFinished.bind(this)}),this._options=e,this.writable=!0,this._parser.start()};r.inherits(u,i),u.prototype._handleError=function(e){this.emit("error",e),this.writable=!1,this.destroy(),this._inflate&&this._inflate.destroy&&this._inflate.destroy(),this._filter&&(this._filter.destroy(),this._filter.on("error",function(){})),this.errord=!0},u.prototype._inflateData=function(e){if(!this._inflate)if(this._bitmapInfo.interlace)this._inflate=o.createInflate(),this._inflate.on("error",this.emit.bind(this,"error")),this._filter.on("complete",this._complete.bind(this)),this._inflate.pipe(this._filter);else{let e=(1+(this._bitmapInfo.width*this._bitmapInfo.bpp*this._bitmapInfo.depth+7>>3))*this._bitmapInfo.height,t=Math.max(e,o.Z_MIN_CHUNK);this._inflate=o.createInflate({chunkSize:t});let n=e,r=this.emit.bind(this,"error");this._inflate.on("error",function(e){n&&r(e)}),this._filter.on("complete",this._complete.bind(this));let i=this._filter.write.bind(this._filter);this._inflate.on("data",function(e){n&&(e.length>n&&(e=e.slice(0,n)),n-=e.length,i(e))}),this._inflate.on("end",this._filter.end.bind(this._filter))}this._inflate.write(e)},u.prototype._handleMetaData=function(e){this._metaData=e,this._bitmapInfo=Object.create(e),this._filter=new s(this._bitmapInfo)},u.prototype._handleTransColor=function(e){this._bitmapInfo.transColor=e},u.prototype._handlePalette=function(e){this._bitmapInfo.palette=e},u.prototype._simpleTransparency=function(){this._metaData.alpha=!0},u.prototype._headersFinished=function(){this.emit("metadata",this._metaData)},u.prototype._finished=function(){this.errord||(this._inflate?this._inflate.end():this.emit("error","No Inflate block"))},u.prototype._complete=function(e){if(this.errord)return;let t;try{let n=l.dataToBitMap(e,this._bitmapInfo);t=c(n,this._bitmapInfo,this._options.skipRescale),n=null}catch(e){return void this._handleError(e)}this.emit("parsed",t)}}),pe=d((e,t)=>{var n=ae();t.exports=function(e,t,r,o){let i=-1!==[n.COLORTYPE_COLOR_ALPHA,n.COLORTYPE_ALPHA].indexOf(o.colorType);if(o.colorType===o.inputColorType){let t=function(){let e=new ArrayBuffer(2);return new DataView(e).setInt16(0,256,!0),256!==new Int16Array(e)[0]}();if(8===o.bitDepth||16===o.bitDepth&&t)return e}let s=16!==o.bitDepth?e:new Uint16Array(e.buffer),a=255,l=n.COLORTYPE_TO_BPP_MAP[o.inputColorType];4===l&&!o.inputHasAlpha&&(l=3);let c=n.COLORTYPE_TO_BPP_MAP[o.colorType];16===o.bitDepth&&(a=65535,c*=2);let u=Buffer.alloc(t*r*c),d=0,h=0,p=o.bgColor||{};function f(){let e,t,r,l=a;switch(o.inputColorType){case n.COLORTYPE_COLOR_ALPHA:l=s[d+3],e=s[d],t=s[d+1],r=s[d+2];break;case n.COLORTYPE_COLOR:e=s[d],t=s[d+1],r=s[d+2];break;case n.COLORTYPE_ALPHA:l=s[d+1],e=s[d],t=e,r=e;break;case n.COLORTYPE_GRAYSCALE:e=s[d],t=e,r=e;break;default:throw new Error("input color type:"+o.inputColorType+" is not supported at present")}return o.inputHasAlpha&&(i||(l/=a,e=Math.min(Math.max(Math.round((1-l)*p.red+l*e),0),a),t=Math.min(Math.max(Math.round((1-l)*p.green+l*t),0),a),r=Math.min(Math.max(Math.round((1-l)*p.blue+l*r),0),a))),{red:e,green:t,blue:r,alpha:l}}void 0===p.red&&(p.red=a),void 0===p.green&&(p.green=a),void 0===p.blue&&(p.blue=a);for(let e=0;e<r;e++)for(let e=0;e<t;e++){let e=f();switch(o.colorType){case n.COLORTYPE_COLOR_ALPHA:case n.COLORTYPE_COLOR:8===o.bitDepth?(u[h]=e.red,u[h+1]=e.green,u[h+2]=e.blue,i&&(u[h+3]=e.alpha)):(u.writeUInt16BE(e.red,h),u.writeUInt16BE(e.green,h+2),u.writeUInt16BE(e.blue,h+4),i&&u.writeUInt16BE(e.alpha,h+6));break;case n.COLORTYPE_ALPHA:case n.COLORTYPE_GRAYSCALE:{let t=(e.red+e.green+e.blue)/3;8===o.bitDepth?(u[h]=t,i&&(u[h+1]=e.alpha)):(u.writeUInt16BE(t,h),i&&u.writeUInt16BE(e.alpha,h+2));break}default:throw new Error("unrecognised color Type "+o.colorType)}d+=l,h+=c}return u}}),fe=d((e,t)=>{var n=oe(),r={0:function(e,t,n,r,o){for(let i=0;i<n;i++)r[o+i]=e[t+i]},1:function(e,t,n,r,o,i){for(let s=0;s<n;s++){let n=s>=i?e[t+s-i]:0,a=e[t+s]-n;r[o+s]=a}},2:function(e,t,n,r,o){for(let i=0;i<n;i++){let s=t>0?e[t+i-n]:0,a=e[t+i]-s;r[o+i]=a}},3:function(e,t,n,r,o,i){for(let s=0;s<n;s++){let a=s>=i?e[t+s-i]:0,l=t>0?e[t+s-n]:0,c=e[t+s]-(a+l>>1);r[o+s]=c}},4:function(e,t,r,o,i,s){for(let a=0;a<r;a++){let l=a>=s?e[t+a-s]:0,c=t>0?e[t+a-r]:0,u=t>0&&a>=s?e[t+a-(r+s)]:0,d=e[t+a]-n(l,c,u);o[i+a]=d}}},o={0:function(e,t,n){let r=0,o=t+n;for(let n=t;n<o;n++)r+=Math.abs(e[n]);return r},1:function(e,t,n,r){let o=0;for(let i=0;i<n;i++){let n=i>=r?e[t+i-r]:0,s=e[t+i]-n;o+=Math.abs(s)}return o},2:function(e,t,n){let r=0,o=t+n;for(let i=t;i<o;i++){let o=t>0?e[i-n]:0,s=e[i]-o;r+=Math.abs(s)}return r},3:function(e,t,n,r){let o=0;for(let i=0;i<n;i++){let s=i>=r?e[t+i-r]:0,a=t>0?e[t+i-n]:0,l=e[t+i]-(s+a>>1);o+=Math.abs(l)}return o},4:function(e,t,r,o){let i=0;for(let s=0;s<r;s++){let a=s>=o?e[t+s-o]:0,l=t>0?e[t+s-r]:0,c=t>0&&s>=o?e[t+s-(r+o)]:0,u=e[t+s]-n(a,l,c);i+=Math.abs(u)}return i}};t.exports=function(e,t,n,i,s){let a;if("filterType"in i&&-1!==i.filterType){if("number"!=typeof i.filterType)throw new Error("unrecognised filter types");a=[i.filterType]}else a=[0,1,2,3,4];16===i.bitDepth&&(s*=2);let l=t*s,c=0,u=0,d=Buffer.alloc((l+1)*n),h=a[0];for(let t=0;t<n;t++){if(a.length>1){let t=1/0;for(let n=0;n<a.length;n++){let r=o[a[n]](e,u,l,s);r<t&&(h=a[n],t=r)}}d[c]=h,c++,r[h](e,u,l,d,c,s),c+=l,u+=l}return d}}),me=d((e,t)=>{var r=ae(),o=le(),i=pe(),s=fe(),a=n("zlib"),l=t.exports=function(e){if(this._options=e,e.deflateChunkSize=e.deflateChunkSize||32768,e.deflateLevel=null!=e.deflateLevel?e.deflateLevel:9,e.deflateStrategy=null!=e.deflateStrategy?e.deflateStrategy:3,e.inputHasAlpha=null==e.inputHasAlpha||e.inputHasAlpha,e.deflateFactory=e.deflateFactory||a.createDeflate,e.bitDepth=e.bitDepth||8,e.colorType="number"==typeof e.colorType?e.colorType:r.COLORTYPE_COLOR_ALPHA,e.inputColorType="number"==typeof e.inputColorType?e.inputColorType:r.COLORTYPE_COLOR_ALPHA,-1===[r.COLORTYPE_GRAYSCALE,r.COLORTYPE_COLOR,r.COLORTYPE_COLOR_ALPHA,r.COLORTYPE_ALPHA].indexOf(e.colorType))throw new Error("option color type:"+e.colorType+" is not supported at present");if(-1===[r.COLORTYPE_GRAYSCALE,r.COLORTYPE_COLOR,r.COLORTYPE_COLOR_ALPHA,r.COLORTYPE_ALPHA].indexOf(e.inputColorType))throw new Error("option input color type:"+e.inputColorType+" is not supported at present");if(8!==e.bitDepth&&16!==e.bitDepth)throw new Error("option bit depth:"+e.bitDepth+" is not supported at present")};l.prototype.getDeflateOptions=function(){return{chunkSize:this._options.deflateChunkSize,level:this._options.deflateLevel,strategy:this._options.deflateStrategy}},l.prototype.createDeflate=function(){return this._options.deflateFactory(this.getDeflateOptions())},l.prototype.filterData=function(e,t,n){let o=i(e,t,n,this._options),a=r.COLORTYPE_TO_BPP_MAP[this._options.colorType];return s(o,t,n,this._options,a)},l.prototype._packChunk=function(e,t){let n=t?t.length:0,r=Buffer.alloc(n+12);return r.writeUInt32BE(n,0),r.writeUInt32BE(e,4),t&&t.copy(r,8),r.writeInt32BE(o.crc32(r.slice(4,r.length-4)),r.length-4),r},l.prototype.packGAMA=function(e){let t=Buffer.alloc(4);return t.writeUInt32BE(Math.floor(e*r.GAMMA_DIVISION),0),this._packChunk(r.TYPE_gAMA,t)},l.prototype.packIHDR=function(e,t){let n=Buffer.alloc(13);return n.writeUInt32BE(e,0),n.writeUInt32BE(t,4),n[8]=this._options.bitDepth,n[9]=this._options.colorType,n[10]=0,n[11]=0,n[12]=0,this._packChunk(r.TYPE_IHDR,n)},l.prototype.packIDAT=function(e){return this._packChunk(r.TYPE_IDAT,e)},l.prototype.packIEND=function(){return this._packChunk(r.TYPE_IEND,null)}}),ge=d((e,t)=>{var r=n("util"),o=n("stream"),i=ae(),s=me(),a=t.exports=function(e){o.call(this);let t=e||{};this._packer=new s(t),this._deflate=this._packer.createDeflate(),this.readable=!0};r.inherits(a,o),a.prototype.pack=function(e,t,n,r){this.emit("data",Buffer.from(i.PNG_SIGNATURE)),this.emit("data",this._packer.packIHDR(t,n)),r&&this.emit("data",this._packer.packGAMA(r));let o=this._packer.filterData(e,t,n);this._deflate.on("error",this.emit.bind(this,"error")),this._deflate.on("data",function(e){this.emit("data",this._packer.packIDAT(e))}.bind(this)),this._deflate.on("end",function(){this.emit("data",this._packer.packIEND()),this.emit("end")}.bind(this)),this._deflate.end(o)}}),be=d((e,t)=>{var r=n("assert").ok,o=n("zlib"),i=n("util"),s=n("buffer").kMaxLength;function a(e){if(!(this instanceof a))return new a(e);e&&e.chunkSize<o.Z_MIN_CHUNK&&(e.chunkSize=o.Z_MIN_CHUNK),o.Inflate.call(this,e),this._offset=void 0===this._offset?this._outOffset:this._offset,this._buffer=this._buffer||this._outBuffer,e&&null!=e.maxLength&&(this._maxLength=e.maxLength)}function l(e,t){t&&process.nextTick(t),e._handle&&(e._handle.close(),e._handle=null)}function c(e,t){return function(e,t){if("string"==typeof t&&(t=Buffer.from(t)),!(t instanceof Buffer))throw new TypeError("Not a string or buffer");let n=e._finishFlushFlag;return null==n&&(n=o.Z_FINISH),e._processChunk(t,n)}(new a(t),e)}a.prototype._processChunk=function(e,t,n){if("function"==typeof n)return o.Inflate._processChunk.call(this,e,t,n);let i,a,c=this,u=e&&e.length,d=this._chunkSize-this._offset,h=this._maxLength,p=0,f=[],m=0;function g(e,t){if(c._hadError)return;let n=d-t;if(r(n>=0,"have should not go down"),n>0){let e=c._buffer.slice(c._offset,c._offset+n);if(c._offset+=n,e.length>h&&(e=e.slice(0,h)),f.push(e),m+=e.length,h-=e.length,0===h)return!1}return(0===t||c._offset>=c._chunkSize)&&(d=c._chunkSize,c._offset=0,c._buffer=Buffer.allocUnsafe(c._chunkSize)),0===t&&(p+=u-e,u=e,!0)}this.on("error",function(e){i=e}),r(this._handle,"zlib binding closed");do{a=this._handle.writeSync(t,e,p,u,this._buffer,this._offset,d),a=a||this._writeState}while(!this._hadError&&g(a[0],a[1]));if(this._hadError)throw i;if(m>=s)throw l(this),new RangeError("Cannot create final Buffer. It would be larger than 0x"+s.toString(16)+" bytes");let b=Buffer.concat(f,m);return l(this),b},i.inherits(a,o.Inflate),t.exports=e=c,e.Inflate=a,e.createInflate=function(e){return new a(e)},e.inflateSync=c}),we=d((e,t)=>{var n=t.exports=function(e){this._buffer=e,this._reads=[]};n.prototype.read=function(e,t){this._reads.push({length:Math.abs(e),allowLess:e<0,func:t})},n.prototype.process=function(){for(;this._reads.length>0&&this._buffer.length;){let e=this._reads[0];if(!this._buffer.length||!(this._buffer.length>=e.length||e.allowLess))break;{this._reads.shift();let t=this._buffer;this._buffer=t.slice(e.length),e.func.call(this,t.slice(0,e.length))}}if(this._reads.length>0)throw new Error("There are some read requests waitng on finished stream");if(this._buffer.length>0)throw new Error("unrecognised content at end of stream")}}),ye=d(e=>{var t=we(),n=ie();e.process=function(e,r){let o=[],i=new t(e);return new n(r,{read:i.read.bind(i),write:function(e){o.push(e)},complete:function(){}}).start(),i.process(),Buffer.concat(o)}}),ve=d((e,t)=>{var r=!0,o=n("zlib"),i=be();o.deflateSync||(r=!1);var s=we(),a=ye(),l=ce(),c=ue(),u=de();t.exports=function(e,t){if(!r)throw new Error("To use the sync capability of this library in old node versions, please pin pngjs to v2.3.0");let n,d,h,p=[],f=new s(e);if(new l(t,{read:f.read.bind(f),error:function(e){n=e},metadata:function(e){d=e},gamma:function(e){h=e},palette:function(e){d.palette=e},transColor:function(e){d.transColor=e},inflateData:function(e){p.push(e)},simpleTransparency:function(){d.alpha=!0}}).start(),f.process(),n)throw n;let m,g=Buffer.concat(p);if(p.length=0,d.interlace)m=o.inflateSync(g);else{let e=(1+(d.width*d.bpp*d.depth+7>>3))*d.height;m=i(g,{chunkSize:e,maxLength:e})}if(g=null,!m||!m.length)throw new Error("bad png - invalid inflate data response");let b=a.process(m,d);g=null;let w=c.dataToBitMap(b,d);b=null;let y=u(w,d,t.skipRescale);return d.data=y,d.gamma=h||0,d}}),Ae=d((e,t)=>{var r=!0,o=n("zlib");o.deflateSync||(r=!1);var i=ae(),s=me();t.exports=function(e,t){if(!r)throw new Error("To use the sync capability of this library in old node versions, please pin pngjs to v2.3.0");let n=new s(t||{}),a=[];a.push(Buffer.from(i.PNG_SIGNATURE)),a.push(n.packIHDR(e.width,e.height)),e.gamma&&a.push(n.packGAMA(e.gamma));let l=n.filterData(e.data,e.width,e.height),c=o.deflateSync(l,n.getDeflateOptions());if(l=null,!c||!c.length)throw new Error("bad png - invalid compressed data response");return a.push(n.packIDAT(c)),a.push(n.packIEND()),Buffer.concat(a)}}),_e=d(e=>{var t=ve(),n=Ae();e.read=function(e,n){return t(e,n||{})},e.write=function(e,t){return n(e,t)}}),xe=d(e=>{var t=n("util"),r=n("stream"),o=he(),i=ge(),s=_e(),a=e.PNG=function(e){r.call(this),e=e||{},this.width=0|e.width,this.height=0|e.height,this.data=this.width>0&&this.height>0?Buffer.alloc(4*this.width*this.height):null,e.fill&&this.data&&this.data.fill(0),this.gamma=0,this.readable=this.writable=!0,this._parser=new o(e),this._parser.on("error",this.emit.bind(this,"error")),this._parser.on("close",this._handleClose.bind(this)),this._parser.on("metadata",this._metadata.bind(this)),this._parser.on("gamma",this._gamma.bind(this)),this._parser.on("parsed",function(e){this.data=e,this.emit("parsed",e)}.bind(this)),this._packer=new i(e),this._packer.on("data",this.emit.bind(this,"data")),this._packer.on("end",this.emit.bind(this,"end")),this._parser.on("close",this._handleClose.bind(this)),this._packer.on("error",this.emit.bind(this,"error"))};t.inherits(a,r),a.sync=s,a.prototype.pack=function(){return this.data&&this.data.length?(process.nextTick(function(){this._packer.pack(this.data,this.width,this.height,this.gamma)}.bind(this)),this):(this.emit("error","No data provided"),this)},a.prototype.parse=function(e,t){if(t){let e,n;e=function(e){this.removeListener("error",n),this.data=e,t(null,this)}.bind(this),n=function(n){this.removeListener("parsed",e),t(n,null)}.bind(this),this.once("parsed",e),this.once("error",n)}return this.end(e),this},a.prototype.write=function(e){return this._parser.write(e),!0},a.prototype.end=function(e){this._parser.end(e)},a.prototype._metadata=function(e){this.width=e.width,this.height=e.height,this.emit("metadata",e)},a.prototype._gamma=function(e){this.gamma=e},a.prototype._handleClose=function(){!this._parser.writable&&!this._packer.readable&&this.emit("close")},a.bitblt=function(e,t,n,r,o,i,s,a){if(r|=0,o|=0,i|=0,s|=0,a|=0,(n|=0)>e.width||r>e.height||n+o>e.width||r+i>e.height)throw new Error("bitblt reading outside image");if(s>t.width||a>t.height||s+o>t.width||a+i>t.height)throw new Error("bitblt writing outside image");for(let l=0;l<i;l++)e.data.copy(t.data,(a+l)*t.width+s<<2,(r+l)*e.width+n<<2,(r+l)*e.width+n+o<<2)},a.prototype.bitblt=function(e,t,n,r,o,i,s){return a.bitblt(this,e,t,n,r,o,i,s),this},a.adjustGamma=function(e){if(e.gamma){for(let t=0;t<e.height;t++)for(let n=0;n<e.width;n++){let r=e.width*t+n<<2;for(let t=0;t<3;t++){let n=e.data[r+t]/255;n=Math.pow(n,1/2.2/e.gamma),e.data[r+t]=Math.round(255*n)}}e.gamma=0}},a.prototype.adjustGamma=function(){a.adjustGamma(this)}}),Se=d(e=>{var t=class extends Error{constructor(e,t,n){super(n),Error.captureStackTrace(this,this.constructor),this.name=this.constructor.name,this.code=t,this.exitCode=e,this.nestedError=void 0}};e.CommanderError=t,e.InvalidArgumentError=class extends t{constructor(e){super(1,"commander.invalidArgument",e),Error.captureStackTrace(this,this.constructor),this.name=this.constructor.name}}}),Ee=d(e=>{var{InvalidArgumentError:t}=Se();e.Argument=class{constructor(e,t){switch(this.description=t||"",this.variadic=!1,this.parseArg=void 0,this.defaultValue=void 0,this.defaultValueDescription=void 0,this.argChoices=void 0,e[0]){case"<":this.required=!0,this._name=e.slice(1,-1);break;case"[":this.required=!1,this._name=e.slice(1,-1);break;default:this.required=!0,this._name=e}this._name.length>3&&"..."===this._name.slice(-3)&&(this.variadic=!0,this._name=this._name.slice(0,-3))}name(){return this._name}_concatValue(e,t){return t!==this.defaultValue&&Array.isArray(t)?t.concat(e):[e]}default(e,t){return this.defaultValue=e,this.defaultValueDescription=t,this}argParser(e){return this.parseArg=e,this}choices(e){return this.argChoices=e.slice(),this.parseArg=(e,n)=>{if(!this.argChoices.includes(e))throw new t(`Allowed choices are ${this.argChoices.join(", ")}.`);return this.variadic?this._concatValue(e,n):e},this}argRequired(){return this.required=!0,this}argOptional(){return this.required=!1,this}},e.humanReadableArgName=function(e){let t=e.name()+(!0===e.variadic?"...":"");return e.required?"<"+t+">":"["+t+"]"}}),Ce=d(e=>{var{humanReadableArgName:t}=Ee();function n(e){return e.replace(/\x1b\[\d*(;\d*)*m/g,"")}e.Help=class{constructor(){this.helpWidth=void 0,this.minWidthToWrap=40,this.sortSubcommands=!1,this.sortOptions=!1,this.showGlobalOptions=!1}prepareContext(e){var t,n;this.helpWidth=null!=(n=null!=(t=this.helpWidth)?t:e.helpWidth)?n:80}visibleCommands(e){let t=e.commands.filter(e=>!e._hidden),n=e._getHelpCommand();return n&&!n._hidden&&t.push(n),this.sortSubcommands&&t.sort((e,t)=>e.name().localeCompare(t.name())),t}compareOptions(e,t){let n=e=>e.short?e.short.replace(/^-/,""):e.long.replace(/^--/,"");return n(e).localeCompare(n(t))}visibleOptions(e){let t=e.options.filter(e=>!e.hidden),n=e._getHelpOption();if(n&&!n.hidden){let r=n.short&&e._findOption(n.short),o=n.long&&e._findOption(n.long);r||o?n.long&&!o?t.push(e.createOption(n.long,n.description)):n.short&&!r&&t.push(e.createOption(n.short,n.description)):t.push(n)}return this.sortOptions&&t.sort(this.compareOptions),t}visibleGlobalOptions(e){if(!this.showGlobalOptions)return[];let t=[];for(let n=e.parent;n;n=n.parent){let e=n.options.filter(e=>!e.hidden);t.push(...e)}return this.sortOptions&&t.sort(this.compareOptions),t}visibleArguments(e){return e._argsDescription&&e.registeredArguments.forEach(t=>{t.description=t.description||e._argsDescription[t.name()]||""}),e.registeredArguments.find(e=>e.description)?e.registeredArguments:[]}subcommandTerm(e){let n=e.registeredArguments.map(e=>t(e)).join(" ");return e._name+(e._aliases[0]?"|"+e._aliases[0]:"")+(e.options.length?" [options]":"")+(n?" "+n:"")}optionTerm(e){return e.flags}argumentTerm(e){return e.name()}longestSubcommandTermLength(e,t){return t.visibleCommands(e).reduce((e,n)=>Math.max(e,this.displayWidth(t.styleSubcommandTerm(t.subcommandTerm(n)))),0)}longestOptionTermLength(e,t){return t.visibleOptions(e).reduce((e,n)=>Math.max(e,this.displayWidth(t.styleOptionTerm(t.optionTerm(n)))),0)}longestGlobalOptionTermLength(e,t){return t.visibleGlobalOptions(e).reduce((e,n)=>Math.max(e,this.displayWidth(t.styleOptionTerm(t.optionTerm(n)))),0)}longestArgumentTermLength(e,t){return t.visibleArguments(e).reduce((e,n)=>Math.max(e,this.displayWidth(t.styleArgumentTerm(t.argumentTerm(n)))),0)}commandUsage(e){let t=e._name;e._aliases[0]&&(t=t+"|"+e._aliases[0]);let n="";for(let t=e.parent;t;t=t.parent)n=t.name()+" "+n;return n+t+" "+e.usage()}commandDescription(e){return e.description()}subcommandDescription(e){return e.summary()||e.description()}optionDescription(e){let t=[];return e.argChoices&&t.push(`choices: ${e.argChoices.map(e=>JSON.stringify(e)).join(", ")}`),void 0!==e.defaultValue&&(e.required||e.optional||e.isBoolean()&&"boolean"==typeof e.defaultValue)&&t.push(`default: ${e.defaultValueDescription||JSON.stringify(e.defaultValue)}`),void 0!==e.presetArg&&e.optional&&t.push(`preset: ${JSON.stringify(e.presetArg)}`),void 0!==e.envVar&&t.push(`env: ${e.envVar}`),t.length>0?`${e.description} (${t.join(", ")})`:e.description}argumentDescription(e){let t=[];if(e.argChoices&&t.push(`choices: ${e.argChoices.map(e=>JSON.stringify(e)).join(", ")}`),void 0!==e.defaultValue&&t.push(`default: ${e.defaultValueDescription||JSON.stringify(e.defaultValue)}`),t.length>0){let n=`(${t.join(", ")})`;return e.description?`${e.description} ${n}`:n}return e.description}formatHelp(e,t){var n;let r=t.padWidth(e,t),o=null!=(n=t.helpWidth)?n:80;function i(e,n){return t.formatItem(e,r,n,t)}let s=[`${t.styleTitle("Usage:")} ${t.styleUsage(t.commandUsage(e))}`,""],a=t.commandDescription(e);a.length>0&&(s=s.concat([t.boxWrap(t.styleCommandDescription(a),o),""]));let l=t.visibleArguments(e).map(e=>i(t.styleArgumentTerm(t.argumentTerm(e)),t.styleArgumentDescription(t.argumentDescription(e))));l.length>0&&(s=s.concat([t.styleTitle("Arguments:"),...l,""]));let c=t.visibleOptions(e).map(e=>i(t.styleOptionTerm(t.optionTerm(e)),t.styleOptionDescription(t.optionDescription(e))));if(c.length>0&&(s=s.concat([t.styleTitle("Options:"),...c,""])),t.showGlobalOptions){let n=t.visibleGlobalOptions(e).map(e=>i(t.styleOptionTerm(t.optionTerm(e)),t.styleOptionDescription(t.optionDescription(e))));n.length>0&&(s=s.concat([t.styleTitle("Global Options:"),...n,""]))}let u=t.visibleCommands(e).map(e=>i(t.styleSubcommandTerm(t.subcommandTerm(e)),t.styleSubcommandDescription(t.subcommandDescription(e))));return u.length>0&&(s=s.concat([t.styleTitle("Commands:"),...u,""])),s.join("\n")}displayWidth(e){return n(e).length}styleTitle(e){return e}styleUsage(e){return e.split(" ").map(e=>"[options]"===e?this.styleOptionText(e):"[command]"===e?this.styleSubcommandText(e):"["===e[0]||"<"===e[0]?this.styleArgumentText(e):this.styleCommandText(e)).join(" ")}styleCommandDescription(e){return this.styleDescriptionText(e)}styleOptionDescription(e){return this.styleDescriptionText(e)}styleSubcommandDescription(e){return this.styleDescriptionText(e)}styleArgumentDescription(e){return this.styleDescriptionText(e)}styleDescriptionText(e){return e}styleOptionTerm(e){return this.styleOptionText(e)}styleSubcommandTerm(e){return e.split(" ").map(e=>"[options]"===e?this.styleOptionText(e):"["===e[0]||"<"===e[0]?this.styleArgumentText(e):this.styleSubcommandText(e)).join(" ")}styleArgumentTerm(e){return this.styleArgumentText(e)}styleOptionText(e){return e}styleArgumentText(e){return e}styleSubcommandText(e){return e}styleCommandText(e){return e}padWidth(e,t){return Math.max(t.longestOptionTermLength(e,t),t.longestGlobalOptionTermLength(e,t),t.longestSubcommandTermLength(e,t),t.longestArgumentTermLength(e,t))}preformatted(e){return/\n[^\S\r\n]/.test(e)}formatItem(e,t,n,r){var o;let i=" ".repeat(2);if(!n)return i+e;let s,a=e.padEnd(t+e.length-r.displayWidth(e)),l=(null!=(o=this.helpWidth)?o:80)-t-2-2;return s=l<this.minWidthToWrap||r.preformatted(n)?n:r.boxWrap(n,l).replace(/\n/g,"\n"+" ".repeat(t+2)),i+a+" ".repeat(2)+s.replace(/\n/g,`\n${i}`)}boxWrap(e,t){if(t<this.minWidthToWrap)return e;let n=e.split(/\r\n|\n/),r=/[\s]*[^\s]+/g,o=[];return n.forEach(e=>{let n=e.match(r);if(null===n)return void o.push("");let i=[n.shift()],s=this.displayWidth(i[0]);n.forEach(e=>{let n=this.displayWidth(e);if(s+n<=t)return i.push(e),void(s+=n);o.push(i.join(""));let r=e.trimStart();i=[r],s=this.displayWidth(r)}),o.push(i.join(""))}),o.join("\n")}},e.stripColor=n}),ke=d(e=>{var{InvalidArgumentError:t}=Se();function n(e){return e.split("-").reduce((e,t)=>e+t[0].toUpperCase()+t.slice(1))}e.Option=class{constructor(e,t){this.flags=e,this.description=t||"",this.required=e.includes("<"),this.optional=e.includes("["),this.variadic=/\w\.\.\.[>\]]$/.test(e),this.mandatory=!1;let n=function(e){let t,n,r=/^-[^-]$/,o=/^--[^-]/,i=e.split(/[ |,]+/).concat("guard");if(r.test(i[0])&&(t=i.shift()),o.test(i[0])&&(n=i.shift()),!t&&r.test(i[0])&&(t=i.shift()),!t&&o.test(i[0])&&(t=n,n=i.shift()),i[0].startsWith("-")){let t=i[0],n=`option creation failed due to '${t}' in option flags '${e}'`;throw/^-[^-][^-]/.test(t)?new Error(`${n}\n- a short flag is a single dash and a single character\n  - either use a single dash and a single character (for a short flag)\n  - or use a double dash for a long option (and can have two, like '--ws, --workspace')`):r.test(t)?new Error(`${n}\n- too many short flags`):o.test(t)?new Error(`${n}\n- too many long flags`):new Error(`${n}\n- unrecognised flag format`)}if(void 0===t&&void 0===n)throw new Error(`option creation failed due to no flags found in '${e}'.`);return{shortFlag:t,longFlag:n}}(e);this.short=n.shortFlag,this.long=n.longFlag,this.negate=!1,this.long&&(this.negate=this.long.startsWith("--no-")),this.defaultValue=void 0,this.defaultValueDescription=void 0,this.presetArg=void 0,this.envVar=void 0,this.parseArg=void 0,this.hidden=!1,this.argChoices=void 0,this.conflictsWith=[],this.implied=void 0}default(e,t){return this.defaultValue=e,this.defaultValueDescription=t,this}preset(e){return this.presetArg=e,this}conflicts(e){return this.conflictsWith=this.conflictsWith.concat(e),this}implies(e){let t=e;return"string"==typeof e&&(t={[e]:!0}),this.implied=Object.assign(this.implied||{},t),this}env(e){return this.envVar=e,this}argParser(e){return this.parseArg=e,this}makeOptionMandatory(e=!0){return this.mandatory=!!e,this}hideHelp(e=!0){return this.hidden=!!e,this}_concatValue(e,t){return t!==this.defaultValue&&Array.isArray(t)?t.concat(e):[e]}choices(e){return this.argChoices=e.slice(),this.parseArg=(e,n)=>{if(!this.argChoices.includes(e))throw new t(`Allowed choices are ${this.argChoices.join(", ")}.`);return this.variadic?this._concatValue(e,n):e},this}name(){return this.long?this.long.replace(/^--/,""):this.short.replace(/^-/,"")}attributeName(){return this.negate?n(this.name().replace(/^no-/,"")):n(this.name())}is(e){return this.short===e||this.long===e}isBoolean(){return!this.required&&!this.optional&&!this.negate}},e.DualOptions=class{constructor(e){this.positiveOptions=new Map,this.negativeOptions=new Map,this.dualOptions=new Set,e.forEach(e=>{e.negate?this.negativeOptions.set(e.attributeName(),e):this.positiveOptions.set(e.attributeName(),e)}),this.negativeOptions.forEach((e,t)=>{this.positiveOptions.has(t)&&this.dualOptions.add(t)})}valueFromOption(e,t){let n=t.attributeName();if(!this.dualOptions.has(n))return!0;let r=this.negativeOptions.get(n).presetArg,o=void 0!==r&&r;return t.negate===(o===e)}}}),Oe=d(e=>{e.suggestSimilar=function(e,t){if(!t||0===t.length)return"";t=Array.from(new Set(t));let n=e.startsWith("--");n&&(e=e.slice(2),t=t.map(e=>e.slice(2)));let r=[],o=3;return t.forEach(t=>{if(t.length<=1)return;let n=function(e,t){if(Math.abs(e.length-t.length)>3)return Math.max(e.length,t.length);let n=[];for(let t=0;t<=e.length;t++)n[t]=[t];for(let e=0;e<=t.length;e++)n[0][e]=e;for(let r=1;r<=t.length;r++)for(let o=1;o<=e.length;o++){let i=1;i=e[o-1]===t[r-1]?0:1,n[o][r]=Math.min(n[o-1][r]+1,n[o][r-1]+1,n[o-1][r-1]+i),o>1&&r>1&&e[o-1]===t[r-2]&&e[o-2]===t[r-1]&&(n[o][r]=Math.min(n[o][r],n[o-2][r-2]+1))}return n[e.length][t.length]}(e,t),i=Math.max(e.length,t.length);(i-n)/i>.4&&(n<o?(o=n,r=[t]):n===o&&r.push(t))}),r.sort((e,t)=>e.localeCompare(t)),n&&(r=r.map(e=>`--${e}`)),r.length>1?`\n(Did you mean one of ${r.join(", ")}?)`:1===r.length?`\n(Did you mean ${r[0]}?)`:""}}),Te=d(e=>{var t=n("node:events").EventEmitter,r=n("node:child_process"),o=n("node:path"),i=n("node:fs"),s=n("node:process"),{Argument:a,humanReadableArgName:l}=Ee(),{CommanderError:c}=Se(),{Help:u,stripColor:d}=Ce(),{Option:h,DualOptions:p}=ke(),{suggestSimilar:f}=Oe();function m(e){return e.map(e=>{if(!e.startsWith("--inspect"))return e;let t,n,r="127.0.0.1",o="9229";return null!==(n=e.match(/^(--inspect(-brk)?)$/))?t=n[1]:null!==(n=e.match(/^(--inspect(-brk|-port)?)=([^:]+)$/))?(t=n[1],/^\d+$/.test(n[3])?o=n[3]:r=n[3]):null!==(n=e.match(/^(--inspect(-brk|-port)?)=([^:]+):(\d+)$/))&&(t=n[1],r=n[3],o=n[4]),t&&"0"!==o?`${t}=${r}:${parseInt(o)+1}`:e})}function g(){return!s.env.NO_COLOR&&"0"!==s.env.FORCE_COLOR&&"false"!==s.env.FORCE_COLOR&&(!(!s.env.FORCE_COLOR&&void 0===s.env.CLICOLOR_FORCE)||void 0)}e.Command=class e extends t{constructor(e){super(),this.commands=[],this.options=[],this.parent=null,this._allowUnknownOption=!1,this._allowExcessArguments=!1,this.registeredArguments=[],this._args=this.registeredArguments,this.args=[],this.rawArgs=[],this.processedArgs=[],this._scriptPath=null,this._name=e||"",this._optionValues={},this._optionValueSources={},this._storeOptionsAsProperties=!1,this._actionHandler=null,this._executableHandler=!1,this._executableFile=null,this._executableDir=null,this._defaultCommandName=null,this._exitCallback=null,this._aliases=[],this._combineFlagAndOptionalValue=!0,this._description="",this._summary="",this._argsDescription=void 0,this._enablePositionalOptions=!1,this._passThroughOptions=!1,this._lifeCycleHooks={},this._showHelpAfterError=!1,this._showSuggestionAfterError=!0,this._savedState=null,this._outputConfiguration={writeOut:e=>s.stdout.write(e),writeErr:e=>s.stderr.write(e),outputError:(e,t)=>t(e),getOutHelpWidth:()=>s.stdout.isTTY?s.stdout.columns:void 0,getErrHelpWidth:()=>s.stderr.isTTY?s.stderr.columns:void 0,getOutHasColors:()=>{var e,t,n;return null!=(n=g())?n:s.stdout.isTTY&&(null==(t=(e=s.stdout).hasColors)?void 0:t.call(e))},getErrHasColors:()=>{var e,t,n;return null!=(n=g())?n:s.stderr.isTTY&&(null==(t=(e=s.stderr).hasColors)?void 0:t.call(e))},stripColor:e=>d(e)},this._hidden=!1,this._helpOption=void 0,this._addImplicitHelpCommand=void 0,this._helpCommand=void 0,this._helpConfiguration={}}copyInheritedSettings(e){return this._outputConfiguration=e._outputConfiguration,this._helpOption=e._helpOption,this._helpCommand=e._helpCommand,this._helpConfiguration=e._helpConfiguration,this._exitCallback=e._exitCallback,this._storeOptionsAsProperties=e._storeOptionsAsProperties,this._combineFlagAndOptionalValue=e._combineFlagAndOptionalValue,this._allowExcessArguments=e._allowExcessArguments,this._enablePositionalOptions=e._enablePositionalOptions,this._showHelpAfterError=e._showHelpAfterError,this._showSuggestionAfterError=e._showSuggestionAfterError,this}_getCommandAndAncestors(){let e=[];for(let t=this;t;t=t.parent)e.push(t);return e}command(e,t,n){let r=t,o=n;"object"==typeof r&&null!==r&&(o=r,r=null),o=o||{};let[,i,s]=e.match(/([^ ]+) *(.*)/),a=this.createCommand(i);return r&&(a.description(r),a._executableHandler=!0),o.isDefault&&(this._defaultCommandName=a._name),a._hidden=!(!o.noHelp&&!o.hidden),a._executableFile=o.executableFile||null,s&&a.arguments(s),this._registerCommand(a),a.parent=this,a.copyInheritedSettings(this),r?this:a}createCommand(t){return new e(t)}createHelp(){return Object.assign(new u,this.configureHelp())}configureHelp(e){return void 0===e?this._helpConfiguration:(this._helpConfiguration=e,this)}configureOutput(e){return void 0===e?this._outputConfiguration:(Object.assign(this._outputConfiguration,e),this)}showHelpAfterError(e=!0){return"string"!=typeof e&&(e=!!e),this._showHelpAfterError=e,this}showSuggestionAfterError(e=!0){return this._showSuggestionAfterError=!!e,this}addCommand(e,t){if(!e._name)throw new Error("Command passed to .addCommand() must have a name\n- specify the name in Command constructor or using .name()");return(t=t||{}).isDefault&&(this._defaultCommandName=e._name),(t.noHelp||t.hidden)&&(e._hidden=!0),this._registerCommand(e),e.parent=this,e._checkForBrokenPassThrough(),this}createArgument(e,t){return new a(e,t)}argument(e,t,n,r){let o=this.createArgument(e,t);return"function"==typeof n?o.default(r).argParser(n):o.default(n),this.addArgument(o),this}arguments(e){return e.trim().split(/ +/).forEach(e=>{this.argument(e)}),this}addArgument(e){let t=this.registeredArguments.slice(-1)[0];if(t&&t.variadic)throw new Error(`only the last argument can be variadic '${t.name()}'`);if(e.required&&void 0!==e.defaultValue&&void 0===e.parseArg)throw new Error(`a default value for a required argument is never used: '${e.name()}'`);return this.registeredArguments.push(e),this}helpCommand(e,t){if("boolean"==typeof e)return this._addImplicitHelpCommand=e,this;e=null!=e?e:"help [command]";let[,n,r]=e.match(/([^ ]+) *(.*)/),o=null!=t?t:"display help for command",i=this.createCommand(n);return i.helpOption(!1),r&&i.arguments(r),o&&i.description(o),this._addImplicitHelpCommand=!0,this._helpCommand=i,this}addHelpCommand(e,t){return"object"!=typeof e?(this.helpCommand(e,t),this):(this._addImplicitHelpCommand=!0,this._helpCommand=e,this)}_getHelpCommand(){var e;return(null!=(e=this._addImplicitHelpCommand)?e:this.commands.length&&!this._actionHandler&&!this._findCommand("help"))?(void 0===this._helpCommand&&this.helpCommand(void 0,void 0),this._helpCommand):null}hook(e,t){let n=["preSubcommand","preAction","postAction"];if(!n.includes(e))throw new Error(`Unexpected value for event passed to hook : '${e}'.\nExpecting one of '${n.join("', '")}'`);return this._lifeCycleHooks[e]?this._lifeCycleHooks[e].push(t):this._lifeCycleHooks[e]=[t],this}exitOverride(e){return this._exitCallback=e||(e=>{if("commander.executeSubCommandAsync"!==e.code)throw e}),this}_exit(e,t,n){this._exitCallback&&this._exitCallback(new c(e,t,n)),s.exit(e)}action(e){return this._actionHandler=t=>{let n=this.registeredArguments.length,r=t.slice(0,n);return this._storeOptionsAsProperties?r[n]=this:r[n]=this.opts(),r.push(this),e.apply(this,r)},this}createOption(e,t){return new h(e,t)}_callParseArg(e,t,n,r){try{return e.parseArg(t,n)}catch(e){if("commander.invalidArgument"===e.code){let t=`${r} ${e.message}`;this.error(t,{exitCode:e.exitCode,code:e.code})}throw e}}_registerOption(e){let t=e.short&&this._findOption(e.short)||e.long&&this._findOption(e.long);if(t){let n=e.long&&this._findOption(e.long)?e.long:e.short;throw new Error(`Cannot add option '${e.flags}'${this._name&&` to command '${this._name}'`} due to conflicting flag '${n}'\n-  already used by option '${t.flags}'`)}this.options.push(e)}_registerCommand(e){let t=e=>[e.name()].concat(e.aliases()),n=t(e).find(e=>this._findCommand(e));if(n){let r=t(this._findCommand(n)).join("|"),o=t(e).join("|");throw new Error(`cannot add command '${o}' as already have command '${r}'`)}this.commands.push(e)}addOption(e){this._registerOption(e);let t=e.name(),n=e.attributeName();if(e.negate){let t=e.long.replace(/^--no-/,"--");this._findOption(t)||this.setOptionValueWithSource(n,void 0===e.defaultValue||e.defaultValue,"default")}else void 0!==e.defaultValue&&this.setOptionValueWithSource(n,e.defaultValue,"default");let r=(t,r,o)=>{null==t&&void 0!==e.presetArg&&(t=e.presetArg);let i=this.getOptionValue(n);null!==t&&e.parseArg?t=this._callParseArg(e,t,i,r):null!==t&&e.variadic&&(t=e._concatValue(t,i)),null==t&&(t=!e.negate&&(!(!e.isBoolean()&&!e.optional)||"")),this.setOptionValueWithSource(n,t,o)};return this.on("option:"+t,t=>{let n=`error: option '${e.flags}' argument '${t}' is invalid.`;r(t,n,"cli")}),e.envVar&&this.on("optionEnv:"+t,t=>{let n=`error: option '${e.flags}' value '${t}' from env '${e.envVar}' is invalid.`;r(t,n,"env")}),this}_optionEx(e,t,n,r,o){if("object"==typeof t&&t instanceof h)throw new Error("To add an Option object use addOption() instead of option() or requiredOption()");let i=this.createOption(t,n);if(i.makeOptionMandatory(!!e.mandatory),"function"==typeof r)i.default(o).argParser(r);else if(r instanceof RegExp){let e=r;r=(t,n)=>{let r=e.exec(t);return r?r[0]:n},i.default(o).argParser(r)}else i.default(r);return this.addOption(i)}option(e,t,n,r){return this._optionEx({},e,t,n,r)}requiredOption(e,t,n,r){return this._optionEx({mandatory:!0},e,t,n,r)}combineFlagAndOptionalValue(e=!0){return this._combineFlagAndOptionalValue=!!e,this}allowUnknownOption(e=!0){return this._allowUnknownOption=!!e,this}allowExcessArguments(e=!0){return this._allowExcessArguments=!!e,this}enablePositionalOptions(e=!0){return this._enablePositionalOptions=!!e,this}passThroughOptions(e=!0){return this._passThroughOptions=!!e,this._checkForBrokenPassThrough(),this}_checkForBrokenPassThrough(){if(this.parent&&this._passThroughOptions&&!this.parent._enablePositionalOptions)throw new Error(`passThroughOptions cannot be used for '${this._name}' without turning on enablePositionalOptions for parent command(s)`)}storeOptionsAsProperties(e=!0){if(this.options.length)throw new Error("call .storeOptionsAsProperties() before adding options");if(Object.keys(this._optionValues).length)throw new Error("call .storeOptionsAsProperties() before setting option values");return this._storeOptionsAsProperties=!!e,this}getOptionValue(e){return this._storeOptionsAsProperties?this[e]:this._optionValues[e]}setOptionValue(e,t){return this.setOptionValueWithSource(e,t,void 0)}setOptionValueWithSource(e,t,n){return this._storeOptionsAsProperties?this[e]=t:this._optionValues[e]=t,this._optionValueSources[e]=n,this}getOptionValueSource(e){return this._optionValueSources[e]}getOptionValueSourceWithGlobals(e){let t;return this._getCommandAndAncestors().forEach(n=>{void 0!==n.getOptionValueSource(e)&&(t=n.getOptionValueSource(e))}),t}_prepareUserArgs(e,t){var n,r;if(void 0!==e&&!Array.isArray(e))throw new Error("first parameter to parse must be array or undefined");if(t=t||{},void 0===e&&void 0===t.from){null!=(n=s.versions)&&n.electron&&(t.from="electron");let e=null!=(r=s.execArgv)?r:[];(e.includes("-e")||e.includes("--eval")||e.includes("-p")||e.includes("--print"))&&(t.from="eval")}let o;switch(void 0===e&&(e=s.argv),this.rawArgs=e.slice(),t.from){case void 0:case"node":this._scriptPath=e[1],o=e.slice(2);break;case"electron":s.defaultApp?(this._scriptPath=e[1],o=e.slice(2)):o=e.slice(1);break;case"user":o=e.slice(0);break;case"eval":o=e.slice(1);break;default:throw new Error(`unexpected parse option { from: '${t.from}' }`)}return!this._name&&this._scriptPath&&this.nameFromFilename(this._scriptPath),this._name=this._name||"program",o}parse(e,t){this._prepareForParse();let n=this._prepareUserArgs(e,t);return this._parseCommand([],n),this}async parseAsync(e,t){this._prepareForParse();let n=this._prepareUserArgs(e,t);return await this._parseCommand([],n),this}_prepareForParse(){null===this._savedState?this.saveStateBeforeParse():this.restoreStateBeforeParse()}saveStateBeforeParse(){this._savedState={_name:this._name,_optionValues:{...this._optionValues},_optionValueSources:{...this._optionValueSources}}}restoreStateBeforeParse(){if(this._storeOptionsAsProperties)throw new Error("Can not call parse again when storeOptionsAsProperties is true.\n- either make a new Command for each call to parse, or stop storing options as properties");this._name=this._savedState._name,this._scriptPath=null,this.rawArgs=[],this._optionValues={...this._savedState._optionValues},this._optionValueSources={...this._savedState._optionValueSources},this.args=[],this.processedArgs=[]}_checkForMissingExecutable(e,t,n){if(!i.existsSync(e))throw new Error(`'${e}' does not exist\n - if '${n}' is not meant to be an executable command, remove description parameter from '.command()' and use '.description()' instead\n - if the default executable name is not suitable, use the executableFile option to supply a custom name or path\n - ${t?`searched for local subcommand relative to directory '${t}'`:"no directory for search for local subcommand, use .executableDir() to supply a custom directory"}`)}_executeSubCommand(e,t){t=t.slice();let n=!1,a=[".js",".ts",".tsx",".mjs",".cjs"];function l(e,t){let n=o.resolve(e,t);if(i.existsSync(n))return n;if(a.includes(o.extname(t)))return;let r=a.find(e=>i.existsSync(`${n}${e}`));return r?`${n}${r}`:void 0}this._checkForMissingMandatoryOptions(),this._checkForConflictingOptions();let u,d=e._executableFile||`${this._name}-${e._name}`,h=this._executableDir||"";if(this._scriptPath){let e;try{e=i.realpathSync(this._scriptPath)}catch{e=this._scriptPath}h=o.resolve(o.dirname(e),h)}if(h){let t=l(h,d);if(!t&&!e._executableFile&&this._scriptPath){let n=o.basename(this._scriptPath,o.extname(this._scriptPath));n!==this._name&&(t=l(h,`${n}-${e._name}`))}d=t||d}n=a.includes(o.extname(d)),"win32"!==s.platform?n?(t.unshift(d),t=m(s.execArgv).concat(t),u=r.spawn(s.argv[0],t,{stdio:"inherit"})):u=r.spawn(d,t,{stdio:"inherit"}):(this._checkForMissingExecutable(d,h,e._name),t.unshift(d),t=m(s.execArgv).concat(t),u=r.spawn(s.execPath,t,{stdio:"inherit"})),u.killed||["SIGUSR1","SIGUSR2","SIGTERM","SIGINT","SIGHUP"].forEach(e=>{s.on(e,()=>{!1===u.killed&&null===u.exitCode&&u.kill(e)})});let p=this._exitCallback;u.on("close",e=>{e=null!=e?e:1,p?p(new c(e,"commander.executeSubCommandAsync","(close)")):s.exit(e)}),u.on("error",t=>{if("ENOENT"===t.code)this._checkForMissingExecutable(d,h,e._name);else if("EACCES"===t.code)throw new Error(`'${d}' not executable`);if(p){let e=new c(1,"commander.executeSubCommandAsync","(error)");e.nestedError=t,p(e)}else s.exit(1)}),this.runningCommand=u}_dispatchSubcommand(e,t,n){let r,o=this._findCommand(e);return o||this.help({error:!0}),o._prepareForParse(),r=this._chainOrCallSubCommandHook(r,o,"preSubcommand"),r=this._chainOrCall(r,()=>{if(!o._executableHandler)return o._parseCommand(t,n);this._executeSubCommand(o,t.concat(n))}),r}_dispatchHelpCommand(e){var t,n,r,o;e||this.help();let i=this._findCommand(e);return i&&!i._executableHandler&&i.help(),this._dispatchSubcommand(e,[],[null!=(o=null!=(r=null==(t=this._getHelpOption())?void 0:t.long)?r:null==(n=this._getHelpOption())?void 0:n.short)?o:"--help"])}_checkNumberOfArguments(){this.registeredArguments.forEach((e,t)=>{e.required&&null==this.args[t]&&this.missingArgument(e.name())}),!(this.registeredArguments.length>0&&this.registeredArguments[this.registeredArguments.length-1].variadic)&&this.args.length>this.registeredArguments.length&&this._excessArguments(this.args)}_processArguments(){let e=(e,t,n)=>{let r=t;if(null!==t&&e.parseArg){let o=`error: command-argument value '${t}' is invalid for argument '${e.name()}'.`;r=this._callParseArg(e,t,n,o)}return r};this._checkNumberOfArguments();let t=[];this.registeredArguments.forEach((n,r)=>{let o=n.defaultValue;n.variadic?r<this.args.length?(o=this.args.slice(r),n.parseArg&&(o=o.reduce((t,r)=>e(n,r,t),n.defaultValue))):void 0===o&&(o=[]):r<this.args.length&&(o=this.args[r],n.parseArg&&(o=e(n,o,n.defaultValue))),t[r]=o}),this.processedArgs=t}_chainOrCall(e,t){return e&&e.then&&"function"==typeof e.then?e.then(()=>t()):t()}_chainOrCallHooks(e,t){let n=e,r=[];return this._getCommandAndAncestors().reverse().filter(e=>void 0!==e._lifeCycleHooks[t]).forEach(e=>{e._lifeCycleHooks[t].forEach(t=>{r.push({hookedCommand:e,callback:t})})}),"postAction"===t&&r.reverse(),r.forEach(e=>{n=this._chainOrCall(n,()=>e.callback(e.hookedCommand,this))}),n}_chainOrCallSubCommandHook(e,t,n){let r=e;return void 0!==this._lifeCycleHooks[n]&&this._lifeCycleHooks[n].forEach(e=>{r=this._chainOrCall(r,()=>e(this,t))}),r}_parseCommand(e,t){let n=this.parseOptions(t);if(this._parseOptionsEnv(),this._parseOptionsImplied(),e=e.concat(n.operands),t=n.unknown,this.args=e.concat(t),e&&this._findCommand(e[0]))return this._dispatchSubcommand(e[0],e.slice(1),t);if(this._getHelpCommand()&&e[0]===this._getHelpCommand().name())return this._dispatchHelpCommand(e[1]);if(this._defaultCommandName)return this._outputHelpIfRequested(t),this._dispatchSubcommand(this._defaultCommandName,e,t);this.commands.length&&0===this.args.length&&!this._actionHandler&&!this._defaultCommandName&&this.help({error:!0}),this._outputHelpIfRequested(n.unknown),this._checkForMissingMandatoryOptions(),this._checkForConflictingOptions();let r=()=>{n.unknown.length>0&&this.unknownOption(n.unknown[0])},o=`command:${this.name()}`;if(this._actionHandler){let n;return r(),this._processArguments(),n=this._chainOrCallHooks(n,"preAction"),n=this._chainOrCall(n,()=>this._actionHandler(this.processedArgs)),this.parent&&(n=this._chainOrCall(n,()=>{this.parent.emit(o,e,t)})),n=this._chainOrCallHooks(n,"postAction"),n}if(this.parent&&this.parent.listenerCount(o))r(),this._processArguments(),this.parent.emit(o,e,t);else if(e.length){if(this._findCommand("*"))return this._dispatchSubcommand("*",e,t);this.listenerCount("command:*")?this.emit("command:*",e,t):this.commands.length?this.unknownCommand():(r(),this._processArguments())}else this.commands.length?(r(),this.help({error:!0})):(r(),this._processArguments())}_findCommand(e){if(e)return this.commands.find(t=>t._name===e||t._aliases.includes(e))}_findOption(e){return this.options.find(t=>t.is(e))}_checkForMissingMandatoryOptions(){this._getCommandAndAncestors().forEach(e=>{e.options.forEach(t=>{t.mandatory&&void 0===e.getOptionValue(t.attributeName())&&e.missingMandatoryOptionValue(t)})})}_checkForConflictingLocalOptions(){let e=this.options.filter(e=>{let t=e.attributeName();return void 0!==this.getOptionValue(t)&&"default"!==this.getOptionValueSource(t)});e.filter(e=>e.conflictsWith.length>0).forEach(t=>{let n=e.find(e=>t.conflictsWith.includes(e.attributeName()));n&&this._conflictingOption(t,n)})}_checkForConflictingOptions(){this._getCommandAndAncestors().forEach(e=>{e._checkForConflictingLocalOptions()})}parseOptions(e){let t=[],n=[],r=t,o=e.slice();function i(e){return e.length>1&&"-"===e[0]}let s=null;for(;o.length;){let e=o.shift();if("--"===e){r===n&&r.push(e),r.push(...o);break}if(!s||i(e)){if(s=null,i(e)){let t=this._findOption(e);if(t){if(t.required){let e=o.shift();void 0===e&&this.optionMissingArgument(t),this.emit(`option:${t.name()}`,e)}else if(t.optional){let e=null;o.length>0&&!i(o[0])&&(e=o.shift()),this.emit(`option:${t.name()}`,e)}else this.emit(`option:${t.name()}`);s=t.variadic?t:null;continue}}if(e.length>2&&"-"===e[0]&&"-"!==e[1]){let t=this._findOption(`-${e[1]}`);if(t){t.required||t.optional&&this._combineFlagAndOptionalValue?this.emit(`option:${t.name()}`,e.slice(2)):(this.emit(`option:${t.name()}`),o.unshift(`-${e.slice(2)}`));continue}}if(/^--[^=]+=/.test(e)){let t=e.indexOf("="),n=this._findOption(e.slice(0,t));if(n&&(n.required||n.optional)){this.emit(`option:${n.name()}`,e.slice(t+1));continue}}if(i(e)&&(r=n),(this._enablePositionalOptions||this._passThroughOptions)&&0===t.length&&0===n.length){if(this._findCommand(e)){t.push(e),o.length>0&&n.push(...o);break}if(this._getHelpCommand()&&e===this._getHelpCommand().name()){t.push(e),o.length>0&&t.push(...o);break}if(this._defaultCommandName){n.push(e),o.length>0&&n.push(...o);break}}if(this._passThroughOptions){r.push(e),o.length>0&&r.push(...o);break}r.push(e)}else this.emit(`option:${s.name()}`,e)}return{operands:t,unknown:n}}opts(){if(this._storeOptionsAsProperties){let e={},t=this.options.length;for(let n=0;n<t;n++){let t=this.options[n].attributeName();e[t]=t===this._versionOptionName?this._version:this[t]}return e}return this._optionValues}optsWithGlobals(){return this._getCommandAndAncestors().reduce((e,t)=>Object.assign(e,t.opts()),{})}error(e,t){this._outputConfiguration.outputError(`${e}\n`,this._outputConfiguration.writeErr),"string"==typeof this._showHelpAfterError?this._outputConfiguration.writeErr(`${this._showHelpAfterError}\n`):this._showHelpAfterError&&(this._outputConfiguration.writeErr("\n"),this.outputHelp({error:!0}));let n=t||{},r=n.exitCode||1,o=n.code||"commander.error";this._exit(r,o,e)}_parseOptionsEnv(){this.options.forEach(e=>{if(e.envVar&&e.envVar in s.env){let t=e.attributeName();(void 0===this.getOptionValue(t)||["default","config","env"].includes(this.getOptionValueSource(t)))&&(e.required||e.optional?this.emit(`optionEnv:${e.name()}`,s.env[e.envVar]):this.emit(`optionEnv:${e.name()}`))}})}_parseOptionsImplied(){let e=new p(this.options),t=e=>void 0!==this.getOptionValue(e)&&!["default","implied"].includes(this.getOptionValueSource(e));this.options.filter(n=>void 0!==n.implied&&t(n.attributeName())&&e.valueFromOption(this.getOptionValue(n.attributeName()),n)).forEach(e=>{Object.keys(e.implied).filter(e=>!t(e)).forEach(t=>{this.setOptionValueWithSource(t,e.implied[t],"implied")})})}missingArgument(e){let t=`error: missing required argument '${e}'`;this.error(t,{code:"commander.missingArgument"})}optionMissingArgument(e){let t=`error: option '${e.flags}' argument missing`;this.error(t,{code:"commander.optionMissingArgument"})}missingMandatoryOptionValue(e){let t=`error: required option '${e.flags}' not specified`;this.error(t,{code:"commander.missingMandatoryOptionValue"})}_conflictingOption(e,t){let n=e=>{let t=e.attributeName(),n=this.getOptionValue(t),r=this.options.find(e=>e.negate&&t===e.attributeName()),o=this.options.find(e=>!e.negate&&t===e.attributeName());return r&&(void 0===r.presetArg&&!1===n||void 0!==r.presetArg&&n===r.presetArg)?r:o||e},r=e=>{let t=n(e),r=t.attributeName();return"env"===this.getOptionValueSource(r)?`environment variable '${t.envVar}'`:`option '${t.flags}'`},o=`error: ${r(e)} cannot be used with ${r(t)}`;this.error(o,{code:"commander.conflictingOption"})}unknownOption(e){if(this._allowUnknownOption)return;let t="";if(e.startsWith("--")&&this._showSuggestionAfterError){let n=[],r=this;do{let e=r.createHelp().visibleOptions(r).filter(e=>e.long).map(e=>e.long);n=n.concat(e),r=r.parent}while(r&&!r._enablePositionalOptions);t=f(e,n)}let n=`error: unknown option '${e}'${t}`;this.error(n,{code:"commander.unknownOption"})}_excessArguments(e){if(this._allowExcessArguments)return;let t=this.registeredArguments.length,n=1===t?"":"s",r=`error: too many arguments${this.parent?` for '${this.name()}'`:""}. Expected ${t} argument${n} but got ${e.length}.`;this.error(r,{code:"commander.excessArguments"})}unknownCommand(){let e=this.args[0],t="";if(this._showSuggestionAfterError){let n=[];this.createHelp().visibleCommands(this).forEach(e=>{n.push(e.name()),e.alias()&&n.push(e.alias())}),t=f(e,n)}let n=`error: unknown command '${e}'${t}`;this.error(n,{code:"commander.unknownCommand"})}version(e,t,n){if(void 0===e)return this._version;this._version=e,t=t||"-V, --version",n=n||"output the version number";let r=this.createOption(t,n);return this._versionOptionName=r.attributeName(),this._registerOption(r),this.on("option:"+r.name(),()=>{this._outputConfiguration.writeOut(`${e}\n`),this._exit(0,"commander.version",e)}),this}description(e,t){return void 0===e&&void 0===t?this._description:(this._description=e,t&&(this._argsDescription=t),this)}summary(e){return void 0===e?this._summary:(this._summary=e,this)}alias(e){var t;if(void 0===e)return this._aliases[0];let n=this;if(0!==this.commands.length&&this.commands[this.commands.length-1]._executableHandler&&(n=this.commands[this.commands.length-1]),e===n._name)throw new Error("Command alias can't be the same as its name");let r=null==(t=this.parent)?void 0:t._findCommand(e);if(r){let t=[r.name()].concat(r.aliases()).join("|");throw new Error(`cannot add alias '${e}' to command '${this.name()}' as already have command '${t}'`)}return n._aliases.push(e),this}aliases(e){return void 0===e?this._aliases:(e.forEach(e=>this.alias(e)),this)}usage(e){if(void 0===e){if(this._usage)return this._usage;let e=this.registeredArguments.map(e=>l(e));return[].concat(this.options.length||null!==this._helpOption?"[options]":[],this.commands.length?"[command]":[],this.registeredArguments.length?e:[]).join(" ")}return this._usage=e,this}name(e){return void 0===e?this._name:(this._name=e,this)}nameFromFilename(e){return this._name=o.basename(e,o.extname(e)),this}executableDir(e){return void 0===e?this._executableDir:(this._executableDir=e,this)}helpInformation(e){let t=this.createHelp(),n=this._getOutputContext(e);t.prepareContext({error:n.error,helpWidth:n.helpWidth,outputHasColors:n.hasColors});let r=t.formatHelp(this,t);return n.hasColors?r:this._outputConfiguration.stripColor(r)}_getOutputContext(e){let t,n,r,o=!!(e=e||{}).error;return o?(t=e=>this._outputConfiguration.writeErr(e),n=this._outputConfiguration.getErrHasColors(),r=this._outputConfiguration.getErrHelpWidth()):(t=e=>this._outputConfiguration.writeOut(e),n=this._outputConfiguration.getOutHasColors(),r=this._outputConfiguration.getOutHelpWidth()),{error:o,write:e=>(n||(e=this._outputConfiguration.stripColor(e)),t(e)),hasColors:n,helpWidth:r}}outputHelp(e){var t;let n;"function"==typeof e&&(n=e,e=void 0);let r=this._getOutputContext(e),o={error:r.error,write:r.write,command:this};this._getCommandAndAncestors().reverse().forEach(e=>e.emit("beforeAllHelp",o)),this.emit("beforeHelp",o);let i=this.helpInformation({error:r.error});if(n&&(i=n(i),"string"!=typeof i&&!Buffer.isBuffer(i)))throw new Error("outputHelp callback must return a string or a Buffer");r.write(i),null!=(t=this._getHelpOption())&&t.long&&this.emit(this._getHelpOption().long),this.emit("afterHelp",o),this._getCommandAndAncestors().forEach(e=>e.emit("afterAllHelp",o))}helpOption(e,t){var n;return"boolean"==typeof e?(this._helpOption=e?null!=(n=this._helpOption)?n:void 0:null,this):(e=null!=e?e:"-h, --help",t=null!=t?t:"display help for command",this._helpOption=this.createOption(e,t),this)}_getHelpOption(){return void 0===this._helpOption&&this.helpOption(void 0,void 0),this._helpOption}addHelpOption(e){return this._helpOption=e,this}help(e){var t;this.outputHelp(e);let n=Number(null!=(t=s.exitCode)?t:0);0===n&&e&&"function"!=typeof e&&e.error&&(n=1),this._exit(n,"commander.help","(outputHelp)")}addHelpText(e,t){let n=["beforeAll","before","after","afterAll"];if(!n.includes(e))throw new Error(`Unexpected value for position to addHelpText.\nExpecting one of '${n.join("', '")}'`);let r=`${e}Help`;return this.on(r,e=>{let n;n="function"==typeof t?t({error:e.error,command:e.command}):t,n&&e.write(`${n}\n`)}),this}_outputHelpIfRequested(e){let t=this._getHelpOption();t&&e.find(e=>t.is(e))&&(this.outputHelp(),this._exit(0,"commander.helpDisplayed","(outputHelp)"))}},e.useColor=g}),Ie=d(e=>{var{Argument:t}=Ee(),{Command:n}=Te(),{CommanderError:r,InvalidArgumentError:o}=Se(),{Help:i}=Ce(),{Option:s}=ke();e.program=new n,e.createCommand=e=>new n(e),e.createOption=(e,t)=>new s(e,t),e.createArgument=(e,n)=>new t(e,n),e.Command=n,e.Option=s,e.Argument=t,e.Help=i,e.CommanderError=r,e.InvalidArgumentError=o,e.InvalidOptionArgumentError=o}),Be=d((e,t)=>{function n(e,t){if(this.stream=t.stream||process.stderr,"number"==typeof t){var n=t;(t={}).total=n}else{if(t=t||{},"string"!=typeof e)throw new Error("format required");if("number"!=typeof t.total)throw new Error("total required")}this.fmt=e,this.curr=t.curr||0,this.total=t.total,this.width=t.width||this.total,this.clear=t.clear,this.chars={complete:t.complete||"=",incomplete:t.incomplete||"-",head:t.head||t.complete||"="},this.renderThrottle=0!==t.renderThrottle?t.renderThrottle||16:0,this.lastRender=-1/0,this.callback=t.callback||function(){},this.tokens={},this.lastDraw=""}t.exports=n,n.prototype.tick=function(e,t){if(0!==e&&(e=e||1),"object"==typeof e&&(t=e,e=1),t&&(this.tokens=t),0==this.curr&&(this.start=new Date),this.curr+=e,this.render(),this.curr>=this.total)return this.render(void 0,!0),this.complete=!0,this.terminate(),void this.callback(this)},n.prototype.render=function(e,t){if(t=void 0!==t&&t,e&&(this.tokens=e),this.stream.isTTY){var n=Date.now(),r=n-this.lastRender;if(t||!(r<this.renderThrottle)){this.lastRender=n;var o=this.curr/this.total;o=Math.min(Math.max(o,0),1);var i,s,a,l=Math.floor(100*o),c=new Date-this.start,u=100==l?0:c*(this.total/this.curr-1),d=this.curr/(c/1e3),h=this.fmt.replace(":current",this.curr).replace(":total",this.total).replace(":elapsed",isNaN(c)?"0.0":(c/1e3).toFixed(1)).replace(":eta",isNaN(u)||!isFinite(u)?"0.0":(u/1e3).toFixed(1)).replace(":percent",l.toFixed(0)+"%").replace(":rate",Math.round(d)),p=Math.max(0,this.stream.columns-h.replace(":bar","").length);p&&"win32"===process.platform&&(p-=1);var f=Math.min(this.width,p);if(a=Math.round(f*o),s=Array(Math.max(0,a+1)).join(this.chars.complete),i=Array(Math.max(0,f-a+1)).join(this.chars.incomplete),a>0&&(s=s.slice(0,-1)+this.chars.head),h=h.replace(":bar",s+i),this.tokens)for(var m in this.tokens)h=h.replace(":"+m,this.tokens[m]);this.lastDraw!==h&&(this.stream.cursorTo(0),this.stream.write(h),this.stream.clearLine(1),this.lastDraw=h)}}},n.prototype.update=function(e,t){var n=Math.floor(e*this.total)-this.curr;this.tick(n,t)},n.prototype.interrupt=function(e){this.stream.clearLine(),this.stream.cursorTo(0),this.stream.write(e),this.stream.write("\n"),this.stream.write(this.lastDraw)},n.prototype.terminate=function(){this.clear?this.stream.clearLine&&(this.stream.clearLine(),this.stream.cursorTo(0)):this.stream.write("\n")}}),Me=d((e,t)=>{t.exports=Be()}),Pe=d(e=>{Object.defineProperty(e,"__esModule",{value:!0});var t=n("buffer"),r={INVALID_ENCODING:"Invalid encoding provided. Please specify a valid encoding the internal Node.js Buffer supports.",INVALID_SMARTBUFFER_SIZE:"Invalid size provided. Size must be a valid integer greater than zero.",INVALID_SMARTBUFFER_BUFFER:"Invalid Buffer provided in SmartBufferOptions.",INVALID_SMARTBUFFER_OBJECT:"Invalid SmartBufferOptions object supplied to SmartBuffer constructor or factory methods.",INVALID_OFFSET:"An invalid offset value was provided.",INVALID_OFFSET_NON_NUMBER:"An invalid offset value was provided. A numeric value is required.",INVALID_LENGTH:"An invalid length value was provided.",INVALID_LENGTH_NON_NUMBER:"An invalid length value was provived. A numeric value is required.",INVALID_TARGET_OFFSET:"Target offset is beyond the bounds of the internal SmartBuffer data.",INVALID_TARGET_LENGTH:"Specified length value moves cursor beyong the bounds of the internal SmartBuffer data.",INVALID_READ_BEYOND_BOUNDS:"Attempted to read beyond the bounds of the managed data.",INVALID_WRITE_BEYOND_BOUNDS:"Attempted to write beyond the bounds of the managed data."};function o(e){return"number"==typeof e&&isFinite(e)&&function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e}(e)}function i(e,t){if("number"!=typeof e)throw new Error(t?r.INVALID_OFFSET_NON_NUMBER:r.INVALID_LENGTH_NON_NUMBER);if(!o(e)||e<0)throw new Error(t?r.INVALID_OFFSET:r.INVALID_LENGTH)}e.ERRORS=r,e.checkEncoding=function(e){if(!t.Buffer.isEncoding(e))throw new Error(r.INVALID_ENCODING)},e.isFiniteInteger=o,e.checkLengthValue=function(e){i(e,!1)},e.checkOffsetValue=function(e){i(e,!0)},e.checkTargetOffset=function(e,t){if(e<0||e>t.length)throw new Error(r.INVALID_TARGET_OFFSET)},e.bigIntAndBufferInt64Check=function(e){if("undefined"==typeof BigInt)throw new Error("Platform does not support JS BigInt type.");if(void 0===t.Buffer.prototype[e])throw new Error(`Platform does not support Buffer.prototype.${e}.`)}}),je=d(e=>{Object.defineProperty(e,"__esModule",{value:!0});var t=Pe();e.SmartBuffer=class e{constructor(n){if(this.length=0,this._encoding="utf8",this._writeOffset=0,this._readOffset=0,e.isSmartBufferOptions(n))if(n.encoding&&(t.checkEncoding(n.encoding),this._encoding=n.encoding),n.size){if(!(t.isFiniteInteger(n.size)&&n.size>0))throw new Error(t.ERRORS.INVALID_SMARTBUFFER_SIZE);this._buff=Buffer.allocUnsafe(n.size)}else if(n.buff){if(!Buffer.isBuffer(n.buff))throw new Error(t.ERRORS.INVALID_SMARTBUFFER_BUFFER);this._buff=n.buff,this.length=n.buff.length}else this._buff=Buffer.allocUnsafe(4096);else{if(void 0!==n)throw new Error(t.ERRORS.INVALID_SMARTBUFFER_OBJECT);this._buff=Buffer.allocUnsafe(4096)}}static fromSize(e,t){return new this({size:e,encoding:t})}static fromBuffer(e,t){return new this({buff:e,encoding:t})}static fromOptions(e){return new this(e)}static isSmartBufferOptions(e){let t=e;return t&&(void 0!==t.encoding||void 0!==t.size||void 0!==t.buff)}readInt8(e){return this._readNumberValue(Buffer.prototype.readInt8,1,e)}readInt16BE(e){return this._readNumberValue(Buffer.prototype.readInt16BE,2,e)}readInt16LE(e){return this._readNumberValue(Buffer.prototype.readInt16LE,2,e)}readInt32BE(e){return this._readNumberValue(Buffer.prototype.readInt32BE,4,e)}readInt32LE(e){return this._readNumberValue(Buffer.prototype.readInt32LE,4,e)}readBigInt64BE(e){return t.bigIntAndBufferInt64Check("readBigInt64BE"),this._readNumberValue(Buffer.prototype.readBigInt64BE,8,e)}readBigInt64LE(e){return t.bigIntAndBufferInt64Check("readBigInt64LE"),this._readNumberValue(Buffer.prototype.readBigInt64LE,8,e)}writeInt8(e,t){return this._writeNumberValue(Buffer.prototype.writeInt8,1,e,t),this}insertInt8(e,t){return this._insertNumberValue(Buffer.prototype.writeInt8,1,e,t)}writeInt16BE(e,t){return this._writeNumberValue(Buffer.prototype.writeInt16BE,2,e,t)}insertInt16BE(e,t){return this._insertNumberValue(Buffer.prototype.writeInt16BE,2,e,t)}writeInt16LE(e,t){return this._writeNumberValue(Buffer.prototype.writeInt16LE,2,e,t)}insertInt16LE(e,t){return this._insertNumberValue(Buffer.prototype.writeInt16LE,2,e,t)}writeInt32BE(e,t){return this._writeNumberValue(Buffer.prototype.writeInt32BE,4,e,t)}insertInt32BE(e,t){return this._insertNumberValue(Buffer.prototype.writeInt32BE,4,e,t)}writeInt32LE(e,t){return this._writeNumberValue(Buffer.prototype.writeInt32LE,4,e,t)}insertInt32LE(e,t){return this._insertNumberValue(Buffer.prototype.writeInt32LE,4,e,t)}writeBigInt64BE(e,n){return t.bigIntAndBufferInt64Check("writeBigInt64BE"),this._writeNumberValue(Buffer.prototype.writeBigInt64BE,8,e,n)}insertBigInt64BE(e,n){return t.bigIntAndBufferInt64Check("writeBigInt64BE"),this._insertNumberValue(Buffer.prototype.writeBigInt64BE,8,e,n)}writeBigInt64LE(e,n){return t.bigIntAndBufferInt64Check("writeBigInt64LE"),this._writeNumberValue(Buffer.prototype.writeBigInt64LE,8,e,n)}insertBigInt64LE(e,n){return t.bigIntAndBufferInt64Check("writeBigInt64LE"),this._insertNumberValue(Buffer.prototype.writeBigInt64LE,8,e,n)}readUInt8(e){return this._readNumberValue(Buffer.prototype.readUInt8,1,e)}readUInt16BE(e){return this._readNumberValue(Buffer.prototype.readUInt16BE,2,e)}readUInt16LE(e){return this._readNumberValue(Buffer.prototype.readUInt16LE,2,e)}readUInt32BE(e){return this._readNumberValue(Buffer.prototype.readUInt32BE,4,e)}readUInt32LE(e){return this._readNumberValue(Buffer.prototype.readUInt32LE,4,e)}readBigUInt64BE(e){return t.bigIntAndBufferInt64Check("readBigUInt64BE"),this._readNumberValue(Buffer.prototype.readBigUInt64BE,8,e)}readBigUInt64LE(e){return t.bigIntAndBufferInt64Check("readBigUInt64LE"),this._readNumberValue(Buffer.prototype.readBigUInt64LE,8,e)}writeUInt8(e,t){return this._writeNumberValue(Buffer.prototype.writeUInt8,1,e,t)}insertUInt8(e,t){return this._insertNumberValue(Buffer.prototype.writeUInt8,1,e,t)}writeUInt16BE(e,t){return this._writeNumberValue(Buffer.prototype.writeUInt16BE,2,e,t)}insertUInt16BE(e,t){return this._insertNumberValue(Buffer.prototype.writeUInt16BE,2,e,t)}writeUInt16LE(e,t){return this._writeNumberValue(Buffer.prototype.writeUInt16LE,2,e,t)}insertUInt16LE(e,t){return this._insertNumberValue(Buffer.prototype.writeUInt16LE,2,e,t)}writeUInt32BE(e,t){return this._writeNumberValue(Buffer.prototype.writeUInt32BE,4,e,t)}insertUInt32BE(e,t){return this._insertNumberValue(Buffer.prototype.writeUInt32BE,4,e,t)}writeUInt32LE(e,t){return this._writeNumberValue(Buffer.prototype.writeUInt32LE,4,e,t)}insertUInt32LE(e,t){return this._insertNumberValue(Buffer.prototype.writeUInt32LE,4,e,t)}writeBigUInt64BE(e,n){return t.bigIntAndBufferInt64Check("writeBigUInt64BE"),this._writeNumberValue(Buffer.prototype.writeBigUInt64BE,8,e,n)}insertBigUInt64BE(e,n){return t.bigIntAndBufferInt64Check("writeBigUInt64BE"),this._insertNumberValue(Buffer.prototype.writeBigUInt64BE,8,e,n)}writeBigUInt64LE(e,n){return t.bigIntAndBufferInt64Check("writeBigUInt64LE"),this._writeNumberValue(Buffer.prototype.writeBigUInt64LE,8,e,n)}insertBigUInt64LE(e,n){return t.bigIntAndBufferInt64Check("writeBigUInt64LE"),this._insertNumberValue(Buffer.prototype.writeBigUInt64LE,8,e,n)}readFloatBE(e){return this._readNumberValue(Buffer.prototype.readFloatBE,4,e)}readFloatLE(e){return this._readNumberValue(Buffer.prototype.readFloatLE,4,e)}writeFloatBE(e,t){return this._writeNumberValue(Buffer.prototype.writeFloatBE,4,e,t)}insertFloatBE(e,t){return this._insertNumberValue(Buffer.prototype.writeFloatBE,4,e,t)}writeFloatLE(e,t){return this._writeNumberValue(Buffer.prototype.writeFloatLE,4,e,t)}insertFloatLE(e,t){return this._insertNumberValue(Buffer.prototype.writeFloatLE,4,e,t)}readDoubleBE(e){return this._readNumberValue(Buffer.prototype.readDoubleBE,8,e)}readDoubleLE(e){return this._readNumberValue(Buffer.prototype.readDoubleLE,8,e)}writeDoubleBE(e,t){return this._writeNumberValue(Buffer.prototype.writeDoubleBE,8,e,t)}insertDoubleBE(e,t){return this._insertNumberValue(Buffer.prototype.writeDoubleBE,8,e,t)}writeDoubleLE(e,t){return this._writeNumberValue(Buffer.prototype.writeDoubleLE,8,e,t)}insertDoubleLE(e,t){return this._insertNumberValue(Buffer.prototype.writeDoubleLE,8,e,t)}readString(e,n){let r;"number"==typeof e?(t.checkLengthValue(e),r=Math.min(e,this.length-this._readOffset)):(n=e,r=this.length-this._readOffset),void 0!==n&&t.checkEncoding(n);let o=this._buff.slice(this._readOffset,this._readOffset+r).toString(n||this._encoding);return this._readOffset+=r,o}insertString(e,n,r){return t.checkOffsetValue(n),this._handleString(e,!0,n,r)}writeString(e,t,n){return this._handleString(e,!1,t,n)}readStringNT(e){void 0!==e&&t.checkEncoding(e);let n=this.length;for(let e=this._readOffset;e<this.length;e++)if(0===this._buff[e]){n=e;break}let r=this._buff.slice(this._readOffset,n);return this._readOffset=n+1,r.toString(e||this._encoding)}insertStringNT(e,n,r){return t.checkOffsetValue(n),this.insertString(e,n,r),this.insertUInt8(0,n+e.length),this}writeStringNT(e,t,n){return this.writeString(e,t,n),this.writeUInt8(0,"number"==typeof t?t+e.length:this.writeOffset),this}readBuffer(e){void 0!==e&&t.checkLengthValue(e);let n="number"==typeof e?e:this.length,r=Math.min(this.length,this._readOffset+n),o=this._buff.slice(this._readOffset,r);return this._readOffset=r,o}insertBuffer(e,n){return t.checkOffsetValue(n),this._handleBuffer(e,!0,n)}writeBuffer(e,t){return this._handleBuffer(e,!1,t)}readBufferNT(){let e=this.length;for(let t=this._readOffset;t<this.length;t++)if(0===this._buff[t]){e=t;break}let t=this._buff.slice(this._readOffset,e);return this._readOffset=e+1,t}insertBufferNT(e,n){return t.checkOffsetValue(n),this.insertBuffer(e,n),this.insertUInt8(0,n+e.length),this}writeBufferNT(e,n){return void 0!==n&&t.checkOffsetValue(n),this.writeBuffer(e,n),this.writeUInt8(0,"number"==typeof n?n+e.length:this._writeOffset),this}clear(){return this._writeOffset=0,this._readOffset=0,this.length=0,this}remaining(){return this.length-this._readOffset}get readOffset(){return this._readOffset}set readOffset(e){t.checkOffsetValue(e),t.checkTargetOffset(e,this),this._readOffset=e}get writeOffset(){return this._writeOffset}set writeOffset(e){t.checkOffsetValue(e),t.checkTargetOffset(e,this),this._writeOffset=e}get encoding(){return this._encoding}set encoding(e){t.checkEncoding(e),this._encoding=e}get internalBuffer(){return this._buff}toBuffer(){return this._buff.slice(0,this.length)}toString(e){let n="string"==typeof e?e:this._encoding;return t.checkEncoding(n),this._buff.toString(n,0,this.length)}destroy(){return this.clear(),this}_handleString(e,n,r,o){let i=this._writeOffset,s=this._encoding;"number"==typeof r?i=r:"string"==typeof r&&(t.checkEncoding(r),s=r),"string"==typeof o&&(t.checkEncoding(o),s=o);let a=Buffer.byteLength(e,s);return n?this.ensureInsertable(a,i):this._ensureWriteable(a,i),this._buff.write(e,i,a,s),n?this._writeOffset+=a:"number"==typeof r?this._writeOffset=Math.max(this._writeOffset,i+a):this._writeOffset+=a,this}_handleBuffer(e,t,n){let r="number"==typeof n?n:this._writeOffset;return t?this.ensureInsertable(e.length,r):this._ensureWriteable(e.length,r),e.copy(this._buff,r),t?this._writeOffset+=e.length:"number"==typeof n?this._writeOffset=Math.max(this._writeOffset,r+e.length):this._writeOffset+=e.length,this}ensureReadable(e,n){let r=this._readOffset;if(void 0!==n&&(t.checkOffsetValue(n),r=n),r<0||r+e>this.length)throw new Error(t.ERRORS.INVALID_READ_BEYOND_BOUNDS)}ensureInsertable(e,n){t.checkOffsetValue(n),this._ensureCapacity(this.length+e),n<this.length&&this._buff.copy(this._buff,n+e,n,this._buff.length),n+e>this.length?this.length=n+e:this.length+=e}_ensureWriteable(e,t){let n="number"==typeof t?t:this._writeOffset;this._ensureCapacity(n+e),n+e>this.length&&(this.length=n+e)}_ensureCapacity(e){let t=this._buff.length;if(e>t){let n=this._buff,r=3*t/2+1;r<e&&(r=e),this._buff=Buffer.allocUnsafe(r),n.copy(this._buff,0,0,t)}}_readNumberValue(e,t,n){this.ensureReadable(t,n);let r=e.call(this._buff,"number"==typeof n?n:this._readOffset);return void 0===n&&(this._readOffset+=t),r}_insertNumberValue(e,n,r,o){return t.checkOffsetValue(o),this.ensureInsertable(n,o),e.call(this._buff,r,o),this._writeOffset+=n,this}_writeNumberValue(e,n,r,o){if("number"==typeof o){if(o<0)throw new Error(t.ERRORS.INVALID_WRITE_BEYOND_BOUNDS);t.checkOffsetValue(o)}let i="number"==typeof o?o:this._writeOffset;return this._ensureWriteable(n,i),e.call(this._buff,r,i),"number"==typeof o?this._writeOffset=Math.max(this._writeOffset,i+n):this._writeOffset+=n,this}}}),Ne=d(e=>{var t,n,r,o,i,s,a;Object.defineProperty(e,"__esModule",{value:!0}),e.SOCKS5_NO_ACCEPTABLE_AUTH=e.SOCKS5_CUSTOM_AUTH_END=e.SOCKS5_CUSTOM_AUTH_START=e.SOCKS_INCOMING_PACKET_SIZES=e.SocksClientState=e.Socks5Response=e.Socks5HostType=e.Socks5Auth=e.Socks4Response=e.SocksCommand=e.ERRORS=e.DEFAULT_TIMEOUT=void 0,e.DEFAULT_TIMEOUT=3e4,e.ERRORS={InvalidSocksCommand:"An invalid SOCKS command was provided. Valid options are connect, bind, and associate.",InvalidSocksCommandForOperation:"An invalid SOCKS command was provided. Only a subset of commands are supported for this operation.",InvalidSocksCommandChain:"An invalid SOCKS command was provided. Chaining currently only supports the connect command.",InvalidSocksClientOptionsDestination:"An invalid destination host was provided.",InvalidSocksClientOptionsExistingSocket:"An invalid existing socket was provided. This should be an instance of stream.Duplex.",InvalidSocksClientOptionsProxy:"Invalid SOCKS proxy details were provided.",InvalidSocksClientOptionsTimeout:"An invalid timeout value was provided. Please enter a value above 0 (in ms).",InvalidSocksClientOptionsProxiesLength:"At least two socks proxies must be provided for chaining.",InvalidSocksClientOptionsCustomAuthRange:"Custom auth must be a value between 0x80 and 0xFE.",InvalidSocksClientOptionsCustomAuthOptions:"When a custom_auth_method is provided, custom_auth_request_handler, custom_auth_response_size, and custom_auth_response_handler must also be provided and valid.",NegotiationError:"Negotiation error",SocketClosed:"Socket closed",ProxyConnectionTimedOut:"Proxy connection timed out",InternalError:"SocksClient internal error (this should not happen)",InvalidSocks4HandshakeResponse:"Received invalid Socks4 handshake response",Socks4ProxyRejectedConnection:"Socks4 Proxy rejected connection",InvalidSocks4IncomingConnectionResponse:"Socks4 invalid incoming connection response",Socks4ProxyRejectedIncomingBoundConnection:"Socks4 Proxy rejected incoming bound connection",InvalidSocks5InitialHandshakeResponse:"Received invalid Socks5 initial handshake response",InvalidSocks5IntiailHandshakeSocksVersion:"Received invalid Socks5 initial handshake (invalid socks version)",InvalidSocks5InitialHandshakeNoAcceptedAuthType:"Received invalid Socks5 initial handshake (no accepted authentication type)",InvalidSocks5InitialHandshakeUnknownAuthType:"Received invalid Socks5 initial handshake (unknown authentication type)",Socks5AuthenticationFailed:"Socks5 Authentication failed",InvalidSocks5FinalHandshake:"Received invalid Socks5 final handshake response",InvalidSocks5FinalHandshakeRejected:"Socks5 proxy rejected connection",InvalidSocks5IncomingConnectionResponse:"Received invalid Socks5 incoming connection response",Socks5ProxyRejectedIncomingBoundConnection:"Socks5 Proxy rejected incoming bound connection"},e.SOCKS_INCOMING_PACKET_SIZES={Socks5InitialHandshakeResponse:2,Socks5UserPassAuthenticationResponse:2,Socks5ResponseHeader:5,Socks5ResponseIPv4:10,Socks5ResponseIPv6:22,Socks5ResponseHostname:e=>e+7,Socks4Response:8},(n=t||(e.SocksCommand=t={}))[n.connect=1]="connect",n[n.bind=2]="bind",n[n.associate=3]="associate",function(e){e[e.Granted=90]="Granted",e[e.Failed=91]="Failed",e[e.Rejected=92]="Rejected",e[e.RejectedIdent=93]="RejectedIdent"}(r||(e.Socks4Response=r={})),function(e){e[e.NoAuth=0]="NoAuth",e[e.GSSApi=1]="GSSApi",e[e.UserPass=2]="UserPass"}(o||(e.Socks5Auth=o={})),e.SOCKS5_CUSTOM_AUTH_START=128,e.SOCKS5_CUSTOM_AUTH_END=254,e.SOCKS5_NO_ACCEPTABLE_AUTH=255,function(e){e[e.Granted=0]="Granted",e[e.Failure=1]="Failure",e[e.NotAllowed=2]="NotAllowed",e[e.NetworkUnreachable=3]="NetworkUnreachable",e[e.HostUnreachable=4]="HostUnreachable",e[e.ConnectionRefused=5]="ConnectionRefused",e[e.TTLExpired=6]="TTLExpired",e[e.CommandNotSupported=7]="CommandNotSupported",e[e.AddressNotSupported=8]="AddressNotSupported"}(i||(e.Socks5Response=i={})),function(e){e[e.IPv4=1]="IPv4",e[e.Hostname=3]="Hostname",e[e.IPv6=4]="IPv6"}(s||(e.Socks5HostType=s={})),function(e){e[e.Created=0]="Created",e[e.Connecting=1]="Connecting",e[e.Connected=2]="Connected",e[e.SentInitialHandshake=3]="SentInitialHandshake",e[e.ReceivedInitialHandshakeResponse=4]="ReceivedInitialHandshakeResponse",e[e.SentAuthentication=5]="SentAuthentication",e[e.ReceivedAuthenticationResponse=6]="ReceivedAuthenticationResponse",e[e.SentFinalHandshake=7]="SentFinalHandshake",e[e.ReceivedFinalResponse=8]="ReceivedFinalResponse",e[e.BoundWaitingForConnection=9]="BoundWaitingForConnection",e[e.Established=10]="Established",e[e.Disconnected=11]="Disconnected",e[e.Error=99]="Error"}(a||(e.SocksClientState=a={}))}),Fe=d(e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.shuffleArray=e.SocksClientError=void 0;var t=class extends Error{constructor(e,t){super(e),this.options=t}};e.SocksClientError=t,e.shuffleArray=function(e){for(let t=e.length-1;t>0;t--){let n=Math.floor(Math.random()*(t+1));[e[t],e[n]]=[e[n],e[t]]}}}),De=d(e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.isCorrect=e.isInSubnet=void 0,e.isInSubnet=function(e){return!(this.subnetMask<e.subnetMask)&&this.mask(e.subnetMask)===e.mask()},e.isCorrect=function(e){return function(){return this.addressMinusSuffix===this.correctForm()&&(this.subnetMask===e&&!this.parsedSubnet||this.parsedSubnet===String(this.subnetMask))}}}),Re=d(e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.RE_SUBNET_STRING=e.RE_ADDRESS=e.GROUPS=e.BITS=void 0,e.BITS=32,e.GROUPS=4,e.RE_ADDRESS=/^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/g,e.RE_SUBNET_STRING=/\/\d{1,2}$/}),Le=d(e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.AddressError=void 0;var t=class extends Error{constructor(e,t){super(e),this.name="AddressError",null!==t&&(this.parseMessage=t)}};e.AddressError=t}),ze=d((e,t)=>{(function(){var n;function r(e,t,n){null!=e&&("number"==typeof e?this.fromNumber(e,t,n):null==t&&"string"!=typeof e?this.fromString(e,256):this.fromString(e,t))}function o(){return new r(null)}var i="undefined"!=typeof navigator;i&&"Microsoft Internet Explorer"==navigator.appName?(r.prototype.am=function(e,t,n,r,o,i){for(var s=32767&t,a=t>>15;--i>=0;){var l=32767&this[e],c=this[e++]>>15,u=a*l+c*s;o=((l=s*l+((32767&u)<<15)+n[r]+(1073741823&o))>>>30)+(u>>>15)+a*c+(o>>>30),n[r++]=1073741823&l}return o},n=30):i&&"Netscape"!=navigator.appName?(r.prototype.am=function(e,t,n,r,o,i){for(;--i>=0;){var s=t*this[e++]+n[r]+o;o=Math.floor(s/67108864),n[r++]=67108863&s}return o},n=26):(r.prototype.am=function(e,t,n,r,o,i){for(var s=16383&t,a=t>>14;--i>=0;){var l=16383&this[e],c=this[e++]>>14,u=a*l+c*s;o=((l=s*l+((16383&u)<<14)+n[r]+o)>>28)+(u>>14)+a*c,n[r++]=268435455&l}return o},n=28),r.prototype.DB=n,r.prototype.DM=(1<<n)-1,r.prototype.DV=1<<n,r.prototype.FV=Math.pow(2,52),r.prototype.F1=52-n,r.prototype.F2=2*n-52;var s,a,l=new Array;for(s=48,a=0;a<=9;++a)l[s++]=a;for(s=97,a=10;a<36;++a)l[s++]=a;for(s=65,a=10;a<36;++a)l[s++]=a;function c(e){return"0123456789abcdefghijklmnopqrstuvwxyz".charAt(e)}function u(e,t){var n=l[e.charCodeAt(t)];return null==n?-1:n}function d(e){var t=o();return t.fromInt(e),t}function h(e){var t,n=1;return 0!=(t=e>>>16)&&(e=t,n+=16),0!=(t=e>>8)&&(e=t,n+=8),0!=(t=e>>4)&&(e=t,n+=4),0!=(t=e>>2)&&(e=t,n+=2),0!=(t=e>>1)&&(e=t,n+=1),n}function p(e){this.m=e}function f(e){this.m=e,this.mp=e.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}function m(e,t){return e&t}function g(e,t){return e|t}function b(e,t){return e^t}function w(e,t){return e&~t}function y(e){if(0==e)return-1;var t=0;return!(65535&e)&&(e>>=16,t+=16),!(255&e)&&(e>>=8,t+=8),!(15&e)&&(e>>=4,t+=4),!(3&e)&&(e>>=2,t+=2),!(1&e)&&++t,t}function v(e){for(var t=0;0!=e;)e&=e-1,++t;return t}function A(){}function _(e){return e}function x(e){this.r2=o(),this.q3=o(),r.ONE.dlShiftTo(2*e.t,this.r2),this.mu=this.r2.divide(e),this.m=e}p.prototype.convert=function(e){return e.s<0||e.compareTo(this.m)>=0?e.mod(this.m):e},p.prototype.revert=function(e){return e},p.prototype.reduce=function(e){e.divRemTo(this.m,null,e)},p.prototype.mulTo=function(e,t,n){e.multiplyTo(t,n),this.reduce(n)},p.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},f.prototype.convert=function(e){var t=o();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&t.compareTo(r.ZERO)>0&&this.m.subTo(t,t),t},f.prototype.revert=function(e){var t=o();return e.copyTo(t),this.reduce(t),t},f.prototype.reduce=function(e){for(;e.t<=this.mt2;)e[e.t++]=0;for(var t=0;t<this.m.t;++t){var n=32767&e[t],r=n*this.mpl+((n*this.mph+(e[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(e[n=t+this.m.t]+=this.m.am(0,r,e,t,0,this.m.t);e[n]>=e.DV;)e[n]-=e.DV,e[++n]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)},f.prototype.mulTo=function(e,t,n){e.multiplyTo(t,n),this.reduce(n)},f.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},r.prototype.copyTo=function(e){for(var t=this.t-1;t>=0;--t)e[t]=this[t];e.t=this.t,e.s=this.s},r.prototype.fromInt=function(e){this.t=1,this.s=e<0?-1:0,e>0?this[0]=e:e<-1?this[0]=e+this.DV:this.t=0},r.prototype.fromString=function(e,t){var n;if(16==t)n=4;else if(8==t)n=3;else if(256==t)n=8;else if(2==t)n=1;else if(32==t)n=5;else{if(4!=t)return void this.fromRadix(e,t);n=2}this.t=0,this.s=0;for(var o=e.length,i=!1,s=0;--o>=0;){var a=8==n?255&e[o]:u(e,o);a<0?"-"==e.charAt(o)&&(i=!0):(i=!1,0==s?this[this.t++]=a:s+n>this.DB?(this[this.t-1]|=(a&(1<<this.DB-s)-1)<<s,this[this.t++]=a>>this.DB-s):this[this.t-1]|=a<<s,(s+=n)>=this.DB&&(s-=this.DB))}8==n&&!!(128&e[0])&&(this.s=-1,s>0&&(this[this.t-1]|=(1<<this.DB-s)-1<<s)),this.clamp(),i&&r.ZERO.subTo(this,this)},r.prototype.clamp=function(){for(var e=this.s&this.DM;this.t>0&&this[this.t-1]==e;)--this.t},r.prototype.dlShiftTo=function(e,t){var n;for(n=this.t-1;n>=0;--n)t[n+e]=this[n];for(n=e-1;n>=0;--n)t[n]=0;t.t=this.t+e,t.s=this.s},r.prototype.drShiftTo=function(e,t){for(var n=e;n<this.t;++n)t[n-e]=this[n];t.t=Math.max(this.t-e,0),t.s=this.s},r.prototype.lShiftTo=function(e,t){var n,r=e%this.DB,o=this.DB-r,i=(1<<o)-1,s=Math.floor(e/this.DB),a=this.s<<r&this.DM;for(n=this.t-1;n>=0;--n)t[n+s+1]=this[n]>>o|a,a=(this[n]&i)<<r;for(n=s-1;n>=0;--n)t[n]=0;t[s]=a,t.t=this.t+s+1,t.s=this.s,t.clamp()},r.prototype.rShiftTo=function(e,t){t.s=this.s;var n=Math.floor(e/this.DB);if(n>=this.t)t.t=0;else{var r=e%this.DB,o=this.DB-r,i=(1<<r)-1;t[0]=this[n]>>r;for(var s=n+1;s<this.t;++s)t[s-n-1]|=(this[s]&i)<<o,t[s-n]=this[s]>>r;r>0&&(t[this.t-n-1]|=(this.s&i)<<o),t.t=this.t-n,t.clamp()}},r.prototype.subTo=function(e,t){for(var n=0,r=0,o=Math.min(e.t,this.t);n<o;)r+=this[n]-e[n],t[n++]=r&this.DM,r>>=this.DB;if(e.t<this.t){for(r-=e.s;n<this.t;)r+=this[n],t[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;n<e.t;)r-=e[n],t[n++]=r&this.DM,r>>=this.DB;r-=e.s}t.s=r<0?-1:0,r<-1?t[n++]=this.DV+r:r>0&&(t[n++]=r),t.t=n,t.clamp()},r.prototype.multiplyTo=function(e,t){var n=this.abs(),o=e.abs(),i=n.t;for(t.t=i+o.t;--i>=0;)t[i]=0;for(i=0;i<o.t;++i)t[i+n.t]=n.am(0,o[i],t,i,0,n.t);t.s=0,t.clamp(),this.s!=e.s&&r.ZERO.subTo(t,t)},r.prototype.squareTo=function(e){for(var t=this.abs(),n=e.t=2*t.t;--n>=0;)e[n]=0;for(n=0;n<t.t-1;++n){var r=t.am(n,t[n],e,2*n,0,1);(e[n+t.t]+=t.am(n+1,2*t[n],e,2*n+1,r,t.t-n-1))>=t.DV&&(e[n+t.t]-=t.DV,e[n+t.t+1]=1)}e.t>0&&(e[e.t-1]+=t.am(n,t[n],e,2*n,0,1)),e.s=0,e.clamp()},r.prototype.divRemTo=function(e,t,n){var i=e.abs();if(!(i.t<=0)){var s=this.abs();if(s.t<i.t)return null!=t&&t.fromInt(0),void(null!=n&&this.copyTo(n));null==n&&(n=o());var a=o(),l=this.s,c=e.s,u=this.DB-h(i[i.t-1]);u>0?(i.lShiftTo(u,a),s.lShiftTo(u,n)):(i.copyTo(a),s.copyTo(n));var d=a.t,p=a[d-1];if(0!=p){var f=p*(1<<this.F1)+(d>1?a[d-2]>>this.F2:0),m=this.FV/f,g=(1<<this.F1)/f,b=1<<this.F2,w=n.t,y=w-d,v=null==t?o():t;for(a.dlShiftTo(y,v),n.compareTo(v)>=0&&(n[n.t++]=1,n.subTo(v,n)),r.ONE.dlShiftTo(d,v),v.subTo(a,a);a.t<d;)a[a.t++]=0;for(;--y>=0;){var A=n[--w]==p?this.DM:Math.floor(n[w]*m+(n[w-1]+b)*g);if((n[w]+=a.am(0,A,n,y,0,d))<A)for(a.dlShiftTo(y,v),n.subTo(v,n);n[w]<--A;)n.subTo(v,n)}null!=t&&(n.drShiftTo(d,t),l!=c&&r.ZERO.subTo(t,t)),n.t=d,n.clamp(),u>0&&n.rShiftTo(u,n),l<0&&r.ZERO.subTo(n,n)}}},r.prototype.invDigit=function(){if(this.t<1)return 0;var e=this[0];if(!(1&e))return 0;var t=3&e;return(t=(t=(t=(t=t*(2-(15&e)*t)&15)*(2-(255&e)*t)&255)*(2-((65535&e)*t&65535))&65535)*(2-e*t%this.DV)%this.DV)>0?this.DV-t:-t},r.prototype.isEven=function(){return 0==(this.t>0?1&this[0]:this.s)},r.prototype.exp=function(e,t){if(e>4294967295||e<1)return r.ONE;var n=o(),i=o(),s=t.convert(this),a=h(e)-1;for(s.copyTo(n);--a>=0;)if(t.sqrTo(n,i),(e&1<<a)>0)t.mulTo(i,s,n);else{var l=n;n=i,i=l}return t.revert(n)},r.prototype.toString=function(e){if(this.s<0)return"-"+this.negate().toString(e);var t;if(16==e)t=4;else if(8==e)t=3;else if(2==e)t=1;else if(32==e)t=5;else{if(4!=e)return this.toRadix(e);t=2}var n,r=(1<<t)-1,o=!1,i="",s=this.t,a=this.DB-s*this.DB%t;if(s-- >0)for(a<this.DB&&(n=this[s]>>a)>0&&(o=!0,i=c(n));s>=0;)a<t?(n=(this[s]&(1<<a)-1)<<t-a,n|=this[--s]>>(a+=this.DB-t)):(n=this[s]>>(a-=t)&r,a<=0&&(a+=this.DB,--s)),n>0&&(o=!0),o&&(i+=c(n));return o?i:"0"},r.prototype.negate=function(){var e=o();return r.ZERO.subTo(this,e),e},r.prototype.abs=function(){return this.s<0?this.negate():this},r.prototype.compareTo=function(e){var t=this.s-e.s;if(0!=t)return t;var n=this.t;if(0!=(t=n-e.t))return this.s<0?-t:t;for(;--n>=0;)if(0!=(t=this[n]-e[n]))return t;return 0},r.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+h(this[this.t-1]^this.s&this.DM)},r.prototype.mod=function(e){var t=o();return this.abs().divRemTo(e,null,t),this.s<0&&t.compareTo(r.ZERO)>0&&e.subTo(t,t),t},r.prototype.modPowInt=function(e,t){var n;return n=e<256||t.isEven()?new p(t):new f(t),this.exp(e,n)},r.ZERO=d(0),r.ONE=d(1),A.prototype.convert=_,A.prototype.revert=_,A.prototype.mulTo=function(e,t,n){e.multiplyTo(t,n)},A.prototype.sqrTo=function(e,t){e.squareTo(t)},x.prototype.convert=function(e){if(e.s<0||e.t>2*this.m.t)return e.mod(this.m);if(e.compareTo(this.m)<0)return e;var t=o();return e.copyTo(t),this.reduce(t),t},x.prototype.revert=function(e){return e},x.prototype.reduce=function(e){for(e.drShiftTo(this.m.t-1,this.r2),e.t>this.m.t+1&&(e.t=this.m.t+1,e.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);e.compareTo(this.r2)<0;)e.dAddOffset(1,this.m.t+1);for(e.subTo(this.r2,e);e.compareTo(this.m)>=0;)e.subTo(this.m,e)},x.prototype.mulTo=function(e,t,n){e.multiplyTo(t,n),this.reduce(n)},x.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)};var S,E,C,k=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],O=(1<<26)/k[k.length-1];function T(){var e;e=(new Date).getTime(),E[C++]^=255&e,E[C++]^=e>>8&255,E[C++]^=e>>16&255,E[C++]^=e>>24&255,C>=F&&(C-=F)}if(r.prototype.chunkSize=function(e){return Math.floor(Math.LN2*this.DB/Math.log(e))},r.prototype.toRadix=function(e){if(null==e&&(e=10),0==this.signum()||e<2||e>36)return"0";var t=this.chunkSize(e),n=Math.pow(e,t),r=d(n),i=o(),s=o(),a="";for(this.divRemTo(r,i,s);i.signum()>0;)a=(n+s.intValue()).toString(e).substr(1)+a,i.divRemTo(r,i,s);return s.intValue().toString(e)+a},r.prototype.fromRadix=function(e,t){this.fromInt(0),null==t&&(t=10);for(var n=this.chunkSize(t),o=Math.pow(t,n),i=!1,s=0,a=0,l=0;l<e.length;++l){var c=u(e,l);c<0?"-"==e.charAt(l)&&0==this.signum()&&(i=!0):(a=t*a+c,++s>=n&&(this.dMultiply(o),this.dAddOffset(a,0),s=0,a=0))}s>0&&(this.dMultiply(Math.pow(t,s)),this.dAddOffset(a,0)),i&&r.ZERO.subTo(this,this)},r.prototype.fromNumber=function(e,t,n){if("number"==typeof t)if(e<2)this.fromInt(1);else for(this.fromNumber(e,n),this.testBit(e-1)||this.bitwiseTo(r.ONE.shiftLeft(e-1),g,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(t);)this.dAddOffset(2,0),this.bitLength()>e&&this.subTo(r.ONE.shiftLeft(e-1),this);else{var o=new Array,i=7&e;o.length=1+(e>>3),t.nextBytes(o),i>0?o[0]&=(1<<i)-1:o[0]=0,this.fromString(o,256)}},r.prototype.bitwiseTo=function(e,t,n){var r,o,i=Math.min(e.t,this.t);for(r=0;r<i;++r)n[r]=t(this[r],e[r]);if(e.t<this.t){for(o=e.s&this.DM,r=i;r<this.t;++r)n[r]=t(this[r],o);n.t=this.t}else{for(o=this.s&this.DM,r=i;r<e.t;++r)n[r]=t(o,e[r]);n.t=e.t}n.s=t(this.s,e.s),n.clamp()},r.prototype.changeBit=function(e,t){var n=r.ONE.shiftLeft(e);return this.bitwiseTo(n,t,n),n},r.prototype.addTo=function(e,t){for(var n=0,r=0,o=Math.min(e.t,this.t);n<o;)r+=this[n]+e[n],t[n++]=r&this.DM,r>>=this.DB;if(e.t<this.t){for(r+=e.s;n<this.t;)r+=this[n],t[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;n<e.t;)r+=e[n],t[n++]=r&this.DM,r>>=this.DB;r+=e.s}t.s=r<0?-1:0,r>0?t[n++]=r:r<-1&&(t[n++]=this.DV+r),t.t=n,t.clamp()},r.prototype.dMultiply=function(e){this[this.t]=this.am(0,e-1,this,0,0,this.t),++this.t,this.clamp()},r.prototype.dAddOffset=function(e,t){if(0!=e){for(;this.t<=t;)this[this.t++]=0;for(this[t]+=e;this[t]>=this.DV;)this[t]-=this.DV,++t>=this.t&&(this[this.t++]=0),++this[t]}},r.prototype.multiplyLowerTo=function(e,t,n){var r,o=Math.min(this.t+e.t,t);for(n.s=0,n.t=o;o>0;)n[--o]=0;for(r=n.t-this.t;o<r;++o)n[o+this.t]=this.am(0,e[o],n,o,0,this.t);for(r=Math.min(e.t,t);o<r;++o)this.am(0,e[o],n,o,0,t-o);n.clamp()},r.prototype.multiplyUpperTo=function(e,t,n){--t;var r=n.t=this.t+e.t-t;for(n.s=0;--r>=0;)n[r]=0;for(r=Math.max(t-this.t,0);r<e.t;++r)n[this.t+r-t]=this.am(t-r,e[r],n,0,0,this.t+r-t);n.clamp(),n.drShiftTo(1,n)},r.prototype.modInt=function(e){if(e<=0)return 0;var t=this.DV%e,n=this.s<0?e-1:0;if(this.t>0)if(0==t)n=this[0]%e;else for(var r=this.t-1;r>=0;--r)n=(t*n+this[r])%e;return n},r.prototype.millerRabin=function(e){var t=this.subtract(r.ONE),n=t.getLowestSetBit();if(n<=0)return!1;var i=t.shiftRight(n);(e=e+1>>1)>k.length&&(e=k.length);for(var s=o(),a=0;a<e;++a){s.fromInt(k[Math.floor(Math.random()*k.length)]);var l=s.modPow(i,this);if(0!=l.compareTo(r.ONE)&&0!=l.compareTo(t)){for(var c=1;c++<n&&0!=l.compareTo(t);)if(0==(l=l.modPowInt(2,this)).compareTo(r.ONE))return!1;if(0!=l.compareTo(t))return!1}}return!0},r.prototype.clone=function(){var e=o();return this.copyTo(e),e},r.prototype.intValue=function(){if(this.s<0){if(1==this.t)return this[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this[0];if(0==this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]},r.prototype.byteValue=function(){return 0==this.t?this.s:this[0]<<24>>24},r.prototype.shortValue=function(){return 0==this.t?this.s:this[0]<<16>>16},r.prototype.signum=function(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1},r.prototype.toByteArray=function(){var e=this.t,t=new Array;t[0]=this.s;var n,r=this.DB-e*this.DB%8,o=0;if(e-- >0)for(r<this.DB&&(n=this[e]>>r)!=(this.s&this.DM)>>r&&(t[o++]=n|this.s<<this.DB-r);e>=0;)r<8?(n=(this[e]&(1<<r)-1)<<8-r,n|=this[--e]>>(r+=this.DB-8)):(n=this[e]>>(r-=8)&255,r<=0&&(r+=this.DB,--e)),!!(128&n)&&(n|=-256),0==o&&(128&this.s)!=(128&n)&&++o,(o>0||n!=this.s)&&(t[o++]=n);return t},r.prototype.equals=function(e){return 0==this.compareTo(e)},r.prototype.min=function(e){return this.compareTo(e)<0?this:e},r.prototype.max=function(e){return this.compareTo(e)>0?this:e},r.prototype.and=function(e){var t=o();return this.bitwiseTo(e,m,t),t},r.prototype.or=function(e){var t=o();return this.bitwiseTo(e,g,t),t},r.prototype.xor=function(e){var t=o();return this.bitwiseTo(e,b,t),t},r.prototype.andNot=function(e){var t=o();return this.bitwiseTo(e,w,t),t},r.prototype.not=function(){for(var e=o(),t=0;t<this.t;++t)e[t]=this.DM&~this[t];return e.t=this.t,e.s=~this.s,e},r.prototype.shiftLeft=function(e){var t=o();return e<0?this.rShiftTo(-e,t):this.lShiftTo(e,t),t},r.prototype.shiftRight=function(e){var t=o();return e<0?this.lShiftTo(-e,t):this.rShiftTo(e,t),t},r.prototype.getLowestSetBit=function(){for(var e=0;e<this.t;++e)if(0!=this[e])return e*this.DB+y(this[e]);return this.s<0?this.t*this.DB:-1},r.prototype.bitCount=function(){for(var e=0,t=this.s&this.DM,n=0;n<this.t;++n)e+=v(this[n]^t);return e},r.prototype.testBit=function(e){var t=Math.floor(e/this.DB);return t>=this.t?0!=this.s:!!(this[t]&1<<e%this.DB)},r.prototype.setBit=function(e){return this.changeBit(e,g)},r.prototype.clearBit=function(e){return this.changeBit(e,w)},r.prototype.flipBit=function(e){return this.changeBit(e,b)},r.prototype.add=function(e){var t=o();return this.addTo(e,t),t},r.prototype.subtract=function(e){var t=o();return this.subTo(e,t),t},r.prototype.multiply=function(e){var t=o();return this.multiplyTo(e,t),t},r.prototype.divide=function(e){var t=o();return this.divRemTo(e,t,null),t},r.prototype.remainder=function(e){var t=o();return this.divRemTo(e,null,t),t},r.prototype.divideAndRemainder=function(e){var t=o(),n=o();return this.divRemTo(e,t,n),new Array(t,n)},r.prototype.modPow=function(e,t){var n,r,i=e.bitLength(),s=d(1);if(i<=0)return s;n=i<18?1:i<48?3:i<144?4:i<768?5:6,r=i<8?new p(t):t.isEven()?new x(t):new f(t);var a=new Array,l=3,c=n-1,u=(1<<n)-1;if(a[1]=r.convert(this),n>1){var m=o();for(r.sqrTo(a[1],m);l<=u;)a[l]=o(),r.mulTo(m,a[l-2],a[l]),l+=2}var g,b,w=e.t-1,y=!0,v=o();for(i=h(e[w])-1;w>=0;){for(i>=c?g=e[w]>>i-c&u:(g=(e[w]&(1<<i+1)-1)<<c-i,w>0&&(g|=e[w-1]>>this.DB+i-c)),l=n;!(1&g);)g>>=1,--l;if((i-=l)<0&&(i+=this.DB,--w),y)a[g].copyTo(s),y=!1;else{for(;l>1;)r.sqrTo(s,v),r.sqrTo(v,s),l-=2;l>0?r.sqrTo(s,v):(b=s,s=v,v=b),r.mulTo(v,a[g],s)}for(;w>=0&&!(e[w]&1<<i);)r.sqrTo(s,v),b=s,s=v,v=b,--i<0&&(i=this.DB-1,--w)}return r.revert(s)},r.prototype.modInverse=function(e){var t=e.isEven();if(this.isEven()&&t||0==e.signum())return r.ZERO;for(var n=e.clone(),o=this.clone(),i=d(1),s=d(0),a=d(0),l=d(1);0!=n.signum();){for(;n.isEven();)n.rShiftTo(1,n),t?((!i.isEven()||!s.isEven())&&(i.addTo(this,i),s.subTo(e,s)),i.rShiftTo(1,i)):s.isEven()||s.subTo(e,s),s.rShiftTo(1,s);for(;o.isEven();)o.rShiftTo(1,o),t?((!a.isEven()||!l.isEven())&&(a.addTo(this,a),l.subTo(e,l)),a.rShiftTo(1,a)):l.isEven()||l.subTo(e,l),l.rShiftTo(1,l);n.compareTo(o)>=0?(n.subTo(o,n),t&&i.subTo(a,i),s.subTo(l,s)):(o.subTo(n,o),t&&a.subTo(i,a),l.subTo(s,l))}return 0!=o.compareTo(r.ONE)?r.ZERO:l.compareTo(e)>=0?l.subtract(e):l.signum()<0?(l.addTo(e,l),l.signum()<0?l.add(e):l):l},r.prototype.pow=function(e){return this.exp(e,new A)},r.prototype.gcd=function(e){var t=this.s<0?this.negate():this.clone(),n=e.s<0?e.negate():e.clone();if(t.compareTo(n)<0){var r=t;t=n,n=r}var o=t.getLowestSetBit(),i=n.getLowestSetBit();if(i<0)return t;for(o<i&&(i=o),i>0&&(t.rShiftTo(i,t),n.rShiftTo(i,n));t.signum()>0;)(o=t.getLowestSetBit())>0&&t.rShiftTo(o,t),(o=n.getLowestSetBit())>0&&n.rShiftTo(o,n),t.compareTo(n)>=0?(t.subTo(n,t),t.rShiftTo(1,t)):(n.subTo(t,n),n.rShiftTo(1,n));return i>0&&n.lShiftTo(i,n),n},r.prototype.isProbablePrime=function(e){var t,n=this.abs();if(1==n.t&&n[0]<=k[k.length-1]){for(t=0;t<k.length;++t)if(n[0]==k[t])return!0;return!1}if(n.isEven())return!1;for(t=1;t<k.length;){for(var r=k[t],o=t+1;o<k.length&&r<O;)r*=k[o++];for(r=n.modInt(r);t<o;)if(r%k[t++]==0)return!1}return n.millerRabin(e)},r.prototype.square=function(){var e=o();return this.squareTo(e),e},r.prototype.Barrett=x,null==E){var I;if(E=new Array,C=0,"undefined"!=typeof window&&window.crypto)if(window.crypto.getRandomValues){var B=new Uint8Array(32);for(window.crypto.getRandomValues(B),I=0;I<32;++I)E[C++]=B[I]}else if("Netscape"==navigator.appName&&navigator.appVersion<"5"){var M=window.crypto.random(32);for(I=0;I<M.length;++I)E[C++]=255&M.charCodeAt(I)}for(;C<F;)I=Math.floor(65536*Math.random()),E[C++]=I>>>8,E[C++]=255&I;C=0,T()}function P(){if(null==S){for(T(),(S=new N).init(E),C=0;C<E.length;++C)E[C]=0;C=0}return S.next()}function j(){}function N(){this.i=0,this.j=0,this.S=new Array}j.prototype.nextBytes=function(e){var t;for(t=0;t<e.length;++t)e[t]=P()},N.prototype.init=function(e){var t,n,r;for(t=0;t<256;++t)this.S[t]=t;for(n=0,t=0;t<256;++t)n=n+this.S[t]+e[t%e.length]&255,r=this.S[t],this.S[t]=this.S[n],this.S[n]=r;this.i=0,this.j=0},N.prototype.next=function(){var e;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,e=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=e,this.S[e+this.S[this.i]&255]};var F=256;void 0!==e?e=t.exports={default:r,BigInteger:r,SecureRandom:j}:this.jsbn={BigInteger:r,SecureRandom:j}}).call(e)}),He=d(o=>{!function(){var i={not_string:/[^s]/,not_bool:/[^t]/,not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[+-]/};function s(e){return function(e,t){var n,r,o,a,l,c,u,d,h,p=1,f=e.length,m="";for(r=0;r<f;r++)if("string"==typeof e[r])m+=e[r];else if("object"==typeof e[r]){if((a=e[r]).keys)for(n=t[p],o=0;o<a.keys.length;o++){if(null==n)throw new Error(s('[sprintf] Cannot access property "%s" of undefined value "%s"',a.keys[o],a.keys[o-1]));n=n[a.keys[o]]}else n=a.param_no?t[a.param_no]:t[p++];if(i.not_type.test(a.type)&&i.not_primitive.test(a.type)&&n instanceof Function&&(n=n()),i.numeric_arg.test(a.type)&&"number"!=typeof n&&isNaN(n))throw new TypeError(s("[sprintf] expecting number but found %T",n));switch(i.number.test(a.type)&&(d=n>=0),a.type){case"b":n=parseInt(n,10).toString(2);break;case"c":n=String.fromCharCode(parseInt(n,10));break;case"d":case"i":n=parseInt(n,10);break;case"j":n=JSON.stringify(n,null,a.width?parseInt(a.width):0);break;case"e":n=a.precision?parseFloat(n).toExponential(a.precision):parseFloat(n).toExponential();break;case"f":n=a.precision?parseFloat(n).toFixed(a.precision):parseFloat(n);break;case"g":n=a.precision?String(Number(n.toPrecision(a.precision))):parseFloat(n);break;case"o":n=(parseInt(n,10)>>>0).toString(8);break;case"s":n=String(n),n=a.precision?n.substring(0,a.precision):n;break;case"t":n=String(!!n),n=a.precision?n.substring(0,a.precision):n;break;case"T":n=Object.prototype.toString.call(n).slice(8,-1).toLowerCase(),n=a.precision?n.substring(0,a.precision):n;break;case"u":n=parseInt(n,10)>>>0;break;case"v":n=n.valueOf(),n=a.precision?n.substring(0,a.precision):n;break;case"x":n=(parseInt(n,10)>>>0).toString(16);break;case"X":n=(parseInt(n,10)>>>0).toString(16).toUpperCase()}i.json.test(a.type)?m+=n:(!i.number.test(a.type)||d&&!a.sign?h="":(h=d?"+":"-",n=n.toString().replace(i.sign,"")),c=a.pad_char?"0"===a.pad_char?"0":a.pad_char.charAt(1):" ",u=a.width-(h+n).length,l=a.width&&u>0?c.repeat(u):"",m+=a.align?h+n+l:"0"===c?h+l+n:l+h+n)}return m}(function(e){if(l[e])return l[e];for(var t,n=e,r=[],o=0;n;){if(null!==(t=i.text.exec(n)))r.push(t[0]);else if(null!==(t=i.modulo.exec(n)))r.push("%");else{if(null===(t=i.placeholder.exec(n)))throw new SyntaxError("[sprintf] unexpected placeholder");if(t[2]){o|=1;var s=[],a=t[2],c=[];if(null===(c=i.key.exec(a)))throw new SyntaxError("[sprintf] failed to parse named argument key");for(s.push(c[1]);""!==(a=a.substring(c[0].length));)if(null!==(c=i.key_access.exec(a)))s.push(c[1]);else{if(null===(c=i.index_access.exec(a)))throw new SyntaxError("[sprintf] failed to parse named argument key");s.push(c[1])}t[2]=s}else o|=2;if(3===o)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");r.push({placeholder:t[0],param_no:t[1],keys:t[2],sign:t[3],pad_char:t[4],align:t[5],width:t[6],precision:t[7],type:t[8]})}n=n.substring(t[0].length)}return l[e]=r}(e),arguments)}function a(e,t){return s.apply(null,[e].concat(t||[]))}var l=Object.create(null);void 0!==o&&(o.sprintf=s,o.vsprintf=a),"undefined"!=typeof window&&(window.sprintf=s,window.vsprintf=a,void 0===(r=function(){return{sprintf:s,vsprintf:a}}.call(t,n,t,e))||(e.exports=r))}()}),Ue=d(e=>{var t=e&&e.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),n=e&&e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=e&&e.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var o in e)"default"!==o&&Object.prototype.hasOwnProperty.call(e,o)&&t(r,e,o);return n(r,e),r};Object.defineProperty(e,"__esModule",{value:!0}),e.Address4=void 0;var o=r(De()),i=r(Re()),s=Le(),a=ze(),l=He();e.Address4=class e{constructor(e){this.groups=i.GROUPS,this.parsedAddress=[],this.parsedSubnet="",this.subnet="/32",this.subnetMask=32,this.v4=!0,this.isCorrect=o.isCorrect(i.BITS),this.isInSubnet=o.isInSubnet,this.address=e;let t=i.RE_SUBNET_STRING.exec(e);if(t){if(this.parsedSubnet=t[0].replace("/",""),this.subnetMask=parseInt(this.parsedSubnet,10),this.subnet=`/${this.subnetMask}`,this.subnetMask<0||this.subnetMask>i.BITS)throw new s.AddressError("Invalid subnet mask.");e=e.replace(i.RE_SUBNET_STRING,"")}this.addressMinusSuffix=e,this.parsedAddress=this.parse(e)}static isValid(t){try{return new e(t),!0}catch{return!1}}parse(e){let t=e.split(".");if(!e.match(i.RE_ADDRESS))throw new s.AddressError("Invalid IPv4 address.");return t}correctForm(){return this.parsedAddress.map(e=>parseInt(e,10)).join(".")}static fromHex(t){let n,r=t.replace(/:/g,"").padStart(8,"0"),o=[];for(n=0;n<8;n+=2){let e=r.slice(n,n+2);o.push(parseInt(e,16))}return new e(o.join("."))}static fromInteger(t){return e.fromHex(t.toString(16))}static fromArpa(t){let n=t.replace(/(\.in-addr\.arpa)?\.$/,"").split(".").reverse().join(".");return new e(n)}toHex(){return this.parsedAddress.map(e=>(0,l.sprintf)("%02x",parseInt(e,10))).join(":")}toArray(){return this.parsedAddress.map(e=>parseInt(e,10))}toGroup6(){let e,t=[];for(e=0;e<i.GROUPS;e+=2){let n=(0,l.sprintf)("%02x%02x",parseInt(this.parsedAddress[e],10),parseInt(this.parsedAddress[e+1],10));t.push((0,l.sprintf)("%x",parseInt(n,16)))}return t.join(":")}bigInteger(){return new a.BigInteger(this.parsedAddress.map(e=>(0,l.sprintf)("%02x",parseInt(e,10))).join(""),16)}_startAddress(){return new a.BigInteger(this.mask()+"0".repeat(i.BITS-this.subnetMask),2)}startAddress(){return e.fromBigInteger(this._startAddress())}startAddressExclusive(){let t=new a.BigInteger("1");return e.fromBigInteger(this._startAddress().add(t))}_endAddress(){return new a.BigInteger(this.mask()+"1".repeat(i.BITS-this.subnetMask),2)}endAddress(){return e.fromBigInteger(this._endAddress())}endAddressExclusive(){let t=new a.BigInteger("1");return e.fromBigInteger(this._endAddress().subtract(t))}static fromBigInteger(t){return e.fromInteger(parseInt(t.toString(),10))}mask(e){return void 0===e&&(e=this.subnetMask),this.getBitsBase2(0,e)}getBitsBase2(e,t){return this.binaryZeroPad().slice(e,t)}reverseForm(e){e||(e={});let t=this.correctForm().split(".").reverse().join(".");return e.omitSuffix?t:(0,l.sprintf)("%s.in-addr.arpa.",t)}isMulticast(){return this.isInSubnet(new e("224.0.0.0/4"))}binaryZeroPad(){return this.bigInteger().toString(2).padStart(i.BITS,"0")}groupForV6(){let e=this.parsedAddress;return this.address.replace(i.RE_ADDRESS,(0,l.sprintf)('<span class="hover-group group-v4 group-6">%s</span>.<span class="hover-group group-v4 group-7">%s</span>',e.slice(0,2).join("."),e.slice(2,4).join(".")))}}}),Qe=d(e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.RE_URL_WITH_PORT=e.RE_URL=e.RE_ZONE_STRING=e.RE_SUBNET_STRING=e.RE_BAD_ADDRESS=e.RE_BAD_CHARACTERS=e.TYPES=e.SCOPES=e.GROUPS=e.BITS=void 0,e.BITS=128,e.GROUPS=8,e.SCOPES={0:"Reserved",1:"Interface local",2:"Link local",4:"Admin local",5:"Site local",8:"Organization local",14:"Global",15:"Reserved"},e.TYPES={"ff01::1/128":"Multicast (All nodes on this interface)","ff01::2/128":"Multicast (All routers on this interface)","ff02::1/128":"Multicast (All nodes on this link)","ff02::2/128":"Multicast (All routers on this link)","ff05::2/128":"Multicast (All routers in this site)","ff02::5/128":"Multicast (OSPFv3 AllSPF routers)","ff02::6/128":"Multicast (OSPFv3 AllDR routers)","ff02::9/128":"Multicast (RIP routers)","ff02::a/128":"Multicast (EIGRP routers)","ff02::d/128":"Multicast (PIM routers)","ff02::16/128":"Multicast (MLDv2 reports)","ff01::fb/128":"Multicast (mDNSv6)","ff02::fb/128":"Multicast (mDNSv6)","ff05::fb/128":"Multicast (mDNSv6)","ff02::1:2/128":"Multicast (All DHCP servers and relay agents on this link)","ff05::1:2/128":"Multicast (All DHCP servers and relay agents in this site)","ff02::1:3/128":"Multicast (All DHCP servers on this link)","ff05::1:3/128":"Multicast (All DHCP servers in this site)","::/128":"Unspecified","::1/128":"Loopback","ff00::/8":"Multicast","fe80::/10":"Link-local unicast"},e.RE_BAD_CHARACTERS=/([^0-9a-f:/%])/gi,e.RE_BAD_ADDRESS=/([0-9a-f]{5,}|:{3,}|[^:]:$|^:[^:]|\/$)/gi,e.RE_SUBNET_STRING=/\/\d{1,3}(?=%|$)/,e.RE_ZONE_STRING=/%.*$/,e.RE_URL=new RegExp(/^\[{0,1}([0-9a-f:]+)\]{0,1}/),e.RE_URL_WITH_PORT=new RegExp(/\[([0-9a-f:]+)\]:([0-9]{1,5})/)}),qe=d(e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.simpleGroup=e.spanLeadingZeroes=e.spanAll=e.spanAllZeroes=void 0;var t=He();function n(e){return e.replace(/(0+)/g,'<span class="zero">$1</span>')}function r(e){return e.replace(/^(0+)/,'<span class="zero">$1</span>')}e.spanAllZeroes=n,e.spanAll=function(e,r=0){return e.split("").map((e,o)=>(0,t.sprintf)('<span class="digit value-%s position-%d">%s</span>',e,o+r,n(e))).join("")},e.spanLeadingZeroes=function(e){return e.split(":").map(e=>r(e)).join(":")},e.simpleGroup=function(e,n=0){return e.split(":").map((e,o)=>/group-v4/.test(e)?e:(0,t.sprintf)('<span class="hover-group group-%d">%s</span>',o+n,r(e)))}}),We=d(e=>{var t=e&&e.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),n=e&&e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=e&&e.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var o in e)"default"!==o&&Object.prototype.hasOwnProperty.call(e,o)&&t(r,e,o);return n(r,e),r};Object.defineProperty(e,"__esModule",{value:!0}),e.possibleElisions=e.simpleRegularExpression=e.ADDRESS_BOUNDARY=e.padGroup=e.groupPossibilities=void 0;var o=r(Qe()),i=He();function s(e){return(0,i.sprintf)("(%s)",e.join("|"))}function a(e){return e.length<4?(0,i.sprintf)("0{0,%d}%s",4-e.length,e):e}e.groupPossibilities=s,e.padGroup=a,e.ADDRESS_BOUNDARY="[^A-Fa-f0-9:]",e.simpleRegularExpression=function(e){let t=[];e.forEach((e,n)=>{0===parseInt(e,16)&&t.push(n)});let n=t.map(t=>e.map((e,n)=>{if(n===t){let t=0===n||n===o.GROUPS-1?":":"";return s([a(e),t])}return a(e)}).join(":"));return n.push(e.map(a).join(":")),s(n)},e.possibleElisions=function(e,t,n){let r=t?"":":",o=n?"":":",a=[];!t&&!n&&a.push("::"),t&&n&&a.push(""),(n&&!t||!n&&t)&&a.push(":"),a.push((0,i.sprintf)("%s(:0{1,4}){1,%d}",r,e-1)),a.push((0,i.sprintf)("(0{1,4}:){1,%d}%s",e-1,o)),a.push((0,i.sprintf)("(0{1,4}:){%d}0{1,4}",e-1));for(let t=1;t<e-1;t++)for(let n=1;n<e-t;n++)a.push((0,i.sprintf)("(0{1,4}:){%d}:(0{1,4}:){%d}0{1,4}",n,e-n-t-1));return s(a)}}),$e=d(e=>{var t=e&&e.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),n=e&&e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=e&&e.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var o in e)"default"!==o&&Object.prototype.hasOwnProperty.call(e,o)&&t(r,e,o);return n(r,e),r};Object.defineProperty(e,"__esModule",{value:!0}),e.Address6=void 0;var o=r(De()),i=r(Re()),s=r(Qe()),a=r(qe()),l=Ue(),c=We(),u=Le(),d=ze(),h=He();function p(e){if(!e)throw new Error("Assertion failed.")}function f(e){return(e=e.replace(/^(0{1,})([1-9]+)$/,'<span class="parse-error">$1</span>$2')).replace(/^(0{1,})(0)$/,'<span class="parse-error">$1</span>$2')}function m(e){return(0,h.sprintf)("%04x",parseInt(e,16))}function g(e){return 255&e}e.Address6=class e{constructor(e,t){this.addressMinusSuffix="",this.parsedSubnet="",this.subnet="/128",this.subnetMask=128,this.v4=!1,this.zone="",this.isInSubnet=o.isInSubnet,this.isCorrect=o.isCorrect(s.BITS),this.groups=void 0===t?s.GROUPS:t,this.address=e;let n=s.RE_SUBNET_STRING.exec(e);if(n){if(this.parsedSubnet=n[0].replace("/",""),this.subnetMask=parseInt(this.parsedSubnet,10),this.subnet=`/${this.subnetMask}`,Number.isNaN(this.subnetMask)||this.subnetMask<0||this.subnetMask>s.BITS)throw new u.AddressError("Invalid subnet mask.");e=e.replace(s.RE_SUBNET_STRING,"")}else if(/\//.test(e))throw new u.AddressError("Invalid subnet mask.");let r=s.RE_ZONE_STRING.exec(e);r&&(this.zone=r[0],e=e.replace(s.RE_ZONE_STRING,"")),this.addressMinusSuffix=e,this.parsedAddress=this.parse(this.addressMinusSuffix)}static isValid(t){try{return new e(t),!0}catch{return!1}}static fromBigInteger(t){let n,r=t.toString(16).padStart(32,"0"),o=[];for(n=0;n<s.GROUPS;n++)o.push(r.slice(4*n,4*(n+1)));return new e(o.join(":"))}static fromURL(t){let n,r,o=null;if(-1!==t.indexOf("[")&&-1!==t.indexOf("]:")){if(r=s.RE_URL_WITH_PORT.exec(t),null===r)return{error:"failed to parse address with port",address:null,port:null};n=r[1],o=r[2]}else if(-1!==t.indexOf("/")){if(t=t.replace(/^[a-z0-9]+:\/\//,""),r=s.RE_URL.exec(t),null===r)return{error:"failed to parse address from URL",address:null,port:null};n=r[1]}else n=t;return o?(o=parseInt(o,10),(o<0||o>65536)&&(o=null)):o=null,{address:new e(n),port:o}}static fromAddress4(t){let n=new l.Address4(t),r=s.BITS-(i.BITS-n.subnetMask);return new e(`::ffff:${n.correctForm()}/${r}`)}static fromArpa(t){let n=t.replace(/(\.ip6\.arpa)?\.$/,"");if(63!==n.length)throw new u.AddressError("Invalid 'ip6.arpa' form.");let r=n.split(".").reverse();for(let e=7;e>0;e--){let t=4*e;r.splice(t,0,":")}return n=r.join(""),new e(n)}microsoftTranscription(){return(0,h.sprintf)("%s.ipv6-literal.net",this.correctForm().replace(/:/g,"-"))}mask(e=this.subnetMask){return this.getBitsBase2(0,e)}possibleSubnets(e=128){let t=s.BITS-this.subnetMask-Math.abs(e-s.BITS);return t<0?"0":function(e){let t=/(\d+)(\d{3})/;for(;t.test(e);)e=e.replace(t,"$1,$2");return e}(new d.BigInteger("2",10).pow(t).toString(10))}_startAddress(){return new d.BigInteger(this.mask()+"0".repeat(s.BITS-this.subnetMask),2)}startAddress(){return e.fromBigInteger(this._startAddress())}startAddressExclusive(){let t=new d.BigInteger("1");return e.fromBigInteger(this._startAddress().add(t))}_endAddress(){return new d.BigInteger(this.mask()+"1".repeat(s.BITS-this.subnetMask),2)}endAddress(){return e.fromBigInteger(this._endAddress())}endAddressExclusive(){let t=new d.BigInteger("1");return e.fromBigInteger(this._endAddress().subtract(t))}getScope(){let e=s.SCOPES[this.getBits(12,16).intValue()];return"Global unicast"===this.getType()&&"Link local"!==e&&(e="Global"),e||"Unknown"}getType(){for(let t of Object.keys(s.TYPES))if(this.isInSubnet(new e(t)))return s.TYPES[t];return"Global unicast"}getBits(e,t){return new d.BigInteger(this.getBitsBase2(e,t),2)}getBitsBase2(e,t){return this.binaryZeroPad().slice(e,t)}getBitsBase16(e,t){let n=t-e;if(n%4!=0)throw new Error("Length of bits to retrieve must be divisible by four");return this.getBits(e,t).toString(16).padStart(n/4,"0")}getBitsPastSubnet(){return this.getBitsBase2(this.subnetMask,s.BITS)}reverseForm(e){e||(e={});let t=Math.floor(this.subnetMask/4),n=this.canonicalForm().replace(/:/g,"").split("").slice(0,t).reverse().join(".");return t>0?e.omitSuffix?n:(0,h.sprintf)("%s.ip6.arpa.",n):e.omitSuffix?"":"ip6.arpa."}correctForm(){let e,t=[],n=0,r=[];for(e=0;e<this.parsedAddress.length;e++){let t=parseInt(this.parsedAddress[e],16);0===t&&n++,0!==t&&n>0&&(n>1&&r.push([e-n,e-1]),n=0)}n>1&&r.push([this.parsedAddress.length-n,this.parsedAddress.length-1]);let o=r.map(e=>e[1]-e[0]+1);if(r.length>0){let e=o.indexOf(Math.max(...o));t=function(e,t){let n,r=[],o=[];for(n=0;n<e.length;n++)n<t[0]?r.push(e[n]):n>t[1]&&o.push(e[n]);return r.concat(["compact"]).concat(o)}(this.parsedAddress,r[e])}else t=this.parsedAddress;for(e=0;e<t.length;e++)"compact"!==t[e]&&(t[e]=parseInt(t[e],16).toString(16));let i=t.join(":");return i=i.replace(/^compact$/,"::"),i=i.replace(/^compact|compact$/,":"),i=i.replace(/compact/,""),i}binaryZeroPad(){return this.bigInteger().toString(2).padStart(s.BITS,"0")}parse4in6(e){let t=e.split(":"),n=t.slice(-1)[0].match(i.RE_ADDRESS);if(n){this.parsedAddress4=n[0],this.address4=new l.Address4(this.parsedAddress4);for(let t=0;t<this.address4.groups;t++)if(/^0[0-9]+/.test(this.address4.parsedAddress[t]))throw new u.AddressError("IPv4 addresses can't have leading zeroes.",e.replace(i.RE_ADDRESS,this.address4.parsedAddress.map(f).join(".")));this.v4=!0,t[t.length-1]=this.address4.toGroup6(),e=t.join(":")}return e}parse(e){let t=(e=this.parse4in6(e)).match(s.RE_BAD_CHARACTERS);if(t)throw new u.AddressError((0,h.sprintf)("Bad character%s detected in address: %s",t.length>1?"s":"",t.join("")),e.replace(s.RE_BAD_CHARACTERS,'<span class="parse-error">$1</span>'));let n=e.match(s.RE_BAD_ADDRESS);if(n)throw new u.AddressError((0,h.sprintf)("Address failed regex: %s",n.join("")),e.replace(s.RE_BAD_ADDRESS,'<span class="parse-error">$1</span>'));let r=[],o=e.split("::");if(2===o.length){let e=o[0].split(":"),t=o[1].split(":");1===e.length&&""===e[0]&&(e=[]),1===t.length&&""===t[0]&&(t=[]);let n=this.groups-(e.length+t.length);if(!n)throw new u.AddressError("Error parsing groups");this.elidedGroups=n,this.elisionBegin=e.length,this.elisionEnd=e.length+this.elidedGroups,r=r.concat(e);for(let e=0;e<n;e++)r.push("0");r=r.concat(t)}else{if(1!==o.length)throw new u.AddressError("Too many :: groups found");r=e.split(":"),this.elidedGroups=0}if(r=r.map(e=>(0,h.sprintf)("%x",parseInt(e,16))),r.length!==this.groups)throw new u.AddressError("Incorrect number of groups found");return r}canonicalForm(){return this.parsedAddress.map(m).join(":")}decimal(){return this.parsedAddress.map(e=>(0,h.sprintf)("%05d",parseInt(e,16))).join(":")}bigInteger(){return new d.BigInteger(this.parsedAddress.map(m).join(""),16)}to4(){let e=this.binaryZeroPad().split("");return l.Address4.fromHex(new d.BigInteger(e.slice(96,128).join(""),2).toString(16))}to4in6(){let t=this.to4(),n=new e(this.parsedAddress.slice(0,6).join(":"),6).correctForm(),r="";return/:$/.test(n)||(r=":"),n+r+t.address}inspectTeredo(){let e=this.getBitsBase16(0,32),t=this.getBits(80,96).xor(new d.BigInteger("ffff",16)).toString(),n=l.Address4.fromHex(this.getBitsBase16(32,64)),r=l.Address4.fromHex(this.getBits(96,128).xor(new d.BigInteger("ffffffff",16)).toString(16)),o=this.getBits(64,80),i=this.getBitsBase2(64,80),s=o.testBit(15),a=o.testBit(14),c=o.testBit(8),u=o.testBit(9),p=new d.BigInteger(i.slice(2,6)+i.slice(8,16),2).toString(10);return{prefix:(0,h.sprintf)("%s:%s",e.slice(0,4),e.slice(4,8)),server4:n.address,client4:r.address,flags:i,coneNat:s,microsoft:{reserved:a,universalLocal:u,groupIndividual:c,nonce:p},udpPort:t}}inspect6to4(){let e=this.getBitsBase16(0,16),t=l.Address4.fromHex(this.getBitsBase16(16,48));return{prefix:(0,h.sprintf)("%s",e.slice(0,4)),gateway:t.address}}to6to4(){if(!this.is4())return null;let t=["2002",this.getBitsBase16(96,112),this.getBitsBase16(112,128),"","/16"].join(":");return new e(t)}toByteArray(){let e=this.bigInteger().toByteArray();return 17===e.length&&0===e[0]?e.slice(1):e}toUnsignedByteArray(){return this.toByteArray().map(g)}static fromByteArray(e){return this.fromUnsignedByteArray(e.map(g))}static fromUnsignedByteArray(t){let n=new d.BigInteger("256",10),r=new d.BigInteger("0",10),o=new d.BigInteger("1",10);for(let e=t.length-1;e>=0;e--)r=r.add(o.multiply(new d.BigInteger(t[e].toString(10),10))),o=o.multiply(n);return e.fromBigInteger(r)}isCanonical(){return this.addressMinusSuffix===this.canonicalForm()}isLinkLocal(){return"1111111010000000000000000000000000000000000000000000000000000000"===this.getBitsBase2(0,64)}isMulticast(){return"Multicast"===this.getType()}is4(){return this.v4}isTeredo(){return this.isInSubnet(new e("2001::/32"))}is6to4(){return this.isInSubnet(new e("2002::/16"))}isLoopback(){return"Loopback"===this.getType()}href(e){return e=void 0===e?"":(0,h.sprintf)(":%s",e),(0,h.sprintf)("http://[%s]%s/",this.correctForm(),e)}link(e){e||(e={}),void 0===e.className&&(e.className=""),void 0===e.prefix&&(e.prefix="/#address="),void 0===e.v4&&(e.v4=!1);let t=this.correctForm;return e.v4&&(t=this.to4in6),e.className?(0,h.sprintf)('<a href="%1$s%2$s" class="%3$s">%2$s</a>',e.prefix,t.call(this),e.className):(0,h.sprintf)('<a href="%1$s%2$s">%2$s</a>',e.prefix,t.call(this))}group(){if(0===this.elidedGroups)return a.simpleGroup(this.address).join(":");p("number"==typeof this.elidedGroups),p("number"==typeof this.elisionBegin);let e=[],[t,n]=this.address.split("::");t.length?e.push(...a.simpleGroup(t)):e.push("");let r=["hover-group"];for(let e=this.elisionBegin;e<this.elisionBegin+this.elidedGroups;e++)r.push((0,h.sprintf)("group-%d",e));return e.push((0,h.sprintf)('<span class="%s"></span>',r.join(" "))),n.length?e.push(...a.simpleGroup(n,this.elisionEnd)):e.push(""),this.is4()&&(p(this.address4 instanceof l.Address4),e.pop(),e.push(this.address4.groupForV6())),e.join(":")}regularExpressionString(t=!1){let n=[],r=new e(this.correctForm());if(0===r.elidedGroups)n.push((0,c.simpleRegularExpression)(r.parsedAddress));else if(r.elidedGroups===s.GROUPS)n.push((0,c.possibleElisions)(s.GROUPS));else{let e=r.address.split("::");e[0].length&&n.push((0,c.simpleRegularExpression)(e[0].split(":"))),p("number"==typeof r.elidedGroups),n.push((0,c.possibleElisions)(r.elidedGroups,0!==e[0].length,0!==e[1].length)),e[1].length&&n.push((0,c.simpleRegularExpression)(e[1].split(":"))),n=[n.join(":")]}return t||(n=["(?=^|",c.ADDRESS_BOUNDARY,"|[^\\w\\:])(",...n,")(?=[^\\w\\:]|",c.ADDRESS_BOUNDARY,"|$)"]),n.join("")}regularExpression(e=!1){return new RegExp(this.regularExpressionString(e),"i")}}}),Ge=d(e=>{var t=e&&e.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),n=e&&e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=e&&e.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var o in e)"default"!==o&&Object.prototype.hasOwnProperty.call(e,o)&&t(r,e,o);return n(r,e),r};Object.defineProperty(e,"__esModule",{value:!0}),e.v6=e.AddressError=e.Address6=e.Address4=void 0;var o=Ue();Object.defineProperty(e,"Address4",{enumerable:!0,get:function(){return o.Address4}});var i=$e();Object.defineProperty(e,"Address6",{enumerable:!0,get:function(){return i.Address6}});var s=Le();Object.defineProperty(e,"AddressError",{enumerable:!0,get:function(){return s.AddressError}});var a=r(qe());e.v6={helpers:a}}),Ve=d(e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ipToBuffer=e.int32ToIpv4=e.ipv4ToInt32=e.validateSocksClientChainOptions=e.validateSocksClientOptions=void 0;var t=Fe(),r=Ne(),o=n("stream"),i=Ge(),s=n("net");function a(e,n){if(void 0!==e.custom_auth_method){if(e.custom_auth_method<r.SOCKS5_CUSTOM_AUTH_START||e.custom_auth_method>r.SOCKS5_CUSTOM_AUTH_END)throw new t.SocksClientError(r.ERRORS.InvalidSocksClientOptionsCustomAuthRange,n);if(void 0===e.custom_auth_request_handler||"function"!=typeof e.custom_auth_request_handler)throw new t.SocksClientError(r.ERRORS.InvalidSocksClientOptionsCustomAuthOptions,n);if(void 0===e.custom_auth_response_size)throw new t.SocksClientError(r.ERRORS.InvalidSocksClientOptionsCustomAuthOptions,n);if(void 0===e.custom_auth_response_handler||"function"!=typeof e.custom_auth_response_handler)throw new t.SocksClientError(r.ERRORS.InvalidSocksClientOptionsCustomAuthOptions,n)}}function l(e){return e&&"string"==typeof e.host&&"number"==typeof e.port&&e.port>=0&&e.port<=65535}function c(e){return e&&("string"==typeof e.host||"string"==typeof e.ipaddress)&&"number"==typeof e.port&&e.port>=0&&e.port<=65535&&(4===e.type||5===e.type)}function u(e){return"number"==typeof e&&e>0}e.validateSocksClientOptions=function(e,n=["connect","bind","associate"]){if(!r.SocksCommand[e.command])throw new t.SocksClientError(r.ERRORS.InvalidSocksCommand,e);if(-1===n.indexOf(e.command))throw new t.SocksClientError(r.ERRORS.InvalidSocksCommandForOperation,e);if(!l(e.destination))throw new t.SocksClientError(r.ERRORS.InvalidSocksClientOptionsDestination,e);if(!c(e.proxy))throw new t.SocksClientError(r.ERRORS.InvalidSocksClientOptionsProxy,e);if(a(e.proxy,e),e.timeout&&!u(e.timeout))throw new t.SocksClientError(r.ERRORS.InvalidSocksClientOptionsTimeout,e);if(e.existing_socket&&!(e.existing_socket instanceof o.Duplex))throw new t.SocksClientError(r.ERRORS.InvalidSocksClientOptionsExistingSocket,e)},e.validateSocksClientChainOptions=function(e){if("connect"!==e.command)throw new t.SocksClientError(r.ERRORS.InvalidSocksCommandChain,e);if(!l(e.destination))throw new t.SocksClientError(r.ERRORS.InvalidSocksClientOptionsDestination,e);if(!(e.proxies&&Array.isArray(e.proxies)&&e.proxies.length>=2))throw new t.SocksClientError(r.ERRORS.InvalidSocksClientOptionsProxiesLength,e);if(e.proxies.forEach(n=>{if(!c(n))throw new t.SocksClientError(r.ERRORS.InvalidSocksClientOptionsProxy,e);a(n,e)}),e.timeout&&!u(e.timeout))throw new t.SocksClientError(r.ERRORS.InvalidSocksClientOptionsTimeout,e)},e.ipv4ToInt32=function(e){return new i.Address4(e).toArray().reduce((e,t)=>(e<<8)+t,0)},e.int32ToIpv4=function(e){return[e>>>24&255,e>>>16&255,e>>>8&255,255&e].join(".")},e.ipToBuffer=function(e){if(s.isIPv4(e)){let t=new i.Address4(e);return Buffer.from(t.toArray())}if(s.isIPv6(e)){let t=new i.Address6(e);return Buffer.from(t.canonicalForm().split(":").map(e=>e.padStart(4,"0")).join(""),"hex")}throw new Error("Invalid IP address format")}}),Ye=d(e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ReceiveBuffer=void 0,e.ReceiveBuffer=class{constructor(e=4096){this.buffer=Buffer.allocUnsafe(e),this.offset=0,this.originalSize=e}get length(){return this.offset}append(e){if(!Buffer.isBuffer(e))throw new Error("Attempted to append a non-buffer instance to ReceiveBuffer.");if(this.offset+e.length>=this.buffer.length){let t=this.buffer;this.buffer=Buffer.allocUnsafe(Math.max(this.buffer.length+this.originalSize,this.buffer.length+e.length)),t.copy(this.buffer)}return e.copy(this.buffer,this.offset),this.offset+=e.length}peek(e){if(e>this.offset)throw new Error("Attempted to read beyond the bounds of the managed internal data.");return this.buffer.slice(0,e)}get(e){if(e>this.offset)throw new Error("Attempted to read beyond the bounds of the managed internal data.");let t=Buffer.allocUnsafe(e);return this.buffer.slice(0,e).copy(t),this.buffer.copyWithin(0,e,e+this.offset-e),this.offset-=e,t}}}),Je=d(e=>{var t=e&&e.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function s(e){try{l(r.next(e))}catch(e){i(e)}}function a(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){e.done?o(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(s,a)}l((r=r.apply(e,t||[])).next())})};Object.defineProperty(e,"__esModule",{value:!0}),e.SocksClientError=e.SocksClient=void 0;var r=n("events"),o=n("net"),i=je(),s=Ne(),a=Ve(),l=Ye(),c=Fe();Object.defineProperty(e,"SocksClientError",{enumerable:!0,get:function(){return c.SocksClientError}});var u=Ge(),d=class e extends r.EventEmitter{constructor(e){super(),this.options=Object.assign({},e),(0,a.validateSocksClientOptions)(e),this.setState(s.SocksClientState.Created)}static createConnection(t,n){return new Promise((r,o)=>{try{(0,a.validateSocksClientOptions)(t,["connect"])}catch(e){return"function"==typeof n?(n(e),r(e)):o(e)}let i=new e(t);i.connect(t.existing_socket),i.once("established",e=>{i.removeAllListeners(),"function"==typeof n&&n(null,e),r(e)}),i.once("error",e=>{i.removeAllListeners(),"function"==typeof n?(n(e),r(e)):o(e)})})}static createConnectionChain(n,r){return new Promise((o,i)=>t(this,void 0,void 0,function*(){try{(0,a.validateSocksClientChainOptions)(n)}catch(e){return"function"==typeof r?(r(e),o(e)):i(e)}n.randomizeChain&&(0,c.shuffleArray)(n.proxies);try{let t;for(let r=0;r<n.proxies.length;r++){let o=n.proxies[r],i=r===n.proxies.length-1?n.destination:{host:n.proxies[r+1].host||n.proxies[r+1].ipaddress,port:n.proxies[r+1].port},s=yield e.createConnection({command:"connect",proxy:o,destination:i,existing_socket:t});t=t||s.socket}"function"==typeof r?(r(null,{socket:t}),o({socket:t})):o({socket:t})}catch(e){"function"==typeof r?(r(e),o(e)):i(e)}}))}static createUDPFrame(e){let t=new i.SmartBuffer;return t.writeUInt16BE(0),t.writeUInt8(e.frameNumber||0),o.isIPv4(e.remoteHost.host)?(t.writeUInt8(s.Socks5HostType.IPv4),t.writeUInt32BE((0,a.ipv4ToInt32)(e.remoteHost.host))):o.isIPv6(e.remoteHost.host)?(t.writeUInt8(s.Socks5HostType.IPv6),t.writeBuffer((0,a.ipToBuffer)(e.remoteHost.host))):(t.writeUInt8(s.Socks5HostType.Hostname),t.writeUInt8(Buffer.byteLength(e.remoteHost.host)),t.writeString(e.remoteHost.host)),t.writeUInt16BE(e.remoteHost.port),t.writeBuffer(e.data),t.toBuffer()}static parseUDPFrame(e){let t=i.SmartBuffer.fromBuffer(e);t.readOffset=2;let n,r=t.readUInt8(),o=t.readUInt8();return n=o===s.Socks5HostType.IPv4?(0,a.int32ToIpv4)(t.readUInt32BE()):o===s.Socks5HostType.IPv6?u.Address6.fromByteArray(Array.from(t.readBuffer(16))).canonicalForm():t.readString(t.readUInt8()),{frameNumber:r,remoteHost:{host:n,port:t.readUInt16BE()},data:t.readBuffer()}}setState(e){this.state!==s.SocksClientState.Error&&(this.state=e)}connect(e){this.onDataReceived=e=>this.onDataReceivedHandler(e),this.onClose=()=>this.onCloseHandler(),this.onError=e=>this.onErrorHandler(e),this.onConnect=()=>this.onConnectHandler();let t=setTimeout(()=>this.onEstablishedTimeout(),this.options.timeout||s.DEFAULT_TIMEOUT);t.unref&&"function"==typeof t.unref&&t.unref(),this.socket=e||new o.Socket,this.socket.once("close",this.onClose),this.socket.once("error",this.onError),this.socket.once("connect",this.onConnect),this.socket.on("data",this.onDataReceived),this.setState(s.SocksClientState.Connecting),this.receiveBuffer=new l.ReceiveBuffer,e?this.socket.emit("connect"):(this.socket.connect(this.getSocketOptions()),void 0!==this.options.set_tcp_nodelay&&null!==this.options.set_tcp_nodelay&&this.socket.setNoDelay(!!this.options.set_tcp_nodelay)),this.prependOnceListener("established",e=>{setImmediate(()=>{if(this.receiveBuffer.length>0){let t=this.receiveBuffer.get(this.receiveBuffer.length);e.socket.emit("data",t)}e.socket.resume()})})}getSocketOptions(){return Object.assign(Object.assign({},this.options.socket_options),{host:this.options.proxy.host||this.options.proxy.ipaddress,port:this.options.proxy.port})}onEstablishedTimeout(){this.state!==s.SocksClientState.Established&&this.state!==s.SocksClientState.BoundWaitingForConnection&&this.closeSocket(s.ERRORS.ProxyConnectionTimedOut)}onConnectHandler(){this.setState(s.SocksClientState.Connected),4===this.options.proxy.type?this.sendSocks4InitialHandshake():this.sendSocks5InitialHandshake(),this.setState(s.SocksClientState.SentInitialHandshake)}onDataReceivedHandler(e){this.receiveBuffer.append(e),this.processData()}processData(){for(;this.state!==s.SocksClientState.Established&&this.state!==s.SocksClientState.Error&&this.receiveBuffer.length>=this.nextRequiredPacketBufferSize;)if(this.state===s.SocksClientState.SentInitialHandshake)4===this.options.proxy.type?this.handleSocks4FinalHandshakeResponse():this.handleInitialSocks5HandshakeResponse();else if(this.state===s.SocksClientState.SentAuthentication)this.handleInitialSocks5AuthenticationHandshakeResponse();else if(this.state===s.SocksClientState.SentFinalHandshake)this.handleSocks5FinalHandshakeResponse();else{if(this.state!==s.SocksClientState.BoundWaitingForConnection){this.closeSocket(s.ERRORS.InternalError);break}4===this.options.proxy.type?this.handleSocks4IncomingConnectionResponse():this.handleSocks5IncomingConnectionResponse()}}onCloseHandler(){this.closeSocket(s.ERRORS.SocketClosed)}onErrorHandler(e){this.closeSocket(e.message)}removeInternalSocketHandlers(){this.socket.pause(),this.socket.removeListener("data",this.onDataReceived),this.socket.removeListener("close",this.onClose),this.socket.removeListener("error",this.onError),this.socket.removeListener("connect",this.onConnect)}closeSocket(e){this.state!==s.SocksClientState.Error&&(this.setState(s.SocksClientState.Error),this.socket.destroy(),this.removeInternalSocketHandlers(),this.emit("error",new c.SocksClientError(e,this.options)))}sendSocks4InitialHandshake(){let e=this.options.proxy.userId||"",t=new i.SmartBuffer;t.writeUInt8(4),t.writeUInt8(s.SocksCommand[this.options.command]),t.writeUInt16BE(this.options.destination.port),o.isIPv4(this.options.destination.host)?(t.writeBuffer((0,a.ipToBuffer)(this.options.destination.host)),t.writeStringNT(e)):(t.writeUInt8(0),t.writeUInt8(0),t.writeUInt8(0),t.writeUInt8(1),t.writeStringNT(e),t.writeStringNT(this.options.destination.host)),this.nextRequiredPacketBufferSize=s.SOCKS_INCOMING_PACKET_SIZES.Socks4Response,this.socket.write(t.toBuffer())}handleSocks4FinalHandshakeResponse(){let e=this.receiveBuffer.get(8);if(e[1]!==s.Socks4Response.Granted)this.closeSocket(`${s.ERRORS.Socks4ProxyRejectedConnection} - (${s.Socks4Response[e[1]]})`);else if(s.SocksCommand[this.options.command]===s.SocksCommand.bind){let t=i.SmartBuffer.fromBuffer(e);t.readOffset=2;let n={port:t.readUInt16BE(),host:(0,a.int32ToIpv4)(t.readUInt32BE())};"0.0.0.0"===n.host&&(n.host=this.options.proxy.ipaddress),this.setState(s.SocksClientState.BoundWaitingForConnection),this.emit("bound",{remoteHost:n,socket:this.socket})}else this.setState(s.SocksClientState.Established),this.removeInternalSocketHandlers(),this.emit("established",{socket:this.socket})}handleSocks4IncomingConnectionResponse(){let e=this.receiveBuffer.get(8);if(e[1]!==s.Socks4Response.Granted)this.closeSocket(`${s.ERRORS.Socks4ProxyRejectedIncomingBoundConnection} - (${s.Socks4Response[e[1]]})`);else{let t=i.SmartBuffer.fromBuffer(e);t.readOffset=2;let n={port:t.readUInt16BE(),host:(0,a.int32ToIpv4)(t.readUInt32BE())};this.setState(s.SocksClientState.Established),this.removeInternalSocketHandlers(),this.emit("established",{remoteHost:n,socket:this.socket})}}sendSocks5InitialHandshake(){let e=new i.SmartBuffer,t=[s.Socks5Auth.NoAuth];(this.options.proxy.userId||this.options.proxy.password)&&t.push(s.Socks5Auth.UserPass),void 0!==this.options.proxy.custom_auth_method&&t.push(this.options.proxy.custom_auth_method),e.writeUInt8(5),e.writeUInt8(t.length);for(let n of t)e.writeUInt8(n);this.nextRequiredPacketBufferSize=s.SOCKS_INCOMING_PACKET_SIZES.Socks5InitialHandshakeResponse,this.socket.write(e.toBuffer()),this.setState(s.SocksClientState.SentInitialHandshake)}handleInitialSocks5HandshakeResponse(){let e=this.receiveBuffer.get(2);5!==e[0]?this.closeSocket(s.ERRORS.InvalidSocks5IntiailHandshakeSocksVersion):e[1]===s.SOCKS5_NO_ACCEPTABLE_AUTH?this.closeSocket(s.ERRORS.InvalidSocks5InitialHandshakeNoAcceptedAuthType):e[1]===s.Socks5Auth.NoAuth?(this.socks5ChosenAuthType=s.Socks5Auth.NoAuth,this.sendSocks5CommandRequest()):e[1]===s.Socks5Auth.UserPass?(this.socks5ChosenAuthType=s.Socks5Auth.UserPass,this.sendSocks5UserPassAuthentication()):e[1]===this.options.proxy.custom_auth_method?(this.socks5ChosenAuthType=this.options.proxy.custom_auth_method,this.sendSocks5CustomAuthentication()):this.closeSocket(s.ERRORS.InvalidSocks5InitialHandshakeUnknownAuthType)}sendSocks5UserPassAuthentication(){let e=this.options.proxy.userId||"",t=this.options.proxy.password||"",n=new i.SmartBuffer;n.writeUInt8(1),n.writeUInt8(Buffer.byteLength(e)),n.writeString(e),n.writeUInt8(Buffer.byteLength(t)),n.writeString(t),this.nextRequiredPacketBufferSize=s.SOCKS_INCOMING_PACKET_SIZES.Socks5UserPassAuthenticationResponse,this.socket.write(n.toBuffer()),this.setState(s.SocksClientState.SentAuthentication)}sendSocks5CustomAuthentication(){return t(this,void 0,void 0,function*(){this.nextRequiredPacketBufferSize=this.options.proxy.custom_auth_response_size,this.socket.write(yield this.options.proxy.custom_auth_request_handler()),this.setState(s.SocksClientState.SentAuthentication)})}handleSocks5CustomAuthHandshakeResponse(e){return t(this,void 0,void 0,function*(){return yield this.options.proxy.custom_auth_response_handler(e)})}handleSocks5AuthenticationNoAuthHandshakeResponse(e){return t(this,void 0,void 0,function*(){return 0===e[1]})}handleSocks5AuthenticationUserPassHandshakeResponse(e){return t(this,void 0,void 0,function*(){return 0===e[1]})}handleInitialSocks5AuthenticationHandshakeResponse(){return t(this,void 0,void 0,function*(){this.setState(s.SocksClientState.ReceivedAuthenticationResponse);let e=!1;this.socks5ChosenAuthType===s.Socks5Auth.NoAuth?e=yield this.handleSocks5AuthenticationNoAuthHandshakeResponse(this.receiveBuffer.get(2)):this.socks5ChosenAuthType===s.Socks5Auth.UserPass?e=yield this.handleSocks5AuthenticationUserPassHandshakeResponse(this.receiveBuffer.get(2)):this.socks5ChosenAuthType===this.options.proxy.custom_auth_method&&(e=yield this.handleSocks5CustomAuthHandshakeResponse(this.receiveBuffer.get(this.options.proxy.custom_auth_response_size))),e?this.sendSocks5CommandRequest():this.closeSocket(s.ERRORS.Socks5AuthenticationFailed)})}sendSocks5CommandRequest(){let e=new i.SmartBuffer;e.writeUInt8(5),e.writeUInt8(s.SocksCommand[this.options.command]),e.writeUInt8(0),o.isIPv4(this.options.destination.host)?(e.writeUInt8(s.Socks5HostType.IPv4),e.writeBuffer((0,a.ipToBuffer)(this.options.destination.host))):o.isIPv6(this.options.destination.host)?(e.writeUInt8(s.Socks5HostType.IPv6),e.writeBuffer((0,a.ipToBuffer)(this.options.destination.host))):(e.writeUInt8(s.Socks5HostType.Hostname),e.writeUInt8(this.options.destination.host.length),e.writeString(this.options.destination.host)),e.writeUInt16BE(this.options.destination.port),this.nextRequiredPacketBufferSize=s.SOCKS_INCOMING_PACKET_SIZES.Socks5ResponseHeader,this.socket.write(e.toBuffer()),this.setState(s.SocksClientState.SentFinalHandshake)}handleSocks5FinalHandshakeResponse(){let e=this.receiveBuffer.peek(5);if(5!==e[0]||e[1]!==s.Socks5Response.Granted)this.closeSocket(`${s.ERRORS.InvalidSocks5FinalHandshakeRejected} - ${s.Socks5Response[e[1]]}`);else{let t,n,r=e[3];if(r===s.Socks5HostType.IPv4){let e=s.SOCKS_INCOMING_PACKET_SIZES.Socks5ResponseIPv4;if(this.receiveBuffer.length<e)return void(this.nextRequiredPacketBufferSize=e);n=i.SmartBuffer.fromBuffer(this.receiveBuffer.get(e).slice(4)),t={host:(0,a.int32ToIpv4)(n.readUInt32BE()),port:n.readUInt16BE()},"0.0.0.0"===t.host&&(t.host=this.options.proxy.ipaddress)}else if(r===s.Socks5HostType.Hostname){let r=e[4],o=s.SOCKS_INCOMING_PACKET_SIZES.Socks5ResponseHostname(r);if(this.receiveBuffer.length<o)return void(this.nextRequiredPacketBufferSize=o);n=i.SmartBuffer.fromBuffer(this.receiveBuffer.get(o).slice(5)),t={host:n.readString(r),port:n.readUInt16BE()}}else if(r===s.Socks5HostType.IPv6){let e=s.SOCKS_INCOMING_PACKET_SIZES.Socks5ResponseIPv6;if(this.receiveBuffer.length<e)return void(this.nextRequiredPacketBufferSize=e);n=i.SmartBuffer.fromBuffer(this.receiveBuffer.get(e).slice(4)),t={host:u.Address6.fromByteArray(Array.from(n.readBuffer(16))).canonicalForm(),port:n.readUInt16BE()}}this.setState(s.SocksClientState.ReceivedFinalResponse),s.SocksCommand[this.options.command]===s.SocksCommand.connect?(this.setState(s.SocksClientState.Established),this.removeInternalSocketHandlers(),this.emit("established",{remoteHost:t,socket:this.socket})):s.SocksCommand[this.options.command]===s.SocksCommand.bind?(this.setState(s.SocksClientState.BoundWaitingForConnection),this.nextRequiredPacketBufferSize=s.SOCKS_INCOMING_PACKET_SIZES.Socks5ResponseHeader,this.emit("bound",{remoteHost:t,socket:this.socket})):s.SocksCommand[this.options.command]===s.SocksCommand.associate&&(this.setState(s.SocksClientState.Established),this.removeInternalSocketHandlers(),this.emit("established",{remoteHost:t,socket:this.socket}))}}handleSocks5IncomingConnectionResponse(){let e=this.receiveBuffer.peek(5);if(5!==e[0]||e[1]!==s.Socks5Response.Granted)this.closeSocket(`${s.ERRORS.Socks5ProxyRejectedIncomingBoundConnection} - ${s.Socks5Response[e[1]]}`);else{let t,n,r=e[3];if(r===s.Socks5HostType.IPv4){let e=s.SOCKS_INCOMING_PACKET_SIZES.Socks5ResponseIPv4;if(this.receiveBuffer.length<e)return void(this.nextRequiredPacketBufferSize=e);n=i.SmartBuffer.fromBuffer(this.receiveBuffer.get(e).slice(4)),t={host:(0,a.int32ToIpv4)(n.readUInt32BE()),port:n.readUInt16BE()},"0.0.0.0"===t.host&&(t.host=this.options.proxy.ipaddress)}else if(r===s.Socks5HostType.Hostname){let r=e[4],o=s.SOCKS_INCOMING_PACKET_SIZES.Socks5ResponseHostname(r);if(this.receiveBuffer.length<o)return void(this.nextRequiredPacketBufferSize=o);n=i.SmartBuffer.fromBuffer(this.receiveBuffer.get(o).slice(5)),t={host:n.readString(r),port:n.readUInt16BE()}}else if(r===s.Socks5HostType.IPv6){let e=s.SOCKS_INCOMING_PACKET_SIZES.Socks5ResponseIPv6;if(this.receiveBuffer.length<e)return void(this.nextRequiredPacketBufferSize=e);n=i.SmartBuffer.fromBuffer(this.receiveBuffer.get(e).slice(4)),t={host:u.Address6.fromByteArray(Array.from(n.readBuffer(16))).canonicalForm(),port:n.readUInt16BE()}}this.setState(s.SocksClientState.Established),this.removeInternalSocketHandlers(),this.emit("established",{remoteHost:t,socket:this.socket})}}get socksClientOptions(){return Object.assign({},this.options)}};e.SocksClient=d}),Ke=d(e=>{var t=e&&e.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),n=e&&e.__exportStar||function(e,n){for(var r in e)"default"!==r&&!Object.prototype.hasOwnProperty.call(n,r)&&t(n,e,r)};Object.defineProperty(e,"__esModule",{value:!0}),n(Je(),e)}),Xe=d(e=>{var t=e&&e.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function s(e){try{l(r.next(e))}catch(e){i(e)}}function a(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){e.done?o(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(s,a)}l((r=r.apply(e,t||[])).next())})},r=e&&e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(e,"__esModule",{value:!0});var o=r(n("dns")),i=r(n("tls")),s=r(n("url")),a=r(M()),l=D(),c=Ke(),u=a.default("socks-proxy-agent"),d=class extends l.Agent{constructor(e){let t;if(t="string"==typeof e?s.default.parse(e):e,!t)throw new TypeError("a SOCKS proxy server `host` and `port` must be specified!");super(t);let n=function(e){let t=0,n=!1,r=5,o=e.hostname||e.host;if(!o)throw new TypeError('No "host"');if("number"==typeof e.port?t=e.port:"string"==typeof e.port&&(t=parseInt(e.port,10)),t||(t=1080),e.protocol)switch(e.protocol.replace(":","")){case"socks4":n=!0;case"socks4a":r=4;break;case"socks5":n=!0;case"socks":case"socks5h":r=5;break;default:throw new TypeError(`A "socks" protocol must be specified! Got: ${e.protocol}`)}if(void 0!==e.type){if(4!==e.type&&5!==e.type)throw new TypeError(`"type" must be 4 or 5, got: ${e.type}`);r=e.type}let i={host:o,port:t,type:r},s=e.userId||e.username,a=e.password;if(e.auth){let t=e.auth.split(":");s=t[0],a=t[1]}return s&&Object.defineProperty(i,"userId",{value:s,enumerable:!1}),a&&Object.defineProperty(i,"password",{value:a,enumerable:!1}),{lookup:n,proxy:i}}(t);this.lookup=n.lookup,this.proxy=n.proxy,this.tlsConnectionOptions=t.tls||{}}callback(e,n){return t(this,void 0,void 0,function*(){let{lookup:e,proxy:t}=this,{host:r,port:s,timeout:a}=n;if(!r)throw new Error("No `host` defined!");var l;e&&(r=yield(l=r,new Promise((e,t)=>{o.default.lookup(l,(n,r)=>{n?t(n):e(r)})})));let d={proxy:t,destination:{host:r,port:s},command:"connect",timeout:a};u("Creating socks proxy connection: %o",d);let{socket:h}=yield c.SocksClient.createConnection(d);if(u("Successfully created socks proxy connection"),n.secureEndpoint){u("Upgrading socket connection to TLS");let e=n.servername||n.host;return i.default.connect(Object.assign(Object.assign(Object.assign({},function(e,...t){let n,r={};for(n in e)t.includes(n)||(r[n]=e[n]);return r}(n,"host","hostname","path","port")),{socket:h,servername:e}),this.tlsConnectionOptions))}return h})}};e.default=d}),Ze=d((e,t)=>{var n,r=e&&e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},o=r(Xe());function i(e){return new o.default(e)}(n=i||(i={})).SocksProxyAgent=o.default,n.prototype=o.default.prototype,t.exports=i}),et=d(e=>{var t=Symbol.for("yaml.alias"),n=Symbol.for("yaml.document"),r=Symbol.for("yaml.map"),o=Symbol.for("yaml.pair"),i=Symbol.for("yaml.scalar"),s=Symbol.for("yaml.seq"),a=Symbol.for("yaml.node.type"),l=e=>!!e&&"object"==typeof e&&e[a]===i;function c(e){if(e&&"object"==typeof e)switch(e[a]){case r:case s:return!0}return!1}e.ALIAS=t,e.DOC=n,e.MAP=r,e.NODE_TYPE=a,e.PAIR=o,e.SCALAR=i,e.SEQ=s,e.hasAnchor=e=>(l(e)||c(e))&&!!e.anchor,e.isAlias=e=>!!e&&"object"==typeof e&&e[a]===t,e.isCollection=c,e.isDocument=e=>!!e&&"object"==typeof e&&e[a]===n,e.isMap=e=>!!e&&"object"==typeof e&&e[a]===r,e.isNode=function(e){if(e&&"object"==typeof e)switch(e[a]){case t:case r:case i:case s:return!0}return!1},e.isPair=e=>!!e&&"object"==typeof e&&e[a]===o,e.isScalar=l,e.isSeq=e=>!!e&&"object"==typeof e&&e[a]===s}),tt=d(e=>{var t=et(),n=Symbol("break visit"),r=Symbol("skip children"),o=Symbol("remove node");function i(e,n){let r=c(n);t.isDocument(e)?s(null,e.contents,r,Object.freeze([e]))===o&&(e.contents=null):s(null,e,r,Object.freeze([]))}function s(e,r,i,a){let l=u(e,r,i,a);if(t.isNode(l)||t.isPair(l))return d(e,a,l),s(e,l,i,a);if("symbol"!=typeof l)if(t.isCollection(r)){a=Object.freeze(a.concat(r));for(let e=0;e<r.items.length;++e){let t=s(e,r.items[e],i,a);if("number"==typeof t)e=t-1;else{if(t===n)return n;t===o&&(r.items.splice(e,1),e-=1)}}}else if(t.isPair(r)){a=Object.freeze(a.concat(r));let e=s("key",r.key,i,a);if(e===n)return n;e===o&&(r.key=null);let t=s("value",r.value,i,a);if(t===n)return n;t===o&&(r.value=null)}return l}async function a(e,n){let r=c(n);t.isDocument(e)?await l(null,e.contents,r,Object.freeze([e]))===o&&(e.contents=null):await l(null,e,r,Object.freeze([]))}async function l(e,r,i,s){let a=await u(e,r,i,s);if(t.isNode(a)||t.isPair(a))return d(e,s,a),l(e,a,i,s);if("symbol"!=typeof a)if(t.isCollection(r)){s=Object.freeze(s.concat(r));for(let e=0;e<r.items.length;++e){let t=await l(e,r.items[e],i,s);if("number"==typeof t)e=t-1;else{if(t===n)return n;t===o&&(r.items.splice(e,1),e-=1)}}}else if(t.isPair(r)){s=Object.freeze(s.concat(r));let e=await l("key",r.key,i,s);if(e===n)return n;e===o&&(r.key=null);let t=await l("value",r.value,i,s);if(t===n)return n;t===o&&(r.value=null)}return a}function c(e){return"object"==typeof e&&(e.Collection||e.Node||e.Value)?Object.assign({Alias:e.Node,Map:e.Node,Scalar:e.Node,Seq:e.Node},e.Value&&{Map:e.Value,Scalar:e.Value,Seq:e.Value},e.Collection&&{Map:e.Collection,Seq:e.Collection},e):e}function u(e,n,r,o){var i,s,a,l,c;return"function"==typeof r?r(e,n,o):t.isMap(n)?null==(i=r.Map)?void 0:i.call(r,e,n,o):t.isSeq(n)?null==(s=r.Seq)?void 0:s.call(r,e,n,o):t.isPair(n)?null==(a=r.Pair)?void 0:a.call(r,e,n,o):t.isScalar(n)?null==(l=r.Scalar)?void 0:l.call(r,e,n,o):t.isAlias(n)?null==(c=r.Alias)?void 0:c.call(r,e,n,o):void 0}function d(e,n,r){let o=n[n.length-1];if(t.isCollection(o))o.items[e]=r;else if(t.isPair(o))"key"===e?o.key=r:o.value=r;else{if(!t.isDocument(o)){let e=t.isAlias(o)?"alias":"scalar";throw new Error(`Cannot replace node with ${e} parent`)}o.contents=r}}i.BREAK=n,i.SKIP=r,i.REMOVE=o,a.BREAK=n,a.SKIP=r,a.REMOVE=o,e.visit=i,e.visitAsync=a}),nt=d(e=>{var t=et(),n=tt(),r={"!":"%21",",":"%2C","[":"%5B","]":"%5D","{":"%7B","}":"%7D"},o=e=>e.replace(/[!,[\]{}]/g,e=>r[e]),i=class e{constructor(t,n){this.docStart=null,this.docEnd=!1,this.yaml=Object.assign({},e.defaultYaml,t),this.tags=Object.assign({},e.defaultTags,n)}clone(){let t=new e(this.yaml,this.tags);return t.docStart=this.docStart,t}atDocument(){let t=new e(this.yaml,this.tags);switch(this.yaml.version){case"1.1":this.atNextDocument=!0;break;case"1.2":this.atNextDocument=!1,this.yaml={explicit:e.defaultYaml.explicit,version:"1.2"},this.tags=Object.assign({},e.defaultTags)}return t}add(t,n){this.atNextDocument&&(this.yaml={explicit:e.defaultYaml.explicit,version:"1.1"},this.tags=Object.assign({},e.defaultTags),this.atNextDocument=!1);let r=t.trim().split(/[ \t]+/),o=r.shift();switch(o){case"%TAG":{if(2!==r.length&&(n(0,"%TAG directive should contain exactly two parts"),r.length<2))return!1;let[e,t]=r;return this.tags[e]=t,!0}case"%YAML":{if(this.yaml.explicit=!0,1!==r.length)return n(0,"%YAML directive should contain exactly one part"),!1;let[e]=r;return"1.1"===e||"1.2"===e?(this.yaml.version=e,!0):(n(6,`Unsupported YAML version ${e}`,/^\d+\.\d+$/.test(e)),!1)}default:return n(0,`Unknown directive ${o}`,!0),!1}}tagName(e,t){if("!"===e)return"!";if("!"!==e[0])return t(`Not a valid tag: ${e}`),null;if("<"===e[1]){let n=e.slice(2,-1);return"!"===n||"!!"===n?(t(`Verbatim tags aren't resolved, so ${e} is invalid.`),null):(">"!==e[e.length-1]&&t("Verbatim tags must end with a >"),n)}let[,n,r]=e.match(/^(.*!)([^!]*)$/s);r||t(`The ${e} tag has no suffix`);let o=this.tags[n];if(o)try{return o+decodeURIComponent(r)}catch(e){return t(String(e)),null}return"!"===n?e:(t(`Could not resolve tag: ${e}`),null)}tagString(e){for(let[t,n]of Object.entries(this.tags))if(e.startsWith(n))return t+o(e.substring(n.length));return"!"===e[0]?e:`!<${e}>`}toString(e){let r,o=this.yaml.explicit?[`%YAML ${this.yaml.version||"1.2"}`]:[],i=Object.entries(this.tags);if(e&&i.length>0&&t.isNode(e.contents)){let o={};n.visit(e.contents,(e,n)=>{t.isNode(n)&&n.tag&&(o[n.tag]=!0)}),r=Object.keys(o)}else r=[];for(let[t,n]of i)"!!"===t&&"tag:yaml.org,2002:"===n||(!e||r.some(e=>e.startsWith(n)))&&o.push(`%TAG ${t} ${n}`);return o.join("\n")}};i.defaultYaml={explicit:!1,version:"1.2"},i.defaultTags={"!!":"tag:yaml.org,2002:"},e.Directives=i}),rt=d(e=>{var t=et(),n=tt();function r(e){let t=new Set;return n.visit(e,{Value(e,n){n.anchor&&t.add(n.anchor)}}),t}function o(e,t){for(let n=1;;++n){let r=`${e}${n}`;if(!t.has(r))return r}}e.anchorIsValid=function(e){if(/[\x00-\x19\s,[\]{}]/.test(e)){let t=`Anchor must not contain whitespace or control characters: ${JSON.stringify(e)}`;throw new Error(t)}return!0},e.anchorNames=r,e.createNodeAnchors=function(e,n){let i=[],s=new Map,a=null;return{onAnchor:t=>{i.push(t),a||(a=r(e));let s=o(n,a);return a.add(s),s},setAnchors:()=>{for(let e of i){let n=s.get(e);if("object"!=typeof n||!n.anchor||!t.isScalar(n.node)&&!t.isCollection(n.node)){let t=new Error("Failed to resolve repeated object (this should not happen)");throw t.source=e,t}n.node.anchor=n.anchor}},sourceObjects:s}},e.findNewAnchor=o}),ot=d(e=>{e.applyReviver=function e(t,n,r,o){if(o&&"object"==typeof o)if(Array.isArray(o))for(let n=0,r=o.length;n<r;++n){let r=o[n],i=e(t,o,String(n),r);void 0===i?delete o[n]:i!==r&&(o[n]=i)}else if(o instanceof Map)for(let n of Array.from(o.keys())){let r=o.get(n),i=e(t,o,n,r);void 0===i?o.delete(n):i!==r&&o.set(n,i)}else if(o instanceof Set)for(let n of Array.from(o)){let r=e(t,o,n,n);void 0===r?o.delete(n):r!==n&&(o.delete(n),o.add(r))}else for(let[n,r]of Object.entries(o)){let i=e(t,o,n,r);void 0===i?delete o[n]:i!==r&&(o[n]=i)}return t.call(n,r,o)}}),it=d(e=>{var t=et();e.toJS=function e(n,r,o){if(Array.isArray(n))return n.map((t,n)=>e(t,String(n),o));if(n&&"function"==typeof n.toJSON){if(!o||!t.hasAnchor(n))return n.toJSON(r,o);let e={aliasCount:0,count:1,res:void 0};o.anchors.set(n,e),o.onCreate=t=>{e.res=t,delete o.onCreate};let i=n.toJSON(r,o);return o.onCreate&&o.onCreate(i),i}return"bigint"!=typeof n||null!=o&&o.keep?n:Number(n)}}),st=d(e=>{var t=ot(),n=et(),r=it();e.NodeBase=class{constructor(e){Object.defineProperty(this,n.NODE_TYPE,{value:e})}clone(){let e=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return this.range&&(e.range=this.range.slice()),e}toJS(e,{mapAsMap:o,maxAliasCount:i,onAnchor:s,reviver:a}={}){if(!n.isDocument(e))throw new TypeError("A document argument is required");let l={anchors:new Map,doc:e,keep:!0,mapAsMap:!0===o,mapKeyWarned:!1,maxAliasCount:"number"==typeof i?i:100},c=r.toJS(this,"",l);if("function"==typeof s)for(let{count:e,res:t}of l.anchors.values())s(t,e);return"function"==typeof a?t.applyReviver(a,{"":c},"",c):c}}}),at=d(e=>{var t=rt(),n=tt(),r=et(),o=st(),i=it(),s=class extends o.NodeBase{constructor(e){super(r.ALIAS),this.source=e,Object.defineProperty(this,"tag",{set(){throw new Error("Alias nodes cannot have tags")}})}resolve(e){let t;return n.visit(e,{Node:(e,r)=>{if(r===this)return n.visit.BREAK;r.anchor===this.source&&(t=r)}}),t}toJSON(e,t){if(!t)return{source:this.source};let{anchors:n,doc:r,maxAliasCount:o}=t,s=this.resolve(r);if(!s){let e=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new ReferenceError(e)}let l=n.get(s);if(l||(i.toJS(s,null,t),l=n.get(s)),!l||void 0===l.res)throw new ReferenceError("This should not happen: Alias anchor was not resolved?");if(o>=0&&(l.count+=1,0===l.aliasCount&&(l.aliasCount=a(r,s,n)),l.count*l.aliasCount>o))throw new ReferenceError("Excessive alias count indicates a resource exhaustion attack");return l.res}toString(e,n,r){let o=`*${this.source}`;if(e){if(t.anchorIsValid(this.source),e.options.verifyAliasOrder&&!e.anchors.has(this.source)){let e=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new Error(e)}if(e.implicitKey)return`${o} `}return o}};function a(e,t,n){if(r.isAlias(t)){let r=t.resolve(e),o=n&&r&&n.get(r);return o?o.count*o.aliasCount:0}if(r.isCollection(t)){let r=0;for(let o of t.items){let t=a(e,o,n);t>r&&(r=t)}return r}if(r.isPair(t)){let r=a(e,t.key,n),o=a(e,t.value,n);return Math.max(r,o)}return 1}e.Alias=s}),lt=d(e=>{var t=et(),n=st(),r=it(),o=class extends n.NodeBase{constructor(e){super(t.SCALAR),this.value=e}toJSON(e,t){return null!=t&&t.keep?this.value:r.toJS(this.value,e,t)}toString(){return String(this.value)}};o.BLOCK_FOLDED="BLOCK_FOLDED",o.BLOCK_LITERAL="BLOCK_LITERAL",o.PLAIN="PLAIN",o.QUOTE_DOUBLE="QUOTE_DOUBLE",o.QUOTE_SINGLE="QUOTE_SINGLE",e.Scalar=o,e.isScalarValue=e=>!e||"function"!=typeof e&&"object"!=typeof e}),ct=d(e=>{var t=at(),n=et(),r=lt();e.createNode=function(e,o,i){var s,a,l;if(n.isDocument(e)&&(e=e.contents),n.isNode(e))return e;if(n.isPair(e)){let t=null==(a=(s=i.schema[n.MAP]).createNode)?void 0:a.call(s,i.schema,null,i);return t.items.push(e),t}(e instanceof String||e instanceof Number||e instanceof Boolean||"undefined"!=typeof BigInt&&e instanceof BigInt)&&(e=e.valueOf());let c,{aliasDuplicateObjects:u,onAnchor:d,onTagObj:h,schema:p,sourceObjects:f}=i;if(u&&e&&"object"==typeof e){if(c=f.get(e),c)return c.anchor||(c.anchor=d(e)),new t.Alias(c.anchor);c={anchor:null,node:null},f.set(e,c)}null!=o&&o.startsWith("!!")&&(o="tag:yaml.org,2002:"+o.slice(2));let m=function(e,t,n){var r;if(t){let e=n.filter(e=>e.tag===t),o=null!=(r=e.find(e=>!e.format))?r:e[0];if(!o)throw new Error(`Tag ${t} not found`);return o}return n.find(t=>{var n;return(null==(n=t.identify)?void 0:n.call(t,e))&&!t.format})}(e,o,p.tags);if(!m){if(e&&"function"==typeof e.toJSON&&(e=e.toJSON()),!e||"object"!=typeof e){let t=new r.Scalar(e);return c&&(c.node=t),t}m=e instanceof Map?p[n.MAP]:Symbol.iterator in Object(e)?p[n.SEQ]:p[n.MAP]}h&&(h(m),delete i.onTagObj);let g=null!=m&&m.createNode?m.createNode(i.schema,e,i):"function"==typeof(null==(l=null==m?void 0:m.nodeClass)?void 0:l.from)?m.nodeClass.from(i.schema,e,i):new r.Scalar(e);return o?g.tag=o:m.default||(g.tag=m.tag),c&&(c.node=g),g}}),ut=d(e=>{var t=ct(),n=et(),r=st();function o(e,n,r){let o=r;for(let e=n.length-1;e>=0;--e){let t=n[e];if("number"==typeof t&&Number.isInteger(t)&&t>=0){let e=[];e[t]=o,o=e}else o=new Map([[t,o]])}return t.createNode(o,void 0,{aliasDuplicateObjects:!1,keepUndefined:!1,onAnchor:()=>{throw new Error("This should not happen, please report a bug.")},schema:e,sourceObjects:new Map})}var i=e=>null==e||"object"==typeof e&&!!e[Symbol.iterator]().next().done,s=class extends r.NodeBase{constructor(e,t){super(e),Object.defineProperty(this,"schema",{value:t,configurable:!0,enumerable:!1,writable:!0})}clone(e){let t=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return e&&(t.schema=e),t.items=t.items.map(t=>n.isNode(t)||n.isPair(t)?t.clone(e):t),this.range&&(t.range=this.range.slice()),t}addIn(e,t){if(i(e))this.add(t);else{let[r,...i]=e,s=this.get(r,!0);if(n.isCollection(s))s.addIn(i,t);else{if(void 0!==s||!this.schema)throw new Error(`Expected YAML collection at ${r}. Remaining path: ${i}`);this.set(r,o(this.schema,i,t))}}}deleteIn(e){let[t,...r]=e;if(0===r.length)return this.delete(t);let o=this.get(t,!0);if(n.isCollection(o))return o.deleteIn(r);throw new Error(`Expected YAML collection at ${t}. Remaining path: ${r}`)}getIn(e,t){let[r,...o]=e,i=this.get(r,!0);return 0===o.length?!t&&n.isScalar(i)?i.value:i:n.isCollection(i)?i.getIn(o,t):void 0}hasAllNullValues(e){return this.items.every(t=>{if(!n.isPair(t))return!1;let r=t.value;return null==r||e&&n.isScalar(r)&&null==r.value&&!r.commentBefore&&!r.comment&&!r.tag})}hasIn(e){let[t,...r]=e;if(0===r.length)return this.has(t);let o=this.get(t,!0);return!!n.isCollection(o)&&o.hasIn(r)}setIn(e,t){let[r,...i]=e;if(0===i.length)this.set(r,t);else{let e=this.get(r,!0);if(n.isCollection(e))e.setIn(i,t);else{if(void 0!==e||!this.schema)throw new Error(`Expected YAML collection at ${r}. Remaining path: ${i}`);this.set(r,o(this.schema,i,t))}}}};e.Collection=s,e.collectionFromPath=o,e.isEmptyPath=i}),dt=d(e=>{function t(e,t){return/^\n+$/.test(e)?e.substring(1):t?e.replace(/^(?! *$)/gm,t):e}e.indentComment=t,e.lineComment=(e,n,r)=>e.endsWith("\n")?t(r,n):r.includes("\n")?"\n"+t(r,n):(e.endsWith(" ")?"":" ")+r,e.stringifyComment=e=>e.replace(/^(?!$)(?: $)?/gm,"#")}),ht=d(e=>{var t="block",n="quoted";function r(e,t,n){let r=t,o=t+1,i=e[o];for(;" "===i||"\t"===i;)if(t<o+n)i=e[++t];else{do{i=e[++t]}while(i&&"\n"!==i);r=t,o=t+1,i=e[o]}return r}e.FOLD_BLOCK=t,e.FOLD_FLOW="flow",e.FOLD_QUOTED=n,e.foldFlowLines=function(e,o,i="flow",{indentAtStart:s,lineWidth:a=80,minContentWidth:l=20,onFold:c,onOverflow:u}={}){if(!a||a<0)return e;a<l&&(l=0);let d=Math.max(1+l,1+a-o.length);if(e.length<=d)return e;let h=[],p={},f=a-o.length;"number"==typeof s&&(s>a-Math.max(2,l)?h.push(0):f=a-s);let m,g,b=!1,w=-1,y=-1,v=-1;i===t&&(w=r(e,w,o.length),-1!==w&&(f=w+d));for(let s;s=e[w+=1];){if(i===n&&"\\"===s){switch(y=w,e[w+1]){case"x":w+=3;break;case"u":w+=5;break;case"U":w+=9;break;default:w+=1}v=w}if("\n"===s)i===t&&(w=r(e,w,o.length)),f=w+o.length+d,m=void 0;else{if(" "===s&&g&&" "!==g&&"\n"!==g&&"\t"!==g){let t=e[w+1];t&&" "!==t&&"\n"!==t&&"\t"!==t&&(m=w)}if(w>=f)if(m)h.push(m),f=m+d,m=void 0;else if(i===n){for(;" "===g||"\t"===g;)g=s,s=e[w+=1],b=!0;let t=w>v+1?w-2:y-1;if(p[t])return e;h.push(t),p[t]=!0,f=t+d,m=void 0}else b=!0}g=s}if(b&&u&&u(),0===h.length)return e;c&&c();let A=e.slice(0,h[0]);for(let t=0;t<h.length;++t){let r=h[t],s=h[t+1]||e.length;0===r?A=`\n${o}${e.slice(0,s)}`:(i===n&&p[r]&&(A+=`${e[r]}\\`),A+=`\n${o}${e.slice(r+1,s)}`)}return A}}),pt=d(e=>{var t,n=lt(),r=ht(),o=(e,t)=>({indentAtStart:t?e.indent.length:e.indentAtStart,lineWidth:e.options.lineWidth,minContentWidth:e.options.minContentWidth}),i=e=>/^(%|---|\.\.\.)/m.test(e);function s(e,t){let n=JSON.stringify(e);if(t.options.doubleQuotedAsJSON)return n;let{implicitKey:s}=t,a=t.options.doubleQuotedMinMultiLineLength,l=t.indent||(i(e)?"  ":""),c="",u=0;for(let e=0,t=n[e];t;t=n[++e])if(" "===t&&"\\"===n[e+1]&&"n"===n[e+2]&&(c+=n.slice(u,e)+"\\ ",e+=1,u=e,t="\\"),"\\"===t)switch(n[e+1]){case"u":{c+=n.slice(u,e);let t=n.substr(e+2,4);switch(t){case"0000":c+="\\0";break;case"0007":c+="\\a";break;case"000b":c+="\\v";break;case"001b":c+="\\e";break;case"0085":c+="\\N";break;case"00a0":c+="\\_";break;case"2028":c+="\\L";break;case"2029":c+="\\P";break;default:"00"===t.substr(0,2)?c+="\\x"+t.substr(2):c+=n.substr(e,6)}e+=5,u=e+1}break;case"n":if(s||'"'===n[e+2]||n.length<a)e+=1;else{for(c+=n.slice(u,e)+"\n\n";"\\"===n[e+2]&&"n"===n[e+3]&&'"'!==n[e+4];)c+="\n",e+=2;c+=l," "===n[e+2]&&(c+="\\"),e+=1,u=e+1}break;default:e+=1}return c=u?c+n.slice(u):n,s?c:r.foldFlowLines(c,l,r.FOLD_QUOTED,o(t,!1))}function a(e,t){if(!1===t.options.singleQuote||t.implicitKey&&e.includes("\n")||/[ \t]\n|\n[ \t]/.test(e))return s(e,t);let n=t.indent||(i(e)?"  ":""),a="'"+e.replace(/'/g,"''").replace(/\n+/g,`$&\n${n}`)+"'";return t.implicitKey?a:r.foldFlowLines(a,n,r.FOLD_FLOW,o(t,!1))}function l(e,t){let n,{singleQuote:r}=t.options;if(!1===r)n=s;else{let t=e.includes('"'),o=e.includes("'");n=t&&!o?a:o&&!t?s:r?a:s}return n(e,t)}try{t=new RegExp("(^|(?<!\n))\n+(?!\n|$)","g")}catch{t=/\n+(?!\n|$)/g}function c({comment:e,type:s,value:a},c,u,d){let{blockQuote:h,commentString:p,lineWidth:f}=c.options;if(!h||/\n[\t ]+$/.test(a)||/^\s*$/.test(a))return l(a,c);let m,g,b=c.indent||(c.forceBlockIndent||i(a)?"  ":""),w="literal"===h||"folded"!==h&&s!==n.Scalar.BLOCK_FOLDED&&(s===n.Scalar.BLOCK_LITERAL||!function(e,t,n){if(!t||t<0)return!1;let r=t-n,o=e.length;if(o<=r)return!1;for(let t=0,n=0;t<o;++t)if("\n"===e[t]){if(t-n>r)return!0;if(n=t+1,o-n<=r)return!1}return!0}(a,f,b.length));if(!a)return w?"|\n":">\n";for(g=a.length;g>0;--g){let e=a[g-1];if("\n"!==e&&"\t"!==e&&" "!==e)break}let y=a.substring(g),v=y.indexOf("\n");-1===v?m="-":a===y||v!==y.length-1?(m="+",d&&d()):m="",y&&(a=a.slice(0,-y.length),"\n"===y[y.length-1]&&(y=y.slice(0,-1)),y=y.replace(t,`$&${b}`));let A,_=!1,x=-1;for(A=0;A<a.length;++A){let e=a[A];if(" "===e)_=!0;else{if("\n"!==e)break;x=A}}let S=a.substring(0,x<A?x+1:A);S&&(a=a.substring(S.length),S=S.replace(/\n+/g,`$&${b}`));let E=(w?"|":">")+(_?b?"2":"1":"")+m;return e&&(E+=" "+p(e.replace(/ ?[\r\n]+/g," ")),u&&u()),w?`${E}\n${b}${S}${a=a.replace(/\n+/g,`$&${b}`)}${y}`:(a=a.replace(/\n+/g,"\n$&").replace(/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g,"$1$2").replace(/\n+/g,`$&${b}`),`${E}\n${b}${r.foldFlowLines(`${S}${a}${y}`,b,r.FOLD_BLOCK,o(c,!0))}`)}e.stringifyString=function(e,t,u,d){let{implicitKey:h,inFlow:p}=t,f="string"==typeof e.value?e:Object.assign({},e,{value:String(e.value)}),{type:m}=e;m!==n.Scalar.QUOTE_DOUBLE&&/[\x00-\x08\x0b-\x1f\x7f-\x9f\u{D800}-\u{DFFF}]/u.test(f.value)&&(m=n.Scalar.QUOTE_DOUBLE);let g=e=>{switch(e){case n.Scalar.BLOCK_FOLDED:case n.Scalar.BLOCK_LITERAL:return h||p?l(f.value,t):c(f,t,u,d);case n.Scalar.QUOTE_DOUBLE:return s(f.value,t);case n.Scalar.QUOTE_SINGLE:return a(f.value,t);case n.Scalar.PLAIN:return function(e,t,s,a){let{type:u,value:d}=e,{actualString:h,implicitKey:p,indent:f,indentStep:m,inFlow:g}=t;if(p&&d.includes("\n")||g&&/[[\]{},]/.test(d))return l(d,t);if(!d||/^[\n\t ,[\]{}#&*!|>'"%@`]|^[?-]$|^[?-][ \t]|[\n:][ \t]|[ \t]\n|[\n\t ]#|[\n\t :]$/.test(d))return p||g||!d.includes("\n")?l(d,t):c(e,t,s,a);if(!p&&!g&&u!==n.Scalar.PLAIN&&d.includes("\n"))return c(e,t,s,a);if(i(d)){if(""===f)return t.forceBlockIndent=!0,c(e,t,s,a);if(p&&f===m)return l(d,t)}let b=d.replace(/\n+/g,`$&\n${f}`);if(h){let e=e=>{var t;return e.default&&"tag:yaml.org,2002:str"!==e.tag&&(null==(t=e.test)?void 0:t.test(b))},{compat:n,tags:r}=t.doc.schema;if(r.some(e)||null!=n&&n.some(e))return l(d,t)}return p?b:r.foldFlowLines(b,f,r.FOLD_FLOW,o(t,!1))}(f,t,u,d);default:return null}},b=g(m);if(null===b){let{defaultKeyType:e,defaultStringType:n}=t.options,r=h&&e||n;if(b=g(r),null===b)throw new Error(`Unsupported default string type ${r}`)}return b}}),ft=d(e=>{var t=rt(),n=et(),r=dt(),o=pt();e.createStringifyContext=function(e,t){let n,o=Object.assign({blockQuote:!0,commentString:r.stringifyComment,defaultKeyType:null,defaultStringType:"PLAIN",directives:null,doubleQuotedAsJSON:!1,doubleQuotedMinMultiLineLength:40,falseStr:"false",flowCollectionPadding:!0,indentSeq:!0,lineWidth:80,minContentWidth:20,nullStr:"null",simpleKeys:!1,singleQuote:null,trueStr:"true",verifyAliasOrder:!0},e.schema.toStringOptions,t);switch(o.collectionStyle){case"block":n=!1;break;case"flow":n=!0;break;default:n=null}return{anchors:new Set,doc:e,flowCollectionPadding:o.flowCollectionPadding?" ":"",indent:"",indentStep:"number"==typeof o.indent?" ".repeat(o.indent):"  ",inFlow:n,options:o}},e.stringify=function(e,r,i,s){var a,l;if(n.isPair(e))return e.toString(r,i,s);if(n.isAlias(e)){if(r.doc.directives)return e.toString(r);if(null!=(a=r.resolvedAliases)&&a.has(e))throw new TypeError("Cannot stringify circular structure without alias nodes");r.resolvedAliases?r.resolvedAliases.add(e):r.resolvedAliases=new Set([e]),e=e.resolve(r.doc)}let c,u=n.isNode(e)?e:r.doc.createNode(e,{onTagObj:e=>c=e});c||(c=function(e,t){var r,o,i,s;if(t.tag){let n=e.filter(e=>e.tag===t.tag);if(n.length>0)return null!=(r=n.find(e=>e.format===t.format))?r:n[0]}let a,l;if(n.isScalar(t)){l=t.value;let n=e.filter(e=>{var t;return null==(t=e.identify)?void 0:t.call(e,l)});if(n.length>1){let e=n.filter(e=>e.test);e.length>0&&(n=e)}a=null!=(o=n.find(e=>e.format===t.format))?o:n.find(e=>!e.format)}else l=t,a=e.find(e=>e.nodeClass&&l instanceof e.nodeClass);if(!a){let e=null!=(s=null==(i=null==l?void 0:l.constructor)?void 0:i.name)?s:typeof l;throw new Error(`Tag not resolved for ${e} value`)}return a}(r.doc.schema.tags,u));let d=function(e,r,{anchors:o,doc:i}){if(!i.directives)return"";let s=[],a=(n.isScalar(e)||n.isCollection(e))&&e.anchor;a&&t.anchorIsValid(a)&&(o.add(a),s.push(`&${a}`));let l=e.tag?e.tag:r.default?null:r.tag;return l&&s.push(i.directives.tagString(l)),s.join(" ")}(u,c,r);d.length>0&&(r.indentAtStart=(null!=(l=r.indentAtStart)?l:0)+d.length+1);let h="function"==typeof c.stringify?c.stringify(u,r,i,s):n.isScalar(u)?o.stringifyString(u,r,i,s):u.toString(r,i,s);return d?n.isScalar(u)||"{"===h[0]||"["===h[0]?`${d} ${h}`:`${d}\n${r.indent}${h}`:h}}),mt=d(e=>{var t=et(),n=lt(),r=ft(),o=dt();e.stringifyPair=function({key:e,value:i},s,a,l){var c,u;let{allNullValues:d,doc:h,indent:p,indentStep:f,options:{commentString:m,indentSeq:g,simpleKeys:b}}=s,w=t.isNode(e)&&e.comment||null;if(b){if(w)throw new Error("With simple keys, key nodes cannot have comments");if(t.isCollection(e)||!t.isNode(e)&&"object"==typeof e)throw new Error("With simple keys, collection cannot be used as a key value")}let y=!b&&(!e||w&&null==i&&!s.inFlow||t.isCollection(e)||(t.isScalar(e)?e.type===n.Scalar.BLOCK_FOLDED||e.type===n.Scalar.BLOCK_LITERAL:"object"==typeof e));s=Object.assign({},s,{allNullValues:!1,implicitKey:!y&&(b||!d),indent:p+f});let v,A,_,x=!1,S=!1,E=r.stringify(e,s,()=>x=!0,()=>S=!0);if(!y&&!s.inFlow&&E.length>1024){if(b)throw new Error("With simple keys, single line scalar must not span more than 1024 characters");y=!0}if(s.inFlow){if(d||null==i)return x&&a&&a(),""===E?"?":y?`? ${E}`:E}else if(d&&!b||null==i&&y)return E=`? ${E}`,w&&!x?E+=o.lineComment(E,s.indent,m(w)):S&&l&&l(),E;x&&(w=null),y?(w&&(E+=o.lineComment(E,s.indent,m(w))),E=`? ${E}\n${p}:`):(E=`${E}:`,w&&(E+=o.lineComment(E,s.indent,m(w)))),t.isNode(i)?(v=!!i.spaceBefore,A=i.commentBefore,_=i.comment):(v=!1,A=null,_=null,i&&"object"==typeof i&&(i=h.createNode(i))),s.implicitKey=!1,!y&&!w&&t.isScalar(i)&&(s.indentAtStart=E.length+1),S=!1,!g&&f.length>=2&&!s.inFlow&&!y&&t.isSeq(i)&&!i.flow&&!i.tag&&!i.anchor&&(s.indent=s.indent.substring(2));let C=!1,k=r.stringify(i,s,()=>C=!0,()=>S=!0),O=" ";if(w||v||A){if(O=v?"\n":"",A){let e=m(A);O+=`\n${o.indentComment(e,s.indent)}`}""!==k||s.inFlow?O+=`\n${s.indent}`:"\n"===O&&(O="\n\n")}else if(!y&&t.isCollection(i)){let e=k[0],t=k.indexOf("\n"),n=-1!==t,r=null!=(u=null!=(c=s.inFlow)?c:i.flow)?u:0===i.items.length;if(n||!r){let r=!1;if(n&&("&"===e||"!"===e)){let n=k.indexOf(" ");"&"===e&&-1!==n&&n<t&&"!"===k[n+1]&&(n=k.indexOf(" ",n+1)),(-1===n||t<n)&&(r=!0)}r||(O=`\n${s.indent}`)}}else(""===k||"\n"===k[0])&&(O="");return E+=O+k,s.inFlow?C&&a&&a():_&&!C?E+=o.lineComment(E,s.indent,m(_)):S&&l&&l(),E}}),gt=d(e=>{e.debug=function(e,...t){"debug"===e&&console.log(...t)},e.warn=function(e,t){("debug"===e||"warn"===e)&&("undefined"!=typeof process&&process.emitWarning?process.emitWarning(t):console.warn(t))}}),bt=d(e=>{var t=et(),n=lt(),r="<<",o={identify:e=>e===r||"symbol"==typeof e&&e.description===r,default:"key",tag:"tag:yaml.org,2002:merge",test:/^<<$/,resolve:()=>Object.assign(new n.Scalar(Symbol(r)),{addToJSMap:i}),stringify:()=>r};function i(e,n,r){if(r=e&&t.isAlias(r)?r.resolve(e.doc):r,t.isSeq(r))for(let t of r.items)s(e,n,t);else if(Array.isArray(r))for(let t of r)s(e,n,t);else s(e,n,r)}function s(e,n,r){let o=e&&t.isAlias(r)?r.resolve(e.doc):r;if(!t.isMap(o))throw new Error("Merge sources must be maps or map aliases");let i=o.toJSON(null,e,Map);for(let[e,t]of i)n instanceof Map?n.has(e)||n.set(e,t):n instanceof Set?n.add(e):Object.prototype.hasOwnProperty.call(n,e)||Object.defineProperty(n,e,{value:t,writable:!0,enumerable:!0,configurable:!0});return n}e.addMergeToJSMap=i,e.isMergeKey=(e,r)=>(o.identify(r)||t.isScalar(r)&&(!r.type||r.type===n.Scalar.PLAIN)&&o.identify(r.value))&&(null==e?void 0:e.doc.schema.tags.some(e=>e.tag===o.tag&&e.default)),e.merge=o}),wt=d(e=>{var t=gt(),n=bt(),r=ft(),o=et(),i=it();e.addPairToJSMap=function(e,s,{key:a,value:l}){if(o.isNode(a)&&a.addToJSMap)a.addToJSMap(e,s,l);else if(n.isMergeKey(e,a))n.addMergeToJSMap(e,s,l);else{let n=i.toJS(a,"",e);if(s instanceof Map)s.set(n,i.toJS(l,n,e));else if(s instanceof Set)s.add(n);else{let c=function(e,n,i){if(null===n)return"";if("object"!=typeof n)return String(n);if(o.isNode(e)&&null!=i&&i.doc){let n=r.createStringifyContext(i.doc,{});n.anchors=new Set;for(let e of i.anchors.keys())n.anchors.add(e.anchor);n.inFlow=!0,n.inStringifyKey=!0;let o=e.toString(n);if(!i.mapKeyWarned){let e=JSON.stringify(o);e.length>40&&(e=e.substring(0,36)+'..."'),t.warn(i.doc.options.logLevel,`Keys with collection values will be stringified due to JS Object restrictions: ${e}. Set mapAsMap: true to use object keys.`),i.mapKeyWarned=!0}return o}return JSON.stringify(n)}(a,n,e),u=i.toJS(l,c,e);c in s?Object.defineProperty(s,c,{value:u,writable:!0,enumerable:!0,configurable:!0}):s[c]=u}}return s}}),yt=d(e=>{var t=ct(),n=mt(),r=wt(),o=et(),i=class e{constructor(e,t=null){Object.defineProperty(this,o.NODE_TYPE,{value:o.PAIR}),this.key=e,this.value=t}clone(t){let{key:n,value:r}=this;return o.isNode(n)&&(n=n.clone(t)),o.isNode(r)&&(r=r.clone(t)),new e(n,r)}toJSON(e,t){let n=null!=t&&t.mapAsMap?new Map:{};return r.addPairToJSMap(t,n,this)}toString(e,t,r){return null!=e&&e.doc?n.stringifyPair(this,e,t,r):JSON.stringify(this)}};e.Pair=i,e.createPair=function(e,n,r){let o=t.createNode(e,void 0,r),s=t.createNode(n,void 0,r);return new i(o,s)}}),vt=d(e=>{var t=et(),n=ft(),r=dt();function o({comment:e,items:o},i,{blockItemPrefix:a,flowChars:l,itemIndent:c,onChompKeep:u,onComment:d}){let h,{indent:p,options:{commentString:f}}=i,m=Object.assign({},i,{indent:c,type:null}),g=!1,b=[];for(let e=0;e<o.length;++e){let l=o[e],u=null;if(t.isNode(l))!g&&l.spaceBefore&&b.push(""),s(i,b,l.commentBefore,g),l.comment&&(u=l.comment);else if(t.isPair(l)){let e=t.isNode(l.key)?l.key:null;e&&(!g&&e.spaceBefore&&b.push(""),s(i,b,e.commentBefore,g))}g=!1;let d=n.stringify(l,m,()=>u=null,()=>g=!0);u&&(d+=r.lineComment(d,c,f(u))),g&&u&&(g=!1),b.push(a+d)}if(0===b.length)h=l.start+l.end;else{h=b[0];for(let e=1;e<b.length;++e){let t=b[e];h+=t?`\n${p}${t}`:"\n"}}return e?(h+="\n"+r.indentComment(f(e),p),d&&d()):g&&u&&u(),h}function i({items:e},o,{flowChars:i,itemIndent:a}){let{indent:l,indentStep:c,flowCollectionPadding:u,options:{commentString:d}}=o;a+=c;let h=Object.assign({},o,{indent:a,inFlow:!0,type:null}),p=!1,f=0,m=[];for(let i=0;i<e.length;++i){let l=e[i],c=null;if(t.isNode(l))l.spaceBefore&&m.push(""),s(o,m,l.commentBefore,!1),l.comment&&(c=l.comment);else if(t.isPair(l)){let e=t.isNode(l.key)?l.key:null;e&&(e.spaceBefore&&m.push(""),s(o,m,e.commentBefore,!1),e.comment&&(p=!0));let n=t.isNode(l.value)?l.value:null;n?(n.comment&&(c=n.comment),n.commentBefore&&(p=!0)):null==l.value&&null!=e&&e.comment&&(c=e.comment)}c&&(p=!0);let u=n.stringify(l,h,()=>c=null);i<e.length-1&&(u+=","),c&&(u+=r.lineComment(u,a,d(c))),!p&&(m.length>f||u.includes("\n"))&&(p=!0),m.push(u),f=m.length}let{start:g,end:b}=i;if(0===m.length)return g+b;if(!p){let e=m.reduce((e,t)=>e+t.length+2,2);p=o.options.lineWidth>0&&e>o.options.lineWidth}if(p){let e=g;for(let t of m)e+=t?`\n${c}${l}${t}`:"\n";return`${e}\n${l}${b}`}return`${g}${u}${m.join(" ")}${u}${b}`}function s({indent:e,options:{commentString:t}},n,o,i){if(o&&i&&(o=o.replace(/^\n+/,"")),o){let i=r.indentComment(t(o),e);n.push(i.trimStart())}}e.stringifyCollection=function(e,t,n){var r;return((null!=(r=t.inFlow)?r:e.flow)?i:o)(e,t,n)}}),At=d(e=>{var t=vt(),n=wt(),r=ut(),o=et(),i=yt(),s=lt();function a(e,t){let n=o.isScalar(t)?t.value:t;for(let r of e)if(o.isPair(r)&&(r.key===t||r.key===n||o.isScalar(r.key)&&r.key.value===n))return r}var l=class extends r.Collection{static get tagName(){return"tag:yaml.org,2002:map"}constructor(e){super(o.MAP,e),this.items=[]}static from(e,t,n){let{keepUndefined:r,replacer:o}=n,s=new this(e),a=(e,a)=>{if("function"==typeof o)a=o.call(t,e,a);else if(Array.isArray(o)&&!o.includes(e))return;(void 0!==a||r)&&s.items.push(i.createPair(e,a,n))};if(t instanceof Map)for(let[e,n]of t)a(e,n);else if(t&&"object"==typeof t)for(let e of Object.keys(t))a(e,t[e]);return"function"==typeof e.sortMapEntries&&s.items.sort(e.sortMapEntries),s}add(e,t){var n;let r;r=o.isPair(e)?e:e&&"object"==typeof e&&"key"in e?new i.Pair(e.key,e.value):new i.Pair(e,null==e?void 0:e.value);let l=a(this.items,r.key),c=null==(n=this.schema)?void 0:n.sortMapEntries;if(l){if(!t)throw new Error(`Key ${r.key} already set`);o.isScalar(l.value)&&s.isScalarValue(r.value)?l.value.value=r.value:l.value=r.value}else if(c){let e=this.items.findIndex(e=>c(r,e)<0);-1===e?this.items.push(r):this.items.splice(e,0,r)}else this.items.push(r)}delete(e){let t=a(this.items,e);return!!t&&this.items.splice(this.items.indexOf(t),1).length>0}get(e,t){var n;let r=a(this.items,e),i=null==r?void 0:r.value;return null!=(n=!t&&o.isScalar(i)?i.value:i)?n:void 0}has(e){return!!a(this.items,e)}set(e,t){this.add(new i.Pair(e,t),!0)}toJSON(e,t,r){let o=r?new r:null!=t&&t.mapAsMap?new Map:{};null!=t&&t.onCreate&&t.onCreate(o);for(let e of this.items)n.addPairToJSMap(t,o,e);return o}toString(e,n,r){if(!e)return JSON.stringify(this);for(let e of this.items)if(!o.isPair(e))throw new Error(`Map items must all be pairs; found ${JSON.stringify(e)} instead`);return!e.allNullValues&&this.hasAllNullValues(!1)&&(e=Object.assign({},e,{allNullValues:!0})),t.stringifyCollection(this,e,{blockItemPrefix:"",flowChars:{start:"{",end:"}"},itemIndent:e.indent||"",onChompKeep:r,onComment:n})}};e.YAMLMap=l,e.findPair=a}),_t=d(e=>{var t=et(),n=At(),r={collection:"map",default:!0,nodeClass:n.YAMLMap,tag:"tag:yaml.org,2002:map",resolve:(e,n)=>(t.isMap(e)||n("Expected a mapping for this tag"),e),createNode:(e,t,r)=>n.YAMLMap.from(e,t,r)};e.map=r}),xt=d(e=>{var t=ct(),n=vt(),r=ut(),o=et(),i=lt(),s=it(),a=class extends r.Collection{static get tagName(){return"tag:yaml.org,2002:seq"}constructor(e){super(o.SEQ,e),this.items=[]}add(e){this.items.push(e)}delete(e){let t=l(e);return"number"==typeof t&&this.items.splice(t,1).length>0}get(e,t){let n=l(e);if("number"!=typeof n)return;let r=this.items[n];return!t&&o.isScalar(r)?r.value:r}has(e){let t=l(e);return"number"==typeof t&&t<this.items.length}set(e,t){let n=l(e);if("number"!=typeof n)throw new Error(`Expected a valid index, not ${e}.`);let r=this.items[n];o.isScalar(r)&&i.isScalarValue(t)?r.value=t:this.items[n]=t}toJSON(e,t){let n=[];null!=t&&t.onCreate&&t.onCreate(n);let r=0;for(let e of this.items)n.push(s.toJS(e,String(r++),t));return n}toString(e,t,r){return e?n.stringifyCollection(this,e,{blockItemPrefix:"- ",flowChars:{start:"[",end:"]"},itemIndent:(e.indent||"")+"  ",onChompKeep:r,onComment:t}):JSON.stringify(this)}static from(e,n,r){let{replacer:o}=r,i=new this(e);if(n&&Symbol.iterator in Object(n)){let e=0;for(let s of n){if("function"==typeof o){let t=n instanceof Set?s:String(e++);s=o.call(n,t,s)}i.items.push(t.createNode(s,void 0,r))}}return i}};function l(e){let t=o.isScalar(e)?e.value:e;return t&&"string"==typeof t&&(t=Number(t)),"number"==typeof t&&Number.isInteger(t)&&t>=0?t:null}e.YAMLSeq=a}),St=d(e=>{var t=et(),n=xt(),r={collection:"seq",default:!0,nodeClass:n.YAMLSeq,tag:"tag:yaml.org,2002:seq",resolve:(e,n)=>(t.isSeq(e)||n("Expected a sequence for this tag"),e),createNode:(e,t,r)=>n.YAMLSeq.from(e,t,r)};e.seq=r}),Et=d(e=>{var t=pt(),n={identify:e=>"string"==typeof e,default:!0,tag:"tag:yaml.org,2002:str",resolve:e=>e,stringify:(e,n,r,o)=>(n=Object.assign({actualString:!0},n),t.stringifyString(e,n,r,o))};e.string=n}),Ct=d(e=>{var t=lt(),n={identify:e=>null==e,createNode:()=>new t.Scalar(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>new t.Scalar(null),stringify:({source:e},t)=>"string"==typeof e&&n.test.test(e)?e:t.options.nullStr};e.nullTag=n}),kt=d(e=>{var t=lt(),n={identify:e=>"boolean"==typeof e,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:[Tt]rue|TRUE|[Ff]alse|FALSE)$/,resolve:e=>new t.Scalar("t"===e[0]||"T"===e[0]),stringify:({source:e,value:t},r)=>e&&n.test.test(e)&&t===("t"===e[0]||"T"===e[0])?e:t?r.options.trueStr:r.options.falseStr};e.boolTag=n}),Ot=d(e=>{e.stringifyNumber=function({format:e,minFractionDigits:t,tag:n,value:r}){if("bigint"==typeof r)return String(r);let o="number"==typeof r?r:Number(r);if(!isFinite(o))return isNaN(o)?".nan":o<0?"-.inf":".inf";let i=JSON.stringify(r);if(!e&&t&&(!n||"tag:yaml.org,2002:float"===n)&&/^\d/.test(i)){let e=i.indexOf(".");e<0&&(e=i.length,i+=".");let n=t-(i.length-e-1);for(;n-- >0;)i+="0"}return i}}),Tt=d(e=>{var t=lt(),n=Ot(),r={identify:e=>"number"==typeof e,default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF)|\.nan|\.NaN|\.NAN)$/,resolve:e=>"nan"===e.slice(-3).toLowerCase()?NaN:"-"===e[0]?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:n.stringifyNumber},o={identify:e=>"number"==typeof e,default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:\.[0-9]+|[0-9]+(?:\.[0-9]*)?)[eE][-+]?[0-9]+$/,resolve:e=>parseFloat(e),stringify(e){let t=Number(e.value);return isFinite(t)?t.toExponential():n.stringifyNumber(e)}},i={identify:e=>"number"==typeof e,default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:\.[0-9]+|[0-9]+\.[0-9]*)$/,resolve(e){let n=new t.Scalar(parseFloat(e)),r=e.indexOf(".");return-1!==r&&"0"===e[e.length-1]&&(n.minFractionDigits=e.length-r-1),n},stringify:n.stringifyNumber};e.float=i,e.floatExp=o,e.floatNaN=r}),It=d(e=>{var t=Ot(),n=e=>"bigint"==typeof e||Number.isInteger(e),r=(e,t,n,{intAsBigInt:r})=>r?BigInt(e):parseInt(e.substring(t),n);function o(e,r,o){let{value:i}=e;return n(i)&&i>=0?o+i.toString(r):t.stringifyNumber(e)}var i={identify:e=>n(e)&&e>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^0o[0-7]+$/,resolve:(e,t,n)=>r(e,2,8,n),stringify:e=>o(e,8,"0o")},s={identify:n,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9]+$/,resolve:(e,t,n)=>r(e,0,10,n),stringify:t.stringifyNumber},a={identify:e=>n(e)&&e>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^0x[0-9a-fA-F]+$/,resolve:(e,t,n)=>r(e,2,16,n),stringify:e=>o(e,16,"0x")};e.int=s,e.intHex=a,e.intOct=i}),Bt=d(e=>{var t=_t(),n=Ct(),r=St(),o=Et(),i=kt(),s=Tt(),a=It(),l=[t.map,r.seq,o.string,n.nullTag,i.boolTag,a.intOct,a.int,a.intHex,s.floatNaN,s.floatExp,s.float];e.schema=l}),Mt=d(e=>{var t=lt(),n=_t(),r=St();function o(e){return"bigint"==typeof e||Number.isInteger(e)}var i=({value:e})=>JSON.stringify(e),s=[{identify:e=>"string"==typeof e,default:!0,tag:"tag:yaml.org,2002:str",resolve:e=>e,stringify:i},{identify:e=>null==e,createNode:()=>new t.Scalar(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^null$/,resolve:()=>null,stringify:i},{identify:e=>"boolean"==typeof e,default:!0,tag:"tag:yaml.org,2002:bool",test:/^true|false$/,resolve:e=>"true"===e,stringify:i},{identify:o,default:!0,tag:"tag:yaml.org,2002:int",test:/^-?(?:0|[1-9][0-9]*)$/,resolve:(e,t,{intAsBigInt:n})=>n?BigInt(e):parseInt(e,10),stringify:({value:e})=>o(e)?e.toString():JSON.stringify(e)},{identify:e=>"number"==typeof e,default:!0,tag:"tag:yaml.org,2002:float",test:/^-?(?:0|[1-9][0-9]*)(?:\.[0-9]*)?(?:[eE][-+]?[0-9]+)?$/,resolve:e=>parseFloat(e),stringify:i}],a={default:!0,tag:"",test:/^/,resolve:(e,t)=>(t(`Unresolved plain scalar ${JSON.stringify(e)}`),e)},l=[n.map,r.seq].concat(s,a);e.schema=l}),Pt=d(e=>{var t=lt(),n=pt(),r={identify:e=>e instanceof Uint8Array,default:!1,tag:"tag:yaml.org,2002:binary",resolve(e,t){if("function"==typeof Buffer)return Buffer.from(e,"base64");if("function"==typeof atob){let t=atob(e.replace(/[\n\r]/g,"")),n=new Uint8Array(t.length);for(let e=0;e<t.length;++e)n[e]=t.charCodeAt(e);return n}return t("This environment does not support reading binary tags; either Buffer or atob is required"),e},stringify({comment:e,type:r,value:o},i,s,a){let l,c=o;if("function"==typeof Buffer)l=c instanceof Buffer?c.toString("base64"):Buffer.from(c.buffer).toString("base64");else{if("function"!=typeof btoa)throw new Error("This environment does not support writing binary tags; either Buffer or btoa is required");{let e="";for(let t=0;t<c.length;++t)e+=String.fromCharCode(c[t]);l=btoa(e)}}if(r||(r=t.Scalar.BLOCK_LITERAL),r!==t.Scalar.QUOTE_DOUBLE){let e=Math.max(i.options.lineWidth-i.indent.length,i.options.minContentWidth),n=Math.ceil(l.length/e),o=new Array(n);for(let t=0,r=0;t<n;++t,r+=e)o[t]=l.substr(r,e);l=o.join(r===t.Scalar.BLOCK_LITERAL?"\n":" ")}return n.stringifyString({comment:e,type:r,value:l},i,s,a)}};e.binary=r}),jt=d(e=>{var t=et(),n=yt(),r=lt(),o=xt();function i(e,o){var i;if(t.isSeq(e))for(let s=0;s<e.items.length;++s){let a=e.items[s];if(!t.isPair(a)){if(t.isMap(a)){a.items.length>1&&o("Each pair must have its own sequence indicator");let e=a.items[0]||new n.Pair(new r.Scalar(null));if(a.commentBefore&&(e.key.commentBefore=e.key.commentBefore?`${a.commentBefore}\n${e.key.commentBefore}`:a.commentBefore),a.comment){let t=null!=(i=e.value)?i:e.key;t.comment=t.comment?`${a.comment}\n${t.comment}`:a.comment}a=e}e.items[s]=t.isPair(a)?a:new n.Pair(a)}}else o("Expected a sequence for this tag");return e}function s(e,t,r){let{replacer:i}=r,s=new o.YAMLSeq(e);s.tag="tag:yaml.org,2002:pairs";let a=0;if(t&&Symbol.iterator in Object(t))for(let e of t){let o,l;if("function"==typeof i&&(e=i.call(t,String(a++),e)),Array.isArray(e)){if(2!==e.length)throw new TypeError(`Expected [key, value] tuple: ${e}`);o=e[0],l=e[1]}else if(e&&e instanceof Object){let t=Object.keys(e);if(1!==t.length)throw new TypeError(`Expected tuple with one key, not ${t.length} keys`);o=t[0],l=e[o]}else o=e;s.items.push(n.createPair(o,l,r))}return s}var a={collection:"seq",default:!1,tag:"tag:yaml.org,2002:pairs",resolve:i,createNode:s};e.createPairs=s,e.pairs=a,e.resolvePairs=i}),Nt=d(e=>{var t=et(),n=it(),r=At(),o=xt(),i=jt(),s=class e extends o.YAMLSeq{constructor(){super(),this.add=r.YAMLMap.prototype.add.bind(this),this.delete=r.YAMLMap.prototype.delete.bind(this),this.get=r.YAMLMap.prototype.get.bind(this),this.has=r.YAMLMap.prototype.has.bind(this),this.set=r.YAMLMap.prototype.set.bind(this),this.tag=e.tag}toJSON(e,r){if(!r)return super.toJSON(e);let o=new Map;null!=r&&r.onCreate&&r.onCreate(o);for(let e of this.items){let i,s;if(t.isPair(e)?(i=n.toJS(e.key,"",r),s=n.toJS(e.value,i,r)):i=n.toJS(e,"",r),o.has(i))throw new Error("Ordered maps must not include duplicate keys");o.set(i,s)}return o}static from(e,t,n){let r=i.createPairs(e,t,n),o=new this;return o.items=r.items,o}};s.tag="tag:yaml.org,2002:omap";var a={collection:"seq",identify:e=>e instanceof Map,nodeClass:s,default:!1,tag:"tag:yaml.org,2002:omap",resolve(e,n){let r=i.resolvePairs(e,n),o=[];for(let{key:e}of r.items)t.isScalar(e)&&(o.includes(e.value)?n(`Ordered maps must not include duplicate keys: ${e.value}`):o.push(e.value));return Object.assign(new s,r)},createNode:(e,t,n)=>s.from(e,t,n)};e.YAMLOMap=s,e.omap=a}),Ft=d(e=>{var t=lt();function n({value:e,source:t},n){return t&&(e?r:o).test.test(t)?t:e?n.options.trueStr:n.options.falseStr}var r={identify:e=>!0===e,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:Y|y|[Yy]es|YES|[Tt]rue|TRUE|[Oo]n|ON)$/,resolve:()=>new t.Scalar(!0),stringify:n},o={identify:e=>!1===e,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:N|n|[Nn]o|NO|[Ff]alse|FALSE|[Oo]ff|OFF)$/,resolve:()=>new t.Scalar(!1),stringify:n};e.falseTag=o,e.trueTag=r}),Dt=d(e=>{var t=lt(),n=Ot(),r={identify:e=>"number"==typeof e,default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF)|\.nan|\.NaN|\.NAN)$/,resolve:e=>"nan"===e.slice(-3).toLowerCase()?NaN:"-"===e[0]?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:n.stringifyNumber},o={identify:e=>"number"==typeof e,default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:[0-9][0-9_]*)?(?:\.[0-9_]*)?[eE][-+]?[0-9]+$/,resolve:e=>parseFloat(e.replace(/_/g,"")),stringify(e){let t=Number(e.value);return isFinite(t)?t.toExponential():n.stringifyNumber(e)}},i={identify:e=>"number"==typeof e,default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:[0-9][0-9_]*)?\.[0-9_]*$/,resolve(e){let n=new t.Scalar(parseFloat(e.replace(/_/g,""))),r=e.indexOf(".");if(-1!==r){let t=e.substring(r+1).replace(/_/g,"");"0"===t[t.length-1]&&(n.minFractionDigits=t.length)}return n},stringify:n.stringifyNumber};e.float=i,e.floatExp=o,e.floatNaN=r}),Rt=d(e=>{var t=Ot(),n=e=>"bigint"==typeof e||Number.isInteger(e);function r(e,t,n,{intAsBigInt:r}){let o=e[0];if(("-"===o||"+"===o)&&(t+=1),e=e.substring(t).replace(/_/g,""),r){switch(n){case 2:e=`0b${e}`;break;case 8:e=`0o${e}`;break;case 16:e=`0x${e}`}let t=BigInt(e);return"-"===o?BigInt(-1)*t:t}let i=parseInt(e,n);return"-"===o?-1*i:i}function o(e,r,o){let{value:i}=e;if(n(i)){let e=i.toString(r);return i<0?"-"+o+e.substr(1):o+e}return t.stringifyNumber(e)}var i={identify:n,default:!0,tag:"tag:yaml.org,2002:int",format:"BIN",test:/^[-+]?0b[0-1_]+$/,resolve:(e,t,n)=>r(e,2,2,n),stringify:e=>o(e,2,"0b")},s={identify:n,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^[-+]?0[0-7_]+$/,resolve:(e,t,n)=>r(e,1,8,n),stringify:e=>o(e,8,"0")},a={identify:n,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9][0-9_]*$/,resolve:(e,t,n)=>r(e,0,10,n),stringify:t.stringifyNumber},l={identify:n,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^[-+]?0x[0-9a-fA-F_]+$/,resolve:(e,t,n)=>r(e,2,16,n),stringify:e=>o(e,16,"0x")};e.int=a,e.intBin=i,e.intHex=l,e.intOct=s}),Lt=d(e=>{var t=et(),n=yt(),r=At(),o=class e extends r.YAMLMap{constructor(t){super(t),this.tag=e.tag}add(e){let o;o=t.isPair(e)?e:e&&"object"==typeof e&&"key"in e&&"value"in e&&null===e.value?new n.Pair(e.key,null):new n.Pair(e,null),r.findPair(this.items,o.key)||this.items.push(o)}get(e,n){let o=r.findPair(this.items,e);return!n&&t.isPair(o)?t.isScalar(o.key)?o.key.value:o.key:o}set(e,t){if("boolean"!=typeof t)throw new Error("Expected boolean value for set(key, value) in a YAML set, not "+typeof t);let o=r.findPair(this.items,e);o&&!t?this.items.splice(this.items.indexOf(o),1):!o&&t&&this.items.push(new n.Pair(e))}toJSON(e,t){return super.toJSON(e,t,Set)}toString(e,t,n){if(!e)return JSON.stringify(this);if(this.hasAllNullValues(!0))return super.toString(Object.assign({},e,{allNullValues:!0}),t,n);throw new Error("Set items must all have null values")}static from(e,t,r){let{replacer:o}=r,i=new this(e);if(t&&Symbol.iterator in Object(t))for(let e of t)"function"==typeof o&&(e=o.call(t,e,e)),i.items.push(n.createPair(e,null,r));return i}};o.tag="tag:yaml.org,2002:set";var i={collection:"map",identify:e=>e instanceof Set,nodeClass:o,default:!1,tag:"tag:yaml.org,2002:set",createNode:(e,t,n)=>o.from(e,t,n),resolve(e,n){if(t.isMap(e)){if(e.hasAllNullValues(!0))return Object.assign(new o,e);n("Set items must all have null values")}else n("Expected a mapping for this tag");return e}};e.YAMLSet=o,e.set=i}),zt=d(e=>{var t=Ot();function n(e,t){let n=e[0],r="-"===n||"+"===n?e.substring(1):e,o=e=>t?BigInt(e):Number(e),i=r.replace(/_/g,"").split(":").reduce((e,t)=>e*o(60)+o(t),o(0));return"-"===n?o(-1)*i:i}function r(e){let{value:n}=e,r=e=>e;if("bigint"==typeof n)r=e=>BigInt(e);else if(isNaN(n)||!isFinite(n))return t.stringifyNumber(e);let o="";n<0&&(o="-",n*=r(-1));let i=r(60),s=[n%i];return n<60?s.unshift(0):(n=(n-s[0])/i,s.unshift(n%i),n>=60&&(n=(n-s[0])/i,s.unshift(n))),o+s.map(e=>String(e).padStart(2,"0")).join(":").replace(/000000\d*$/,"")}var o={identify:e=>"bigint"==typeof e||Number.isInteger(e),default:!0,tag:"tag:yaml.org,2002:int",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+$/,resolve:(e,t,{intAsBigInt:r})=>n(e,r),stringify:r},i={identify:e=>"number"==typeof e,default:!0,tag:"tag:yaml.org,2002:float",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\.[0-9_]*$/,resolve:e=>n(e,!1),stringify:r},s={identify:e=>e instanceof Date,default:!0,tag:"tag:yaml.org,2002:timestamp",test:RegExp("^([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})(?:(?:t|T|[ \\t]+)([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2}(\\.[0-9]+)?)(?:[ \\t]*(Z|[-+][012]?[0-9](?::[0-9]{2})?))?)?$"),resolve(e){let t=e.match(s.test);if(!t)throw new Error("!!timestamp expects a date, starting with yyyy-mm-dd");let[,r,o,i,a,l,c]=t.map(Number),u=t[7]?Number((t[7]+"00").substr(1,3)):0,d=Date.UTC(r,o-1,i,a||0,l||0,c||0,u),h=t[8];if(h&&"Z"!==h){let e=n(h,!1);Math.abs(e)<30&&(e*=60),d-=6e4*e}return new Date(d)},stringify:({value:e})=>e.toISOString().replace(/((T00:00)?:00)?\.000Z$/,"")};e.floatTime=i,e.intTime=o,e.timestamp=s}),Ht=d(e=>{var t=_t(),n=Ct(),r=St(),o=Et(),i=Pt(),s=Ft(),a=Dt(),l=Rt(),c=bt(),u=Nt(),d=jt(),h=Lt(),p=zt(),f=[t.map,r.seq,o.string,n.nullTag,s.trueTag,s.falseTag,l.intBin,l.intOct,l.int,l.intHex,a.floatNaN,a.floatExp,a.float,i.binary,c.merge,u.omap,d.pairs,h.set,p.intTime,p.floatTime,p.timestamp];e.schema=f}),Ut=d(e=>{var t=_t(),n=Ct(),r=St(),o=Et(),i=kt(),s=Tt(),a=It(),l=Bt(),c=Mt(),u=Pt(),d=bt(),h=Nt(),p=jt(),f=Ht(),m=Lt(),g=zt(),b=new Map([["core",l.schema],["failsafe",[t.map,r.seq,o.string]],["json",c.schema],["yaml11",f.schema],["yaml-1.1",f.schema]]),w={binary:u.binary,bool:i.boolTag,float:s.float,floatExp:s.floatExp,floatNaN:s.floatNaN,floatTime:g.floatTime,int:a.int,intHex:a.intHex,intOct:a.intOct,intTime:g.intTime,map:t.map,merge:d.merge,null:n.nullTag,omap:h.omap,pairs:p.pairs,seq:r.seq,set:m.set,timestamp:g.timestamp},y={"tag:yaml.org,2002:binary":u.binary,"tag:yaml.org,2002:merge":d.merge,"tag:yaml.org,2002:omap":h.omap,"tag:yaml.org,2002:pairs":p.pairs,"tag:yaml.org,2002:set":m.set,"tag:yaml.org,2002:timestamp":g.timestamp};e.coreKnownTags=y,e.getTags=function(e,t,n){let r=b.get(t);if(r&&!e)return n&&!r.includes(d.merge)?r.concat(d.merge):r.slice();let o=r;if(!o){if(!Array.isArray(e)){let e=Array.from(b.keys()).filter(e=>"yaml11"!==e).map(e=>JSON.stringify(e)).join(", ");throw new Error(`Unknown schema "${t}"; use one of ${e} or define customTags array`)}o=[]}if(Array.isArray(e))for(let t of e)o=o.concat(t);else"function"==typeof e&&(o=e(o.slice()));return n&&(o=o.concat(d.merge)),o.reduce((e,t)=>{let n="string"==typeof t?w[t]:t;if(!n){let e=JSON.stringify(t),n=Object.keys(w).map(e=>JSON.stringify(e)).join(", ");throw new Error(`Unknown custom tag ${e}; use one of ${n}`)}return e.includes(n)||e.push(n),e},[])}}),Qt=d(e=>{var t=et(),n=_t(),r=St(),o=Et(),i=Ut(),s=(e,t)=>e.key<t.key?-1:e.key>t.key?1:0;e.Schema=class e{constructor({compat:e,customTags:a,merge:l,resolveKnownTags:c,schema:u,sortMapEntries:d,toStringDefaults:h}){this.compat=Array.isArray(e)?i.getTags(e,"compat"):e?i.getTags(null,e):null,this.name="string"==typeof u&&u||"core",this.knownTags=c?i.coreKnownTags:{},this.tags=i.getTags(a,this.name,l),this.toStringOptions=null!=h?h:null,Object.defineProperty(this,t.MAP,{value:n.map}),Object.defineProperty(this,t.SCALAR,{value:o.string}),Object.defineProperty(this,t.SEQ,{value:r.seq}),this.sortMapEntries="function"==typeof d?d:!0===d?s:null}clone(){let t=Object.create(e.prototype,Object.getOwnPropertyDescriptors(this));return t.tags=this.tags.slice(),t}}}),qt=d(e=>{var t=et(),n=ft(),r=dt();e.stringifyDocument=function(e,o){var i;let s=[],a=!0===o.directives;if(!1!==o.directives&&e.directives){let t=e.directives.toString(e);t?(s.push(t),a=!0):e.directives.docStart&&(a=!0)}a&&s.push("---");let l=n.createStringifyContext(e,o),{commentString:c}=l.options;if(e.commentBefore){1!==s.length&&s.unshift("");let t=c(e.commentBefore);s.unshift(r.indentComment(t,""))}let u=!1,d=null;if(e.contents){if(t.isNode(e.contents)){if(e.contents.spaceBefore&&a&&s.push(""),e.contents.commentBefore){let t=c(e.contents.commentBefore);s.push(r.indentComment(t,""))}l.forceBlockIndent=!!e.comment,d=e.contents.comment}let o=d?void 0:()=>u=!0,i=n.stringify(e.contents,l,()=>d=null,o);d&&(i+=r.lineComment(i,"",c(d))),"|"!==i[0]&&">"!==i[0]||"---"!==s[s.length-1]?s.push(i):s[s.length-1]=`--- ${i}`}else s.push(n.stringify(e.contents,l));if(null!=(i=e.directives)&&i.docEnd)if(e.comment){let t=c(e.comment);t.includes("\n")?(s.push("..."),s.push(r.indentComment(t,""))):s.push(`... ${t}`)}else s.push("...");else{let t=e.comment;t&&u&&(t=t.replace(/^\n+/,"")),t&&((!u||d)&&""!==s[s.length-1]&&s.push(""),s.push(r.indentComment(c(t),"")))}return s.join("\n")+"\n"}}),Wt=d(e=>{var t=at(),n=ut(),r=et(),o=yt(),i=it(),s=Qt(),a=qt(),l=rt(),c=ot(),u=ct(),d=nt();function h(e){if(r.isCollection(e))return!0;throw new Error("Expected a YAML collection as document contents")}e.Document=class e{constructor(e,t,n){this.commentBefore=null,this.comment=null,this.errors=[],this.warnings=[],Object.defineProperty(this,r.NODE_TYPE,{value:r.DOC});let o=null;"function"==typeof t||Array.isArray(t)?o=t:void 0===n&&t&&(n=t,t=void 0);let i=Object.assign({intAsBigInt:!1,keepSourceTokens:!1,logLevel:"warn",prettyErrors:!0,strict:!0,stringKeys:!1,uniqueKeys:!0,version:"1.2"},n);this.options=i;let{version:s}=i;null!=n&&n._directives?(this.directives=n._directives.atDocument(),this.directives.yaml.explicit&&(s=this.directives.yaml.version)):this.directives=new d.Directives({version:s}),this.setSchema(s,n),this.contents=void 0===e?null:this.createNode(e,o,n)}clone(){let t=Object.create(e.prototype,{[r.NODE_TYPE]:{value:r.DOC}});return t.commentBefore=this.commentBefore,t.comment=this.comment,t.errors=this.errors.slice(),t.warnings=this.warnings.slice(),t.options=Object.assign({},this.options),this.directives&&(t.directives=this.directives.clone()),t.schema=this.schema.clone(),t.contents=r.isNode(this.contents)?this.contents.clone(t.schema):this.contents,this.range&&(t.range=this.range.slice()),t}add(e){h(this.contents)&&this.contents.add(e)}addIn(e,t){h(this.contents)&&this.contents.addIn(e,t)}createAlias(e,n){if(!e.anchor){let t=l.anchorNames(this);e.anchor=!n||t.has(n)?l.findNewAnchor(n||"a",t):n}return new t.Alias(e.anchor)}createNode(e,t,n){let o;if("function"==typeof t)e=t.call({"":e},"",e),o=t;else if(Array.isArray(t)){let e=e=>"number"==typeof e||e instanceof String||e instanceof Number,n=t.filter(e).map(String);n.length>0&&(t=t.concat(n)),o=t}else void 0===n&&t&&(n=t,t=void 0);let{aliasDuplicateObjects:i,anchorPrefix:s,flow:a,keepUndefined:c,onTagObj:d,tag:h}=null!=n?n:{},{onAnchor:p,setAnchors:f,sourceObjects:m}=l.createNodeAnchors(this,s||"a"),g={aliasDuplicateObjects:null==i||i,keepUndefined:null!=c&&c,onAnchor:p,onTagObj:d,replacer:o,schema:this.schema,sourceObjects:m},b=u.createNode(e,h,g);return a&&r.isCollection(b)&&(b.flow=!0),f(),b}createPair(e,t,n={}){let r=this.createNode(e,null,n),i=this.createNode(t,null,n);return new o.Pair(r,i)}delete(e){return!!h(this.contents)&&this.contents.delete(e)}deleteIn(e){return n.isEmptyPath(e)?null!=this.contents&&(this.contents=null,!0):!!h(this.contents)&&this.contents.deleteIn(e)}get(e,t){return r.isCollection(this.contents)?this.contents.get(e,t):void 0}getIn(e,t){return n.isEmptyPath(e)?!t&&r.isScalar(this.contents)?this.contents.value:this.contents:r.isCollection(this.contents)?this.contents.getIn(e,t):void 0}has(e){return!!r.isCollection(this.contents)&&this.contents.has(e)}hasIn(e){return n.isEmptyPath(e)?void 0!==this.contents:!!r.isCollection(this.contents)&&this.contents.hasIn(e)}set(e,t){null==this.contents?this.contents=n.collectionFromPath(this.schema,[e],t):h(this.contents)&&this.contents.set(e,t)}setIn(e,t){n.isEmptyPath(e)?this.contents=t:null==this.contents?this.contents=n.collectionFromPath(this.schema,Array.from(e),t):h(this.contents)&&this.contents.setIn(e,t)}setSchema(e,t={}){let n;switch("number"==typeof e&&(e=String(e)),e){case"1.1":this.directives?this.directives.yaml.version="1.1":this.directives=new d.Directives({version:"1.1"}),n={resolveKnownTags:!1,schema:"yaml-1.1"};break;case"1.2":case"next":this.directives?this.directives.yaml.version=e:this.directives=new d.Directives({version:e}),n={resolveKnownTags:!0,schema:"core"};break;case null:this.directives&&delete this.directives,n=null;break;default:{let t=JSON.stringify(e);throw new Error(`Expected '1.1', '1.2' or null as first argument, but found: ${t}`)}}if(t.schema instanceof Object)this.schema=t.schema;else{if(!n)throw new Error("With a null YAML version, the { schema: Schema } option is required");this.schema=new s.Schema(Object.assign(n,t))}}toJS({json:e,jsonArg:t,mapAsMap:n,maxAliasCount:r,onAnchor:o,reviver:s}={}){let a={anchors:new Map,doc:this,keep:!e,mapAsMap:!0===n,mapKeyWarned:!1,maxAliasCount:"number"==typeof r?r:100},l=i.toJS(this.contents,null!=t?t:"",a);if("function"==typeof o)for(let{count:e,res:t}of a.anchors.values())o(t,e);return"function"==typeof s?c.applyReviver(s,{"":l},"",l):l}toJSON(e,t){return this.toJS({json:!0,jsonArg:e,mapAsMap:!1,onAnchor:t})}toString(e={}){if(this.errors.length>0)throw new Error("Document with errors cannot be stringified");if("indent"in e&&(!Number.isInteger(e.indent)||Number(e.indent)<=0)){let t=JSON.stringify(e.indent);throw new Error(`"indent" option must be a positive integer, not ${t}`)}return a.stringifyDocument(this,e)}}}),$t=d(e=>{var t=class extends Error{constructor(e,t,n,r){super(),this.name=e,this.code=n,this.message=r,this.pos=t}};e.YAMLError=t,e.YAMLParseError=class extends t{constructor(e,t,n){super("YAMLParseError",e,t,n)}},e.YAMLWarning=class extends t{constructor(e,t,n){super("YAMLWarning",e,t,n)}},e.prettifyError=(e,t)=>n=>{if(-1===n.pos[0])return;n.linePos=n.pos.map(e=>t.linePos(e));let{line:r,col:o}=n.linePos[0];n.message+=` at line ${r}, column ${o}`;let i=o-1,s=e.substring(t.lineStarts[r-1],t.lineStarts[r]).replace(/[\n\r]+$/,"");if(i>=60&&s.length>80){let e=Math.min(i-39,s.length-79);s=""+s.substring(e),i-=e-1}if(s.length>80&&(s=s.substring(0,79)+""),r>1&&/^ *$/.test(s.substring(0,i))){let n=e.substring(t.lineStarts[r-2],t.lineStarts[r-1]);n.length>80&&(n=n.substring(0,79)+"\n"),s=n+s}if(/[^ ]/.test(s)){let e=1,t=n.linePos[1];t&&t.line===r&&t.col>o&&(e=Math.max(1,Math.min(t.col-o,80-i)));let a=" ".repeat(i)+"^".repeat(e);n.message+=`:\n\n${s}\n${a}\n`}}}),Gt=d(e=>{e.resolveProps=function(e,{flow:t,indicator:n,next:r,offset:o,onError:i,parentIndent:s,startOnNewline:a}){let l=!1,c=a,u=a,d="",h="",p=!1,f=!1,m=null,g=null,b=null,w=null,y=null,v=null,A=null;for(let o of e)switch(f&&("space"!==o.type&&"newline"!==o.type&&"comma"!==o.type&&i(o.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),f=!1),m&&(c&&"comment"!==o.type&&"newline"!==o.type&&i(m,"TAB_AS_INDENT","Tabs are not allowed as indentation"),m=null),o.type){case"space":!t&&("doc-start"!==n||"flow-collection"!==(null==r?void 0:r.type))&&o.source.includes("\t")&&(m=o),u=!0;break;case"comment":{u||i(o,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");let e=o.source.substring(1)||" ";d?d+=h+e:d=e,h="",c=!1;break}case"newline":c?d?d+=o.source:l=!0:h+=o.source,c=!0,p=!0,(g||b)&&(w=o),u=!0;break;case"anchor":g&&i(o,"MULTIPLE_ANCHORS","A node can have at most one anchor"),o.source.endsWith(":")&&i(o.offset+o.source.length-1,"BAD_ALIAS","Anchor ending in : is ambiguous",!0),g=o,null===A&&(A=o.offset),c=!1,u=!1,f=!0;break;case"tag":b&&i(o,"MULTIPLE_TAGS","A node can have at most one tag"),b=o,null===A&&(A=o.offset),c=!1,u=!1,f=!0;break;case n:(g||b)&&i(o,"BAD_PROP_ORDER",`Anchors and tags must be after the ${o.source} indicator`),v&&i(o,"UNEXPECTED_TOKEN",`Unexpected ${o.source} in ${null!=t?t:"collection"}`),v=o,c="seq-item-ind"===n||"explicit-key-ind"===n,u=!1;break;case"comma":if(t){y&&i(o,"UNEXPECTED_TOKEN",`Unexpected , in ${t}`),y=o,c=!1,u=!1;break}default:i(o,"UNEXPECTED_TOKEN",`Unexpected ${o.type} token`),c=!1,u=!1}let _=e[e.length-1],x=_?_.offset+_.source.length:o;return f&&r&&"space"!==r.type&&"newline"!==r.type&&"comma"!==r.type&&("scalar"!==r.type||""!==r.source)&&i(r.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),m&&(c&&m.indent<=s||"block-map"===(null==r?void 0:r.type)||"block-seq"===(null==r?void 0:r.type))&&i(m,"TAB_AS_INDENT","Tabs are not allowed as indentation"),{comma:y,found:v,spaceBefore:l,comment:d,hasNewline:p,anchor:g,tag:b,newlineAfterProp:w,end:x,start:null!=A?A:x}}}),Vt=d(e=>{e.containsNewline=function e(t){if(!t)return null;switch(t.type){case"alias":case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":if(t.source.includes("\n"))return!0;if(t.end)for(let e of t.end)if("newline"===e.type)return!0;return!1;case"flow-collection":for(let n of t.items){for(let e of n.start)if("newline"===e.type)return!0;if(n.sep)for(let e of n.sep)if("newline"===e.type)return!0;if(e(n.key)||e(n.value))return!0}return!1;default:return!0}}}),Yt=d(e=>{var t=Vt();e.flowIndentCheck=function(e,n,r){if("flow-collection"===(null==n?void 0:n.type)){let o=n.end[0];o.indent===e&&("]"===o.source||"}"===o.source)&&t.containsNewline(n)&&r(o,"BAD_INDENT","Flow end indicator should be more indented than parent",!0)}}}),Jt=d(e=>{var t=et();e.mapIncludes=function(e,n,r){let{uniqueKeys:o}=e.options;if(!1===o)return!1;let i="function"==typeof o?o:(e,n)=>e===n||t.isScalar(e)&&t.isScalar(n)&&e.value===n.value;return n.some(e=>i(e.key,r))}}),Kt=d(e=>{var t=yt(),n=At(),r=Gt(),o=Vt(),i=Yt(),s=Jt(),a="All mapping items must start at the same column";e.resolveBlockMap=function({composeNode:e,composeEmptyNode:l},c,u,d,h){var p,f;let m=new(null!=(p=null==h?void 0:h.nodeClass)?p:n.YAMLMap)(c.schema);c.atRoot&&(c.atRoot=!1);let g=u.offset,b=null;for(let n of u.items){let{start:h,key:p,sep:w,value:y}=n,v=r.resolveProps(h,{indicator:"explicit-key-ind",next:null!=p?p:null==w?void 0:w[0],offset:g,onError:d,parentIndent:u.indent,startOnNewline:!0}),A=!v.found;if(A){if(p&&("block-seq"===p.type?d(g,"BLOCK_AS_IMPLICIT_KEY","A block sequence may not be used as an implicit map key"):"indent"in p&&p.indent!==u.indent&&d(g,"BAD_INDENT",a)),!v.anchor&&!v.tag&&!w){b=v.end,v.comment&&(m.comment?m.comment+="\n"+v.comment:m.comment=v.comment);continue}(v.newlineAfterProp||o.containsNewline(p))&&d(null!=p?p:h[h.length-1],"MULTILINE_IMPLICIT_KEY","Implicit keys need to be on a single line")}else(null==(f=v.found)?void 0:f.indent)!==u.indent&&d(g,"BAD_INDENT",a);c.atKey=!0;let _=v.end,x=p?e(c,p,v,d):l(c,_,h,null,v,d);c.schema.compat&&i.flowIndentCheck(u.indent,p,d),c.atKey=!1,s.mapIncludes(c,m.items,x)&&d(_,"DUPLICATE_KEY","Map keys must be unique");let S=r.resolveProps(null!=w?w:[],{indicator:"map-value-ind",next:y,offset:x.range[2],onError:d,parentIndent:u.indent,startOnNewline:!p||"block-scalar"===p.type});if(g=S.end,S.found){A&&("block-map"===(null==y?void 0:y.type)&&!S.hasNewline&&d(g,"BLOCK_AS_IMPLICIT_KEY","Nested mappings are not allowed in compact mappings"),c.options.strict&&v.start<S.found.offset-1024&&d(x.range,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit block mapping key"));let r=y?e(c,y,S,d):l(c,g,w,null,S,d);c.schema.compat&&i.flowIndentCheck(u.indent,y,d),g=r.range[2];let o=new t.Pair(x,r);c.options.keepSourceTokens&&(o.srcToken=n),m.items.push(o)}else{A&&d(x.range,"MISSING_CHAR","Implicit map keys need to be followed by map values"),S.comment&&(x.comment?x.comment+="\n"+S.comment:x.comment=S.comment);let e=new t.Pair(x);c.options.keepSourceTokens&&(e.srcToken=n),m.items.push(e)}}return b&&b<g&&d(b,"IMPOSSIBLE","Map comment with trailing content"),m.range=[u.offset,g,null!=b?b:g],m}}),Xt=d(e=>{var t=xt(),n=Gt(),r=Yt();e.resolveBlockSeq=function({composeNode:e,composeEmptyNode:o},i,s,a,l){var c;let u=new(null!=(c=null==l?void 0:l.nodeClass)?c:t.YAMLSeq)(i.schema);i.atRoot&&(i.atRoot=!1),i.atKey&&(i.atKey=!1);let d=s.offset,h=null;for(let{start:t,value:l}of s.items){let c=n.resolveProps(t,{indicator:"seq-item-ind",next:l,offset:d,onError:a,parentIndent:s.indent,startOnNewline:!0});if(!c.found){if(!(c.anchor||c.tag||l)){h=c.end,c.comment&&(u.comment=c.comment);continue}l&&"block-seq"===l.type?a(c.end,"BAD_INDENT","All sequence items must start at the same column"):a(d,"MISSING_CHAR","Sequence item without - indicator")}let p=l?e(i,l,c,a):o(i,c.end,t,null,c,a);i.schema.compat&&r.flowIndentCheck(s.indent,l,a),d=p.range[2],u.items.push(p)}return u.range=[s.offset,d,null!=h?h:d],u}}),Zt=d(e=>{e.resolveEnd=function(e,t,n,r){let o="";if(e){let i=!1,s="";for(let a of e){let{source:e,type:l}=a;switch(l){case"space":i=!0;break;case"comment":{n&&!i&&r(a,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");let t=e.substring(1)||" ";o?o+=s+t:o=t,s="";break}case"newline":o&&(s+=e),i=!0;break;default:r(a,"UNEXPECTED_TOKEN",`Unexpected ${l} at node end`)}t+=e.length}}return{comment:o,offset:t}}}),en=d(e=>{var t=et(),n=yt(),r=At(),o=xt(),i=Zt(),s=Gt(),a=Vt(),l=Jt(),c="Block collections are not allowed within flow collections",u=e=>e&&("block-map"===e.type||"block-seq"===e.type);e.resolveFlowCollection=function({composeNode:e,composeEmptyNode:d},h,p,f,m){var g,b;let w="{"===p.start.source,y=w?"flow map":"flow sequence",v=new(null!=(g=null==m?void 0:m.nodeClass)?g:w?r.YAMLMap:o.YAMLSeq)(h.schema);v.flow=!0;let A=h.atRoot;A&&(h.atRoot=!1),h.atKey&&(h.atKey=!1);let _=p.offset+p.start.source.length;for(let o=0;o<p.items.length;++o){let i=p.items[o],{start:m,key:g,sep:A,value:x}=i,S=s.resolveProps(m,{flow:y,indicator:"explicit-key-ind",next:null!=g?g:null==A?void 0:A[0],offset:_,onError:f,parentIndent:p.indent,startOnNewline:!1});if(!S.found){if(!(S.anchor||S.tag||A||x)){0===o&&S.comma?f(S.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${y}`):o<p.items.length-1&&f(S.start,"UNEXPECTED_TOKEN",`Unexpected empty item in ${y}`),S.comment&&(v.comment?v.comment+="\n"+S.comment:v.comment=S.comment),_=S.end;continue}!w&&h.options.strict&&a.containsNewline(g)&&f(g,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line")}if(0===o)S.comma&&f(S.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${y}`);else if(S.comma||f(S.start,"MISSING_CHAR",`Missing , between ${y} items`),S.comment){let e="";e:for(let t of m)switch(t.type){case"comma":case"space":break;case"comment":e=t.source.substring(1);break e;default:break e}if(e){let n=v.items[v.items.length-1];t.isPair(n)&&(n=null!=(b=n.value)?b:n.key),n.comment?n.comment+="\n"+e:n.comment=e,S.comment=S.comment.substring(e.length+1)}}if(w||A||S.found){h.atKey=!0;let t=S.end,o=g?e(h,g,S,f):d(h,t,m,null,S,f);u(g)&&f(o.range,"BLOCK_IN_FLOW",c),h.atKey=!1;let a=s.resolveProps(null!=A?A:[],{flow:y,indicator:"map-value-ind",next:x,offset:o.range[2],onError:f,parentIndent:p.indent,startOnNewline:!1});if(a.found){if(!w&&!S.found&&h.options.strict){if(A)for(let e of A){if(e===a.found)break;if("newline"===e.type){f(e,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line");break}}S.start<a.found.offset-1024&&f(a.found,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit flow sequence key")}}else x&&("source"in x&&x.source&&":"===x.source[0]?f(x,"MISSING_CHAR",`Missing space after : in ${y}`):f(a.start,"MISSING_CHAR",`Missing , or : between ${y} items`));let b=x?e(h,x,a,f):a.found?d(h,a.end,A,null,a,f):null;b?u(x)&&f(b.range,"BLOCK_IN_FLOW",c):a.comment&&(o.comment?o.comment+="\n"+a.comment:o.comment=a.comment);let E=new n.Pair(o,b);if(h.options.keepSourceTokens&&(E.srcToken=i),w){let e=v;l.mapIncludes(h,e.items,o)&&f(t,"DUPLICATE_KEY","Map keys must be unique"),e.items.push(E)}else{let e=new r.YAMLMap(h.schema);e.flow=!0,e.items.push(E);let t=(null!=b?b:o).range;e.range=[o.range[0],t[1],t[2]],v.items.push(e)}_=b?b.range[2]:a.end}else{let t=x?e(h,x,S,f):d(h,S.end,A,null,S,f);v.items.push(t),_=t.range[2],u(x)&&f(t.range,"BLOCK_IN_FLOW",c)}}let x=w?"}":"]",[S,...E]=p.end,C=_;if(S&&S.source===x)C=S.offset+S.source.length;else{let e=y[0].toUpperCase()+y.substring(1);f(_,A?"MISSING_CHAR":"BAD_INDENT",A?`${e} must end with a ${x}`:`${e} in block collection must be sufficiently indented and end with a ${x}`),S&&1!==S.source.length&&E.unshift(S)}if(E.length>0){let e=i.resolveEnd(E,C,h.options.strict,f);e.comment&&(v.comment?v.comment+="\n"+e.comment:v.comment=e.comment),v.range=[p.offset,C,e.offset]}else v.range=[p.offset,C,C];return v}}),tn=d(e=>{var t=et(),n=lt(),r=At(),o=xt(),i=Kt(),s=Xt(),a=en();function l(e,t,n,r,o,l){let c="block-map"===n.type?i.resolveBlockMap(e,t,n,r,l):"block-seq"===n.type?s.resolveBlockSeq(e,t,n,r,l):a.resolveFlowCollection(e,t,n,r,l),u=c.constructor;return"!"===o||o===u.tagName?(c.tag=u.tagName,c):(o&&(c.tag=o),c)}e.composeCollection=function(e,i,s,a,c){var u,d;let h=a.tag,p=h?i.directives.tagName(h.source,e=>c(h,"TAG_RESOLVE_FAILED",e)):null;if("block-seq"===s.type){let{anchor:e,newlineAfterProp:t}=a,n=e&&h?e.offset>h.offset?e:h:null!=e?e:h;n&&(!t||t.offset<n.offset)&&c(n,"MISSING_CHAR","Missing newline after block sequence props")}let f="block-map"===s.type?"map":"block-seq"===s.type?"seq":"{"===s.start.source?"map":"seq";if(!h||!p||"!"===p||p===r.YAMLMap.tagName&&"map"===f||p===o.YAMLSeq.tagName&&"seq"===f)return l(e,i,s,c,p);let m=i.schema.tags.find(e=>e.tag===p&&e.collection===f);if(!m){let t=i.schema.knownTags[p];if(!t||t.collection!==f)return null!=t&&t.collection?c(h,"BAD_COLLECTION_TYPE",`${t.tag} used for ${f} collection, but expects ${t.collection}`,!0):c(h,"TAG_RESOLVE_FAILED",`Unresolved tag: ${p}`,!0),l(e,i,s,c,p);i.schema.tags.push(Object.assign({},t,{default:!1})),m=t}let g=l(e,i,s,c,p,m),b=null!=(d=null==(u=m.resolve)?void 0:u.call(m,g,e=>c(h,"TAG_RESOLVE_FAILED",e),i.options))?d:g,w=t.isNode(b)?b:new n.Scalar(b);return w.range=g.range,w.tag=p,null!=m&&m.format&&(w.format=m.format),w}}),nn=d(e=>{var t=lt();e.resolveBlockScalar=function(e,n,r){let o=n.offset,i=function({offset:e,props:t},n,r){if("block-scalar-header"!==t[0].type)return r(t[0],"IMPOSSIBLE","Block scalar header not found"),null;let{source:o}=t[0],i=o[0],s=0,a="",l=-1;for(let t=1;t<o.length;++t){let n=o[t];if(a||"-"!==n&&"+"!==n){let r=Number(n);!s&&r?s=r:-1===l&&(l=e+t)}else a=n}-1!==l&&r(l,"UNEXPECTED_TOKEN",`Block scalar header includes extra characters: ${o}`);let c=!1,u="",d=o.length;for(let e=1;e<t.length;++e){let o=t[e];switch(o.type){case"space":c=!0;case"newline":d+=o.source.length;break;case"comment":n&&!c&&r(o,"MISSING_CHAR","Comments must be separated from other tokens by white space characters"),d+=o.source.length,u=o.source.substring(1);break;case"error":r(o,"UNEXPECTED_TOKEN",o.message),d+=o.source.length;break;default:{r(o,"UNEXPECTED_TOKEN",`Unexpected token in block scalar header: ${o.type}`);let e=o.source;e&&"string"==typeof e&&(d+=e.length)}}}return{mode:i,indent:s,chomp:a,comment:u,length:d}}(n,e.options.strict,r);if(!i)return{value:"",type:null,comment:"",range:[o,o,o]};let s=">"===i.mode?t.Scalar.BLOCK_FOLDED:t.Scalar.BLOCK_LITERAL,a=n.source?function(e){let t=e.split(/\n( *)/),n=t[0],r=n.match(/^( *)/),o=[null!=r&&r[1]?[r[1],n.slice(r[1].length)]:["",n]];for(let e=1;e<t.length;e+=2)o.push([t[e],t[e+1]]);return o}(n.source):[],l=a.length;for(let e=a.length-1;e>=0;--e){let t=a[e][1];if(""!==t&&"\r"!==t)break;l=e}if(0===l){let e="+"===i.chomp&&a.length>0?"\n".repeat(Math.max(1,a.length-1)):"",t=o+i.length;return n.source&&(t+=n.source.length),{value:e,type:s,comment:i.comment,range:[o,t,t]}}let c=n.indent+i.indent,u=n.offset+i.length,d=0;for(let t=0;t<l;++t){let[n,o]=a[t];if(""!==o&&"\r"!==o){n.length<c&&r(u+n.length,"MISSING_CHAR","Block scalars with more-indented leading empty lines must use an explicit indentation indicator"),0===i.indent&&(c=n.length),d=t,0===c&&!e.atRoot&&r(u,"BAD_INDENT","Block scalar values in collections must be indented");break}0===i.indent&&n.length>c&&(c=n.length),u+=n.length+o.length+1}for(let e=a.length-1;e>=l;--e)a[e][0].length>c&&(l=e+1);let h="",p="",f=!1;for(let e=0;e<d;++e)h+=a[e][0].slice(c)+"\n";for(let e=d;e<l;++e){let[n,o]=a[e];u+=n.length+o.length+1;let l="\r"===o[o.length-1];if(l&&(o=o.slice(0,-1)),o&&n.length<c){let e="Block scalar lines must not be less indented than their "+(i.indent?"explicit indentation indicator":"first line");r(u-o.length-(l?2:1),"BAD_INDENT",e),n=""}s===t.Scalar.BLOCK_LITERAL?(h+=p+n.slice(c)+o,p="\n"):n.length>c||"\t"===o[0]?(" "===p?p="\n":!f&&"\n"===p&&(p="\n\n"),h+=p+n.slice(c)+o,p="\n",f=!0):""===o?"\n"===p?h+="\n":p="\n":(h+=p+o,p=" ",f=!1)}switch(i.chomp){case"-":break;case"+":for(let e=l;e<a.length;++e)h+="\n"+a[e][0].slice(c);"\n"!==h[h.length-1]&&(h+="\n");break;default:h+="\n"}let m=o+i.length+n.source.length;return{value:h,type:s,comment:i.comment,range:[o,m,m]}}}),rn=d(e=>{var t=lt(),n=Zt();function r(e){var t;let n,r;try{n=new RegExp("(.*?)(?<![ \t])[ \t]*\r?\n","sy"),r=new RegExp("[ \t]*(.*?)(?:(?<![ \t])[ \t]*)?\r?\n","sy")}catch{n=/(.*?)[ \t]*\r?\n/sy,r=/[ \t]*(.*?)[ \t]*\r?\n/sy}let o=n.exec(e);if(!o)return e;let i=o[1],s=" ",a=n.lastIndex;for(r.lastIndex=a;o=r.exec(e);)""===o[1]?"\n"===s?i+=s:s="\n":(i+=s+o[1],s=" "),a=r.lastIndex;let l=/[ \t]*(.*)/sy;return l.lastIndex=a,o=l.exec(e),i+s+(null!=(t=null==o?void 0:o[1])?t:"")}function o(e,t){let n="",r=e[t+1];for(;!(" "!==r&&"\t"!==r&&"\n"!==r&&"\r"!==r||"\r"===r&&"\n"!==e[t+2]);)"\n"===r&&(n+="\n"),r=e[(t+=1)+1];return n||(n=" "),{fold:n,offset:t}}var i={0:"\0",a:"",b:"\b",e:"",f:"\f",n:"\n",r:"\r",t:"\t",v:"\v",N:"",_:"",L:"\u2028",P:"\u2029"," ":" ",'"':'"',"/":"/","\\":"\\","\t":"\t"};function s(e,t,n,r){let o=e.substr(t,n),i=o.length===n&&/^[0-9a-fA-F]+$/.test(o)?parseInt(o,16):NaN;if(isNaN(i)){let o=e.substr(t-2,n+2);return r(t-2,"BAD_DQ_ESCAPE",`Invalid escape sequence ${o}`),o}return String.fromCodePoint(i)}e.resolveFlowScalar=function(e,a,l){let c,u,{offset:d,type:h,source:p,end:f}=e,m=(e,t,n)=>l(d+e,t,n);switch(h){case"scalar":c=t.Scalar.PLAIN,u=function(e,t){let n="";switch(e[0]){case"\t":n="a tab character";break;case",":n="flow indicator character ,";break;case"%":n="directive indicator character %";break;case"|":case">":n=`block scalar indicator ${e[0]}`;break;case"@":case"`":n=`reserved character ${e[0]}`}return n&&t(0,"BAD_SCALAR_START",`Plain value cannot start with ${n}`),r(e)}(p,m);break;case"single-quoted-scalar":c=t.Scalar.QUOTE_SINGLE,u=function(e,t){return("'"!==e[e.length-1]||1===e.length)&&t(e.length,"MISSING_CHAR","Missing closing 'quote"),r(e.slice(1,-1)).replace(/''/g,"'")}(p,m);break;case"double-quoted-scalar":c=t.Scalar.QUOTE_DOUBLE,u=function(e,t){let n="";for(let r=1;r<e.length-1;++r){let a=e[r];if("\r"!==a||"\n"!==e[r+1])if("\n"===a){let{fold:t,offset:i}=o(e,r);n+=t,r=i}else if("\\"===a){let o=e[++r],a=i[o];if(a)n+=a;else if("\n"===o)for(o=e[r+1];" "===o||"\t"===o;)o=e[1+ ++r];else if("\r"===o&&"\n"===e[r+1])for(o=e[1+ ++r];" "===o||"\t"===o;)o=e[1+ ++r];else if("x"===o||"u"===o||"U"===o){let i={x:2,u:4,U:8}[o];n+=s(e,r+1,i,t),r+=i}else{let o=e.substr(r-1,2);t(r-1,"BAD_DQ_ESCAPE",`Invalid escape sequence ${o}`),n+=o}}else if(" "===a||"\t"===a){let t=r,o=e[r+1];for(;" "===o||"\t"===o;)o=e[1+ ++r];"\n"!==o&&("\r"!==o||"\n"!==e[r+2])&&(n+=r>t?e.slice(t,r+1):a)}else n+=a}return('"'!==e[e.length-1]||1===e.length)&&t(e.length,"MISSING_CHAR",'Missing closing "quote'),n}(p,m);break;default:return l(e,"UNEXPECTED_TOKEN",`Expected a flow scalar value, but found: ${h}`),{value:"",type:null,comment:"",range:[d,d+p.length,d+p.length]}}let g=d+p.length,b=n.resolveEnd(f,g,a,l);return{value:u,type:c,comment:b.comment,range:[d,g,b.offset]}}}),on=d(e=>{var t=et(),n=lt(),r=nn(),o=rn();e.composeScalar=function(e,i,s,a){let l,c,{value:u,type:d,comment:h,range:p}="block-scalar"===i.type?r.resolveBlockScalar(e,i,a):o.resolveFlowScalar(i,e.options.strict,a),f=s?e.directives.tagName(s.source,e=>a(s,"TAG_RESOLVE_FAILED",e)):null;l=e.options.stringKeys&&e.atKey?e.schema[t.SCALAR]:f?function(e,n,r,o,i){var s;if("!"===r)return e[t.SCALAR];let a=[];for(let t of e.tags)if(!t.collection&&t.tag===r){if(!t.default||!t.test)return t;a.push(t)}for(let e of a)if(null!=(s=e.test)&&s.test(n))return e;let l=e.knownTags[r];return l&&!l.collection?(e.tags.push(Object.assign({},l,{default:!1,test:void 0})),l):(i(o,"TAG_RESOLVE_FAILED",`Unresolved tag: ${r}`,"tag:yaml.org,2002:str"!==r),e[t.SCALAR])}(e.schema,u,f,s,a):"scalar"===i.type?function({atKey:e,directives:n,schema:r},o,i,s){var a;let l=r.tags.find(t=>{var n;return(!0===t.default||e&&"key"===t.default)&&(null==(n=t.test)?void 0:n.test(o))})||r[t.SCALAR];if(r.compat){let e=null!=(a=r.compat.find(e=>{var t;return e.default&&(null==(t=e.test)?void 0:t.test(o))}))?a:r[t.SCALAR];l.tag!==e.tag&&s(i,"TAG_RESOLVE_FAILED",`Value may be parsed as either ${n.tagString(l.tag)} or ${n.tagString(e.tag)}`,!0)}return l}(e,u,i,a):e.schema[t.SCALAR];try{let r=l.resolve(u,e=>a(null!=s?s:i,"TAG_RESOLVE_FAILED",e),e.options);c=t.isScalar(r)?r:new n.Scalar(r)}catch(e){let t=e instanceof Error?e.message:String(e);a(null!=s?s:i,"TAG_RESOLVE_FAILED",t),c=new n.Scalar(u)}return c.range=p,c.source=u,d&&(c.type=d),f&&(c.tag=f),l.format&&(c.format=l.format),h&&(c.comment=h),c}}),sn=d(e=>{e.emptyScalarPosition=function(e,t,n){if(t){null===n&&(n=t.length);for(let r=n-1;r>=0;--r){let n=t[r];switch(n.type){case"space":case"comment":case"newline":e-=n.source.length;continue}for(n=t[++r];"space"===(null==n?void 0:n.type);)e+=n.source.length,n=t[++r];break}}return e}}),an=d(e=>{var t=at(),n=et(),r=tn(),o=on(),i=Zt(),s=sn(),a={composeNode:l,composeEmptyNode:c};function l(e,s,l,u){let d,h=e.atKey,{spaceBefore:p,comment:f,anchor:m,tag:g}=l,b=!0;switch(s.type){case"alias":d=function({options:e},{offset:n,source:r,end:o},s){let a=new t.Alias(r.substring(1));""===a.source&&s(n,"BAD_ALIAS","Alias cannot be an empty string"),a.source.endsWith(":")&&s(n+r.length-1,"BAD_ALIAS","Alias ending in : is ambiguous",!0);let l=n+r.length,c=i.resolveEnd(o,l,e.strict,s);return a.range=[n,l,c.offset],c.comment&&(a.comment=c.comment),a}(e,s,u),(m||g)&&u(s,"ALIAS_PROPS","An alias node must not specify any properties");break;case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"block-scalar":d=o.composeScalar(e,s,g,u),m&&(d.anchor=m.source.substring(1));break;case"block-map":case"block-seq":case"flow-collection":d=r.composeCollection(a,e,s,l,u),m&&(d.anchor=m.source.substring(1));break;default:u(s,"UNEXPECTED_TOKEN","error"===s.type?s.message:`Unsupported token (type: ${s.type})`),d=c(e,s.offset,void 0,null,l,u),b=!1}return m&&""===d.anchor&&u(m,"BAD_ALIAS","Anchor cannot be an empty string"),h&&e.options.stringKeys&&(!n.isScalar(d)||"string"!=typeof d.value||d.tag&&"tag:yaml.org,2002:str"!==d.tag)&&u(null!=g?g:s,"NON_STRING_KEY","With stringKeys, all keys must be strings"),p&&(d.spaceBefore=!0),f&&("scalar"===s.type&&""===s.source?d.comment=f:d.commentBefore=f),e.options.keepSourceTokens&&b&&(d.srcToken=s),d}function c(e,t,n,r,{spaceBefore:i,comment:a,anchor:l,tag:c,end:u},d){let h={type:"scalar",offset:s.emptyScalarPosition(t,n,r),indent:-1,source:""},p=o.composeScalar(e,h,c,d);return l&&(p.anchor=l.source.substring(1),""===p.anchor&&d(l,"BAD_ALIAS","Anchor cannot be an empty string")),i&&(p.spaceBefore=!0),a&&(p.comment=a,p.range[2]=u),p}e.composeEmptyNode=c,e.composeNode=l}),ln=d(e=>{var t=Wt(),n=an(),r=Zt(),o=Gt();e.composeDoc=function(e,i,{offset:s,start:a,value:l,end:c},u){let d=Object.assign({_directives:i},e),h=new t.Document(void 0,d),p={atKey:!1,atRoot:!0,directives:h.directives,options:h.options,schema:h.schema},f=o.resolveProps(a,{indicator:"doc-start",next:null!=l?l:null==c?void 0:c[0],offset:s,onError:u,parentIndent:0,startOnNewline:!0});f.found&&(h.directives.docStart=!0,l&&("block-map"===l.type||"block-seq"===l.type)&&!f.hasNewline&&u(f.end,"MISSING_CHAR","Block collection cannot start on same line with directives-end marker")),h.contents=l?n.composeNode(p,l,f,u):n.composeEmptyNode(p,f.end,a,null,f,u);let m=h.contents.range[2],g=r.resolveEnd(c,m,!1,u);return g.comment&&(h.comment=g.comment),h.range=[s,m,g.offset],h}}),cn=d(e=>{var t=nt(),n=Wt(),r=$t(),o=et(),i=ln(),s=Zt();function a(e){if("number"==typeof e)return[e,e+1];if(Array.isArray(e))return 2===e.length?e:[e[0],e[1]];let{offset:t,source:n}=e;return[t,t+("string"==typeof n?n.length:1)]}function l(e){var t;let n="",r=!1,o=!1;for(let i=0;i<e.length;++i){let s=e[i];switch(s[0]){case"#":n+=(""===n?"":o?"\n\n":"\n")+(s.substring(1)||" "),r=!0,o=!1;break;case"%":"#"!==(null==(t=e[i+1])?void 0:t[0])&&(i+=1),r=!1;break;default:r||(o=!0),r=!1}}return{comment:n,afterEmptyLine:o}}e.Composer=class{constructor(e={}){this.doc=null,this.atDirectives=!1,this.prelude=[],this.errors=[],this.warnings=[],this.onError=(e,t,n,o)=>{let i=a(e);o?this.warnings.push(new r.YAMLWarning(i,t,n)):this.errors.push(new r.YAMLParseError(i,t,n))},this.directives=new t.Directives({version:e.version||"1.2"}),this.options=e}decorate(e,t){let{comment:n,afterEmptyLine:r}=l(this.prelude);if(n){let i=e.contents;if(t)e.comment=e.comment?`${e.comment}\n${n}`:n;else if(r||e.directives.docStart||!i)e.commentBefore=n;else if(o.isCollection(i)&&!i.flow&&i.items.length>0){let e=i.items[0];o.isPair(e)&&(e=e.key);let t=e.commentBefore;e.commentBefore=t?`${n}\n${t}`:n}else{let e=i.commentBefore;i.commentBefore=e?`${n}\n${e}`:n}}t?(Array.prototype.push.apply(e.errors,this.errors),Array.prototype.push.apply(e.warnings,this.warnings)):(e.errors=this.errors,e.warnings=this.warnings),this.prelude=[],this.errors=[],this.warnings=[]}streamInfo(){return{comment:l(this.prelude).comment,directives:this.directives,errors:this.errors,warnings:this.warnings}}*compose(e,t=!1,n=-1){for(let t of e)yield*this.next(t);yield*this.end(t,n)}*next(e){switch(process.env.LOG_STREAM&&console.dir(e,{depth:null}),e.type){case"directive":this.directives.add(e.source,(t,n,r)=>{let o=a(e);o[0]+=t,this.onError(o,"BAD_DIRECTIVE",n,r)}),this.prelude.push(e.source),this.atDirectives=!0;break;case"document":{let t=i.composeDoc(this.options,this.directives,e,this.onError);this.atDirectives&&!t.directives.docStart&&this.onError(e,"MISSING_CHAR","Missing directives-end/doc-start indicator line"),this.decorate(t,!1),this.doc&&(yield this.doc),this.doc=t,this.atDirectives=!1;break}case"byte-order-mark":case"space":break;case"comment":case"newline":this.prelude.push(e.source);break;case"error":{let t=e.source?`${e.message}: ${JSON.stringify(e.source)}`:e.message,n=new r.YAMLParseError(a(e),"UNEXPECTED_TOKEN",t);this.atDirectives||!this.doc?this.errors.push(n):this.doc.errors.push(n);break}case"doc-end":{if(!this.doc){let t="Unexpected doc-end without preceding document";this.errors.push(new r.YAMLParseError(a(e),"UNEXPECTED_TOKEN",t));break}this.doc.directives.docEnd=!0;let t=s.resolveEnd(e.end,e.offset+e.source.length,this.doc.options.strict,this.onError);if(this.decorate(this.doc,!0),t.comment){let e=this.doc.comment;this.doc.comment=e?`${e}\n${t.comment}`:t.comment}this.doc.range[2]=t.offset;break}default:this.errors.push(new r.YAMLParseError(a(e),"UNEXPECTED_TOKEN",`Unsupported token ${e.type}`))}}*end(e=!1,t=-1){if(this.doc)this.decorate(this.doc,!0),yield this.doc,this.doc=null;else if(e){let e=Object.assign({_directives:this.directives},this.options),r=new n.Document(void 0,e);this.atDirectives&&this.onError(t,"MISSING_CHAR","Missing directives-end indicator line"),r.range=[0,t,t],this.decorate(r,!1),yield r}}}}),un=d(e=>{var t=nn(),n=rn(),r=$t(),o=pt();function i(e,t){if(t)for(let n of t)switch(n.type){case"space":case"comment":e.push(n);break;case"newline":return e.push(n),!0}return!1}function s(e,t,n){switch(e.type){case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":e.type=n,e.source=t;break;case"block-scalar":{let r=e.props.slice(1),o=t.length;"block-scalar-header"===e.props[0].type&&(o-=e.props[0].source.length);for(let e of r)e.offset+=o;delete e.props,Object.assign(e,{type:n,source:t,end:r});break}case"block-map":case"block-seq":{let r={type:"newline",offset:e.offset+t.length,indent:e.indent,source:"\n"};delete e.items,Object.assign(e,{type:n,source:t,end:[r]});break}default:{let r="indent"in e?e.indent:-1,o="end"in e&&Array.isArray(e.end)?e.end.filter(e=>"space"===e.type||"comment"===e.type||"newline"===e.type):[];for(let t of Object.keys(e))"type"!==t&&"offset"!==t&&delete e[t];Object.assign(e,{type:n,indent:r,source:t,end:o})}}}e.createScalarToken=function(e,t){var n;let{implicitKey:r=!1,indent:s,inFlow:a=!1,offset:l=-1,type:c="PLAIN"}=t,u=o.stringifyString({type:c,value:e},{implicitKey:r,indent:s>0?" ".repeat(s):"",inFlow:a,options:{blockQuote:!0,lineWidth:-1}}),d=null!=(n=t.end)?n:[{type:"newline",offset:-1,indent:s,source:"\n"}];switch(u[0]){case"|":case">":{let e=u.indexOf("\n"),t=u.substring(0,e),n=u.substring(e+1)+"\n",r=[{type:"block-scalar-header",offset:l,indent:s,source:t}];return i(r,d)||r.push({type:"newline",offset:-1,indent:s,source:"\n"}),{type:"block-scalar",offset:l,indent:s,props:r,source:n}}case'"':return{type:"double-quoted-scalar",offset:l,indent:s,source:u,end:d};case"'":return{type:"single-quoted-scalar",offset:l,indent:s,source:u,end:d};default:return{type:"scalar",offset:l,indent:s,source:u,end:d}}},e.resolveAsScalar=function(e,o=!0,i){if(e){let s=(e,t,n)=>{let o="number"==typeof e?e:Array.isArray(e)?e[0]:e.offset;if(!i)throw new r.YAMLParseError([o,o+1],t,n);i(o,t,n)};switch(e.type){case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return n.resolveFlowScalar(e,o,s);case"block-scalar":return t.resolveBlockScalar({options:{strict:o}},e,s)}}return null},e.setScalarValue=function(e,t,n={}){let{afterKey:r=!1,implicitKey:a=!1,inFlow:l=!1,type:c}=n,u="indent"in e?e.indent:null;if(r&&"number"==typeof u&&(u+=2),!c)switch(e.type){case"single-quoted-scalar":c="QUOTE_SINGLE";break;case"double-quoted-scalar":c="QUOTE_DOUBLE";break;case"block-scalar":{let t=e.props[0];if("block-scalar-header"!==t.type)throw new Error("Invalid block scalar header");c=">"===t.source[0]?"BLOCK_FOLDED":"BLOCK_LITERAL";break}default:c="PLAIN"}let d=o.stringifyString({type:c,value:t},{implicitKey:a||null===u,indent:null!==u&&u>0?" ".repeat(u):"",inFlow:l,options:{blockQuote:!0,lineWidth:-1}});switch(d[0]){case"|":case">":!function(e,t){let n=t.indexOf("\n"),r=t.substring(0,n),o=t.substring(n+1)+"\n";if("block-scalar"===e.type){let t=e.props[0];if("block-scalar-header"!==t.type)throw new Error("Invalid block scalar header");t.source=r,e.source=o}else{let{offset:t}=e,n="indent"in e?e.indent:-1,s=[{type:"block-scalar-header",offset:t,indent:n,source:r}];i(s,"end"in e?e.end:void 0)||s.push({type:"newline",offset:-1,indent:n,source:"\n"});for(let t of Object.keys(e))"type"!==t&&"offset"!==t&&delete e[t];Object.assign(e,{type:"block-scalar",indent:n,props:s,source:o})}}(e,d);break;case'"':s(e,d,"double-quoted-scalar");break;case"'":s(e,d,"single-quoted-scalar");break;default:s(e,d,"scalar")}}}),dn=d(e=>{function t(e){switch(e.type){case"block-scalar":{let n="";for(let r of e.props)n+=t(r);return n+e.source}case"block-map":case"block-seq":{let t="";for(let r of e.items)t+=n(r);return t}case"flow-collection":{let t=e.start.source;for(let r of e.items)t+=n(r);for(let n of e.end)t+=n.source;return t}case"document":{let t=n(e);if(e.end)for(let n of e.end)t+=n.source;return t}default:{let t=e.source;if("end"in e&&e.end)for(let n of e.end)t+=n.source;return t}}}function n({start:e,key:n,sep:r,value:o}){let i="";for(let t of e)i+=t.source;if(n&&(i+=t(n)),r)for(let e of r)i+=e.source;return o&&(i+=t(o)),i}e.stringify=e=>"type"in e?t(e):n(e)}),hn=d(e=>{var t=Symbol("break visit"),n=Symbol("skip children"),r=Symbol("remove item");function o(e,t){"type"in e&&"document"===e.type&&(e={start:e.start,value:e.value}),i(Object.freeze([]),e,t)}function i(e,n,o){let s=o(n,e);if("symbol"==typeof s)return s;for(let a of["key","value"]){let l=n[a];if(l&&"items"in l){for(let n=0;n<l.items.length;++n){let s=i(Object.freeze(e.concat([[a,n]])),l.items[n],o);if("number"==typeof s)n=s-1;else{if(s===t)return t;s===r&&(l.items.splice(n,1),n-=1)}}"function"==typeof s&&"key"===a&&(s=s(n,e))}}return"function"==typeof s?s(n,e):s}o.BREAK=t,o.SKIP=n,o.REMOVE=r,o.itemAtPath=(e,t)=>{let n=e;for(let[e,r]of t){let t=null==n?void 0:n[e];if(!t||!("items"in t))return;n=t.items[r]}return n},o.parentCollection=(e,t)=>{let n=o.itemAtPath(e,t.slice(0,-1)),r=t[t.length-1][0],i=null==n?void 0:n[r];if(i&&"items"in i)return i;throw new Error("Parent collection not found")},e.visit=o}),pn=d(e=>{var t=un(),n=dn(),r=hn();e.createScalarToken=t.createScalarToken,e.resolveAsScalar=t.resolveAsScalar,e.setScalarValue=t.setScalarValue,e.stringify=n.stringify,e.visit=r.visit,e.BOM="\ufeff",e.DOCUMENT="",e.FLOW_END="",e.SCALAR="",e.isCollection=e=>!!e&&"items"in e,e.isScalar=e=>!!e&&("scalar"===e.type||"single-quoted-scalar"===e.type||"double-quoted-scalar"===e.type||"block-scalar"===e.type),e.prettyToken=function(e){switch(e){case"\ufeff":return"<BOM>";case"":return"<DOC>";case"":return"<FLOW_END>";case"":return"<SCALAR>";default:return JSON.stringify(e)}},e.tokenType=function(e){switch(e){case"\ufeff":return"byte-order-mark";case"":return"doc-mode";case"":return"flow-error-end";case"":return"scalar";case"---":return"doc-start";case"...":return"doc-end";case"":case"\n":case"\r\n":return"newline";case"-":return"seq-item-ind";case"?":return"explicit-key-ind";case":":return"map-value-ind";case"{":return"flow-map-start";case"}":return"flow-map-end";case"[":return"flow-seq-start";case"]":return"flow-seq-end";case",":return"comma"}switch(e[0]){case" ":case"\t":return"space";case"#":return"comment";case"%":return"directive-line";case"*":return"alias";case"&":return"anchor";case"!":return"tag";case"'":return"single-quoted-scalar";case'"':return"double-quoted-scalar";case"|":case">":return"block-scalar-header"}return null}}),fn=d(e=>{var t=pn();function n(e){switch(e){case void 0:case" ":case"\n":case"\r":case"\t":return!0;default:return!1}}var r=new Set("0123456789ABCDEFabcdef"),o=new Set("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-#;/?:@&=+$_.!~*'()"),i=new Set(",[]{}"),s=new Set(" ,[]{}\n\r\t"),a=e=>!e||s.has(e);e.Lexer=class{constructor(){this.atEnd=!1,this.blockScalarIndent=-1,this.blockScalarKeep=!1,this.buffer="",this.flowKey=!1,this.flowLevel=0,this.indentNext=0,this.indentValue=0,this.lineEndPos=null,this.next=null,this.pos=0}*lex(e,t=!1){var n;if(e){if("string"!=typeof e)throw TypeError("source is not a string");this.buffer=this.buffer?this.buffer+e:e,this.lineEndPos=null}this.atEnd=!t;let r=null!=(n=this.next)?n:"stream";for(;r&&(t||this.hasChars(1));)r=yield*this.parseNext(r)}atLineEnd(){let e=this.pos,t=this.buffer[e];for(;" "===t||"\t"===t;)t=this.buffer[++e];return!t||"#"===t||"\n"===t||"\r"===t&&"\n"===this.buffer[e+1]}charAt(e){return this.buffer[this.pos+e]}continueScalar(e){let t=this.buffer[e];if(this.indentNext>0){let n=0;for(;" "===t;)t=this.buffer[++n+e];if("\r"===t){let t=this.buffer[n+e+1];if("\n"===t||!t&&!this.atEnd)return e+n+1}return"\n"===t||n>=this.indentNext||!t&&!this.atEnd?e+n:-1}if("-"===t||"."===t){let t=this.buffer.substr(e,3);if(("---"===t||"..."===t)&&n(this.buffer[e+3]))return-1}return e}getLine(){let e=this.lineEndPos;return("number"!=typeof e||-1!==e&&e<this.pos)&&(e=this.buffer.indexOf("\n",this.pos),this.lineEndPos=e),-1===e?this.atEnd?this.buffer.substring(this.pos):null:("\r"===this.buffer[e-1]&&(e-=1),this.buffer.substring(this.pos,e))}hasChars(e){return this.pos+e<=this.buffer.length}setNext(e){return this.buffer=this.buffer.substring(this.pos),this.pos=0,this.lineEndPos=null,this.next=e,null}peek(e){return this.buffer.substr(this.pos,e)}*parseNext(e){switch(e){case"stream":return yield*this.parseStream();case"line-start":return yield*this.parseLineStart();case"block-start":return yield*this.parseBlockStart();case"doc":return yield*this.parseDocument();case"flow":return yield*this.parseFlowCollection();case"quoted-scalar":return yield*this.parseQuotedScalar();case"block-scalar":return yield*this.parseBlockScalar();case"plain-scalar":return yield*this.parsePlainScalar()}}*parseStream(){let e=this.getLine();if(null===e)return this.setNext("stream");if(e[0]===t.BOM&&(yield*this.pushCount(1),e=e.substring(1)),"%"===e[0]){let t=e.length,n=e.indexOf("#");for(;-1!==n;){let r=e[n-1];if(" "===r||"\t"===r){t=n-1;break}n=e.indexOf("#",n+1)}for(;;){let n=e[t-1];if(" "!==n&&"\t"!==n)break;t-=1}let r=(yield*this.pushCount(t))+(yield*this.pushSpaces(!0));return yield*this.pushCount(e.length-r),this.pushNewline(),"stream"}if(this.atLineEnd()){let t=yield*this.pushSpaces(!0);return yield*this.pushCount(e.length-t),yield*this.pushNewline(),"stream"}return yield t.DOCUMENT,yield*this.parseLineStart()}*parseLineStart(){let e=this.charAt(0);if(!e&&!this.atEnd)return this.setNext("line-start");if("-"===e||"."===e){if(!this.atEnd&&!this.hasChars(4))return this.setNext("line-start");let e=this.peek(3);if(("---"===e||"..."===e)&&n(this.charAt(3)))return yield*this.pushCount(3),this.indentValue=0,this.indentNext=0,"---"===e?"doc":"stream"}return this.indentValue=yield*this.pushSpaces(!1),this.indentNext>this.indentValue&&!n(this.charAt(1))&&(this.indentNext=this.indentValue),yield*this.parseBlockStart()}*parseBlockStart(){let[e,t]=this.peek(2);if(!t&&!this.atEnd)return this.setNext("block-start");if(("-"===e||"?"===e||":"===e)&&n(t)){let e=(yield*this.pushCount(1))+(yield*this.pushSpaces(!0));return this.indentNext=this.indentValue+1,this.indentValue+=e,yield*this.parseBlockStart()}return"doc"}*parseDocument(){yield*this.pushSpaces(!0);let e=this.getLine();if(null===e)return this.setNext("doc");let t=yield*this.pushIndicators();switch(e[t]){case"#":yield*this.pushCount(e.length-t);case void 0:return yield*this.pushNewline(),yield*this.parseLineStart();case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel=1,"flow";case"}":case"]":return yield*this.pushCount(1),"doc";case"*":return yield*this.pushUntil(a),"doc";case'"':case"'":return yield*this.parseQuotedScalar();case"|":case">":return t+=(yield*this.parseBlockScalarHeader()),t+=(yield*this.pushSpaces(!0)),yield*this.pushCount(e.length-t),yield*this.pushNewline(),yield*this.parseBlockScalar();default:return yield*this.parsePlainScalar()}}*parseFlowCollection(){let e,r,o=-1;do{e=yield*this.pushNewline(),e>0?(r=yield*this.pushSpaces(!1),this.indentValue=o=r):r=0,r+=(yield*this.pushSpaces(!0))}while(e+r>0);let i=this.getLine();if(null===i)return this.setNext("flow");if((-1!==o&&o<this.indentNext&&"#"!==i[0]||0===o&&(i.startsWith("---")||i.startsWith("..."))&&n(i[3]))&&(o!==this.indentNext-1||1!==this.flowLevel||"]"!==i[0]&&"}"!==i[0]))return this.flowLevel=0,yield t.FLOW_END,yield*this.parseLineStart();let s=0;for(;","===i[s];)s+=(yield*this.pushCount(1)),s+=(yield*this.pushSpaces(!0)),this.flowKey=!1;switch(s+=(yield*this.pushIndicators()),i[s]){case void 0:return"flow";case"#":return yield*this.pushCount(i.length-s),"flow";case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel+=1,"flow";case"}":case"]":return yield*this.pushCount(1),this.flowKey=!0,this.flowLevel-=1,this.flowLevel?"flow":"doc";case"*":return yield*this.pushUntil(a),"flow";case'"':case"'":return this.flowKey=!0,yield*this.parseQuotedScalar();case":":{let e=this.charAt(1);if(this.flowKey||n(e)||","===e)return this.flowKey=!1,yield*this.pushCount(1),yield*this.pushSpaces(!0),"flow"}default:return this.flowKey=!1,yield*this.parsePlainScalar()}}*parseQuotedScalar(){let e=this.charAt(0),t=this.buffer.indexOf(e,this.pos+1);if("'"===e)for(;-1!==t&&"'"===this.buffer[t+1];)t=this.buffer.indexOf("'",t+2);else for(;-1!==t;){let e=0;for(;"\\"===this.buffer[t-1-e];)e+=1;if(e%2==0)break;t=this.buffer.indexOf('"',t+1)}let n=this.buffer.substring(0,t),r=n.indexOf("\n",this.pos);if(-1!==r){for(;-1!==r;){let e=this.continueScalar(r+1);if(-1===e)break;r=n.indexOf("\n",e)}-1!==r&&(t=r-("\r"===n[r-1]?2:1))}if(-1===t){if(!this.atEnd)return this.setNext("quoted-scalar");t=this.buffer.length}return yield*this.pushToIndex(t+1,!1),this.flowLevel?"flow":"doc"}*parseBlockScalarHeader(){this.blockScalarIndent=-1,this.blockScalarKeep=!1;let e=this.pos;for(;;){let t=this.buffer[++e];if("+"===t)this.blockScalarKeep=!0;else if(t>"0"&&t<="9")this.blockScalarIndent=Number(t)-1;else if("-"!==t)break}return yield*this.pushUntil(e=>n(e)||"#"===e)}*parseBlockScalar(){let e,n=this.pos-1,r=0;e:for(let t=this.pos;e=this.buffer[t];++t)switch(e){case" ":r+=1;break;case"\n":n=t,r=0;break;case"\r":{let e=this.buffer[t+1];if(!e&&!this.atEnd)return this.setNext("block-scalar");if("\n"===e)break}default:break e}if(!e&&!this.atEnd)return this.setNext("block-scalar");if(r>=this.indentNext){-1===this.blockScalarIndent?this.indentNext=r:this.indentNext=this.blockScalarIndent+(0===this.indentNext?1:this.indentNext);do{let e=this.continueScalar(n+1);if(-1===e)break;n=this.buffer.indexOf("\n",e)}while(-1!==n);if(-1===n){if(!this.atEnd)return this.setNext("block-scalar");n=this.buffer.length}}let o=n+1;for(e=this.buffer[o];" "===e;)e=this.buffer[++o];if("\t"===e){for(;"\t"===e||" "===e||"\r"===e||"\n"===e;)e=this.buffer[++o];n=o-1}else if(!this.blockScalarKeep)for(;;){let e=n-1,t=this.buffer[e];"\r"===t&&(t=this.buffer[--e]);let o=e;for(;" "===t;)t=this.buffer[--e];if(!("\n"===t&&e>=this.pos&&e+1+r>o))break;n=e}return yield t.SCALAR,yield*this.pushToIndex(n+1,!0),yield*this.parseLineStart()}*parsePlainScalar(){let e,r=this.flowLevel>0,o=this.pos-1,s=this.pos-1;for(;e=this.buffer[++s];)if(":"===e){let e=this.buffer[s+1];if(n(e)||r&&i.has(e))break;o=s}else if(n(e)){let t=this.buffer[s+1];if("\r"===e&&("\n"===t?(s+=1,e="\n",t=this.buffer[s+1]):o=s),"#"===t||r&&i.has(t))break;if("\n"===e){let e=this.continueScalar(s+1);if(-1===e)break;s=Math.max(s,e-2)}}else{if(r&&i.has(e))break;o=s}return e||this.atEnd?(yield t.SCALAR,yield*this.pushToIndex(o+1,!0),r?"flow":"doc"):this.setNext("plain-scalar")}*pushCount(e){return e>0?(yield this.buffer.substr(this.pos,e),this.pos+=e,e):0}*pushToIndex(e,t){let n=this.buffer.slice(this.pos,e);return n?(yield n,this.pos+=n.length,n.length):(t&&(yield""),0)}*pushIndicators(){switch(this.charAt(0)){case"!":return(yield*this.pushTag())+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"&":return(yield*this.pushUntil(a))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"-":case"?":case":":{let e=this.flowLevel>0,t=this.charAt(1);if(n(t)||e&&i.has(t))return e?this.flowKey&&(this.flowKey=!1):this.indentNext=this.indentValue+1,(yield*this.pushCount(1))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators())}}return 0}*pushTag(){if("<"===this.charAt(1)){let e=this.pos+2,t=this.buffer[e];for(;!n(t)&&">"!==t;)t=this.buffer[++e];return yield*this.pushToIndex(">"===t?e+1:e,!1)}{let e=this.pos+1,t=this.buffer[e];for(;t;)if(o.has(t))t=this.buffer[++e];else{if("%"!==t||!r.has(this.buffer[e+1])||!r.has(this.buffer[e+2]))break;t=this.buffer[e+=3]}return yield*this.pushToIndex(e,!1)}}*pushNewline(){let e=this.buffer[this.pos];return"\n"===e?yield*this.pushCount(1):"\r"===e&&"\n"===this.charAt(1)?yield*this.pushCount(2):0}*pushSpaces(e){let t,n=this.pos-1;do{t=this.buffer[++n]}while(" "===t||e&&"\t"===t);let r=n-this.pos;return r>0&&(yield this.buffer.substr(this.pos,r),this.pos=n),r}*pushUntil(e){let t=this.pos,n=this.buffer[t];for(;!e(n);)n=this.buffer[++t];return yield*this.pushToIndex(t,!1)}}}),mn=d(e=>{e.LineCounter=class{constructor(){this.lineStarts=[],this.addNewLine=e=>this.lineStarts.push(e),this.linePos=e=>{let t=0,n=this.lineStarts.length;for(;t<n;){let r=t+n>>1;this.lineStarts[r]<e?t=r+1:n=r}return this.lineStarts[t]===e?{line:t+1,col:1}:0===t?{line:0,col:e}:{line:t,col:e-this.lineStarts[t-1]+1}}}}}),gn=d(e=>{var t=pn(),n=fn();function r(e,t){for(let n=0;n<e.length;++n)if(e[n].type===t)return!0;return!1}function o(e){for(let t=0;t<e.length;++t)switch(e[t].type){case"space":case"comment":case"newline":break;default:return t}return-1}function i(e){switch(null==e?void 0:e.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"flow-collection":return!0;default:return!1}}function s(e){var t;switch(e.type){case"document":return e.start;case"block-map":{let n=e.items[e.items.length-1];return null!=(t=n.sep)?t:n.start}case"block-seq":return e.items[e.items.length-1].start;default:return[]}}function a(e){var t;if(0===e.length)return[];let n=e.length;e:for(;--n>=0;)switch(e[n].type){case"doc-start":case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":case"newline":break e}for(;"space"===(null==(t=e[++n])?void 0:t.type););return e.splice(n,e.length)}function l(e){if("flow-seq-start"===e.start.type)for(let t of e.items)t.sep&&!t.value&&!r(t.start,"explicit-key-ind")&&!r(t.sep,"map-value-ind")&&(t.key&&(t.value=t.key),delete t.key,i(t.value)?t.value.end?Array.prototype.push.apply(t.value.end,t.sep):t.value.end=t.sep:Array.prototype.push.apply(t.start,t.sep),delete t.sep)}e.Parser=class{constructor(e){this.atNewLine=!0,this.atScalar=!1,this.indent=0,this.offset=0,this.onKeyLine=!1,this.stack=[],this.source="",this.type="",this.lexer=new n.Lexer,this.onNewLine=e}*parse(e,t=!1){this.onNewLine&&0===this.offset&&this.onNewLine(0);for(let n of this.lexer.lex(e,t))yield*this.next(n);t||(yield*this.end())}*next(e){if(this.source=e,process.env.LOG_TOKENS&&console.log("|",t.prettyToken(e)),this.atScalar)return this.atScalar=!1,yield*this.step(),void(this.offset+=e.length);let n=t.tokenType(e);if(n)if("scalar"===n)this.atNewLine=!1,this.atScalar=!0,this.type="scalar";else{switch(this.type=n,yield*this.step(),n){case"newline":this.atNewLine=!0,this.indent=0,this.onNewLine&&this.onNewLine(this.offset+e.length);break;case"space":this.atNewLine&&" "===e[0]&&(this.indent+=e.length);break;case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":this.atNewLine&&(this.indent+=e.length);break;case"doc-mode":case"flow-error-end":return;default:this.atNewLine=!1}this.offset+=e.length}else{let t=`Not a YAML token: ${e}`;yield*this.pop({type:"error",offset:this.offset,message:t,source:e}),this.offset+=e.length}}*end(){for(;this.stack.length>0;)yield*this.pop()}get sourceToken(){return{type:this.type,offset:this.offset,indent:this.indent,source:this.source}}*step(){let e=this.peek(1);if("doc-end"!==this.type||e&&"doc-end"===e.type){if(!e)return yield*this.stream();switch(e.type){case"document":return yield*this.document(e);case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return yield*this.scalar(e);case"block-scalar":return yield*this.blockScalar(e);case"block-map":return yield*this.blockMap(e);case"block-seq":return yield*this.blockSequence(e);case"flow-collection":return yield*this.flowCollection(e);case"doc-end":return yield*this.documentEnd(e)}yield*this.pop()}else{for(;this.stack.length>0;)yield*this.pop();this.stack.push({type:"doc-end",offset:this.offset,source:this.source})}}peek(e){return this.stack[this.stack.length-e]}*pop(e){let t=null!=e?e:this.stack.pop();if(t)if(0===this.stack.length)yield t;else{let e=this.peek(1);switch("block-scalar"===t.type?t.indent="indent"in e?e.indent:0:"flow-collection"===t.type&&"document"===e.type&&(t.indent=0),"flow-collection"===t.type&&l(t),e.type){case"document":e.value=t;break;case"block-scalar":e.props.push(t);break;case"block-map":{let n=e.items[e.items.length-1];if(n.value)return e.items.push({start:[],key:t,sep:[]}),void(this.onKeyLine=!0);if(!n.sep)return Object.assign(n,{key:t,sep:[]}),void(this.onKeyLine=!n.explicitKey);n.value=t;break}case"block-seq":{let n=e.items[e.items.length-1];n.value?e.items.push({start:[],value:t}):n.value=t;break}case"flow-collection":{let n=e.items[e.items.length-1];return void(!n||n.value?e.items.push({start:[],key:t,sep:[]}):n.sep?n.value=t:Object.assign(n,{key:t,sep:[]}))}default:yield*this.pop(),yield*this.pop(t)}if(!("document"!==e.type&&"block-map"!==e.type&&"block-seq"!==e.type||"block-map"!==t.type&&"block-seq"!==t.type)){let n=t.items[t.items.length-1];n&&!n.sep&&!n.value&&n.start.length>0&&-1===o(n.start)&&(0===t.indent||n.start.every(e=>"comment"!==e.type||e.indent<t.indent))&&("document"===e.type?e.end=n.start:e.items.push({start:n.start}),t.items.splice(-1,1))}}else yield{type:"error",offset:this.offset,source:"",message:"Tried to pop an empty stack"}}*stream(){switch(this.type){case"directive-line":return void(yield{type:"directive",offset:this.offset,source:this.source});case"byte-order-mark":case"space":case"comment":case"newline":return void(yield this.sourceToken);case"doc-mode":case"doc-start":{let e={type:"document",offset:this.offset,start:[]};return"doc-start"===this.type&&e.start.push(this.sourceToken),void this.stack.push(e)}}yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML stream`,source:this.source}}*document(e){if(e.value)return yield*this.lineEnd(e);switch(this.type){case"doc-start":return void(-1!==o(e.start)?(yield*this.pop(),yield*this.step()):e.start.push(this.sourceToken));case"anchor":case"tag":case"space":case"comment":case"newline":return void e.start.push(this.sourceToken)}let t=this.startBlockValue(e);t?this.stack.push(t):yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML document`,source:this.source}}*scalar(e){if("map-value-ind"===this.type){let t,n=a(s(this.peek(2)));e.end?(t=e.end,t.push(this.sourceToken),delete e.end):t=[this.sourceToken];let r={type:"block-map",offset:e.offset,indent:e.indent,items:[{start:n,key:e,sep:t}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=r}else yield*this.lineEnd(e)}*blockScalar(e){switch(this.type){case"space":case"comment":case"newline":return void e.props.push(this.sourceToken);case"scalar":if(e.source=this.source,this.atNewLine=!0,this.indent=0,this.onNewLine){let e=this.source.indexOf("\n")+1;for(;0!==e;)this.onNewLine(this.offset+e),e=this.source.indexOf("\n",e)+1}yield*this.pop();break;default:yield*this.pop(),yield*this.step()}}*blockMap(e){var t;let n=e.items[e.items.length-1];switch(this.type){case"newline":if(this.onKeyLine=!1,n.value){let t="end"in n.value?n.value.end:void 0,r=Array.isArray(t)?t[t.length-1]:void 0;"comment"===(null==r?void 0:r.type)?null==t||t.push(this.sourceToken):e.items.push({start:[this.sourceToken]})}else n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"space":case"comment":if(n.value)e.items.push({start:[this.sourceToken]});else if(n.sep)n.sep.push(this.sourceToken);else{if(this.atIndentedComment(n.start,e.indent)){let r=e.items[e.items.length-2],o=null==(t=null==r?void 0:r.value)?void 0:t.end;if(Array.isArray(o))return Array.prototype.push.apply(o,n.start),o.push(this.sourceToken),void e.items.pop()}n.start.push(this.sourceToken)}return}if(this.indent>=e.indent){let t=!this.onKeyLine&&this.indent===e.indent,o=t&&(n.sep||n.explicitKey)&&"seq-item-ind"!==this.type,s=[];if(o&&n.sep&&!n.value){let t=[];for(let r=0;r<n.sep.length;++r){let o=n.sep[r];switch(o.type){case"newline":t.push(r);break;case"space":break;case"comment":o.indent>e.indent&&(t.length=0);break;default:t.length=0}}t.length>=2&&(s=n.sep.splice(t[1]))}switch(this.type){case"anchor":case"tag":return void(o||n.value?(s.push(this.sourceToken),e.items.push({start:s}),this.onKeyLine=!0):n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken));case"explicit-key-ind":return n.sep||n.explicitKey?o||n.value?(s.push(this.sourceToken),e.items.push({start:s,explicitKey:!0})):this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken],explicitKey:!0}]}):(n.start.push(this.sourceToken),n.explicitKey=!0),void(this.onKeyLine=!0);case"map-value-ind":if(n.explicitKey)if(n.sep)if(n.value)e.items.push({start:[],key:null,sep:[this.sourceToken]});else if(r(n.sep,"map-value-ind"))this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:s,key:null,sep:[this.sourceToken]}]});else if(i(n.key)&&!r(n.sep,"newline")){let e=a(n.start),t=n.key,r=n.sep;r.push(this.sourceToken),delete n.key,delete n.sep,this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:e,key:t,sep:r}]})}else s.length>0?n.sep=n.sep.concat(s,this.sourceToken):n.sep.push(this.sourceToken);else if(r(n.start,"newline"))Object.assign(n,{key:null,sep:[this.sourceToken]});else{let e=a(n.start);this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:e,key:null,sep:[this.sourceToken]}]})}else n.sep?n.value||o?e.items.push({start:s,key:null,sep:[this.sourceToken]}):r(n.sep,"map-value-ind")?this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[],key:null,sep:[this.sourceToken]}]}):n.sep.push(this.sourceToken):Object.assign(n,{key:null,sep:[this.sourceToken]});return void(this.onKeyLine=!0);case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{let t=this.flowScalar(this.type);return void(o||n.value?(e.items.push({start:s,key:t,sep:[]}),this.onKeyLine=!0):n.sep?this.stack.push(t):(Object.assign(n,{key:t,sep:[]}),this.onKeyLine=!0))}default:{let n=this.startBlockValue(e);if(n)return t&&"block-seq"!==n.type&&e.items.push({start:s}),void this.stack.push(n)}}}yield*this.pop(),yield*this.step()}*blockSequence(e){var t;let n=e.items[e.items.length-1];switch(this.type){case"newline":if(n.value){let t="end"in n.value?n.value.end:void 0,r=Array.isArray(t)?t[t.length-1]:void 0;"comment"===(null==r?void 0:r.type)?null==t||t.push(this.sourceToken):e.items.push({start:[this.sourceToken]})}else n.start.push(this.sourceToken);return;case"space":case"comment":if(n.value)e.items.push({start:[this.sourceToken]});else{if(this.atIndentedComment(n.start,e.indent)){let r=e.items[e.items.length-2],o=null==(t=null==r?void 0:r.value)?void 0:t.end;if(Array.isArray(o))return Array.prototype.push.apply(o,n.start),o.push(this.sourceToken),void e.items.pop()}n.start.push(this.sourceToken)}return;case"anchor":case"tag":if(n.value||this.indent<=e.indent)break;return void n.start.push(this.sourceToken);case"seq-item-ind":if(this.indent!==e.indent)break;return void(n.value||r(n.start,"seq-item-ind")?e.items.push({start:[this.sourceToken]}):n.start.push(this.sourceToken))}if(this.indent>e.indent){let t=this.startBlockValue(e);if(t)return void this.stack.push(t)}yield*this.pop(),yield*this.step()}*flowCollection(e){let t=e.items[e.items.length-1];if("flow-error-end"===this.type){let e;do{yield*this.pop(),e=this.peek(1)}while(e&&"flow-collection"===e.type)}else if(0===e.end.length){switch(this.type){case"comma":case"explicit-key-ind":return void(!t||t.sep?e.items.push({start:[this.sourceToken]}):t.start.push(this.sourceToken));case"map-value-ind":return void(!t||t.value?e.items.push({start:[],key:null,sep:[this.sourceToken]}):t.sep?t.sep.push(this.sourceToken):Object.assign(t,{key:null,sep:[this.sourceToken]}));case"space":case"comment":case"newline":case"anchor":case"tag":return void(!t||t.value?e.items.push({start:[this.sourceToken]}):t.sep?t.sep.push(this.sourceToken):t.start.push(this.sourceToken));case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{let n=this.flowScalar(this.type);return void(!t||t.value?e.items.push({start:[],key:n,sep:[]}):t.sep?this.stack.push(n):Object.assign(t,{key:n,sep:[]}))}case"flow-map-end":case"flow-seq-end":return void e.end.push(this.sourceToken)}let n=this.startBlockValue(e);n?this.stack.push(n):(yield*this.pop(),yield*this.step())}else{let t=this.peek(2);if("block-map"===t.type&&("map-value-ind"===this.type&&t.indent===e.indent||"newline"===this.type&&!t.items[t.items.length-1].sep))yield*this.pop(),yield*this.step();else if("map-value-ind"===this.type&&"flow-collection"!==t.type){let n=a(s(t));l(e);let r=e.end.splice(1,e.end.length);r.push(this.sourceToken);let o={type:"block-map",offset:e.offset,indent:e.indent,items:[{start:n,key:e,sep:r}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=o}else yield*this.lineEnd(e)}}flowScalar(e){if(this.onNewLine){let e=this.source.indexOf("\n")+1;for(;0!==e;)this.onNewLine(this.offset+e),e=this.source.indexOf("\n",e)+1}return{type:e,offset:this.offset,indent:this.indent,source:this.source}}startBlockValue(e){switch(this.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return this.flowScalar(this.type);case"block-scalar-header":return{type:"block-scalar",offset:this.offset,indent:this.indent,props:[this.sourceToken],source:""};case"flow-map-start":case"flow-seq-start":return{type:"flow-collection",offset:this.offset,indent:this.indent,start:this.sourceToken,items:[],end:[]};case"seq-item-ind":return{type:"block-seq",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken]}]};case"explicit-key-ind":{this.onKeyLine=!0;let t=a(s(e));return t.push(this.sourceToken),{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:t,explicitKey:!0}]}}case"map-value-ind":{this.onKeyLine=!0;let t=a(s(e));return{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:t,key:null,sep:[this.sourceToken]}]}}}return null}atIndentedComment(e,t){return!("comment"!==this.type||this.indent<=t)&&e.every(e=>"newline"===e.type||"space"===e.type)}*documentEnd(e){"doc-mode"!==this.type&&(e.end?e.end.push(this.sourceToken):e.end=[this.sourceToken],"newline"===this.type&&(yield*this.pop()))}*lineEnd(e){switch(this.type){case"comma":case"doc-start":case"doc-end":case"flow-seq-end":case"flow-map-end":case"map-value-ind":yield*this.pop(),yield*this.step();break;case"newline":this.onKeyLine=!1;default:e.end?e.end.push(this.sourceToken):e.end=[this.sourceToken],"newline"===this.type&&(yield*this.pop())}}}}),bn=d(e=>{var t=cn(),n=Wt(),r=$t(),o=gt(),i=et(),s=mn(),a=gn();function l(e){let t=!1!==e.prettyErrors;return{lineCounter:e.lineCounter||t&&new s.LineCounter||null,prettyErrors:t}}function c(e,n={}){let{lineCounter:o,prettyErrors:i}=l(n),s=new a.Parser(null==o?void 0:o.addNewLine),c=new t.Composer(n),u=null;for(let t of c.compose(s.parse(e),!0,e.length))if(u){if("silent"!==u.options.logLevel){u.errors.push(new r.YAMLParseError(t.range.slice(0,2),"MULTIPLE_DOCS","Source contains multiple documents; please use YAML.parseAllDocuments()"));break}}else u=t;return i&&o&&(u.errors.forEach(r.prettifyError(e,o)),u.warnings.forEach(r.prettifyError(e,o))),u}e.parse=function(e,t,n){let r;"function"==typeof t?r=t:void 0===n&&t&&"object"==typeof t&&(n=t);let i=c(e,n);if(!i)return null;if(i.warnings.forEach(e=>o.warn(i.options.logLevel,e)),i.errors.length>0){if("silent"!==i.options.logLevel)throw i.errors[0];i.errors=[]}return i.toJS(Object.assign({reviver:r},n))},e.parseAllDocuments=function(e,n={}){let{lineCounter:o,prettyErrors:i}=l(n),s=new a.Parser(null==o?void 0:o.addNewLine),c=new t.Composer(n),u=Array.from(c.compose(s.parse(e)));if(i&&o)for(let t of u)t.errors.forEach(r.prettifyError(e,o)),t.warnings.forEach(r.prettifyError(e,o));return u.length>0?u:Object.assign([],{empty:!0},c.streamInfo())},e.parseDocument=c,e.stringify=function(e,t,r){var o;let s=null;if("function"==typeof t||Array.isArray(t)?s=t:void 0===r&&t&&(r=t),"string"==typeof r&&(r=r.length),"number"==typeof r){let e=Math.round(r);r=e<1?void 0:e>8?{indent:8}:{indent:e}}if(void 0===e){let{keepUndefined:e}=null!=(o=null!=r?r:t)?o:{};if(!e)return}return i.isDocument(e)&&!s?e.toString(r):new n.Document(e,s,r).toString(r)}}),wn=d(e=>{var t=cn(),n=Wt(),r=Qt(),o=$t(),i=at(),s=et(),a=yt(),l=lt(),c=At(),u=xt(),d=pn(),h=fn(),p=mn(),f=gn(),m=bn(),g=tt();e.Composer=t.Composer,e.Document=n.Document,e.Schema=r.Schema,e.YAMLError=o.YAMLError,e.YAMLParseError=o.YAMLParseError,e.YAMLWarning=o.YAMLWarning,e.Alias=i.Alias,e.isAlias=s.isAlias,e.isCollection=s.isCollection,e.isDocument=s.isDocument,e.isMap=s.isMap,e.isNode=s.isNode,e.isPair=s.isPair,e.isScalar=s.isScalar,e.isSeq=s.isSeq,e.Pair=a.Pair,e.Scalar=l.Scalar,e.YAMLMap=c.YAMLMap,e.YAMLSeq=u.YAMLSeq,e.CST=d,e.Lexer=h.Lexer,e.LineCounter=p.LineCounter,e.Parser=f.Parser,e.parse=m.parse,e.parseAllDocuments=m.parseAllDocuments,e.parseDocument=m.parseDocument,e.stringify=m.stringify,e.visit=g.visit,e.visitAsync=g.visitAsync}),yn=d((e,t)=>{var{Duplex:r}=n("stream");function o(e){e.emit("close")}function i(){!this.destroyed&&this._writableState.finished&&this.destroy()}function s(e){this.removeListener("error",s),this.destroy(),0===this.listenerCount("error")&&this.emit("error",e)}t.exports=function(e,t){let n=!0,a=new r({...t,autoDestroy:!1,emitClose:!1,objectMode:!1,writableObjectMode:!1});return e.on("message",function(t,n){let r=!n&&a._readableState.objectMode?t.toString():t;a.push(r)||e.pause()}),e.once("error",function(e){a.destroyed||(n=!1,a.destroy(e))}),e.once("close",function(){a.destroyed||a.push(null)}),a._destroy=function(t,r){if(e.readyState===e.CLOSED)return r(t),void process.nextTick(o,a);let i=!1;e.once("error",function(e){i=!0,r(e)}),e.once("close",function(){i||r(t),process.nextTick(o,a)}),n&&e.terminate()},a._final=function(t){e.readyState!==e.CONNECTING?null!==e._socket&&(e._socket._writableState.finished?(t(),a._readableState.endEmitted&&a.destroy()):(e._socket.once("finish",function(){t()}),e.close())):e.once("open",function(){a._final(t)})},a._read=function(){e.isPaused&&e.resume()},a._write=function(t,n,r){e.readyState!==e.CONNECTING?e.send(t,r):e.once("open",function(){a._write(t,n,r)})},a.on("end",i),a.on("error",s),a}}),vn=d((e,t)=>{t.exports={BINARY_TYPES:["nodebuffer","arraybuffer","fragments"],EMPTY_BUFFER:Buffer.alloc(0),GUID:"258EAFA5-E914-47DA-95CA-C5AB0DC85B11",kForOnEventAttribute:Symbol("kIsForOnEventAttribute"),kListener:Symbol("kListener"),kStatusCode:Symbol("status-code"),kWebSocket:Symbol("websocket"),NOOP:()=>{}}}),An=d((e,t)=>{var{EMPTY_BUFFER:r}=vn(),o=Buffer[Symbol.species];function i(e,t,n,r,o){for(let i=0;i<o;i++)n[r+i]=e[i]^t[3&i]}function s(e,t){for(let n=0;n<e.length;n++)e[n]^=t[3&n]}if(t.exports={concat:function(e,t){if(0===e.length)return r;if(1===e.length)return e[0];let n=Buffer.allocUnsafe(t),i=0;for(let t=0;t<e.length;t++){let r=e[t];n.set(r,i),i+=r.length}return i<t?new o(n.buffer,n.byteOffset,i):n},mask:i,toArrayBuffer:function(e){return e.length===e.buffer.byteLength?e.buffer:e.buffer.slice(e.byteOffset,e.byteOffset+e.length)},toBuffer:function e(t){if(e.readOnly=!0,Buffer.isBuffer(t))return t;let n;return t instanceof ArrayBuffer?n=new o(t):ArrayBuffer.isView(t)?n=new o(t.buffer,t.byteOffset,t.byteLength):(n=Buffer.from(t),e.readOnly=!1),n},unmask:s},!process.env.WS_NO_BUFFER_UTIL)try{let e=n("./node_modules/bufferutil/index.js");t.exports.mask=function(t,n,r,o,s){s<48?i(t,n,r,o,s):e.mask(t,n,r,o,s)},t.exports.unmask=function(t,n){t.length<32?s(t,n):e.unmask(t,n)}}catch{}}),_n=d((e,t)=>{var n=Symbol("kDone"),r=Symbol("kRun");t.exports=class{constructor(e){this[n]=()=>{this.pending--,this[r]()},this.concurrency=e||1/0,this.jobs=[],this.pending=0}add(e){this.jobs.push(e),this[r]()}[r](){if(this.pending!==this.concurrency&&this.jobs.length){let e=this.jobs.shift();this.pending++,e(this[n])}}}}),xn=d((e,t)=>{var r,o=n("zlib"),i=An(),s=_n(),{kStatusCode:a}=vn(),l=Buffer[Symbol.species],c=Buffer.from([0,0,255,255]),u=Symbol("permessage-deflate"),d=Symbol("total-length"),h=Symbol("callback"),p=Symbol("buffers"),f=Symbol("error");function m(e){this[p].push(e),this[d]+=e.length}function g(e){this[d]+=e.length,this[u]._maxPayload<1||this[d]<=this[u]._maxPayload?this[p].push(e):(this[f]=new RangeError("Max payload size exceeded"),this[f].code="WS_ERR_UNSUPPORTED_MESSAGE_LENGTH",this[f][a]=1009,this.removeListener("data",g),this.reset())}function b(e){this[u]._inflate=null,e[a]=1007,this[h](e)}t.exports=class{constructor(e,t,n){if(this._maxPayload=0|n,this._options=e||{},this._threshold=void 0!==this._options.threshold?this._options.threshold:1024,this._isServer=!!t,this._deflate=null,this._inflate=null,this.params=null,!r){let e=void 0!==this._options.concurrencyLimit?this._options.concurrencyLimit:10;r=new s(e)}}static get extensionName(){return"permessage-deflate"}offer(){let e={};return this._options.serverNoContextTakeover&&(e.server_no_context_takeover=!0),this._options.clientNoContextTakeover&&(e.client_no_context_takeover=!0),this._options.serverMaxWindowBits&&(e.server_max_window_bits=this._options.serverMaxWindowBits),this._options.clientMaxWindowBits?e.client_max_window_bits=this._options.clientMaxWindowBits:null==this._options.clientMaxWindowBits&&(e.client_max_window_bits=!0),e}accept(e){return e=this.normalizeParams(e),this.params=this._isServer?this.acceptAsServer(e):this.acceptAsClient(e),this.params}cleanup(){if(this._inflate&&(this._inflate.close(),this._inflate=null),this._deflate){let e=this._deflate[h];this._deflate.close(),this._deflate=null,e&&e(new Error("The deflate stream was closed while data was being processed"))}}acceptAsServer(e){let t=this._options,n=e.find(e=>!(!1===t.serverNoContextTakeover&&e.server_no_context_takeover||e.server_max_window_bits&&(!1===t.serverMaxWindowBits||"number"==typeof t.serverMaxWindowBits&&t.serverMaxWindowBits>e.server_max_window_bits)||"number"==typeof t.clientMaxWindowBits&&!e.client_max_window_bits));if(!n)throw new Error("None of the extension offers can be accepted");return t.serverNoContextTakeover&&(n.server_no_context_takeover=!0),t.clientNoContextTakeover&&(n.client_no_context_takeover=!0),"number"==typeof t.serverMaxWindowBits&&(n.server_max_window_bits=t.serverMaxWindowBits),"number"==typeof t.clientMaxWindowBits?n.client_max_window_bits=t.clientMaxWindowBits:(!0===n.client_max_window_bits||!1===t.clientMaxWindowBits)&&delete n.client_max_window_bits,n}acceptAsClient(e){let t=e[0];if(!1===this._options.clientNoContextTakeover&&t.client_no_context_takeover)throw new Error('Unexpected parameter "client_no_context_takeover"');if(t.client_max_window_bits){if(!1===this._options.clientMaxWindowBits||"number"==typeof this._options.clientMaxWindowBits&&t.client_max_window_bits>this._options.clientMaxWindowBits)throw new Error('Unexpected or invalid parameter "client_max_window_bits"')}else"number"==typeof this._options.clientMaxWindowBits&&(t.client_max_window_bits=this._options.clientMaxWindowBits);return t}normalizeParams(e){return e.forEach(e=>{Object.keys(e).forEach(t=>{let n=e[t];if(n.length>1)throw new Error(`Parameter "${t}" must have only a single value`);if(n=n[0],"client_max_window_bits"===t){if(!0!==n){let e=+n;if(!Number.isInteger(e)||e<8||e>15)throw new TypeError(`Invalid value for parameter "${t}": ${n}`);n=e}else if(!this._isServer)throw new TypeError(`Invalid value for parameter "${t}": ${n}`)}else if("server_max_window_bits"===t){let e=+n;if(!Number.isInteger(e)||e<8||e>15)throw new TypeError(`Invalid value for parameter "${t}": ${n}`);n=e}else{if("client_no_context_takeover"!==t&&"server_no_context_takeover"!==t)throw new Error(`Unknown parameter "${t}"`);if(!0!==n)throw new TypeError(`Invalid value for parameter "${t}": ${n}`)}e[t]=n})}),e}decompress(e,t,n){r.add(r=>{this._decompress(e,t,(e,t)=>{r(),n(e,t)})})}compress(e,t,n){r.add(r=>{this._compress(e,t,(e,t)=>{r(),n(e,t)})})}_decompress(e,t,n){let r=this._isServer?"client":"server";if(!this._inflate){let e=`${r}_max_window_bits`,t="number"!=typeof this.params[e]?o.Z_DEFAULT_WINDOWBITS:this.params[e];this._inflate=o.createInflateRaw({...this._options.zlibInflateOptions,windowBits:t}),this._inflate[u]=this,this._inflate[d]=0,this._inflate[p]=[],this._inflate.on("error",b),this._inflate.on("data",g)}this._inflate[h]=n,this._inflate.write(e),t&&this._inflate.write(c),this._inflate.flush(()=>{let e=this._inflate[f];if(e)return this._inflate.close(),this._inflate=null,void n(e);let o=i.concat(this._inflate[p],this._inflate[d]);this._inflate._readableState.endEmitted?(this._inflate.close(),this._inflate=null):(this._inflate[d]=0,this._inflate[p]=[],t&&this.params[`${r}_no_context_takeover`]&&this._inflate.reset()),n(null,o)})}_compress(e,t,n){let r=this._isServer?"server":"client";if(!this._deflate){let e=`${r}_max_window_bits`,t="number"!=typeof this.params[e]?o.Z_DEFAULT_WINDOWBITS:this.params[e];this._deflate=o.createDeflateRaw({...this._options.zlibDeflateOptions,windowBits:t}),this._deflate[d]=0,this._deflate[p]=[],this._deflate.on("data",m)}this._deflate[h]=n,this._deflate.write(e),this._deflate.flush(o.Z_SYNC_FLUSH,()=>{if(!this._deflate)return;let e=i.concat(this._deflate[p],this._deflate[d]);t&&(e=new l(e.buffer,e.byteOffset,e.length-4)),this._deflate[h]=null,this._deflate[d]=0,this._deflate[p]=[],t&&this.params[`${r}_no_context_takeover`]&&this._deflate.reset(),n(null,e)})}}}),Sn=d((e,t)=>{var{isUtf8:r}=n("buffer");function o(e){let t=e.length,n=0;for(;n<t;)if(128&e[n])if(192==(224&e[n])){if(n+1===t||128!=(192&e[n+1])||192==(254&e[n]))return!1;n+=2}else if(224==(240&e[n])){if(n+2>=t||128!=(192&e[n+1])||128!=(192&e[n+2])||224===e[n]&&128==(224&e[n+1])||237===e[n]&&160==(224&e[n+1]))return!1;n+=3}else{if(240!=(248&e[n]))return!1;if(n+3>=t||128!=(192&e[n+1])||128!=(192&e[n+2])||128!=(192&e[n+3])||240===e[n]&&128==(240&e[n+1])||244===e[n]&&e[n+1]>143||e[n]>244)return!1;n+=4}else n++;return!0}if(t.exports={isValidStatusCode:function(e){return e>=1e3&&e<=1014&&1004!==e&&1005!==e&&1006!==e||e>=3e3&&e<=4999},isValidUTF8:o,tokenChars:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,1,1,1,0,0,1,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,0]},r)t.exports.isValidUTF8=function(e){return e.length<24?o(e):r(e)};else if(!process.env.WS_NO_UTF_8_VALIDATE)try{let e=n("./node_modules/utf-8-validate/index.js");t.exports.isValidUTF8=function(t){return t.length<32?o(t):e(t)}}catch{}}),En=d((e,t)=>{var{Writable:r}=n("stream"),o=xn(),{BINARY_TYPES:i,EMPTY_BUFFER:s,kStatusCode:a,kWebSocket:l}=vn(),{concat:c,toArrayBuffer:u,unmask:d}=An(),{isValidStatusCode:h,isValidUTF8:p}=Sn(),f=Buffer[Symbol.species];t.exports=class extends r{constructor(e={}){super(),this._allowSynchronousEvents=void 0===e.allowSynchronousEvents||e.allowSynchronousEvents,this._binaryType=e.binaryType||i[0],this._extensions=e.extensions||{},this._isServer=!!e.isServer,this._maxPayload=0|e.maxPayload,this._skipUTF8Validation=!!e.skipUTF8Validation,this[l]=void 0,this._bufferedBytes=0,this._buffers=[],this._compressed=!1,this._payloadLength=0,this._mask=void 0,this._fragmented=0,this._masked=!1,this._fin=!1,this._opcode=0,this._totalPayloadLength=0,this._messageLength=0,this._fragments=[],this._errored=!1,this._loop=!1,this._state=0}_write(e,t,n){if(8===this._opcode&&0==this._state)return n();this._bufferedBytes+=e.length,this._buffers.push(e),this.startLoop(n)}consume(e){if(this._bufferedBytes-=e,e===this._buffers[0].length)return this._buffers.shift();if(e<this._buffers[0].length){let t=this._buffers[0];return this._buffers[0]=new f(t.buffer,t.byteOffset+e,t.length-e),new f(t.buffer,t.byteOffset,e)}let t=Buffer.allocUnsafe(e);do{let n=this._buffers[0],r=t.length-e;e>=n.length?t.set(this._buffers.shift(),r):(t.set(new Uint8Array(n.buffer,n.byteOffset,e),r),this._buffers[0]=new f(n.buffer,n.byteOffset+e,n.length-e)),e-=n.length}while(e>0);return t}startLoop(e){this._loop=!0;do{switch(this._state){case 0:this.getInfo(e);break;case 1:this.getPayloadLength16(e);break;case 2:this.getPayloadLength64(e);break;case 3:this.getMask();break;case 4:this.getData(e);break;case 5:case 6:return void(this._loop=!1)}}while(this._loop);this._errored||e()}getInfo(e){if(this._bufferedBytes<2)return void(this._loop=!1);let t=this.consume(2);if(48&t[0])return void e(this.createError(RangeError,"RSV2 and RSV3 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_2_3"));let n=!(64&~t[0]);if(!n||this._extensions[o.extensionName]){if(this._fin=!(128&~t[0]),this._opcode=15&t[0],this._payloadLength=127&t[1],0===this._opcode){if(n)return void e(this.createError(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1"));if(!this._fragmented)return void e(this.createError(RangeError,"invalid opcode 0",!0,1002,"WS_ERR_INVALID_OPCODE"));this._opcode=this._fragmented}else if(1===this._opcode||2===this._opcode){if(this._fragmented)return void e(this.createError(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE"));this._compressed=n}else{if(!(this._opcode>7&&this._opcode<11))return void e(this.createError(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE"));if(!this._fin)return void e(this.createError(RangeError,"FIN must be set",!0,1002,"WS_ERR_EXPECTED_FIN"));if(n)return void e(this.createError(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1"));if(this._payloadLength>125||8===this._opcode&&1===this._payloadLength)return void e(this.createError(RangeError,`invalid payload length ${this._payloadLength}`,!0,1002,"WS_ERR_INVALID_CONTROL_PAYLOAD_LENGTH"))}if(!this._fin&&!this._fragmented&&(this._fragmented=this._opcode),this._masked=!(128&~t[1]),this._isServer){if(!this._masked)return void e(this.createError(RangeError,"MASK must be set",!0,1002,"WS_ERR_EXPECTED_MASK"))}else if(this._masked)return void e(this.createError(RangeError,"MASK must be clear",!0,1002,"WS_ERR_UNEXPECTED_MASK"));126===this._payloadLength?this._state=1:127===this._payloadLength?this._state=2:this.haveLength(e)}else e(this.createError(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1"))}getPayloadLength16(e){this._bufferedBytes<2?this._loop=!1:(this._payloadLength=this.consume(2).readUInt16BE(0),this.haveLength(e))}getPayloadLength64(e){if(this._bufferedBytes<8)return void(this._loop=!1);let t=this.consume(8),n=t.readUInt32BE(0);n>Math.pow(2,21)-1?e(this.createError(RangeError,"Unsupported WebSocket frame: payload length > 2^53 - 1",!1,1009,"WS_ERR_UNSUPPORTED_DATA_PAYLOAD_LENGTH")):(this._payloadLength=n*Math.pow(2,32)+t.readUInt32BE(4),this.haveLength(e))}haveLength(e){this._payloadLength&&this._opcode<8&&(this._totalPayloadLength+=this._payloadLength,this._totalPayloadLength>this._maxPayload&&this._maxPayload>0)?e(this.createError(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH")):this._masked?this._state=3:this._state=4}getMask(){this._bufferedBytes<4?this._loop=!1:(this._mask=this.consume(4),this._state=4)}getData(e){let t=s;if(this._payloadLength){if(this._bufferedBytes<this._payloadLength)return void(this._loop=!1);t=this.consume(this._payloadLength),this._masked&&0!==(this._mask[0]|this._mask[1]|this._mask[2]|this._mask[3])&&d(t,this._mask)}if(!(this._opcode>7))return this._compressed?(this._state=5,void this.decompress(t,e)):(t.length&&(this._messageLength=this._totalPayloadLength,this._fragments.push(t)),void this.dataMessage(e));this.controlMessage(t,e)}decompress(e,t){this._extensions[o.extensionName].decompress(e,this._fin,(e,n)=>{if(e)return t(e);if(n.length){if(this._messageLength+=n.length,this._messageLength>this._maxPayload&&this._maxPayload>0){let e=this.createError(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH");return void t(e)}this._fragments.push(n)}this.dataMessage(t),0===this._state&&this.startLoop(t)})}dataMessage(e){if(!this._fin)return void(this._state=0);let t=this._messageLength,n=this._fragments;if(this._totalPayloadLength=0,this._messageLength=0,this._fragmented=0,this._fragments=[],2===this._opcode){let r;r="nodebuffer"===this._binaryType?c(n,t):"arraybuffer"===this._binaryType?u(c(n,t)):n,this._allowSynchronousEvents?(this.emit("message",r,!0),this._state=0):(this._state=6,setImmediate(()=>{this.emit("message",r,!0),this._state=0,this.startLoop(e)}))}else{let r=c(n,t);if(!this._skipUTF8Validation&&!p(r)){let t=this.createError(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8");return void e(t)}5===this._state||this._allowSynchronousEvents?(this.emit("message",r,!1),this._state=0):(this._state=6,setImmediate(()=>{this.emit("message",r,!1),this._state=0,this.startLoop(e)}))}}controlMessage(e,t){if(8!==this._opcode)this._allowSynchronousEvents?(this.emit(9===this._opcode?"ping":"pong",e),this._state=0):(this._state=6,setImmediate(()=>{this.emit(9===this._opcode?"ping":"pong",e),this._state=0,this.startLoop(t)}));else{if(0===e.length)this._loop=!1,this.emit("conclude",1005,s),this.end();else{let n=e.readUInt16BE(0);if(!h(n)){let e=this.createError(RangeError,`invalid status code ${n}`,!0,1002,"WS_ERR_INVALID_CLOSE_CODE");return void t(e)}let r=new f(e.buffer,e.byteOffset+2,e.length-2);if(!this._skipUTF8Validation&&!p(r)){let e=this.createError(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8");return void t(e)}this._loop=!1,this.emit("conclude",n,r),this.end()}this._state=0}}createError(e,t,n,r,o){this._loop=!1,this._errored=!0;let i=new e(n?`Invalid WebSocket frame: ${t}`:t);return Error.captureStackTrace(i,this.createError),i.code=o,i[a]=r,i}}}),Cn=d((e,t)=>{var r,{Duplex:o}=n("stream"),{randomFillSync:i}=n("crypto"),s=xn(),{EMPTY_BUFFER:a}=vn(),{isValidStatusCode:l}=Sn(),{mask:c,toBuffer:u}=An(),d=Symbol("kByteLength"),h=Buffer.alloc(4),p=8192,f=p;t.exports=class e{constructor(e,t,n){this._extensions=t||{},n&&(this._generateMask=n,this._maskBuffer=Buffer.alloc(4)),this._socket=e,this._firstFragment=!0,this._compress=!1,this._bufferedBytes=0,this._deflating=!1,this._queue=[]}static frame(e,t){let n,o,s=!1,a=2,l=!1;t.mask&&(n=t.maskBuffer||h,t.generateMask?t.generateMask(n):(f===p&&(void 0===r&&(r=Buffer.alloc(p)),i(r,0,p),f=0),n[0]=r[f++],n[1]=r[f++],n[2]=r[f++],n[3]=r[f++]),l=0===(n[0]|n[1]|n[2]|n[3]),a=6),"string"==typeof e?o=t.mask&&!l||void 0===t[d]?(e=Buffer.from(e)).length:t[d]:(o=e.length,s=t.mask&&t.readOnly&&!l);let u=o;o>=65536?(a+=8,u=127):o>125&&(a+=2,u=126);let m=Buffer.allocUnsafe(s?o+a:a);return m[0]=t.fin?128|t.opcode:t.opcode,t.rsv1&&(m[0]|=64),m[1]=u,126===u?m.writeUInt16BE(o,2):127===u&&(m[2]=m[3]=0,m.writeUIntBE(o,4,6)),t.mask?(m[1]|=128,m[a-4]=n[0],m[a-3]=n[1],m[a-2]=n[2],m[a-1]=n[3],l?[m,e]:s?(c(e,n,m,a,o),[m]):(c(e,n,e,0,o),[m,e])):[m,e]}close(t,n,r,o){let i;if(void 0===t)i=a;else{if("number"!=typeof t||!l(t))throw new TypeError("First argument must be a valid error code number");if(void 0!==n&&n.length){let e=Buffer.byteLength(n);if(e>123)throw new RangeError("The message must not be greater than 123 bytes");i=Buffer.allocUnsafe(2+e),i.writeUInt16BE(t,0),"string"==typeof n?i.write(n,2):i.set(n,2)}else i=Buffer.allocUnsafe(2),i.writeUInt16BE(t,0)}let s={[d]:i.length,fin:!0,generateMask:this._generateMask,mask:r,maskBuffer:this._maskBuffer,opcode:8,readOnly:!1,rsv1:!1};this._deflating?this.enqueue([this.dispatch,i,!1,s,o]):this.sendFrame(e.frame(i,s),o)}ping(t,n,r){let o,i;if("string"==typeof t?(o=Buffer.byteLength(t),i=!1):(o=(t=u(t)).length,i=u.readOnly),o>125)throw new RangeError("The data size must not be greater than 125 bytes");let s={[d]:o,fin:!0,generateMask:this._generateMask,mask:n,maskBuffer:this._maskBuffer,opcode:9,readOnly:i,rsv1:!1};this._deflating?this.enqueue([this.dispatch,t,!1,s,r]):this.sendFrame(e.frame(t,s),r)}pong(t,n,r){let o,i;if("string"==typeof t?(o=Buffer.byteLength(t),i=!1):(o=(t=u(t)).length,i=u.readOnly),o>125)throw new RangeError("The data size must not be greater than 125 bytes");let s={[d]:o,fin:!0,generateMask:this._generateMask,mask:n,maskBuffer:this._maskBuffer,opcode:10,readOnly:i,rsv1:!1};this._deflating?this.enqueue([this.dispatch,t,!1,s,r]):this.sendFrame(e.frame(t,s),r)}send(t,n,r){let o,i,a=this._extensions[s.extensionName],l=n.binary?2:1,c=n.compress;if("string"==typeof t?(o=Buffer.byteLength(t),i=!1):(o=(t=u(t)).length,i=u.readOnly),this._firstFragment?(this._firstFragment=!1,c&&a&&a.params[a._isServer?"server_no_context_takeover":"client_no_context_takeover"]&&(c=o>=a._threshold),this._compress=c):(c=!1,l=0),n.fin&&(this._firstFragment=!0),a){let e={[d]:o,fin:n.fin,generateMask:this._generateMask,mask:n.mask,maskBuffer:this._maskBuffer,opcode:l,readOnly:i,rsv1:c};this._deflating?this.enqueue([this.dispatch,t,this._compress,e,r]):this.dispatch(t,this._compress,e,r)}else this.sendFrame(e.frame(t,{[d]:o,fin:n.fin,generateMask:this._generateMask,mask:n.mask,maskBuffer:this._maskBuffer,opcode:l,readOnly:i,rsv1:!1}),r)}dispatch(t,n,r,o){if(!n)return void this.sendFrame(e.frame(t,r),o);let i=this._extensions[s.extensionName];this._bufferedBytes+=r[d],this._deflating=!0,i.compress(t,r.fin,(t,n)=>{if(this._socket.destroyed){let e=new Error("The socket was closed while data was being compressed");"function"==typeof o&&o(e);for(let t=0;t<this._queue.length;t++){let n=this._queue[t],r=n[n.length-1];"function"==typeof r&&r(e)}return}this._bufferedBytes-=r[d],this._deflating=!1,r.readOnly=!1,this.sendFrame(e.frame(n,r),o),this.dequeue()})}dequeue(){for(;!this._deflating&&this._queue.length;){let e=this._queue.shift();this._bufferedBytes-=e[3][d],Reflect.apply(e[0],this,e.slice(1))}}enqueue(e){this._bufferedBytes+=e[3][d],this._queue.push(e)}sendFrame(e,t){2===e.length?(this._socket.cork(),this._socket.write(e[0]),this._socket.write(e[1],t),this._socket.uncork()):this._socket.write(e[0],t)}}}),kn=d((e,t)=>{var{kForOnEventAttribute:n,kListener:r}=vn(),o=Symbol("kCode"),i=Symbol("kData"),s=Symbol("kError"),a=Symbol("kMessage"),l=Symbol("kReason"),c=Symbol("kTarget"),u=Symbol("kType"),d=Symbol("kWasClean"),h=class{constructor(e){this[c]=null,this[u]=e}get target(){return this[c]}get type(){return this[u]}};Object.defineProperty(h.prototype,"target",{enumerable:!0}),Object.defineProperty(h.prototype,"type",{enumerable:!0});var p=class extends h{constructor(e,t={}){super(e),this[o]=void 0===t.code?0:t.code,this[l]=void 0===t.reason?"":t.reason,this[d]=void 0!==t.wasClean&&t.wasClean}get code(){return this[o]}get reason(){return this[l]}get wasClean(){return this[d]}};Object.defineProperty(p.prototype,"code",{enumerable:!0}),Object.defineProperty(p.prototype,"reason",{enumerable:!0}),Object.defineProperty(p.prototype,"wasClean",{enumerable:!0});var f=class extends h{constructor(e,t={}){super(e),this[s]=void 0===t.error?null:t.error,this[a]=void 0===t.message?"":t.message}get error(){return this[s]}get message(){return this[a]}};Object.defineProperty(f.prototype,"error",{enumerable:!0}),Object.defineProperty(f.prototype,"message",{enumerable:!0});var m=class extends h{constructor(e,t={}){super(e),this[i]=void 0===t.data?null:t.data}get data(){return this[i]}};Object.defineProperty(m.prototype,"data",{enumerable:!0});var g={addEventListener(e,t,o={}){for(let i of this.listeners(e))if(!o[n]&&i[r]===t&&!i[n])return;let i;if("message"===e)i=function(e,n){let r=new m("message",{data:n?e:e.toString()});r[c]=this,b(t,this,r)};else if("close"===e)i=function(e,n){let r=new p("close",{code:e,reason:n.toString(),wasClean:this._closeFrameReceived&&this._closeFrameSent});r[c]=this,b(t,this,r)};else if("error"===e)i=function(e){let n=new f("error",{error:e,message:e.message});n[c]=this,b(t,this,n)};else{if("open"!==e)return;i=function(){let e=new h("open");e[c]=this,b(t,this,e)}}i[n]=!!o[n],i[r]=t,o.once?this.once(e,i):this.on(e,i)},removeEventListener(e,t){for(let o of this.listeners(e))if(o[r]===t&&!o[n]){this.removeListener(e,o);break}}};function b(e,t,n){"object"==typeof e&&e.handleEvent?e.handleEvent.call(e,n):e.call(t,n)}t.exports={CloseEvent:p,ErrorEvent:f,Event:h,EventTarget:g,MessageEvent:m}}),On=d((e,t)=>{var{tokenChars:n}=Sn();function r(e,t,n){void 0===e[t]?e[t]=[n]:e[t].push(n)}t.exports={format:function(e){return Object.keys(e).map(t=>{let n=e[t];return Array.isArray(n)||(n=[n]),n.map(e=>[t].concat(Object.keys(e).map(t=>{let n=e[t];return Array.isArray(n)||(n=[n]),n.map(e=>!0===e?t:`${t}=${e}`).join("; ")})).join("; ")).join(", ")}).join(", ")},parse:function(e){let t,o,i=Object.create(null),s=Object.create(null),a=!1,l=!1,c=!1,u=-1,d=-1,h=-1,p=0;for(;p<e.length;p++)if(d=e.charCodeAt(p),void 0===t)if(-1===h&&1===n[d])-1===u&&(u=p);else if(0===p||32!==d&&9!==d){if(59!==d&&44!==d)throw new SyntaxError(`Unexpected character at index ${p}`);{if(-1===u)throw new SyntaxError(`Unexpected character at index ${p}`);-1===h&&(h=p);let n=e.slice(u,h);44===d?(r(i,n,s),s=Object.create(null)):t=n,u=h=-1}}else-1===h&&-1!==u&&(h=p);else if(void 0===o)if(-1===h&&1===n[d])-1===u&&(u=p);else if(32===d||9===d)-1===h&&-1!==u&&(h=p);else if(59===d||44===d){if(-1===u)throw new SyntaxError(`Unexpected character at index ${p}`);-1===h&&(h=p),r(s,e.slice(u,h),!0),44===d&&(r(i,t,s),s=Object.create(null),t=void 0),u=h=-1}else{if(61!==d||-1===u||-1!==h)throw new SyntaxError(`Unexpected character at index ${p}`);o=e.slice(u,p),u=h=-1}else if(l){if(1!==n[d])throw new SyntaxError(`Unexpected character at index ${p}`);-1===u?u=p:a||(a=!0),l=!1}else if(c)if(1===n[d])-1===u&&(u=p);else if(34===d&&-1!==u)c=!1,h=p;else{if(92!==d)throw new SyntaxError(`Unexpected character at index ${p}`);l=!0}else if(34===d&&61===e.charCodeAt(p-1))c=!0;else if(-1===h&&1===n[d])-1===u&&(u=p);else if(-1===u||32!==d&&9!==d){if(59!==d&&44!==d)throw new SyntaxError(`Unexpected character at index ${p}`);{if(-1===u)throw new SyntaxError(`Unexpected character at index ${p}`);-1===h&&(h=p);let n=e.slice(u,h);a&&(n=n.replace(/\\/g,""),a=!1),r(s,o,n),44===d&&(r(i,t,s),s=Object.create(null),t=void 0),o=void 0,u=h=-1}}else-1===h&&(h=p);if(-1===u||c||32===d||9===d)throw new SyntaxError("Unexpected end of input");-1===h&&(h=p);let f=e.slice(u,h);return void 0===t?r(i,f,s):(void 0===o?r(s,f,!0):r(s,o,a?f.replace(/\\/g,""):f),r(i,t,s)),i}}}),Tn=d((e,t)=>{var r=n("events"),o=n("https"),i=n("http"),s=n("net"),a=n("tls"),{randomBytes:l,createHash:c}=n("crypto"),{Duplex:u,Readable:d}=n("stream"),{URL:h}=n("url"),p=xn(),f=En(),m=Cn(),{BINARY_TYPES:g,EMPTY_BUFFER:b,GUID:w,kForOnEventAttribute:y,kListener:v,kStatusCode:A,kWebSocket:_,NOOP:x}=vn(),{EventTarget:{addEventListener:S,removeEventListener:E}}=kn(),{format:C,parse:k}=On(),{toBuffer:O}=An(),T=Symbol("kAborted"),I=[8,13],B=["CONNECTING","OPEN","CLOSING","CLOSED"],M=/^[!#$%&'*+\-.0-9A-Z^_`|a-z~]+$/,P=class e extends r{constructor(t,n,r){super(),this._binaryType=g[0],this._closeCode=1006,this._closeFrameReceived=!1,this._closeFrameSent=!1,this._closeMessage=b,this._closeTimer=null,this._extensions={},this._paused=!1,this._protocol="",this._readyState=e.CONNECTING,this._receiver=null,this._sender=null,this._socket=null,null!==t?(this._bufferedAmount=0,this._isServer=!1,this._redirects=0,void 0===n?n=[]:Array.isArray(n)||("object"==typeof n&&null!==n?(r=n,n=[]):n=[n]),j(this,t,n,r)):(this._autoPong=r.autoPong,this._isServer=!0)}get binaryType(){return this._binaryType}set binaryType(e){g.includes(e)&&(this._binaryType=e,this._receiver&&(this._receiver._binaryType=e))}get bufferedAmount(){return this._socket?this._socket._writableState.length+this._sender._bufferedBytes:this._bufferedAmount}get extensions(){return Object.keys(this._extensions).join()}get isPaused(){return this._paused}get onclose(){return null}get onerror(){return null}get onopen(){return null}get onmessage(){return null}get protocol(){return this._protocol}get readyState(){return this._readyState}get url(){return this._url}setSocket(t,n,r){let o=new f({allowSynchronousEvents:r.allowSynchronousEvents,binaryType:this.binaryType,extensions:this._extensions,isServer:this._isServer,maxPayload:r.maxPayload,skipUTF8Validation:r.skipUTF8Validation});this._sender=new m(t,this._extensions,r.generateMask),this._receiver=o,this._socket=t,o[_]=this,t[_]=this,o.on("conclude",z),o.on("drain",H),o.on("error",U),o.on("message",q),o.on("ping",W),o.on("pong",$),t.setTimeout&&t.setTimeout(0),t.setNoDelay&&t.setNoDelay(),n.length>0&&t.unshift(n),t.on("close",V),t.on("data",Y),t.on("end",J),t.on("error",K),this._readyState=e.OPEN,this.emit("open")}emitClose(){if(!this._socket)return this._readyState=e.CLOSED,void this.emit("close",this._closeCode,this._closeMessage);this._extensions[p.extensionName]&&this._extensions[p.extensionName].cleanup(),this._receiver.removeAllListeners(),this._readyState=e.CLOSED,this.emit("close",this._closeCode,this._closeMessage)}close(t,n){if(this.readyState!==e.CLOSED){if(this.readyState===e.CONNECTING)return void R(this,this._req,"WebSocket was closed before the connection was established");if(this.readyState===e.CLOSING)return void(this._closeFrameSent&&(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end());this._readyState=e.CLOSING,this._sender.close(t,n,!this._isServer,e=>{e||(this._closeFrameSent=!0,(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end())}),this._closeTimer=setTimeout(this._socket.destroy.bind(this._socket),3e4)}}pause(){this.readyState===e.CONNECTING||this.readyState===e.CLOSED||(this._paused=!0,this._socket.pause())}ping(t,n,r){if(this.readyState===e.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");"function"==typeof t?(r=t,t=n=void 0):"function"==typeof n&&(r=n,n=void 0),"number"==typeof t&&(t=t.toString()),this.readyState===e.OPEN?(void 0===n&&(n=!this._isServer),this._sender.ping(t||b,n,r)):L(this,t,r)}pong(t,n,r){if(this.readyState===e.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");"function"==typeof t?(r=t,t=n=void 0):"function"==typeof n&&(r=n,n=void 0),"number"==typeof t&&(t=t.toString()),this.readyState===e.OPEN?(void 0===n&&(n=!this._isServer),this._sender.pong(t||b,n,r)):L(this,t,r)}resume(){this.readyState===e.CONNECTING||this.readyState===e.CLOSED||(this._paused=!1,this._receiver._writableState.needDrain||this._socket.resume())}send(t,n,r){if(this.readyState===e.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if("function"==typeof n&&(r=n,n={}),"number"==typeof t&&(t=t.toString()),this.readyState!==e.OPEN)return void L(this,t,r);let o={binary:"string"!=typeof t,mask:!this._isServer,compress:!0,fin:!0,...n};this._extensions[p.extensionName]||(o.compress=!1),this._sender.send(t||b,o,r)}terminate(){if(this.readyState!==e.CLOSED){if(this.readyState===e.CONNECTING)return void R(this,this._req,"WebSocket was closed before the connection was established");this._socket&&(this._readyState=e.CLOSING,this._socket.destroy())}}};function j(e,t,n,r){let s,a={allowSynchronousEvents:!0,autoPong:!0,protocolVersion:I[1],maxPayload:104857600,skipUTF8Validation:!1,perMessageDeflate:!0,followRedirects:!1,maxRedirects:10,...r,socketPath:void 0,hostname:void 0,protocol:void 0,timeout:void 0,method:"GET",host:void 0,path:void 0,port:void 0};if(e._autoPong=a.autoPong,!I.includes(a.protocolVersion))throw new RangeError(`Unsupported protocol version: ${a.protocolVersion} (supported versions: ${I.join(", ")})`);if(t instanceof h)s=t;else try{s=new h(t)}catch{throw new SyntaxError(`Invalid URL: ${t}`)}"http:"===s.protocol?s.protocol="ws:":"https:"===s.protocol&&(s.protocol="wss:"),e._url=s.href;let u,d="wss:"===s.protocol,f="ws+unix:"===s.protocol;if("ws:"===s.protocol||d||f?f&&!s.pathname?u="The URL's pathname is empty":s.hash&&(u="The URL contains a fragment identifier"):u='The URL\'s protocol must be one of "ws:", "wss:", "http:", "https", or "ws+unix:"',u){let t=new SyntaxError(u);if(0===e._redirects)throw t;return void N(e,t)}let m,g,b=d?443:80,y=l(16).toString("base64"),v=d?o.request:i.request,A=new Set;if(a.createConnection=a.createConnection||(d?D:F),a.defaultPort=a.defaultPort||b,a.port=s.port||b,a.host=s.hostname.startsWith("[")?s.hostname.slice(1,-1):s.hostname,a.headers={...a.headers,"Sec-WebSocket-Version":a.protocolVersion,"Sec-WebSocket-Key":y,Connection:"Upgrade",Upgrade:"websocket"},a.path=s.pathname+s.search,a.timeout=a.handshakeTimeout,a.perMessageDeflate&&(m=new p(!0!==a.perMessageDeflate?a.perMessageDeflate:{},!1,a.maxPayload),a.headers["Sec-WebSocket-Extensions"]=C({[p.extensionName]:m.offer()})),n.length){for(let e of n){if("string"!=typeof e||!M.test(e)||A.has(e))throw new SyntaxError("An invalid or duplicated subprotocol was specified");A.add(e)}a.headers["Sec-WebSocket-Protocol"]=n.join(",")}if(a.origin&&(a.protocolVersion<13?a.headers["Sec-WebSocket-Origin"]=a.origin:a.headers.Origin=a.origin),(s.username||s.password)&&(a.auth=`${s.username}:${s.password}`),f){let e=a.path.split(":");a.socketPath=e[0],a.path=e[1]}if(a.followRedirects){if(0===e._redirects){e._originalIpc=f,e._originalSecure=d,e._originalHostOrSocketPath=f?a.socketPath:s.host;let t=r&&r.headers;if(r={...r,headers:{}},t)for(let[e,n]of Object.entries(t))r.headers[e.toLowerCase()]=n}else if(0===e.listenerCount("redirect")){let t=f?!!e._originalIpc&&a.socketPath===e._originalHostOrSocketPath:!e._originalIpc&&s.host===e._originalHostOrSocketPath;(!t||e._originalSecure&&!d)&&(delete a.headers.authorization,delete a.headers.cookie,t||delete a.headers.host,a.auth=void 0)}a.auth&&!r.headers.authorization&&(r.headers.authorization="Basic "+Buffer.from(a.auth).toString("base64")),g=e._req=v(a),e._redirects&&e.emit("redirect",e.url,g)}else g=e._req=v(a);a.timeout&&g.on("timeout",()=>{R(e,g,"Opening handshake has timed out")}),g.on("error",t=>{null===g||g[T]||(g=e._req=null,N(e,t))}),g.on("response",o=>{let i=o.headers.location,s=o.statusCode;if(i&&a.followRedirects&&s>=300&&s<400){if(++e._redirects>a.maxRedirects)return void R(e,g,"Maximum redirects exceeded");let o;g.abort();try{o=new h(i,t)}catch{let t=new SyntaxError(`Invalid URL: ${i}`);return void N(e,t)}j(e,o,n,r)}else e.emit("unexpected-response",g,o)||R(e,g,`Unexpected server response: ${o.statusCode}`)}),g.on("upgrade",(t,n,r)=>{if(e.emit("upgrade",t),e.readyState!==P.CONNECTING)return;g=e._req=null;let o=t.headers.upgrade;if(void 0===o||"websocket"!==o.toLowerCase())return void R(e,n,"Invalid Upgrade header");let i=c("sha1").update(y+w).digest("base64");if(t.headers["sec-websocket-accept"]!==i)return void R(e,n,"Invalid Sec-WebSocket-Accept header");let s,l=t.headers["sec-websocket-protocol"];if(void 0!==l?A.size?A.has(l)||(s="Server sent an invalid subprotocol"):s="Server sent a subprotocol but none was requested":A.size&&(s="Server sent no subprotocol"),s)return void R(e,n,s);l&&(e._protocol=l);let u=t.headers["sec-websocket-extensions"];if(void 0!==u){if(!m)return void R(e,n,"Server sent a Sec-WebSocket-Extensions header but no extension was requested");let t;try{t=k(u)}catch{return void R(e,n,"Invalid Sec-WebSocket-Extensions header")}let r=Object.keys(t);if(1!==r.length||r[0]!==p.extensionName)return void R(e,n,"Server indicated an extension that was not requested");try{m.accept(t[p.extensionName])}catch{return void R(e,n,"Invalid Sec-WebSocket-Extensions header")}e._extensions[p.extensionName]=m}e.setSocket(n,r,{allowSynchronousEvents:a.allowSynchronousEvents,generateMask:a.generateMask,maxPayload:a.maxPayload,skipUTF8Validation:a.skipUTF8Validation})}),a.finishRequest?a.finishRequest(g,e):g.end()}function N(e,t){e._readyState=P.CLOSING,e.emit("error",t),e.emitClose()}function F(e){return e.path=e.socketPath,s.connect(e)}function D(e){return e.path=void 0,!e.servername&&""!==e.servername&&(e.servername=s.isIP(e.host)?"":e.host),a.connect(e)}function R(e,t,n){e._readyState=P.CLOSING;let r=new Error(n);Error.captureStackTrace(r,R),t.setHeader?(t[T]=!0,t.abort(),t.socket&&!t.socket.destroyed&&t.socket.destroy(),process.nextTick(N,e,r)):(t.destroy(r),t.once("error",e.emit.bind(e,"error")),t.once("close",e.emitClose.bind(e)))}function L(e,t,n){if(t){let n=O(t).length;e._socket?e._sender._bufferedBytes+=n:e._bufferedAmount+=n}if(n){let t=new Error(`WebSocket is not open: readyState ${e.readyState} (${B[e.readyState]})`);process.nextTick(n,t)}}function z(e,t){let n=this[_];n._closeFrameReceived=!0,n._closeMessage=t,n._closeCode=e,void 0!==n._socket[_]&&(n._socket.removeListener("data",Y),process.nextTick(G,n._socket),1005===e?n.close():n.close(e,t))}function H(){let e=this[_];e.isPaused||e._socket.resume()}function U(e){let t=this[_];void 0!==t._socket[_]&&(t._socket.removeListener("data",Y),process.nextTick(G,t._socket),t.close(e[A])),t.emit("error",e)}function Q(){this[_].emitClose()}function q(e,t){this[_].emit("message",e,t)}function W(e){let t=this[_];t._autoPong&&t.pong(e,!this._isServer,x),t.emit("ping",e)}function $(e){this[_].emit("pong",e)}function G(e){e.resume()}function V(){let e,t=this[_];this.removeListener("close",V),this.removeListener("data",Y),this.removeListener("end",J),t._readyState=P.CLOSING,!this._readableState.endEmitted&&!t._closeFrameReceived&&!t._receiver._writableState.errorEmitted&&null!==(e=t._socket.read())&&t._receiver.write(e),t._receiver.end(),this[_]=void 0,clearTimeout(t._closeTimer),t._receiver._writableState.finished||t._receiver._writableState.errorEmitted?t.emitClose():(t._receiver.on("error",Q),t._receiver.on("finish",Q))}function Y(e){this[_]._receiver.write(e)||this.pause()}function J(){let e=this[_];e._readyState=P.CLOSING,e._receiver.end(),this.end()}function K(){let e=this[_];this.removeListener("error",K),this.on("error",x),e&&(e._readyState=P.CLOSING,this.destroy())}Object.defineProperty(P,"CONNECTING",{enumerable:!0,value:B.indexOf("CONNECTING")}),Object.defineProperty(P.prototype,"CONNECTING",{enumerable:!0,value:B.indexOf("CONNECTING")}),Object.defineProperty(P,"OPEN",{enumerable:!0,value:B.indexOf("OPEN")}),Object.defineProperty(P.prototype,"OPEN",{enumerable:!0,value:B.indexOf("OPEN")}),Object.defineProperty(P,"CLOSING",{enumerable:!0,value:B.indexOf("CLOSING")}),Object.defineProperty(P.prototype,"CLOSING",{enumerable:!0,value:B.indexOf("CLOSING")}),Object.defineProperty(P,"CLOSED",{enumerable:!0,value:B.indexOf("CLOSED")}),Object.defineProperty(P.prototype,"CLOSED",{enumerable:!0,value:B.indexOf("CLOSED")}),["binaryType","bufferedAmount","extensions","isPaused","protocol","readyState","url"].forEach(e=>{Object.defineProperty(P.prototype,e,{enumerable:!0})}),["open","error","close","message"].forEach(e=>{Object.defineProperty(P.prototype,`on${e}`,{enumerable:!0,get(){for(let t of this.listeners(e))if(t[y])return t[v];return null},set(t){for(let t of this.listeners(e))if(t[y]){this.removeListener(e,t);break}"function"==typeof t&&this.addEventListener(e,t,{[y]:!0})}})}),P.prototype.addEventListener=S,P.prototype.removeEventListener=E,t.exports=P}),In=d((e,t)=>{var{tokenChars:n}=Sn();t.exports={parse:function(e){let t=new Set,r=-1,o=-1,i=0;for(;i<e.length;i++){let s=e.charCodeAt(i);if(-1===o&&1===n[s])-1===r&&(r=i);else if(0===i||32!==s&&9!==s){if(44!==s)throw new SyntaxError(`Unexpected character at index ${i}`);{if(-1===r)throw new SyntaxError(`Unexpected character at index ${i}`);-1===o&&(o=i);let n=e.slice(r,o);if(t.has(n))throw new SyntaxError(`The "${n}" subprotocol is duplicated`);t.add(n),r=o=-1}}else-1===o&&-1!==r&&(o=i)}if(-1===r||-1!==o)throw new SyntaxError("Unexpected end of input");let s=e.slice(r,i);if(t.has(s))throw new SyntaxError(`The "${s}" subprotocol is duplicated`);return t.add(s),t}}}),Bn=d((e,t)=>{var r=n("events"),o=n("http"),{Duplex:i}=n("stream"),{createHash:s}=n("crypto"),a=On(),l=xn(),c=In(),u=Tn(),{GUID:d,kWebSocket:h}=vn(),p=/^[+/0-9A-Za-z]{22}==$/;function f(e){e._state=2,e.emit("close")}function m(){this.destroy()}function g(e,t,n,r){n=n||o.STATUS_CODES[t],r={Connection:"close","Content-Type":"text/html","Content-Length":Buffer.byteLength(n),...r},e.once("finish",e.destroy),e.end(`HTTP/1.1 ${t} ${o.STATUS_CODES[t]}\r\n`+Object.keys(r).map(e=>`${e}: ${r[e]}`).join("\r\n")+"\r\n\r\n"+n)}function b(e,t,n,r,o){if(e.listenerCount("wsClientError")){let r=new Error(o);Error.captureStackTrace(r,b),e.emit("wsClientError",r,n,t)}else g(n,r,o)}t.exports=class extends r{constructor(e,t){if(super(),null==(e={allowSynchronousEvents:!0,autoPong:!0,maxPayload:104857600,skipUTF8Validation:!1,perMessageDeflate:!1,handleProtocols:null,clientTracking:!0,verifyClient:null,noServer:!1,backlog:null,server:null,host:null,path:null,port:null,WebSocket:u,...e}).port&&!e.server&&!e.noServer||null!=e.port&&(e.server||e.noServer)||e.server&&e.noServer)throw new TypeError('One and only one of the "port", "server", or "noServer" options must be specified');if(null!=e.port?(this._server=o.createServer((e,t)=>{let n=o.STATUS_CODES[426];t.writeHead(426,{"Content-Length":n.length,"Content-Type":"text/plain"}),t.end(n)}),this._server.listen(e.port,e.host,e.backlog,t)):e.server&&(this._server=e.server),this._server){let e=this.emit.bind(this,"connection");this._removeListeners=function(e,t){for(let n of Object.keys(t))e.on(n,t[n]);return function(){for(let n of Object.keys(t))e.removeListener(n,t[n])}}(this._server,{listening:this.emit.bind(this,"listening"),error:this.emit.bind(this,"error"),upgrade:(t,n,r)=>{this.handleUpgrade(t,n,r,e)}})}!0===e.perMessageDeflate&&(e.perMessageDeflate={}),e.clientTracking&&(this.clients=new Set,this._shouldEmitClose=!1),this.options=e,this._state=0}address(){if(this.options.noServer)throw new Error('The server is operating in "noServer" mode');return this._server?this._server.address():null}close(e){if(2===this._state)return e&&this.once("close",()=>{e(new Error("The server is not running"))}),void process.nextTick(f,this);if(e&&this.once("close",e),1!==this._state)if(this._state=1,this.options.noServer||this.options.server)this._server&&(this._removeListeners(),this._removeListeners=this._server=null),this.clients&&this.clients.size?this._shouldEmitClose=!0:process.nextTick(f,this);else{let e=this._server;this._removeListeners(),this._removeListeners=this._server=null,e.close(()=>{f(this)})}}shouldHandle(e){if(this.options.path){let t=e.url.indexOf("?");if((-1!==t?e.url.slice(0,t):e.url)!==this.options.path)return!1}return!0}handleUpgrade(e,t,n,r){t.on("error",m);let o=e.headers["sec-websocket-key"],i=e.headers.upgrade,s=+e.headers["sec-websocket-version"];if("GET"!==e.method)return void b(this,e,t,405,"Invalid HTTP method");if(void 0===i||"websocket"!==i.toLowerCase())return void b(this,e,t,400,"Invalid Upgrade header");if(void 0===o||!p.test(o))return void b(this,e,t,400,"Missing or invalid Sec-WebSocket-Key header");if(8!==s&&13!==s)return void b(this,e,t,400,"Missing or invalid Sec-WebSocket-Version header");if(!this.shouldHandle(e))return void g(t,400);let u=e.headers["sec-websocket-protocol"],d=new Set;if(void 0!==u)try{d=c.parse(u)}catch{return void b(this,e,t,400,"Invalid Sec-WebSocket-Protocol header")}let h=e.headers["sec-websocket-extensions"],f={};if(this.options.perMessageDeflate&&void 0!==h){let n=new l(this.options.perMessageDeflate,!0,this.options.maxPayload);try{let e=a.parse(h);e[l.extensionName]&&(n.accept(e[l.extensionName]),f[l.extensionName]=n)}catch{return void b(this,e,t,400,"Invalid or unacceptable Sec-WebSocket-Extensions header")}}if(this.options.verifyClient){let i={origin:e.headers[8===s?"sec-websocket-origin":"origin"],secure:!(!e.socket.authorized&&!e.socket.encrypted),req:e};if(2===this.options.verifyClient.length)return void this.options.verifyClient(i,(i,s,a,l)=>{if(!i)return g(t,s||401,a,l);this.completeUpgrade(f,o,d,e,t,n,r)});if(!this.options.verifyClient(i))return g(t,401)}this.completeUpgrade(f,o,d,e,t,n,r)}completeUpgrade(e,t,n,r,o,i,c){if(!o.readable||!o.writable)return o.destroy();if(o[h])throw new Error("server.handleUpgrade() was called more than once with the same socket, possibly due to a misconfiguration");if(this._state>0)return g(o,503);let u=["HTTP/1.1 101 Switching Protocols","Upgrade: websocket","Connection: Upgrade",`Sec-WebSocket-Accept: ${s("sha1").update(t+d).digest("base64")}`],p=new this.options.WebSocket(null,void 0,this.options);if(n.size){let e=this.options.handleProtocols?this.options.handleProtocols(n,r):n.values().next().value;e&&(u.push(`Sec-WebSocket-Protocol: ${e}`),p._protocol=e)}if(e[l.extensionName]){let t=e[l.extensionName].params,n=a.format({[l.extensionName]:[t]});u.push(`Sec-WebSocket-Extensions: ${n}`),p._extensions=e}this.emit("headers",u,r),o.write(u.concat("\r\n").join("\r\n")),o.removeListener("error",m),p.setSocket(o,i,{allowSynchronousEvents:this.options.allowSynchronousEvents,maxPayload:this.options.maxPayload,skipUTF8Validation:this.options.skipUTF8Validation}),this.clients&&(this.clients.add(p),p.on("close",()=>{this.clients.delete(p),this._shouldEmitClose&&!this.clients.size&&process.nextTick(f,this)})),c(p,r)}}}),Mn=d((e,t)=>{var r,o=n("constants"),i=process.cwd,s=null,a=process.env.GRACEFUL_FS_PLATFORM||process.platform;process.cwd=function(){return s||(s=i.call(process)),s};try{process.cwd()}catch{}"function"==typeof process.chdir&&(r=process.chdir,process.chdir=function(e){s=null,r.call(process,e)},Object.setPrototypeOf&&Object.setPrototypeOf(process.chdir,r)),t.exports=function(e){function t(t){return t&&function(n,r,o){return t.call(e,n,r,function(e){c(e)&&(e=null),o&&o.apply(this,arguments)})}}function n(t){return t&&function(n,r){try{return t.call(e,n,r)}catch(e){if(!c(e))throw e}}}function r(t){return t&&function(n,r,o,i){return t.call(e,n,r,o,function(e){c(e)&&(e=null),i&&i.apply(this,arguments)})}}function i(t){return t&&function(n,r,o){try{return t.call(e,n,r,o)}catch(e){if(!c(e))throw e}}}function s(t){return t&&function(n,r,o){function i(e,t){t&&(t.uid<0&&(t.uid+=4294967296),t.gid<0&&(t.gid+=4294967296)),o&&o.apply(this,arguments)}return"function"==typeof r&&(o=r,r=null),r?t.call(e,n,r,i):t.call(e,n,i)}}function l(t){return t&&function(n,r){var o=r?t.call(e,n,r):t.call(e,n);return o&&(o.uid<0&&(o.uid+=4294967296),o.gid<0&&(o.gid+=4294967296)),o}}function c(e){return!e||"ENOSYS"===e.code||!(process.getuid&&0===process.getuid()||"EINVAL"!==e.code&&"EPERM"!==e.code)}var u;o.hasOwnProperty("O_SYMLINK")&&process.version.match(/^v0\.6\.[0-2]|^v0\.5\./)&&((u=e).lchmod=function(e,t,n){u.open(e,o.O_WRONLY|o.O_SYMLINK,t,function(e,r){e?n&&n(e):u.fchmod(r,t,function(e){u.close(r,function(t){n&&n(e||t)})})})},u.lchmodSync=function(e,t){var n,r=u.openSync(e,o.O_WRONLY|o.O_SYMLINK,t),i=!0;try{n=u.fchmodSync(r,t),i=!1}finally{if(i)try{u.closeSync(r)}catch{}else u.closeSync(r)}return n}),e.lutimes||function(e){o.hasOwnProperty("O_SYMLINK")&&e.futimes?(e.lutimes=function(t,n,r,i){e.open(t,o.O_SYMLINK,function(t,o){t?i&&i(t):e.futimes(o,n,r,function(t){e.close(o,function(e){i&&i(t||e)})})})},e.lutimesSync=function(t,n,r){var i,s=e.openSync(t,o.O_SYMLINK),a=!0;try{i=e.futimesSync(s,n,r),a=!1}finally{if(a)try{e.closeSync(s)}catch{}else e.closeSync(s)}return i}):e.futimes&&(e.lutimes=function(e,t,n,r){r&&process.nextTick(r)},e.lutimesSync=function(){})}(e),e.chown=r(e.chown),e.fchown=r(e.fchown),e.lchown=r(e.lchown),e.chmod=t(e.chmod),e.fchmod=t(e.fchmod),e.lchmod=t(e.lchmod),e.chownSync=i(e.chownSync),e.fchownSync=i(e.fchownSync),e.lchownSync=i(e.lchownSync),e.chmodSync=n(e.chmodSync),e.fchmodSync=n(e.fchmodSync),e.lchmodSync=n(e.lchmodSync),e.stat=s(e.stat),e.fstat=s(e.fstat),e.lstat=s(e.lstat),e.statSync=l(e.statSync),e.fstatSync=l(e.fstatSync),e.lstatSync=l(e.lstatSync),e.chmod&&!e.lchmod&&(e.lchmod=function(e,t,n){n&&process.nextTick(n)},e.lchmodSync=function(){}),e.chown&&!e.lchown&&(e.lchown=function(e,t,n,r){r&&process.nextTick(r)},e.lchownSync=function(){}),"win32"===a&&(e.rename="function"!=typeof e.rename?e.rename:function(t){function n(n,r,o){var i=Date.now(),s=0;t(n,r,function a(l){if(l&&("EACCES"===l.code||"EPERM"===l.code)&&Date.now()-i<6e4)return setTimeout(function(){e.stat(r,function(e,i){e&&"ENOENT"===e.code?t(n,r,a):o(l)})},s),void(s<100&&(s+=10));o&&o(l)})}return Object.setPrototypeOf&&Object.setPrototypeOf(n,t),n}(e.rename)),e.read="function"!=typeof e.read?e.read:function(t){function n(n,r,o,i,s,a){var l;if(a&&"function"==typeof a){var c=0;l=function(u,d,h){if(u&&"EAGAIN"===u.code&&c<10)return c++,t.call(e,n,r,o,i,s,l);a.apply(this,arguments)}}return t.call(e,n,r,o,i,s,l)}return Object.setPrototypeOf&&Object.setPrototypeOf(n,t),n}(e.read),e.readSync="function"!=typeof e.readSync?e.readSync:function(t){return function(n,r,o,i,s){for(var a=0;;)try{return t.call(e,n,r,o,i,s)}catch(e){if("EAGAIN"===e.code&&a<10){a++;continue}throw e}}}(e.readSync)}}),Pn=d((e,t)=>{var r=n("stream").Stream;t.exports=function(e){return{ReadStream:function t(n,o){if(!(this instanceof t))return new t(n,o);r.call(this);var i=this;this.path=n,this.fd=null,this.readable=!0,this.paused=!1,this.flags="r",this.mode=438,this.bufferSize=65536,o=o||{};for(var s=Object.keys(o),a=0,l=s.length;a<l;a++){var c=s[a];this[c]=o[c]}if(this.encoding&&this.setEncoding(this.encoding),void 0!==this.start){if("number"!=typeof this.start)throw TypeError("start must be a Number");if(void 0===this.end)this.end=1/0;else if("number"!=typeof this.end)throw TypeError("end must be a Number");if(this.start>this.end)throw new Error("start must be <= end");this.pos=this.start}null===this.fd?e.open(this.path,this.flags,this.mode,function(e,t){if(e)return i.emit("error",e),void(i.readable=!1);i.fd=t,i.emit("open",t),i._read()}):process.nextTick(function(){i._read()})},WriteStream:function t(n,o){if(!(this instanceof t))return new t(n,o);r.call(this),this.path=n,this.fd=null,this.writable=!0,this.flags="w",this.encoding="binary",this.mode=438,this.bytesWritten=0,o=o||{};for(var i=Object.keys(o),s=0,a=i.length;s<a;s++){var l=i[s];this[l]=o[l]}if(void 0!==this.start){if("number"!=typeof this.start)throw TypeError("start must be a Number");if(this.start<0)throw new Error("start must be >= zero");this.pos=this.start}this.busy=!1,this._queue=[],null===this.fd&&(this._open=e.open,this._queue.push([this._open,this.path,this.flags,this.mode,void 0]),this.flush())}}}}),jn=d((e,t)=>{t.exports=function(e){if(null===e||"object"!=typeof e)return e;if(e instanceof Object)var t={__proto__:n(e)};else t=Object.create(null);return Object.getOwnPropertyNames(e).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}),t};var n=Object.getPrototypeOf||function(e){return e.__proto__}}),Nn=d((e,t)=>{var r,o,i=n("fs"),s=Mn(),a=Pn(),l=jn(),c=n("util");function u(e,t){Object.defineProperty(e,r,{get:function(){return t}})}"function"==typeof Symbol&&"function"==typeof Symbol.for?(r=Symbol.for("graceful-fs.queue"),o=Symbol.for("graceful-fs.previous")):(r="___graceful-fs.queue",o="___graceful-fs.previous");var d,h,p=function(){};function f(e){s(e),e.gracefulify=f,e.createReadStream=function(t,n){return new e.ReadStream(t,n)},e.createWriteStream=function(t,n){return new e.WriteStream(t,n)};var t=e.readFile;e.readFile=function(e,n,r){return"function"==typeof n&&(r=n,n=null),function e(n,r,o,i){return t(n,r,function(t){!t||"EMFILE"!==t.code&&"ENFILE"!==t.code?"function"==typeof o&&o.apply(this,arguments):m([e,[n,r,o],t,i||Date.now(),Date.now()])})}(e,n,r)};var n=e.writeFile;e.writeFile=function(e,t,r,o){return"function"==typeof r&&(o=r,r=null),function e(t,r,o,i,s){return n(t,r,o,function(n){!n||"EMFILE"!==n.code&&"ENFILE"!==n.code?"function"==typeof i&&i.apply(this,arguments):m([e,[t,r,o,i],n,s||Date.now(),Date.now()])})}(e,t,r,o)};var r=e.appendFile;r&&(e.appendFile=function(e,t,n,o){return"function"==typeof n&&(o=n,n=null),function e(t,n,o,i,s){return r(t,n,o,function(r){!r||"EMFILE"!==r.code&&"ENFILE"!==r.code?"function"==typeof i&&i.apply(this,arguments):m([e,[t,n,o,i],r,s||Date.now(),Date.now()])})}(e,t,n,o)});var o=e.copyFile;o&&(e.copyFile=function(e,t,n,r){return"function"==typeof n&&(r=n,n=0),function e(t,n,r,i,s){return o(t,n,r,function(o){!o||"EMFILE"!==o.code&&"ENFILE"!==o.code?"function"==typeof i&&i.apply(this,arguments):m([e,[t,n,r,i],o,s||Date.now(),Date.now()])})}(e,t,n,r)});var i=e.readdir;e.readdir=function(e,t,n){"function"==typeof t&&(n=t,t=null);var r=l.test(process.version)?function(e,t,n,r){return i(e,o(e,t,n,r))}:function(e,t,n,r){return i(e,t,o(e,t,n,r))};return r(e,t,n);function o(e,t,n,o){return function(i,s){!i||"EMFILE"!==i.code&&"ENFILE"!==i.code?(s&&s.sort&&s.sort(),"function"==typeof n&&n.call(this,i,s)):m([r,[e,t,n],i,o||Date.now(),Date.now()])}}};var l=/^v[0-5]\./;if("v0.8"===process.version.substr(0,4)){var c=a(e);g=c.ReadStream,b=c.WriteStream}var u=e.ReadStream;u&&(g.prototype=Object.create(u.prototype),g.prototype.open=function(){var e=this;y(e.path,e.flags,e.mode,function(t,n){t?(e.autoClose&&e.destroy(),e.emit("error",t)):(e.fd=n,e.emit("open",n),e.read())})});var d=e.WriteStream;d&&(b.prototype=Object.create(d.prototype),b.prototype.open=function(){var e=this;y(e.path,e.flags,e.mode,function(t,n){t?(e.destroy(),e.emit("error",t)):(e.fd=n,e.emit("open",n))})}),Object.defineProperty(e,"ReadStream",{get:function(){return g},set:function(e){g=e},enumerable:!0,configurable:!0}),Object.defineProperty(e,"WriteStream",{get:function(){return b},set:function(e){b=e},enumerable:!0,configurable:!0});var h=g;Object.defineProperty(e,"FileReadStream",{get:function(){return h},set:function(e){h=e},enumerable:!0,configurable:!0});var p=b;function g(e,t){return this instanceof g?(u.apply(this,arguments),this):g.apply(Object.create(g.prototype),arguments)}function b(e,t){return this instanceof b?(d.apply(this,arguments),this):b.apply(Object.create(b.prototype),arguments)}Object.defineProperty(e,"FileWriteStream",{get:function(){return p},set:function(e){p=e},enumerable:!0,configurable:!0});var w=e.open;function y(e,t,n,r){return"function"==typeof n&&(r=n,n=null),function e(t,n,r,o,i){return w(t,n,r,function(s,a){!s||"EMFILE"!==s.code&&"ENFILE"!==s.code?"function"==typeof o&&o.apply(this,arguments):m([e,[t,n,r,o],s,i||Date.now(),Date.now()])})}(e,t,n,r)}return e.open=y,e}function m(e){p("ENQUEUE",e[0].name,e[1]),i[r].push(e),b()}function g(){for(var e=Date.now(),t=0;t<i[r].length;++t)i[r][t].length>2&&(i[r][t][3]=e,i[r][t][4]=e);b()}function b(){if(clearTimeout(h),h=void 0,0!==i[r].length){var e=i[r].shift(),t=e[0],n=e[1],o=e[2],s=e[3],a=e[4];if(void 0===s)p("RETRY",t.name,n),t.apply(null,n);else if(Date.now()-s>=6e4){p("TIMEOUT",t.name,n);var l=n.pop();"function"==typeof l&&l.call(null,o)}else{var c=Date.now()-a,u=Math.max(a-s,1);c>=Math.min(1.2*u,100)?(p("RETRY",t.name,n),t.apply(null,n.concat([s]))):i[r].push(e)}void 0===h&&(h=setTimeout(b,0))}}c.debuglog?p=c.debuglog("gfs4"):/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&(p=function(){var e=c.format.apply(c,arguments);e="GFS4: "+e.split(/\n/).join("\nGFS4: "),console.error(e)}),i[r]||(d=global[r]||[],u(i,d),i.close=function(e){function t(t,n){return e.call(i,t,function(e){e||g(),"function"==typeof n&&n.apply(this,arguments)})}return Object.defineProperty(t,o,{value:e}),t}(i.close),i.closeSync=function(e){function t(t){e.apply(i,arguments),g()}return Object.defineProperty(t,o,{value:e}),t}(i.closeSync),/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&process.on("exit",function(){p(i[r]),n("assert").equal(i[r].length,0)})),global[r]||u(global,i[r]),t.exports=f(l(i)),process.env.TEST_GRACEFUL_FS_GLOBAL_PATCH&&!i.__patched&&(t.exports=f(i),i.__patched=!0)}),Fn=d((e,t)=>{function n(e,t){"boolean"==typeof t&&(t={forever:t}),this._originalTimeouts=JSON.parse(JSON.stringify(e)),this._timeouts=e,this._options=t||{},this._maxRetryTime=t&&t.maxRetryTime||1/0,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}t.exports=n,n.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts},n.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timeouts=[],this._cachedTimeouts=null},n.prototype.retry=function(e){if(this._timeout&&clearTimeout(this._timeout),!e)return!1;var t=(new Date).getTime();if(e&&t-this._operationStart>=this._maxRetryTime)return this._errors.unshift(new Error("RetryOperation timeout occurred")),!1;this._errors.push(e);var n=this._timeouts.shift();if(void 0===n){if(!this._cachedTimeouts)return!1;this._errors.splice(this._errors.length-1,this._errors.length),this._timeouts=this._cachedTimeouts.slice(0),n=this._timeouts.shift()}var r=this,o=setTimeout(function(){r._attempts++,r._operationTimeoutCb&&(r._timeout=setTimeout(function(){r._operationTimeoutCb(r._attempts)},r._operationTimeout),r._options.unref&&r._timeout.unref()),r._fn(r._attempts)},n);return this._options.unref&&o.unref(),!0},n.prototype.attempt=function(e,t){this._fn=e,t&&(t.timeout&&(this._operationTimeout=t.timeout),t.cb&&(this._operationTimeoutCb=t.cb));var n=this;this._operationTimeoutCb&&(this._timeout=setTimeout(function(){n._operationTimeoutCb()},n._operationTimeout)),this._operationStart=(new Date).getTime(),this._fn(this._attempts)},n.prototype.try=function(e){console.log("Using RetryOperation.try() is deprecated"),this.attempt(e)},n.prototype.start=function(e){console.log("Using RetryOperation.start() is deprecated"),this.attempt(e)},n.prototype.start=n.prototype.try,n.prototype.errors=function(){return this._errors},n.prototype.attempts=function(){return this._attempts},n.prototype.mainError=function(){if(0===this._errors.length)return null;for(var e={},t=null,n=0,r=0;r<this._errors.length;r++){var o=this._errors[r],i=o.message,s=(e[i]||0)+1;e[i]=s,s>=n&&(t=o,n=s)}return t}}),Dn=d(e=>{var t=Fn();e.operation=function(n){var r=e.timeouts(n);return new t(r,{forever:n&&n.forever,unref:n&&n.unref,maxRetryTime:n&&n.maxRetryTime})},e.timeouts=function(e){if(e instanceof Array)return[].concat(e);var t={retries:10,factor:2,minTimeout:1e3,maxTimeout:1/0,randomize:!1};for(var n in e)t[n]=e[n];if(t.minTimeout>t.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var r=[],o=0;o<t.retries;o++)r.push(this.createTimeout(o,t));return e&&e.forever&&!r.length&&r.push(this.createTimeout(o,t)),r.sort(function(e,t){return e-t}),r},e.createTimeout=function(e,t){var n=t.randomize?Math.random()+1:1,r=Math.round(n*t.minTimeout*Math.pow(t.factor,e));return Math.min(r,t.maxTimeout)},e.wrap=function(t,n,r){if(n instanceof Array&&(r=n,n=null),!r)for(var o in r=[],t)"function"==typeof t[o]&&r.push(o);for(var i=0;i<r.length;i++){var s=r[i],a=t[s];t[s]=function(r){var o=e.operation(n),i=Array.prototype.slice.call(arguments,1),s=i.pop();i.push(function(e){o.retry(e)||(e&&(arguments[0]=o.mainError()),s.apply(this,arguments))}),o.attempt(function(){r.apply(t,i)})}.bind(t,a),t[s].options=n}}}),Rn=d((e,t)=>{t.exports=Dn()}),Ln=d((e,t)=>{t.exports=["SIGABRT","SIGALRM","SIGHUP","SIGINT","SIGTERM"],"win32"!==process.platform&&t.exports.push("SIGVTALRM","SIGXCPU","SIGXFSZ","SIGUSR2","SIGTRAP","SIGSYS","SIGQUIT","SIGIOT"),"linux"===process.platform&&t.exports.push("SIGIO","SIGPOLL","SIGPWR","SIGSTKFLT","SIGUNUSED")}),zn=d((e,t)=>{var r,o,i,s,a,l,c,u,d,h,p,f,m,g,b=global.process,w=function(e){return e&&"object"==typeof e&&"function"==typeof e.removeListener&&"function"==typeof e.emit&&"function"==typeof e.reallyExit&&"function"==typeof e.listeners&&"function"==typeof e.kill&&"number"==typeof e.pid&&"function"==typeof e.on};w(b)?(r=n("assert"),o=Ln(),i=/^win/i.test(b.platform),"function"!=typeof(s=n("events"))&&(s=s.EventEmitter),b.__signal_exit_emitter__?a=b.__signal_exit_emitter__:((a=b.__signal_exit_emitter__=new s).count=0,a.emitted={}),a.infinite||(a.setMaxListeners(1/0),a.infinite=!0),t.exports=function(e,t){if(!w(global.process))return function(){};r.equal(typeof e,"function","a callback must be provided for exit handler"),!1===d&&h();var n="exit";return t&&t.alwaysLast&&(n="afterexit"),a.on(n,e),function(){a.removeListener(n,e),0===a.listeners("exit").length&&0===a.listeners("afterexit").length&&l()}},l=function(){!d||!w(global.process)||(d=!1,o.forEach(function(e){try{b.removeListener(e,u[e])}catch{}}),b.emit=m,b.reallyExit=p,a.count-=1)},t.exports.unload=l,c=function(e,t,n){a.emitted[e]||(a.emitted[e]=!0,a.emit(e,t,n))},u={},o.forEach(function(e){u[e]=function(){w(global.process)&&b.listeners(e).length===a.count&&(l(),c("exit",null,e),c("afterexit",null,e),i&&"SIGHUP"===e&&(e="SIGINT"),b.kill(b.pid,e))}}),t.exports.signals=function(){return o},d=!1,h=function(){d||!w(global.process)||(d=!0,a.count+=1,o=o.filter(function(e){try{return b.on(e,u[e]),!0}catch{return!1}}),b.emit=g,b.reallyExit=f)},t.exports.load=h,p=b.reallyExit,f=function(e){w(global.process)&&(b.exitCode=e||0,c("exit",b.exitCode,null),c("afterexit",b.exitCode,null),p.call(b,b.exitCode))},m=b.emit,g=function(e,t){if("exit"===e&&w(global.process)){void 0!==t&&(b.exitCode=t);var n=m.apply(this,arguments);return c("exit",b.exitCode,null),c("afterexit",b.exitCode,null),n}return m.apply(this,arguments)}):t.exports=function(){return function(){}}}),Hn=d((e,t)=>{var r=n("path"),o=Nn(),i=Rn(),s=zn(),a={},l=Symbol();function c(e,t){return t.lockfilePath||`${e}.lock`}function u(e,t,n){if(!t.realpath)return n(null,r.resolve(e));t.fs.realpath(e,n)}function d(e,t,n){let r=c(e,t);t.fs.mkdir(r,o=>o?"EEXIST"!==o.code?n(o):t.stale<=0?n(Object.assign(new Error("Lock file is already being held"),{code:"ELOCKED",file:e})):void t.fs.stat(r,(r,o)=>r?"ENOENT"===r.code?d(e,{...t,stale:0},n):n(r):function(e,t){return e.mtime.getTime()<Date.now()-t.stale}(o,t)?void h(e,t,r=>{if(r)return n(r);d(e,{...t,stale:0},n)}):n(Object.assign(new Error("Lock file is already being held"),{code:"ELOCKED",file:e}))):function(e,t,n){let r=t[l];if(r)return t.stat(e,(e,t)=>{if(e)return n(e);n(null,t.mtime,r)});let o=new Date(1e3*Math.ceil(Date.now()/1e3)+5);t.utimes(e,o,o,r=>{if(r)return n(r);t.stat(e,(e,r)=>{if(e)return n(e);let o=r.mtime.getTime()%1e3==0?"s":"ms";Object.defineProperty(t,l,{value:o}),n(null,r.mtime,o)})})}(r,t.fs,(e,o,i)=>{if(e)return t.fs.rmdir(r,()=>{}),n(e);n(null,o,i)}))}function h(e,t,n){t.fs.rmdir(c(e,t),e=>{if(e&&"ENOENT"!==e.code)return n(e);n()})}function p(e,t){let n=a[e];n.updateTimeout||(n.updateDelay=n.updateDelay||t.update,n.updateTimeout=setTimeout(()=>{n.updateTimeout=null,t.fs.stat(n.lockfilePath,(r,o)=>{let i=n.lastUpdate+t.stale<Date.now();if(r)return"ENOENT"===r.code||i?f(e,n,Object.assign(r,{code:"ECOMPROMISED"})):(n.updateDelay=1e3,p(e,t));if(n.mtime.getTime()!==o.mtime.getTime())return f(e,n,Object.assign(new Error("Unable to update lock within the stale threshold"),{code:"ECOMPROMISED"}));let s=function(e){let t=Date.now();return"s"===e&&(t=1e3*Math.ceil(t/1e3)),new Date(t)}(n.mtimePrecision);t.fs.utimes(n.lockfilePath,s,s,r=>{let o=n.lastUpdate+t.stale<Date.now();if(!n.released){if(r)return"ENOENT"===r.code||o?f(e,n,Object.assign(r,{code:"ECOMPROMISED"})):(n.updateDelay=1e3,p(e,t));n.mtime=s,n.lastUpdate=Date.now(),n.updateDelay=null,p(e,t)}})})},n.updateDelay),n.updateTimeout.unref&&n.updateTimeout.unref())}function f(e,t,n){t.released=!0,t.updateTimeout&&clearTimeout(t.updateTimeout),a[e]===t&&delete a[e],t.options.onCompromised(n)}function m(e,t,n){(t={stale:1e4,update:null,realpath:!0,retries:0,fs:o,onCompromised:e=>{throw e},...t}).retries=t.retries||0,t.retries="number"==typeof t.retries?{retries:t.retries}:t.retries,t.stale=Math.max(t.stale||0,2e3),t.update=null==t.update?t.stale/2:t.update||0,t.update=Math.max(Math.min(t.update,t.stale/2),1e3),u(e,t,(e,r)=>{if(e)return n(e);let s=i.operation(t.retries);s.attempt(()=>{d(r,t,(e,i,l)=>{if(s.retry(e))return;if(e)return n(s.mainError());let d=a[r]={lockfilePath:c(r,t),mtime:i,mtimePrecision:l,options:t,lastUpdate:Date.now()};p(r,t),n(null,e=>{if(d.released)return e&&e(Object.assign(new Error("Lock is already released"),{code:"ERELEASED"}));!function(e,t,n){u(e,t={fs:o,realpath:!0,...t},(e,r)=>{if(e)return n(e);let o=a[r];if(!o)return n(Object.assign(new Error("Lock is not acquired/owned by you"),{code:"ENOTACQUIRED"}));o.updateTimeout&&clearTimeout(o.updateTimeout),o.released=!0,delete a[r],h(r,t,n)})}(r,{...t,realpath:!1},e)})})})})}function g(e){return(...t)=>new Promise((n,r)=>{t.push((e,t)=>{e?r(e):n(t)}),e(...t)})}var b=!1;t.exports.lock=async(e,t)=>{b||(b=!0,s(()=>{for(let e in a){let t=a[e].options;try{t.fs.rmdirSync(c(e,t))}catch{}}}));let n=await g(m)(e,t);return g(n)}}),Un={};h(Un,{HttpsProxyAgent:()=>lo.HttpsProxyAgent,PNG:()=>fo.PNG,ProgramOption:()=>Eo,SocksProxyAgent:()=>Oo.SocksProxyAgent,colors:()=>No,debug:()=>Fo,diff:()=>Do,dotenv:()=>Ro,getProxyForUrl:()=>ao.getProxyForUrl,jpegjs:()=>Lo,lockfile:()=>zo,mime:()=>Ho,minimatch:()=>Uo,open:()=>Qo,program:()=>go,progress:()=>qo,ws:()=>$o,wsReceiver:()=>Vo,wsSender:()=>Yo,wsServer:()=>Go,yaml:()=>Wo}),e.exports=(o=Un,p(s({},"__esModule",{value:!0}),o));var Qn=f(E()),qn=f(M()),Wn={};function $n(){}function Gn(e,t,n,r,o){for(var i,s=[];t;)s.push(t),i=t.previousComponent,delete t.previousComponent,t=i;s.reverse();for(var a=0,l=s.length,c=0,u=0;a<l;a++){var d=s[a];if(d.removed)d.value=e.join(r.slice(u,u+d.count)),u+=d.count;else{if(!d.added&&o){var h=n.slice(c,c+d.count);h=h.map(function(e,t){var n=r[u+t];return n.length>e.length?n:e}),d.value=e.join(h)}else d.value=e.join(n.slice(c,c+d.count));c+=d.count,d.added||(u+=d.count)}}return s}h(Wn,{Diff:()=>$n,applyPatch:()=>Mr,applyPatches:()=>Pr,canonicalize:()=>Er,convertChangesToDMP:()=>ro,convertChangesToXML:()=>oo,createPatch:()=>Dr,createTwoFilesPatch:()=>Fr,diffArrays:()=>kr,diffChars:()=>Yn,diffCss:()=>gr,diffJson:()=>Sr,diffLines:()=>dr,diffSentences:()=>fr,diffTrimmedLines:()=>hr,diffWords:()=>sr,diffWordsWithSpace:()=>cr,formatPatch:()=>Nr,merge:()=>zr,parsePatch:()=>Ir,reversePatch:()=>no,structuredPatch:()=>jr}),$n.prototype={diff:function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=r.callback;"function"==typeof r&&(o=r,r={});var i=this;function s(e){return e=i.postProcess(e,r),o?(setTimeout(function(){o(e)},0),!0):e}e=this.castInput(e,r),t=this.castInput(t,r),e=this.removeEmpty(this.tokenize(e,r));var a=(t=this.removeEmpty(this.tokenize(t,r))).length,l=e.length,c=1,u=a+l;null!=r.maxEditLength&&(u=Math.min(u,r.maxEditLength));var d=null!==(n=r.timeout)&&void 0!==n?n:1/0,h=Date.now()+d,p=[{oldPos:-1,lastComponent:void 0}],f=this.extractCommon(p[0],t,e,0,r);if(p[0].oldPos+1>=l&&f+1>=a)return s(Gn(i,p[0].lastComponent,t,e,i.useLongestToken));var m=-1/0,g=1/0;function b(){for(var n=Math.max(m,-c);n<=Math.min(g,c);n+=2){var o=void 0,u=p[n-1],d=p[n+1];u&&(p[n-1]=void 0);var h=!1;if(d){var b=d.oldPos-n;h=d&&0<=b&&b<a}var w=u&&u.oldPos+1<l;if(h||w){if(o=!w||h&&u.oldPos<d.oldPos?i.addToPath(d,!0,!1,0,r):i.addToPath(u,!1,!0,1,r),f=i.extractCommon(o,t,e,n,r),o.oldPos+1>=l&&f+1>=a)return s(Gn(i,o.lastComponent,t,e,i.useLongestToken));p[n]=o,o.oldPos+1>=l&&(g=Math.min(g,n-1)),f+1>=a&&(m=Math.max(m,n+1))}else p[n]=void 0}c++}if(o)!function e(){setTimeout(function(){if(c>u||Date.now()>h)return o();b()||e()},0)}();else for(;c<=u&&Date.now()<=h;){var w=b();if(w)return w}},addToPath:function(e,t,n,r,o){var i=e.lastComponent;return i&&!o.oneChangePerToken&&i.added===t&&i.removed===n?{oldPos:e.oldPos+r,lastComponent:{count:i.count+1,added:t,removed:n,previousComponent:i.previousComponent}}:{oldPos:e.oldPos+r,lastComponent:{count:1,added:t,removed:n,previousComponent:i}}},extractCommon:function(e,t,n,r,o){for(var i=t.length,s=n.length,a=e.oldPos,l=a-r,c=0;l+1<i&&a+1<s&&this.equals(n[a+1],t[l+1],o);)l++,a++,c++,o.oneChangePerToken&&(e.lastComponent={count:1,previousComponent:e.lastComponent,added:!1,removed:!1});return c&&!o.oneChangePerToken&&(e.lastComponent={count:c,previousComponent:e.lastComponent,added:!1,removed:!1}),e.oldPos=a,l},equals:function(e,t,n){return n.comparator?n.comparator(e,t):e===t||n.ignoreCase&&e.toLowerCase()===t.toLowerCase()},removeEmpty:function(e){for(var t=[],n=0;n<e.length;n++)e[n]&&t.push(e[n]);return t},castInput:function(e){return e},tokenize:function(e){return Array.from(e)},join:function(e){return e.join("")},postProcess:function(e){return e}};var Vn=new $n;function Yn(e,t,n){return Vn.diff(e,t,n)}function Jn(e,t){var n;for(n=0;n<e.length&&n<t.length;n++)if(e[n]!=t[n])return e.slice(0,n);return e.slice(0,n)}function Kn(e,t){var n;if(!e||!t||e[e.length-1]!=t[t.length-1])return"";for(n=0;n<e.length&&n<t.length;n++)if(e[e.length-(n+1)]!=t[t.length-(n+1)])return e.slice(-n);return e.slice(-n)}function Xn(e,t,n){if(e.slice(0,t.length)!=t)throw Error("string ".concat(JSON.stringify(e)," doesn't start with prefix ").concat(JSON.stringify(t),"; this is a bug"));return n+e.slice(t.length)}function Zn(e,t,n){if(!t)return e+n;if(e.slice(-t.length)!=t)throw Error("string ".concat(JSON.stringify(e)," doesn't end with suffix ").concat(JSON.stringify(t),"; this is a bug"));return e.slice(0,-t.length)+n}function er(e,t){return Xn(e,t,"")}function tr(e,t){return Zn(e,t,"")}function nr(e,t){return t.slice(0,function(e,t){var n=0;e.length>t.length&&(n=e.length-t.length);var r=t.length;e.length<t.length&&(r=e.length);var o=Array(r),i=0;o[0]=0;for(var s=1;s<r;s++){for(t[s]==t[i]?o[s]=o[i]:o[s]=i;i>0&&t[s]!=t[i];)i=o[i];t[s]==t[i]&&i++}i=0;for(var a=n;a<e.length;a++){for(;i>0&&e[a]!=t[i];)i=o[i];e[a]==t[i]&&i++}return i}(e,t))}var rr="a-zA-Z0-9_\\u{C0}-\\u{FF}\\u{D8}-\\u{F6}\\u{F8}-\\u{2C6}\\u{2C8}-\\u{2D7}\\u{2DE}-\\u{2FF}\\u{1E00}-\\u{1EFF}",or=new RegExp("[".concat(rr,"]+|\\s+|[^").concat(rr,"]"),"ug"),ir=new $n;function sr(e,t,n){return null==(null==n?void 0:n.ignoreWhitespace)||n.ignoreWhitespace?ir.diff(e,t,n):cr(e,t,n)}function ar(e,t,n,r){if(t&&n){var o=t.value.match(/^\s*/)[0],i=t.value.match(/\s*$/)[0],s=n.value.match(/^\s*/)[0],a=n.value.match(/\s*$/)[0];if(e){var l=Jn(o,s);e.value=Zn(e.value,s,l),t.value=er(t.value,l),n.value=er(n.value,l)}if(r){var c=Kn(i,a);r.value=Xn(r.value,a,c),t.value=tr(t.value,c),n.value=tr(n.value,c)}}else if(n)e&&(n.value=n.value.replace(/^\s*/,"")),r&&(r.value=r.value.replace(/^\s*/,""));else if(e&&r){var u=r.value.match(/^\s*/)[0],d=t.value.match(/^\s*/)[0],h=t.value.match(/\s*$/)[0],p=Jn(u,d);t.value=er(t.value,p);var f=Kn(er(u,p),h);t.value=tr(t.value,f),r.value=Xn(r.value,u,f),e.value=Zn(e.value,u,u.slice(0,u.length-f.length))}else if(r){var m=r.value.match(/^\s*/)[0],g=nr(t.value.match(/\s*$/)[0],m);t.value=tr(t.value,g)}else if(e){var b=nr(e.value.match(/\s*$/)[0],t.value.match(/^\s*/)[0]);t.value=er(t.value,b)}}ir.equals=function(e,t,n){return n.ignoreCase&&(e=e.toLowerCase(),t=t.toLowerCase()),e.trim()===t.trim()},ir.tokenize=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(n.intlSegmenter){if("word"!=n.intlSegmenter.resolvedOptions().granularity)throw new Error('The segmenter passed must have a granularity of "word"');t=Array.from(n.intlSegmenter.segment(e),function(e){return e.segment})}else t=e.match(or)||[];var r=[],o=null;return t.forEach(function(e){/\s/.test(e)?null==o?r.push(e):r.push(r.pop()+e):/\s/.test(o)?r[r.length-1]==o?r.push(r.pop()+e):r.push(o+e):r.push(e),o=e}),r},ir.join=function(e){return e.map(function(e,t){return 0==t?e:e.replace(/^\s+/,"")}).join("")},ir.postProcess=function(e,t){if(!e||t.oneChangePerToken)return e;var n=null,r=null,o=null;return e.forEach(function(e){e.added?r=e:e.removed?o=e:((r||o)&&ar(n,o,r,e),n=e,r=null,o=null)}),(r||o)&&ar(n,o,r,null),e};var lr=new $n;function cr(e,t,n){return lr.diff(e,t,n)}lr.tokenize=function(e){var t=new RegExp("(\\r?\\n)|[".concat(rr,"]+|[^\\S\\n\\r]+|[^").concat(rr,"]"),"ug");return e.match(t)||[]};var ur=new $n;function dr(e,t,n){return ur.diff(e,t,n)}function hr(e,t,n){var r=function(e,t){if("function"==typeof e)t.callback=e;else if(e)for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}(n,{ignoreWhitespace:!0});return ur.diff(e,t,r)}ur.tokenize=function(e,t){t.stripTrailingCr&&(e=e.replace(/\r\n/g,"\n"));var n=[],r=e.split(/(\n|\r\n)/);r[r.length-1]||r.pop();for(var o=0;o<r.length;o++){var i=r[o];o%2&&!t.newlineIsToken?n[n.length-1]+=i:n.push(i)}return n},ur.equals=function(e,t,n){return n.ignoreWhitespace?((!n.newlineIsToken||!e.includes("\n"))&&(e=e.trim()),(!n.newlineIsToken||!t.includes("\n"))&&(t=t.trim())):n.ignoreNewlineAtEof&&!n.newlineIsToken&&(e.endsWith("\n")&&(e=e.slice(0,-1)),t.endsWith("\n")&&(t=t.slice(0,-1))),$n.prototype.equals.call(this,e,t,n)};var pr=new $n;function fr(e,t,n){return pr.diff(e,t,n)}pr.tokenize=function(e){return e.split(/(\S.+?[.!?])(?=\s+|$)/)};var mr=new $n;function gr(e,t,n){return mr.diff(e,t,n)}function br(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function wr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?br(Object(n),!0).forEach(function(t){vr(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):br(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function yr(e){return(yr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function vr(e,t,n){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ar(e){return function(e){if(Array.isArray(e))return _r(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return _r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _r(e,t)}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}mr.tokenize=function(e){return e.split(/([{}:;,]|\s+)/)};var xr=new $n;function Sr(e,t,n){return xr.diff(e,t,n)}function Er(e,t,n,r,o){var i,s;for(t=t||[],n=n||[],r&&(e=r(o,e)),i=0;i<t.length;i+=1)if(t[i]===e)return n[i];if("[object Array]"===Object.prototype.toString.call(e)){for(t.push(e),s=new Array(e.length),n.push(s),i=0;i<e.length;i+=1)s[i]=Er(e[i],t,n,r,o);return t.pop(),n.pop(),s}if(e&&e.toJSON&&(e=e.toJSON()),"object"===yr(e)&&null!==e){t.push(e),s={},n.push(s);var a,l=[];for(a in e)Object.prototype.hasOwnProperty.call(e,a)&&l.push(a);for(l.sort(),i=0;i<l.length;i+=1)s[a=l[i]]=Er(e[a],t,n,r,a);t.pop(),n.pop()}else s=e;return s}xr.useLongestToken=!0,xr.tokenize=ur.tokenize,xr.castInput=function(e,t){var n=t.undefinedReplacement,r=t.stringifyReplacer,o=void 0===r?function(e,t){return void 0===t?n:t}:r;return"string"==typeof e?e:JSON.stringify(Er(e,null,null,o),o,"  ")},xr.equals=function(e,t,n){return $n.prototype.equals.call(xr,e.replace(/,([\r\n])/g,"$1"),t.replace(/,([\r\n])/g,"$1"),n)};var Cr=new $n;function kr(e,t,n){return Cr.diff(e,t,n)}function Or(e){return Array.isArray(e)?e.map(Or):wr(wr({},e),{},{hunks:e.hunks.map(function(e){return wr(wr({},e),{},{lines:e.lines.map(function(t,n){var r;return t.startsWith("\\")||t.endsWith("\r")||null!==(r=e.lines[n+1])&&void 0!==r&&r.startsWith("\\")?t:t+"\r"})})})})}function Tr(e){return Array.isArray(e)?e.map(Tr):wr(wr({},e),{},{hunks:e.hunks.map(function(e){return wr(wr({},e),{},{lines:e.lines.map(function(e){return e.endsWith("\r")?e.substring(0,e.length-1):e})})})})}function Ir(e){var t=e.split(/\n/),n=[],r=0;function o(){var e={};for(n.push(e);r<t.length;){var o=t[r];if(/^(\-\-\-|\+\+\+|@@)\s/.test(o))break;var a=/^(?:Index:|diff(?: -r \w+)+)\s+(.+?)\s*$/.exec(o);a&&(e.index=a[1]),r++}for(i(e),i(e),e.hunks=[];r<t.length;){var l=t[r];if(/^(Index:\s|diff\s|\-\-\-\s|\+\+\+\s|===================================================================)/.test(l))break;if(/^@@/.test(l))e.hunks.push(s());else{if(l)throw new Error("Unknown line "+(r+1)+" "+JSON.stringify(l));r++}}}function i(e){var n=/^(---|\+\+\+)\s+(.*)\r?$/.exec(t[r]);if(n){var o="---"===n[1]?"old":"new",i=n[2].split("\t",2),s=i[0].replace(/\\\\/g,"\\");/^".*"$/.test(s)&&(s=s.substr(1,s.length-2)),e[o+"FileName"]=s,e[o+"Header"]=(i[1]||"").trim(),r++}}function s(){var e=r,n=t[r++].split(/@@ -(\d+)(?:,(\d+))? \+(\d+)(?:,(\d+))? @@/),o={oldStart:+n[1],oldLines:void 0===n[2]?1:+n[2],newStart:+n[3],newLines:void 0===n[4]?1:+n[4],lines:[]};0===o.oldLines&&(o.oldStart+=1),0===o.newLines&&(o.newStart+=1);for(var i=0,s=0;r<t.length&&(s<o.oldLines||i<o.newLines||null!==(a=t[r])&&void 0!==a&&a.startsWith("\\"));r++){var a,l=0==t[r].length&&r!=t.length-1?" ":t[r][0];if("+"!==l&&"-"!==l&&" "!==l&&"\\"!==l)throw new Error("Hunk at line ".concat(e+1," contained invalid line ").concat(t[r]));o.lines.push(t[r]),"+"===l?i++:"-"===l?s++:" "===l&&(i++,s++)}if(!i&&1===o.newLines&&(o.newLines=0),!s&&1===o.oldLines&&(o.oldLines=0),i!==o.newLines)throw new Error("Added line count did not match for hunk at line "+(e+1));if(s!==o.oldLines)throw new Error("Removed line count did not match for hunk at line "+(e+1));return o}for(;r<t.length;)o();return n}function Br(e,t,n){var r=!0,o=!1,i=!1,s=1;return function a(){if(r&&!i){if(o?s++:r=!1,e+s<=n)return e+s;i=!0}if(!o)return i||(r=!0),t<=e-s?e-s++:(o=!0,a())}}function Mr(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("string"==typeof t&&(t=Ir(t)),Array.isArray(t)){if(t.length>1)throw new Error("applyPatch only works with a single input.");t=t[0]}(n.autoConvertLineEndings||null==n.autoConvertLineEndings)&&(function(e){return e.includes("\r\n")&&!e.startsWith("\n")&&!e.match(/[^\r]\n/)}(e)&&function(e){return Array.isArray(e)||(e=[e]),!e.some(function(e){return e.hunks.some(function(e){return e.lines.some(function(e){return!e.startsWith("\\")&&e.endsWith("\r")})})})}(t)?t=Or(t):function(e){return!e.includes("\r\n")&&e.includes("\n")}(e)&&function(e){return Array.isArray(e)||(e=[e]),e.some(function(e){return e.hunks.some(function(e){return e.lines.some(function(e){return e.endsWith("\r")})})})&&e.every(function(e){return e.hunks.every(function(e){return e.lines.every(function(t,n){var r;return t.startsWith("\\")||t.endsWith("\r")||(null===(r=e.lines[n+1])||void 0===r?void 0:r.startsWith("\\"))})})})}(t)&&(t=Tr(t)));var r=e.split("\n"),o=t.hunks,i=n.compareLine||function(e,t,n,r){return t===r},s=n.fuzzFactor||0,a=0;if(s<0||!Number.isInteger(s))throw new Error("fuzzFactor must be a non-negative integer");if(!o.length)return e;for(var l="",c=!1,u=!1,d=0;d<o[o.length-1].lines.length;d++){var h=o[o.length-1].lines[d];"\\"==h[0]&&("+"==l[0]?c=!0:"-"==l[0]&&(u=!0)),l=h}if(c){if(u){if(!s&&""==r[r.length-1])return!1}else if(""==r[r.length-1])r.pop();else if(!s)return!1}else if(u)if(""!=r[r.length-1])r.push("");else if(!s)return!1;function p(e,t,n){for(var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,c=0,u=!1;o<e.length;o++){var d=e[o],h=d.length>0?d[0]:" ",f=d.length>0?d.substr(1):d;if("-"===h){if(!i(t+1,r[t],h,f))return n&&null!=r[t]?(a[l]=r[t],p(e,t+1,n-1,o,!1,a,l+1)):null;t++,c=0}if("+"===h){if(!s)return null;a[l]=f,l++,c=0,u=!0}if(" "===h){if(c++,a[l]=r[t],!i(t+1,r[t],h,f))return u||!n?null:r[t]&&(p(e,t+1,n-1,o+1,!1,a,l+1)||p(e,t+1,n-1,o,!1,a,l+1))||p(e,t,n-1,o+1,!1,a,l);l++,s=!0,u=!1,t++}}return l-=c,t-=c,a.length=l,{patchedLines:a,oldLineLastI:t-1}}for(var f=[],m=0,g=0;g<o.length;g++){for(var b=o[g],w=void 0,y=r.length-b.oldLines+s,v=void 0,A=0;A<=s;A++){for(var _=Br(v=b.oldStart+m-1,a,y);void 0!==v&&!(w=p(b.lines,v,A));v=_());if(w)break}if(!w)return!1;for(var x=a;x<v;x++)f.push(r[x]);for(var S=0;S<w.patchedLines.length;S++){var E=w.patchedLines[S];f.push(E)}a=w.oldLineLastI+1,m=v+1-b.oldStart}for(var C=a;C<r.length;C++)f.push(r[C]);return f.join("\n")}function Pr(e,t){"string"==typeof e&&(e=Ir(e));var n=0;!function r(){var o=e[n++];if(!o)return t.complete();t.loadFile(o,function(e,n){if(e)return t.complete(e);var i=Mr(n,o,t);t.patched(o,i,function(e){if(e)return t.complete(e);r()})})}()}function jr(e,t,n,r,o,i,s){if(s||(s={}),"function"==typeof s&&(s={callback:s}),void 0===s.context&&(s.context=4),s.newlineIsToken)throw new Error("newlineIsToken may not be used with patch-generation functions, only with diffing functions");if(!s.callback)return l(dr(n,r,s));var a=s.callback;function l(n){if(n){n.push({value:"",lines:[]});for(var r=[],a=0,l=0,c=[],u=1,d=1,h=function(){var e=n[p],t=e.lines||function(e){var t=e.endsWith("\n"),n=e.split("\n").map(function(e){return e+"\n"});return t?n.pop():n.push(n.pop().slice(0,-1)),n}(e.value);if(e.lines=t,e.added||e.removed){var o;if(!a){var i=n[p-1];a=u,l=d,i&&(c=s.context>0?w(i.lines.slice(-s.context)):[],a-=c.length,l-=c.length)}(o=c).push.apply(o,Ar(t.map(function(t){return(e.added?"+":"-")+t}))),e.added?d+=t.length:u+=t.length}else{if(a)if(t.length<=2*s.context&&p<n.length-2){var h;(h=c).push.apply(h,Ar(w(t)))}else{var f,m=Math.min(t.length,s.context);(f=c).push.apply(f,Ar(w(t.slice(0,m))));var g={oldStart:a,oldLines:u-a+m,newStart:l,newLines:d-l+m,lines:c};r.push(g),a=0,l=0,c=[]}u+=t.length,d+=t.length}},p=0;p<n.length;p++)h();for(var f=0,m=r;f<m.length;f++)for(var g=m[f],b=0;b<g.lines.length;b++)g.lines[b].endsWith("\n")?g.lines[b]=g.lines[b].slice(0,-1):(g.lines.splice(b+1,0,"\\ No newline at end of file"),b++);return{oldFileName:e,newFileName:t,oldHeader:o,newHeader:i,hunks:r}}function w(e){return e.map(function(e){return" "+e})}}dr(n,r,wr(wr({},s),{},{callback:function(e){var t=l(e);a(t)}}))}function Nr(e){if(Array.isArray(e))return e.map(Nr).join("\n");var t=[];e.oldFileName==e.newFileName&&t.push("Index: "+e.oldFileName),t.push("==================================================================="),t.push("--- "+e.oldFileName+(void 0===e.oldHeader?"":"\t"+e.oldHeader)),t.push("+++ "+e.newFileName+(void 0===e.newHeader?"":"\t"+e.newHeader));for(var n=0;n<e.hunks.length;n++){var r=e.hunks[n];0===r.oldLines&&(r.oldStart-=1),0===r.newLines&&(r.newStart-=1),t.push("@@ -"+r.oldStart+","+r.oldLines+" +"+r.newStart+","+r.newLines+" @@"),t.push.apply(t,r.lines)}return t.join("\n")+"\n"}function Fr(e,t,n,r,o,i,s){var a;if("function"==typeof s&&(s={callback:s}),null===(a=s)||void 0===a||!a.callback){var l=jr(e,t,n,r,o,i,s);return l?Nr(l):void 0}var c=s.callback;jr(e,t,n,r,o,i,wr(wr({},s),{},{callback:function(e){e?c(Nr(e)):c()}}))}function Dr(e,t,n,r,o,i){return Fr(e,e,t,n,r,o,i)}function Rr(e,t){if(t.length>e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function Lr(e){var t=to(e.lines),n=t.oldLines,r=t.newLines;void 0!==n?e.oldLines=n:delete e.oldLines,void 0!==r?e.newLines=r:delete e.newLines}function zr(e,t,n){e=Hr(e,n),t=Hr(t,n);var r={};(e.index||t.index)&&(r.index=e.index||t.index),(e.newFileName||t.newFileName)&&(Ur(e)?Ur(t)?(r.oldFileName=Qr(r,e.oldFileName,t.oldFileName),r.newFileName=Qr(r,e.newFileName,t.newFileName),r.oldHeader=Qr(r,e.oldHeader,t.oldHeader),r.newHeader=Qr(r,e.newHeader,t.newHeader)):(r.oldFileName=e.oldFileName,r.newFileName=e.newFileName,r.oldHeader=e.oldHeader,r.newHeader=e.newHeader):(r.oldFileName=t.oldFileName||e.oldFileName,r.newFileName=t.newFileName||e.newFileName,r.oldHeader=t.oldHeader||e.oldHeader,r.newHeader=t.newHeader||e.newHeader)),r.hunks=[];for(var o=0,i=0,s=0,a=0;o<e.hunks.length||i<t.hunks.length;){var l=e.hunks[o]||{oldStart:1/0},c=t.hunks[i]||{oldStart:1/0};if(qr(l,c))r.hunks.push(Wr(l,s)),o++,a+=l.newLines-l.oldLines;else if(qr(c,l))r.hunks.push(Wr(c,a)),i++,s+=c.newLines-c.oldLines;else{var u={oldStart:Math.min(l.oldStart,c.oldStart),oldLines:0,newStart:Math.min(l.newStart+s,c.oldStart+a),newLines:0,lines:[]};$r(u,l.oldStart,l.lines,c.oldStart,c.lines),i++,o++,r.hunks.push(u)}}return r}function Hr(e,t){if("string"==typeof e){if(/^@@/m.test(e)||/^Index:/m.test(e))return Ir(e)[0];if(!t)throw new Error("Must provide a base reference or pass in a patch");return jr(void 0,void 0,t,e)}return e}function Ur(e){return e.newFileName&&e.newFileName!==e.oldFileName}function Qr(e,t,n){return t===n?t:(e.conflict=!0,{mine:t,theirs:n})}function qr(e,t){return e.oldStart<t.oldStart&&e.oldStart+e.oldLines<t.oldStart}function Wr(e,t){return{oldStart:e.oldStart,oldLines:e.oldLines,newStart:e.newStart+t,newLines:e.newLines,lines:e.lines}}function $r(e,t,n,r,o){var i={offset:t,lines:n,index:0},s={offset:r,lines:o,index:0};for(Jr(e,i,s),Jr(e,s,i);i.index<i.lines.length&&s.index<s.lines.length;){var a=i.lines[i.index],l=s.lines[s.index];if("-"!==a[0]&&"+"!==a[0]||"-"!==l[0]&&"+"!==l[0])if("+"===a[0]&&" "===l[0]){var c;(c=e.lines).push.apply(c,Ar(Xr(i)))}else if("+"===l[0]&&" "===a[0]){var u;(u=e.lines).push.apply(u,Ar(Xr(s)))}else"-"===a[0]&&" "===l[0]?Vr(e,i,s):"-"===l[0]&&" "===a[0]?Vr(e,s,i,!0):a===l?(e.lines.push(a),i.index++,s.index++):Yr(e,Xr(i),Xr(s));else Gr(e,i,s)}Kr(e,i),Kr(e,s),Lr(e)}function Gr(e,t,n){var r=Xr(t),o=Xr(n);if(Zr(r)&&Zr(o)){var i,s;if(Rr(r,o)&&eo(n,r,r.length-o.length))return void(i=e.lines).push.apply(i,Ar(r));if(Rr(o,r)&&eo(t,o,o.length-r.length))return void(s=e.lines).push.apply(s,Ar(o))}else if(function(e,t){return e.length===t.length&&Rr(e,t)}(r,o)){var a;return void(a=e.lines).push.apply(a,Ar(r))}Yr(e,r,o)}function Vr(e,t,n,r){var o,i=Xr(t),s=function(e,t){for(var n=[],r=[],o=0,i=!1,s=!1;o<t.length&&e.index<e.lines.length;){var a=e.lines[e.index],l=t[o];if("+"===l[0])break;if(i=i||" "!==a[0],r.push(l),o++,"+"===a[0])for(s=!0;"+"===a[0];)n.push(a),a=e.lines[++e.index];l.substr(1)===a.substr(1)?(n.push(a),e.index++):s=!0}if("+"===(t[o]||"")[0]&&i&&(s=!0),s)return n;for(;o<t.length;)r.push(t[o++]);return{merged:r,changes:n}}(n,i);s.merged?(o=e.lines).push.apply(o,Ar(s.merged)):Yr(e,r?s:i,r?i:s)}function Yr(e,t,n){e.conflict=!0,e.lines.push({conflict:!0,mine:t,theirs:n})}function Jr(e,t,n){for(;t.offset<n.offset&&t.index<t.lines.length;){var r=t.lines[t.index++];e.lines.push(r),t.offset++}}function Kr(e,t){for(;t.index<t.lines.length;){var n=t.lines[t.index++];e.lines.push(n)}}function Xr(e){for(var t=[],n=e.lines[e.index][0];e.index<e.lines.length;){var r=e.lines[e.index];if("-"===n&&"+"===r[0]&&(n="+"),n!==r[0])break;t.push(r),e.index++}return t}function Zr(e){return e.reduce(function(e,t){return e&&"-"===t[0]},!0)}function eo(e,t,n){for(var r=0;r<n;r++){var o=t[t.length-n+r].substr(1);if(e.lines[e.index+r]!==" "+o)return!1}return e.index+=n,!0}function to(e){var t=0,n=0;return e.forEach(function(e){if("string"!=typeof e){var r=to(e.mine),o=to(e.theirs);void 0!==t&&(r.oldLines===o.oldLines?t+=r.oldLines:t=void 0),void 0!==n&&(r.newLines===o.newLines?n+=r.newLines:n=void 0)}else void 0!==n&&("+"===e[0]||" "===e[0])&&n++,void 0!==t&&("-"===e[0]||" "===e[0])&&t++}),{oldLines:t,newLines:n}}function no(e){return Array.isArray(e)?e.map(no).reverse():wr(wr({},e),{},{oldFileName:e.newFileName,oldHeader:e.newHeader,newFileName:e.oldFileName,newHeader:e.oldHeader,hunks:e.hunks.map(function(e){return{oldLines:e.newLines,oldStart:e.newStart,newLines:e.oldLines,newStart:e.oldStart,lines:e.lines.map(function(e){return e.startsWith("-")?"+".concat(e.slice(1)):e.startsWith("+")?"-".concat(e.slice(1)):e})}})})}function ro(e){for(var t,n,r=[],o=0;o<e.length;o++)n=(t=e[o]).added?1:t.removed?-1:0,r.push([n,t.value]);return r}function oo(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];r.added?t.push("<ins>"):r.removed&&t.push("<del>"),t.push(io(r.value)),r.added?t.push("</ins>"):r.removed&&t.push("</del>")}return t.join("")}function io(e){var t=e;return(t=(t=(t=t.replace(/&/g,"&amp;")).replace(/</g,"&lt;")).replace(/>/g,"&gt;")).replace(/"/g,"&quot;")}Cr.tokenize=function(e){return e.slice()},Cr.join=Cr.removeEmpty=function(e){return e};var so=f(j()),ao=f(N()),lo=f(z()),co=f(Q()),uo=f(G()),ho=f(K()),po=f(te()),fo=f(xe()),mo=f(Ie(),1),{program:go,createCommand:bo,createArgument:wo,createOption:yo,CommanderError:vo,InvalidArgumentError:Ao,InvalidOptionArgumentError:_o,Command:xo,Argument:So,Option:Eo,Help:Co}=mo.default,ko=f(Me()),Oo=f(Ze()),To=f(wn()),Io=(f(yn(),1),f(En(),1)),Bo=f(Cn(),1),Mo=f(Tn(),1),Po=f(Bn(),1),jo=Mo.default,No=Qn.default,Fo=qn.default,Do=Wn,Ro=so.default,Lo=co.default,zo=Hn(),Ho=uo.default,Uo=ho.default,Qo=po.default,qo=ko.default,Wo=To.default,$o=jo,Go=Po.default,Vo=Io.default,Yo=Bo.default},"./node_modules/playwright-core/lib/vite/recorder sync recursive ^\\.\\/.*$":(e,t,n)=>{var r={"./assets/codeMirrorModule-B_Ipq0Ck":"./node_modules/playwright-core/lib/vite/recorder/assets/codeMirrorModule-B_Ipq0Ck.js","./assets/codeMirrorModule-B_Ipq0Ck.js":"./node_modules/playwright-core/lib/vite/recorder/assets/codeMirrorModule-B_Ipq0Ck.js","./assets/codeMirrorModule-C3UTv-Ge.css":"./node_modules/playwright-core/lib/vite/recorder/assets/codeMirrorModule-C3UTv-Ge.css","./assets/codicon-DCmgc-ay.ttf":"./node_modules/playwright-core/lib/vite/recorder/assets/codicon-DCmgc-ay.ttf","./assets/index-BzOuKk9Z":"./node_modules/playwright-core/lib/vite/recorder/assets/index-BzOuKk9Z.js","./assets/index-BzOuKk9Z.js":"./node_modules/playwright-core/lib/vite/recorder/assets/index-BzOuKk9Z.js","./assets/index-CgG-oz1O.css":"./node_modules/playwright-core/lib/vite/recorder/assets/index-CgG-oz1O.css","./index.html":"./node_modules/playwright-core/lib/vite/recorder/index.html","./playwright-logo.svg":"./node_modules/playwright-core/lib/vite/recorder/playwright-logo.svg"};function o(e){var t=i(e);return n(t)}function i(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}o.keys=function(){return Object.keys(r)},o.resolve=i,e.exports=o,o.id="./node_modules/playwright-core/lib/vite/recorder sync recursive ^\\.\\/.*$"},"./node_modules/playwright-core/lib/vite/recorder/assets/codeMirrorModule-B_Ipq0Ck.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>l});var r,o=n("./node_modules/playwright-core/lib/vite/recorder/assets/index-BzOuKk9Z.js"),i={exports:{}};function s(){return r||(r=1,i.exports=function(){var e=navigator.userAgent,t=navigator.platform,n=/gecko\/\d/i.test(e),r=/MSIE \d/.test(e),o=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(e),i=/Edge\/(\d+)/.exec(e),s=r||o||i,a=s&&(r?document.documentMode||6:+(i||o)[1]),l=!i&&/WebKit\//.test(e),c=l&&/Qt\/\d+\.\d+/.test(e),u=!i&&/Chrome\/(\d+)/.exec(e),d=u&&+u[1],h=/Opera\//.test(e),p=/Apple Computer/.test(navigator.vendor),f=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(e),m=/PhantomJS/.test(e),g=p&&(/Mobile\/\w+/.test(e)||navigator.maxTouchPoints>2),b=/Android/.test(e),w=g||b||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(e),y=g||/Mac/.test(t),v=/\bCrOS\b/.test(e),A=/win/i.test(t),_=h&&e.match(/Version\/(\d*\.\d*)/);_&&(_=Number(_[1])),_&&_>=15&&(h=!1,l=!0);var x=y&&(c||h&&(null==_||_<12.11)),S=n||s&&a>=9;function E(e){return new RegExp("(^|\\s)"+e+"(?:$|\\s)\\s*")}var C,k=function(e,t){var n=e.className,r=E(t).exec(n);if(r){var o=n.slice(r.index+r[0].length);e.className=n.slice(0,r.index)+(o?r[1]+o:"")}};function O(e){for(var t=e.childNodes.length;t>0;--t)e.removeChild(e.firstChild);return e}function T(e,t){return O(e).appendChild(t)}function I(e,t,n,r){var o=document.createElement(e);if(n&&(o.className=n),r&&(o.style.cssText=r),"string"==typeof t)o.appendChild(document.createTextNode(t));else if(t)for(var i=0;i<t.length;++i)o.appendChild(t[i]);return o}function B(e,t,n,r){var o=I(e,t,n,r);return o.setAttribute("role","presentation"),o}function M(e,t){if(3==t.nodeType&&(t=t.parentNode),e.contains)return e.contains(t);do{if(11==t.nodeType&&(t=t.host),t==e)return!0}while(t=t.parentNode)}function P(e){var t,n=e.ownerDocument||e;try{t=e.activeElement}catch{t=n.body||null}for(;t&&t.shadowRoot&&t.shadowRoot.activeElement;)t=t.shadowRoot.activeElement;return t}function j(e,t){var n=e.className;E(t).test(n)||(e.className+=(n?" ":"")+t)}function N(e,t){for(var n=e.split(" "),r=0;r<n.length;r++)n[r]&&!E(n[r]).test(t)&&(t+=" "+n[r]);return t}C=document.createRange?function(e,t,n,r){var o=document.createRange();return o.setEnd(r||e,n),o.setStart(e,t),o}:function(e,t,n){var r=document.body.createTextRange();try{r.moveToElementText(e.parentNode)}catch{return r}return r.collapse(!0),r.moveEnd("character",n),r.moveStart("character",t),r};var F=function(e){e.select()};function D(e){return e.display.wrapper.ownerDocument}function R(e){return L(e.display.wrapper)}function L(e){return e.getRootNode?e.getRootNode():e.ownerDocument}function z(e){return D(e).defaultView}function H(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t)}}function U(e,t,n){for(var r in t||(t={}),e)e.hasOwnProperty(r)&&(!1!==n||!t.hasOwnProperty(r))&&(t[r]=e[r]);return t}function Q(e,t,n,r,o){null==t&&-1==(t=e.search(/[^\s\u00a0]/))&&(t=e.length);for(var i=r||0,s=o||0;;){var a=e.indexOf("\t",i);if(a<0||a>=t)return s+(t-i);s+=a-i,s+=n-s%n,i=a+1}}g?F=function(e){e.selectionStart=0,e.selectionEnd=e.value.length}:s&&(F=function(e){try{e.select()}catch{}});var q=function(){this.id=null,this.f=null,this.time=0,this.handler=H(this.onTimeout,this)};function W(e,t){for(var n=0;n<e.length;++n)if(e[n]==t)return n;return-1}q.prototype.onTimeout=function(e){e.id=0,e.time<=+new Date?e.f():setTimeout(e.handler,e.time-+new Date)},q.prototype.set=function(e,t){this.f=t;var n=+new Date+e;(!this.id||n<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,e),this.time=n)};var $={toString:function(){return"CodeMirror.Pass"}},G={scroll:!1},V={origin:"*mouse"},Y={origin:"+move"};function J(e,t,n){for(var r=0,o=0;;){var i=e.indexOf("\t",r);-1==i&&(i=e.length);var s=i-r;if(i==e.length||o+s>=t)return r+Math.min(s,t-o);if(o+=i-r,r=i+1,(o+=n-o%n)>=t)return r}}var K=[""];function X(e){for(;K.length<=e;)K.push(Z(K)+" ");return K[e]}function Z(e){return e[e.length-1]}function ee(e,t){for(var n=[],r=0;r<e.length;r++)n[r]=t(e[r],r);return n}function te(){}function ne(e,t){var n;return Object.create?n=Object.create(e):(te.prototype=e,n=new te),t&&U(t,n),n}var re=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function oe(e){return/\w/.test(e)||e>""&&(e.toUpperCase()!=e.toLowerCase()||re.test(e))}function ie(e,t){return t?!!(t.source.indexOf("\\w")>-1&&oe(e))||t.test(e):oe(e)}function se(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t])return!1;return!0}var ae=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function le(e){return e.charCodeAt(0)>=768&&ae.test(e)}function ce(e,t,n){for(;(n<0?t>0:t<e.length)&&le(e.charAt(t));)t+=n;return t}function ue(e,t,n){for(var r=t>n?-1:1;;){if(t==n)return t;var o=(t+n)/2,i=r<0?Math.ceil(o):Math.floor(o);if(i==t)return e(i)?t:n;e(i)?n=i:t=i+r}}var de=null;function he(e,t,n){var r;de=null;for(var o=0;o<e.length;++o){var i=e[o];if(i.from<t&&i.to>t)return o;i.to==t&&(i.from!=i.to&&"before"==n?r=o:de=o),i.from==t&&(i.from!=i.to&&"before"!=n?r=o:de=o)}return r??de}var pe=function(){function e(e){return e<=247?"bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN".charAt(e):1424<=e&&e<=1524?"R":1536<=e&&e<=1785?"nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111".charAt(e-1536):1774<=e&&e<=2220?"r":8192<=e&&e<=8203?"w":8204==e?"b":"L"}var t=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,n=/[stwN]/,r=/[LRr]/,o=/[Lb1n]/,i=/[1n]/;function s(e,t,n){this.level=e,this.from=t,this.to=n}return function(a,l){var c="ltr"==l?"L":"R";if(0==a.length||"ltr"==l&&!t.test(a))return!1;for(var u=a.length,d=[],h=0;h<u;++h)d.push(e(a.charCodeAt(h)));for(var p=0,f=c;p<u;++p){var m=d[p];"m"==m?d[p]=f:f=m}for(var g=0,b=c;g<u;++g){var w=d[g];"1"==w&&"r"==b?d[g]="n":r.test(w)&&(b=w,"r"==w&&(d[g]="R"))}for(var y=1,v=d[0];y<u-1;++y){var A=d[y];"+"==A&&"1"==v&&"1"==d[y+1]?d[y]="1":","==A&&v==d[y+1]&&("1"==v||"n"==v)&&(d[y]=v),v=A}for(var _=0;_<u;++_){var x=d[_];if(","==x)d[_]="N";else if("%"==x){var S=void 0;for(S=_+1;S<u&&"%"==d[S];++S);for(var E=_&&"!"==d[_-1]||S<u&&"1"==d[S]?"1":"N",C=_;C<S;++C)d[C]=E;_=S-1}}for(var k=0,O=c;k<u;++k){var T=d[k];"L"==O&&"1"==T?d[k]="L":r.test(T)&&(O=T)}for(var I=0;I<u;++I)if(n.test(d[I])){var B=void 0;for(B=I+1;B<u&&n.test(d[B]);++B);for(var M="L"==(I?d[I-1]:c),P=M==("L"==(B<u?d[B]:c))?M?"L":"R":c,j=I;j<B;++j)d[j]=P;I=B-1}for(var N,F=[],D=0;D<u;)if(o.test(d[D])){var R=D;for(++D;D<u&&o.test(d[D]);++D);F.push(new s(0,R,D))}else{var L=D,z=F.length,H="rtl"==l?1:0;for(++D;D<u&&"L"!=d[D];++D);for(var U=L;U<D;)if(i.test(d[U])){L<U&&(F.splice(z,0,new s(1,L,U)),z+=H);var Q=U;for(++U;U<D&&i.test(d[U]);++U);F.splice(z,0,new s(2,Q,U)),z+=H,L=U}else++U;L<D&&F.splice(z,0,new s(1,L,D))}return"ltr"==l&&(1==F[0].level&&(N=a.match(/^\s+/))&&(F[0].from=N[0].length,F.unshift(new s(0,0,N[0].length))),1==Z(F).level&&(N=a.match(/\s+$/))&&(Z(F).to-=N[0].length,F.push(new s(0,u-N[0].length,u)))),"rtl"==l?F.reverse():F}}();function fe(e,t){var n=e.order;return null==n&&(n=e.order=pe(e.text,t)),n}var me=[],ge=function(e,t,n){if(e.addEventListener)e.addEventListener(t,n,!1);else if(e.attachEvent)e.attachEvent("on"+t,n);else{var r=e._handlers||(e._handlers={});r[t]=(r[t]||me).concat(n)}};function be(e,t){return e._handlers&&e._handlers[t]||me}function we(e,t,n){if(e.removeEventListener)e.removeEventListener(t,n,!1);else if(e.detachEvent)e.detachEvent("on"+t,n);else{var r=e._handlers,o=r&&r[t];if(o){var i=W(o,n);i>-1&&(r[t]=o.slice(0,i).concat(o.slice(i+1)))}}}function ye(e,t){var n=be(e,t);if(n.length)for(var r=Array.prototype.slice.call(arguments,2),o=0;o<n.length;++o)n[o].apply(null,r)}function ve(e,t,n){return"string"==typeof t&&(t={type:t,preventDefault:function(){this.defaultPrevented=!0}}),ye(e,n||t.type,e,t),Ce(t)||t.codemirrorIgnore}function Ae(e){var t=e._handlers&&e._handlers.cursorActivity;if(t)for(var n=e.curOp.cursorActivityHandlers||(e.curOp.cursorActivityHandlers=[]),r=0;r<t.length;++r)-1==W(n,t[r])&&n.push(t[r])}function _e(e,t){return be(e,t).length>0}function xe(e){e.prototype.on=function(e,t){ge(this,e,t)},e.prototype.off=function(e,t){we(this,e,t)}}function Se(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function Ee(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}function Ce(e){return null!=e.defaultPrevented?e.defaultPrevented:0==e.returnValue}function ke(e){Se(e),Ee(e)}function Oe(e){return e.target||e.srcElement}function Te(e){var t=e.which;return null==t&&(1&e.button?t=1:2&e.button?t=3:4&e.button&&(t=2)),y&&e.ctrlKey&&1==t&&(t=3),t}var Ie,Be,Me=function(){if(s&&a<9)return!1;var e=I("div");return"draggable"in e||"dragDrop"in e}();function Pe(e){if(null==Ie){var t=I("span","");T(e,I("span",[t,document.createTextNode("x")])),0!=e.firstChild.offsetHeight&&(Ie=t.offsetWidth<=1&&t.offsetHeight>2&&!(s&&a<8))}var n=Ie?I("span",""):I("span","",null,"display: inline-block; width: 1px; margin-right: -1px");return n.setAttribute("cm-text",""),n}function je(e){if(null!=Be)return Be;var t=T(e,document.createTextNode("AA")),n=C(t,0,1).getBoundingClientRect(),r=C(t,1,2).getBoundingClientRect();return O(e),!(!n||n.left==n.right)&&(Be=r.right-n.right<3)}var Ne,Fe=3!="\n\nb".split(/\n/).length?function(e){for(var t=0,n=[],r=e.length;t<=r;){var o=e.indexOf("\n",t);-1==o&&(o=e.length);var i=e.slice(t,"\r"==e.charAt(o-1)?o-1:o),s=i.indexOf("\r");-1!=s?(n.push(i.slice(0,s)),t+=s+1):(n.push(i),t=o+1)}return n}:function(e){return e.split(/\r\n?|\n/)},De=window.getSelection?function(e){try{return e.selectionStart!=e.selectionEnd}catch{return!1}}:function(e){var t;try{t=e.ownerDocument.selection.createRange()}catch{}return!(!t||t.parentElement()!=e)&&0!=t.compareEndPoints("StartToEnd",t)},Re="oncopy"in(Ne=I("div"))||(Ne.setAttribute("oncopy","return;"),"function"==typeof Ne.oncopy),Le=null;var ze={},He={};function Ue(e,t){arguments.length>2&&(t.dependencies=Array.prototype.slice.call(arguments,2)),ze[e]=t}function Qe(e){if("string"==typeof e&&He.hasOwnProperty(e))e=He[e];else if(e&&"string"==typeof e.name&&He.hasOwnProperty(e.name)){var t=He[e.name];"string"==typeof t&&(t={name:t}),(e=ne(t,e)).name=t.name}else{if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+xml$/.test(e))return Qe("application/xml");if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+json$/.test(e))return Qe("application/json")}return"string"==typeof e?{name:e}:e||{name:"null"}}function qe(e,t){t=Qe(t);var n=ze[t.name];if(!n)return qe(e,"text/plain");var r=n(e,t);if(We.hasOwnProperty(t.name)){var o=We[t.name];for(var i in o)o.hasOwnProperty(i)&&(r.hasOwnProperty(i)&&(r["_"+i]=r[i]),r[i]=o[i])}if(r.name=t.name,t.helperType&&(r.helperType=t.helperType),t.modeProps)for(var s in t.modeProps)r[s]=t.modeProps[s];return r}var We={};function $e(e,t){U(t,We.hasOwnProperty(e)?We[e]:We[e]={})}function Ge(e,t){if(!0===t)return t;if(e.copyState)return e.copyState(t);var n={};for(var r in t){var o=t[r];o instanceof Array&&(o=o.concat([])),n[r]=o}return n}function Ve(e,t){for(var n;e.innerMode&&(n=e.innerMode(t))&&n.mode!=e;)t=n.state,e=n.mode;return n||{mode:e,state:t}}function Ye(e,t,n){return!e.startState||e.startState(t,n)}var Je=function(e,t,n){this.pos=this.start=0,this.string=e,this.tabSize=t||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=n};function Ke(e,t){if((t-=e.first)<0||t>=e.size)throw new Error("There is no line "+(t+e.first)+" in the document.");for(var n=e;!n.lines;)for(var r=0;;++r){var o=n.children[r],i=o.chunkSize();if(t<i){n=o;break}t-=i}return n.lines[t]}function Xe(e,t,n){var r=[],o=t.line;return e.iter(t.line,n.line+1,function(e){var i=e.text;o==n.line&&(i=i.slice(0,n.ch)),o==t.line&&(i=i.slice(t.ch)),r.push(i),++o}),r}function Ze(e,t,n){var r=[];return e.iter(t,n,function(e){r.push(e.text)}),r}function et(e,t){var n=t-e.height;if(n)for(var r=e;r;r=r.parent)r.height+=n}function tt(e){if(null==e.parent)return null;for(var t=e.parent,n=W(t.lines,e),r=t.parent;r;t=r,r=r.parent)for(var o=0;r.children[o]!=t;++o)n+=r.children[o].chunkSize();return n+t.first}function nt(e,t){var n=e.first;e:do{for(var r=0;r<e.children.length;++r){var o=e.children[r],i=o.height;if(t<i){e=o;continue e}t-=i,n+=o.chunkSize()}return n}while(!e.lines);for(var s=0;s<e.lines.length;++s){var a=e.lines[s].height;if(t<a)break;t-=a}return n+s}function rt(e,t){return t>=e.first&&t<e.first+e.size}function ot(e,t){return String(e.lineNumberFormatter(t+e.firstLineNumber))}function it(e,t,n){if(void 0===n&&(n=null),!(this instanceof it))return new it(e,t,n);this.line=e,this.ch=t,this.sticky=n}function st(e,t){return e.line-t.line||e.ch-t.ch}function at(e,t){return e.sticky==t.sticky&&0==st(e,t)}function lt(e){return it(e.line,e.ch)}function ct(e,t){return st(e,t)<0?t:e}function ut(e,t){return st(e,t)<0?e:t}function dt(e,t){return Math.max(e.first,Math.min(t,e.first+e.size-1))}function ht(e,t){if(t.line<e.first)return it(e.first,0);var n=e.first+e.size-1;return t.line>n?it(n,Ke(e,n).text.length):function(e,t){var n=e.ch;return null==n||n>t?it(e.line,t):n<0?it(e.line,0):e}(t,Ke(e,t.line).text.length)}function pt(e,t){for(var n=[],r=0;r<t.length;r++)n[r]=ht(e,t[r]);return n}Je.prototype.eol=function(){return this.pos>=this.string.length},Je.prototype.sol=function(){return this.pos==this.lineStart},Je.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},Je.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},Je.prototype.eat=function(e){var t=this.string.charAt(this.pos);if("string"==typeof e?t==e:t&&(e.test?e.test(t):e(t)))return++this.pos,t},Je.prototype.eatWhile=function(e){for(var t=this.pos;this.eat(e););return this.pos>t},Je.prototype.eatSpace=function(){for(var e=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>e},Je.prototype.skipToEnd=function(){this.pos=this.string.length},Je.prototype.skipTo=function(e){var t=this.string.indexOf(e,this.pos);if(t>-1)return this.pos=t,!0},Je.prototype.backUp=function(e){this.pos-=e},Je.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=Q(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?Q(this.string,this.lineStart,this.tabSize):0)},Je.prototype.indentation=function(){return Q(this.string,null,this.tabSize)-(this.lineStart?Q(this.string,this.lineStart,this.tabSize):0)},Je.prototype.match=function(e,t,n){if("string"!=typeof e){var r=this.string.slice(this.pos).match(e);return r&&r.index>0?null:(r&&!1!==t&&(this.pos+=r[0].length),r)}var o=function(e){return n?e.toLowerCase():e};if(o(this.string.substr(this.pos,e.length))==o(e))return!1!==t&&(this.pos+=e.length),!0},Je.prototype.current=function(){return this.string.slice(this.start,this.pos)},Je.prototype.hideFirstChars=function(e,t){this.lineStart+=e;try{return t()}finally{this.lineStart-=e}},Je.prototype.lookAhead=function(e){var t=this.lineOracle;return t&&t.lookAhead(e)},Je.prototype.baseToken=function(){var e=this.lineOracle;return e&&e.baseToken(this.pos)};var ft=function(e,t){this.state=e,this.lookAhead=t},mt=function(e,t,n,r){this.state=t,this.doc=e,this.line=n,this.maxLookAhead=r||0,this.baseTokens=null,this.baseTokenPos=1};function gt(e,t,n,r){var o=[e.state.modeGen],i={};Et(e,t.text,e.doc.mode,n,function(e,t){return o.push(e,t)},i,r);for(var s=n.state,a=function(r){n.baseTokens=o;var a=e.state.overlays[r],l=1,c=0;n.state=!0,Et(e,t.text,a.mode,n,function(e,t){for(var n=l;c<e;){var r=o[l];r>e&&o.splice(l,1,e,o[l+1],r),l+=2,c=Math.min(e,r)}if(t)if(a.opaque)o.splice(n,l-n,e,"overlay "+t),l=n+2;else for(;n<l;n+=2){var i=o[n+1];o[n+1]=(i?i+" ":"")+"overlay "+t}},i),n.state=s,n.baseTokens=null,n.baseTokenPos=1},l=0;l<e.state.overlays.length;++l)a(l);return{styles:o,classes:i.bgClass||i.textClass?i:null}}function bt(e,t,n){if(!t.styles||t.styles[0]!=e.state.modeGen){var r=wt(e,tt(t)),o=t.text.length>e.options.maxHighlightLength&&Ge(e.doc.mode,r.state),i=gt(e,t,r);o&&(r.state=o),t.stateAfter=r.save(!o),t.styles=i.styles,i.classes?t.styleClasses=i.classes:t.styleClasses&&(t.styleClasses=null),n===e.doc.highlightFrontier&&(e.doc.modeFrontier=Math.max(e.doc.modeFrontier,++e.doc.highlightFrontier))}return t.styles}function wt(e,t,n){var r=e.doc,o=e.display;if(!r.mode.startState)return new mt(r,!0,t);var i=function(e,t,n){for(var r,o,i=e.doc,s=n?-1:t-(e.doc.mode.innerMode?1e3:100),a=t;a>s;--a){if(a<=i.first)return i.first;var l=Ke(i,a-1),c=l.stateAfter;if(c&&(!n||a+(c instanceof ft?c.lookAhead:0)<=i.modeFrontier))return a;var u=Q(l.text,null,e.options.tabSize);(null==o||r>u)&&(o=a-1,r=u)}return o}(e,t,n),s=i>r.first&&Ke(r,i-1).stateAfter,a=s?mt.fromSaved(r,s,i):new mt(r,Ye(r.mode),i);return r.iter(i,t,function(n){yt(e,n.text,a);var r=a.line;n.stateAfter=r==t-1||r%5==0||r>=o.viewFrom&&r<o.viewTo?a.save():null,a.nextLine()}),n&&(r.modeFrontier=a.line),a}function yt(e,t,n,r){var o=e.doc.mode,i=new Je(t,e.options.tabSize,n);for(i.start=i.pos=r||0,""==t&&vt(o,n.state);!i.eol();)At(o,i,n.state),i.start=i.pos}function vt(e,t){if(e.blankLine)return e.blankLine(t);if(e.innerMode){var n=Ve(e,t);if(n.mode.blankLine)return n.mode.blankLine(n.state)}}function At(e,t,n,r){for(var o=0;o<10;o++){r&&(r[0]=Ve(e,n).mode);var i=e.token(t,n);if(t.pos>t.start)return i}throw new Error("Mode "+e.name+" failed to advance stream.")}mt.prototype.lookAhead=function(e){var t=this.doc.getLine(this.line+e);return null!=t&&e>this.maxLookAhead&&(this.maxLookAhead=e),t},mt.prototype.baseToken=function(e){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=e;)this.baseTokenPos+=2;var t=this.baseTokens[this.baseTokenPos+1];return{type:t&&t.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-e}},mt.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},mt.fromSaved=function(e,t,n){return t instanceof ft?new mt(e,Ge(e.mode,t.state),n,t.lookAhead):new mt(e,Ge(e.mode,t),n)},mt.prototype.save=function(e){var t=!1!==e?Ge(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new ft(t,this.maxLookAhead):t};var _t=function(e,t,n){this.start=e.start,this.end=e.pos,this.string=e.current(),this.type=t||null,this.state=n};function xt(e,t,n,r){var o,i,s=e.doc,a=s.mode,l=Ke(s,(t=ht(s,t)).line),c=wt(e,t.line,n),u=new Je(l.text,e.options.tabSize,c);for(r&&(i=[]);(r||u.pos<t.ch)&&!u.eol();)u.start=u.pos,o=At(a,u,c.state),r&&i.push(new _t(u,o,Ge(s.mode,c.state)));return r?i:new _t(u,o,c.state)}function St(e,t){if(e)for(;;){var n=e.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!n)break;e=e.slice(0,n.index)+e.slice(n.index+n[0].length);var r=n[1]?"bgClass":"textClass";null==t[r]?t[r]=n[2]:new RegExp("(?:^|\\s)"+n[2]+"(?:$|\\s)").test(t[r])||(t[r]+=" "+n[2])}return e}function Et(e,t,n,r,o,i,s){var a=n.flattenSpans;null==a&&(a=e.options.flattenSpans);var l,c=0,u=null,d=new Je(t,e.options.tabSize,r),h=e.options.addModeClass&&[null];for(""==t&&St(vt(n,r.state),i);!d.eol();){if(d.pos>e.options.maxHighlightLength?(a=!1,s&&yt(e,t,r,d.pos),d.pos=t.length,l=null):l=St(At(n,d,r.state,h),i),h){var p=h[0].name;p&&(l="m-"+(l?p+" "+l:p))}if(!a||u!=l){for(;c<d.start;)o(c=Math.min(d.start,c+5e3),u);u=l}d.start=d.pos}for(;c<d.pos;){var f=Math.min(d.pos,c+5e3);o(f,u),c=f}}var Ct=!1,kt=!1;function Ot(e,t,n){this.marker=e,this.from=t,this.to=n}function Tt(e,t){if(e)for(var n=0;n<e.length;++n){var r=e[n];if(r.marker==t)return r}}function It(e,t){for(var n,r=0;r<e.length;++r)e[r]!=t&&(n||(n=[])).push(e[r]);return n}function Bt(e,t){if(t.full)return null;var n=rt(e,t.from.line)&&Ke(e,t.from.line).markedSpans,r=rt(e,t.to.line)&&Ke(e,t.to.line).markedSpans;if(!n&&!r)return null;var o=t.from.ch,i=t.to.ch,s=0==st(t.from,t.to),a=function(e,t,n){var r;if(e)for(var o=0;o<e.length;++o){var i=e[o],s=i.marker;if(null==i.from||(s.inclusiveLeft?i.from<=t:i.from<t)||i.from==t&&"bookmark"==s.type&&(!n||!i.marker.insertLeft)){var a=null==i.to||(s.inclusiveRight?i.to>=t:i.to>t);(r||(r=[])).push(new Ot(s,i.from,a?null:i.to))}}return r}(n,o,s),l=function(e,t,n){var r;if(e)for(var o=0;o<e.length;++o){var i=e[o],s=i.marker;if(null==i.to||(s.inclusiveRight?i.to>=t:i.to>t)||i.from==t&&"bookmark"==s.type&&(!n||i.marker.insertLeft)){var a=null==i.from||(s.inclusiveLeft?i.from<=t:i.from<t);(r||(r=[])).push(new Ot(s,a?null:i.from-t,null==i.to?null:i.to-t))}}return r}(r,i,s),c=1==t.text.length,u=Z(t.text).length+(c?o:0);if(a)for(var d=0;d<a.length;++d){var h=a[d];if(null==h.to){var p=Tt(l,h.marker);p?c&&(h.to=null==p.to?null:p.to+u):h.to=o}}if(l)for(var f=0;f<l.length;++f){var m=l[f];null!=m.to&&(m.to+=u),null==m.from?Tt(a,m.marker)||(m.from=u,c&&(a||(a=[])).push(m)):(m.from+=u,c&&(a||(a=[])).push(m))}a&&(a=Mt(a)),l&&l!=a&&(l=Mt(l));var g=[a];if(!c){var b,w=t.text.length-2;if(w>0&&a)for(var y=0;y<a.length;++y)null==a[y].to&&(b||(b=[])).push(new Ot(a[y].marker,null,null));for(var v=0;v<w;++v)g.push(b);g.push(l)}return g}function Mt(e){for(var t=0;t<e.length;++t){var n=e[t];null!=n.from&&n.from==n.to&&!1!==n.marker.clearWhenEmpty&&e.splice(t--,1)}return e.length?e:null}function Pt(e){var t=e.markedSpans;if(t){for(var n=0;n<t.length;++n)t[n].marker.detachLine(e);e.markedSpans=null}}function jt(e,t){if(t){for(var n=0;n<t.length;++n)t[n].marker.attachLine(e);e.markedSpans=t}}function Nt(e){return e.inclusiveLeft?-1:0}function Ft(e){return e.inclusiveRight?1:0}function Dt(e,t){var n=e.lines.length-t.lines.length;if(0!=n)return n;var r=e.find(),o=t.find(),i=st(r.from,o.from)||Nt(e)-Nt(t);return i?-i:st(r.to,o.to)||Ft(e)-Ft(t)||t.id-e.id}function Rt(e,t){var n,r=kt&&e.markedSpans;if(r)for(var o=void 0,i=0;i<r.length;++i)(o=r[i]).marker.collapsed&&null==(t?o.from:o.to)&&(!n||Dt(n,o.marker)<0)&&(n=o.marker);return n}function Lt(e){return Rt(e,!0)}function zt(e){return Rt(e,!1)}function Ht(e,t){var n,r=kt&&e.markedSpans;if(r)for(var o=0;o<r.length;++o){var i=r[o];i.marker.collapsed&&(null==i.from||i.from<t)&&(null==i.to||i.to>t)&&(!n||Dt(n,i.marker)<0)&&(n=i.marker)}return n}function Ut(e,t,n,r,o){var i=Ke(e,t),s=kt&&i.markedSpans;if(s)for(var a=0;a<s.length;++a){var l=s[a];if(l.marker.collapsed){var c=l.marker.find(0),u=st(c.from,n)||Nt(l.marker)-Nt(o),d=st(c.to,r)||Ft(l.marker)-Ft(o);if(!(u>=0&&d<=0||u<=0&&d>=0)&&(u<=0&&(l.marker.inclusiveRight&&o.inclusiveLeft?st(c.to,n)>=0:st(c.to,n)>0)||u>=0&&(l.marker.inclusiveRight&&o.inclusiveLeft?st(c.from,r)<=0:st(c.from,r)<0)))return!0}}}function Qt(e){for(var t;t=Lt(e);)e=t.find(-1,!0).line;return e}function qt(e,t){var n=Ke(e,t),r=Qt(n);return n==r?t:tt(r)}function Wt(e,t){if(t>e.lastLine())return t;var n,r=Ke(e,t);if(!$t(e,r))return t;for(;n=zt(r);)r=n.find(1,!0).line;return tt(r)+1}function $t(e,t){var n=kt&&t.markedSpans;if(n)for(var r=void 0,o=0;o<n.length;++o)if((r=n[o]).marker.collapsed){if(null==r.from)return!0;if(!r.marker.widgetNode&&0==r.from&&r.marker.inclusiveLeft&&Gt(e,t,r))return!0}}function Gt(e,t,n){if(null==n.to){var r=n.marker.find(1,!0);return Gt(e,r.line,Tt(r.line.markedSpans,n.marker))}if(n.marker.inclusiveRight&&n.to==t.text.length)return!0;for(var o=void 0,i=0;i<t.markedSpans.length;++i)if((o=t.markedSpans[i]).marker.collapsed&&!o.marker.widgetNode&&o.from==n.to&&(null==o.to||o.to!=n.from)&&(o.marker.inclusiveLeft||n.marker.inclusiveRight)&&Gt(e,t,o))return!0}function Vt(e){for(var t=0,n=(e=Qt(e)).parent,r=0;r<n.lines.length;++r){var o=n.lines[r];if(o==e)break;t+=o.height}for(var i=n.parent;i;i=(n=i).parent)for(var s=0;s<i.children.length;++s){var a=i.children[s];if(a==n)break;t+=a.height}return t}function Yt(e){if(0==e.height)return 0;for(var t,n=e.text.length,r=e;t=Lt(r);){var o=t.find(0,!0);r=o.from.line,n+=o.from.ch-o.to.ch}for(r=e;t=zt(r);){var i=t.find(0,!0);n-=r.text.length-i.from.ch,n+=(r=i.to.line).text.length-i.to.ch}return n}function Jt(e){var t=e.display,n=e.doc;t.maxLine=Ke(n,n.first),t.maxLineLength=Yt(t.maxLine),t.maxLineChanged=!0,n.iter(function(e){var n=Yt(e);n>t.maxLineLength&&(t.maxLineLength=n,t.maxLine=e)})}var Kt=function(e,t,n){this.text=e,jt(this,t),this.height=n?n(this):1};function Xt(e){e.parent=null,Pt(e)}Kt.prototype.lineNo=function(){return tt(this)},xe(Kt);var Zt={},en={};function tn(e,t){if(!e||/^\s*$/.test(e))return null;var n=t.addModeClass?en:Zt;return n[e]||(n[e]=e.replace(/\S+/g,"cm-$&"))}function nn(e,t){var n=B("span",null,null,l?"padding-right: .1px":null),r={pre:B("pre",[n],"CodeMirror-line"),content:n,col:0,pos:0,cm:e,trailingSpace:!1,splitSpaces:e.getOption("lineWrapping")};t.measure={};for(var o=0;o<=(t.rest?t.rest.length:0);o++){var i=o?t.rest[o-1]:t.line,s=void 0;r.pos=0,r.addToken=on,je(e.display.measure)&&(s=fe(i,e.doc.direction))&&(r.addToken=sn(r.addToken,s)),r.map=[],ln(i,r,bt(e,i,t!=e.display.externalMeasured&&tt(i))),i.styleClasses&&(i.styleClasses.bgClass&&(r.bgClass=N(i.styleClasses.bgClass,r.bgClass||"")),i.styleClasses.textClass&&(r.textClass=N(i.styleClasses.textClass,r.textClass||""))),0==r.map.length&&r.map.push(0,0,r.content.appendChild(Pe(e.display.measure))),0==o?(t.measure.map=r.map,t.measure.cache={}):((t.measure.maps||(t.measure.maps=[])).push(r.map),(t.measure.caches||(t.measure.caches=[])).push({}))}if(l){var a=r.content.lastChild;(/\bcm-tab\b/.test(a.className)||a.querySelector&&a.querySelector(".cm-tab"))&&(r.content.className="cm-tab-wrap-hack")}return ye(e,"renderLine",e,t.line,r.pre),r.pre.className&&(r.textClass=N(r.pre.className,r.textClass||"")),r}function rn(e){var t=I("span","","cm-invalidchar");return t.title="\\u"+e.charCodeAt(0).toString(16),t.setAttribute("aria-label",t.title),t}function on(e,t,n,r,o,i,l){if(t){var c,u=e.splitSpaces?function(e,t){if(e.length>1&&!/  /.test(e))return e;for(var n=t,r="",o=0;o<e.length;o++){var i=e.charAt(o);" "==i&&n&&(o==e.length-1||32==e.charCodeAt(o+1))&&(i=""),r+=i,n=" "==i}return r}(t,e.trailingSpace):t,d=e.cm.state.specialChars,h=!1;if(d.test(t)){c=document.createDocumentFragment();for(var p=0;;){d.lastIndex=p;var f=d.exec(t),m=f?f.index-p:t.length-p;if(m){var g=document.createTextNode(u.slice(p,p+m));s&&a<9?c.appendChild(I("span",[g])):c.appendChild(g),e.map.push(e.pos,e.pos+m,g),e.col+=m,e.pos+=m}if(!f)break;p+=m+1;var b=void 0;if("\t"==f[0]){var w=e.cm.options.tabSize,y=w-e.col%w;(b=c.appendChild(I("span",X(y),"cm-tab"))).setAttribute("role","presentation"),b.setAttribute("cm-text","\t"),e.col+=y}else"\r"==f[0]||"\n"==f[0]?((b=c.appendChild(I("span","\r"==f[0]?"":"","cm-invalidchar"))).setAttribute("cm-text",f[0]),e.col+=1):((b=e.cm.options.specialCharPlaceholder(f[0])).setAttribute("cm-text",f[0]),s&&a<9?c.appendChild(I("span",[b])):c.appendChild(b),e.col+=1);e.map.push(e.pos,e.pos+1,b),e.pos++}}else e.col+=t.length,c=document.createTextNode(u),e.map.push(e.pos,e.pos+t.length,c),s&&a<9&&(h=!0),e.pos+=t.length;if(e.trailingSpace=32==u.charCodeAt(t.length-1),n||r||o||h||i||l){var v=n||"";r&&(v+=r),o&&(v+=o);var A=I("span",[c],v,i);if(l)for(var _ in l)l.hasOwnProperty(_)&&"style"!=_&&"class"!=_&&A.setAttribute(_,l[_]);return e.content.appendChild(A)}e.content.appendChild(c)}}function sn(e,t){return function(n,r,o,i,s,a,l){o=o?o+" cm-force-border":"cm-force-border";for(var c=n.pos,u=c+r.length;;){for(var d=void 0,h=0;h<t.length&&!((d=t[h]).to>c&&d.from<=c);h++);if(d.to>=u)return e(n,r,o,i,s,a,l);e(n,r.slice(0,d.to-c),o,i,null,a,l),i=null,r=r.slice(d.to-c),c=d.to}}}function an(e,t,n,r){var o=!r&&n.widgetNode;o&&e.map.push(e.pos,e.pos+t,o),!r&&e.cm.display.input.needsContentAttribute&&(o||(o=e.content.appendChild(document.createElement("span"))),o.setAttribute("cm-marker",n.id)),o&&(e.cm.display.input.setUneditable(o),e.content.appendChild(o)),e.pos+=t,e.trailingSpace=!1}function ln(e,t,n){var r=e.markedSpans,o=e.text,i=0;if(r)for(var s,a,l,c,u,d,h,p=o.length,f=0,m=1,g="",b=0;;){if(b==f){l=c=u=a="",h=null,d=null,b=1/0;for(var w=[],y=void 0,v=0;v<r.length;++v){var A=r[v],_=A.marker;if("bookmark"==_.type&&A.from==f&&_.widgetNode)w.push(_);else if(A.from<=f&&(null==A.to||A.to>f||_.collapsed&&A.to==f&&A.from==f)){if(null!=A.to&&A.to!=f&&b>A.to&&(b=A.to,c=""),_.className&&(l+=" "+_.className),_.css&&(a=(a?a+";":"")+_.css),_.startStyle&&A.from==f&&(u+=" "+_.startStyle),_.endStyle&&A.to==b&&(y||(y=[])).push(_.endStyle,A.to),_.title&&((h||(h={})).title=_.title),_.attributes)for(var x in _.attributes)(h||(h={}))[x]=_.attributes[x];_.collapsed&&(!d||Dt(d.marker,_)<0)&&(d=A)}else A.from>f&&b>A.from&&(b=A.from)}if(y)for(var S=0;S<y.length;S+=2)y[S+1]==b&&(c+=" "+y[S]);if(!d||d.from==f)for(var E=0;E<w.length;++E)an(t,0,w[E]);if(d&&(d.from||0)==f){if(an(t,(null==d.to?p+1:d.to)-f,d.marker,null==d.from),null==d.to)return;d.to==f&&(d=!1)}}if(f>=p)break;for(var C=Math.min(p,b);;){if(g){var k=f+g.length;if(!d){var O=k>C?g.slice(0,C-f):g;t.addToken(t,O,s?s+l:l,u,f+O.length==b?c:"",a,h)}if(k>=C){g=g.slice(C-f),f=C;break}f=k,u=""}g=o.slice(i,i=n[m++]),s=tn(n[m++],t.cm.options)}}else for(var T=1;T<n.length;T+=2)t.addToken(t,o.slice(i,i=n[T]),tn(n[T+1],t.cm.options))}function cn(e,t,n){this.line=t,this.rest=function(e){for(var t,n;t=zt(e);)e=t.find(1,!0).line,(n||(n=[])).push(e);return n}(t),this.size=this.rest?tt(Z(this.rest))-n+1:1,this.node=this.text=null,this.hidden=$t(e,t)}function un(e,t,n){for(var r,o=[],i=t;i<n;i=r){var s=new cn(e.doc,Ke(e.doc,i),i);r=i+s.size,o.push(s)}return o}var dn=null;var hn=null;function pn(e,t){var n=be(e,t);if(n.length){var r,o=Array.prototype.slice.call(arguments,2);dn?r=dn.delayedCallbacks:hn?r=hn:(r=hn=[],setTimeout(fn,0));for(var i=function(e){r.push(function(){return n[e].apply(null,o)})},s=0;s<n.length;++s)i(s)}}function fn(){var e=hn;hn=null;for(var t=0;t<e.length;++t)e[t]()}function mn(e,t,n,r){for(var o=0;o<t.changes.length;o++){var i=t.changes[o];"text"==i?wn(e,t):"gutter"==i?vn(e,t,n,r):"class"==i?yn(e,t):"widget"==i&&An(e,t,r)}t.changes=null}function gn(e){return e.node==e.text&&(e.node=I("div",null,null,"position: relative"),e.text.parentNode&&e.text.parentNode.replaceChild(e.node,e.text),e.node.appendChild(e.text),s&&a<8&&(e.node.style.zIndex=2)),e.node}function bn(e,t){var n=e.display.externalMeasured;return n&&n.line==t.line?(e.display.externalMeasured=null,t.measure=n.measure,n.built):nn(e,t)}function wn(e,t){var n=t.text.className,r=bn(e,t);t.text==t.node&&(t.node=r.pre),t.text.parentNode.replaceChild(r.pre,t.text),t.text=r.pre,r.bgClass!=t.bgClass||r.textClass!=t.textClass?(t.bgClass=r.bgClass,t.textClass=r.textClass,yn(e,t)):n&&(t.text.className=n)}function yn(e,t){(function(e,t){var n=t.bgClass?t.bgClass+" "+(t.line.bgClass||""):t.line.bgClass;if(n&&(n+=" CodeMirror-linebackground"),t.background)n?t.background.className=n:(t.background.parentNode.removeChild(t.background),t.background=null);else if(n){var r=gn(t);t.background=r.insertBefore(I("div",null,n),r.firstChild),e.display.input.setUneditable(t.background)}})(e,t),t.line.wrapClass?gn(t).className=t.line.wrapClass:t.node!=t.text&&(t.node.className="");var n=t.textClass?t.textClass+" "+(t.line.textClass||""):t.line.textClass;t.text.className=n||""}function vn(e,t,n,r){if(t.gutter&&(t.node.removeChild(t.gutter),t.gutter=null),t.gutterBackground&&(t.node.removeChild(t.gutterBackground),t.gutterBackground=null),t.line.gutterClass){var o=gn(t);t.gutterBackground=I("div",null,"CodeMirror-gutter-background "+t.line.gutterClass,"left: "+(e.options.fixedGutter?r.fixedPos:-r.gutterTotalWidth)+"px; width: "+r.gutterTotalWidth+"px"),e.display.input.setUneditable(t.gutterBackground),o.insertBefore(t.gutterBackground,t.text)}var i=t.line.gutterMarkers;if(e.options.lineNumbers||i){var s=gn(t),a=t.gutter=I("div",null,"CodeMirror-gutter-wrapper","left: "+(e.options.fixedGutter?r.fixedPos:-r.gutterTotalWidth)+"px");if(a.setAttribute("aria-hidden","true"),e.display.input.setUneditable(a),s.insertBefore(a,t.text),t.line.gutterClass&&(a.className+=" "+t.line.gutterClass),e.options.lineNumbers&&(!i||!i["CodeMirror-linenumbers"])&&(t.lineNumber=a.appendChild(I("div",ot(e.options,n),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+r.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+e.display.lineNumInnerWidth+"px"))),i)for(var l=0;l<e.display.gutterSpecs.length;++l){var c=e.display.gutterSpecs[l].className,u=i.hasOwnProperty(c)&&i[c];u&&a.appendChild(I("div",[u],"CodeMirror-gutter-elt","left: "+r.gutterLeft[c]+"px; width: "+r.gutterWidth[c]+"px"))}}}function An(e,t,n){t.alignable&&(t.alignable=null);for(var r=E("CodeMirror-linewidget"),o=t.node.firstChild,i=void 0;o;o=i)i=o.nextSibling,r.test(o.className)&&t.node.removeChild(o);xn(e,t,n)}function _n(e,t,n,r){var o=bn(e,t);return t.text=t.node=o.pre,o.bgClass&&(t.bgClass=o.bgClass),o.textClass&&(t.textClass=o.textClass),yn(e,t),vn(e,t,n,r),xn(e,t,r),t.node}function xn(e,t,n){if(Sn(e,t.line,t,n,!0),t.rest)for(var r=0;r<t.rest.length;r++)Sn(e,t.rest[r],t,n,!1)}function Sn(e,t,n,r,o){if(t.widgets)for(var i=gn(n),s=0,a=t.widgets;s<a.length;++s){var l=a[s],c=I("div",[l.node],"CodeMirror-linewidget"+(l.className?" "+l.className:""));l.handleMouseEvents||c.setAttribute("cm-ignore-events","true"),En(l,c,n,r),e.display.input.setUneditable(c),o&&l.above?i.insertBefore(c,n.gutter||n.text):i.appendChild(c),pn(l,"redraw")}}function En(e,t,n,r){if(e.noHScroll){(n.alignable||(n.alignable=[])).push(t);var o=r.wrapperWidth;t.style.left=r.fixedPos+"px",e.coverGutter||(o-=r.gutterTotalWidth,t.style.paddingLeft=r.gutterTotalWidth+"px"),t.style.width=o+"px"}e.coverGutter&&(t.style.zIndex=5,t.style.position="relative",e.noHScroll||(t.style.marginLeft=-r.gutterTotalWidth+"px"))}function Cn(e){if(null!=e.height)return e.height;var t=e.doc.cm;if(!t)return 0;if(!M(document.body,e.node)){var n="position: relative;";e.coverGutter&&(n+="margin-left: -"+t.display.gutters.offsetWidth+"px;"),e.noHScroll&&(n+="width: "+t.display.wrapper.clientWidth+"px;"),T(t.display.measure,I("div",[e.node],null,n))}return e.height=e.node.parentNode.offsetHeight}function kn(e,t){for(var n=Oe(t);n!=e.wrapper;n=n.parentNode)if(!n||1==n.nodeType&&"true"==n.getAttribute("cm-ignore-events")||n.parentNode==e.sizer&&n!=e.mover)return!0}function On(e){return e.lineSpace.offsetTop}function Tn(e){return e.mover.offsetHeight-e.lineSpace.offsetHeight}function In(e){if(e.cachedPaddingH)return e.cachedPaddingH;var t=T(e.measure,I("pre","x","CodeMirror-line-like")),n=window.getComputedStyle?window.getComputedStyle(t):t.currentStyle,r={left:parseInt(n.paddingLeft),right:parseInt(n.paddingRight)};return!isNaN(r.left)&&!isNaN(r.right)&&(e.cachedPaddingH=r),r}function Bn(e){return 50-e.display.nativeBarWidth}function Mn(e){return e.display.scroller.clientWidth-Bn(e)-e.display.barWidth}function Pn(e){return e.display.scroller.clientHeight-Bn(e)-e.display.barHeight}function jn(e,t,n){if(e.line==t)return{map:e.measure.map,cache:e.measure.cache};if(e.rest){for(var r=0;r<e.rest.length;r++)if(e.rest[r]==t)return{map:e.measure.maps[r],cache:e.measure.caches[r]};for(var o=0;o<e.rest.length;o++)if(tt(e.rest[o])>n)return{map:e.measure.maps[o],cache:e.measure.caches[o],before:!0}}}function Nn(e,t,n,r){return Rn(e,Dn(e,t),n,r)}function Fn(e,t){if(t>=e.display.viewFrom&&t<e.display.viewTo)return e.display.view[mr(e,t)];var n=e.display.externalMeasured;return n&&t>=n.lineN&&t<n.lineN+n.size?n:void 0}function Dn(e,t){var n=tt(t),r=Fn(e,n);r&&!r.text?r=null:r&&r.changes&&(mn(e,r,n,ur(e)),e.curOp.forceUpdate=!0),r||(r=function(e,t){var n=tt(t=Qt(t)),r=e.display.externalMeasured=new cn(e.doc,t,n);r.lineN=n;var o=r.built=nn(e,r);return r.text=o.pre,T(e.display.lineMeasure,o.pre),r}(e,t));var o=jn(r,t,n);return{line:t,view:r,rect:null,map:o.map,cache:o.cache,before:o.before,hasHeights:!1}}function Rn(e,t,n,r,o){t.before&&(n=-1);var i,l=n+(r||"");return t.cache.hasOwnProperty(l)?i=t.cache[l]:(t.rect||(t.rect=t.view.text.getBoundingClientRect()),t.hasHeights||(function(e,t,n){var r=e.options.lineWrapping,o=r&&Mn(e);if(!t.measure.heights||r&&t.measure.width!=o){var i=t.measure.heights=[];if(r){t.measure.width=o;for(var s=t.text.firstChild.getClientRects(),a=0;a<s.length-1;a++){var l=s[a],c=s[a+1];Math.abs(l.bottom-c.bottom)>2&&i.push((l.bottom+c.top)/2-n.top)}}i.push(n.bottom-n.top)}}(e,t.view,t.rect),t.hasHeights=!0),(i=function(e,t,n,r){var o,i=Hn(t.map,n,r),l=i.node,c=i.start,u=i.end,d=i.collapse;if(3==l.nodeType){for(var h=0;h<4;h++){for(;c&&le(t.line.text.charAt(i.coverStart+c));)--c;for(;i.coverStart+u<i.coverEnd&&le(t.line.text.charAt(i.coverStart+u));)++u;if((o=s&&a<9&&0==c&&u==i.coverEnd-i.coverStart?l.parentNode.getBoundingClientRect():Un(C(l,c,u).getClientRects(),r)).left||o.right||0==c)break;u=c,c-=1,d="right"}s&&a<11&&(o=function(e,t){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!function(e){if(null!=Le)return Le;var t=T(e,I("span","x")),n=t.getBoundingClientRect(),r=C(t,0,1).getBoundingClientRect();return Le=Math.abs(n.left-r.left)>1}(e))return t;var n=screen.logicalXDPI/screen.deviceXDPI,r=screen.logicalYDPI/screen.deviceYDPI;return{left:t.left*n,right:t.right*n,top:t.top*r,bottom:t.bottom*r}}(e.display.measure,o))}else{var p;c>0&&(d=r="right"),o=e.options.lineWrapping&&(p=l.getClientRects()).length>1?p["right"==r?p.length-1:0]:l.getBoundingClientRect()}if(s&&a<9&&!c&&(!o||!o.left&&!o.right)){var f=l.parentNode.getClientRects()[0];o=f?{left:f.left,right:f.left+cr(e.display),top:f.top,bottom:f.bottom}:zn}for(var m=o.top-t.rect.top,g=o.bottom-t.rect.top,b=(m+g)/2,w=t.view.measure.heights,y=0;y<w.length-1&&!(b<w[y]);y++);var v=y?w[y-1]:0,A=w[y],_={left:("right"==d?o.right:o.left)-t.rect.left,right:("left"==d?o.left:o.right)-t.rect.left,top:v,bottom:A};return!o.left&&!o.right&&(_.bogus=!0),e.options.singleCursorHeightPerLine||(_.rtop=m,_.rbottom=g),_}(e,t,n,r)).bogus||(t.cache[l]=i)),{left:i.left,right:i.right,top:o?i.rtop:i.top,bottom:o?i.rbottom:i.bottom}}var Ln,zn={left:0,right:0,top:0,bottom:0};function Hn(e,t,n){for(var r,o,i,s,a,l,c=0;c<e.length;c+=3)if(a=e[c],l=e[c+1],t<a?(o=0,i=1,s="left"):t<l?i=1+(o=t-a):(c==e.length-3||t==l&&e[c+3]>t)&&(o=(i=l-a)-1,t>=l&&(s="right")),null!=o){if(r=e[c+2],a==l&&n==(r.insertLeft?"left":"right")&&(s=n),"left"==n&&0==o)for(;c&&e[c-2]==e[c-3]&&e[c-1].insertLeft;)r=e[2+(c-=3)],s="left";if("right"==n&&o==l-a)for(;c<e.length-3&&e[c+3]==e[c+4]&&!e[c+5].insertLeft;)r=e[(c+=3)+2],s="right";break}return{node:r,start:o,end:i,collapse:s,coverStart:a,coverEnd:l}}function Un(e,t){var n=zn;if("left"==t)for(var r=0;r<e.length&&(n=e[r]).left==n.right;r++);else for(var o=e.length-1;o>=0&&(n=e[o]).left==n.right;o--);return n}function Qn(e){if(e.measure&&(e.measure.cache={},e.measure.heights=null,e.rest))for(var t=0;t<e.rest.length;t++)e.measure.caches[t]={}}function qn(e){e.display.externalMeasure=null,O(e.display.lineMeasure);for(var t=0;t<e.display.view.length;t++)Qn(e.display.view[t])}function Wn(e){qn(e),e.display.cachedCharWidth=e.display.cachedTextHeight=e.display.cachedPaddingH=null,e.options.lineWrapping||(e.display.maxLineChanged=!0),e.display.lineNumChars=null}function $n(e){return u&&b?-(e.body.getBoundingClientRect().left-parseInt(getComputedStyle(e.body).marginLeft)):e.defaultView.pageXOffset||(e.documentElement||e.body).scrollLeft}function Gn(e){return u&&b?-(e.body.getBoundingClientRect().top-parseInt(getComputedStyle(e.body).marginTop)):e.defaultView.pageYOffset||(e.documentElement||e.body).scrollTop}function Vn(e){var t=Qt(e).widgets,n=0;if(t)for(var r=0;r<t.length;++r)t[r].above&&(n+=Cn(t[r]));return n}function Yn(e,t,n,r,o){if(!o){var i=Vn(t);n.top+=i,n.bottom+=i}if("line"==r)return n;r||(r="local");var s=Vt(t);if("local"==r?s+=On(e.display):s-=e.display.viewOffset,"page"==r||"window"==r){var a=e.display.lineSpace.getBoundingClientRect();s+=a.top+("window"==r?0:Gn(D(e)));var l=a.left+("window"==r?0:$n(D(e)));n.left+=l,n.right+=l}return n.top+=s,n.bottom+=s,n}function Jn(e,t,n){if("div"==n)return t;var r=t.left,o=t.top;if("page"==n)r-=$n(D(e)),o-=Gn(D(e));else if("local"==n||!n){var i=e.display.sizer.getBoundingClientRect();r+=i.left,o+=i.top}var s=e.display.lineSpace.getBoundingClientRect();return{left:r-s.left,top:o-s.top}}function Kn(e,t,n,r,o){return r||(r=Ke(e.doc,t.line)),Yn(e,r,Nn(e,r,t.ch,o),n)}function Xn(e,t,n,r,o,i){function s(t,s){var a=Rn(e,o,t,s?"right":"left",i);return s?a.left=a.right:a.right=a.left,Yn(e,r,a,n)}r=r||Ke(e.doc,t.line),o||(o=Dn(e,r));var a=fe(r,e.doc.direction),l=t.ch,c=t.sticky;if(l>=r.text.length?(l=r.text.length,c="before"):l<=0&&(l=0,c="after"),!a)return s("before"==c?l-1:l,"before"==c);function u(e,t,n){return s(n?e-1:e,1==a[t].level!=n)}var d=he(a,l,c),h=de,p=u(l,d,"before"==c);return null!=h&&(p.other=u(l,h,"before"!=c)),p}function Zn(e,t){var n=0;t=ht(e.doc,t),e.options.lineWrapping||(n=cr(e.display)*t.ch);var r=Ke(e.doc,t.line),o=Vt(r)+On(e.display);return{left:n,right:n,top:o,bottom:o+r.height}}function er(e,t,n,r,o){var i=it(e,t,n);return i.xRel=o,r&&(i.outside=r),i}function tr(e,t,n){var r=e.doc;if((n+=e.display.viewOffset)<0)return er(r.first,0,null,-1,-1);var o=nt(r,n),i=r.first+r.size-1;if(o>i)return er(r.first+r.size-1,Ke(r,i).text.length,null,1,1);t<0&&(t=0);for(var s=Ke(r,o);;){var a=ir(e,s,o,t,n),l=Ht(s,a.ch+(a.xRel>0||a.outside>0?1:0));if(!l)return a;var c=l.find(1);if(c.line==o)return c;s=Ke(r,o=c.line)}}function nr(e,t,n,r){r-=Vn(t);var o=t.text.length,i=ue(function(t){return Rn(e,n,t-1).bottom<=r},o,0);return{begin:i,end:o=ue(function(t){return Rn(e,n,t).top>r},i,o)}}function rr(e,t,n,r){return n||(n=Dn(e,t)),nr(e,t,n,Yn(e,t,Rn(e,n,r),"line").top)}function or(e,t,n,r){return!(e.bottom<=n)&&(e.top>n||(r?e.left:e.right)>t)}function ir(e,t,n,r,o){o-=Vt(t);var i=Dn(e,t),s=Vn(t),a=0,l=t.text.length,c=!0,u=fe(t,e.doc.direction);if(u){var d=(e.options.lineWrapping?ar:sr)(e,t,n,i,u,r,o);a=(c=1!=d.level)?d.from:d.to-1,l=c?d.to:d.from-1}var h,p,f=null,m=null,g=ue(function(t){var n=Rn(e,i,t);return n.top+=s,n.bottom+=s,!!or(n,r,o,!1)&&(n.top<=o&&n.left<=r&&(f=t,m=n),!0)},a,l),b=!1;if(m){var w=r-m.left<m.right-r,y=w==c;g=f+(y?0:1),p=y?"after":"before",h=w?m.left:m.right}else{!c&&(g==l||g==a)&&g++,p=0==g?"after":g==t.text.length?"before":Rn(e,i,g-(c?1:0)).bottom+s<=o==c?"after":"before";var v=Xn(e,it(n,g,p),"line",t,i);h=v.left,b=o<v.top?-1:o>=v.bottom?1:0}return er(n,g=ce(t.text,g,1),p,b,r-h)}function sr(e,t,n,r,o,i,s){var a=ue(function(a){var l=o[a],c=1!=l.level;return or(Xn(e,it(n,c?l.to:l.from,c?"before":"after"),"line",t,r),i,s,!0)},0,o.length-1),l=o[a];if(a>0){var c=1!=l.level,u=Xn(e,it(n,c?l.from:l.to,c?"after":"before"),"line",t,r);or(u,i,s,!0)&&u.top>s&&(l=o[a-1])}return l}function ar(e,t,n,r,o,i,s){var a=nr(e,t,r,s),l=a.begin,c=a.end;/\s/.test(t.text.charAt(c-1))&&c--;for(var u=null,d=null,h=0;h<o.length;h++){var p=o[h];if(!(p.from>=c||p.to<=l)){var f=Rn(e,r,1!=p.level?Math.min(c,p.to)-1:Math.max(l,p.from)).right,m=f<i?i-f+1e9:f-i;(!u||d>m)&&(u=p,d=m)}}return u||(u=o[o.length-1]),u.from<l&&(u={from:l,to:u.to,level:u.level}),u.to>c&&(u={from:u.from,to:c,level:u.level}),u}function lr(e){if(null!=e.cachedTextHeight)return e.cachedTextHeight;if(null==Ln){Ln=I("pre",null,"CodeMirror-line-like");for(var t=0;t<49;++t)Ln.appendChild(document.createTextNode("x")),Ln.appendChild(I("br"));Ln.appendChild(document.createTextNode("x"))}T(e.measure,Ln);var n=Ln.offsetHeight/50;return n>3&&(e.cachedTextHeight=n),O(e.measure),n||1}function cr(e){if(null!=e.cachedCharWidth)return e.cachedCharWidth;var t=I("span","xxxxxxxxxx"),n=I("pre",[t],"CodeMirror-line-like");T(e.measure,n);var r=t.getBoundingClientRect(),o=(r.right-r.left)/10;return o>2&&(e.cachedCharWidth=o),o||10}function ur(e){for(var t=e.display,n={},r={},o=t.gutters.clientLeft,i=t.gutters.firstChild,s=0;i;i=i.nextSibling,++s){var a=e.display.gutterSpecs[s].className;n[a]=i.offsetLeft+i.clientLeft+o,r[a]=i.clientWidth}return{fixedPos:dr(t),gutterTotalWidth:t.gutters.offsetWidth,gutterLeft:n,gutterWidth:r,wrapperWidth:t.wrapper.clientWidth}}function dr(e){return e.scroller.getBoundingClientRect().left-e.sizer.getBoundingClientRect().left}function hr(e){var t=lr(e.display),n=e.options.lineWrapping,r=n&&Math.max(5,e.display.scroller.clientWidth/cr(e.display)-3);return function(o){if($t(e.doc,o))return 0;var i=0;if(o.widgets)for(var s=0;s<o.widgets.length;s++)o.widgets[s].height&&(i+=o.widgets[s].height);return n?i+(Math.ceil(o.text.length/r)||1)*t:i+t}}function pr(e){var t=e.doc,n=hr(e);t.iter(function(e){var t=n(e);t!=e.height&&et(e,t)})}function fr(e,t,n,r){var o=e.display;if(!n&&"true"==Oe(t).getAttribute("cm-not-content"))return null;var i,s,a=o.lineSpace.getBoundingClientRect();try{i=t.clientX-a.left,s=t.clientY-a.top}catch{return null}var l,c=tr(e,i,s);if(r&&c.xRel>0&&(l=Ke(e.doc,c.line).text).length==c.ch){var u=Q(l,l.length,e.options.tabSize)-l.length;c=it(c.line,Math.max(0,Math.round((i-In(e.display).left)/cr(e.display))-u))}return c}function mr(e,t){if(t>=e.display.viewTo||(t-=e.display.viewFrom)<0)return null;for(var n=e.display.view,r=0;r<n.length;r++)if((t-=n[r].size)<0)return r}function gr(e,t,n,r){null==t&&(t=e.doc.first),null==n&&(n=e.doc.first+e.doc.size),r||(r=0);var o=e.display;if(r&&n<o.viewTo&&(null==o.updateLineNumbers||o.updateLineNumbers>t)&&(o.updateLineNumbers=t),e.curOp.viewChanged=!0,t>=o.viewTo)kt&&qt(e.doc,t)<o.viewTo&&wr(e);else if(n<=o.viewFrom)kt&&Wt(e.doc,n+r)>o.viewFrom?wr(e):(o.viewFrom+=r,o.viewTo+=r);else if(t<=o.viewFrom&&n>=o.viewTo)wr(e);else if(t<=o.viewFrom){var i=yr(e,n,n+r,1);i?(o.view=o.view.slice(i.index),o.viewFrom=i.lineN,o.viewTo+=r):wr(e)}else if(n>=o.viewTo){var s=yr(e,t,t,-1);s?(o.view=o.view.slice(0,s.index),o.viewTo=s.lineN):wr(e)}else{var a=yr(e,t,t,-1),l=yr(e,n,n+r,1);a&&l?(o.view=o.view.slice(0,a.index).concat(un(e,a.lineN,l.lineN)).concat(o.view.slice(l.index)),o.viewTo+=r):wr(e)}var c=o.externalMeasured;c&&(n<c.lineN?c.lineN+=r:t<c.lineN+c.size&&(o.externalMeasured=null))}function br(e,t,n){e.curOp.viewChanged=!0;var r=e.display,o=e.display.externalMeasured;if(o&&t>=o.lineN&&t<o.lineN+o.size&&(r.externalMeasured=null),!(t<r.viewFrom||t>=r.viewTo)){var i=r.view[mr(e,t)];if(null!=i.node){var s=i.changes||(i.changes=[]);-1==W(s,n)&&s.push(n)}}}function wr(e){e.display.viewFrom=e.display.viewTo=e.doc.first,e.display.view=[],e.display.viewOffset=0}function yr(e,t,n,r){var o,i=mr(e,t),s=e.display.view;if(!kt||n==e.doc.first+e.doc.size)return{index:i,lineN:n};for(var a=e.display.viewFrom,l=0;l<i;l++)a+=s[l].size;if(a!=t){if(r>0){if(i==s.length-1)return null;o=a+s[i].size-t,i++}else o=a-t;t+=o,n+=o}for(;qt(e.doc,n)!=n;){if(i==(r<0?0:s.length-1))return null;n+=r*s[i-(r<0?1:0)].size,i+=r}return{index:i,lineN:n}}function vr(e){for(var t=e.display.view,n=0,r=0;r<t.length;r++){var o=t[r];!o.hidden&&(!o.node||o.changes)&&++n}return n}function Ar(e){e.display.input.showSelection(e.display.input.prepareSelection())}function _r(e,t){void 0===t&&(t=!0);var n=e.doc,r={},o=r.cursors=document.createDocumentFragment(),i=r.selection=document.createDocumentFragment(),s=e.options.$customCursor;s&&(t=!0);for(var a=0;a<n.sel.ranges.length;a++)if(t||a!=n.sel.primIndex){var l=n.sel.ranges[a];if(!(l.from().line>=e.display.viewTo||l.to().line<e.display.viewFrom)){var c=l.empty();if(s){var u=s(e,l);u&&xr(e,u,o)}else(c||e.options.showCursorWhenSelecting)&&xr(e,l.head,o);c||Er(e,l,i)}}return r}function xr(e,t,n){var r=Xn(e,t,"div",null,null,!e.options.singleCursorHeightPerLine),o=n.appendChild(I("div","","CodeMirror-cursor"));if(o.style.left=r.left+"px",o.style.top=r.top+"px",o.style.height=Math.max(0,r.bottom-r.top)*e.options.cursorHeight+"px",/\bcm-fat-cursor\b/.test(e.getWrapperElement().className)){var i=Kn(e,t,"div",null,null),s=i.right-i.left;o.style.width=(s>0?s:e.defaultCharWidth())+"px"}if(r.other){var a=n.appendChild(I("div","","CodeMirror-cursor CodeMirror-secondarycursor"));a.style.display="",a.style.left=r.other.left+"px",a.style.top=r.other.top+"px",a.style.height=.85*(r.other.bottom-r.other.top)+"px"}}function Sr(e,t){return e.top-t.top||e.left-t.left}function Er(e,t,n){var r=e.display,o=e.doc,i=document.createDocumentFragment(),s=In(e.display),a=s.left,l=Math.max(r.sizerWidth,Mn(e)-r.sizer.offsetLeft)-s.right,c="ltr"==o.direction;function u(e,t,n,r){t<0&&(t=0),t=Math.round(t),r=Math.round(r),i.appendChild(I("div",null,"CodeMirror-selected","position: absolute; left: "+e+"px;\n                             top: "+t+"px; width: "+(n??l-e)+"px;\n                             height: "+(r-t)+"px"))}function d(t,n,r){var i,s,d=Ke(o,t),h=d.text.length;function p(n,r){return Kn(e,it(t,n),"div",d,r)}function f(t,n,r){var o=rr(e,d,null,t),i="ltr"==n==("after"==r)?"left":"right";return p("after"==r?o.begin:o.end-(/\s/.test(d.text.charAt(o.end-1))?2:1),i)[i]}var m=fe(d,o.direction);return function(e,t,n,r){if(!e)return r(t,n,"ltr",0);for(var o=!1,i=0;i<e.length;++i){var s=e[i];(s.from<n&&s.to>t||t==n&&s.to==t)&&(r(Math.max(s.from,t),Math.min(s.to,n),1==s.level?"rtl":"ltr",i),o=!0)}o||r(t,n,"ltr")}(m,n||0,r??h,function(e,t,o,d){var g="ltr"==o,b=p(e,g?"left":"right"),w=p(t-1,g?"right":"left"),y=null==n&&0==e,v=null==r&&t==h,A=0==d,_=!m||d==m.length-1;if(w.top-b.top<=3){var x=(c?v:y)&&_,S=(c?y:v)&&A?a:(g?b:w).left,E=x?l:(g?w:b).right;u(S,b.top,E-S,b.bottom)}else{var C,k,O,T;g?(C=c&&y&&A?a:b.left,k=c?l:f(e,o,"before"),O=c?a:f(t,o,"after"),T=c&&v&&_?l:w.right):(C=c?f(e,o,"before"):a,k=!c&&y&&A?l:b.right,O=!c&&v&&_?a:w.left,T=c?f(t,o,"after"):l),u(C,b.top,k-C,b.bottom),b.bottom<w.top&&u(a,b.bottom,null,w.top),u(O,w.top,T-O,w.bottom)}(!i||Sr(b,i)<0)&&(i=b),Sr(w,i)<0&&(i=w),(!s||Sr(b,s)<0)&&(s=b),Sr(w,s)<0&&(s=w)}),{start:i,end:s}}var h=t.from(),p=t.to();if(h.line==p.line)d(h.line,h.ch,p.ch);else{var f=Ke(o,h.line),m=Ke(o,p.line),g=Qt(f)==Qt(m),b=d(h.line,h.ch,g?f.text.length+1:null).end,w=d(p.line,g?0:null,p.ch).start;g&&(b.top<w.top-2?(u(b.right,b.top,null,b.bottom),u(a,w.top,w.left,w.bottom)):u(b.right,b.top,w.left-b.right,b.bottom)),b.bottom<w.top&&u(a,b.bottom,null,w.top)}n.appendChild(i)}function Cr(e){if(e.state.focused){var t=e.display;clearInterval(t.blinker);var n=!0;t.cursorDiv.style.visibility="",e.options.cursorBlinkRate>0?t.blinker=setInterval(function(){e.hasFocus()||Ir(e),t.cursorDiv.style.visibility=(n=!n)?"":"hidden"},e.options.cursorBlinkRate):e.options.cursorBlinkRate<0&&(t.cursorDiv.style.visibility="hidden")}}function kr(e){e.hasFocus()||(e.display.input.focus(),e.state.focused||Tr(e))}function Or(e){e.state.delayingBlurEvent=!0,setTimeout(function(){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1,e.state.focused&&Ir(e))},100)}function Tr(e,t){e.state.delayingBlurEvent&&!e.state.draggingText&&(e.state.delayingBlurEvent=!1),"nocursor"!=e.options.readOnly&&(e.state.focused||(ye(e,"focus",e,t),e.state.focused=!0,j(e.display.wrapper,"CodeMirror-focused"),!e.curOp&&e.display.selForContextMenu!=e.doc.sel&&(e.display.input.reset(),l&&setTimeout(function(){return e.display.input.reset(!0)},20)),e.display.input.receivedFocus()),Cr(e))}function Ir(e,t){e.state.delayingBlurEvent||(e.state.focused&&(ye(e,"blur",e,t),e.state.focused=!1,k(e.display.wrapper,"CodeMirror-focused")),clearInterval(e.display.blinker),setTimeout(function(){e.state.focused||(e.display.shift=!1)},150))}function Br(e){for(var t=e.display,n=t.lineDiv.offsetTop,r=Math.max(0,t.scroller.getBoundingClientRect().top),o=t.lineDiv.getBoundingClientRect().top,i=0,l=0;l<t.view.length;l++){var c=t.view[l],u=e.options.lineWrapping,d=void 0,h=0;if(!c.hidden){if(o+=c.line.height,s&&a<8){var p=c.node.offsetTop+c.node.offsetHeight;d=p-n,n=p}else{var f=c.node.getBoundingClientRect();d=f.bottom-f.top,!u&&c.text.firstChild&&(h=c.text.firstChild.getBoundingClientRect().right-f.left-1)}var m=c.line.height-d;if((m>.005||m<-.005)&&(o<r&&(i-=m),et(c.line,d),Mr(c.line),c.rest))for(var g=0;g<c.rest.length;g++)Mr(c.rest[g]);if(h>e.display.sizerWidth){var b=Math.ceil(h/cr(e.display));b>e.display.maxLineLength&&(e.display.maxLineLength=b,e.display.maxLine=c.line,e.display.maxLineChanged=!0)}}}Math.abs(i)>2&&(t.scroller.scrollTop+=i)}function Mr(e){if(e.widgets)for(var t=0;t<e.widgets.length;++t){var n=e.widgets[t],r=n.node.parentNode;r&&(n.height=r.offsetHeight)}}function Pr(e,t,n){var r=n&&null!=n.top?Math.max(0,n.top):e.scroller.scrollTop;r=Math.floor(r-On(e));var o=n&&null!=n.bottom?n.bottom:r+e.wrapper.clientHeight,i=nt(t,r),s=nt(t,o);if(n&&n.ensure){var a=n.ensure.from.line,l=n.ensure.to.line;a<i?(i=a,s=nt(t,Vt(Ke(t,a))+e.wrapper.clientHeight)):Math.min(l,t.lastLine())>=s&&(i=nt(t,Vt(Ke(t,l))-e.wrapper.clientHeight),s=l)}return{from:i,to:Math.max(s,i+1)}}function jr(e,t){var n=e.display,r=lr(e.display);t.top<0&&(t.top=0);var o=e.curOp&&null!=e.curOp.scrollTop?e.curOp.scrollTop:n.scroller.scrollTop,i=Pn(e),s={};t.bottom-t.top>i&&(t.bottom=t.top+i);var a=e.doc.height+Tn(n),l=t.top<r,c=t.bottom>a-r;if(t.top<o)s.scrollTop=l?0:t.top;else if(t.bottom>o+i){var u=Math.min(t.top,(c?a:t.bottom)-i);u!=o&&(s.scrollTop=u)}var d=e.options.fixedGutter?0:n.gutters.offsetWidth,h=e.curOp&&null!=e.curOp.scrollLeft?e.curOp.scrollLeft:n.scroller.scrollLeft-d,p=Mn(e)-n.gutters.offsetWidth,f=t.right-t.left>p;return f&&(t.right=t.left+p),t.left<10?s.scrollLeft=0:t.left<h?s.scrollLeft=Math.max(0,t.left+d-(f?0:10)):t.right>p+h-3&&(s.scrollLeft=t.right+(f?0:10)-p),s}function Nr(e,t){null!=t&&(Rr(e),e.curOp.scrollTop=(null==e.curOp.scrollTop?e.doc.scrollTop:e.curOp.scrollTop)+t)}function Fr(e){Rr(e);var t=e.getCursor();e.curOp.scrollToPos={from:t,to:t,margin:e.options.cursorScrollMargin}}function Dr(e,t,n){(null!=t||null!=n)&&Rr(e),null!=t&&(e.curOp.scrollLeft=t),null!=n&&(e.curOp.scrollTop=n)}function Rr(e){var t=e.curOp.scrollToPos;t&&(e.curOp.scrollToPos=null,Lr(e,Zn(e,t.from),Zn(e,t.to),t.margin))}function Lr(e,t,n,r){var o=jr(e,{left:Math.min(t.left,n.left),top:Math.min(t.top,n.top)-r,right:Math.max(t.right,n.right),bottom:Math.max(t.bottom,n.bottom)+r});Dr(e,o.scrollLeft,o.scrollTop)}function zr(e,t){Math.abs(e.doc.scrollTop-t)<2||(n||fo(e,{top:t}),Hr(e,t,!0),n&&fo(e),lo(e,100))}function Hr(e,t,n){t=Math.max(0,Math.min(e.display.scroller.scrollHeight-e.display.scroller.clientHeight,t)),(e.display.scroller.scrollTop!=t||n)&&(e.doc.scrollTop=t,e.display.scrollbars.setScrollTop(t),e.display.scroller.scrollTop!=t&&(e.display.scroller.scrollTop=t))}function Ur(e,t,n,r){t=Math.max(0,Math.min(t,e.display.scroller.scrollWidth-e.display.scroller.clientWidth)),(!(n?t==e.doc.scrollLeft:Math.abs(e.doc.scrollLeft-t)<2)||r)&&(e.doc.scrollLeft=t,bo(e),e.display.scroller.scrollLeft!=t&&(e.display.scroller.scrollLeft=t),e.display.scrollbars.setScrollLeft(t))}function Qr(e){var t=e.display,n=t.gutters.offsetWidth,r=Math.round(e.doc.height+Tn(e.display));return{clientHeight:t.scroller.clientHeight,viewHeight:t.wrapper.clientHeight,scrollWidth:t.scroller.scrollWidth,clientWidth:t.scroller.clientWidth,viewWidth:t.wrapper.clientWidth,barLeft:e.options.fixedGutter?n:0,docHeight:r,scrollHeight:r+Bn(e)+t.barHeight,nativeBarWidth:t.nativeBarWidth,gutterWidth:n}}var qr=function(e,t,n){this.cm=n;var r=this.vert=I("div",[I("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),o=this.horiz=I("div",[I("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");r.tabIndex=o.tabIndex=-1,e(r),e(o),ge(r,"scroll",function(){r.clientHeight&&t(r.scrollTop,"vertical")}),ge(o,"scroll",function(){o.clientWidth&&t(o.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,s&&a<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};qr.prototype.update=function(e){var t=e.scrollWidth>e.clientWidth+1,n=e.scrollHeight>e.clientHeight+1,r=e.nativeBarWidth;if(n){this.vert.style.display="block",this.vert.style.bottom=t?r+"px":"0";var o=e.viewHeight-(t?r:0);this.vert.firstChild.style.height=Math.max(0,e.scrollHeight-e.clientHeight+o)+"px"}else this.vert.scrollTop=0,this.vert.style.display="",this.vert.firstChild.style.height="0";if(t){this.horiz.style.display="block",this.horiz.style.right=n?r+"px":"0",this.horiz.style.left=e.barLeft+"px";var i=e.viewWidth-e.barLeft-(n?r:0);this.horiz.firstChild.style.width=Math.max(0,e.scrollWidth-e.clientWidth+i)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&e.clientHeight>0&&(0==r&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:n?r:0,bottom:t?r:0}},qr.prototype.setScrollLeft=function(e){this.horiz.scrollLeft!=e&&(this.horiz.scrollLeft=e),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},qr.prototype.setScrollTop=function(e){this.vert.scrollTop!=e&&(this.vert.scrollTop=e),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},qr.prototype.zeroWidthHack=function(){var e=y&&!f?"12px":"18px";this.horiz.style.height=this.vert.style.width=e,this.horiz.style.visibility=this.vert.style.visibility="hidden",this.disableHoriz=new q,this.disableVert=new q},qr.prototype.enableZeroWidthBar=function(e,t,n){e.style.visibility="",t.set(1e3,function r(){var o=e.getBoundingClientRect();("vert"==n?document.elementFromPoint(o.right-1,(o.top+o.bottom)/2):document.elementFromPoint((o.right+o.left)/2,o.bottom-1))!=e?e.style.visibility="hidden":t.set(1e3,r)})},qr.prototype.clear=function(){var e=this.horiz.parentNode;e.removeChild(this.horiz),e.removeChild(this.vert)};var Wr=function(){};function $r(e,t){t||(t=Qr(e));var n=e.display.barWidth,r=e.display.barHeight;Gr(e,t);for(var o=0;o<4&&n!=e.display.barWidth||r!=e.display.barHeight;o++)n!=e.display.barWidth&&e.options.lineWrapping&&Br(e),Gr(e,Qr(e)),n=e.display.barWidth,r=e.display.barHeight}function Gr(e,t){var n=e.display,r=n.scrollbars.update(t);n.sizer.style.paddingRight=(n.barWidth=r.right)+"px",n.sizer.style.paddingBottom=(n.barHeight=r.bottom)+"px",n.heightForcer.style.borderBottom=r.bottom+"px solid transparent",r.right&&r.bottom?(n.scrollbarFiller.style.display="block",n.scrollbarFiller.style.height=r.bottom+"px",n.scrollbarFiller.style.width=r.right+"px"):n.scrollbarFiller.style.display="",r.bottom&&e.options.coverGutterNextToScrollbar&&e.options.fixedGutter?(n.gutterFiller.style.display="block",n.gutterFiller.style.height=r.bottom+"px",n.gutterFiller.style.width=t.gutterWidth+"px"):n.gutterFiller.style.display=""}Wr.prototype.update=function(){return{bottom:0,right:0}},Wr.prototype.setScrollLeft=function(){},Wr.prototype.setScrollTop=function(){},Wr.prototype.clear=function(){};var Vr={native:qr,null:Wr};function Yr(e){e.display.scrollbars&&(e.display.scrollbars.clear(),e.display.scrollbars.addClass&&k(e.display.wrapper,e.display.scrollbars.addClass)),e.display.scrollbars=new Vr[e.options.scrollbarStyle](function(t){e.display.wrapper.insertBefore(t,e.display.scrollbarFiller),ge(t,"mousedown",function(){e.state.focused&&setTimeout(function(){return e.display.input.focus()},0)}),t.setAttribute("cm-not-content","true")},function(t,n){"horizontal"==n?Ur(e,t):zr(e,t)},e),e.display.scrollbars.addClass&&j(e.display.wrapper,e.display.scrollbars.addClass)}var Jr=0;function Kr(e){e.curOp={cm:e,viewChanged:!1,startHeight:e.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++Jr,markArrays:null},function(e){dn?dn.ops.push(e):e.ownsGroup=dn={ops:[e],delayedCallbacks:[]}}(e.curOp)}function Xr(e){var t=e.curOp;t&&function(e,t){var n=e.ownsGroup;if(n)try{!function(e){var t=e.delayedCallbacks,n=0;do{for(;n<t.length;n++)t[n].call(null);for(var r=0;r<e.ops.length;r++){var o=e.ops[r];if(o.cursorActivityHandlers)for(;o.cursorActivityCalled<o.cursorActivityHandlers.length;)o.cursorActivityHandlers[o.cursorActivityCalled++].call(null,o.cm)}}while(n<t.length)}(n)}finally{dn=null,t(n)}}(t,function(e){for(var t=0;t<e.ops.length;t++)e.ops[t].cm.curOp=null;!function(e){for(var t=e.ops,n=0;n<t.length;n++)Zr(t[n]);for(var r=0;r<t.length;r++)eo(t[r]);for(var o=0;o<t.length;o++)to(t[o]);for(var i=0;i<t.length;i++)no(t[i]);for(var s=0;s<t.length;s++)ro(t[s])}(e)})}function Zr(e){var t=e.cm,n=t.display;(function(e){var t=e.display;!t.scrollbarsClipped&&t.scroller.offsetWidth&&(t.nativeBarWidth=t.scroller.offsetWidth-t.scroller.clientWidth,t.heightForcer.style.height=Bn(e)+"px",t.sizer.style.marginBottom=-t.nativeBarWidth+"px",t.sizer.style.borderRightWidth=Bn(e)+"px",t.scrollbarsClipped=!0)})(t),e.updateMaxLine&&Jt(t),e.mustUpdate=e.viewChanged||e.forceUpdate||null!=e.scrollTop||e.scrollToPos&&(e.scrollToPos.from.line<n.viewFrom||e.scrollToPos.to.line>=n.viewTo)||n.maxLineChanged&&t.options.lineWrapping,e.update=e.mustUpdate&&new uo(t,e.mustUpdate&&{top:e.scrollTop,ensure:e.scrollToPos},e.forceUpdate)}function eo(e){e.updatedDisplay=e.mustUpdate&&ho(e.cm,e.update)}function to(e){var t=e.cm,n=t.display;e.updatedDisplay&&Br(t),e.barMeasure=Qr(t),n.maxLineChanged&&!t.options.lineWrapping&&(e.adjustWidthTo=Nn(t,n.maxLine,n.maxLine.text.length).left+3,t.display.sizerWidth=e.adjustWidthTo,e.barMeasure.scrollWidth=Math.max(n.scroller.clientWidth,n.sizer.offsetLeft+e.adjustWidthTo+Bn(t)+t.display.barWidth),e.maxScrollLeft=Math.max(0,n.sizer.offsetLeft+e.adjustWidthTo-Mn(t))),(e.updatedDisplay||e.selectionChanged)&&(e.preparedSelection=n.input.prepareSelection())}function no(e){var t=e.cm;null!=e.adjustWidthTo&&(t.display.sizer.style.minWidth=e.adjustWidthTo+"px",e.maxScrollLeft<t.doc.scrollLeft&&Ur(t,Math.min(t.display.scroller.scrollLeft,e.maxScrollLeft),!0),t.display.maxLineChanged=!1);var n=e.focus&&e.focus==P(R(t));e.preparedSelection&&t.display.input.showSelection(e.preparedSelection,n),(e.updatedDisplay||e.startHeight!=t.doc.height)&&$r(t,e.barMeasure),e.updatedDisplay&&go(t,e.barMeasure),e.selectionChanged&&Cr(t),t.state.focused&&e.updateInput&&t.display.input.reset(e.typing),n&&kr(e.cm)}function ro(e){var t=e.cm,n=t.display,r=t.doc;e.updatedDisplay&&po(t,e.update),null!=n.wheelStartX&&(null!=e.scrollTop||null!=e.scrollLeft||e.scrollToPos)&&(n.wheelStartX=n.wheelStartY=null),null!=e.scrollTop&&Hr(t,e.scrollTop,e.forceScroll),null!=e.scrollLeft&&Ur(t,e.scrollLeft,!0,!0),e.scrollToPos&&function(e,t){if(!ve(e,"scrollCursorIntoView")){var n=e.display,r=n.sizer.getBoundingClientRect(),o=null,i=n.wrapper.ownerDocument;if(t.top+r.top<0?o=!0:t.bottom+r.top>(i.defaultView.innerHeight||i.documentElement.clientHeight)&&(o=!1),null!=o&&!m){var s=I("div","",null,"position: absolute;\n                         top: "+(t.top-n.viewOffset-On(e.display))+"px;\n                         height: "+(t.bottom-t.top+Bn(e)+n.barHeight)+"px;\n                         left: "+t.left+"px; width: "+Math.max(2,t.right-t.left)+"px;");e.display.lineSpace.appendChild(s),s.scrollIntoView(o),e.display.lineSpace.removeChild(s)}}}(t,function(e,t,n,r){var o;null==r&&(r=0),!e.options.lineWrapping&&t==n&&(n="before"==t.sticky?it(t.line,t.ch+1,"before"):t,t=t.ch?it(t.line,"before"==t.sticky?t.ch-1:t.ch,"after"):t);for(var i=0;i<5;i++){var s=!1,a=Xn(e,t),l=n&&n!=t?Xn(e,n):a,c=jr(e,o={left:Math.min(a.left,l.left),top:Math.min(a.top,l.top)-r,right:Math.max(a.left,l.left),bottom:Math.max(a.bottom,l.bottom)+r}),u=e.doc.scrollTop,d=e.doc.scrollLeft;if(null!=c.scrollTop&&(zr(e,c.scrollTop),Math.abs(e.doc.scrollTop-u)>1&&(s=!0)),null!=c.scrollLeft&&(Ur(e,c.scrollLeft),Math.abs(e.doc.scrollLeft-d)>1&&(s=!0)),!s)break}return o}(t,ht(r,e.scrollToPos.from),ht(r,e.scrollToPos.to),e.scrollToPos.margin));var o=e.maybeHiddenMarkers,i=e.maybeUnhiddenMarkers;if(o)for(var s=0;s<o.length;++s)o[s].lines.length||ye(o[s],"hide");if(i)for(var a=0;a<i.length;++a)i[a].lines.length&&ye(i[a],"unhide");n.wrapper.offsetHeight&&(r.scrollTop=t.display.scroller.scrollTop),e.changeObjs&&ye(t,"changes",t,e.changeObjs),e.update&&e.update.finish()}function oo(e,t){if(e.curOp)return t();Kr(e);try{return t()}finally{Xr(e)}}function io(e,t){return function(){if(e.curOp)return t.apply(e,arguments);Kr(e);try{return t.apply(e,arguments)}finally{Xr(e)}}}function so(e){return function(){if(this.curOp)return e.apply(this,arguments);Kr(this);try{return e.apply(this,arguments)}finally{Xr(this)}}}function ao(e){return function(){var t=this.cm;if(!t||t.curOp)return e.apply(this,arguments);Kr(t);try{return e.apply(this,arguments)}finally{Xr(t)}}}function lo(e,t){e.doc.highlightFrontier<e.display.viewTo&&e.state.highlight.set(t,H(co,e))}function co(e){var t=e.doc;if(!(t.highlightFrontier>=e.display.viewTo)){var n=+new Date+e.options.workTime,r=wt(e,t.highlightFrontier),o=[];t.iter(r.line,Math.min(t.first+t.size,e.display.viewTo+500),function(i){if(r.line>=e.display.viewFrom){var s=i.styles,a=i.text.length>e.options.maxHighlightLength?Ge(t.mode,r.state):null,l=gt(e,i,r,!0);a&&(r.state=a),i.styles=l.styles;var c=i.styleClasses,u=l.classes;u?i.styleClasses=u:c&&(i.styleClasses=null);for(var d=!s||s.length!=i.styles.length||c!=u&&(!c||!u||c.bgClass!=u.bgClass||c.textClass!=u.textClass),h=0;!d&&h<s.length;++h)d=s[h]!=i.styles[h];d&&o.push(r.line),i.stateAfter=r.save(),r.nextLine()}else i.text.length<=e.options.maxHighlightLength&&yt(e,i.text,r),i.stateAfter=r.line%5==0?r.save():null,r.nextLine();if(+new Date>n)return lo(e,e.options.workDelay),!0}),t.highlightFrontier=r.line,t.modeFrontier=Math.max(t.modeFrontier,r.line),o.length&&oo(e,function(){for(var t=0;t<o.length;t++)br(e,o[t],"text")})}}var uo=function(e,t,n){var r=e.display;this.viewport=t,this.visible=Pr(r,e.doc,t),this.editorIsHidden=!r.wrapper.offsetWidth,this.wrapperHeight=r.wrapper.clientHeight,this.wrapperWidth=r.wrapper.clientWidth,this.oldDisplayWidth=Mn(e),this.force=n,this.dims=ur(e),this.events=[]};function ho(e,t){var n=e.display,r=e.doc;if(t.editorIsHidden)return wr(e),!1;if(!t.force&&t.visible.from>=n.viewFrom&&t.visible.to<=n.viewTo&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo)&&n.renderedView==n.view&&0==vr(e))return!1;wo(e)&&(wr(e),t.dims=ur(e));var o=r.first+r.size,i=Math.max(t.visible.from-e.options.viewportMargin,r.first),s=Math.min(o,t.visible.to+e.options.viewportMargin);n.viewFrom<i&&i-n.viewFrom<20&&(i=Math.max(r.first,n.viewFrom)),n.viewTo>s&&n.viewTo-s<20&&(s=Math.min(o,n.viewTo)),kt&&(i=qt(e.doc,i),s=Wt(e.doc,s));var a=i!=n.viewFrom||s!=n.viewTo||n.lastWrapHeight!=t.wrapperHeight||n.lastWrapWidth!=t.wrapperWidth;(function(e,t,n){var r=e.display;0==r.view.length||t>=r.viewTo||n<=r.viewFrom?(r.view=un(e,t,n),r.viewFrom=t):(r.viewFrom>t?r.view=un(e,t,r.viewFrom).concat(r.view):r.viewFrom<t&&(r.view=r.view.slice(mr(e,t))),r.viewFrom=t,r.viewTo<n?r.view=r.view.concat(un(e,r.viewTo,n)):r.viewTo>n&&(r.view=r.view.slice(0,mr(e,n)))),r.viewTo=n})(e,i,s),n.viewOffset=Vt(Ke(e.doc,n.viewFrom)),e.display.mover.style.top=n.viewOffset+"px";var c=vr(e);if(!a&&0==c&&!t.force&&n.renderedView==n.view&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo))return!1;var u=function(e){if(e.hasFocus())return null;var t=P(R(e));if(!t||!M(e.display.lineDiv,t))return null;var n={activeElt:t};if(window.getSelection){var r=z(e).getSelection();r.anchorNode&&r.extend&&M(e.display.lineDiv,r.anchorNode)&&(n.anchorNode=r.anchorNode,n.anchorOffset=r.anchorOffset,n.focusNode=r.focusNode,n.focusOffset=r.focusOffset)}return n}(e);return c>4&&(n.lineDiv.style.display="none"),function(e,t,n){var r=e.display,o=e.options.lineNumbers,i=r.lineDiv,s=i.firstChild;function a(t){var n=t.nextSibling;return l&&y&&e.display.currentWheelTarget==t?t.style.display="none":t.parentNode.removeChild(t),n}for(var c=r.view,u=r.viewFrom,d=0;d<c.length;d++){var h=c[d];if(!h.hidden)if(h.node&&h.node.parentNode==i){for(;s!=h.node;)s=a(s);var p=o&&null!=t&&t<=u&&h.lineNumber;h.changes&&(W(h.changes,"gutter")>-1&&(p=!1),mn(e,h,u,n)),p&&(O(h.lineNumber),h.lineNumber.appendChild(document.createTextNode(ot(e.options,u)))),s=h.node.nextSibling}else{var f=_n(e,h,u,n);i.insertBefore(f,s)}u+=h.size}for(;s;)s=a(s)}(e,n.updateLineNumbers,t.dims),c>4&&(n.lineDiv.style.display=""),n.renderedView=n.view,function(e){if(e&&e.activeElt&&e.activeElt!=P(L(e.activeElt))&&(e.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(e.activeElt.nodeName)&&e.anchorNode&&M(document.body,e.anchorNode)&&M(document.body,e.focusNode))){var t=e.activeElt.ownerDocument,n=t.defaultView.getSelection(),r=t.createRange();r.setEnd(e.anchorNode,e.anchorOffset),r.collapse(!1),n.removeAllRanges(),n.addRange(r),n.extend(e.focusNode,e.focusOffset)}}(u),O(n.cursorDiv),O(n.selectionDiv),n.gutters.style.height=n.sizer.style.minHeight=0,a&&(n.lastWrapHeight=t.wrapperHeight,n.lastWrapWidth=t.wrapperWidth,lo(e,400)),n.updateLineNumbers=null,!0}function po(e,t){for(var n=t.viewport,r=!0;;r=!1){if(r&&e.options.lineWrapping&&t.oldDisplayWidth!=Mn(e))r&&(t.visible=Pr(e.display,e.doc,n));else if(n&&null!=n.top&&(n={top:Math.min(e.doc.height+Tn(e.display)-Pn(e),n.top)}),t.visible=Pr(e.display,e.doc,n),t.visible.from>=e.display.viewFrom&&t.visible.to<=e.display.viewTo)break;if(!ho(e,t))break;Br(e);var o=Qr(e);Ar(e),$r(e,o),go(e,o),t.force=!1}t.signal(e,"update",e),(e.display.viewFrom!=e.display.reportedViewFrom||e.display.viewTo!=e.display.reportedViewTo)&&(t.signal(e,"viewportChange",e,e.display.viewFrom,e.display.viewTo),e.display.reportedViewFrom=e.display.viewFrom,e.display.reportedViewTo=e.display.viewTo)}function fo(e,t){var n=new uo(e,t);if(ho(e,n)){Br(e),po(e,n);var r=Qr(e);Ar(e),$r(e,r),go(e,r),n.finish()}}function mo(e){var t=e.gutters.offsetWidth;e.sizer.style.marginLeft=t+"px",pn(e,"gutterChanged",e)}function go(e,t){e.display.sizer.style.minHeight=t.docHeight+"px",e.display.heightForcer.style.top=t.docHeight+"px",e.display.gutters.style.height=t.docHeight+e.display.barHeight+Bn(e)+"px"}function bo(e){var t=e.display,n=t.view;if(t.alignWidgets||t.gutters.firstChild&&e.options.fixedGutter){for(var r=dr(t)-t.scroller.scrollLeft+e.doc.scrollLeft,o=t.gutters.offsetWidth,i=r+"px",s=0;s<n.length;s++)if(!n[s].hidden){e.options.fixedGutter&&(n[s].gutter&&(n[s].gutter.style.left=i),n[s].gutterBackground&&(n[s].gutterBackground.style.left=i));var a=n[s].alignable;if(a)for(var l=0;l<a.length;l++)a[l].style.left=i}e.options.fixedGutter&&(t.gutters.style.left=r+o+"px")}}function wo(e){if(!e.options.lineNumbers)return!1;var t=e.doc,n=ot(e.options,t.first+t.size-1),r=e.display;if(n.length!=r.lineNumChars){var o=r.measure.appendChild(I("div",[I("div",n)],"CodeMirror-linenumber CodeMirror-gutter-elt")),i=o.firstChild.offsetWidth,s=o.offsetWidth-i;return r.lineGutter.style.width="",r.lineNumInnerWidth=Math.max(i,r.lineGutter.offsetWidth-s)+1,r.lineNumWidth=r.lineNumInnerWidth+s,r.lineNumChars=r.lineNumInnerWidth?n.length:-1,r.lineGutter.style.width=r.lineNumWidth+"px",mo(e.display),!0}return!1}function yo(e,t){for(var n=[],r=!1,o=0;o<e.length;o++){var i=e[o],s=null;if("string"!=typeof i&&(s=i.style,i=i.className),"CodeMirror-linenumbers"==i){if(!t)continue;r=!0}n.push({className:i,style:s})}return t&&!r&&n.push({className:"CodeMirror-linenumbers",style:null}),n}function vo(e){var t=e.gutters,n=e.gutterSpecs;O(t),e.lineGutter=null;for(var r=0;r<n.length;++r){var o=n[r],i=o.className,s=o.style,a=t.appendChild(I("div",null,"CodeMirror-gutter "+i));s&&(a.style.cssText=s),"CodeMirror-linenumbers"==i&&(e.lineGutter=a,a.style.width=(e.lineNumWidth||1)+"px")}t.style.display=n.length?"":"none",mo(e)}function Ao(e){vo(e.display),gr(e),bo(e)}function _o(e,t,r,o){var i=this;this.input=r,i.scrollbarFiller=I("div",null,"CodeMirror-scrollbar-filler"),i.scrollbarFiller.setAttribute("cm-not-content","true"),i.gutterFiller=I("div",null,"CodeMirror-gutter-filler"),i.gutterFiller.setAttribute("cm-not-content","true"),i.lineDiv=B("div",null,"CodeMirror-code"),i.selectionDiv=I("div",null,null,"position: relative; z-index: 1"),i.cursorDiv=I("div",null,"CodeMirror-cursors"),i.measure=I("div",null,"CodeMirror-measure"),i.lineMeasure=I("div",null,"CodeMirror-measure"),i.lineSpace=B("div",[i.measure,i.lineMeasure,i.selectionDiv,i.cursorDiv,i.lineDiv],null,"position: relative; outline: none");var c=B("div",[i.lineSpace],"CodeMirror-lines");i.mover=I("div",[c],null,"position: relative"),i.sizer=I("div",[i.mover],"CodeMirror-sizer"),i.sizerWidth=null,i.heightForcer=I("div",null,null,"position: absolute; height: 50px; width: 1px;"),i.gutters=I("div",null,"CodeMirror-gutters"),i.lineGutter=null,i.scroller=I("div",[i.sizer,i.heightForcer,i.gutters],"CodeMirror-scroll"),i.scroller.setAttribute("tabIndex","-1"),i.wrapper=I("div",[i.scrollbarFiller,i.gutterFiller,i.scroller],"CodeMirror"),u&&d>=105&&(i.wrapper.style.clipPath="inset(0px)"),i.wrapper.setAttribute("translate","no"),s&&a<8&&(i.gutters.style.zIndex=-1,i.scroller.style.paddingRight=0),!l&&!(n&&w)&&(i.scroller.draggable=!0),e&&(e.appendChild?e.appendChild(i.wrapper):e(i.wrapper)),i.viewFrom=i.viewTo=t.first,i.reportedViewFrom=i.reportedViewTo=t.first,i.view=[],i.renderedView=null,i.externalMeasured=null,i.viewOffset=0,i.lastWrapHeight=i.lastWrapWidth=0,i.updateLineNumbers=null,i.nativeBarWidth=i.barHeight=i.barWidth=0,i.scrollbarsClipped=!1,i.lineNumWidth=i.lineNumInnerWidth=i.lineNumChars=null,i.alignWidgets=!1,i.cachedCharWidth=i.cachedTextHeight=i.cachedPaddingH=null,i.maxLine=null,i.maxLineLength=0,i.maxLineChanged=!1,i.wheelDX=i.wheelDY=i.wheelStartX=i.wheelStartY=null,i.shift=!1,i.selForContextMenu=null,i.activeTouch=null,i.gutterSpecs=yo(o.gutters,o.lineNumbers),vo(i),r.init(i)}uo.prototype.signal=function(e,t){_e(e,t)&&this.events.push(arguments)},uo.prototype.finish=function(){for(var e=0;e<this.events.length;e++)ye.apply(null,this.events[e])};var xo=0,So=null;function Eo(e){var t=e.wheelDeltaX,n=e.wheelDeltaY;return null==t&&e.detail&&e.axis==e.HORIZONTAL_AXIS&&(t=e.detail),null==n&&e.detail&&e.axis==e.VERTICAL_AXIS?n=e.detail:null==n&&(n=e.wheelDelta),{x:t,y:n}}function Co(e){var t=Eo(e);return t.x*=So,t.y*=So,t}function ko(e,t){u&&102==d&&(null==e.display.chromeScrollHack?e.display.sizer.style.pointerEvents="none":clearTimeout(e.display.chromeScrollHack),e.display.chromeScrollHack=setTimeout(function(){e.display.chromeScrollHack=null,e.display.sizer.style.pointerEvents=""},100));var r=Eo(t),o=r.x,i=r.y,s=So;0===t.deltaMode&&(o=t.deltaX,i=t.deltaY,s=1);var a=e.display,c=a.scroller,p=c.scrollWidth>c.clientWidth,f=c.scrollHeight>c.clientHeight;if(o&&p||i&&f){if(i&&y&&l)e:for(var m=t.target,g=a.view;m!=c;m=m.parentNode)for(var b=0;b<g.length;b++)if(g[b].node==m){e.display.currentWheelTarget=m;break e}if(o&&!n&&!h&&null!=s)return i&&f&&zr(e,Math.max(0,c.scrollTop+i*s)),Ur(e,Math.max(0,c.scrollLeft+o*s)),(!i||i&&f)&&Se(t),void(a.wheelStartX=null);if(i&&null!=s){var w=i*s,v=e.doc.scrollTop,A=v+a.wrapper.clientHeight;w<0?v=Math.max(0,v+w-50):A=Math.min(e.doc.height,A+w+50),fo(e,{top:v,bottom:A})}xo<20&&0!==t.deltaMode&&(null==a.wheelStartX?(a.wheelStartX=c.scrollLeft,a.wheelStartY=c.scrollTop,a.wheelDX=o,a.wheelDY=i,setTimeout(function(){if(null!=a.wheelStartX){var e=c.scrollLeft-a.wheelStartX,t=c.scrollTop-a.wheelStartY,n=t&&a.wheelDY&&t/a.wheelDY||e&&a.wheelDX&&e/a.wheelDX;a.wheelStartX=a.wheelStartY=null,n&&(So=(So*xo+n)/(xo+1),++xo)}},200)):(a.wheelDX+=o,a.wheelDY+=i))}}s?So=-.53:n?So=15:u?So=-.7:p&&(So=-1/3);var Oo=function(e,t){this.ranges=e,this.primIndex=t};Oo.prototype.primary=function(){return this.ranges[this.primIndex]},Oo.prototype.equals=function(e){if(e==this)return!0;if(e.primIndex!=this.primIndex||e.ranges.length!=this.ranges.length)return!1;for(var t=0;t<this.ranges.length;t++){var n=this.ranges[t],r=e.ranges[t];if(!at(n.anchor,r.anchor)||!at(n.head,r.head))return!1}return!0},Oo.prototype.deepCopy=function(){for(var e=[],t=0;t<this.ranges.length;t++)e[t]=new To(lt(this.ranges[t].anchor),lt(this.ranges[t].head));return new Oo(e,this.primIndex)},Oo.prototype.somethingSelected=function(){for(var e=0;e<this.ranges.length;e++)if(!this.ranges[e].empty())return!0;return!1},Oo.prototype.contains=function(e,t){t||(t=e);for(var n=0;n<this.ranges.length;n++){var r=this.ranges[n];if(st(t,r.from())>=0&&st(e,r.to())<=0)return n}return-1};var To=function(e,t){this.anchor=e,this.head=t};function Io(e,t,n){var r=e&&e.options.selectionsMayTouch,o=t[n];t.sort(function(e,t){return st(e.from(),t.from())}),n=W(t,o);for(var i=1;i<t.length;i++){var s=t[i],a=t[i-1],l=st(a.to(),s.from());if(r&&!s.empty()?l>0:l>=0){var c=ut(a.from(),s.from()),u=ct(a.to(),s.to()),d=a.empty()?s.from()==s.head:a.from()==a.head;i<=n&&--n,t.splice(--i,2,new To(d?u:c,d?c:u))}}return new Oo(t,n)}function Bo(e,t){return new Oo([new To(e,t||e)],0)}function Mo(e){return e.text?it(e.from.line+e.text.length-1,Z(e.text).length+(1==e.text.length?e.from.ch:0)):e.to}function Po(e,t){if(st(e,t.from)<0)return e;if(st(e,t.to)<=0)return Mo(t);var n=e.line+t.text.length-(t.to.line-t.from.line)-1,r=e.ch;return e.line==t.to.line&&(r+=Mo(t).ch-t.to.ch),it(n,r)}function jo(e,t){for(var n=[],r=0;r<e.sel.ranges.length;r++){var o=e.sel.ranges[r];n.push(new To(Po(o.anchor,t),Po(o.head,t)))}return Io(e.cm,n,e.sel.primIndex)}function No(e,t,n){return e.line==t.line?it(n.line,e.ch-t.ch+n.ch):it(n.line+(e.line-t.line),e.ch)}function Fo(e){e.doc.mode=qe(e.options,e.doc.modeOption),Do(e)}function Do(e){e.doc.iter(function(e){e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null)}),e.doc.modeFrontier=e.doc.highlightFrontier=e.doc.first,lo(e,100),e.state.modeGen++,e.curOp&&gr(e)}function Ro(e,t){return 0==t.from.ch&&0==t.to.ch&&""==Z(t.text)&&(!e.cm||e.cm.options.wholeLineUpdateBefore)}function Lo(e,t,n,r){function o(e){return n?n[e]:null}function i(e,n,o){(function(e,t,n,r){e.text=t,e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null),null!=e.order&&(e.order=null),Pt(e),jt(e,n);var o=r?r(e):1;o!=e.height&&et(e,o)})(e,n,o,r),pn(e,"change",e,t)}function s(e,t){for(var n=[],i=e;i<t;++i)n.push(new Kt(c[i],o(i),r));return n}var a=t.from,l=t.to,c=t.text,u=Ke(e,a.line),d=Ke(e,l.line),h=Z(c),p=o(c.length-1),f=l.line-a.line;if(t.full)e.insert(0,s(0,c.length)),e.remove(c.length,e.size-c.length);else if(Ro(e,t)){var m=s(0,c.length-1);i(d,d.text,p),f&&e.remove(a.line,f),m.length&&e.insert(a.line,m)}else if(u==d)if(1==c.length)i(u,u.text.slice(0,a.ch)+h+u.text.slice(l.ch),p);else{var g=s(1,c.length-1);g.push(new Kt(h+u.text.slice(l.ch),p,r)),i(u,u.text.slice(0,a.ch)+c[0],o(0)),e.insert(a.line+1,g)}else if(1==c.length)i(u,u.text.slice(0,a.ch)+c[0]+d.text.slice(l.ch),o(0)),e.remove(a.line+1,f);else{i(u,u.text.slice(0,a.ch)+c[0],o(0)),i(d,h+d.text.slice(l.ch),p);var b=s(1,c.length-1);f>1&&e.remove(a.line+1,f-1),e.insert(a.line+1,b)}pn(e,"change",e,t)}function zo(e,t,n){!function e(r,o,i){if(r.linked)for(var s=0;s<r.linked.length;++s){var a=r.linked[s];if(a.doc!=o){var l=i&&a.sharedHist;n&&!l||(t(a.doc,l),e(a.doc,r,l))}}}(e,null,!0)}function Ho(e,t){if(t.cm)throw new Error("This document is already in use.");e.doc=t,t.cm=e,pr(e),Fo(e),Uo(e),e.options.direction=t.direction,e.options.lineWrapping||Jt(e),e.options.mode=t.modeOption,gr(e)}function Uo(e){("rtl"==e.doc.direction?j:k)(e.display.lineDiv,"CodeMirror-rtl")}function Qo(e){this.done=[],this.undone=[],this.undoDepth=e?e.undoDepth:1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=e?e.maxGeneration:1}function qo(e,t){var n={from:lt(t.from),to:Mo(t),text:Xe(e,t.from,t.to)};return Yo(e,n,t.from.line,t.to.line+1),zo(e,function(e){return Yo(e,n,t.from.line,t.to.line+1)},!0),n}function Wo(e){for(;e.length&&Z(e).ranges;)e.pop()}function $o(e,t,n,r){var o=e.history;o.undone.length=0;var i,s,a=+new Date;if((o.lastOp==r||o.lastOrigin==t.origin&&t.origin&&("+"==t.origin.charAt(0)&&o.lastModTime>a-(e.cm?e.cm.options.historyEventDelay:500)||"*"==t.origin.charAt(0)))&&(i=function(e,t){return t?(Wo(e.done),Z(e.done)):e.done.length&&!Z(e.done).ranges?Z(e.done):e.done.length>1&&!e.done[e.done.length-2].ranges?(e.done.pop(),Z(e.done)):void 0}(o,o.lastOp==r)))s=Z(i.changes),0==st(t.from,t.to)&&0==st(t.from,s.to)?s.to=Mo(t):i.changes.push(qo(e,t));else{var l=Z(o.done);for((!l||!l.ranges)&&Vo(e.sel,o.done),i={changes:[qo(e,t)],generation:o.generation},o.done.push(i);o.done.length>o.undoDepth;)o.done.shift(),o.done[0].ranges||o.done.shift()}o.done.push(n),o.generation=++o.maxGeneration,o.lastModTime=o.lastSelTime=a,o.lastOp=o.lastSelOp=r,o.lastOrigin=o.lastSelOrigin=t.origin,s||ye(e,"historyAdded")}function Go(e,t,n,r){var o=e.history,i=r&&r.origin;n==o.lastSelOp||i&&o.lastSelOrigin==i&&(o.lastModTime==o.lastSelTime&&o.lastOrigin==i||function(e,t,n,r){var o=t.charAt(0);return"*"==o||"+"==o&&n.ranges.length==r.ranges.length&&n.somethingSelected()==r.somethingSelected()&&new Date-e.history.lastSelTime<=(e.cm?e.cm.options.historyEventDelay:500)}(e,i,Z(o.done),t))?o.done[o.done.length-1]=t:Vo(t,o.done),o.lastSelTime=+new Date,o.lastSelOrigin=i,o.lastSelOp=n,r&&!1!==r.clearRedo&&Wo(o.undone)}function Vo(e,t){var n=Z(t);n&&n.ranges&&n.equals(e)||t.push(e)}function Yo(e,t,n,r){var o=t["spans_"+e.id],i=0;e.iter(Math.max(e.first,n),Math.min(e.first+e.size,r),function(n){n.markedSpans&&((o||(o=t["spans_"+e.id]={}))[i]=n.markedSpans),++i})}function Jo(e){if(!e)return null;for(var t,n=0;n<e.length;++n)e[n].marker.explicitlyCleared?t||(t=e.slice(0,n)):t&&t.push(e[n]);return t?t.length?t:null:e}function Ko(e,t){var n=function(e,t){var n=t["spans_"+e.id];if(!n)return null;for(var r=[],o=0;o<t.text.length;++o)r.push(Jo(n[o]));return r}(e,t),r=Bt(e,t);if(!n)return r;if(!r)return n;for(var o=0;o<n.length;++o){var i=n[o],s=r[o];if(i&&s)e:for(var a=0;a<s.length;++a){for(var l=s[a],c=0;c<i.length;++c)if(i[c].marker==l.marker)continue e;i.push(l)}else s&&(n[o]=s)}return n}function Xo(e,t,n){for(var r=[],o=0;o<e.length;++o){var i=e[o];if(i.ranges)r.push(n?Oo.prototype.deepCopy.call(i):i);else{var s=i.changes,a=[];r.push({changes:a});for(var l=0;l<s.length;++l){var c=s[l],u=void 0;if(a.push({from:c.from,to:c.to,text:c.text}),t)for(var d in c)(u=d.match(/^spans_(\d+)$/))&&W(t,Number(u[1]))>-1&&(Z(a)[d]=c[d],delete c[d])}}}return r}function Zo(e,t,n,r){if(r){var o=e.anchor;if(n){var i=st(t,o)<0;i!=st(n,o)<0?(o=t,t=n):i!=st(t,n)<0&&(t=n)}return new To(o,t)}return new To(n||t,t)}function ei(e,t,n,r,o){null==o&&(o=e.cm&&(e.cm.display.shift||e.extend)),ii(e,new Oo([Zo(e.sel.primary(),t,n,o)],0),r)}function ti(e,t,n){for(var r=[],o=e.cm&&(e.cm.display.shift||e.extend),i=0;i<e.sel.ranges.length;i++)r[i]=Zo(e.sel.ranges[i],t[i],null,o);ii(e,Io(e.cm,r,e.sel.primIndex),n)}function ni(e,t,n,r){var o=e.sel.ranges.slice(0);o[t]=n,ii(e,Io(e.cm,o,e.sel.primIndex),r)}function ri(e,t,n,r){ii(e,Bo(t,n),r)}function oi(e,t,n){var r=e.history.done,o=Z(r);o&&o.ranges?(r[r.length-1]=t,si(e,t,n)):ii(e,t,n)}function ii(e,t,n){si(e,t,n),Go(e,e.sel,e.cm?e.cm.curOp.id:NaN,n)}function si(e,t,n){(_e(e,"beforeSelectionChange")||e.cm&&_e(e.cm,"beforeSelectionChange"))&&(t=function(e,t,n){var r={ranges:t.ranges,update:function(t){this.ranges=[];for(var n=0;n<t.length;n++)this.ranges[n]=new To(ht(e,t[n].anchor),ht(e,t[n].head))},origin:n&&n.origin};return ye(e,"beforeSelectionChange",e,r),e.cm&&ye(e.cm,"beforeSelectionChange",e.cm,r),r.ranges!=t.ranges?Io(e.cm,r.ranges,r.ranges.length-1):t}(e,t,n));var r=n&&n.bias||(st(t.primary().head,e.sel.primary().head)<0?-1:1);ai(e,ci(e,t,r,!0)),(!n||!1!==n.scroll)&&e.cm&&"nocursor"!=e.cm.getOption("readOnly")&&Fr(e.cm)}function ai(e,t){t.equals(e.sel)||(e.sel=t,e.cm&&(e.cm.curOp.updateInput=1,e.cm.curOp.selectionChanged=!0,Ae(e.cm)),pn(e,"cursorActivity",e))}function li(e){ai(e,ci(e,e.sel,null,!1))}function ci(e,t,n,r){for(var o,i=0;i<t.ranges.length;i++){var s=t.ranges[i],a=t.ranges.length==e.sel.ranges.length&&e.sel.ranges[i],l=di(e,s.anchor,a&&a.anchor,n,r),c=s.head==s.anchor?l:di(e,s.head,a&&a.head,n,r);(o||l!=s.anchor||c!=s.head)&&(o||(o=t.ranges.slice(0,i)),o[i]=new To(l,c))}return o?Io(e.cm,o,t.primIndex):t}function ui(e,t,n,r,o){var i=Ke(e,t.line);if(i.markedSpans)for(var s=0;s<i.markedSpans.length;++s){var a=i.markedSpans[s],l=a.marker,c="selectLeft"in l?!l.selectLeft:l.inclusiveLeft,u="selectRight"in l?!l.selectRight:l.inclusiveRight;if((null==a.from||(c?a.from<=t.ch:a.from<t.ch))&&(null==a.to||(u?a.to>=t.ch:a.to>t.ch))){if(o&&(ye(l,"beforeCursorEnter"),l.explicitlyCleared)){if(i.markedSpans){--s;continue}break}if(!l.atomic)continue;if(n){var d=l.find(r<0?1:-1),h=void 0;if((r<0?u:c)&&(d=hi(e,d,-r,d&&d.line==t.line?i:null)),d&&d.line==t.line&&(h=st(d,n))&&(r<0?h<0:h>0))return ui(e,d,t,r,o)}var p=l.find(r<0?-1:1);return(r<0?c:u)&&(p=hi(e,p,r,p.line==t.line?i:null)),p?ui(e,p,t,r,o):null}}return t}function di(e,t,n,r,o){var i=r||1;return ui(e,t,n,i,o)||!o&&ui(e,t,n,i,!0)||ui(e,t,n,-i,o)||!o&&ui(e,t,n,-i,!0)||(e.cantEdit=!0,it(e.first,0))}function hi(e,t,n,r){return n<0&&0==t.ch?t.line>e.first?ht(e,it(t.line-1)):null:n>0&&t.ch==(r||Ke(e,t.line)).text.length?t.line<e.first+e.size-1?it(t.line+1,0):null:new it(t.line,t.ch+n)}function pi(e){e.setSelection(it(e.firstLine(),0),it(e.lastLine()),G)}function fi(e,t,n){var r={canceled:!1,from:t.from,to:t.to,text:t.text,origin:t.origin,cancel:function(){return r.canceled=!0}};return n&&(r.update=function(t,n,o,i){t&&(r.from=ht(e,t)),n&&(r.to=ht(e,n)),o&&(r.text=o),void 0!==i&&(r.origin=i)}),ye(e,"beforeChange",e,r),e.cm&&ye(e.cm,"beforeChange",e.cm,r),r.canceled?(e.cm&&(e.cm.curOp.updateInput=2),null):{from:r.from,to:r.to,text:r.text,origin:r.origin}}function mi(e,t,n){if(e.cm){if(!e.cm.curOp)return io(e.cm,mi)(e,t,n);if(e.cm.state.suppressEdits)return}if(!(_e(e,"beforeChange")||e.cm&&_e(e.cm,"beforeChange"))||(t=fi(e,t,!0))){var r=Ct&&!n&&function(e,t,n){var r=null;if(e.iter(t.line,n.line+1,function(e){if(e.markedSpans)for(var t=0;t<e.markedSpans.length;++t){var n=e.markedSpans[t].marker;n.readOnly&&(!r||-1==W(r,n))&&(r||(r=[])).push(n)}}),!r)return null;for(var o=[{from:t,to:n}],i=0;i<r.length;++i)for(var s=r[i],a=s.find(0),l=0;l<o.length;++l){var c=o[l];if(!(st(c.to,a.from)<0||st(c.from,a.to)>0)){var u=[l,1],d=st(c.from,a.from),h=st(c.to,a.to);(d<0||!s.inclusiveLeft&&!d)&&u.push({from:c.from,to:a.from}),(h>0||!s.inclusiveRight&&!h)&&u.push({from:a.to,to:c.to}),o.splice.apply(o,u),l+=u.length-3}}return o}(e,t.from,t.to);if(r)for(var o=r.length-1;o>=0;--o)gi(e,{from:r[o].from,to:r[o].to,text:o?[""]:t.text,origin:t.origin});else gi(e,t)}}function gi(e,t){if(1!=t.text.length||""!=t.text[0]||0!=st(t.from,t.to)){var n=jo(e,t);$o(e,t,n,e.cm?e.cm.curOp.id:NaN),yi(e,t,n,Bt(e,t));var r=[];zo(e,function(e,n){!n&&-1==W(r,e.history)&&(xi(e.history,t),r.push(e.history)),yi(e,t,null,Bt(e,t))})}}function bi(e,t,n){var r=e.cm&&e.cm.state.suppressEdits;if(!r||n){for(var o,i=e.history,s=e.sel,a="undo"==t?i.done:i.undone,l="undo"==t?i.undone:i.done,c=0;c<a.length&&(o=a[c],!(n?o.ranges&&!o.equals(e.sel):!o.ranges));c++);if(c!=a.length){for(i.lastOrigin=i.lastSelOrigin=null;;){if(!(o=a.pop()).ranges){if(r)return void a.push(o);break}if(Vo(o,l),n&&!o.equals(e.sel))return void ii(e,o,{clearRedo:!1});s=o}var u=[];Vo(s,l),l.push({changes:u,generation:i.generation}),i.generation=o.generation||++i.maxGeneration;for(var d=_e(e,"beforeChange")||e.cm&&_e(e.cm,"beforeChange"),h=function(n){var r=o.changes[n];if(r.origin=t,d&&!fi(e,r,!1))return a.length=0,{};u.push(qo(e,r));var i=n?jo(e,r):Z(a);yi(e,r,i,Ko(e,r)),!n&&e.cm&&e.cm.scrollIntoView({from:r.from,to:Mo(r)});var s=[];zo(e,function(e,t){!t&&-1==W(s,e.history)&&(xi(e.history,r),s.push(e.history)),yi(e,r,null,Ko(e,r))})},p=o.changes.length-1;p>=0;--p){var f=h(p);if(f)return f.v}}}}function wi(e,t){if(0!=t&&(e.first+=t,e.sel=new Oo(ee(e.sel.ranges,function(e){return new To(it(e.anchor.line+t,e.anchor.ch),it(e.head.line+t,e.head.ch))}),e.sel.primIndex),e.cm)){gr(e.cm,e.first,e.first-t,t);for(var n=e.cm.display,r=n.viewFrom;r<n.viewTo;r++)br(e.cm,r,"gutter")}}function yi(e,t,n,r){if(e.cm&&!e.cm.curOp)return io(e.cm,yi)(e,t,n,r);if(t.to.line<e.first)wi(e,t.text.length-1-(t.to.line-t.from.line));else if(!(t.from.line>e.lastLine())){if(t.from.line<e.first){var o=t.text.length-1-(e.first-t.from.line);wi(e,o),t={from:it(e.first,0),to:it(t.to.line+o,t.to.ch),text:[Z(t.text)],origin:t.origin}}var i=e.lastLine();t.to.line>i&&(t={from:t.from,to:it(i,Ke(e,i).text.length),text:[t.text[0]],origin:t.origin}),t.removed=Xe(e,t.from,t.to),n||(n=jo(e,t)),e.cm?function(e,t,n){var r=e.doc,o=e.display,i=t.from,s=t.to,a=!1,l=i.line;e.options.lineWrapping||(l=tt(Qt(Ke(r,i.line))),r.iter(l,s.line+1,function(e){if(e==o.maxLine)return a=!0,!0})),r.sel.contains(t.from,t.to)>-1&&Ae(e),Lo(r,t,n,hr(e)),e.options.lineWrapping||(r.iter(l,i.line+t.text.length,function(e){var t=Yt(e);t>o.maxLineLength&&(o.maxLine=e,o.maxLineLength=t,o.maxLineChanged=!0,a=!1)}),a&&(e.curOp.updateMaxLine=!0)),function(e,t){if(e.modeFrontier=Math.min(e.modeFrontier,t),!(e.highlightFrontier<t-10)){for(var n=e.first,r=t-1;r>n;r--){var o=Ke(e,r).stateAfter;if(o&&(!(o instanceof ft)||r+o.lookAhead<t)){n=r+1;break}}e.highlightFrontier=Math.min(e.highlightFrontier,n)}}(r,i.line),lo(e,400);var c=t.text.length-(s.line-i.line)-1;t.full?gr(e):i.line!=s.line||1!=t.text.length||Ro(e.doc,t)?gr(e,i.line,s.line+1,c):br(e,i.line,"text");var u=_e(e,"changes"),d=_e(e,"change");if(d||u){var h={from:i,to:s,text:t.text,removed:t.removed,origin:t.origin};d&&pn(e,"change",e,h),u&&(e.curOp.changeObjs||(e.curOp.changeObjs=[])).push(h)}e.display.selForContextMenu=null}(e.cm,t,r):Lo(e,t,r),si(e,n,G),e.cantEdit&&di(e,it(e.firstLine(),0))&&(e.cantEdit=!1)}}function vi(e,t,n,r,o){var i;r||(r=n),st(r,n)<0&&(n=(i=[r,n])[0],r=i[1]),"string"==typeof t&&(t=e.splitLines(t)),mi(e,{from:n,to:r,text:t,origin:o})}function Ai(e,t,n,r){n<e.line?e.line+=r:t<e.line&&(e.line=t,e.ch=0)}function _i(e,t,n,r){for(var o=0;o<e.length;++o){var i=e[o],s=!0;if(i.ranges){i.copied||((i=e[o]=i.deepCopy()).copied=!0);for(var a=0;a<i.ranges.length;a++)Ai(i.ranges[a].anchor,t,n,r),Ai(i.ranges[a].head,t,n,r)}else{for(var l=0;l<i.changes.length;++l){var c=i.changes[l];if(n<c.from.line)c.from=it(c.from.line+r,c.from.ch),c.to=it(c.to.line+r,c.to.ch);else if(t<=c.to.line){s=!1;break}}s||(e.splice(0,o+1),o=0)}}}function xi(e,t){var n=t.from.line,r=t.to.line,o=t.text.length-(r-n)-1;_i(e.done,n,r,o),_i(e.undone,n,r,o)}function Si(e,t,n,r){var o=t,i=t;return"number"==typeof t?i=Ke(e,dt(e,t)):o=tt(t),null==o?null:(r(i,o)&&e.cm&&br(e.cm,o,n),i)}function Ei(e){this.lines=e,this.parent=null;for(var t=0,n=0;n<e.length;++n)e[n].parent=this,t+=e[n].height;this.height=t}function Ci(e){this.children=e;for(var t=0,n=0,r=0;r<e.length;++r){var o=e[r];t+=o.chunkSize(),n+=o.height,o.parent=this}this.size=t,this.height=n,this.parent=null}To.prototype.from=function(){return ut(this.anchor,this.head)},To.prototype.to=function(){return ct(this.anchor,this.head)},To.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch},Ei.prototype={chunkSize:function(){return this.lines.length},removeInner:function(e,t){for(var n=e,r=e+t;n<r;++n){var o=this.lines[n];this.height-=o.height,Xt(o),pn(o,"delete")}this.lines.splice(e,t)},collapse:function(e){e.push.apply(e,this.lines)},insertInner:function(e,t,n){this.height+=n,this.lines=this.lines.slice(0,e).concat(t).concat(this.lines.slice(e));for(var r=0;r<t.length;++r)t[r].parent=this},iterN:function(e,t,n){for(var r=e+t;e<r;++e)if(n(this.lines[e]))return!0}},Ci.prototype={chunkSize:function(){return this.size},removeInner:function(e,t){this.size-=t;for(var n=0;n<this.children.length;++n){var r=this.children[n],o=r.chunkSize();if(e<o){var i=Math.min(t,o-e),s=r.height;if(r.removeInner(e,i),this.height-=s-r.height,o==i&&(this.children.splice(n--,1),r.parent=null),0==(t-=i))break;e=0}else e-=o}if(this.size-t<25&&(this.children.length>1||!(this.children[0]instanceof Ei))){var a=[];this.collapse(a),this.children=[new Ei(a)],this.children[0].parent=this}},collapse:function(e){for(var t=0;t<this.children.length;++t)this.children[t].collapse(e)},insertInner:function(e,t,n){this.size+=t.length,this.height+=n;for(var r=0;r<this.children.length;++r){var o=this.children[r],i=o.chunkSize();if(e<=i){if(o.insertInner(e,t,n),o.lines&&o.lines.length>50){for(var s=o.lines.length%25+25,a=s;a<o.lines.length;){var l=new Ei(o.lines.slice(a,a+=25));o.height-=l.height,this.children.splice(++r,0,l),l.parent=this}o.lines=o.lines.slice(0,s),this.maybeSpill()}break}e-=i}},maybeSpill:function(){if(!(this.children.length<=10)){var e=this;do{var t=new Ci(e.children.splice(e.children.length-5,5));if(e.parent){e.size-=t.size,e.height-=t.height;var n=W(e.parent.children,e);e.parent.children.splice(n+1,0,t)}else{var r=new Ci(e.children);r.parent=e,e.children=[r,t],e=r}t.parent=e.parent}while(e.children.length>10);e.parent.maybeSpill()}},iterN:function(e,t,n){for(var r=0;r<this.children.length;++r){var o=this.children[r],i=o.chunkSize();if(e<i){var s=Math.min(t,i-e);if(o.iterN(e,s,n))return!0;if(0==(t-=s))break;e=0}else e-=i}}};var ki=function(e,t,n){if(n)for(var r in n)n.hasOwnProperty(r)&&(this[r]=n[r]);this.doc=e,this.node=t};function Oi(e,t,n){Vt(t)<(e.curOp&&e.curOp.scrollTop||e.doc.scrollTop)&&Nr(e,n)}ki.prototype.clear=function(){var e=this.doc.cm,t=this.line.widgets,n=this.line,r=tt(n);if(null!=r&&t){for(var o=0;o<t.length;++o)t[o]==this&&t.splice(o--,1);t.length||(n.widgets=null);var i=Cn(this);et(n,Math.max(0,n.height-i)),e&&(oo(e,function(){Oi(e,n,-i),br(e,r,"widget")}),pn(e,"lineWidgetCleared",e,this,r))}},ki.prototype.changed=function(){var e=this,t=this.height,n=this.doc.cm,r=this.line;this.height=null;var o=Cn(this)-t;o&&($t(this.doc,r)||et(r,r.height+o),n&&oo(n,function(){n.curOp.forceUpdate=!0,Oi(n,r,o),pn(n,"lineWidgetChanged",n,e,tt(r))}))},xe(ki);var Ti=0,Ii=function(e,t){this.lines=[],this.type=t,this.doc=e,this.id=++Ti};function Bi(e,t,n,r,o){if(r&&r.shared)return function(e,t,n,r,o){(r=U(r)).shared=!1;var i=[Bi(e,t,n,r,o)],s=i[0],a=r.widgetNode;return zo(e,function(e){a&&(r.widgetNode=a.cloneNode(!0)),i.push(Bi(e,ht(e,t),ht(e,n),r,o));for(var l=0;l<e.linked.length;++l)if(e.linked[l].isParent)return;s=Z(i)}),new Mi(i,s)}(e,t,n,r,o);if(e.cm&&!e.cm.curOp)return io(e.cm,Bi)(e,t,n,r,o);var i=new Ii(e,o),s=st(t,n);if(r&&U(r,i,!1),s>0||0==s&&!1!==i.clearWhenEmpty)return i;if(i.replacedWith&&(i.collapsed=!0,i.widgetNode=B("span",[i.replacedWith],"CodeMirror-widget"),r.handleMouseEvents||i.widgetNode.setAttribute("cm-ignore-events","true"),r.insertLeft&&(i.widgetNode.insertLeft=!0)),i.collapsed){if(Ut(e,t.line,t,n,i)||t.line!=n.line&&Ut(e,n.line,t,n,i))throw new Error("Inserting collapsed marker partially overlapping an existing one");kt=!0}i.addToHistory&&$o(e,{from:t,to:n,origin:"markText"},e.sel,NaN);var a,l=t.line,c=e.cm;if(e.iter(l,n.line+1,function(r){c&&i.collapsed&&!c.options.lineWrapping&&Qt(r)==c.display.maxLine&&(a=!0),i.collapsed&&l!=t.line&&et(r,0),function(e,t,n){var r=n&&window.WeakSet&&(n.markedSpans||(n.markedSpans=new WeakSet));r&&e.markedSpans&&r.has(e.markedSpans)?e.markedSpans.push(t):(e.markedSpans=e.markedSpans?e.markedSpans.concat([t]):[t],r&&r.add(e.markedSpans)),t.marker.attachLine(e)}(r,new Ot(i,l==t.line?t.ch:null,l==n.line?n.ch:null),e.cm&&e.cm.curOp),++l}),i.collapsed&&e.iter(t.line,n.line+1,function(t){$t(e,t)&&et(t,0)}),i.clearOnEnter&&ge(i,"beforeCursorEnter",function(){return i.clear()}),i.readOnly&&(Ct=!0,(e.history.done.length||e.history.undone.length)&&e.clearHistory()),i.collapsed&&(i.id=++Ti,i.atomic=!0),c){if(a&&(c.curOp.updateMaxLine=!0),i.collapsed)gr(c,t.line,n.line+1);else if(i.className||i.startStyle||i.endStyle||i.css||i.attributes||i.title)for(var u=t.line;u<=n.line;u++)br(c,u,"text");i.atomic&&li(c.doc),pn(c,"markerAdded",c,i)}return i}Ii.prototype.clear=function(){if(!this.explicitlyCleared){var e=this.doc.cm,t=e&&!e.curOp;if(t&&Kr(e),_e(this,"clear")){var n=this.find();n&&pn(this,"clear",n.from,n.to)}for(var r=null,o=null,i=0;i<this.lines.length;++i){var s=this.lines[i],a=Tt(s.markedSpans,this);e&&!this.collapsed?br(e,tt(s),"text"):e&&(null!=a.to&&(o=tt(s)),null!=a.from&&(r=tt(s))),s.markedSpans=It(s.markedSpans,a),null==a.from&&this.collapsed&&!$t(this.doc,s)&&e&&et(s,lr(e.display))}if(e&&this.collapsed&&!e.options.lineWrapping)for(var l=0;l<this.lines.length;++l){var c=Qt(this.lines[l]),u=Yt(c);u>e.display.maxLineLength&&(e.display.maxLine=c,e.display.maxLineLength=u,e.display.maxLineChanged=!0)}null!=r&&e&&this.collapsed&&gr(e,r,o+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,e&&li(e.doc)),e&&pn(e,"markerCleared",e,this,r,o),t&&Xr(e),this.parent&&this.parent.clear()}},Ii.prototype.find=function(e,t){null==e&&"bookmark"==this.type&&(e=1);for(var n,r,o=0;o<this.lines.length;++o){var i=this.lines[o],s=Tt(i.markedSpans,this);if(null!=s.from&&(n=it(t?i:tt(i),s.from),-1==e))return n;if(null!=s.to&&(r=it(t?i:tt(i),s.to),1==e))return r}return n&&{from:n,to:r}},Ii.prototype.changed=function(){var e=this,t=this.find(-1,!0),n=this,r=this.doc.cm;!t||!r||oo(r,function(){var o=t.line,i=tt(t.line),s=Fn(r,i);if(s&&(Qn(s),r.curOp.selectionChanged=r.curOp.forceUpdate=!0),r.curOp.updateMaxLine=!0,!$t(n.doc,o)&&null!=n.height){var a=n.height;n.height=null;var l=Cn(n)-a;l&&et(o,o.height+l)}pn(r,"markerChanged",r,e)})},Ii.prototype.attachLine=function(e){if(!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;(!t.maybeHiddenMarkers||-1==W(t.maybeHiddenMarkers,this))&&(t.maybeUnhiddenMarkers||(t.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(e)},Ii.prototype.detachLine=function(e){if(this.lines.splice(W(this.lines,e),1),!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;(t.maybeHiddenMarkers||(t.maybeHiddenMarkers=[])).push(this)}},xe(Ii);var Mi=function(e,t){this.markers=e,this.primary=t;for(var n=0;n<e.length;++n)e[n].parent=this};function Pi(e){return e.findMarks(it(e.first,0),e.clipPos(it(e.lastLine())),function(e){return e.parent})}function ji(e){for(var t=function(t){var n=e[t],r=[n.primary.doc];zo(n.primary.doc,function(e){return r.push(e)});for(var o=0;o<n.markers.length;o++){var i=n.markers[o];-1==W(r,i.doc)&&(i.parent=null,n.markers.splice(o--,1))}},n=0;n<e.length;n++)t(n)}Mi.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var e=0;e<this.markers.length;++e)this.markers[e].clear();pn(this,"clear")}},Mi.prototype.find=function(e,t){return this.primary.find(e,t)},xe(Mi);var Ni=0,Fi=function(e,t,n,r,o){if(!(this instanceof Fi))return new Fi(e,t,n,r,o);null==n&&(n=0),Ci.call(this,[new Ei([new Kt("",null)])]),this.first=n,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=n;var i=it(n,0);this.sel=Bo(i),this.history=new Qo(null),this.id=++Ni,this.modeOption=t,this.lineSep=r,this.direction="rtl"==o?"rtl":"ltr",this.extend=!1,"string"==typeof e&&(e=this.splitLines(e)),Lo(this,{from:i,to:i,text:e}),ii(this,Bo(i),G)};Fi.prototype=ne(Ci.prototype,{constructor:Fi,iter:function(e,t,n){n?this.iterN(e-this.first,t-e,n):this.iterN(this.first,this.first+this.size,e)},insert:function(e,t){for(var n=0,r=0;r<t.length;++r)n+=t[r].height;this.insertInner(e-this.first,t,n)},remove:function(e,t){this.removeInner(e-this.first,t)},getValue:function(e){var t=Ze(this,this.first,this.first+this.size);return!1===e?t:t.join(e||this.lineSeparator())},setValue:ao(function(e){var t=it(this.first,0),n=this.first+this.size-1;mi(this,{from:t,to:it(n,Ke(this,n).text.length),text:this.splitLines(e),origin:"setValue",full:!0},!0),this.cm&&Dr(this.cm,0,0),ii(this,Bo(t),G)}),replaceRange:function(e,t,n,r){vi(this,e,t=ht(this,t),n=n?ht(this,n):t,r)},getRange:function(e,t,n){var r=Xe(this,ht(this,e),ht(this,t));return!1===n?r:""===n?r.join(""):r.join(n||this.lineSeparator())},getLine:function(e){var t=this.getLineHandle(e);return t&&t.text},getLineHandle:function(e){if(rt(this,e))return Ke(this,e)},getLineNumber:function(e){return tt(e)},getLineHandleVisualStart:function(e){return"number"==typeof e&&(e=Ke(this,e)),Qt(e)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(e){return ht(this,e)},getCursor:function(e){var t=this.sel.primary();return null==e||"head"==e?t.head:"anchor"==e?t.anchor:"end"==e||"to"==e||!1===e?t.to():t.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:ao(function(e,t,n){ri(this,ht(this,"number"==typeof e?it(e,t||0):e),null,n)}),setSelection:ao(function(e,t,n){ri(this,ht(this,e),ht(this,t||e),n)}),extendSelection:ao(function(e,t,n){ei(this,ht(this,e),t&&ht(this,t),n)}),extendSelections:ao(function(e,t){ti(this,pt(this,e),t)}),extendSelectionsBy:ao(function(e,t){ti(this,pt(this,ee(this.sel.ranges,e)),t)}),setSelections:ao(function(e,t,n){if(e.length){for(var r=[],o=0;o<e.length;o++)r[o]=new To(ht(this,e[o].anchor),ht(this,e[o].head||e[o].anchor));null==t&&(t=Math.min(e.length-1,this.sel.primIndex)),ii(this,Io(this.cm,r,t),n)}}),addSelection:ao(function(e,t,n){var r=this.sel.ranges.slice(0);r.push(new To(ht(this,e),ht(this,t||e))),ii(this,Io(this.cm,r,r.length-1),n)}),getSelection:function(e){for(var t,n=this.sel.ranges,r=0;r<n.length;r++){var o=Xe(this,n[r].from(),n[r].to());t=t?t.concat(o):o}return!1===e?t:t.join(e||this.lineSeparator())},getSelections:function(e){for(var t=[],n=this.sel.ranges,r=0;r<n.length;r++){var o=Xe(this,n[r].from(),n[r].to());!1!==e&&(o=o.join(e||this.lineSeparator())),t[r]=o}return t},replaceSelection:function(e,t,n){for(var r=[],o=0;o<this.sel.ranges.length;o++)r[o]=e;this.replaceSelections(r,t,n||"+input")},replaceSelections:ao(function(e,t,n){for(var r=[],o=this.sel,i=0;i<o.ranges.length;i++){var s=o.ranges[i];r[i]={from:s.from(),to:s.to(),text:this.splitLines(e[i]),origin:n}}for(var a=t&&"end"!=t&&function(e,t,n){for(var r=[],o=it(e.first,0),i=o,s=0;s<t.length;s++){var a=t[s],l=No(a.from,o,i),c=No(Mo(a),o,i);if(o=a.to,i=c,"around"==n){var u=e.sel.ranges[s],d=st(u.head,u.anchor)<0;r[s]=new To(d?c:l,d?l:c)}else r[s]=new To(l,l)}return new Oo(r,e.sel.primIndex)}(this,r,t),l=r.length-1;l>=0;l--)mi(this,r[l]);a?oi(this,a):this.cm&&Fr(this.cm)}),undo:ao(function(){bi(this,"undo")}),redo:ao(function(){bi(this,"redo")}),undoSelection:ao(function(){bi(this,"undo",!0)}),redoSelection:ao(function(){bi(this,"redo",!0)}),setExtending:function(e){this.extend=e},getExtending:function(){return this.extend},historySize:function(){for(var e=this.history,t=0,n=0,r=0;r<e.done.length;r++)e.done[r].ranges||++t;for(var o=0;o<e.undone.length;o++)e.undone[o].ranges||++n;return{undo:t,redo:n}},clearHistory:function(){var e=this;this.history=new Qo(this.history),zo(this,function(t){return t.history=e.history},!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(e){return e&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(e){return this.history.generation==(e||this.cleanGeneration)},getHistory:function(){return{done:Xo(this.history.done),undone:Xo(this.history.undone)}},setHistory:function(e){var t=this.history=new Qo(this.history);t.done=Xo(e.done.slice(0),null,!0),t.undone=Xo(e.undone.slice(0),null,!0)},setGutterMarker:ao(function(e,t,n){return Si(this,e,"gutter",function(e){var r=e.gutterMarkers||(e.gutterMarkers={});return r[t]=n,!n&&se(r)&&(e.gutterMarkers=null),!0})}),clearGutter:ao(function(e){var t=this;this.iter(function(n){n.gutterMarkers&&n.gutterMarkers[e]&&Si(t,n,"gutter",function(){return n.gutterMarkers[e]=null,se(n.gutterMarkers)&&(n.gutterMarkers=null),!0})})}),lineInfo:function(e){var t;if("number"==typeof e){if(!(rt(this,e)&&(t=e,e=Ke(this,e))))return null}else if(null==(t=tt(e)))return null;return{line:t,handle:e,text:e.text,gutterMarkers:e.gutterMarkers,textClass:e.textClass,bgClass:e.bgClass,wrapClass:e.wrapClass,widgets:e.widgets}},addLineClass:ao(function(e,t,n){return Si(this,e,"gutter"==t?"gutter":"class",function(e){var r="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass";if(e[r]){if(E(n).test(e[r]))return!1;e[r]+=" "+n}else e[r]=n;return!0})}),removeLineClass:ao(function(e,t,n){return Si(this,e,"gutter"==t?"gutter":"class",function(e){var r="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass",o=e[r];if(!o)return!1;if(null==n)e[r]=null;else{var i=o.match(E(n));if(!i)return!1;var s=i.index+i[0].length;e[r]=o.slice(0,i.index)+(i.index&&s!=o.length?" ":"")+o.slice(s)||null}return!0})}),addLineWidget:ao(function(e,t,n){return function(e,t,n,r){var o=new ki(e,n,r),i=e.cm;return i&&o.noHScroll&&(i.display.alignWidgets=!0),Si(e,t,"widget",function(t){var n=t.widgets||(t.widgets=[]);if(null==o.insertAt?n.push(o):n.splice(Math.min(n.length,Math.max(0,o.insertAt)),0,o),o.line=t,i&&!$t(e,t)){var r=Vt(t)<e.scrollTop;et(t,t.height+Cn(o)),r&&Nr(i,o.height),i.curOp.forceUpdate=!0}return!0}),i&&pn(i,"lineWidgetAdded",i,o,"number"==typeof t?t:tt(t)),o}(this,e,t,n)}),removeLineWidget:function(e){e.clear()},markText:function(e,t,n){return Bi(this,ht(this,e),ht(this,t),n,n&&n.type||"range")},setBookmark:function(e,t){var n={replacedWith:t&&(null==t.nodeType?t.widget:t),insertLeft:t&&t.insertLeft,clearWhenEmpty:!1,shared:t&&t.shared,handleMouseEvents:t&&t.handleMouseEvents};return Bi(this,e=ht(this,e),e,n,"bookmark")},findMarksAt:function(e){var t=[],n=Ke(this,(e=ht(this,e)).line).markedSpans;if(n)for(var r=0;r<n.length;++r){var o=n[r];(null==o.from||o.from<=e.ch)&&(null==o.to||o.to>=e.ch)&&t.push(o.marker.parent||o.marker)}return t},findMarks:function(e,t,n){e=ht(this,e),t=ht(this,t);var r=[],o=e.line;return this.iter(e.line,t.line+1,function(i){var s=i.markedSpans;if(s)for(var a=0;a<s.length;a++){var l=s[a];!(null!=l.to&&o==e.line&&e.ch>=l.to||null==l.from&&o!=e.line||null!=l.from&&o==t.line&&l.from>=t.ch)&&(!n||n(l.marker))&&r.push(l.marker.parent||l.marker)}++o}),r},getAllMarks:function(){var e=[];return this.iter(function(t){var n=t.markedSpans;if(n)for(var r=0;r<n.length;++r)null!=n[r].from&&e.push(n[r].marker)}),e},posFromIndex:function(e){var t,n=this.first,r=this.lineSeparator().length;return this.iter(function(o){var i=o.text.length+r;if(i>e)return t=e,!0;e-=i,++n}),ht(this,it(n,t))},indexFromPos:function(e){var t=(e=ht(this,e)).ch;if(e.line<this.first||e.ch<0)return 0;var n=this.lineSeparator().length;return this.iter(this.first,e.line,function(e){t+=e.text.length+n}),t},copy:function(e){var t=new Fi(Ze(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return t.scrollTop=this.scrollTop,t.scrollLeft=this.scrollLeft,t.sel=this.sel,t.extend=!1,e&&(t.history.undoDepth=this.history.undoDepth,t.setHistory(this.getHistory())),t},linkedDoc:function(e){e||(e={});var t=this.first,n=this.first+this.size;null!=e.from&&e.from>t&&(t=e.from),null!=e.to&&e.to<n&&(n=e.to);var r=new Fi(Ze(this,t,n),e.mode||this.modeOption,t,this.lineSep,this.direction);return e.sharedHist&&(r.history=this.history),(this.linked||(this.linked=[])).push({doc:r,sharedHist:e.sharedHist}),r.linked=[{doc:this,isParent:!0,sharedHist:e.sharedHist}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n],o=r.find(),i=e.clipPos(o.from),s=e.clipPos(o.to);if(st(i,s)){var a=Bi(e,i,s,r.primary,r.primary.type);r.markers.push(a),a.parent=r}}}(r,Pi(this)),r},unlinkDoc:function(e){if(e instanceof Ms&&(e=e.doc),this.linked)for(var t=0;t<this.linked.length;++t)if(this.linked[t].doc==e){this.linked.splice(t,1),e.unlinkDoc(this),ji(Pi(this));break}if(e.history==this.history){var n=[e.id];zo(e,function(e){return n.push(e.id)},!0),e.history=new Qo(null),e.history.done=Xo(this.history.done,n),e.history.undone=Xo(this.history.undone,n)}},iterLinkedDocs:function(e){zo(this,e)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(e){return this.lineSep?e.split(this.lineSep):Fe(e)},lineSeparator:function(){return this.lineSep||"\n"},setDirection:ao(function(e){"rtl"!=e&&(e="ltr"),e!=this.direction&&(this.direction=e,this.iter(function(e){return e.order=null}),this.cm&&function(e){oo(e,function(){Uo(e),gr(e)})}(this.cm))})}),Fi.prototype.eachLine=Fi.prototype.iter;var Di=0;function Ri(e){var t=this;if(Li(t),!ve(t,e)&&!kn(t.display,e)){Se(e),s&&(Di=+new Date);var n=fr(t,e,!0),r=e.dataTransfer.files;if(n&&!t.isReadOnly())if(r&&r.length&&window.FileReader&&window.File)for(var o=r.length,i=Array(o),a=0,l=function(){++a==o&&io(t,function(){var e={from:n=ht(t.doc,n),to:n,text:t.doc.splitLines(i.filter(function(e){return null!=e}).join(t.doc.lineSeparator())),origin:"paste"};mi(t.doc,e),oi(t.doc,Bo(ht(t.doc,n),ht(t.doc,Mo(e))))})()},c=function(e,n){if(t.options.allowDropFileTypes&&-1==W(t.options.allowDropFileTypes,e.type))l();else{var r=new FileReader;r.onerror=function(){return l()},r.onload=function(){var e=r.result;/[\x00-\x08\x0e-\x1f]{2}/.test(e)||(i[n]=e),l()},r.readAsText(e)}},u=0;u<r.length;u++)c(r[u],u);else{if(t.state.draggingText&&t.doc.sel.contains(n)>-1)return t.state.draggingText(e),void setTimeout(function(){return t.display.input.focus()},20);try{var d=e.dataTransfer.getData("Text");if(d){var h;if(t.state.draggingText&&!t.state.draggingText.copy&&(h=t.listSelections()),si(t.doc,Bo(n,n)),h)for(var p=0;p<h.length;++p)vi(t.doc,"",h[p].anchor,h[p].head,"drag");t.replaceSelection(d,"around","paste"),t.display.input.focus()}}catch{}}}}function Li(e){e.display.dragCursor&&(e.display.lineSpace.removeChild(e.display.dragCursor),e.display.dragCursor=null)}function zi(e){if(document.getElementsByClassName){for(var t=document.getElementsByClassName("CodeMirror"),n=[],r=0;r<t.length;r++){var o=t[r].CodeMirror;o&&n.push(o)}n.length&&n[0].operation(function(){for(var t=0;t<n.length;t++)e(n[t])})}}var Hi=!1;function Ui(){Hi||(function(){var e;ge(window,"resize",function(){null==e&&(e=setTimeout(function(){e=null,zi(Qi)},100))}),ge(window,"blur",function(){return zi(Ir)})}(),Hi=!0)}function Qi(e){var t=e.display;t.cachedCharWidth=t.cachedTextHeight=t.cachedPaddingH=null,t.scrollbarsClipped=!1,e.setSize()}for(var qi={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},Wi=0;Wi<10;Wi++)qi[Wi+48]=qi[Wi+96]=String(Wi);for(var $i=65;$i<=90;$i++)qi[$i]=String.fromCharCode($i);for(var Gi=1;Gi<=12;Gi++)qi[Gi+111]=qi[Gi+63235]="F"+Gi;var Vi={};function Yi(e){var t=e.split(/-(?!$)/);e=t[t.length-1];for(var n,r,o,i,s=0;s<t.length-1;s++){var a=t[s];if(/^(cmd|meta|m)$/i.test(a))i=!0;else if(/^a(lt)?$/i.test(a))n=!0;else if(/^(c|ctrl|control)$/i.test(a))r=!0;else{if(!/^s(hift)?$/i.test(a))throw new Error("Unrecognized modifier name: "+a);o=!0}}return n&&(e="Alt-"+e),r&&(e="Ctrl-"+e),i&&(e="Cmd-"+e),o&&(e="Shift-"+e),e}function Ji(e){var t={};for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];if(/^(name|fallthrough|(de|at)tach)$/.test(n))continue;if("..."==r){delete e[n];continue}for(var o=ee(n.split(" "),Yi),i=0;i<o.length;i++){var s=void 0,a=void 0;i==o.length-1?(a=o.join(" "),s=r):(a=o.slice(0,i+1).join(" "),s="...");var l=t[a];if(l){if(l!=s)throw new Error("Inconsistent bindings for "+a)}else t[a]=s}delete e[n]}for(var c in t)e[c]=t[c];return e}function Ki(e,t,n,r){var o=(t=ts(t)).call?t.call(e,r):t[e];if(!1===o)return"nothing";if("..."===o)return"multi";if(null!=o&&n(o))return"handled";if(t.fallthrough){if("[object Array]"!=Object.prototype.toString.call(t.fallthrough))return Ki(e,t.fallthrough,n,r);for(var i=0;i<t.fallthrough.length;i++){var s=Ki(e,t.fallthrough[i],n,r);if(s)return s}}}function Xi(e){var t="string"==typeof e?e:qi[e.keyCode];return"Ctrl"==t||"Alt"==t||"Shift"==t||"Mod"==t}function Zi(e,t,n){var r=e;return t.altKey&&"Alt"!=r&&(e="Alt-"+e),(x?t.metaKey:t.ctrlKey)&&"Ctrl"!=r&&(e="Ctrl-"+e),(x?t.ctrlKey:t.metaKey)&&"Mod"!=r&&(e="Cmd-"+e),!n&&t.shiftKey&&"Shift"!=r&&(e="Shift-"+e),e}function es(e,t){if(h&&34==e.keyCode&&e.char)return!1;var n=qi[e.keyCode];return null!=n&&!e.altGraphKey&&(3==e.keyCode&&e.code&&(n=e.code),Zi(n,e,t))}function ts(e){return"string"==typeof e?Vi[e]:e}function ns(e,t){for(var n=e.doc.sel.ranges,r=[],o=0;o<n.length;o++){for(var i=t(n[o]);r.length&&st(i.from,Z(r).to)<=0;){var s=r.pop();if(st(s.from,i.from)<0){i.from=s.from;break}}r.push(i)}oo(e,function(){for(var t=r.length-1;t>=0;t--)vi(e.doc,"",r[t].from,r[t].to,"+delete");Fr(e)})}function rs(e,t,n){var r=ce(e.text,t+n,n);return r<0||r>e.text.length?null:r}function os(e,t,n){var r=rs(e,t.ch,n);return null==r?null:new it(t.line,r,n<0?"after":"before")}function is(e,t,n,r,o){if(e){"rtl"==t.doc.direction&&(o=-o);var i=fe(n,t.doc.direction);if(i){var s,a=o<0?Z(i):i[0],l=o<0==(1==a.level)?"after":"before";if(a.level>0||"rtl"==t.doc.direction){var c=Dn(t,n);s=o<0?n.text.length-1:0;var u=Rn(t,c,s).top;s=ue(function(e){return Rn(t,c,e).top==u},o<0==(1==a.level)?a.from:a.to-1,s),"before"==l&&(s=rs(n,s,1))}else s=o<0?a.to:a.from;return new it(r,s,l)}}return new it(r,o<0?n.text.length:0,o<0?"before":"after")}Vi.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},Vi.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},Vi.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},Vi.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},Vi.default=y?Vi.macDefault:Vi.pcDefault;var ss={selectAll:pi,singleSelection:function(e){return e.setSelection(e.getCursor("anchor"),e.getCursor("head"),G)},killLine:function(e){return ns(e,function(t){if(t.empty()){var n=Ke(e.doc,t.head.line).text.length;return t.head.ch==n&&t.head.line<e.lastLine()?{from:t.head,to:it(t.head.line+1,0)}:{from:t.head,to:it(t.head.line,n)}}return{from:t.from(),to:t.to()}})},deleteLine:function(e){return ns(e,function(t){return{from:it(t.from().line,0),to:ht(e.doc,it(t.to().line+1,0))}})},delLineLeft:function(e){return ns(e,function(e){return{from:it(e.from().line,0),to:e.from()}})},delWrappedLineLeft:function(e){return ns(e,function(t){var n=e.charCoords(t.head,"div").top+5;return{from:e.coordsChar({left:0,top:n},"div"),to:t.from()}})},delWrappedLineRight:function(e){return ns(e,function(t){var n=e.charCoords(t.head,"div").top+5,r=e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:n},"div");return{from:t.from(),to:r}})},undo:function(e){return e.undo()},redo:function(e){return e.redo()},undoSelection:function(e){return e.undoSelection()},redoSelection:function(e){return e.redoSelection()},goDocStart:function(e){return e.extendSelection(it(e.firstLine(),0))},goDocEnd:function(e){return e.extendSelection(it(e.lastLine()))},goLineStart:function(e){return e.extendSelectionsBy(function(t){return as(e,t.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(e){return e.extendSelectionsBy(function(t){return ls(e,t.head)},{origin:"+move",bias:1})},goLineEnd:function(e){return e.extendSelectionsBy(function(t){return function(e,t){var n=Ke(e.doc,t),r=function(e){for(var t;t=zt(e);)e=t.find(1,!0).line;return e}(n);return r!=n&&(t=tt(r)),is(!0,e,n,t,-1)}(e,t.head.line)},{origin:"+move",bias:-1})},goLineRight:function(e){return e.extendSelectionsBy(function(t){var n=e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:n},"div")},Y)},goLineLeft:function(e){return e.extendSelectionsBy(function(t){var n=e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:0,top:n},"div")},Y)},goLineLeftSmart:function(e){return e.extendSelectionsBy(function(t){var n=e.cursorCoords(t.head,"div").top+5,r=e.coordsChar({left:0,top:n},"div");return r.ch<e.getLine(r.line).search(/\S/)?ls(e,t.head):r},Y)},goLineUp:function(e){return e.moveV(-1,"line")},goLineDown:function(e){return e.moveV(1,"line")},goPageUp:function(e){return e.moveV(-1,"page")},goPageDown:function(e){return e.moveV(1,"page")},goCharLeft:function(e){return e.moveH(-1,"char")},goCharRight:function(e){return e.moveH(1,"char")},goColumnLeft:function(e){return e.moveH(-1,"column")},goColumnRight:function(e){return e.moveH(1,"column")},goWordLeft:function(e){return e.moveH(-1,"word")},goGroupRight:function(e){return e.moveH(1,"group")},goGroupLeft:function(e){return e.moveH(-1,"group")},goWordRight:function(e){return e.moveH(1,"word")},delCharBefore:function(e){return e.deleteH(-1,"codepoint")},delCharAfter:function(e){return e.deleteH(1,"char")},delWordBefore:function(e){return e.deleteH(-1,"word")},delWordAfter:function(e){return e.deleteH(1,"word")},delGroupBefore:function(e){return e.deleteH(-1,"group")},delGroupAfter:function(e){return e.deleteH(1,"group")},indentAuto:function(e){return e.indentSelection("smart")},indentMore:function(e){return e.indentSelection("add")},indentLess:function(e){return e.indentSelection("subtract")},insertTab:function(e){return e.replaceSelection("\t")},insertSoftTab:function(e){for(var t=[],n=e.listSelections(),r=e.options.tabSize,o=0;o<n.length;o++){var i=n[o].from(),s=Q(e.getLine(i.line),i.ch,r);t.push(X(r-s%r))}e.replaceSelections(t)},defaultTab:function(e){e.somethingSelected()?e.indentSelection("add"):e.execCommand("insertTab")},transposeChars:function(e){return oo(e,function(){for(var t=e.listSelections(),n=[],r=0;r<t.length;r++)if(t[r].empty()){var o=t[r].head,i=Ke(e.doc,o.line).text;if(i)if(o.ch==i.length&&(o=new it(o.line,o.ch-1)),o.ch>0)o=new it(o.line,o.ch+1),e.replaceRange(i.charAt(o.ch-1)+i.charAt(o.ch-2),it(o.line,o.ch-2),o,"+transpose");else if(o.line>e.doc.first){var s=Ke(e.doc,o.line-1).text;s&&(o=new it(o.line,1),e.replaceRange(i.charAt(0)+e.doc.lineSeparator()+s.charAt(s.length-1),it(o.line-1,s.length-1),o,"+transpose"))}n.push(new To(o,o))}e.setSelections(n)})},newlineAndIndent:function(e){return oo(e,function(){for(var t=e.listSelections(),n=t.length-1;n>=0;n--)e.replaceRange(e.doc.lineSeparator(),t[n].anchor,t[n].head,"+input");t=e.listSelections();for(var r=0;r<t.length;r++)e.indentLine(t[r].from().line,null,!0);Fr(e)})},openLine:function(e){return e.replaceSelection("\n","start")},toggleOverwrite:function(e){return e.toggleOverwrite()}};function as(e,t){var n=Ke(e.doc,t),r=Qt(n);return r!=n&&(t=tt(r)),is(!0,e,r,t,1)}function ls(e,t){var n=as(e,t.line),r=Ke(e.doc,n.line),o=fe(r,e.doc.direction);if(!o||0==o[0].level){var i=Math.max(n.ch,r.text.search(/\S/)),s=t.line==n.line&&t.ch<=i&&t.ch;return it(n.line,s?0:i,n.sticky)}return n}function cs(e,t,n){if("string"==typeof t&&!(t=ss[t]))return!1;e.display.input.ensurePolled();var r=e.display.shift,o=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),n&&(e.display.shift=!1),o=t(e)!=$}finally{e.display.shift=r,e.state.suppressEdits=!1}return o}var us=new q;function ds(e,t,n,r){var o=e.state.keySeq;if(o){if(Xi(t))return"handled";if(/\'$/.test(t)?e.state.keySeq=null:us.set(50,function(){e.state.keySeq==o&&(e.state.keySeq=null,e.display.input.reset())}),hs(e,o+" "+t,n,r))return!0}return hs(e,t,n,r)}function hs(e,t,n,r){var o=function(e,t,n){for(var r=0;r<e.state.keyMaps.length;r++){var o=Ki(t,e.state.keyMaps[r],n,e);if(o)return o}return e.options.extraKeys&&Ki(t,e.options.extraKeys,n,e)||Ki(t,e.options.keyMap,n,e)}(e,t,r);return"multi"==o&&(e.state.keySeq=t),"handled"==o&&pn(e,"keyHandled",e,t,n),("handled"==o||"multi"==o)&&(Se(n),Cr(e)),!!o}function ps(e,t){var n=es(t,!0);return!!n&&(t.shiftKey&&!e.state.keySeq?ds(e,"Shift-"+n,t,function(t){return cs(e,t,!0)})||ds(e,n,t,function(t){if("string"==typeof t?/^go[A-Z]/.test(t):t.motion)return cs(e,t)}):ds(e,n,t,function(t){return cs(e,t)}))}var fs=null;function ms(e){var t=this;if(!(e.target&&e.target!=t.display.input.getField()||(t.curOp.focus=P(R(t)),ve(t,e)))){s&&a<11&&27==e.keyCode&&(e.returnValue=!1);var r=e.keyCode;t.display.shift=16==r||e.shiftKey;var o=ps(t,e);h&&(fs=o?r:null,!o&&88==r&&!Re&&(y?e.metaKey:e.ctrlKey)&&t.replaceSelection("",null,"cut")),n&&!y&&!o&&46==r&&e.shiftKey&&!e.ctrlKey&&document.execCommand&&document.execCommand("cut"),18==r&&!/\bCodeMirror-crosshair\b/.test(t.display.lineDiv.className)&&function(e){var t=e.display.lineDiv;function n(e){(18==e.keyCode||!e.altKey)&&(k(t,"CodeMirror-crosshair"),we(document,"keyup",n),we(document,"mouseover",n))}j(t,"CodeMirror-crosshair"),ge(document,"keyup",n),ge(document,"mouseover",n)}(t)}}function gs(e){16==e.keyCode&&(this.doc.sel.shift=!1),ve(this,e)}function bs(e){var t=this;if(!(e.target&&e.target!=t.display.input.getField()||kn(t.display,e)||ve(t,e)||e.ctrlKey&&!e.altKey||y&&e.metaKey)){var n=e.keyCode,r=e.charCode;if(h&&n==fs)return fs=null,void Se(e);if(!h||e.which&&!(e.which<10)||!ps(t,e)){var o=String.fromCharCode(r??n);"\b"!=o&&(function(e,t,n){return ds(e,"'"+n+"'",t,function(t){return cs(e,t,!0)})}(t,e,o)||t.display.input.onKeyPress(e))}}}var ws,ys,vs=function(e,t,n){this.time=e,this.pos=t,this.button=n};function As(e){var t=this,n=t.display;if(!(ve(t,e)||n.activeTouch&&n.input.supportsTouch())){if(n.input.ensurePolled(),n.shift=e.shiftKey,kn(n,e))return void(l||(n.scroller.draggable=!1,setTimeout(function(){return n.scroller.draggable=!0},100)));if(!Ss(t,e)){var r=fr(t,e),o=Te(e),i=r?function(e,t){var n=+new Date;return ys&&ys.compare(n,e,t)?(ws=ys=null,"triple"):ws&&ws.compare(n,e,t)?(ys=new vs(n,e,t),ws=null,"double"):(ws=new vs(n,e,t),ys=null,"single")}(r,o):"single";z(t).focus(),1==o&&t.state.selectingText&&t.state.selectingText(e),(!r||!function(e,t,n,r,o){var i="Click";return"double"==r?i="Double"+i:"triple"==r&&(i="Triple"+i),ds(e,Zi(i=(1==t?"Left":2==t?"Middle":"Right")+i,o),o,function(t){if("string"==typeof t&&(t=ss[t]),!t)return!1;var r=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),r=t(e,n)!=$}finally{e.state.suppressEdits=!1}return r})}(t,o,r,i,e))&&(1==o?r?function(e,t,n,r){s?setTimeout(H(kr,e),0):e.curOp.focus=P(R(e));var o,i=function(e,t,n){var r=e.getOption("configureMouse"),o=r?r(e,t,n):{};if(null==o.unit){var i=v?n.shiftKey&&n.metaKey:n.altKey;o.unit=i?"rectangle":"single"==t?"char":"double"==t?"word":"line"}return(null==o.extend||e.doc.extend)&&(o.extend=e.doc.extend||n.shiftKey),null==o.addNew&&(o.addNew=y?n.metaKey:n.ctrlKey),null==o.moveOnDrag&&(o.moveOnDrag=!(y?n.altKey:n.ctrlKey)),o}(e,n,r),c=e.doc.sel;e.options.dragDrop&&Me&&!e.isReadOnly()&&"single"==n&&(o=c.contains(t))>-1&&(st((o=c.ranges[o]).from(),t)<0||t.xRel>0)&&(st(o.to(),t)>0||t.xRel<0)?function(e,t,n,r){var o=e.display,i=!1,c=io(e,function(t){l&&(o.scroller.draggable=!1),e.state.draggingText=!1,e.state.delayingBlurEvent&&(e.hasFocus()?e.state.delayingBlurEvent=!1:Or(e)),we(o.wrapper.ownerDocument,"mouseup",c),we(o.wrapper.ownerDocument,"mousemove",u),we(o.scroller,"dragstart",d),we(o.scroller,"drop",c),i||(Se(t),r.addNew||ei(e.doc,n,null,null,r.extend),l&&!p||s&&9==a?setTimeout(function(){o.wrapper.ownerDocument.body.focus({preventScroll:!0}),o.input.focus()},20):o.input.focus())}),u=function(e){i=i||Math.abs(t.clientX-e.clientX)+Math.abs(t.clientY-e.clientY)>=10},d=function(){return i=!0};l&&(o.scroller.draggable=!0),e.state.draggingText=c,c.copy=!r.moveOnDrag,ge(o.wrapper.ownerDocument,"mouseup",c),ge(o.wrapper.ownerDocument,"mousemove",u),ge(o.scroller,"dragstart",d),ge(o.scroller,"drop",c),e.state.delayingBlurEvent=!0,setTimeout(function(){return o.input.focus()},20),o.scroller.dragDrop&&o.scroller.dragDrop()}(e,r,t,i):function(e,t,n,r){s&&Or(e);var o=e.display,i=e.doc;Se(t);var a,l,c=i.sel,u=c.ranges;if(r.addNew&&!r.extend?(l=i.sel.contains(n),a=l>-1?u[l]:new To(n,n)):(a=i.sel.primary(),l=i.sel.primIndex),"rectangle"==r.unit)r.addNew||(a=new To(n,n)),n=fr(e,t,!0,!0),l=-1;else{var d=_s(e,n,r.unit);a=r.extend?Zo(a,d.anchor,d.head,r.extend):d}r.addNew?-1==l?(l=u.length,ii(i,Io(e,u.concat([a]),l),{scroll:!1,origin:"*mouse"})):u.length>1&&u[l].empty()&&"char"==r.unit&&!r.extend?(ii(i,Io(e,u.slice(0,l).concat(u.slice(l+1)),0),{scroll:!1,origin:"*mouse"}),c=i.sel):ni(i,l,a,V):(l=0,ii(i,new Oo([a],0),V),c=i.sel);var h=n;function p(t){if(0!=st(h,t))if(h=t,"rectangle"==r.unit){for(var o=[],s=e.options.tabSize,u=Q(Ke(i,n.line).text,n.ch,s),d=Q(Ke(i,t.line).text,t.ch,s),p=Math.min(u,d),f=Math.max(u,d),m=Math.min(n.line,t.line),g=Math.min(e.lastLine(),Math.max(n.line,t.line));m<=g;m++){var b=Ke(i,m).text,w=J(b,p,s);p==f?o.push(new To(it(m,w),it(m,w))):b.length>w&&o.push(new To(it(m,w),it(m,J(b,f,s))))}o.length||o.push(new To(n,n)),ii(i,Io(e,c.ranges.slice(0,l).concat(o),l),{origin:"*mouse",scroll:!1}),e.scrollIntoView(t)}else{var y,v=a,A=_s(e,t,r.unit),_=v.anchor;st(A.anchor,_)>0?(y=A.head,_=ut(v.from(),A.anchor)):(y=A.anchor,_=ct(v.to(),A.head));var x=c.ranges.slice(0);x[l]=function(e,t){var n=t.anchor,r=t.head,o=Ke(e.doc,n.line);if(0==st(n,r)&&n.sticky==r.sticky)return t;var i=fe(o);if(!i)return t;var s=he(i,n.ch,n.sticky),a=i[s];if(a.from!=n.ch&&a.to!=n.ch)return t;var l,c=s+(a.from==n.ch==(1!=a.level)?0:1);if(0==c||c==i.length)return t;if(r.line!=n.line)l=(r.line-n.line)*("ltr"==e.doc.direction?1:-1)>0;else{var u=he(i,r.ch,r.sticky),d=u-s||(r.ch-n.ch)*(1==a.level?-1:1);l=u==c-1||u==c?d<0:d>0}var h=i[c+(l?-1:0)],p=l==(1==h.level),f=p?h.from:h.to,m=p?"after":"before";return n.ch==f&&n.sticky==m?t:new To(new it(n.line,f,m),r)}(e,new To(ht(i,_),y)),ii(i,Io(e,x,l),V)}}var f=o.wrapper.getBoundingClientRect(),m=0;function g(t){var n=++m,s=fr(e,t,!0,"rectangle"==r.unit);if(s)if(0!=st(s,h)){e.curOp.focus=P(R(e)),p(s);var a=Pr(o,i);(s.line>=a.to||s.line<a.from)&&setTimeout(io(e,function(){m==n&&g(t)}),150)}else{var l=t.clientY<f.top?-20:t.clientY>f.bottom?20:0;l&&setTimeout(io(e,function(){m==n&&(o.scroller.scrollTop+=l,g(t))}),50)}}function b(t){e.state.selectingText=!1,m=1/0,t&&(Se(t),o.input.focus()),we(o.wrapper.ownerDocument,"mousemove",w),we(o.wrapper.ownerDocument,"mouseup",y),i.history.lastSelOrigin=null}var w=io(e,function(e){0!==e.buttons&&Te(e)?g(e):b(e)}),y=io(e,b);e.state.selectingText=y,ge(o.wrapper.ownerDocument,"mousemove",w),ge(o.wrapper.ownerDocument,"mouseup",y)}(e,r,t,i)}(t,r,i,e):Oe(e)==n.scroller&&Se(e):2==o?(r&&ei(t.doc,r),setTimeout(function(){return n.input.focus()},20)):3==o&&(S?t.display.input.onContextMenu(e):Or(t)))}}}function _s(e,t,n){if("char"==n)return new To(t,t);if("word"==n)return e.findWordAt(t);if("line"==n)return new To(it(t.line,0),ht(e.doc,it(t.line+1,0)));var r=n(e,t);return new To(r.from,r.to)}function xs(e,t,n,r){var o,i;if(t.touches)o=t.touches[0].clientX,i=t.touches[0].clientY;else try{o=t.clientX,i=t.clientY}catch{return!1}if(o>=Math.floor(e.display.gutters.getBoundingClientRect().right))return!1;r&&Se(t);var s=e.display,a=s.lineDiv.getBoundingClientRect();if(i>a.bottom||!_e(e,n))return Ce(t);i-=a.top-s.viewOffset;for(var l=0;l<e.display.gutterSpecs.length;++l){var c=s.gutters.childNodes[l];if(c&&c.getBoundingClientRect().right>=o)return ye(e,n,e,nt(e.doc,i),e.display.gutterSpecs[l].className,t),Ce(t)}}function Ss(e,t){return xs(e,t,"gutterClick",!0)}function Es(e,t){kn(e.display,t)||function(e,t){return!!_e(e,"gutterContextMenu")&&xs(e,t,"gutterContextMenu",!1)}(e,t)||ve(e,t,"contextmenu")||S||e.display.input.onContextMenu(t)}function Cs(e){e.display.wrapper.className=e.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+e.options.theme.replace(/(^|\s)\s*/g," cm-s-"),Wn(e)}vs.prototype.compare=function(e,t,n){return this.time+400>e&&0==st(t,this.pos)&&n==this.button};var ks={toString:function(){return"CodeMirror.Init"}},Os={},Ts={};function Is(e,t,n){if(!t!=!(n&&n!=ks)){var r=e.display.dragFunctions,o=t?ge:we;o(e.display.scroller,"dragstart",r.start),o(e.display.scroller,"dragenter",r.enter),o(e.display.scroller,"dragover",r.over),o(e.display.scroller,"dragleave",r.leave),o(e.display.scroller,"drop",r.drop)}}function Bs(e){e.options.lineWrapping?(j(e.display.wrapper,"CodeMirror-wrap"),e.display.sizer.style.minWidth="",e.display.sizerWidth=null):(k(e.display.wrapper,"CodeMirror-wrap"),Jt(e)),pr(e),gr(e),Wn(e),setTimeout(function(){return $r(e)},100)}function Ms(e,t){var n=this;if(!(this instanceof Ms))return new Ms(e,t);this.options=t=t?U(t):{},U(Os,t,!1);var r=t.value;"string"==typeof r?r=new Fi(r,t.mode,null,t.lineSeparator,t.direction):t.mode&&(r.modeOption=t.mode),this.doc=r;var o=new Ms.inputStyles[t.inputStyle](this),i=this.display=new _o(e,r,o,t);for(var c in i.wrapper.CodeMirror=this,Cs(this),t.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),Yr(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new q,keySeq:null,specialChars:null},t.autofocus&&!w&&i.input.focus(),s&&a<11&&setTimeout(function(){return n.display.input.reset(!0)},20),function(e){var t=e.display;ge(t.scroller,"mousedown",io(e,As)),ge(t.scroller,"dblclick",s&&a<11?io(e,function(t){if(!ve(e,t)){var n=fr(e,t);if(n&&!Ss(e,t)&&!kn(e.display,t)){Se(t);var r=e.findWordAt(n);ei(e.doc,r.anchor,r.head)}}}):function(t){return ve(e,t)||Se(t)}),ge(t.scroller,"contextmenu",function(t){return Es(e,t)}),ge(t.input.getField(),"contextmenu",function(n){t.scroller.contains(n.target)||Es(e,n)});var n,r={end:0};function o(){t.activeTouch&&(n=setTimeout(function(){return t.activeTouch=null},1e3),(r=t.activeTouch).end=+new Date)}function i(e){if(1!=e.touches.length)return!1;var t=e.touches[0];return t.radiusX<=1&&t.radiusY<=1}function l(e,t){if(null==t.left)return!0;var n=t.left-e.left,r=t.top-e.top;return n*n+r*r>400}ge(t.scroller,"touchstart",function(o){if(!ve(e,o)&&!i(o)&&!Ss(e,o)){t.input.ensurePolled(),clearTimeout(n);var s=+new Date;t.activeTouch={start:s,moved:!1,prev:s-r.end<=300?r:null},1==o.touches.length&&(t.activeTouch.left=o.touches[0].pageX,t.activeTouch.top=o.touches[0].pageY)}}),ge(t.scroller,"touchmove",function(){t.activeTouch&&(t.activeTouch.moved=!0)}),ge(t.scroller,"touchend",function(n){var r=t.activeTouch;if(r&&!kn(t,n)&&null!=r.left&&!r.moved&&new Date-r.start<300){var i,s=e.coordsChar(t.activeTouch,"page");i=!r.prev||l(r,r.prev)?new To(s,s):!r.prev.prev||l(r,r.prev.prev)?e.findWordAt(s):new To(it(s.line,0),ht(e.doc,it(s.line+1,0))),e.setSelection(i.anchor,i.head),e.focus(),Se(n)}o()}),ge(t.scroller,"touchcancel",o),ge(t.scroller,"scroll",function(){t.scroller.clientHeight&&(zr(e,t.scroller.scrollTop),Ur(e,t.scroller.scrollLeft,!0),ye(e,"scroll",e))}),ge(t.scroller,"mousewheel",function(t){return ko(e,t)}),ge(t.scroller,"DOMMouseScroll",function(t){return ko(e,t)}),ge(t.wrapper,"scroll",function(){return t.wrapper.scrollTop=t.wrapper.scrollLeft=0}),t.dragFunctions={enter:function(t){ve(e,t)||ke(t)},over:function(t){ve(e,t)||(function(e,t){var n=fr(e,t);if(n){var r=document.createDocumentFragment();xr(e,n,r),e.display.dragCursor||(e.display.dragCursor=I("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),e.display.lineSpace.insertBefore(e.display.dragCursor,e.display.cursorDiv)),T(e.display.dragCursor,r)}}(e,t),ke(t))},start:function(t){return function(e,t){if(s&&(!e.state.draggingText||+new Date-Di<100))ke(t);else if(!ve(e,t)&&!kn(e.display,t)&&(t.dataTransfer.setData("Text",e.getSelection()),t.dataTransfer.effectAllowed="copyMove",t.dataTransfer.setDragImage&&!p)){var n=I("img",null,null,"position: fixed; left: 0; top: 0;");n.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",h&&(n.width=n.height=1,e.display.wrapper.appendChild(n),n._top=n.offsetTop),t.dataTransfer.setDragImage(n,0,0),h&&n.parentNode.removeChild(n)}}(e,t)},drop:io(e,Ri),leave:function(t){ve(e,t)||Li(e)}};var c=t.input.getField();ge(c,"keyup",function(t){return gs.call(e,t)}),ge(c,"keydown",io(e,ms)),ge(c,"keypress",io(e,bs)),ge(c,"focus",function(t){return Tr(e,t)}),ge(c,"blur",function(t){return Ir(e,t)})}(this),Ui(),Kr(this),this.curOp.forceUpdate=!0,Ho(this,r),t.autofocus&&!w||this.hasFocus()?setTimeout(function(){n.hasFocus()&&!n.state.focused&&Tr(n)},20):Ir(this),Ts)Ts.hasOwnProperty(c)&&Ts[c](this,t[c],ks);wo(this),t.finishInit&&t.finishInit(this);for(var u=0;u<Ps.length;++u)Ps[u](this);Xr(this),l&&t.lineWrapping&&"optimizelegibility"==getComputedStyle(i.lineDiv).textRendering&&(i.lineDiv.style.textRendering="auto")}Ms.defaults=Os,Ms.optionHandlers=Ts;var Ps=[];function js(e,t,n,r){var o,i=e.doc;null==n&&(n="add"),"smart"==n&&(i.mode.indent?o=wt(e,t).state:n="prev");var s=e.options.tabSize,a=Ke(i,t),l=Q(a.text,null,s);a.stateAfter&&(a.stateAfter=null);var c,u=a.text.match(/^\s*/)[0];if(r||/\S/.test(a.text)){if("smart"==n&&((c=i.mode.indent(o,a.text.slice(u.length),a.text))==$||c>150)){if(!r)return;n="prev"}}else c=0,n="not";"prev"==n?c=t>i.first?Q(Ke(i,t-1).text,null,s):0:"add"==n?c=l+e.options.indentUnit:"subtract"==n?c=l-e.options.indentUnit:"number"==typeof n&&(c=l+n),c=Math.max(0,c);var d="",h=0;if(e.options.indentWithTabs)for(var p=Math.floor(c/s);p;--p)h+=s,d+="\t";if(h<c&&(d+=X(c-h)),d!=u)return vi(i,d,it(t,0),it(t,u.length),"+input"),a.stateAfter=null,!0;for(var f=0;f<i.sel.ranges.length;f++){var m=i.sel.ranges[f];if(m.head.line==t&&m.head.ch<u.length){var g=it(t,u.length);ni(i,f,new To(g,g));break}}}Ms.defineInitHook=function(e){return Ps.push(e)};var Ns=null;function Fs(e){Ns=e}function Ds(e,t,n,r,o){var i=e.doc;e.display.shift=!1,r||(r=i.sel);var s=+new Date-200,a="paste"==o||e.state.pasteIncoming>s,l=Fe(t),c=null;if(a&&r.ranges.length>1)if(Ns&&Ns.text.join("\n")==t){if(r.ranges.length%Ns.text.length==0){c=[];for(var u=0;u<Ns.text.length;u++)c.push(i.splitLines(Ns.text[u]))}}else l.length==r.ranges.length&&e.options.pasteLinesPerSelection&&(c=ee(l,function(e){return[e]}));for(var d=e.curOp.updateInput,h=r.ranges.length-1;h>=0;h--){var p=r.ranges[h],f=p.from(),m=p.to();p.empty()&&(n&&n>0?f=it(f.line,f.ch-n):e.state.overwrite&&!a?m=it(m.line,Math.min(Ke(i,m.line).text.length,m.ch+Z(l).length)):a&&Ns&&Ns.lineWise&&Ns.text.join("\n")==l.join("\n")&&(f=m=it(f.line,0)));var g={from:f,to:m,text:c?c[h%c.length]:l,origin:o||(a?"paste":e.state.cutIncoming>s?"cut":"+input")};mi(e.doc,g),pn(e,"inputRead",e,g)}t&&!a&&Ls(e,t),Fr(e),e.curOp.updateInput<2&&(e.curOp.updateInput=d),e.curOp.typing=!0,e.state.pasteIncoming=e.state.cutIncoming=-1}function Rs(e,t){var n=e.clipboardData&&e.clipboardData.getData("Text");if(n)return e.preventDefault(),!t.isReadOnly()&&!t.options.disableInput&&t.hasFocus()&&oo(t,function(){return Ds(t,n,0,null,"paste")}),!0}function Ls(e,t){if(e.options.electricChars&&e.options.smartIndent)for(var n=e.doc.sel,r=n.ranges.length-1;r>=0;r--){var o=n.ranges[r];if(!(o.head.ch>100||r&&n.ranges[r-1].head.line==o.head.line)){var i=e.getModeAt(o.head),s=!1;if(i.electricChars){for(var a=0;a<i.electricChars.length;a++)if(t.indexOf(i.electricChars.charAt(a))>-1){s=js(e,o.head.line,"smart");break}}else i.electricInput&&i.electricInput.test(Ke(e.doc,o.head.line).text.slice(0,o.head.ch))&&(s=js(e,o.head.line,"smart"));s&&pn(e,"electricInput",e,o.head.line)}}}function zs(e){for(var t=[],n=[],r=0;r<e.doc.sel.ranges.length;r++){var o=e.doc.sel.ranges[r].head.line,i={anchor:it(o,0),head:it(o+1,0)};n.push(i),t.push(e.getRange(i.anchor,i.head))}return{text:t,ranges:n}}function Hs(e,t,n,r){e.setAttribute("autocorrect",n?"on":"off"),e.setAttribute("autocapitalize",r?"on":"off"),e.setAttribute("spellcheck",!!t)}function Us(){var e=I("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; min-height: 1em; outline: none"),t=I("div",[e],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return l?e.style.width="1000px":e.setAttribute("wrap","off"),g&&(e.style.border="1px solid black"),t}function Qs(e,t,n,r,o){var i=t,s=n,a=Ke(e,t.line),l=o&&"rtl"==e.direction?-n:n;function c(i){var s;if("codepoint"==r){var c=a.text.charCodeAt(t.ch+(n>0?0:-1));if(isNaN(c))s=null;else{var u=n>0?c>=55296&&c<56320:c>=56320&&c<57343;s=new it(t.line,Math.max(0,Math.min(a.text.length,t.ch+n*(u?2:1))),-n)}}else s=o?function(e,t,n,r){var o=fe(t,e.doc.direction);if(!o)return os(t,n,r);n.ch>=t.text.length?(n.ch=t.text.length,n.sticky="before"):n.ch<=0&&(n.ch=0,n.sticky="after");var i=he(o,n.ch,n.sticky),s=o[i];if("ltr"==e.doc.direction&&s.level%2==0&&(r>0?s.to>n.ch:s.from<n.ch))return os(t,n,r);var a,l=function(e,n){return rs(t,e instanceof it?e.ch:e,n)},c=function(n){return e.options.lineWrapping?(a=a||Dn(e,t),rr(e,t,a,n)):{begin:0,end:t.text.length}},u=c("before"==n.sticky?l(n,-1):n.ch);if("rtl"==e.doc.direction||1==s.level){var d=1==s.level==r<0,h=l(n,d?1:-1);if(null!=h&&(d?h<=s.to&&h<=u.end:h>=s.from&&h>=u.begin)){var p=d?"before":"after";return new it(n.line,h,p)}}var f=function(e,t,r){for(var i=function(e,t){return t?new it(n.line,l(e,1),"before"):new it(n.line,e,"after")};e>=0&&e<o.length;e+=t){var s=o[e],a=t>0==(1!=s.level),c=a?r.begin:l(r.end,-1);if(s.from<=c&&c<s.to||(c=a?s.from:l(s.to,-1),r.begin<=c&&c<r.end))return i(c,a)}},m=f(i+r,r,u);if(m)return m;var g=r>0?u.end:l(u.begin,-1);return null==g||r>0&&g==t.text.length||!(m=f(r>0?0:o.length-1,r,c(g)))?null:m}(e.cm,a,t,n):os(a,t,n);if(null==s){if(i||!function(){var n=t.line+l;return!(n<e.first||n>=e.first+e.size)&&(t=new it(n,t.ch,t.sticky),a=Ke(e,n))}())return!1;t=is(o,e.cm,a,t.line,l)}else t=s;return!0}if("char"==r||"codepoint"==r)c();else if("column"==r)c(!0);else if("word"==r||"group"==r)for(var u=null,d="group"==r,h=e.cm&&e.cm.getHelper(t,"wordChars"),p=!0;!(n<0)||c(!p);p=!1){var f=a.text.charAt(t.ch)||"\n",m=ie(f,h)?"w":d&&"\n"==f?"n":!d||/\s/.test(f)?null:"p";if(d&&!p&&!m&&(m="s"),u&&u!=m){n<0&&(n=1,c(),t.sticky="after");break}if(m&&(u=m),n>0&&!c(!p))break}var g=di(e,t,i,s,!0);return at(i,g)&&(g.hitSide=!0),g}function qs(e,t,n,r){var o,i,s=e.doc,a=t.left;if("page"==r){var l=Math.min(e.display.wrapper.clientHeight,z(e).innerHeight||s(e).documentElement.clientHeight),c=Math.max(l-.5*lr(e.display),3);o=(n>0?t.bottom:t.top)+n*c}else"line"==r&&(o=n>0?t.bottom+3:t.top-3);for(;(i=tr(e,a,o)).outside;){if(n<0?o<=0:o>=s.height){i.hitSide=!0;break}o+=5*n}return i}var Ws=function(e){this.cm=e,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new q,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};function $s(e,t){var n=Fn(e,t.line);if(!n||n.hidden)return null;var r=Ke(e.doc,t.line),o=jn(n,r,t.line),i=fe(r,e.doc.direction),s="left";i&&(s=he(i,t.ch)%2?"right":"left");var a=Hn(o.map,t.ch,s);return a.offset="right"==a.collapse?a.end:a.start,a}function Gs(e,t){return t&&(e.bad=!0),e}function Vs(e,t,n){var r;if(t==e.display.lineDiv){if(!(r=e.display.lineDiv.childNodes[n]))return Gs(e.clipPos(it(e.display.viewTo-1)),!0);t=null,n=0}else for(r=t;;r=r.parentNode){if(!r||r==e.display.lineDiv)return null;if(r.parentNode&&r.parentNode==e.display.lineDiv)break}for(var o=0;o<e.display.view.length;o++){var i=e.display.view[o];if(i.node==r)return Ys(i,t,n)}}function Ys(e,t,n){var r=e.text.firstChild,o=!1;if(!t||!M(r,t))return Gs(it(tt(e.line),0),!0);if(t==r&&(o=!0,t=r.childNodes[n],n=0,!t)){var i=e.rest?Z(e.rest):e.line;return Gs(it(tt(i),i.text.length),o)}var s=3==t.nodeType?t:null,a=t;for(!s&&1==t.childNodes.length&&3==t.firstChild.nodeType&&(s=t.firstChild,n&&(n=s.nodeValue.length));a.parentNode!=r;)a=a.parentNode;var l=e.measure,c=l.maps;function u(t,n,r){for(var o=-1;o<(c?c.length:0);o++)for(var i=o<0?l.map:c[o],s=0;s<i.length;s+=3){var a=i[s+2];if(a==t||a==n){var u=tt(o<0?e.line:e.rest[o]),d=i[s]+r;return(r<0||a!=t)&&(d=i[s+(r?1:0)]),it(u,d)}}}var d=u(s,a,n);if(d)return Gs(d,o);for(var h=a.nextSibling,p=s?s.nodeValue.length-n:0;h;h=h.nextSibling){if(d=u(h,h.firstChild,0))return Gs(it(d.line,d.ch-p),o);p+=h.textContent.length}for(var f=a.previousSibling,m=n;f;f=f.previousSibling){if(d=u(f,f.firstChild,-1))return Gs(it(d.line,d.ch+m),o);m+=f.textContent.length}}Ws.prototype.init=function(e){var t=this,n=this,r=n.cm,o=n.div=e.lineDiv;function i(e){for(var t=e.target;t;t=t.parentNode){if(t==o)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(t.className))break}return!1}function s(e){if(i(e)&&!ve(r,e)){if(r.somethingSelected())Fs({lineWise:!1,text:r.getSelections()}),"cut"==e.type&&r.replaceSelection("",null,"cut");else{if(!r.options.lineWiseCopyCut)return;var t=zs(r);Fs({lineWise:!0,text:t.text}),"cut"==e.type&&r.operation(function(){r.setSelections(t.ranges,0,G),r.replaceSelection("",null,"cut")})}if(e.clipboardData){e.clipboardData.clearData();var s=Ns.text.join("\n");if(e.clipboardData.setData("Text",s),e.clipboardData.getData("Text")==s)return void e.preventDefault()}var a=Us(),l=a.firstChild;Hs(l),r.display.lineSpace.insertBefore(a,r.display.lineSpace.firstChild),l.value=Ns.text.join("\n");var c=P(L(o));F(l),setTimeout(function(){r.display.lineSpace.removeChild(a),c.focus(),c==o&&n.showPrimarySelection()},50)}}o.contentEditable=!0,Hs(o,r.options.spellcheck,r.options.autocorrect,r.options.autocapitalize),ge(o,"paste",function(e){!i(e)||ve(r,e)||Rs(e,r)||a<=11&&setTimeout(io(r,function(){return t.updateFromDOM()}),20)}),ge(o,"compositionstart",function(e){t.composing={data:e.data,done:!1}}),ge(o,"compositionupdate",function(e){t.composing||(t.composing={data:e.data,done:!1})}),ge(o,"compositionend",function(e){t.composing&&(e.data!=t.composing.data&&t.readFromDOMSoon(),t.composing.done=!0)}),ge(o,"touchstart",function(){return n.forceCompositionEnd()}),ge(o,"input",function(){t.composing||t.readFromDOMSoon()}),ge(o,"copy",s),ge(o,"cut",s)},Ws.prototype.screenReaderLabelChanged=function(e){e?this.div.setAttribute("aria-label",e):this.div.removeAttribute("aria-label")},Ws.prototype.prepareSelection=function(){var e=_r(this.cm,!1);return e.focus=P(L(this.div))==this.div,e},Ws.prototype.showSelection=function(e,t){!e||!this.cm.display.view.length||((e.focus||t)&&this.showPrimarySelection(),this.showMultipleSelections(e))},Ws.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},Ws.prototype.showPrimarySelection=function(){var e=this.getSelection(),t=this.cm,r=t.doc.sel.primary(),o=r.from(),i=r.to();if(t.display.viewTo==t.display.viewFrom||o.line>=t.display.viewTo||i.line<t.display.viewFrom)e.removeAllRanges();else{var s=Vs(t,e.anchorNode,e.anchorOffset),a=Vs(t,e.focusNode,e.focusOffset);if(!s||s.bad||!a||a.bad||0!=st(ut(s,a),o)||0!=st(ct(s,a),i)){var l=t.display.view,c=o.line>=t.display.viewFrom&&$s(t,o)||{node:l[0].measure.map[2],offset:0},u=i.line<t.display.viewTo&&$s(t,i);if(!u){var d=l[l.length-1].measure,h=d.maps?d.maps[d.maps.length-1]:d.map;u={node:h[h.length-1],offset:h[h.length-2]-h[h.length-3]}}if(!c||!u)return void e.removeAllRanges();var p,f=e.rangeCount&&e.getRangeAt(0);try{p=C(c.node,c.offset,u.offset,u.node)}catch{}p&&(!n&&t.state.focused?(e.collapse(c.node,c.offset),p.collapsed||(e.removeAllRanges(),e.addRange(p))):(e.removeAllRanges(),e.addRange(p)),f&&null==e.anchorNode?e.addRange(f):n&&this.startGracePeriod()),this.rememberSelection()}}},Ws.prototype.startGracePeriod=function(){var e=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){e.gracePeriod=!1,e.selectionChanged()&&e.cm.operation(function(){return e.cm.curOp.selectionChanged=!0})},20)},Ws.prototype.showMultipleSelections=function(e){T(this.cm.display.cursorDiv,e.cursors),T(this.cm.display.selectionDiv,e.selection)},Ws.prototype.rememberSelection=function(){var e=this.getSelection();this.lastAnchorNode=e.anchorNode,this.lastAnchorOffset=e.anchorOffset,this.lastFocusNode=e.focusNode,this.lastFocusOffset=e.focusOffset},Ws.prototype.selectionInEditor=function(){var e=this.getSelection();if(!e.rangeCount)return!1;var t=e.getRangeAt(0).commonAncestorContainer;return M(this.div,t)},Ws.prototype.focus=function(){"nocursor"!=this.cm.options.readOnly&&((!this.selectionInEditor()||P(L(this.div))!=this.div)&&this.showSelection(this.prepareSelection(),!0),this.div.focus())},Ws.prototype.blur=function(){this.div.blur()},Ws.prototype.getField=function(){return this.div},Ws.prototype.supportsTouch=function(){return!0},Ws.prototype.receivedFocus=function(){var e=this,t=this;this.selectionInEditor()?setTimeout(function(){return e.pollSelection()},20):oo(this.cm,function(){return t.cm.curOp.selectionChanged=!0}),this.polling.set(this.cm.options.pollInterval,function e(){t.cm.state.focused&&(t.pollSelection(),t.polling.set(t.cm.options.pollInterval,e))})},Ws.prototype.selectionChanged=function(){var e=this.getSelection();return e.anchorNode!=this.lastAnchorNode||e.anchorOffset!=this.lastAnchorOffset||e.focusNode!=this.lastFocusNode||e.focusOffset!=this.lastFocusOffset},Ws.prototype.pollSelection=function(){if(null==this.readDOMTimeout&&!this.gracePeriod&&this.selectionChanged()){var e=this.getSelection(),t=this.cm;if(b&&u&&this.cm.display.gutterSpecs.length&&function(e){for(var t=e;t;t=t.parentNode)if(/CodeMirror-gutter-wrapper/.test(t.className))return!0;return!1}(e.anchorNode))return this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),void this.focus();if(!this.composing){this.rememberSelection();var n=Vs(t,e.anchorNode,e.anchorOffset),r=Vs(t,e.focusNode,e.focusOffset);n&&r&&oo(t,function(){ii(t.doc,Bo(n,r),G),(n.bad||r.bad)&&(t.curOp.selectionChanged=!0)})}}},Ws.prototype.pollContent=function(){null!=this.readDOMTimeout&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var e,t,n,r=this.cm,o=r.display,i=r.doc.sel.primary(),s=i.from(),a=i.to();if(0==s.ch&&s.line>r.firstLine()&&(s=it(s.line-1,Ke(r.doc,s.line-1).length)),a.ch==Ke(r.doc,a.line).text.length&&a.line<r.lastLine()&&(a=it(a.line+1,0)),s.line<o.viewFrom||a.line>o.viewTo-1)return!1;s.line==o.viewFrom||0==(e=mr(r,s.line))?(t=tt(o.view[0].line),n=o.view[0].node):(t=tt(o.view[e].line),n=o.view[e-1].node.nextSibling);var l,c,u=mr(r,a.line);if(u==o.view.length-1?(l=o.viewTo-1,c=o.lineDiv.lastChild):(l=tt(o.view[u+1].line)-1,c=o.view[u+1].node.previousSibling),!n)return!1;for(var d=r.doc.splitLines(function(e,t,n,r,o){var i="",s=!1,a=e.doc.lineSeparator(),l=!1;function c(){s&&(i+=a,l&&(i+=a),s=l=!1)}function u(e){e&&(c(),i+=e)}function d(t){if(1==t.nodeType){var n=t.getAttribute("cm-text");if(n)return void u(n);var i,h=t.getAttribute("cm-marker");if(h){var p=e.findMarks(it(r,0),it(o+1,0),function(e){return function(t){return t.id==e}}(+h));return void(p.length&&(i=p[0].find(0))&&u(Xe(e.doc,i.from,i.to).join(a)))}if("false"==t.getAttribute("contenteditable"))return;var f=/^(pre|div|p|li|table|br)$/i.test(t.nodeName);if(!/^br$/i.test(t.nodeName)&&0==t.textContent.length)return;f&&c();for(var m=0;m<t.childNodes.length;m++)d(t.childNodes[m]);/^(pre|p)$/i.test(t.nodeName)&&(l=!0),f&&(s=!0)}else 3==t.nodeType&&u(t.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(;d(t),t!=n;)t=t.nextSibling,l=!1;return i}(r,n,c,t,l)),h=Xe(r.doc,it(t,0),it(l,Ke(r.doc,l).text.length));d.length>1&&h.length>1;)if(Z(d)==Z(h))d.pop(),h.pop(),l--;else{if(d[0]!=h[0])break;d.shift(),h.shift(),t++}for(var p=0,f=0,m=d[0],g=h[0],b=Math.min(m.length,g.length);p<b&&m.charCodeAt(p)==g.charCodeAt(p);)++p;for(var w=Z(d),y=Z(h),v=Math.min(w.length-(1==d.length?p:0),y.length-(1==h.length?p:0));f<v&&w.charCodeAt(w.length-f-1)==y.charCodeAt(y.length-f-1);)++f;if(1==d.length&&1==h.length&&t==s.line)for(;p&&p>s.ch&&w.charCodeAt(w.length-f-1)==y.charCodeAt(y.length-f-1);)p--,f++;d[d.length-1]=w.slice(0,w.length-f).replace(/^\u200b+/,""),d[0]=d[0].slice(p).replace(/\u200b+$/,"");var A=it(t,p),_=it(l,h.length?Z(h).length-f:0);return d.length>1||d[0]||st(A,_)?(vi(r.doc,d,A,_,"+input"),!0):void 0},Ws.prototype.ensurePolled=function(){this.forceCompositionEnd()},Ws.prototype.reset=function(){this.forceCompositionEnd()},Ws.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},Ws.prototype.readFromDOMSoon=function(){var e=this;null==this.readDOMTimeout&&(this.readDOMTimeout=setTimeout(function(){if(e.readDOMTimeout=null,e.composing){if(!e.composing.done)return;e.composing=null}e.updateFromDOM()},80))},Ws.prototype.updateFromDOM=function(){var e=this;(this.cm.isReadOnly()||!this.pollContent())&&oo(this.cm,function(){return gr(e.cm)})},Ws.prototype.setUneditable=function(e){e.contentEditable="false"},Ws.prototype.onKeyPress=function(e){0==e.charCode||this.composing||(e.preventDefault(),this.cm.isReadOnly()||io(this.cm,Ds)(this.cm,String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),0))},Ws.prototype.readOnlyChanged=function(e){this.div.contentEditable=String("nocursor"!=e)},Ws.prototype.onContextMenu=function(){},Ws.prototype.resetPosition=function(){},Ws.prototype.needsContentAttribute=!0;var Js=function(e){this.cm=e,this.prevInput="",this.pollingFast=!1,this.polling=new q,this.hasSelection=!1,this.composing=null,this.resetting=!1};Js.prototype.init=function(e){var t=this,n=this,r=this.cm;this.createField(e);var o=this.textarea;function i(e){if(!ve(r,e)){if(r.somethingSelected())Fs({lineWise:!1,text:r.getSelections()});else{if(!r.options.lineWiseCopyCut)return;var t=zs(r);Fs({lineWise:!0,text:t.text}),"cut"==e.type?r.setSelections(t.ranges,null,G):(n.prevInput="",o.value=t.text.join("\n"),F(o))}"cut"==e.type&&(r.state.cutIncoming=+new Date)}}e.wrapper.insertBefore(this.wrapper,e.wrapper.firstChild),g&&(o.style.width="0px"),ge(o,"input",function(){s&&a>=9&&t.hasSelection&&(t.hasSelection=null),n.poll()}),ge(o,"paste",function(e){ve(r,e)||Rs(e,r)||(r.state.pasteIncoming=+new Date,n.fastPoll())}),ge(o,"cut",i),ge(o,"copy",i),ge(e.scroller,"paste",function(t){if(!kn(e,t)&&!ve(r,t)){if(!o.dispatchEvent)return r.state.pasteIncoming=+new Date,void n.focus();var i=new Event("paste");i.clipboardData=t.clipboardData,o.dispatchEvent(i)}}),ge(e.lineSpace,"selectstart",function(t){kn(e,t)||Se(t)}),ge(o,"compositionstart",function(){var e=r.getCursor("from");n.composing&&n.composing.range.clear(),n.composing={start:e,range:r.markText(e,r.getCursor("to"),{className:"CodeMirror-composing"})}}),ge(o,"compositionend",function(){n.composing&&(n.poll(),n.composing.range.clear(),n.composing=null)})},Js.prototype.createField=function(e){this.wrapper=Us(),this.textarea=this.wrapper.firstChild;var t=this.cm.options;Hs(this.textarea,t.spellcheck,t.autocorrect,t.autocapitalize)},Js.prototype.screenReaderLabelChanged=function(e){e?this.textarea.setAttribute("aria-label",e):this.textarea.removeAttribute("aria-label")},Js.prototype.prepareSelection=function(){var e=this.cm,t=e.display,n=e.doc,r=_r(e);if(e.options.moveInputWithCursor){var o=Xn(e,n.sel.primary().head,"div"),i=t.wrapper.getBoundingClientRect(),s=t.lineDiv.getBoundingClientRect();r.teTop=Math.max(0,Math.min(t.wrapper.clientHeight-10,o.top+s.top-i.top)),r.teLeft=Math.max(0,Math.min(t.wrapper.clientWidth-10,o.left+s.left-i.left))}return r},Js.prototype.showSelection=function(e){var t=this.cm.display;T(t.cursorDiv,e.cursors),T(t.selectionDiv,e.selection),null!=e.teTop&&(this.wrapper.style.top=e.teTop+"px",this.wrapper.style.left=e.teLeft+"px")},Js.prototype.reset=function(e){if(!(this.contextMenuPending||this.composing&&e)){var t=this.cm;if(this.resetting=!0,t.somethingSelected()){this.prevInput="";var n=t.getSelection();this.textarea.value=n,t.state.focused&&F(this.textarea),s&&a>=9&&(this.hasSelection=n)}else e||(this.prevInput=this.textarea.value="",s&&a>=9&&(this.hasSelection=null));this.resetting=!1}},Js.prototype.getField=function(){return this.textarea},Js.prototype.supportsTouch=function(){return!1},Js.prototype.focus=function(){if("nocursor"!=this.cm.options.readOnly&&(!w||P(L(this.textarea))!=this.textarea))try{this.textarea.focus()}catch{}},Js.prototype.blur=function(){this.textarea.blur()},Js.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},Js.prototype.receivedFocus=function(){this.slowPoll()},Js.prototype.slowPoll=function(){var e=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){e.poll(),e.cm.state.focused&&e.slowPoll()})},Js.prototype.fastPoll=function(){var e=!1,t=this;t.pollingFast=!0,t.polling.set(20,function n(){t.poll()||e?(t.pollingFast=!1,t.slowPoll()):(e=!0,t.polling.set(60,n))})},Js.prototype.poll=function(){var e=this,t=this.cm,n=this.textarea,r=this.prevInput;if(this.contextMenuPending||this.resetting||!t.state.focused||De(n)&&!r&&!this.composing||t.isReadOnly()||t.options.disableInput||t.state.keySeq)return!1;var o=n.value;if(o==r&&!t.somethingSelected())return!1;if(s&&a>=9&&this.hasSelection===o||y&&/[\uf700-\uf7ff]/.test(o))return t.display.input.reset(),!1;if(t.doc.sel==t.display.selForContextMenu){var i=o.charCodeAt(0);if(8203==i&&!r&&(r=""),8666==i)return this.reset(),this.cm.execCommand("undo")}for(var l=0,c=Math.min(r.length,o.length);l<c&&r.charCodeAt(l)==o.charCodeAt(l);)++l;return oo(t,function(){Ds(t,o.slice(l),r.length-l,null,e.composing?"*compose":null),o.length>1e3||o.indexOf("\n")>-1?n.value=e.prevInput="":e.prevInput=o,e.composing&&(e.composing.range.clear(),e.composing.range=t.markText(e.composing.start,t.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},Js.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},Js.prototype.onKeyPress=function(){s&&a>=9&&(this.hasSelection=null),this.fastPoll()},Js.prototype.onContextMenu=function(e){var t=this,n=t.cm,r=n.display,o=t.textarea;t.contextMenuPending&&t.contextMenuPending();var i=fr(n,e),c=r.scroller.scrollTop;if(i&&!h){n.options.resetSelectionOnContextMenu&&-1==n.doc.sel.contains(i)&&io(n,ii)(n.doc,Bo(i),G);var u,d=o.style.cssText,p=t.wrapper.style.cssText,f=t.wrapper.offsetParent.getBoundingClientRect();if(t.wrapper.style.cssText="position: static",o.style.cssText="position: absolute; width: 30px; height: 30px;\n      top: "+(e.clientY-f.top-5)+"px; left: "+(e.clientX-f.left-5)+"px;\n      z-index: 1000; background: "+(s?"rgba(255, 255, 255, .05)":"transparent")+";\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",l&&(u=o.ownerDocument.defaultView.scrollY),r.input.focus(),l&&o.ownerDocument.defaultView.scrollTo(null,u),r.input.reset(),n.somethingSelected()||(o.value=t.prevInput=" "),t.contextMenuPending=b,r.selForContextMenu=n.doc.sel,clearTimeout(r.detectingSelectAll),s&&a>=9&&g(),S){ke(e);var m=function(){we(window,"mouseup",m),setTimeout(b,20)};ge(window,"mouseup",m)}else setTimeout(b,50)}function g(){if(null!=o.selectionStart){var e=n.somethingSelected(),i=""+(e?o.value:"");o.value="",o.value=i,t.prevInput=e?"":"",o.selectionStart=1,o.selectionEnd=i.length,r.selForContextMenu=n.doc.sel}}function b(){if(t.contextMenuPending==b&&(t.contextMenuPending=!1,t.wrapper.style.cssText=p,o.style.cssText=d,s&&a<9&&r.scrollbars.setScrollTop(r.scroller.scrollTop=c),null!=o.selectionStart)){(!s||s&&a<9)&&g();var e=0,i=function(){r.selForContextMenu==n.doc.sel&&0==o.selectionStart&&o.selectionEnd>0&&""==t.prevInput?io(n,pi)(n):e++<10?r.detectingSelectAll=setTimeout(i,500):(r.selForContextMenu=null,r.input.reset())};r.detectingSelectAll=setTimeout(i,200)}}},Js.prototype.readOnlyChanged=function(e){e||this.reset(),this.textarea.disabled="nocursor"==e,this.textarea.readOnly=!!e},Js.prototype.setUneditable=function(){},Js.prototype.needsContentAttribute=!1,function(e){var t=e.optionHandlers;function n(n,r,o,i){e.defaults[n]=r,o&&(t[n]=i?function(e,t,n){n!=ks&&o(e,t,n)}:o)}e.defineOption=n,e.Init=ks,n("value","",function(e,t){return e.setValue(t)},!0),n("mode",null,function(e,t){e.doc.modeOption=t,Fo(e)},!0),n("indentUnit",2,Fo,!0),n("indentWithTabs",!1),n("smartIndent",!0),n("tabSize",4,function(e){Do(e),Wn(e),gr(e)},!0),n("lineSeparator",null,function(e,t){if(e.doc.lineSep=t,t){var n=[],r=e.doc.first;e.doc.iter(function(e){for(var o=0;;){var i=e.text.indexOf(t,o);if(-1==i)break;o=i+t.length,n.push(it(r,i))}r++});for(var o=n.length-1;o>=0;o--)vi(e.doc,t,n[o],it(n[o].line,n[o].ch+t.length))}}),n("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\u202d\u202e\u2066\u2067\u2069\ufeff\ufff9-\ufffc]/g,function(e,t,n){e.state.specialChars=new RegExp(t.source+(t.test("\t")?"":"|\t"),"g"),n!=ks&&e.refresh()}),n("specialCharPlaceholder",rn,function(e){return e.refresh()},!0),n("electricChars",!0),n("inputStyle",w?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),n("spellcheck",!1,function(e,t){return e.getInputField().spellcheck=t},!0),n("autocorrect",!1,function(e,t){return e.getInputField().autocorrect=t},!0),n("autocapitalize",!1,function(e,t){return e.getInputField().autocapitalize=t},!0),n("rtlMoveVisually",!A),n("wholeLineUpdateBefore",!0),n("theme","default",function(e){Cs(e),Ao(e)},!0),n("keyMap","default",function(e,t,n){var r=ts(t),o=n!=ks&&ts(n);o&&o.detach&&o.detach(e,r),r.attach&&r.attach(e,o||null)}),n("extraKeys",null),n("configureMouse",null),n("lineWrapping",!1,Bs,!0),n("gutters",[],function(e,t){e.display.gutterSpecs=yo(t,e.options.lineNumbers),Ao(e)},!0),n("fixedGutter",!0,function(e,t){e.display.gutters.style.left=t?dr(e.display)+"px":"0",e.refresh()},!0),n("coverGutterNextToScrollbar",!1,function(e){return $r(e)},!0),n("scrollbarStyle","native",function(e){Yr(e),$r(e),e.display.scrollbars.setScrollTop(e.doc.scrollTop),e.display.scrollbars.setScrollLeft(e.doc.scrollLeft)},!0),n("lineNumbers",!1,function(e,t){e.display.gutterSpecs=yo(e.options.gutters,t),Ao(e)},!0),n("firstLineNumber",1,Ao,!0),n("lineNumberFormatter",function(e){return e},Ao,!0),n("showCursorWhenSelecting",!1,Ar,!0),n("resetSelectionOnContextMenu",!0),n("lineWiseCopyCut",!0),n("pasteLinesPerSelection",!0),n("selectionsMayTouch",!1),n("readOnly",!1,function(e,t){"nocursor"==t&&(Ir(e),e.display.input.blur()),e.display.input.readOnlyChanged(t)}),n("screenReaderLabel",null,function(e,t){t=""===t?null:t,e.display.input.screenReaderLabelChanged(t)}),n("disableInput",!1,function(e,t){t||e.display.input.reset()},!0),n("dragDrop",!0,Is),n("allowDropFileTypes",null),n("cursorBlinkRate",530),n("cursorScrollMargin",0),n("cursorHeight",1,Ar,!0),n("singleCursorHeightPerLine",!0,Ar,!0),n("workTime",100),n("workDelay",100),n("flattenSpans",!0,Do,!0),n("addModeClass",!1,Do,!0),n("pollInterval",100),n("undoDepth",200,function(e,t){return e.doc.history.undoDepth=t}),n("historyEventDelay",1250),n("viewportMargin",10,function(e){return e.refresh()},!0),n("maxHighlightLength",1e4,Do,!0),n("moveInputWithCursor",!0,function(e,t){t||e.display.input.resetPosition()}),n("tabindex",null,function(e,t){return e.display.input.getField().tabIndex=t||""}),n("autofocus",null),n("direction","ltr",function(e,t){return e.doc.setDirection(t)},!0),n("phrases",null)}(Ms),function(e){var t=e.optionHandlers,n=e.helpers={};e.prototype={constructor:e,focus:function(){z(this).focus(),this.display.input.focus()},setOption:function(e,n){var r=this.options,o=r[e];r[e]==n&&"mode"!=e||(r[e]=n,t.hasOwnProperty(e)&&io(this,t[e])(this,n,o),ye(this,"optionChange",this,e))},getOption:function(e){return this.options[e]},getDoc:function(){return this.doc},addKeyMap:function(e,t){this.state.keyMaps[t?"push":"unshift"](ts(e))},removeKeyMap:function(e){for(var t=this.state.keyMaps,n=0;n<t.length;++n)if(t[n]==e||t[n].name==e)return t.splice(n,1),!0},addOverlay:so(function(t,n){var r=t.token?t:e.getMode(this.options,t);if(r.startState)throw new Error("Overlays may not be stateful.");(function(e,t,n){for(var r=0,o=n(t);r<e.length&&n(e[r])<=o;)r++;e.splice(r,0,t)})(this.state.overlays,{mode:r,modeSpec:t,opaque:n&&n.opaque,priority:n&&n.priority||0},function(e){return e.priority}),this.state.modeGen++,gr(this)}),removeOverlay:so(function(e){for(var t=this.state.overlays,n=0;n<t.length;++n){var r=t[n].modeSpec;if(r==e||"string"==typeof e&&r.name==e)return t.splice(n,1),this.state.modeGen++,void gr(this)}}),indentLine:so(function(e,t,n){"string"!=typeof t&&"number"!=typeof t&&(t=null==t?this.options.smartIndent?"smart":"prev":t?"add":"subtract"),rt(this.doc,e)&&js(this,e,t,n)}),indentSelection:so(function(e){for(var t=this.doc.sel.ranges,n=-1,r=0;r<t.length;r++){var o=t[r];if(o.empty())o.head.line>n&&(js(this,o.head.line,e,!0),n=o.head.line,r==this.doc.sel.primIndex&&Fr(this));else{var i=o.from(),s=o.to(),a=Math.max(n,i.line);n=Math.min(this.lastLine(),s.line-(s.ch?0:1))+1;for(var l=a;l<n;++l)js(this,l,e);var c=this.doc.sel.ranges;0==i.ch&&t.length==c.length&&c[r].from().ch>0&&ni(this.doc,r,new To(i,c[r].to()),G)}}}),getTokenAt:function(e,t){return xt(this,e,t)},getLineTokens:function(e,t){return xt(this,it(e),t,!0)},getTokenTypeAt:function(e){e=ht(this.doc,e);var t,n=bt(this,Ke(this.doc,e.line)),r=0,o=(n.length-1)/2,i=e.ch;if(0==i)t=n[2];else for(;;){var s=r+o>>1;if((s?n[2*s-1]:0)>=i)o=s;else{if(!(n[2*s+1]<i)){t=n[2*s+2];break}r=s+1}}var a=t?t.indexOf("overlay "):-1;return a<0?t:0==a?null:t.slice(0,a-1)},getModeAt:function(t){var n=this.doc.mode;return n.innerMode?e.innerMode(n,this.getTokenAt(t).state).mode:n},getHelper:function(e,t){return this.getHelpers(e,t)[0]},getHelpers:function(e,t){var r=[];if(!n.hasOwnProperty(t))return r;var o=n[t],i=this.getModeAt(e);if("string"==typeof i[t])o[i[t]]&&r.push(o[i[t]]);else if(i[t])for(var s=0;s<i[t].length;s++){var a=o[i[t][s]];a&&r.push(a)}else i.helperType&&o[i.helperType]?r.push(o[i.helperType]):o[i.name]&&r.push(o[i.name]);for(var l=0;l<o._global.length;l++){var c=o._global[l];c.pred(i,this)&&-1==W(r,c.val)&&r.push(c.val)}return r},getStateAfter:function(e,t){var n=this.doc;return wt(this,(e=dt(n,e??n.first+n.size-1))+1,t).state},cursorCoords:function(e,t){var n=this.doc.sel.primary();return Xn(this,null==e?n.head:"object"==typeof e?ht(this.doc,e):e?n.from():n.to(),t||"page")},charCoords:function(e,t){return Kn(this,ht(this.doc,e),t||"page")},coordsChar:function(e,t){return tr(this,(e=Jn(this,e,t||"page")).left,e.top)},lineAtHeight:function(e,t){return e=Jn(this,{top:e,left:0},t||"page").top,nt(this.doc,e+this.display.viewOffset)},heightAtLine:function(e,t,n){var r,o=!1;if("number"==typeof e){var i=this.doc.first+this.doc.size-1;e<this.doc.first?e=this.doc.first:e>i&&(e=i,o=!0),r=Ke(this.doc,e)}else r=e;return Yn(this,r,{top:0,left:0},t||"page",n||o).top+(o?this.doc.height-Vt(r):0)},defaultTextHeight:function(){return lr(this.display)},defaultCharWidth:function(){return cr(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(e,t,n,r,o){var i=this.display,s=(e=Xn(this,ht(this.doc,e))).bottom,a=e.left;if(t.style.position="absolute",t.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(t),i.sizer.appendChild(t),"over"==r)s=e.top;else if("above"==r||"near"==r){var l=Math.max(i.wrapper.clientHeight,this.doc.height),c=Math.max(i.sizer.clientWidth,i.lineSpace.clientWidth);("above"==r||e.bottom+t.offsetHeight>l)&&e.top>t.offsetHeight?s=e.top-t.offsetHeight:e.bottom+t.offsetHeight<=l&&(s=e.bottom),a+t.offsetWidth>c&&(a=c-t.offsetWidth)}t.style.top=s+"px",t.style.left=t.style.right="","right"==o?(a=i.sizer.clientWidth-t.offsetWidth,t.style.right="0px"):("left"==o?a=0:"middle"==o&&(a=(i.sizer.clientWidth-t.offsetWidth)/2),t.style.left=a+"px"),n&&function(e,t){var n=jr(e,t);null!=n.scrollTop&&zr(e,n.scrollTop),null!=n.scrollLeft&&Ur(e,n.scrollLeft)}(this,{left:a,top:s,right:a+t.offsetWidth,bottom:s+t.offsetHeight})},triggerOnKeyDown:so(ms),triggerOnKeyPress:so(bs),triggerOnKeyUp:gs,triggerOnMouseDown:so(As),execCommand:function(e){if(ss.hasOwnProperty(e))return ss[e].call(null,this)},triggerElectric:so(function(e){Ls(this,e)}),findPosH:function(e,t,n,r){var o=1;t<0&&(o=-1,t=-t);for(var i=ht(this.doc,e),s=0;s<t&&!(i=Qs(this.doc,i,o,n,r)).hitSide;++s);return i},moveH:so(function(e,t){var n=this;this.extendSelectionsBy(function(r){return n.display.shift||n.doc.extend||r.empty()?Qs(n.doc,r.head,e,t,n.options.rtlMoveVisually):e<0?r.from():r.to()},Y)}),deleteH:so(function(e,t){var n=this.doc.sel,r=this.doc;n.somethingSelected()?r.replaceSelection("",null,"+delete"):ns(this,function(n){var o=Qs(r,n.head,e,t,!1);return e<0?{from:o,to:n.head}:{from:n.head,to:o}})}),findPosV:function(e,t,n,r){var o=1,i=r;t<0&&(o=-1,t=-t);for(var s=ht(this.doc,e),a=0;a<t;++a){var l=Xn(this,s,"div");if(null==i?i=l.left:l.left=i,(s=qs(this,l,o,n)).hitSide)break}return s},moveV:so(function(e,t){var n=this,r=this.doc,o=[],i=!this.display.shift&&!r.extend&&r.sel.somethingSelected();if(r.extendSelectionsBy(function(s){if(i)return e<0?s.from():s.to();var a=Xn(n,s.head,"div");null!=s.goalColumn&&(a.left=s.goalColumn),o.push(a.left);var l=qs(n,a,e,t);return"page"==t&&s==r.sel.primary()&&Nr(n,Kn(n,l,"div").top-a.top),l},Y),o.length)for(var s=0;s<r.sel.ranges.length;s++)r.sel.ranges[s].goalColumn=o[s]}),findWordAt:function(e){var t=Ke(this.doc,e.line).text,n=e.ch,r=e.ch;if(t){var o=this.getHelper(e,"wordChars");"before"!=e.sticky&&r!=t.length||!n?++r:--n;for(var i=t.charAt(n),s=ie(i,o)?function(e){return ie(e,o)}:/\s/.test(i)?function(e){return/\s/.test(e)}:function(e){return!/\s/.test(e)&&!ie(e)};n>0&&s(t.charAt(n-1));)--n;for(;r<t.length&&s(t.charAt(r));)++r}return new To(it(e.line,n),it(e.line,r))},toggleOverwrite:function(e){null!=e&&e==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?j(this.display.cursorDiv,"CodeMirror-overwrite"):k(this.display.cursorDiv,"CodeMirror-overwrite"),ye(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==P(R(this))},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:so(function(e,t){Dr(this,e,t)}),getScrollInfo:function(){var e=this.display.scroller;return{left:e.scrollLeft,top:e.scrollTop,height:e.scrollHeight-Bn(this)-this.display.barHeight,width:e.scrollWidth-Bn(this)-this.display.barWidth,clientHeight:Pn(this),clientWidth:Mn(this)}},scrollIntoView:so(function(e,t){null==e?(e={from:this.doc.sel.primary().head,to:null},null==t&&(t=this.options.cursorScrollMargin)):"number"==typeof e?e={from:it(e,0),to:null}:null==e.from&&(e={from:e,to:null}),e.to||(e.to=e.from),e.margin=t||0,null!=e.from.line?function(e,t){Rr(e),e.curOp.scrollToPos=t}(this,e):Lr(this,e.from,e.to,e.margin)}),setSize:so(function(e,t){var n=this,r=function(e){return"number"==typeof e||/^\d+$/.test(String(e))?e+"px":e};null!=e&&(this.display.wrapper.style.width=r(e)),null!=t&&(this.display.wrapper.style.height=r(t)),this.options.lineWrapping&&qn(this);var o=this.display.viewFrom;this.doc.iter(o,this.display.viewTo,function(e){if(e.widgets)for(var t=0;t<e.widgets.length;t++)if(e.widgets[t].noHScroll){br(n,o,"widget");break}++o}),this.curOp.forceUpdate=!0,ye(this,"refresh",this)}),operation:function(e){return oo(this,e)},startOperation:function(){return Kr(this)},endOperation:function(){return Xr(this)},refresh:so(function(){var e=this.display.cachedTextHeight;gr(this),this.curOp.forceUpdate=!0,Wn(this),Dr(this,this.doc.scrollLeft,this.doc.scrollTop),mo(this.display),(null==e||Math.abs(e-lr(this.display))>.5||this.options.lineWrapping)&&pr(this),ye(this,"refresh",this)}),swapDoc:so(function(e){var t=this.doc;return t.cm=null,this.state.selectingText&&this.state.selectingText(),Ho(this,e),Wn(this),this.display.input.reset(),Dr(this,e.scrollLeft,e.scrollTop),this.curOp.forceScroll=!0,pn(this,"swapDoc",this,t),t}),phrase:function(e){var t=this.options.phrases;return t&&Object.prototype.hasOwnProperty.call(t,e)?t[e]:e},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},xe(e),e.registerHelper=function(t,r,o){n.hasOwnProperty(t)||(n[t]=e[t]={_global:[]}),n[t][r]=o},e.registerGlobalHelper=function(t,r,o,i){e.registerHelper(t,r,i),n[t]._global.push({pred:o,val:i})}}(Ms);var Ks="iter insert remove copy getEditor constructor".split(" ");for(var Xs in Fi.prototype)Fi.prototype.hasOwnProperty(Xs)&&W(Ks,Xs)<0&&(Ms.prototype[Xs]=function(e){return function(){return e.apply(this.doc,arguments)}}(Fi.prototype[Xs]));return xe(Fi),Ms.inputStyles={textarea:Js,contenteditable:Ws},Ms.defineMode=function(e){!Ms.defaults.mode&&"null"!=e&&(Ms.defaults.mode=e),Ue.apply(this,arguments)},Ms.defineMIME=function(e,t){He[e]=t},Ms.defineMode("null",function(){return{token:function(e){return e.skipToEnd()}}}),Ms.defineMIME("text/plain","null"),Ms.defineExtension=function(e,t){Ms.prototype[e]=t},Ms.defineDocExtension=function(e,t){Fi.prototype[e]=t},Ms.fromTextArea=function(e,t){if((t=t?U(t):{}).value=e.value,!t.tabindex&&e.tabIndex&&(t.tabindex=e.tabIndex),!t.placeholder&&e.placeholder&&(t.placeholder=e.placeholder),null==t.autofocus){var n=P(L(e));t.autofocus=n==e||null!=e.getAttribute("autofocus")&&n==document.body}function r(){e.value=a.getValue()}var o;if(e.form&&(ge(e.form,"submit",r),!t.leaveSubmitMethodAlone)){var i=e.form;o=i.submit;try{var s=i.submit=function(){r(),i.submit=o,i.submit(),i.submit=s}}catch{}}t.finishInit=function(n){n.save=r,n.getTextArea=function(){return e},n.toTextArea=function(){n.toTextArea=isNaN,r(),e.parentNode.removeChild(n.getWrapperElement()),e.style.display="",e.form&&(we(e.form,"submit",r),!t.leaveSubmitMethodAlone&&"function"==typeof e.form.submit&&(e.form.submit=o))}},e.style.display="none";var a=Ms(function(t){return e.parentNode.insertBefore(t,e.nextSibling)},t);return a},function(e){e.off=we,e.on=ge,e.wheelEventPixels=Co,e.Doc=Fi,e.splitLines=Fe,e.countColumn=Q,e.findColumn=J,e.isWordChar=oe,e.Pass=$,e.signal=ye,e.Line=Kt,e.changeEnd=Mo,e.scrollbarModel=Vr,e.Pos=it,e.cmpPos=st,e.modes=ze,e.mimeModes=He,e.resolveMode=Qe,e.getMode=qe,e.modeExtensions=We,e.extendMode=$e,e.copyState=Ge,e.startState=Ye,e.innerMode=Ve,e.commands=ss,e.keyMap=Vi,e.keyName=es,e.isModifierKey=Xi,e.lookupKey=Ki,e.normalizeKeyMap=Ji,e.StringStream=Je,e.SharedTextMarker=Mi,e.TextMarker=Ii,e.LineWidget=ki,e.e_preventDefault=Se,e.e_stopPropagation=Ee,e.e_stop=ke,e.addClass=j,e.contains=M,e.rmClass=k,e.keyNames=qi}(Ms),Ms.version="5.65.18",Ms}()),i.exports}var a=s();const l=(0,o.g)(a);var c,u={exports:{}};function d(){return c||(c=1,function(e){function t(e){for(var t={},n=0;n<e.length;++n)t[e[n].toLowerCase()]=!0;return t}e.defineMode("css",function(t,n){var r=n.inline;n.propertyKeywords||(n=e.resolveMode("text/css"));var o,i,s=t.indentUnit,a=n.tokenHooks,l=n.documentTypes||{},c=n.mediaTypes||{},u=n.mediaFeatures||{},d=n.mediaValueKeywords||{},h=n.propertyKeywords||{},p=n.nonStandardPropertyKeywords||{},f=n.fontProperties||{},m=n.counterDescriptors||{},g=n.colorKeywords||{},b=n.valueKeywords||{},w=n.allowNested,y=n.lineComment,v=!0===n.supportsAtComponent,A=!1!==t.highlightNonStandardPropertyKeywords;function _(e,t){return o=t,e}function x(e,t){var n=e.next();if(a[n]){var r=a[n](e,t);if(!1!==r)return r}return"@"==n?(e.eatWhile(/[\w\\\-]/),_("def",e.current())):"="==n||("~"==n||"|"==n)&&e.eat("=")?_(null,"compare"):'"'==n||"'"==n?(t.tokenize=S(n),t.tokenize(e,t)):"#"==n?(e.eatWhile(/[\w\\\-]/),_("atom","hash")):"!"==n?(e.match(/^\s*\w*/),_("keyword","important")):/\d/.test(n)||"."==n&&e.eat(/\d/)?(e.eatWhile(/[\w.%]/),_("number","unit")):"-"!==n?/[,+>*\/]/.test(n)?_(null,"select-op"):"."==n&&e.match(/^-?[_a-z][_a-z0-9-]*/i)?_("qualifier","qualifier"):/[:;{}\[\]\(\)]/.test(n)?_(null,n):e.match(/^[\w-.]+(?=\()/)?(/^(url(-prefix)?|domain|regexp)$/i.test(e.current())&&(t.tokenize=E),_("variable callee","variable")):/[\w\\\-]/.test(n)?(e.eatWhile(/[\w\\\-]/),_("property","word")):_(null,null):/[\d.]/.test(e.peek())?(e.eatWhile(/[\w.%]/),_("number","unit")):e.match(/^-[\w\\\-]*/)?(e.eatWhile(/[\w\\\-]/),e.match(/^\s*:/,!1)?_("variable-2","variable-definition"):_("variable-2","variable")):e.match(/^\w+-/)?_("meta","meta"):void 0}function S(e){return function(t,n){for(var r,o=!1;null!=(r=t.next());){if(r==e&&!o){")"==e&&t.backUp(1);break}o=!o&&"\\"==r}return(r==e||!o&&")"!=e)&&(n.tokenize=null),_("string","string")}}function E(e,t){return e.next(),e.match(/^\s*[\"\')]/,!1)?t.tokenize=null:t.tokenize=S(")"),_(null,"(")}function C(e,t,n){this.type=e,this.indent=t,this.prev=n}function k(e,t,n,r){return e.context=new C(n,t.indentation()+(!1===r?0:s),e.context),n}function O(e){return e.context.prev&&(e.context=e.context.prev),e.context.type}function T(e,t,n){return M[n.context.type](e,t,n)}function I(e,t,n,r){for(var o=r||1;o>0;o--)n.context=n.context.prev;return T(e,t,n)}function B(e){var t=e.current().toLowerCase();i=b.hasOwnProperty(t)?"atom":g.hasOwnProperty(t)?"keyword":"variable"}var M={top:function(e,t,n){if("{"==e)return k(n,t,"block");if("}"==e&&n.context.prev)return O(n);if(v&&/@component/i.test(e))return k(n,t,"atComponentBlock");if(/^@(-moz-)?document$/i.test(e))return k(n,t,"documentTypes");if(/^@(media|supports|(-moz-)?document|import)$/i.test(e))return k(n,t,"atBlock");if(/^@(font-face|counter-style)/i.test(e))return n.stateArg=e,"restricted_atBlock_before";if(/^@(-(moz|ms|o|webkit)-)?keyframes$/i.test(e))return"keyframes";if(e&&"@"==e.charAt(0))return k(n,t,"at");if("hash"==e)i="builtin";else if("word"==e)i="tag";else{if("variable-definition"==e)return"maybeprop";if("interpolation"==e)return k(n,t,"interpolation");if(":"==e)return"pseudo";if(w&&"("==e)return k(n,t,"parens")}return n.context.type},block:function(e,t,n){if("word"==e){var r=t.current().toLowerCase();return h.hasOwnProperty(r)?(i="property","maybeprop"):p.hasOwnProperty(r)?(i=A?"string-2":"property","maybeprop"):w?(i=t.match(/^\s*:(?:\s|$)/,!1)?"property":"tag","block"):(i+=" error","maybeprop")}return"meta"==e?"block":w||"hash"!=e&&"qualifier"!=e?M.top(e,t,n):(i="error","block")},maybeprop:function(e,t,n){return":"==e?k(n,t,"prop"):T(e,t,n)},prop:function(e,t,n){if(";"==e)return O(n);if("{"==e&&w)return k(n,t,"propBlock");if("}"==e||"{"==e)return I(e,t,n);if("("==e)return k(n,t,"parens");if("hash"!=e||/^#([0-9a-fA-F]{3,4}|[0-9a-fA-F]{6}|[0-9a-fA-F]{8})$/.test(t.current())){if("word"==e)B(t);else if("interpolation"==e)return k(n,t,"interpolation")}else i+=" error";return"prop"},propBlock:function(e,t,n){return"}"==e?O(n):"word"==e?(i="property","maybeprop"):n.context.type},parens:function(e,t,n){return"{"==e||"}"==e?I(e,t,n):")"==e?O(n):"("==e?k(n,t,"parens"):"interpolation"==e?k(n,t,"interpolation"):("word"==e&&B(t),"parens")},pseudo:function(e,t,n){return"meta"==e?"pseudo":"word"==e?(i="variable-3",n.context.type):T(e,t,n)},documentTypes:function(e,t,n){return"word"==e&&l.hasOwnProperty(t.current())?(i="tag",n.context.type):M.atBlock(e,t,n)},atBlock:function(e,t,n){if("("==e)return k(n,t,"atBlock_parens");if("}"==e||";"==e)return I(e,t,n);if("{"==e)return O(n)&&k(n,t,w?"block":"top");if("interpolation"==e)return k(n,t,"interpolation");if("word"==e){var r=t.current().toLowerCase();i="only"==r||"not"==r||"and"==r||"or"==r?"keyword":c.hasOwnProperty(r)?"attribute":u.hasOwnProperty(r)?"property":d.hasOwnProperty(r)?"keyword":h.hasOwnProperty(r)?"property":p.hasOwnProperty(r)?A?"string-2":"property":b.hasOwnProperty(r)?"atom":g.hasOwnProperty(r)?"keyword":"error"}return n.context.type},atComponentBlock:function(e,t,n){return"}"==e?I(e,t,n):"{"==e?O(n)&&k(n,t,w?"block":"top",!1):("word"==e&&(i="error"),n.context.type)},atBlock_parens:function(e,t,n){return")"==e?O(n):"{"==e||"}"==e?I(e,t,n,2):M.atBlock(e,t,n)},restricted_atBlock_before:function(e,t,n){return"{"==e?k(n,t,"restricted_atBlock"):"word"==e&&"@counter-style"==n.stateArg?(i="variable","restricted_atBlock_before"):T(e,t,n)},restricted_atBlock:function(e,t,n){return"}"==e?(n.stateArg=null,O(n)):"word"==e?(i="@font-face"==n.stateArg&&!f.hasOwnProperty(t.current().toLowerCase())||"@counter-style"==n.stateArg&&!m.hasOwnProperty(t.current().toLowerCase())?"error":"property","maybeprop"):"restricted_atBlock"},keyframes:function(e,t,n){return"word"==e?(i="variable","keyframes"):"{"==e?k(n,t,"top"):T(e,t,n)},at:function(e,t,n){return";"==e?O(n):"{"==e||"}"==e?I(e,t,n):("word"==e?i="tag":"hash"==e&&(i="builtin"),"at")},interpolation:function(e,t,n){return"}"==e?O(n):"{"==e||";"==e?I(e,t,n):("word"==e?i="variable":"variable"!=e&&"("!=e&&")"!=e&&(i="error"),"interpolation")}};return{startState:function(e){return{tokenize:null,state:r?"block":"top",stateArg:null,context:new C(r?"block":"top",e||0,null)}},token:function(e,t){if(!t.tokenize&&e.eatSpace())return null;var n=(t.tokenize||x)(e,t);return n&&"object"==typeof n&&(o=n[1],n=n[0]),i=n,"comment"!=o&&(t.state=M[t.state](o,e,t)),i},indent:function(e,t){var n=e.context,r=t&&t.charAt(0),o=n.indent;return"prop"==n.type&&("}"==r||")"==r)&&(n=n.prev),n.prev&&("}"!=r||"block"!=n.type&&"top"!=n.type&&"interpolation"!=n.type&&"restricted_atBlock"!=n.type?(")"==r&&("parens"==n.type||"atBlock_parens"==n.type)||"{"==r&&("at"==n.type||"atBlock"==n.type))&&(o=Math.max(0,n.indent-s)):o=(n=n.prev).indent),o},electricChars:"}",blockCommentStart:"/*",blockCommentEnd:"*/",blockCommentContinue:" * ",lineComment:y,fold:"brace"}});var n=["domain","regexp","url","url-prefix"],r=t(n),o=["all","aural","braille","handheld","print","projection","screen","tty","tv","embossed"],i=t(o),s=["width","min-width","max-width","height","min-height","max-height","device-width","min-device-width","max-device-width","device-height","min-device-height","max-device-height","aspect-ratio","min-aspect-ratio","max-aspect-ratio","device-aspect-ratio","min-device-aspect-ratio","max-device-aspect-ratio","color","min-color","max-color","color-index","min-color-index","max-color-index","monochrome","min-monochrome","max-monochrome","resolution","min-resolution","max-resolution","scan","grid","orientation","device-pixel-ratio","min-device-pixel-ratio","max-device-pixel-ratio","pointer","any-pointer","hover","any-hover","prefers-color-scheme","dynamic-range","video-dynamic-range"],a=t(s),l=["landscape","portrait","none","coarse","fine","on-demand","hover","interlace","progressive","dark","light","standard","high"],c=t(l),u=["align-content","align-items","align-self","alignment-adjust","alignment-baseline","all","anchor-point","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","appearance","azimuth","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","binding","bleed","block-size","bookmark-label","bookmark-level","bookmark-state","bookmark-target","border","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","color","color-profile","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","content","counter-increment","counter-reset","crop","cue","cue-after","cue-before","cursor","direction","display","dominant-baseline","drop-initial-after-adjust","drop-initial-after-align","drop-initial-before-adjust","drop-initial-before-align","drop-initial-size","drop-initial-value","elevation","empty-cells","fit","fit-content","fit-position","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","float-offset","flow-from","flow-into","font","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-size","font-size-adjust","font-stretch","font-style","font-synthesis","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","gap","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-gap","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-gap","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","inline-box-align","inset","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","left","letter-spacing","line-break","line-height","line-height-step","line-stacking","line-stacking-ruby","line-stacking-shift","line-stacking-strategy","list-style","list-style-image","list-style-position","list-style-type","margin","margin-bottom","margin-left","margin-right","margin-top","marks","marquee-direction","marquee-loop","marquee-play-count","marquee-speed","marquee-style","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","move-to","nav-down","nav-index","nav-left","nav-right","nav-up","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-style","overflow-wrap","overflow-x","overflow-y","padding","padding-bottom","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","page-policy","pause","pause-after","pause-before","perspective","perspective-origin","pitch","pitch-range","place-content","place-items","place-self","play-during","position","presentation-level","punctuation-trim","quotes","region-break-after","region-break-before","region-break-inside","region-fragment","rendering-intent","resize","rest","rest-after","rest-before","richness","right","rotate","rotation","rotation-point","row-gap","ruby-align","ruby-overhang","ruby-position","ruby-span","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-type","shape-image-threshold","shape-inside","shape-margin","shape-outside","size","speak","speak-as","speak-header","speak-numeral","speak-punctuation","speech-rate","stress","string-set","tab-size","table-layout","target","target-name","target-new","target-position","text-align","text-align-last","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-height","text-indent","text-justify","text-orientation","text-outline","text-overflow","text-rendering","text-shadow","text-size-adjust","text-space-collapse","text-transform","text-underline-position","text-wrap","top","touch-action","transform","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-select","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","volume","white-space","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","z-index","clip-path","clip-rule","mask","enable-background","filter","flood-color","flood-opacity","lighting-color","stop-color","stop-opacity","pointer-events","color-interpolation","color-interpolation-filters","color-rendering","fill","fill-opacity","fill-rule","image-rendering","marker","marker-end","marker-mid","marker-start","paint-order","shape-rendering","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-rendering","baseline-shift","dominant-baseline","glyph-orientation-horizontal","glyph-orientation-vertical","text-anchor","writing-mode"],d=t(u),h=["accent-color","aspect-ratio","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","content-visibility","margin-block","margin-block-end","margin-block-start","margin-inline","margin-inline-end","margin-inline-start","overflow-anchor","overscroll-behavior","padding-block","padding-block-end","padding-block-start","padding-inline","padding-inline-end","padding-inline-start","scroll-snap-stop","scrollbar-3d-light-color","scrollbar-arrow-color","scrollbar-base-color","scrollbar-dark-shadow-color","scrollbar-face-color","scrollbar-highlight-color","scrollbar-shadow-color","scrollbar-track-color","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","shape-inside","zoom"],p=t(h),f=t(["font-display","font-family","src","unicode-range","font-variant","font-feature-settings","font-stretch","font-weight","font-style"]),m=t(["additive-symbols","fallback","negative","pad","prefix","range","speak-as","suffix","symbols","system"]),g=["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"],b=t(g),w=["above","absolute","activeborder","additive","activecaption","afar","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","amharic","amharic-abegede","antialiased","appworkspace","arabic-indic","armenian","asterisks","attr","auto","auto-flow","avoid","avoid-column","avoid-page","avoid-region","axis-pan","background","backwards","baseline","below","bidi-override","binary","bengali","blink","block","block-axis","blur","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","brightness","bullets","button","buttonface","buttonhighlight","buttonshadow","buttontext","calc","cambodian","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","cjk-earthly-branch","cjk-heavenly-stem","cjk-ideographic","clear","clip","close-quote","col-resize","collapse","color","color-burn","color-dodge","column","column-reverse","compact","condensed","conic-gradient","contain","content","contents","content-box","context-menu","continuous","contrast","copy","counter","counters","cover","crop","cross","crosshair","cubic-bezier","currentcolor","cursive","cyclic","darken","dashed","decimal","decimal-leading-zero","default","default-button","dense","destination-atop","destination-in","destination-out","destination-over","devanagari","difference","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","drop-shadow","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic","ethiopic-abegede","ethiopic-abegede-am-et","ethiopic-abegede-gez","ethiopic-abegede-ti-er","ethiopic-abegede-ti-et","ethiopic-halehame-aa-er","ethiopic-halehame-aa-et","ethiopic-halehame-am-et","ethiopic-halehame-gez","ethiopic-halehame-om-et","ethiopic-halehame-sid-et","ethiopic-halehame-so-et","ethiopic-halehame-ti-er","ethiopic-halehame-ti-et","ethiopic-halehame-tig","ethiopic-numeric","ew-resize","exclusion","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fill-box","fixed","flat","flex","flex-end","flex-start","footnotes","forwards","from","geometricPrecision","georgian","grayscale","graytext","grid","groove","gujarati","gurmukhi","hand","hangul","hangul-consonant","hard-light","hebrew","help","hidden","hide","higher","highlight","highlighttext","hiragana","hiragana-iroha","horizontal","hsl","hsla","hue","hue-rotate","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-grid","inline-table","inset","inside","intrinsic","invert","italic","japanese-formal","japanese-informal","justify","kannada","katakana","katakana-iroha","keep-all","khmer","korean-hangul-formal","korean-hanja-formal","korean-hanja-informal","landscape","lao","large","larger","left","level","lighter","lighten","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-alpha","lower-armenian","lower-greek","lower-hexadecimal","lower-latin","lower-norwegian","lower-roman","lowercase","ltr","luminosity","malayalam","manipulation","match","matrix","matrix3d","media-play-button","media-slider","media-sliderthumb","media-volume-slider","media-volume-sliderthumb","medium","menu","menulist","menulist-button","menutext","message-box","middle","min-intrinsic","mix","mongolian","monospace","move","multiple","multiple_mask_images","multiply","myanmar","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","octal","opacity","open-quote","optimizeLegibility","optimizeSpeed","oriya","oromo","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","persian","perspective","pinch-zoom","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeating-conic-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row","row-resize","row-reverse","rtl","run-in","running","s-resize","sans-serif","saturate","saturation","scale","scale3d","scaleX","scaleY","scaleZ","screen","scroll","scrollbar","scroll-position","se-resize","searchfield","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","self-start","self-end","semi-condensed","semi-expanded","separate","sepia","serif","show","sidama","simp-chinese-formal","simp-chinese-informal","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","soft-light","solid","somali","source-atop","source-in","source-out","source-over","space","space-around","space-between","space-evenly","spell-out","square","square-button","start","static","status-bar","stretch","stroke","stroke-box","sub","subpixel-antialiased","svg_masks","super","sw-resize","symbolic","symbols","system-ui","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","tamil","telugu","text","text-bottom","text-top","textarea","textfield","thai","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","tibetan","tigre","tigrinya-er","tigrinya-er-abegede","tigrinya-et","tigrinya-et-abegede","to","top","trad-chinese-formal","trad-chinese-informal","transform","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","unidirectional-pan","unset","up","upper-alpha","upper-armenian","upper-greek","upper-hexadecimal","upper-latin","upper-norwegian","upper-roman","uppercase","urdu","url","var","vertical","vertical-text","view-box","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","wrap","wrap-reverse","x-large","x-small","xor","xx-large","xx-small"],y=t(w),v=n.concat(o).concat(s).concat(l).concat(u).concat(h).concat(g).concat(w);function A(e,t){for(var n,r=!1;null!=(n=e.next());){if(r&&"/"==n){t.tokenize=null;break}r="*"==n}return["comment","comment"]}e.registerHelper("hintWords","css",v),e.defineMIME("text/css",{documentTypes:r,mediaTypes:i,mediaFeatures:a,mediaValueKeywords:c,propertyKeywords:d,nonStandardPropertyKeywords:p,fontProperties:f,counterDescriptors:m,colorKeywords:b,valueKeywords:y,tokenHooks:{"/":function(e,t){return!!e.eat("*")&&(t.tokenize=A,A(e,t))}},name:"css"}),e.defineMIME("text/x-scss",{mediaTypes:i,mediaFeatures:a,mediaValueKeywords:c,propertyKeywords:d,nonStandardPropertyKeywords:p,colorKeywords:b,valueKeywords:y,fontProperties:f,allowNested:!0,lineComment:"//",tokenHooks:{"/":function(e,t){return e.eat("/")?(e.skipToEnd(),["comment","comment"]):e.eat("*")?(t.tokenize=A,A(e,t)):["operator","operator"]},":":function(e){return!!e.match(/^\s*\{/,!1)&&[null,null]},$:function(e){return e.match(/^[\w-]+/),e.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"]},"#":function(e){return!!e.eat("{")&&[null,"interpolation"]}},name:"css",helperType:"scss"}),e.defineMIME("text/x-less",{mediaTypes:i,mediaFeatures:a,mediaValueKeywords:c,propertyKeywords:d,nonStandardPropertyKeywords:p,colorKeywords:b,valueKeywords:y,fontProperties:f,allowNested:!0,lineComment:"//",tokenHooks:{"/":function(e,t){return e.eat("/")?(e.skipToEnd(),["comment","comment"]):e.eat("*")?(t.tokenize=A,A(e,t)):["operator","operator"]},"@":function(e){return e.eat("{")?[null,"interpolation"]:!e.match(/^(charset|document|font-face|import|(-(moz|ms|o|webkit)-)?keyframes|media|namespace|page|supports)\b/i,!1)&&(e.eatWhile(/[\w\\\-]/),e.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"])},"&":function(){return["atom","atom"]}},name:"css",helperType:"less"}),e.defineMIME("text/x-gss",{documentTypes:r,mediaTypes:i,mediaFeatures:a,propertyKeywords:d,nonStandardPropertyKeywords:p,fontProperties:f,counterDescriptors:m,colorKeywords:b,valueKeywords:y,supportsAtComponent:!0,tokenHooks:{"/":function(e,t){return!!e.eat("*")&&(t.tokenize=A,A(e,t))}},name:"css",helperType:"gss"})}(s())),u.exports}d();var h,p={exports:{}};function f(){return h||(h=1,e=s(),t={autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0},n={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,allowMissingTagName:!1,caseFold:!1},e.defineMode("xml",function(r,o){var i,s,a=r.indentUnit,l={},c=o.htmlMode?t:n;for(var u in c)l[u]=c[u];for(var u in o)l[u]=o[u];function d(e,t){function n(n){return t.tokenize=n,n(e,t)}var r=e.next();return"<"==r?e.eat("!")?e.eat("[")?e.match("CDATA[")?n(p("atom","]]>")):null:e.match("--")?n(p("comment","--\x3e")):e.match("DOCTYPE",!0,!0)?(e.eatWhile(/[\w\._\-]/),n(f(1))):null:e.eat("?")?(e.eatWhile(/[\w\._\-]/),t.tokenize=p("meta","?>"),"meta"):(i=e.eat("/")?"closeTag":"openTag",t.tokenize=h,"tag bracket"):"&"==r?(e.eat("#")?e.eat("x")?e.eatWhile(/[a-fA-F\d]/)&&e.eat(";"):e.eatWhile(/[\d]/)&&e.eat(";"):e.eatWhile(/[\w\.\-:]/)&&e.eat(";"))?"atom":"error":(e.eatWhile(/[^&<]/),null)}function h(e,t){var n=e.next();if(">"==n||"/"==n&&e.eat(">"))return t.tokenize=d,i=">"==n?"endTag":"selfcloseTag","tag bracket";if("="==n)return i="equals",null;if("<"==n){t.tokenize=d,t.state=y,t.tagName=t.tagStart=null;var r=t.tokenize(e,t);return r?r+" tag error":"tag error"}return/[\'\"]/.test(n)?(t.tokenize=function(e){var t=function(t,n){for(;!t.eol();)if(t.next()==e){n.tokenize=h;break}return"string"};return t.isInAttribute=!0,t}(n),t.stringStartCol=e.column(),t.tokenize(e,t)):(e.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word")}function p(e,t){return function(n,r){for(;!n.eol();){if(n.match(t)){r.tokenize=d;break}n.next()}return e}}function f(e){return function(t,n){for(var r;null!=(r=t.next());){if("<"==r)return n.tokenize=f(e+1),n.tokenize(t,n);if(">"==r){if(1==e){n.tokenize=d;break}return n.tokenize=f(e-1),n.tokenize(t,n)}}return"meta"}}function m(e){return e&&e.toLowerCase()}function g(e,t,n){this.prev=e.context,this.tagName=t||"",this.indent=e.indented,this.startOfLine=n,(l.doNotIndent.hasOwnProperty(t)||e.context&&e.context.noIndent)&&(this.noIndent=!0)}function b(e){e.context&&(e.context=e.context.prev)}function w(e,t){for(var n;;){if(!e.context||(n=e.context.tagName,!l.contextGrabbers.hasOwnProperty(m(n))||!l.contextGrabbers[m(n)].hasOwnProperty(m(t))))return;b(e)}}function y(e,t,n){return"openTag"==e?(n.tagStart=t.column(),v):"closeTag"==e?A:y}function v(e,t,n){return"word"==e?(n.tagName=t.current(),s="tag",S):l.allowMissingTagName&&"endTag"==e?(s="tag bracket",S(e,0,n)):(s="error",v)}function A(e,t,n){if("word"==e){var r=t.current();return n.context&&n.context.tagName!=r&&l.implicitlyClosed.hasOwnProperty(m(n.context.tagName))&&b(n),n.context&&n.context.tagName==r||!1===l.matchClosing?(s="tag",_):(s="tag error",x)}return l.allowMissingTagName&&"endTag"==e?(s="tag bracket",_(e,0,n)):(s="error",x)}function _(e,t,n){return"endTag"!=e?(s="error",_):(b(n),y)}function x(e,t,n){return s="error",_(e,0,n)}function S(e,t,n){if("word"==e)return s="attribute",E;if("endTag"==e||"selfcloseTag"==e){var r=n.tagName,o=n.tagStart;return n.tagName=n.tagStart=null,"selfcloseTag"==e||l.autoSelfClosers.hasOwnProperty(m(r))?w(n,r):(w(n,r),n.context=new g(n,r,o==n.indented)),y}return s="error",S}function E(e,t,n){return"equals"==e?C:(l.allowMissing||(s="error"),S(e,0,n))}function C(e,t,n){return"string"==e?k:"word"==e&&l.allowUnquoted?(s="string",S):(s="error",S(e,0,n))}function k(e,t,n){return"string"==e?k:S(e,0,n)}return d.isInText=!0,{startState:function(e){var t={tokenize:d,state:y,indented:e||0,tagName:null,tagStart:null,context:null};return null!=e&&(t.baseIndent=e),t},token:function(e,t){if(!t.tagName&&e.sol()&&(t.indented=e.indentation()),e.eatSpace())return null;i=null;var n=t.tokenize(e,t);return(n||i)&&"comment"!=n&&(s=null,t.state=t.state(i||n,e,t),s&&(n="error"==s?n+" error":s)),n},indent:function(t,n,r){var o=t.context;if(t.tokenize.isInAttribute)return t.tagStart==t.indented?t.stringStartCol+1:t.indented+a;if(o&&o.noIndent)return e.Pass;if(t.tokenize!=h&&t.tokenize!=d)return r?r.match(/^(\s*)/)[0].length:0;if(t.tagName)return!1!==l.multilineTagIndentPastTag?t.tagStart+t.tagName.length+2:t.tagStart+a*(l.multilineTagIndentFactor||1);if(l.alignCDATA&&/<!\[CDATA\[/.test(n))return 0;var i=n&&/^<(\/)?([\w_:\.-]*)/.exec(n);if(i&&i[1])for(;o;){if(o.tagName==i[2]){o=o.prev;break}if(!l.implicitlyClosed.hasOwnProperty(m(o.tagName)))break;o=o.prev}else if(i)for(;o;){var s=l.contextGrabbers[m(o.tagName)];if(!s||!s.hasOwnProperty(m(i[2])))break;o=o.prev}for(;o&&o.prev&&!o.startOfLine;)o=o.prev;return o?o.indent+a:t.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"\x3c!--",blockCommentEnd:"--\x3e",configuration:l.htmlMode?"html":"xml",helperType:l.htmlMode?"html":"xml",skipAttribute:function(e){e.state==C&&(e.state=S)},xmlCurrentTag:function(e){return e.tagName?{name:e.tagName,close:"closeTag"==e.type}:null},xmlCurrentContext:function(e){for(var t=[],n=e.context;n;n=n.prev)t.push(n.tagName);return t.reverse()}}}),e.defineMIME("text/xml","xml"),e.defineMIME("application/xml","xml"),e.mimeModes.hasOwnProperty("text/html")||e.defineMIME("text/html",{name:"xml",htmlMode:!0})),p.exports;var e,t,n}var m,g,b,w,y,v,A,_,x,S,E={exports:{}};function C(){return m||(m=1,(e=s()).defineMode("javascript",function(t,n){var r,o,i=t.indentUnit,s=n.statementIndent,a=n.jsonld,l=n.json||a,c=!1!==n.trackScope,u=n.typescript,d=n.wordCharacters||/[\w$\xa1-\uffff]/,h=function(){function e(e){return{type:e,style:"keyword"}}var t=e("keyword a"),n=e("keyword b"),r=e("keyword c"),o=e("keyword d"),i=e("operator"),s={type:"atom",style:"atom"};return{if:e("if"),while:t,with:t,else:n,do:n,try:n,finally:n,return:o,break:o,continue:o,new:e("new"),delete:r,void:r,throw:r,debugger:e("debugger"),var:e("var"),const:e("var"),let:e("var"),function:e("function"),catch:e("catch"),for:e("for"),switch:e("switch"),case:e("case"),default:e("default"),in:i,typeof:i,instanceof:i,true:s,false:s,null:s,undefined:s,NaN:s,Infinity:s,this:e("this"),class:e("class"),super:e("atom"),yield:r,export:e("export"),import:e("import"),extends:r,await:r}}(),p=/[+\-*&%=<>!?|~^@]/,f=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;function m(e,t,n){return r=e,o=n,t}function g(e,t){var n=e.next();if('"'==n||"'"==n)return t.tokenize=function(e){return function(t,n){var r,o=!1;if(a&&"@"==t.peek()&&t.match(f))return n.tokenize=g,m("jsonld-keyword","meta");for(;null!=(r=t.next())&&(r!=e||o);)o=!o&&"\\"==r;return o||(n.tokenize=g),m("string","string")}}(n),t.tokenize(e,t);if("."==n&&e.match(/^\d[\d_]*(?:[eE][+\-]?[\d_]+)?/))return m("number","number");if("."==n&&e.match(".."))return m("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(n))return m(n);if("="==n&&e.eat(">"))return m("=>","operator");if("0"==n&&e.match(/^(?:x[\dA-Fa-f_]+|o[0-7_]+|b[01_]+)n?/))return m("number","number");if(/\d/.test(n))return e.match(/^[\d_]*(?:n|(?:\.[\d_]*)?(?:[eE][+\-]?[\d_]+)?)?/),m("number","number");if("/"==n)return e.eat("*")?(t.tokenize=b,b(e,t)):e.eat("/")?(e.skipToEnd(),m("comment","comment")):Ze(e,t,1)?(function(e){for(var t,n=!1,r=!1;null!=(t=e.next());){if(!n){if("/"==t&&!r)return;"["==t?r=!0:r&&"]"==t&&(r=!1)}n=!n&&"\\"==t}}(e),e.match(/^\b(([gimyus])(?![gimyus]*\2))+\b/),m("regexp","string-2")):(e.eat("="),m("operator","operator",e.current()));if("`"==n)return t.tokenize=w,w(e,t);if("#"==n&&"!"==e.peek())return e.skipToEnd(),m("meta","meta");if("#"==n&&e.eatWhile(d))return m("variable","property");if("<"==n&&e.match("!--")||"-"==n&&e.match("->")&&!/\S/.test(e.string.slice(0,e.start)))return e.skipToEnd(),m("comment","comment");if(p.test(n))return(">"!=n||!t.lexical||">"!=t.lexical.type)&&(e.eat("=")?("!"==n||"="==n)&&e.eat("="):/[<>*+\-|&?]/.test(n)&&(e.eat(n),">"==n&&e.eat(n))),"?"==n&&e.eat(".")?m("."):m("operator","operator",e.current());if(d.test(n)){e.eatWhile(d);var r=e.current();if("."!=t.lastType){if(h.propertyIsEnumerable(r)){var o=h[r];return m(o.type,o.style,r)}if("async"==r&&e.match(/^(\s|\/\*([^*]|\*(?!\/))*?\*\/)*[\[\(\w]/,!1))return m("async","keyword",r)}return m("variable","variable",r)}}function b(e,t){for(var n,r=!1;n=e.next();){if("/"==n&&r){t.tokenize=g;break}r="*"==n}return m("comment","comment")}function w(e,t){for(var n,r=!1;null!=(n=e.next());){if(!r&&("`"==n||"$"==n&&e.eat("{"))){t.tokenize=g;break}r=!r&&"\\"==n}return m("quasi","string-2",e.current())}function y(e,t){t.fatArrowAt&&(t.fatArrowAt=null);var n=e.string.indexOf("=>",e.start);if(!(n<0)){if(u){var r=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(e.string.slice(e.start,n));r&&(n=r.index)}for(var o=0,i=!1,s=n-1;s>=0;--s){var a=e.string.charAt(s),l="([{}])".indexOf(a);if(l>=0&&l<3){if(!o){++s;break}if(0==--o){"("==a&&(i=!0);break}}else if(l>=3&&l<6)++o;else if(d.test(a))i=!0;else if(/["'\/`]/.test(a))for(;;--s){if(0==s)return;if(e.string.charAt(s-1)==a&&"\\"!=e.string.charAt(s-2)){s--;break}}else if(i&&!o){++s;break}}i&&!o&&(t.fatArrowAt=s)}}var v={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,import:!0,"jsonld-keyword":!0};function A(e,t,n,r,o,i){this.indented=e,this.column=t,this.type=n,this.prev=o,this.info=i,null!=r&&(this.align=r)}function _(e,t){if(!c)return!1;for(var n=e.localVars;n;n=n.next)if(n.name==t)return!0;for(var r=e.context;r;r=r.prev)for(n=r.vars;n;n=n.next)if(n.name==t)return!0}function x(e,t,n,r,o){var i=e.cc;for(S.state=e,S.stream=o,S.marked=null,S.cc=i,S.style=t,e.lexical.hasOwnProperty("align")||(e.lexical.align=!0);;)if((i.length?i.pop():l?U:z)(n,r)){for(;i.length&&i[i.length-1].lex;)i.pop()();return S.marked?S.marked:"variable"==n&&_(e,r)?"variable-2":t}}var S={state:null,marked:null,cc:null};function E(){for(var e=arguments.length-1;e>=0;e--)S.cc.push(arguments[e])}function C(){return E.apply(null,arguments),!0}function k(e,t){for(var n=t;n;n=n.next)if(n.name==e)return!0;return!1}function O(e){var t=S.state;if(S.marked="def",c){if(t.context)if("var"==t.lexical.info&&t.context&&t.context.block){var r=T(e,t.context);if(null!=r)return void(t.context=r)}else if(!k(e,t.localVars))return void(t.localVars=new M(e,t.localVars));n.globalVars&&!k(e,t.globalVars)&&(t.globalVars=new M(e,t.globalVars))}}function T(e,t){if(t){if(t.block){var n=T(e,t.prev);return n?n==t.prev?t:new B(n,t.vars,!0):null}return k(e,t.vars)?t:new B(t.prev,new M(e,t.vars),!1)}return null}function I(e){return"public"==e||"private"==e||"protected"==e||"abstract"==e||"readonly"==e}function B(e,t,n){this.prev=e,this.vars=t,this.block=n}function M(e,t){this.name=e,this.next=t}var P=new M("this",new M("arguments",null));function j(){S.state.context=new B(S.state.context,S.state.localVars,!1),S.state.localVars=P}function N(){S.state.context=new B(S.state.context,S.state.localVars,!0),S.state.localVars=null}function F(){S.state.localVars=S.state.context.vars,S.state.context=S.state.context.prev}function D(e,t){var n=function(){var n=S.state,r=n.indented;if("stat"==n.lexical.type)r=n.lexical.indented;else for(var o=n.lexical;o&&")"==o.type&&o.align;o=o.prev)r=o.indented;n.lexical=new A(r,S.stream.column(),e,null,n.lexical,t)};return n.lex=!0,n}function R(){var e=S.state;e.lexical.prev&&(")"==e.lexical.type&&(e.indented=e.lexical.indented),e.lexical=e.lexical.prev)}function L(e){return function t(n){return n==e?C():";"==e||"}"==n||")"==n||"]"==n?E():C(t)}}function z(e,t){return"var"==e?C(D("vardef",t),Se,L(";"),R):"keyword a"==e?C(D("form"),q,z,R):"keyword b"==e?C(D("form"),z,R):"keyword d"==e?S.stream.match(/^\s*$/,!1)?C():C(D("stat"),$,L(";"),R):"debugger"==e?C(L(";")):"{"==e?C(D("}"),N,le,R,F):";"==e?C():"if"==e?("else"==S.state.lexical.info&&S.state.cc[S.state.cc.length-1]==R&&S.state.cc.pop()(),C(D("form"),q,z,R,Ie)):"function"==e?C(je):"for"==e?C(D("form"),N,Be,z,F,R):"class"==e||u&&"interface"==t?(S.marked="keyword",C(D("form","class"==e?e:t),Le,R)):"variable"==e?u&&"declare"==t?(S.marked="keyword",C(z)):u&&("module"==t||"enum"==t||"type"==t)&&S.stream.match(/^\s*\w/,!1)?(S.marked="keyword","enum"==t?C(Ke):"type"==t?C(Fe,L("operator"),pe,L(";")):C(D("form"),Ee,L("{"),D("}"),le,R,R)):u&&"namespace"==t?(S.marked="keyword",C(D("form"),U,z,R)):u&&"abstract"==t?(S.marked="keyword",C(z)):C(D("stat"),te):"switch"==e?C(D("form"),q,L("{"),D("}","switch"),N,le,R,R,F):"case"==e?C(U,L(":")):"default"==e?C(L(":")):"catch"==e?C(D("form"),j,H,z,R,F):"export"==e?C(D("stat"),Qe,R):"import"==e?C(D("stat"),We,R):"async"==e?C(z):"@"==t?C(U,z):E(D("stat"),U,L(";"),R)}function H(e){if("("==e)return C(De,L(")"))}function U(e,t){return W(e,t,!1)}function Q(e,t){return W(e,t,!0)}function q(e){return"("!=e?E():C(D(")"),$,L(")"),R)}function W(e,t,n){if(S.state.fatArrowAt==S.stream.start){var r=n?X:K;if("("==e)return C(j,D(")"),se(De,")"),R,L("=>"),r,F);if("variable"==e)return E(j,Ee,L("=>"),r,F)}var o=n?V:G;return v.hasOwnProperty(e)?C(o):"function"==e?C(je,o):"class"==e||u&&"interface"==t?(S.marked="keyword",C(D("form"),Re,R)):"keyword c"==e||"async"==e?C(n?Q:U):"("==e?C(D(")"),$,L(")"),R,o):"operator"==e||"spread"==e?C(n?Q:U):"["==e?C(D("]"),Je,R,o):"{"==e?ae(re,"}",null,o):"quasi"==e?E(Y,o):"new"==e?C(function(e){return function(t){return"."==t?C(e?ee:Z):"variable"==t&&u?C(Ae,e?V:G):E(e?Q:U)}}(n)):C()}function $(e){return e.match(/[;\}\)\],]/)?E():E(U)}function G(e,t){return","==e?C($):V(e,t,!1)}function V(e,t,n){var r=0==n?G:V,o=0==n?U:Q;if("=>"==e)return C(j,n?X:K,F);if("operator"==e)return/\+\+|--/.test(t)||u&&"!"==t?C(r):u&&"<"==t&&S.stream.match(/^([^<>]|<[^<>]*>)*>\s*\(/,!1)?C(D(">"),se(pe,">"),R,r):"?"==t?C(U,L(":"),o):C(o);if("quasi"==e)return E(Y,r);if(";"!=e){if("("==e)return ae(Q,")","call",r);if("."==e)return C(ne,r);if("["==e)return C(D("]"),$,L("]"),R,r);if(u&&"as"==t)return S.marked="keyword",C(pe,r);if("regexp"==e)return S.state.lastType=S.marked="operator",S.stream.backUp(S.stream.pos-S.stream.start-1),C(o)}}function Y(e,t){return"quasi"!=e?E():"${"!=t.slice(t.length-2)?C(Y):C($,J)}function J(e){if("}"==e)return S.marked="string-2",S.state.tokenize=w,C(Y)}function K(e){return y(S.stream,S.state),E("{"==e?z:U)}function X(e){return y(S.stream,S.state),E("{"==e?z:Q)}function Z(e,t){if("target"==t)return S.marked="keyword",C(G)}function ee(e,t){if("target"==t)return S.marked="keyword",C(V)}function te(e){return":"==e?C(R,z):E(G,L(";"),R)}function ne(e){if("variable"==e)return S.marked="property",C()}function re(e,t){return"async"==e?(S.marked="property",C(re)):"variable"==e||"keyword"==S.style?(S.marked="property","get"==t||"set"==t?C(oe):(u&&S.state.fatArrowAt==S.stream.start&&(n=S.stream.match(/^\s*:\s*/,!1))&&(S.state.fatArrowAt=S.stream.pos+n[0].length),C(ie))):"number"==e||"string"==e?(S.marked=a?"property":S.style+" property",C(ie)):"jsonld-keyword"==e?C(ie):u&&I(t)?(S.marked="keyword",C(re)):"["==e?C(U,ce,L("]"),ie):"spread"==e?C(Q,ie):"*"==t?(S.marked="keyword",C(re)):":"==e?E(ie):void 0;var n}function oe(e){return"variable"!=e?E(ie):(S.marked="property",C(je))}function ie(e){return":"==e?C(Q):"("==e?E(je):void 0}function se(e,t,n){function r(o,i){if(n?n.indexOf(o)>-1:","==o){var s=S.state.lexical;return"call"==s.info&&(s.pos=(s.pos||0)+1),C(function(n,r){return n==t||r==t?E():E(e)},r)}return o==t||i==t?C():n&&n.indexOf(";")>-1?E(e):C(L(t))}return function(n,o){return n==t||o==t?C():E(e,r)}}function ae(e,t,n){for(var r=3;r<arguments.length;r++)S.cc.push(arguments[r]);return C(D(t,n),se(e,t),R)}function le(e){return"}"==e?C():E(z,le)}function ce(e,t){if(u){if(":"==e)return C(pe);if("?"==t)return C(ce)}}function ue(e,t){if(u&&(":"==e||"in"==t))return C(pe)}function de(e){if(u&&":"==e)return S.stream.match(/^\s*\w+\s+is\b/,!1)?C(U,he,pe):C(pe)}function he(e,t){if("is"==t)return S.marked="keyword",C()}function pe(e,t){return"keyof"==t||"typeof"==t||"infer"==t||"readonly"==t?(S.marked="keyword",C("typeof"==t?Q:pe)):"variable"==e||"void"==t?(S.marked="type",C(ve)):"|"==t||"&"==t?C(pe):"string"==e||"number"==e||"atom"==e?C(ve):"["==e?C(D("]"),se(pe,"]",","),R,ve):"{"==e?C(D("}"),me,R,ve):"("==e?C(se(ye,")"),fe,ve):"<"==e?C(se(pe,">"),pe):"quasi"==e?E(be,ve):void 0}function fe(e){if("=>"==e)return C(pe)}function me(e){return e.match(/[\}\)\]]/)?C():","==e||";"==e?C(me):E(ge,me)}function ge(e,t){return"variable"==e||"keyword"==S.style?(S.marked="property",C(ge)):"?"==t||"number"==e||"string"==e?C(ge):":"==e?C(pe):"["==e?C(L("variable"),ue,L("]"),ge):"("==e?E(Ne,ge):e.match(/[;\}\)\],]/)?void 0:C()}function be(e,t){return"quasi"!=e?E():"${"!=t.slice(t.length-2)?C(be):C(pe,we)}function we(e){if("}"==e)return S.marked="string-2",S.state.tokenize=w,C(be)}function ye(e,t){return"variable"==e&&S.stream.match(/^\s*[?:]/,!1)||"?"==t?C(ye):":"==e?C(pe):"spread"==e?C(ye):E(pe)}function ve(e,t){return"<"==t?C(D(">"),se(pe,">"),R,ve):"|"==t||"."==e||"&"==t?C(pe):"["==e?C(pe,L("]"),ve):"extends"==t||"implements"==t?(S.marked="keyword",C(pe)):"?"==t?C(pe,L(":"),pe):void 0}function Ae(e,t){if("<"==t)return C(D(">"),se(pe,">"),R,ve)}function _e(){return E(pe,xe)}function xe(e,t){if("="==t)return C(pe)}function Se(e,t){return"enum"==t?(S.marked="keyword",C(Ke)):E(Ee,ce,Oe,Te)}function Ee(e,t){return u&&I(t)?(S.marked="keyword",C(Ee)):"variable"==e?(O(t),C()):"spread"==e?C(Ee):"["==e?ae(ke,"]"):"{"==e?ae(Ce,"}"):void 0}function Ce(e,t){return"variable"!=e||S.stream.match(/^\s*:/,!1)?("variable"==e&&(S.marked="property"),"spread"==e?C(Ee):"}"==e?E():"["==e?C(U,L("]"),L(":"),Ce):C(L(":"),Ee,Oe)):(O(t),C(Oe))}function ke(){return E(Ee,Oe)}function Oe(e,t){if("="==t)return C(Q)}function Te(e){if(","==e)return C(Se)}function Ie(e,t){if("keyword b"==e&&"else"==t)return C(D("form","else"),z,R)}function Be(e,t){return"await"==t?C(Be):"("==e?C(D(")"),Me,R):void 0}function Me(e){return"var"==e?C(Se,Pe):"variable"==e?C(Pe):E(Pe)}function Pe(e,t){return")"==e?C():";"==e?C(Pe):"in"==t||"of"==t?(S.marked="keyword",C(U,Pe)):E(U,Pe)}function je(e,t){return"*"==t?(S.marked="keyword",C(je)):"variable"==e?(O(t),C(je)):"("==e?C(j,D(")"),se(De,")"),R,de,z,F):u&&"<"==t?C(D(">"),se(_e,">"),R,je):void 0}function Ne(e,t){return"*"==t?(S.marked="keyword",C(Ne)):"variable"==e?(O(t),C(Ne)):"("==e?C(j,D(")"),se(De,")"),R,de,F):u&&"<"==t?C(D(">"),se(_e,">"),R,Ne):void 0}function Fe(e,t){return"keyword"==e||"variable"==e?(S.marked="type",C(Fe)):"<"==t?C(D(">"),se(_e,">"),R):void 0}function De(e,t){return"@"==t&&C(U,De),"spread"==e?C(De):u&&I(t)?(S.marked="keyword",C(De)):u&&"this"==e?C(ce,Oe):E(Ee,ce,Oe)}function Re(e,t){return"variable"==e?Le(e,t):ze(e,t)}function Le(e,t){if("variable"==e)return O(t),C(ze)}function ze(e,t){return"<"==t?C(D(">"),se(_e,">"),R,ze):"extends"==t||"implements"==t||u&&","==e?("implements"==t&&(S.marked="keyword"),C(u?pe:U,ze)):"{"==e?C(D("}"),He,R):void 0}function He(e,t){return"async"==e||"variable"==e&&("static"==t||"get"==t||"set"==t||u&&I(t))&&S.stream.match(/^\s+#?[\w$\xa1-\uffff]/,!1)?(S.marked="keyword",C(He)):"variable"==e||"keyword"==S.style?(S.marked="property",C(Ue,He)):"number"==e||"string"==e?C(Ue,He):"["==e?C(U,ce,L("]"),Ue,He):"*"==t?(S.marked="keyword",C(He)):u&&"("==e?E(Ne,He):";"==e||","==e?C(He):"}"==e?C():"@"==t?C(U,He):void 0}function Ue(e,t){if("!"==t||"?"==t)return C(Ue);if(":"==e)return C(pe,Oe);if("="==t)return C(Q);var n=S.state.lexical.prev;return E(n&&"interface"==n.info?Ne:je)}function Qe(e,t){return"*"==t?(S.marked="keyword",C(Ye,L(";"))):"default"==t?(S.marked="keyword",C(U,L(";"))):"{"==e?C(se(qe,"}"),Ye,L(";")):E(z)}function qe(e,t){return"as"==t?(S.marked="keyword",C(L("variable"))):"variable"==e?E(Q,qe):void 0}function We(e){return"string"==e?C():"("==e?E(U):"."==e?E(G):E($e,Ge,Ye)}function $e(e,t){return"{"==e?ae($e,"}"):("variable"==e&&O(t),"*"==t&&(S.marked="keyword"),C(Ve))}function Ge(e){if(","==e)return C($e,Ge)}function Ve(e,t){if("as"==t)return S.marked="keyword",C($e)}function Ye(e,t){if("from"==t)return S.marked="keyword",C(U)}function Je(e){return"]"==e?C():E(se(Q,"]"))}function Ke(){return E(D("form"),Ee,L("{"),D("}"),se(Xe,"}"),R,R)}function Xe(){return E(Ee,Oe)}function Ze(e,t,n){return t.tokenize==g&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test(t.lastType)||"quasi"==t.lastType&&/\{\s*$/.test(e.string.slice(0,e.pos-(n||0)))}return j.lex=N.lex=!0,F.lex=!0,R.lex=!0,{startState:function(e){var t={tokenize:g,lastType:"sof",cc:[],lexical:new A((e||0)-i,0,"block",!1),localVars:n.localVars,context:n.localVars&&new B(null,null,!1),indented:e||0};return n.globalVars&&"object"==typeof n.globalVars&&(t.globalVars=n.globalVars),t},token:function(e,t){if(e.sol()&&(t.lexical.hasOwnProperty("align")||(t.lexical.align=!1),t.indented=e.indentation(),y(e,t)),t.tokenize!=b&&e.eatSpace())return null;var n=t.tokenize(e,t);return"comment"==r?n:(t.lastType="operator"!=r||"++"!=o&&"--"!=o?r:"incdec",x(t,n,r,o,e))},indent:function(t,r){if(t.tokenize==b||t.tokenize==w)return e.Pass;if(t.tokenize!=g)return 0;var o,a=r&&r.charAt(0),l=t.lexical;if(!/^\s*else\b/.test(r))for(var c=t.cc.length-1;c>=0;--c){var u=t.cc[c];if(u==R)l=l.prev;else if(u!=Ie&&u!=F)break}for(;("stat"==l.type||"form"==l.type)&&("}"==a||(o=t.cc[t.cc.length-1])&&(o==G||o==V)&&!/^[,\.=+\-*:?[\(]/.test(r));)l=l.prev;s&&")"==l.type&&"stat"==l.prev.type&&(l=l.prev);var d=l.type,h=a==d;return"vardef"==d?l.indented+("operator"==t.lastType||","==t.lastType?l.info.length+1:0):"form"==d&&"{"==a?l.indented:"form"==d?l.indented+i:"stat"==d?l.indented+(function(e,t){return"operator"==e.lastType||","==e.lastType||p.test(t.charAt(0))||/[,.]/.test(t.charAt(0))}(t,r)?s||i:0):"switch"!=l.info||h||0==n.doubleIndentSwitch?l.align?l.column+(h?0:1):l.indented+(h?0:i):l.indented+(/^(?:case|default)\b/.test(r)?i:2*i)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:l?null:"/*",blockCommentEnd:l?null:"*/",blockCommentContinue:l?null:" * ",lineComment:l?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:l?"json":"javascript",jsonldMode:a,jsonMode:l,expressionAllowed:Ze,skipExpression:function(t){x(t,"atom","atom","true",new e.StringStream("",2,null))}}}),e.registerHelper("wordChars","javascript",/[\w$]/),e.defineMIME("text/javascript","javascript"),e.defineMIME("text/ecmascript","javascript"),e.defineMIME("application/javascript","javascript"),e.defineMIME("application/x-javascript","javascript"),e.defineMIME("application/ecmascript","javascript"),e.defineMIME("application/json",{name:"javascript",json:!0}),e.defineMIME("application/x-json",{name:"javascript",json:!0}),e.defineMIME("application/manifest+json",{name:"javascript",json:!0}),e.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),e.defineMIME("text/typescript",{name:"javascript",typescript:!0}),e.defineMIME("application/typescript",{name:"javascript",typescript:!0})),E.exports;var e}g||(g=1,function(e){var t={script:[["lang",/(javascript|babel)/i,"javascript"],["type",/^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^module$|^$/i,"javascript"],["type",/./,"text/plain"],[null,null,"javascript"]],style:[["lang",/^css$/i,"css"],["type",/^(text\/)?(x-)?(stylesheet|css)$/i,"css"],["type",/./,"text/plain"],[null,null,"css"]]};var n={};function r(e,t){var r=e.match(function(e){return n[e]||(n[e]=new RegExp("\\s+"+e+"\\s*=\\s*('|\")?([^'\"]+)('|\")?\\s*"))}(t));return r?/^\s*(.*?)\s*$/.exec(r[2])[1]:""}function o(e,t){return new RegExp((t?"^":"")+"</\\s*"+e+"\\s*>","i")}function i(e,t){for(var n in e)for(var r=t[n]||(t[n]=[]),o=e[n],i=o.length-1;i>=0;i--)r.unshift(o[i])}e.defineMode("htmlmixed",function(n,s){var a=e.getMode(n,{name:"xml",htmlMode:!0,multilineTagIndentFactor:s.multilineTagIndentFactor,multilineTagIndentPastTag:s.multilineTagIndentPastTag,allowMissingTagName:s.allowMissingTagName}),l={},c=s&&s.tags,u=s&&s.scriptTypes;if(i(t,l),c&&i(c,l),u)for(var d=u.length-1;d>=0;d--)l.script.unshift(["type",u[d].matches,u[d].mode]);function h(t,i){var s,c=a.token(t,i.htmlState),u=/\btag\b/.test(c);if(u&&!/[<>\s\/]/.test(t.current())&&(s=i.htmlState.tagName&&i.htmlState.tagName.toLowerCase())&&l.hasOwnProperty(s))i.inTag=s+" ";else if(i.inTag&&u&&/>$/.test(t.current())){var d=/^([\S]+) (.*)/.exec(i.inTag);i.inTag=null;var p=">"==t.current()&&function(e,t){for(var n=0;n<e.length;n++){var o=e[n];if(!o[0]||o[1].test(r(t,o[0])))return o[2]}}(l[d[1]],d[2]),f=e.getMode(n,p),m=o(d[1],!0),g=o(d[1],!1);i.token=function(e,t){return e.match(m,!1)?(t.token=h,t.localState=t.localMode=null,null):function(e,t,n){var r=e.current(),o=r.search(t);return o>-1?e.backUp(r.length-o):r.match(/<\/?$/)&&(e.backUp(r.length),e.match(t,!1)||e.match(r)),n}(e,g,t.localMode.token(e,t.localState))},i.localMode=f,i.localState=e.startState(f,a.indent(i.htmlState,"",""))}else i.inTag&&(i.inTag+=t.current(),t.eol()&&(i.inTag+=" "));return c}return{startState:function(){return{token:h,inTag:null,localMode:null,localState:null,htmlState:e.startState(a)}},copyState:function(t){var n;return t.localState&&(n=e.copyState(t.localMode,t.localState)),{token:t.token,inTag:t.inTag,localMode:t.localMode,localState:n,htmlState:e.copyState(a,t.htmlState)}},token:function(e,t){return t.token(e,t)},indent:function(t,n,r){return!t.localMode||/^\s*<\//.test(n)?a.indent(t.htmlState,n,r):t.localMode.indent?t.localMode.indent(t.localState,n,r):e.Pass},innerMode:function(e){return{state:e.localState||e.htmlState,mode:e.localMode||a}}}},"xml","javascript","css"),e.defineMIME("text/html","htmlmixed")}(s(),f(),C(),d())),C(),b||(b=1,function(e){function t(e){return new RegExp("^(("+e.join(")|(")+"))\\b")}var n=t(["and","or","not","is"]),r=["as","assert","break","class","continue","def","del","elif","else","except","finally","for","from","global","if","import","lambda","pass","raise","return","try","while","with","yield","in","False","True"],o=["abs","all","any","bin","bool","bytearray","callable","chr","classmethod","compile","complex","delattr","dict","dir","divmod","enumerate","eval","filter","float","format","frozenset","getattr","globals","hasattr","hash","help","hex","id","input","int","isinstance","issubclass","iter","len","list","locals","map","max","memoryview","min","next","object","oct","open","ord","pow","property","range","repr","reversed","round","set","setattr","slice","sorted","staticmethod","str","sum","super","tuple","type","vars","zip","__import__","NotImplemented","Ellipsis","__debug__"];function i(e){return e.scopes[e.scopes.length-1]}e.registerHelper("hintWords","python",r.concat(o).concat(["exec","print"])),e.defineMode("python",function(s,a){for(var l="error",c=a.delimiters||a.singleDelimiters||/^[\(\)\[\]\{\}@,:`=;\.\\]/,u=[a.singleOperators,a.doubleOperators,a.doubleDelimiters,a.tripleDelimiters,a.operators||/^([-+*/%\/&|^]=?|[<>=]+|\/\/=?|\*\*=?|!=|[~!@]|\.\.\.)/],d=0;d<u.length;d++)u[d]||u.splice(d--,1);var h=a.hangingIndent||s.indentUnit,p=r,f=o;null!=a.extra_keywords&&(p=p.concat(a.extra_keywords)),null!=a.extra_builtins&&(f=f.concat(a.extra_builtins));var m=!(a.version&&Number(a.version)<3);if(m){var g=a.identifiers||/^[_A-Za-z\u00A1-\uFFFF][_A-Za-z0-9\u00A1-\uFFFF]*/;p=p.concat(["nonlocal","None","aiter","anext","async","await","breakpoint","match","case"]),f=f.concat(["ascii","bytes","exec","print"]);var b=new RegExp("^(([rbuf]|(br)|(rb)|(fr)|(rf))?('{3}|\"{3}|['\"]))","i")}else g=a.identifiers||/^[_A-Za-z][_A-Za-z0-9]*/,p=p.concat(["exec","print"]),f=f.concat(["apply","basestring","buffer","cmp","coerce","execfile","file","intern","long","raw_input","reduce","reload","unichr","unicode","xrange","None"]),b=new RegExp("^(([rubf]|(ur)|(br))?('{3}|\"{3}|['\"]))","i");var w=t(p),y=t(f);function v(e,t){var n=e.sol()&&"\\"!=t.lastToken;if(n&&(t.indent=e.indentation()),n&&"py"==i(t).type){var r=i(t).offset;if(e.eatSpace()){var o=e.indentation();return o>r?_(t):o<r&&x(e,t)&&"#"!=e.peek()&&(t.errorToken=!0),null}var s=A(e,t);return r>0&&x(e,t)&&(s+=" "+l),s}return A(e,t)}function A(e,t,r){if(e.eatSpace())return null;if(!r&&e.match(/^#.*/))return"comment";if(e.match(/^[0-9\.]/,!1)){var o=!1;if(e.match(/^[\d_]*\.\d+(e[\+\-]?\d+)?/i)&&(o=!0),e.match(/^[\d_]+\.\d*/)&&(o=!0),e.match(/^\.\d+/)&&(o=!0),o)return e.eat(/J/i),"number";var i=!1;if(e.match(/^0x[0-9a-f_]+/i)&&(i=!0),e.match(/^0b[01_]+/i)&&(i=!0),e.match(/^0o[0-7_]+/i)&&(i=!0),e.match(/^[1-9][\d_]*(e[\+\-]?[\d_]+)?/)&&(e.eat(/J/i),i=!0),e.match(/^0(?![\dx])/i)&&(i=!0),i)return e.eat(/L/i),"number"}if(e.match(b))return-1!==e.current().toLowerCase().indexOf("f")?(t.tokenize=function(e,t){for(;"rubf".indexOf(e.charAt(0).toLowerCase())>=0;)e=e.substr(1);var n=1==e.length,r="string";function o(e){return function(t,n){var r=A(t,n,!0);return"punctuation"==r&&("{"==t.current()?n.tokenize=o(e+1):"}"==t.current()&&(n.tokenize=e>1?o(e-1):i)),r}}function i(i,s){for(;!i.eol();)if(i.eatWhile(/[^'"\{\}\\]/),i.eat("\\")){if(i.next(),n&&i.eol())return r}else{if(i.match(e))return s.tokenize=t,r;if(i.match("{{"))return r;if(i.match("{",!1))return s.tokenize=o(0),i.current()?r:s.tokenize(i,s);if(i.match("}}"))return r;if(i.match("}"))return l;i.eat(/['"]/)}if(n){if(a.singleLineStringErrors)return l;s.tokenize=t}return r}return i.isString=!0,i}(e.current(),t.tokenize),t.tokenize(e,t)):(t.tokenize=function(e,t){for(;"rubf".indexOf(e.charAt(0).toLowerCase())>=0;)e=e.substr(1);var n=1==e.length,r="string";function o(o,i){for(;!o.eol();)if(o.eatWhile(/[^'"\\]/),o.eat("\\")){if(o.next(),n&&o.eol())return r}else{if(o.match(e))return i.tokenize=t,r;o.eat(/['"]/)}if(n){if(a.singleLineStringErrors)return l;i.tokenize=t}return r}return o.isString=!0,o}(e.current(),t.tokenize),t.tokenize(e,t));for(var s=0;s<u.length;s++)if(e.match(u[s]))return"operator";return e.match(c)?"punctuation":"."==t.lastToken&&e.match(g)?"property":e.match(w)||e.match(n)?"keyword":e.match(y)?"builtin":e.match(/^(self|cls)\b/)?"variable-2":e.match(g)?"def"==t.lastToken||"class"==t.lastToken?"def":"variable":(e.next(),r?null:l)}function _(e){for(;"py"!=i(e).type;)e.scopes.pop();e.scopes.push({offset:i(e).offset+s.indentUnit,type:"py",align:null})}function x(e,t){for(var n=e.indentation();t.scopes.length>1&&i(t).offset>n;){if("py"!=i(t).type)return!0;t.scopes.pop()}return i(t).offset!=n}function S(e,t){e.sol()&&(t.beginningOfLine=!0,t.dedent=!1);var n=t.tokenize(e,t),r=e.current();if(t.beginningOfLine&&"@"==r)return e.match(g,!1)?"meta":m?"operator":l;if(/\S/.test(r)&&(t.beginningOfLine=!1),("variable"==n||"builtin"==n)&&"meta"==t.lastToken&&(n="meta"),("pass"==r||"return"==r)&&(t.dedent=!0),"lambda"==r&&(t.lambda=!0),":"==r&&!t.lambda&&"py"==i(t).type&&e.match(/^\s*(?:#|$)/,!1)&&_(t),1==r.length&&!/string|comment/.test(n)){var o="[({".indexOf(r);if(-1!=o&&function(e,t,n){var r=e.match(/^[\s\[\{\(]*(?:#|$)/,!1)?null:e.column()+1;t.scopes.push({offset:t.indent+h,type:n,align:r})}(e,t,"])}".slice(o,o+1)),-1!=(o="])}".indexOf(r))){if(i(t).type!=r)return l;t.indent=t.scopes.pop().offset-h}}return t.dedent&&e.eol()&&"py"==i(t).type&&t.scopes.length>1&&t.scopes.pop(),n}return{startState:function(e){return{tokenize:v,scopes:[{offset:e||0,type:"py",align:null}],indent:e||0,lastToken:null,lambda:!1,dedent:0}},token:function(e,t){var n=t.errorToken;n&&(t.errorToken=!1);var r=S(e,t);return r&&"comment"!=r&&(t.lastToken="keyword"==r||"punctuation"==r?e.current():r),"punctuation"==r&&(r=null),e.eol()&&t.lambda&&(t.lambda=!1),n?r+" "+l:r},indent:function(t,n){if(t.tokenize!=v)return t.tokenize.isString?e.Pass:0;var r=i(t),o=r.type==n.charAt(0)||"py"==r.type&&!t.dedent&&/^(else:|elif |except |finally:)/.test(n);return null!=r.align?r.align-(o?1:0):r.offset-(o?h:0)},electricInput:/^\s*([\}\]\)]|else:|elif |except |finally:)$/,closeBrackets:{triples:"'\""},lineComment:"#",fold:"indent"}}),e.defineMIME("text/x-python","python");var s;e.defineMIME("text/x-cython",{name:"python",extra_keywords:(s="by cdef cimport cpdef ctypedef enum except extern gil include nogil property public readonly struct union DEF IF ELIF ELSE",s.split(" "))})}(s())),w||(w=1,function(e){function t(e,t,n,r,o,i){this.indented=e,this.column=t,this.type=n,this.info=r,this.align=o,this.prev=i}function n(e,n,r,o){var i=e.indented;return e.context&&"statement"==e.context.type&&"statement"!=r&&(i=e.context.indented),e.context=new t(i,n,r,o,null,e.context)}function r(e){var t=e.context.type;return(")"==t||"]"==t||"}"==t)&&(e.indented=e.context.indented),e.context=e.context.prev}function o(e,t,n){if("variable"==t.prevToken||"type"==t.prevToken||/\S(?:[^- ]>|[*\]])\s*$|\*$/.test(e.string.slice(0,n))||t.typeAtEndOfLine&&e.column()==e.indentation())return!0}function i(e){for(;;){if(!e||"top"==e.type)return!0;if("}"==e.type&&"namespace"!=e.prev.info)return!1;e=e.prev}}function s(e){for(var t={},n=e.split(" "),r=0;r<n.length;++r)t[n[r]]=!0;return t}function a(e,t){return"function"==typeof e?e(t):e.propertyIsEnumerable(t)}e.defineMode("clike",function(s,l){var c,u,d=s.indentUnit,h=l.statementIndentUnit||d,p=l.dontAlignCalls,f=l.keywords||{},m=l.types||{},g=l.builtin||{},b=l.blockKeywords||{},w=l.defKeywords||{},y=l.atoms||{},v=l.hooks||{},A=l.multiLineStrings,_=!1!==l.indentStatements,x=!1!==l.indentSwitch,S=l.namespaceSeparator,E=l.isPunctuationChar||/[\[\]{}\(\),;\:\.]/,C=l.numberStart||/[\d\.]/,k=l.number||/^(?:0x[a-f\d]+|0b[01]+|(?:\d+\.?\d*|\.\d+)(?:e[-+]?\d+)?)(u|ll?|l|f)?/i,O=l.isOperatorChar||/[+\-*&%=<>!?|\/]/,T=l.isIdentifierChar||/[\w\$_\xa1-\uffff]/,I=l.isReservedIdentifier||!1;function B(e,t){var n=e.next();if(v[n]){var r=v[n](e,t);if(!1!==r)return r}if('"'==n||"'"==n)return t.tokenize=function(e){return function(t,n){for(var r,o=!1,i=!1;null!=(r=t.next());){if(r==e&&!o){i=!0;break}o=!o&&"\\"==r}return(i||!(o||A))&&(n.tokenize=null),"string"}}(n),t.tokenize(e,t);if(C.test(n)){if(e.backUp(1),e.match(k))return"number";e.next()}if(E.test(n))return c=n,null;if("/"==n){if(e.eat("*"))return t.tokenize=M,M(e,t);if(e.eat("/"))return e.skipToEnd(),"comment"}if(O.test(n)){for(;!e.match(/^\/[\/*]/,!1)&&e.eat(O););return"operator"}if(e.eatWhile(T),S)for(;e.match(S);)e.eatWhile(T);var o=e.current();return a(f,o)?(a(b,o)&&(c="newstatement"),a(w,o)&&(u=!0),"keyword"):a(m,o)?"type":a(g,o)||I&&I(o)?(a(b,o)&&(c="newstatement"),"builtin"):a(y,o)?"atom":"variable"}function M(e,t){for(var n,r=!1;n=e.next();){if("/"==n&&r){t.tokenize=null;break}r="*"==n}return"comment"}function P(e,t){l.typeFirstDefinitions&&e.eol()&&i(t.context)&&(t.typeAtEndOfLine=o(e,t,e.pos))}return{startState:function(e){return{tokenize:null,context:new t((e||0)-d,0,"top",null,!1),indented:0,startOfLine:!0,prevToken:null}},token:function(e,t){var s=t.context;if(e.sol()&&(null==s.align&&(s.align=!1),t.indented=e.indentation(),t.startOfLine=!0),e.eatSpace())return P(e,t),null;c=u=null;var a=(t.tokenize||B)(e,t);if("comment"==a||"meta"==a)return a;if(null==s.align&&(s.align=!0),";"==c||":"==c||","==c&&e.match(/^\s*(?:\/\/.*)?$/,!1))for(;"statement"==t.context.type;)r(t);else if("{"==c)n(t,e.column(),"}");else if("["==c)n(t,e.column(),"]");else if("("==c)n(t,e.column(),")");else if("}"==c){for(;"statement"==s.type;)s=r(t);for("}"==s.type&&(s=r(t));"statement"==s.type;)s=r(t)}else c==s.type?r(t):_&&(("}"==s.type||"top"==s.type)&&";"!=c||"statement"==s.type&&"newstatement"==c)&&n(t,e.column(),"statement",e.current());if("variable"==a&&("def"==t.prevToken||l.typeFirstDefinitions&&o(e,t,e.start)&&i(t.context)&&e.match(/^\s*\(/,!1))&&(a="def"),v.token){var d=v.token(e,t,a);void 0!==d&&(a=d)}return"def"==a&&!1===l.styleDefs&&(a="variable"),t.startOfLine=!1,t.prevToken=u?"def":a||c,P(e,t),a},indent:function(t,n){if(t.tokenize!=B&&null!=t.tokenize||t.typeAtEndOfLine&&i(t.context))return e.Pass;var r=t.context,o=n&&n.charAt(0),s=o==r.type;if("statement"==r.type&&"}"==o&&(r=r.prev),l.dontIndentStatements)for(;"statement"==r.type&&l.dontIndentStatements.test(r.info);)r=r.prev;if(v.indent){var a=v.indent(t,r,n,d);if("number"==typeof a)return a}var c=r.prev&&"switch"==r.prev.info;if(l.allmanIndentation&&/[{(]/.test(o)){for(;"top"!=r.type&&"}"!=r.type;)r=r.prev;return r.indented}return"statement"==r.type?r.indented+("{"==o?0:h):!r.align||p&&")"==r.type?")"!=r.type||s?r.indented+(s?0:d)+(s||!c||/^(?:case|default)\b/.test(n)?0:d):r.indented+h:r.column+(s?0:1)},electricInput:x?/^\s*(?:case .*?:|default:|\{\}?|\})$/:/^\s*[{}]$/,blockCommentStart:"/*",blockCommentEnd:"*/",blockCommentContinue:" * ",lineComment:"//",fold:"brace"}});var l="auto if break case register continue return default do sizeof static else struct switch extern typedef union for goto while enum const volatile inline restrict asm fortran",c="alignas alignof and and_eq audit axiom bitand bitor catch class compl concept constexpr const_cast decltype delete dynamic_cast explicit export final friend import module mutable namespace new noexcept not not_eq operator or or_eq override private protected public reinterpret_cast requires static_assert static_cast template this thread_local throw try typeid typename using virtual xor xor_eq",u="bycopy byref in inout oneway out self super atomic nonatomic retain copy readwrite readonly strong weak assign typeof nullable nonnull null_resettable _cmd @interface @implementation @end @protocol @encode @property @synthesize @dynamic @class @public @package @private @protected @required @optional @try @catch @finally @import @selector @encode @defs @synchronized @autoreleasepool @compatibility_alias @available",d="FOUNDATION_EXPORT FOUNDATION_EXTERN NS_INLINE NS_FORMAT_FUNCTION  NS_RETURNS_RETAINEDNS_ERROR_ENUM NS_RETURNS_NOT_RETAINED NS_RETURNS_INNER_POINTER NS_DESIGNATED_INITIALIZER NS_ENUM NS_OPTIONS NS_REQUIRES_NIL_TERMINATION NS_ASSUME_NONNULL_BEGIN NS_ASSUME_NONNULL_END NS_SWIFT_NAME NS_REFINED_FOR_SWIFT",h=s("int long char short double float unsigned signed void bool"),p=s("SEL instancetype id Class Protocol BOOL");function f(e){return a(h,e)||/.+_t$/.test(e)}function m(e){return f(e)||a(p,e)}var g="case do else for if switch while struct enum union",b="struct enum union";function w(e,t){if(!t.startOfLine)return!1;for(var n,r=null;n=e.peek();){if("\\"==n&&e.match(/^.$/)){r=w;break}if("/"==n&&e.match(/^\/[\/\*]/,!1))break;e.next()}return t.tokenize=r,"meta"}function y(e,t){return"type"==t.prevToken&&"type"}function v(e){return!(!e||e.length<2||"_"!=e[0]||"_"!=e[1]&&e[1]===e[1].toLowerCase())}function A(e){return e.eatWhile(/[\w\.']/),"number"}function _(e,t){if(e.backUp(1),e.match(/^(?:R|u8R|uR|UR|LR)/)){var n=e.match(/^"([^\s\\()]{0,16})\(/);return!!n&&(t.cpp11RawStringDelim=n[1],t.tokenize=E,E(e,t))}return e.match(/^(?:u8|u|U|L)/)?!!e.match(/^["']/,!1)&&"string":(e.next(),!1)}function x(e){var t=/(\w+)::~?(\w+)$/.exec(e);return t&&t[1]==t[2]}function S(e,t){for(var n;null!=(n=e.next());)if('"'==n&&!e.eat('"')){t.tokenize=null;break}return"string"}function E(e,t){var n=t.cpp11RawStringDelim.replace(/[^\w\s]/g,"\\$&");return e.match(new RegExp(".*?\\)"+n+'"'))?t.tokenize=null:e.skipToEnd(),"string"}function C(t,n){"string"==typeof t&&(t=[t]);var r=[];function o(e){if(e)for(var t in e)e.hasOwnProperty(t)&&r.push(t)}o(n.keywords),o(n.types),o(n.builtin),o(n.atoms),r.length&&(n.helperType=t[0],e.registerHelper("hintWords",t[0],r));for(var i=0;i<t.length;++i)e.defineMIME(t[i],n)}function k(e,t){for(var n=!1;!e.eol();){if(!n&&e.match('"""')){t.tokenize=null;break}n="\\"==e.next()&&!n}return"string"}function O(e){return function(t,n){for(var r;r=t.next();){if("*"==r&&t.eat("/")){if(1==e){n.tokenize=null;break}return n.tokenize=O(e-1),n.tokenize(t,n)}if("/"==r&&t.eat("*"))return n.tokenize=O(e+1),n.tokenize(t,n)}return"comment"}}C(["text/x-csrc","text/x-c","text/x-chdr"],{name:"clike",keywords:s(l),types:f,blockKeywords:s(g),defKeywords:s(b),typeFirstDefinitions:!0,atoms:s("NULL true false"),isReservedIdentifier:v,hooks:{"#":w,"*":y},modeProps:{fold:["brace","include"]}}),C(["text/x-c++src","text/x-c++hdr"],{name:"clike",keywords:s(l+" "+c),types:f,blockKeywords:s(g+" class try catch"),defKeywords:s(b+" class namespace"),typeFirstDefinitions:!0,atoms:s("true false NULL nullptr"),dontIndentStatements:/^template$/,isIdentifierChar:/[\w\$_~\xa1-\uffff]/,isReservedIdentifier:v,hooks:{"#":w,"*":y,u:_,U:_,L:_,R:_,0:A,1:A,2:A,3:A,4:A,5:A,6:A,7:A,8:A,9:A,token:function(e,t,n){if("variable"==n&&"("==e.peek()&&(";"==t.prevToken||null==t.prevToken||"}"==t.prevToken)&&x(e.current()))return"def"}},namespaceSeparator:"::",modeProps:{fold:["brace","include"]}}),C("text/x-java",{name:"clike",keywords:s("abstract assert break case catch class const continue default do else enum extends final finally for goto if implements import instanceof interface native new package private protected public return static strictfp super switch synchronized this throw throws transient try volatile while @interface"),types:s("var byte short int long float double boolean char void Boolean Byte Character Double Float Integer Long Number Object Short String StringBuffer StringBuilder Void"),blockKeywords:s("catch class do else finally for if switch try while"),defKeywords:s("class interface enum @interface"),typeFirstDefinitions:!0,atoms:s("true false null"),number:/^(?:0x[a-f\d_]+|0b[01_]+|(?:[\d_]+\.?\d*|\.\d+)(?:e[-+]?[\d_]+)?)(u|ll?|l|f)?/i,hooks:{"@":function(e){return!e.match("interface",!1)&&(e.eatWhile(/[\w\$_]/),"meta")},'"':function(e,t){return!!e.match(/""$/)&&(t.tokenize=k,t.tokenize(e,t))}},modeProps:{fold:["brace","import"]}}),C("text/x-csharp",{name:"clike",keywords:s("abstract as async await base break case catch checked class const continue default delegate do else enum event explicit extern finally fixed for foreach goto if implicit in init interface internal is lock namespace new operator out override params private protected public readonly record ref required return sealed sizeof stackalloc static struct switch this throw try typeof unchecked unsafe using virtual void volatile while add alias ascending descending dynamic from get global group into join let orderby partial remove select set value var yield"),types:s("Action Boolean Byte Char DateTime DateTimeOffset Decimal Double Func Guid Int16 Int32 Int64 Object SByte Single String Task TimeSpan UInt16 UInt32 UInt64 bool byte char decimal double short int long object sbyte float string ushort uint ulong"),blockKeywords:s("catch class do else finally for foreach if struct switch try while"),defKeywords:s("class interface namespace record struct var"),typeFirstDefinitions:!0,atoms:s("true false null"),hooks:{"@":function(e,t){return e.eat('"')?(t.tokenize=S,S(e,t)):(e.eatWhile(/[\w\$_]/),"meta")}}}),C("text/x-scala",{name:"clike",keywords:s("abstract case catch class def do else extends final finally for forSome if implicit import lazy match new null object override package private protected return sealed super this throw trait try type val var while with yield _ assert assume require print println printf readLine readBoolean readByte readShort readChar readInt readLong readFloat readDouble"),types:s("AnyVal App Application Array BufferedIterator BigDecimal BigInt Char Console Either Enumeration Equiv Error Exception Fractional Function IndexedSeq Int Integral Iterable Iterator List Map Numeric Nil NotNull Option Ordered Ordering PartialFunction PartialOrdering Product Proxy Range Responder Seq Serializable Set Specializable Stream StringBuilder StringContext Symbol Throwable Traversable TraversableOnce Tuple Unit Vector Boolean Byte Character CharSequence Class ClassLoader Cloneable Comparable Compiler Double Exception Float Integer Long Math Number Object Package Pair Process Runtime Runnable SecurityManager Short StackTraceElement StrictMath String StringBuffer System Thread ThreadGroup ThreadLocal Throwable Triple Void"),multiLineStrings:!0,blockKeywords:s("catch class enum do else finally for forSome if match switch try while"),defKeywords:s("class enum def object package trait type val var"),atoms:s("true false null"),indentStatements:!1,indentSwitch:!1,isOperatorChar:/[+\-*&%=<>!?|\/#:@]/,hooks:{"@":function(e){return e.eatWhile(/[\w\$_]/),"meta"},'"':function(e,t){return!!e.match('""')&&(t.tokenize=k,t.tokenize(e,t))},"'":function(e){return e.match(/^(\\[^'\s]+|[^\\'])'/)?"string-2":(e.eatWhile(/[\w\$_\xa1-\uffff]/),"atom")},"=":function(e,n){var r=n.context;return!("}"!=r.type||!r.align||!e.eat(">"))&&(n.context=new t(r.indented,r.column,r.type,r.info,null,r.prev),"operator")},"/":function(e,t){return!!e.eat("*")&&(t.tokenize=O(1),t.tokenize(e,t))}},modeProps:{closeBrackets:{pairs:'()[]{}""',triples:'"'}}}),C("text/x-kotlin",{name:"clike",keywords:s("package as typealias class interface this super val operator var fun for is in This throw return annotation break continue object if else while do try when !in !is as? file import where by get set abstract enum open inner override private public internal protected catch finally out final vararg reified dynamic companion constructor init sealed field property receiver param sparam lateinit data inline noinline tailrec external annotation crossinline const operator infix suspend actual expect setparam value"),types:s("Boolean Byte Character CharSequence Class ClassLoader Cloneable Comparable Compiler Double Exception Float Integer Long Math Number Object Package Pair Process Runtime Runnable SecurityManager Short StackTraceElement StrictMath String StringBuffer System Thread ThreadGroup ThreadLocal Throwable Triple Void Annotation Any BooleanArray ByteArray Char CharArray DeprecationLevel DoubleArray Enum FloatArray Function Int IntArray Lazy LazyThreadSafetyMode LongArray Nothing ShortArray Unit"),intendSwitch:!1,indentStatements:!1,multiLineStrings:!0,number:/^(?:0x[a-f\d_]+|0b[01_]+|(?:[\d_]+(\.\d+)?|\.\d+)(?:e[-+]?[\d_]+)?)(u|ll?|l|f)?/i,blockKeywords:s("catch class do else finally for if where try while enum"),defKeywords:s("class val var object interface fun"),atoms:s("true false null this"),hooks:{"@":function(e){return e.eatWhile(/[\w\$_]/),"meta"},"*":function(e,t){return"."==t.prevToken?"variable":"operator"},'"':function(e,t){return t.tokenize=function(e){return function(t,n){for(var r,o=!1,i=!1;!t.eol();){if(!e&&!o&&t.match('"')){i=!0;break}if(e&&t.match('"""')){i=!0;break}r=t.next(),!o&&"$"==r&&t.match("{")&&t.skipTo("}"),o=!o&&"\\"==r&&!e}return(i||!e)&&(n.tokenize=null),"string"}}(e.match('""')),t.tokenize(e,t)},"/":function(e,t){return!!e.eat("*")&&(t.tokenize=O(1),t.tokenize(e,t))},indent:function(e,t,n,r){var o=n&&n.charAt(0);return"}"!=e.prevToken&&")"!=e.prevToken||""!=n?"operator"==e.prevToken&&"}"!=n&&"}"!=e.context.type||"variable"==e.prevToken&&"."==o||("}"==e.prevToken||")"==e.prevToken)&&"."==o?2*r+t.indented:t.align&&"}"==t.type?t.indented+(e.context.type==(n||"").charAt(0)?0:r):void 0:e.indented}},modeProps:{closeBrackets:{triples:'"'}}}),C(["x-shader/x-vertex","x-shader/x-fragment"],{name:"clike",keywords:s("sampler1D sampler2D sampler3D samplerCube sampler1DShadow sampler2DShadow const attribute uniform varying break continue discard return for while do if else struct in out inout"),types:s("float int bool void vec2 vec3 vec4 ivec2 ivec3 ivec4 bvec2 bvec3 bvec4 mat2 mat3 mat4"),blockKeywords:s("for while do if else struct"),builtin:s("radians degrees sin cos tan asin acos atan pow exp log exp2 sqrt inversesqrt abs sign floor ceil fract mod min max clamp mix step smoothstep length distance dot cross normalize ftransform faceforward reflect refract matrixCompMult lessThan lessThanEqual greaterThan greaterThanEqual equal notEqual any all not texture1D texture1DProj texture1DLod texture1DProjLod texture2D texture2DProj texture2DLod texture2DProjLod texture3D texture3DProj texture3DLod texture3DProjLod textureCube textureCubeLod shadow1D shadow2D shadow1DProj shadow2DProj shadow1DLod shadow2DLod shadow1DProjLod shadow2DProjLod dFdx dFdy fwidth noise1 noise2 noise3 noise4"),atoms:s("true false gl_FragColor gl_SecondaryColor gl_Normal gl_Vertex gl_MultiTexCoord0 gl_MultiTexCoord1 gl_MultiTexCoord2 gl_MultiTexCoord3 gl_MultiTexCoord4 gl_MultiTexCoord5 gl_MultiTexCoord6 gl_MultiTexCoord7 gl_FogCoord gl_PointCoord gl_Position gl_PointSize gl_ClipVertex gl_FrontColor gl_BackColor gl_FrontSecondaryColor gl_BackSecondaryColor gl_TexCoord gl_FogFragCoord gl_FragCoord gl_FrontFacing gl_FragData gl_FragDepth gl_ModelViewMatrix gl_ProjectionMatrix gl_ModelViewProjectionMatrix gl_TextureMatrix gl_NormalMatrix gl_ModelViewMatrixInverse gl_ProjectionMatrixInverse gl_ModelViewProjectionMatrixInverse gl_TextureMatrixTranspose gl_ModelViewMatrixInverseTranspose gl_ProjectionMatrixInverseTranspose gl_ModelViewProjectionMatrixInverseTranspose gl_TextureMatrixInverseTranspose gl_NormalScale gl_DepthRange gl_ClipPlane gl_Point gl_FrontMaterial gl_BackMaterial gl_LightSource gl_LightModel gl_FrontLightModelProduct gl_BackLightModelProduct gl_TextureColor gl_EyePlaneS gl_EyePlaneT gl_EyePlaneR gl_EyePlaneQ gl_FogParameters gl_MaxLights gl_MaxClipPlanes gl_MaxTextureUnits gl_MaxTextureCoords gl_MaxVertexAttribs gl_MaxVertexUniformComponents gl_MaxVaryingFloats gl_MaxVertexTextureImageUnits gl_MaxTextureImageUnits gl_MaxFragmentUniformComponents gl_MaxCombineTextureImageUnits gl_MaxDrawBuffers"),indentSwitch:!1,hooks:{"#":w},modeProps:{fold:["brace","include"]}}),C("text/x-nesc",{name:"clike",keywords:s(l+" as atomic async call command component components configuration event generic implementation includes interface module new norace nx_struct nx_union post provides signal task uses abstract extends"),types:f,blockKeywords:s(g),atoms:s("null true false"),hooks:{"#":w},modeProps:{fold:["brace","include"]}}),C("text/x-objectivec",{name:"clike",keywords:s(l+" "+u),types:m,builtin:s(d),blockKeywords:s(g+" @synthesize @try @catch @finally @autoreleasepool @synchronized"),defKeywords:s(b+" @interface @implementation @protocol @class"),dontIndentStatements:/^@.*$/,typeFirstDefinitions:!0,atoms:s("YES NO NULL Nil nil true false nullptr"),isReservedIdentifier:v,hooks:{"#":w,"*":y},modeProps:{fold:["brace","include"]}}),C("text/x-objectivec++",{name:"clike",keywords:s(l+" "+u+" "+c),types:m,builtin:s(d),blockKeywords:s(g+" @synthesize @try @catch @finally @autoreleasepool @synchronized class try catch"),defKeywords:s(b+" @interface @implementation @protocol @class class namespace"),dontIndentStatements:/^@.*$|^template$/,typeFirstDefinitions:!0,atoms:s("YES NO NULL Nil nil true false nullptr"),isReservedIdentifier:v,hooks:{"#":w,"*":y,u:_,U:_,L:_,R:_,0:A,1:A,2:A,3:A,4:A,5:A,6:A,7:A,8:A,9:A,token:function(e,t,n){if("variable"==n&&"("==e.peek()&&(";"==t.prevToken||null==t.prevToken||"}"==t.prevToken)&&x(e.current()))return"def"}},namespaceSeparator:"::",modeProps:{fold:["brace","include"]}}),C("text/x-squirrel",{name:"clike",keywords:s("base break clone continue const default delete enum extends function in class foreach local resume return this throw typeof yield constructor instanceof static"),types:f,blockKeywords:s("case catch class else for foreach if switch try while"),defKeywords:s("function local class"),typeFirstDefinitions:!0,atoms:s("true false null"),hooks:{"#":w},modeProps:{fold:["brace","include"]}});var T=null;function I(e){return function(t,n){for(var r,o=!1,i=!1;!t.eol();){if(!o&&t.match('"')&&("single"==e||t.match('""'))){i=!0;break}if(!o&&t.match("``")){T=I(e),i=!0;break}r=t.next(),o="single"==e&&!o&&"\\"==r}return i&&(n.tokenize=null),"string"}}C("text/x-ceylon",{name:"clike",keywords:s("abstracts alias assembly assert assign break case catch class continue dynamic else exists extends finally for function given if import in interface is let module new nonempty object of out outer package return satisfies super switch then this throw try value void while"),types:function(e){var t=e.charAt(0);return t===t.toUpperCase()&&t!==t.toLowerCase()},blockKeywords:s("case catch class dynamic else finally for function if interface module new object switch try while"),defKeywords:s("class dynamic function interface module object package value"),builtin:s("abstract actual aliased annotation by default deprecated doc final formal late license native optional sealed see serializable shared suppressWarnings tagged throws variable"),isPunctuationChar:/[\[\]{}\(\),;\:\.`]/,isOperatorChar:/[+\-*&%=<>!?|^~:\/]/,numberStart:/[\d#$]/,number:/^(?:#[\da-fA-F_]+|\$[01_]+|[\d_]+[kMGTPmunpf]?|[\d_]+\.[\d_]+(?:[eE][-+]?\d+|[kMGTPmunpf]|)|)/i,multiLineStrings:!0,typeFirstDefinitions:!0,atoms:s("true false null larger smaller equal empty finished"),indentSwitch:!1,styleDefs:!1,hooks:{"@":function(e){return e.eatWhile(/[\w\$_]/),"meta"},'"':function(e,t){return t.tokenize=I(e.match('""')?"triple":"single"),t.tokenize(e,t)},"`":function(e,t){return!(!T||!e.match("`"))&&(t.tokenize=T,T=null,t.tokenize(e,t))},"'":function(e){return e.eatWhile(/[\w\$_\xa1-\uffff]/),"atom"},token:function(e,t,n){if(("variable"==n||"type"==n)&&"."==t.prevToken)return"variable-2"}},modeProps:{fold:["brace","import"],closeBrackets:{triples:'"'}}})}(s())),v||(v=1,A=s(),f(),y||(y=1,function(e){e.modeInfo=[{name:"APL",mime:"text/apl",mode:"apl",ext:["dyalog","apl"]},{name:"PGP",mimes:["application/pgp","application/pgp-encrypted","application/pgp-keys","application/pgp-signature"],mode:"asciiarmor",ext:["asc","pgp","sig"]},{name:"ASN.1",mime:"text/x-ttcn-asn",mode:"asn.1",ext:["asn","asn1"]},{name:"Asterisk",mime:"text/x-asterisk",mode:"asterisk",file:/^extensions\.conf$/i},{name:"Brainfuck",mime:"text/x-brainfuck",mode:"brainfuck",ext:["b","bf"]},{name:"C",mime:"text/x-csrc",mode:"clike",ext:["c","h","ino"]},{name:"C++",mime:"text/x-c++src",mode:"clike",ext:["cpp","c++","cc","cxx","hpp","h++","hh","hxx"],alias:["cpp"]},{name:"Cobol",mime:"text/x-cobol",mode:"cobol",ext:["cob","cpy","cbl"]},{name:"C#",mime:"text/x-csharp",mode:"clike",ext:["cs"],alias:["csharp","cs"]},{name:"Clojure",mime:"text/x-clojure",mode:"clojure",ext:["clj","cljc","cljx"]},{name:"ClojureScript",mime:"text/x-clojurescript",mode:"clojure",ext:["cljs"]},{name:"Closure Stylesheets (GSS)",mime:"text/x-gss",mode:"css",ext:["gss"]},{name:"CMake",mime:"text/x-cmake",mode:"cmake",ext:["cmake","cmake.in"],file:/^CMakeLists\.txt$/},{name:"CoffeeScript",mimes:["application/vnd.coffeescript","text/coffeescript","text/x-coffeescript"],mode:"coffeescript",ext:["coffee"],alias:["coffee","coffee-script"]},{name:"Common Lisp",mime:"text/x-common-lisp",mode:"commonlisp",ext:["cl","lisp","el"],alias:["lisp"]},{name:"Cypher",mime:"application/x-cypher-query",mode:"cypher",ext:["cyp","cypher"]},{name:"Cython",mime:"text/x-cython",mode:"python",ext:["pyx","pxd","pxi"]},{name:"Crystal",mime:"text/x-crystal",mode:"crystal",ext:["cr"]},{name:"CSS",mime:"text/css",mode:"css",ext:["css"]},{name:"CQL",mime:"text/x-cassandra",mode:"sql",ext:["cql"]},{name:"D",mime:"text/x-d",mode:"d",ext:["d"]},{name:"Dart",mimes:["application/dart","text/x-dart"],mode:"dart",ext:["dart"]},{name:"diff",mime:"text/x-diff",mode:"diff",ext:["diff","patch"]},{name:"Django",mime:"text/x-django",mode:"django"},{name:"Dockerfile",mime:"text/x-dockerfile",mode:"dockerfile",file:/^Dockerfile$/},{name:"DTD",mime:"application/xml-dtd",mode:"dtd",ext:["dtd"]},{name:"Dylan",mime:"text/x-dylan",mode:"dylan",ext:["dylan","dyl","intr"]},{name:"EBNF",mime:"text/x-ebnf",mode:"ebnf"},{name:"ECL",mime:"text/x-ecl",mode:"ecl",ext:["ecl"]},{name:"edn",mime:"application/edn",mode:"clojure",ext:["edn"]},{name:"Eiffel",mime:"text/x-eiffel",mode:"eiffel",ext:["e"]},{name:"Elm",mime:"text/x-elm",mode:"elm",ext:["elm"]},{name:"Embedded JavaScript",mime:"application/x-ejs",mode:"htmlembedded",ext:["ejs"]},{name:"Embedded Ruby",mime:"application/x-erb",mode:"htmlembedded",ext:["erb"]},{name:"Erlang",mime:"text/x-erlang",mode:"erlang",ext:["erl"]},{name:"Esper",mime:"text/x-esper",mode:"sql"},{name:"Factor",mime:"text/x-factor",mode:"factor",ext:["factor"]},{name:"FCL",mime:"text/x-fcl",mode:"fcl"},{name:"Forth",mime:"text/x-forth",mode:"forth",ext:["forth","fth","4th"]},{name:"Fortran",mime:"text/x-fortran",mode:"fortran",ext:["f","for","f77","f90","f95"]},{name:"F#",mime:"text/x-fsharp",mode:"mllike",ext:["fs"],alias:["fsharp"]},{name:"Gas",mime:"text/x-gas",mode:"gas",ext:["s"]},{name:"Gherkin",mime:"text/x-feature",mode:"gherkin",ext:["feature"]},{name:"GitHub Flavored Markdown",mime:"text/x-gfm",mode:"gfm",file:/^(readme|contributing|history)\.md$/i},{name:"Go",mime:"text/x-go",mode:"go",ext:["go"]},{name:"Groovy",mime:"text/x-groovy",mode:"groovy",ext:["groovy","gradle"],file:/^Jenkinsfile$/},{name:"HAML",mime:"text/x-haml",mode:"haml",ext:["haml"]},{name:"Haskell",mime:"text/x-haskell",mode:"haskell",ext:["hs"]},{name:"Haskell (Literate)",mime:"text/x-literate-haskell",mode:"haskell-literate",ext:["lhs"]},{name:"Haxe",mime:"text/x-haxe",mode:"haxe",ext:["hx"]},{name:"HXML",mime:"text/x-hxml",mode:"haxe",ext:["hxml"]},{name:"ASP.NET",mime:"application/x-aspx",mode:"htmlembedded",ext:["aspx"],alias:["asp","aspx"]},{name:"HTML",mime:"text/html",mode:"htmlmixed",ext:["html","htm","handlebars","hbs"],alias:["xhtml"]},{name:"HTTP",mime:"message/http",mode:"http"},{name:"IDL",mime:"text/x-idl",mode:"idl",ext:["pro"]},{name:"Pug",mime:"text/x-pug",mode:"pug",ext:["jade","pug"],alias:["jade"]},{name:"Java",mime:"text/x-java",mode:"clike",ext:["java"]},{name:"Java Server Pages",mime:"application/x-jsp",mode:"htmlembedded",ext:["jsp"],alias:["jsp"]},{name:"JavaScript",mimes:["text/javascript","text/ecmascript","application/javascript","application/x-javascript","application/ecmascript"],mode:"javascript",ext:["js"],alias:["ecmascript","js","node"]},{name:"JSON",mimes:["application/json","application/x-json"],mode:"javascript",ext:["json","map"],alias:["json5"]},{name:"JSON-LD",mime:"application/ld+json",mode:"javascript",ext:["jsonld"],alias:["jsonld"]},{name:"JSX",mime:"text/jsx",mode:"jsx",ext:["jsx"]},{name:"Jinja2",mime:"text/jinja2",mode:"jinja2",ext:["j2","jinja","jinja2"]},{name:"Julia",mime:"text/x-julia",mode:"julia",ext:["jl"],alias:["jl"]},{name:"Kotlin",mime:"text/x-kotlin",mode:"clike",ext:["kt"]},{name:"LESS",mime:"text/x-less",mode:"css",ext:["less"]},{name:"LiveScript",mime:"text/x-livescript",mode:"livescript",ext:["ls"],alias:["ls"]},{name:"Lua",mime:"text/x-lua",mode:"lua",ext:["lua"]},{name:"Markdown",mime:"text/x-markdown",mode:"markdown",ext:["markdown","md","mkd"]},{name:"mIRC",mime:"text/mirc",mode:"mirc"},{name:"MariaDB SQL",mime:"text/x-mariadb",mode:"sql"},{name:"Mathematica",mime:"text/x-mathematica",mode:"mathematica",ext:["m","nb","wl","wls"]},{name:"Modelica",mime:"text/x-modelica",mode:"modelica",ext:["mo"]},{name:"MUMPS",mime:"text/x-mumps",mode:"mumps",ext:["mps"]},{name:"MS SQL",mime:"text/x-mssql",mode:"sql"},{name:"mbox",mime:"application/mbox",mode:"mbox",ext:["mbox"]},{name:"MySQL",mime:"text/x-mysql",mode:"sql"},{name:"Nginx",mime:"text/x-nginx-conf",mode:"nginx",file:/nginx.*\.conf$/i},{name:"NSIS",mime:"text/x-nsis",mode:"nsis",ext:["nsh","nsi"]},{name:"NTriples",mimes:["application/n-triples","application/n-quads","text/n-triples"],mode:"ntriples",ext:["nt","nq"]},{name:"Objective-C",mime:"text/x-objectivec",mode:"clike",ext:["m"],alias:["objective-c","objc"]},{name:"Objective-C++",mime:"text/x-objectivec++",mode:"clike",ext:["mm"],alias:["objective-c++","objc++"]},{name:"OCaml",mime:"text/x-ocaml",mode:"mllike",ext:["ml","mli","mll","mly"]},{name:"Octave",mime:"text/x-octave",mode:"octave",ext:["m"]},{name:"Oz",mime:"text/x-oz",mode:"oz",ext:["oz"]},{name:"Pascal",mime:"text/x-pascal",mode:"pascal",ext:["p","pas"]},{name:"PEG.js",mime:"null",mode:"pegjs",ext:["jsonld"]},{name:"Perl",mime:"text/x-perl",mode:"perl",ext:["pl","pm"]},{name:"PHP",mimes:["text/x-php","application/x-httpd-php","application/x-httpd-php-open"],mode:"php",ext:["php","php3","php4","php5","php7","phtml"]},{name:"Pig",mime:"text/x-pig",mode:"pig",ext:["pig"]},{name:"Plain Text",mime:"text/plain",mode:"null",ext:["txt","text","conf","def","list","log"]},{name:"PLSQL",mime:"text/x-plsql",mode:"sql",ext:["pls"]},{name:"PostgreSQL",mime:"text/x-pgsql",mode:"sql"},{name:"PowerShell",mime:"application/x-powershell",mode:"powershell",ext:["ps1","psd1","psm1"]},{name:"Properties files",mime:"text/x-properties",mode:"properties",ext:["properties","ini","in"],alias:["ini","properties"]},{name:"ProtoBuf",mime:"text/x-protobuf",mode:"protobuf",ext:["proto"]},{name:"Python",mime:"text/x-python",mode:"python",ext:["BUILD","bzl","py","pyw"],file:/^(BUCK|BUILD)$/},{name:"Puppet",mime:"text/x-puppet",mode:"puppet",ext:["pp"]},{name:"Q",mime:"text/x-q",mode:"q",ext:["q"]},{name:"R",mime:"text/x-rsrc",mode:"r",ext:["r","R"],alias:["rscript"]},{name:"reStructuredText",mime:"text/x-rst",mode:"rst",ext:["rst"],alias:["rst"]},{name:"RPM Changes",mime:"text/x-rpm-changes",mode:"rpm"},{name:"RPM Spec",mime:"text/x-rpm-spec",mode:"rpm",ext:["spec"]},{name:"Ruby",mime:"text/x-ruby",mode:"ruby",ext:["rb"],alias:["jruby","macruby","rake","rb","rbx"]},{name:"Rust",mime:"text/x-rustsrc",mode:"rust",ext:["rs"]},{name:"SAS",mime:"text/x-sas",mode:"sas",ext:["sas"]},{name:"Sass",mime:"text/x-sass",mode:"sass",ext:["sass"]},{name:"Scala",mime:"text/x-scala",mode:"clike",ext:["scala"]},{name:"Scheme",mime:"text/x-scheme",mode:"scheme",ext:["scm","ss"]},{name:"SCSS",mime:"text/x-scss",mode:"css",ext:["scss"]},{name:"Shell",mimes:["text/x-sh","application/x-sh"],mode:"shell",ext:["sh","ksh","bash"],alias:["bash","sh","zsh"],file:/^PKGBUILD$/},{name:"Sieve",mime:"application/sieve",mode:"sieve",ext:["siv","sieve"]},{name:"Slim",mimes:["text/x-slim","application/x-slim"],mode:"slim",ext:["slim"]},{name:"Smalltalk",mime:"text/x-stsrc",mode:"smalltalk",ext:["st"]},{name:"Smarty",mime:"text/x-smarty",mode:"smarty",ext:["tpl"]},{name:"Solr",mime:"text/x-solr",mode:"solr"},{name:"SML",mime:"text/x-sml",mode:"mllike",ext:["sml","sig","fun","smackspec"]},{name:"Soy",mime:"text/x-soy",mode:"soy",ext:["soy"],alias:["closure template"]},{name:"SPARQL",mime:"application/sparql-query",mode:"sparql",ext:["rq","sparql"],alias:["sparul"]},{name:"Spreadsheet",mime:"text/x-spreadsheet",mode:"spreadsheet",alias:["excel","formula"]},{name:"SQL",mime:"text/x-sql",mode:"sql",ext:["sql"]},{name:"SQLite",mime:"text/x-sqlite",mode:"sql"},{name:"Squirrel",mime:"text/x-squirrel",mode:"clike",ext:["nut"]},{name:"Stylus",mime:"text/x-styl",mode:"stylus",ext:["styl"]},{name:"Swift",mime:"text/x-swift",mode:"swift",ext:["swift"]},{name:"sTeX",mime:"text/x-stex",mode:"stex"},{name:"LaTeX",mime:"text/x-latex",mode:"stex",ext:["text","ltx","tex"],alias:["tex"]},{name:"SystemVerilog",mime:"text/x-systemverilog",mode:"verilog",ext:["v","sv","svh"]},{name:"Tcl",mime:"text/x-tcl",mode:"tcl",ext:["tcl"]},{name:"Textile",mime:"text/x-textile",mode:"textile",ext:["textile"]},{name:"TiddlyWiki",mime:"text/x-tiddlywiki",mode:"tiddlywiki"},{name:"Tiki wiki",mime:"text/tiki",mode:"tiki"},{name:"TOML",mime:"text/x-toml",mode:"toml",ext:["toml"]},{name:"Tornado",mime:"text/x-tornado",mode:"tornado"},{name:"troff",mime:"text/troff",mode:"troff",ext:["1","2","3","4","5","6","7","8","9"]},{name:"TTCN",mime:"text/x-ttcn",mode:"ttcn",ext:["ttcn","ttcn3","ttcnpp"]},{name:"TTCN_CFG",mime:"text/x-ttcn-cfg",mode:"ttcn-cfg",ext:["cfg"]},{name:"Turtle",mime:"text/turtle",mode:"turtle",ext:["ttl"]},{name:"TypeScript",mime:"application/typescript",mode:"javascript",ext:["ts"],alias:["ts"]},{name:"TypeScript-JSX",mime:"text/typescript-jsx",mode:"jsx",ext:["tsx"],alias:["tsx"]},{name:"Twig",mime:"text/x-twig",mode:"twig"},{name:"Web IDL",mime:"text/x-webidl",mode:"webidl",ext:["webidl"]},{name:"VB.NET",mime:"text/x-vb",mode:"vb",ext:["vb"]},{name:"VBScript",mime:"text/vbscript",mode:"vbscript",ext:["vbs"]},{name:"Velocity",mime:"text/velocity",mode:"velocity",ext:["vtl"]},{name:"Verilog",mime:"text/x-verilog",mode:"verilog",ext:["v"]},{name:"VHDL",mime:"text/x-vhdl",mode:"vhdl",ext:["vhd","vhdl"]},{name:"Vue.js Component",mimes:["script/x-vue","text/x-vue"],mode:"vue",ext:["vue"]},{name:"XML",mimes:["application/xml","text/xml"],mode:"xml",ext:["xml","xsl","xsd","svg"],alias:["rss","wsdl","xsd"]},{name:"XQuery",mime:"application/xquery",mode:"xquery",ext:["xy","xquery"]},{name:"Yacas",mime:"text/x-yacas",mode:"yacas",ext:["ys"]},{name:"YAML",mimes:["text/x-yaml","text/yaml"],mode:"yaml",ext:["yaml","yml"],alias:["yml"]},{name:"Z80",mime:"text/x-z80",mode:"z80",ext:["z80"]},{name:"mscgen",mime:"text/x-mscgen",mode:"mscgen",ext:["mscgen","mscin","msc"]},{name:"xu",mime:"text/x-xu",mode:"mscgen",ext:["xu"]},{name:"msgenny",mime:"text/x-msgenny",mode:"mscgen",ext:["msgenny"]},{name:"WebAssembly",mime:"text/webassembly",mode:"wast",ext:["wat","wast"]}];for(var t=0;t<e.modeInfo.length;t++){var n=e.modeInfo[t];n.mimes&&(n.mime=n.mimes[0])}e.findModeByMIME=function(t){t=t.toLowerCase();for(var n=0;n<e.modeInfo.length;n++){var r=e.modeInfo[n];if(r.mime==t)return r;if(r.mimes)for(var o=0;o<r.mimes.length;o++)if(r.mimes[o]==t)return r}return/\+xml$/.test(t)?e.findModeByMIME("application/xml"):/\+json$/.test(t)?e.findModeByMIME("application/json"):void 0},e.findModeByExtension=function(t){t=t.toLowerCase();for(var n=0;n<e.modeInfo.length;n++){var r=e.modeInfo[n];if(r.ext)for(var o=0;o<r.ext.length;o++)if(r.ext[o]==t)return r}},e.findModeByFileName=function(t){for(var n=0;n<e.modeInfo.length;n++){var r=e.modeInfo[n];if(r.file&&r.file.test(t))return r}var o=t.lastIndexOf("."),i=o>-1&&t.substring(o+1,t.length);if(i)return e.findModeByExtension(i)},e.findModeByName=function(t){t=t.toLowerCase();for(var n=0;n<e.modeInfo.length;n++){var r=e.modeInfo[n];if(r.name.toLowerCase()==t)return r;if(r.alias)for(var o=0;o<r.alias.length;o++)if(r.alias[o].toLowerCase()==t)return r}}}(s())),A.defineMode("markdown",function(e,t){var n=A.getMode(e,"text/html"),r="null"==n.name;void 0===t.highlightFormatting&&(t.highlightFormatting=!1),void 0===t.maxBlockquoteDepth&&(t.maxBlockquoteDepth=0),void 0===t.taskLists&&(t.taskLists=!1),void 0===t.strikethrough&&(t.strikethrough=!1),void 0===t.emoji&&(t.emoji=!1),void 0===t.fencedCodeBlockHighlighting&&(t.fencedCodeBlockHighlighting=!0),void 0===t.fencedCodeBlockDefaultMode&&(t.fencedCodeBlockDefaultMode="text/plain"),void 0===t.xml&&(t.xml=!0),void 0===t.tokenTypeOverrides&&(t.tokenTypeOverrides={});var o={header:"header",code:"comment",quote:"quote",list1:"variable-2",list2:"variable-3",list3:"keyword",hr:"hr",image:"image",imageAltText:"image-alt-text",imageMarker:"image-marker",formatting:"formatting",linkInline:"link",linkEmail:"link",linkText:"link",linkHref:"string",em:"em",strong:"strong",strikethrough:"strikethrough",emoji:"builtin"};for(var i in o)o.hasOwnProperty(i)&&t.tokenTypeOverrides[i]&&(o[i]=t.tokenTypeOverrides[i]);var s=/^([*\-_])(?:\s*\1){2,}\s*$/,a=/^(?:[*\-+]|^[0-9]+([.)]))\s+/,l=/^\[(x| )\](?=\s)/i,c=t.allowAtxHeaderWithoutSpace?/^(#+)/:/^(#+)(?: |$)/,u=/^ {0,3}(?:\={1,}|-{2,})\s*$/,d=/^[^#!\[\]*_\\<>` "'(~:]+/,h=/^(~~~+|```+)[ \t]*([\w\/+#-]*)[^\n`]*$/,p=/^\s*\[[^\]]+?\]:.*$/,f=/[!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E42\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC9\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDF3C-\uDF3E]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]/;function m(e,t,n){return t.f=t.inline=n,n(e,t)}function g(e,t,n){return t.f=t.block=n,n(e,t)}function b(e){if(e.linkTitle=!1,e.linkHref=!1,e.linkText=!1,e.em=!1,e.strong=!1,e.strikethrough=!1,e.quote=0,e.indentedCode=!1,e.f==y){var t=r;if(!t){var o=A.innerMode(n,e.htmlState);t="xml"==o.mode.name&&null===o.state.tagStart&&!o.state.context&&o.state.tokenize.isInText}t&&(e.f=S,e.block=w,e.htmlState=null)}return e.trailingSpace=0,e.trailingSpaceNewLine=!1,e.prevLine=e.thisLine,e.thisLine={stream:null},null}function w(n,r){var i=n.column()===r.indentation,d=function(e){return!e||!/\S/.test(e.string)}(r.prevLine.stream),f=r.indentedCode,g=r.prevLine.hr,b=!1!==r.list,w=(r.listStack[r.listStack.length-1]||0)+3;r.indentedCode=!1;var y=r.indentation;if(null===r.indentationDiff&&(r.indentationDiff=r.indentation,b)){for(r.list=null;y<r.listStack[r.listStack.length-1];)r.listStack.pop(),r.listStack.length?r.indentation=r.listStack[r.listStack.length-1]:r.list=!1;!1!==r.list&&(r.indentationDiff=y-r.listStack[r.listStack.length-1])}var x=!(d||g||r.prevLine.header||b&&f||r.prevLine.fencedCodeEnd),S=(!1===r.list||g||d)&&r.indentation<=w&&n.match(s),E=null;if(r.indentationDiff>=4&&(f||r.prevLine.fencedCodeEnd||r.prevLine.header||d))return n.skipToEnd(),r.indentedCode=!0,o.code;if(n.eatSpace())return null;if(i&&r.indentation<=w&&(E=n.match(c))&&E[1].length<=6)return r.quote=0,r.header=E[1].length,r.thisLine.header=!0,t.highlightFormatting&&(r.formatting="header"),r.f=r.inline,_(r);if(r.indentation<=w&&n.eat(">"))return r.quote=i?1:r.quote+1,t.highlightFormatting&&(r.formatting="quote"),n.eatSpace(),_(r);if(!S&&!r.setext&&i&&r.indentation<=w&&(E=n.match(a))){var C=E[1]?"ol":"ul";return r.indentation=y+n.current().length,r.list=!0,r.quote=0,r.listStack.push(r.indentation),r.em=!1,r.strong=!1,r.code=!1,r.strikethrough=!1,t.taskLists&&n.match(l,!1)&&(r.taskList=!0),r.f=r.inline,t.highlightFormatting&&(r.formatting=["list","list-"+C]),_(r)}return i&&r.indentation<=w&&(E=n.match(h,!0))?(r.quote=0,r.fencedEndRE=new RegExp(E[1]+"+ *$"),r.localMode=t.fencedCodeBlockHighlighting&&function(t){if(A.findModeByName){var n=A.findModeByName(t);n&&(t=n.mime||n.mimes[0])}var r=A.getMode(e,t);return"null"==r.name?null:r}(E[2]||t.fencedCodeBlockDefaultMode),r.localMode&&(r.localState=A.startState(r.localMode)),r.f=r.block=v,t.highlightFormatting&&(r.formatting="code-block"),r.code=-1,_(r)):r.setext||!(x&&b||r.quote||!1!==r.list||r.code||S||p.test(n.string))&&(E=n.lookAhead(1))&&(E=E.match(u))?(r.setext?(r.header=r.setext,r.setext=0,n.skipToEnd(),t.highlightFormatting&&(r.formatting="header")):(r.header="="==E[0].charAt(0)?1:2,r.setext=r.header),r.thisLine.header=!0,r.f=r.inline,_(r)):S?(n.skipToEnd(),r.hr=!0,r.thisLine.hr=!0,o.hr):"["===n.peek()?m(n,r,O):m(n,r,r.inline)}function y(e,t){var o=n.token(e,t.htmlState);if(!r){var i=A.innerMode(n,t.htmlState);("xml"==i.mode.name&&null===i.state.tagStart&&!i.state.context&&i.state.tokenize.isInText||t.md_inside&&e.current().indexOf(">")>-1)&&(t.f=S,t.block=w,t.htmlState=null)}return o}function v(e,n){var r,i=n.listStack[n.listStack.length-1]||0,s=n.indentation<i,a=i+3;return n.fencedEndRE&&n.indentation<=a&&(s||e.match(n.fencedEndRE))?(t.highlightFormatting&&(n.formatting="code-block"),s||(r=_(n)),n.localMode=n.localState=null,n.block=w,n.f=S,n.fencedEndRE=null,n.code=0,n.thisLine.fencedCodeEnd=!0,s?g(e,n,n.block):r):n.localMode?n.localMode.token(e,n.localState):(e.skipToEnd(),o.code)}function _(e){var n=[];if(e.formatting){n.push(o.formatting),"string"==typeof e.formatting&&(e.formatting=[e.formatting]);for(var r=0;r<e.formatting.length;r++)n.push(o.formatting+"-"+e.formatting[r]),"header"===e.formatting[r]&&n.push(o.formatting+"-"+e.formatting[r]+"-"+e.header),"quote"===e.formatting[r]&&(!t.maxBlockquoteDepth||t.maxBlockquoteDepth>=e.quote?n.push(o.formatting+"-"+e.formatting[r]+"-"+e.quote):n.push("error"))}if(e.taskOpen)return n.push("meta"),n.length?n.join(" "):null;if(e.taskClosed)return n.push("property"),n.length?n.join(" "):null;if(e.linkHref?n.push(o.linkHref,"url"):(e.strong&&n.push(o.strong),e.em&&n.push(o.em),e.strikethrough&&n.push(o.strikethrough),e.emoji&&n.push(o.emoji),e.linkText&&n.push(o.linkText),e.code&&n.push(o.code),e.image&&n.push(o.image),e.imageAltText&&n.push(o.imageAltText,"link"),e.imageMarker&&n.push(o.imageMarker)),e.header&&n.push(o.header,o.header+"-"+e.header),e.quote&&(n.push(o.quote),!t.maxBlockquoteDepth||t.maxBlockquoteDepth>=e.quote?n.push(o.quote+"-"+e.quote):n.push(o.quote+"-"+t.maxBlockquoteDepth)),!1!==e.list){var i=(e.listStack.length-1)%3;i?1===i?n.push(o.list2):n.push(o.list3):n.push(o.list1)}return e.trailingSpaceNewLine?n.push("trailing-space-new-line"):e.trailingSpace&&n.push("trailing-space-"+(e.trailingSpace%2?"a":"b")),n.length?n.join(" "):null}function x(e,t){if(e.match(d,!0))return _(t)}function S(e,r){var i=r.text(e,r);if(typeof i<"u")return i;if(r.list)return r.list=null,_(r);if(r.taskList)return" "===e.match(l,!0)[1]?r.taskOpen=!0:r.taskClosed=!0,t.highlightFormatting&&(r.formatting="task"),r.taskList=!1,_(r);if(r.taskOpen=!1,r.taskClosed=!1,r.header&&e.match(/^#+$/,!0))return t.highlightFormatting&&(r.formatting="header"),_(r);var s=e.next();if(r.linkTitle){r.linkTitle=!1;var a=s;"("===s&&(a=")");var c="^\\s*(?:[^"+(a=(a+"").replace(/([.?*+^\[\]\\(){}|-])/g,"\\$1"))+"\\\\]+|\\\\\\\\|\\\\.)"+a;if(e.match(new RegExp(c),!0))return o.linkHref}if("`"===s){var u=r.formatting;t.highlightFormatting&&(r.formatting="code"),e.eatWhile("`");var d=e.current().length;if(0==r.code&&(!r.quote||1==d))return r.code=d,_(r);if(d==r.code){var h=_(r);return r.code=0,h}return r.formatting=u,_(r)}if(r.code)return _(r);if("\\"===s&&(e.next(),t.highlightFormatting)){var p=_(r),m=o.formatting+"-escape";return p?p+" "+m:m}if("!"===s&&e.match(/\[[^\]]*\] ?(?:\(|\[)/,!1))return r.imageMarker=!0,r.image=!0,t.highlightFormatting&&(r.formatting="image"),_(r);if("["===s&&r.imageMarker&&e.match(/[^\]]*\](\(.*?\)| ?\[.*?\])/,!1))return r.imageMarker=!1,r.imageAltText=!0,t.highlightFormatting&&(r.formatting="image"),_(r);if("]"===s&&r.imageAltText){t.highlightFormatting&&(r.formatting="image");p=_(r);return r.imageAltText=!1,r.image=!1,r.inline=r.f=C,p}if("["===s&&!r.image)return r.linkText&&e.match(/^.*?\]/)||(r.linkText=!0,t.highlightFormatting&&(r.formatting="link")),_(r);if("]"===s&&r.linkText){t.highlightFormatting&&(r.formatting="link");p=_(r);return r.linkText=!1,r.inline=r.f=e.match(/\(.*?\)| ?\[.*?\]/,!1)?C:S,p}if("<"===s&&e.match(/^(https?|ftps?):\/\/(?:[^\\>]|\\.)+>/,!1))return r.f=r.inline=E,t.highlightFormatting&&(r.formatting="link"),(p=_(r))?p+=" ":p="",p+o.linkInline;if("<"===s&&e.match(/^[^> \\]+@(?:[^\\>]|\\.)+>/,!1))return r.f=r.inline=E,t.highlightFormatting&&(r.formatting="link"),(p=_(r))?p+=" ":p="",p+o.linkEmail;if(t.xml&&"<"===s&&e.match(/^(!--|\?|!\[CDATA\[|[a-z][a-z0-9-]*(?:\s+[a-z_:.\-]+(?:\s*=\s*[^>]+)?)*\s*(?:>|$))/i,!1)){var b=e.string.indexOf(">",e.pos);if(-1!=b){var w=e.string.substring(e.start,b);/markdown\s*=\s*('|"){0,1}1('|"){0,1}/.test(w)&&(r.md_inside=!0)}return e.backUp(1),r.htmlState=A.startState(n),g(e,r,y)}if(t.xml&&"<"===s&&e.match(/^\/\w*?>/))return r.md_inside=!1,"tag";if("*"===s||"_"===s){for(var v=1,x=1==e.pos?" ":e.string.charAt(e.pos-2);v<3&&e.eat(s);)v++;var k=e.peek()||" ",O=!/\s/.test(k)&&(!f.test(k)||/\s/.test(x)||f.test(x)),T=!/\s/.test(x)&&(!f.test(x)||/\s/.test(k)||f.test(k)),I=null,B=null;if(v%2&&(r.em||!O||"*"!==s&&T&&!f.test(x)?r.em==s&&T&&("*"===s||!O||f.test(k))&&(I=!1):I=!0),v>1&&(r.strong||!O||"*"!==s&&T&&!f.test(x)?r.strong==s&&T&&("*"===s||!O||f.test(k))&&(B=!1):B=!0),null!=B||null!=I)return t.highlightFormatting&&(r.formatting=null==I?"strong":null==B?"em":"strong em"),!0===I&&(r.em=s),!0===B&&(r.strong=s),h=_(r),!1===I&&(r.em=!1),!1===B&&(r.strong=!1),h}else if(" "===s&&(e.eat("*")||e.eat("_"))){if(" "===e.peek())return _(r);e.backUp(1)}if(t.strikethrough)if("~"===s&&e.eatWhile(s)){if(r.strikethrough)return t.highlightFormatting&&(r.formatting="strikethrough"),h=_(r),r.strikethrough=!1,h;if(e.match(/^[^\s]/,!1))return r.strikethrough=!0,t.highlightFormatting&&(r.formatting="strikethrough"),_(r)}else if(" "===s&&e.match("~~",!0)){if(" "===e.peek())return _(r);e.backUp(2)}if(t.emoji&&":"===s&&e.match(/^(?:[a-z_\d+][a-z_\d+-]*|\-[a-z_\d+][a-z_\d+-]*):/)){r.emoji=!0,t.highlightFormatting&&(r.formatting="emoji");var M=_(r);return r.emoji=!1,M}return" "===s&&(e.match(/^ +$/,!1)?r.trailingSpace++:r.trailingSpace&&(r.trailingSpaceNewLine=!0)),_(r)}function E(e,n){if(">"===e.next()){n.f=n.inline=S,t.highlightFormatting&&(n.formatting="link");var r=_(n);return r?r+=" ":r="",r+o.linkInline}return e.match(/^[^>]+/,!0),o.linkInline}function C(e,n){if(e.eatSpace())return null;var r=e.next();return"("===r||"["===r?(n.f=n.inline=function(e){return function(n,r){if(n.next()===e){r.f=r.inline=S,t.highlightFormatting&&(r.formatting="link-string");var o=_(r);return r.linkHref=!1,o}return n.match(k[e]),r.linkHref=!0,_(r)}}("("===r?")":"]"),t.highlightFormatting&&(n.formatting="link-string"),n.linkHref=!0,_(n)):"error"}var k={")":/^(?:[^\\\(\)]|\\.|\((?:[^\\\(\)]|\\.)*\))*?(?=\))/,"]":/^(?:[^\\\[\]]|\\.|\[(?:[^\\\[\]]|\\.)*\])*?(?=\])/};function O(e,n){return e.match(/^([^\]\\]|\\.)*\]:/,!1)?(n.f=T,e.next(),t.highlightFormatting&&(n.formatting="link"),n.linkText=!0,_(n)):m(e,n,S)}function T(e,n){if(e.match("]:",!0)){n.f=n.inline=I,t.highlightFormatting&&(n.formatting="link");var r=_(n);return n.linkText=!1,r}return e.match(/^([^\]\\]|\\.)+/,!0),o.linkText}function I(e,t){return e.eatSpace()?null:(e.match(/^[^\s]+/,!0),void 0===e.peek()?t.linkTitle=!0:e.match(/^(?:\s+(?:"(?:[^"\\]|\\.)+"|'(?:[^'\\]|\\.)+'|\((?:[^)\\]|\\.)+\)))?/,!0),t.f=t.inline=S,o.linkHref+" url")}var B={startState:function(){return{f:w,prevLine:{stream:null},thisLine:{stream:null},block:w,htmlState:null,indentation:0,inline:S,text:x,formatting:!1,linkText:!1,linkHref:!1,linkTitle:!1,code:0,em:!1,strong:!1,header:0,setext:0,hr:!1,taskList:!1,list:!1,listStack:[],quote:0,trailingSpace:0,trailingSpaceNewLine:!1,strikethrough:!1,emoji:!1,fencedEndRE:null}},copyState:function(e){return{f:e.f,prevLine:e.prevLine,thisLine:e.thisLine,block:e.block,htmlState:e.htmlState&&A.copyState(n,e.htmlState),indentation:e.indentation,localMode:e.localMode,localState:e.localMode?A.copyState(e.localMode,e.localState):null,inline:e.inline,text:e.text,formatting:!1,linkText:e.linkText,linkTitle:e.linkTitle,linkHref:e.linkHref,code:e.code,em:e.em,strong:e.strong,strikethrough:e.strikethrough,emoji:e.emoji,header:e.header,setext:e.setext,hr:e.hr,taskList:e.taskList,list:e.list,listStack:e.listStack.slice(0),quote:e.quote,indentedCode:e.indentedCode,trailingSpace:e.trailingSpace,trailingSpaceNewLine:e.trailingSpaceNewLine,md_inside:e.md_inside,fencedEndRE:e.fencedEndRE}},token:function(e,t){if(t.formatting=!1,e!=t.thisLine.stream){if(t.header=0,t.hr=!1,e.match(/^\s*$/,!0))return b(t),null;if(t.prevLine=t.thisLine,t.thisLine={stream:e},t.taskList=!1,t.trailingSpace=0,t.trailingSpaceNewLine=!1,!t.localState&&(t.f=t.block,t.f!=y)){var n=e.match(/^\s*/,!0)[0].replace(/\t/g,"    ").length;if(t.indentation=n,t.indentationDiff=null,n>0)return null}}return t.f(e,t)},innerMode:function(e){return e.block==y?{state:e.htmlState,mode:n}:e.localState?{state:e.localState,mode:e.localMode}:{state:e,mode:B}},indent:function(e,t,r){return e.block==y&&n.indent?n.indent(e.htmlState,t,r):e.localState&&e.localMode.indent?e.localMode.indent(e.localState,t,r):A.Pass},blankLine:b,getType:_,blockCommentStart:"\x3c!--",blockCommentEnd:"--\x3e",closeBrackets:"()[]{}''\"\"``",fold:"markdown"};return B},"xml"),A.defineMIME("text/markdown","markdown"),A.defineMIME("text/x-markdown","markdown")),_||(_=1,function(e){function t(e){e.state.placeholder&&(e.state.placeholder.parentNode.removeChild(e.state.placeholder),e.state.placeholder=null)}function n(e){t(e);var n=e.state.placeholder=document.createElement("pre");n.style.cssText="height: 0; overflow: visible",n.style.direction=e.getOption("direction"),n.className="CodeMirror-placeholder CodeMirror-line-like";var r=e.getOption("placeholder");"string"==typeof r&&(r=document.createTextNode(r)),n.appendChild(r),e.display.lineSpace.insertBefore(n,e.display.lineSpace.firstChild)}function r(e){i(e)&&n(e)}function o(e){var r=e.getWrapperElement(),o=i(e);r.className=r.className.replace(" CodeMirror-empty","")+(o?" CodeMirror-empty":""),o?n(e):t(e)}function i(e){return 1===e.lineCount()&&""===e.getLine(0)}e.defineOption("placeholder","",function(i,s,a){var l=a&&a!=e.Init;if(s&&!l)i.on("blur",r),i.on("change",o),i.on("swapDoc",o),e.on(i.getInputField(),"compositionupdate",i.state.placeholderCompose=function(){!function(e){setTimeout(function(){var r=!1;if(1==e.lineCount()){var o=e.getInputField();r="TEXTAREA"==o.nodeName?!e.getLine(0).length:!/[^\u200b]/.test(o.querySelector(".CodeMirror-line").textContent)}r?n(e):t(e)},20)}(i)}),o(i);else if(!s&&l){i.off("blur",r),i.off("change",o),i.off("swapDoc",o),e.off(i.getInputField(),"compositionupdate",i.state.placeholderCompose),t(i);var c=i.getWrapperElement();c.className=c.className.replace(" CodeMirror-empty","")}s&&!i.hasFocus()&&r(i)})}(s())),x||(x=1,function(e){function t(e,t){if(!e.hasOwnProperty(t))throw new Error("Undefined state "+t+" in simple mode")}function n(e,t){if(!e)return/(?:)/;var n="";return e instanceof RegExp?(e.ignoreCase&&(n="i"),e.unicode&&(n+="u"),e=e.source):e=String(e),new RegExp((!1===t?"":"^")+"(?:"+e+")",n)}function r(e,r){(e.next||e.push)&&t(r,e.next||e.push),this.regex=n(e.regex),this.token=function(e){if(!e)return null;if(e.apply)return e;if("string"==typeof e)return e.replace(/\./g," ");for(var t=[],n=0;n<e.length;n++)t.push(e[n]&&e[n].replace(/\./g," "));return t}(e.token),this.data=e}function o(e,t){return function(n,r){if(r.pending){var o=r.pending.shift();return 0==r.pending.length&&(r.pending=null),n.pos+=o.text.length,o.token}if(r.local){if(r.local.end&&n.match(r.local.end)){var i=r.local.endToken||null;return r.local=r.localState=null,i}var a;return i=r.local.mode.token(n,r.localState),r.local.endScan&&(a=r.local.endScan.exec(n.current()))&&(n.pos=n.start+a.index),i}for(var l=e[r.state],c=0;c<l.length;c++){var u=l[c],d=(!u.data.sol||n.sol())&&n.match(u.regex);if(d){u.data.next?r.state=u.data.next:u.data.push?((r.stack||(r.stack=[])).push(r.state),r.state=u.data.push):u.data.pop&&r.stack&&r.stack.length&&(r.state=r.stack.pop()),u.data.mode&&s(t,r,u.data.mode,u.token),u.data.indent&&r.indent.push(n.indentation()+t.indentUnit),u.data.dedent&&r.indent.pop();var h=u.token;if(h&&h.apply&&(h=h(d)),d.length>2&&u.token&&"string"!=typeof u.token){for(var p=2;p<d.length;p++)d[p]&&(r.pending||(r.pending=[])).push({text:d[p],token:u.token[p-1]});return n.backUp(d[0].length-(d[1]?d[1].length:0)),h[0]}return h&&h.join?h[0]:h}}return n.next(),null}}function i(e,t){if(e===t)return!0;if(!e||"object"!=typeof e||!t||"object"!=typeof t)return!1;var n=0;for(var r in e)if(e.hasOwnProperty(r)){if(!t.hasOwnProperty(r)||!i(e[r],t[r]))return!1;n++}for(var r in t)t.hasOwnProperty(r)&&n--;return 0==n}function s(t,r,o,s){var a;if(o.persistent)for(var l=r.persistentStates;l&&!a;l=l.next)(o.spec?i(o.spec,l.spec):o.mode==l.mode)&&(a=l);var c=a?a.mode:o.mode||e.getMode(t,o.spec),u=a?a.state:e.startState(c);o.persistent&&!a&&(r.persistentStates={mode:c,spec:o.spec,state:u,next:r.persistentStates}),r.localState=u,r.local={mode:c,end:o.end&&n(o.end),endScan:o.end&&!1!==o.forceEnd&&n(o.end,!1),endToken:s&&s.join?s[s.length-1]:s}}function a(t,n){return function(r,o,i){if(r.local&&r.local.mode.indent)return r.local.mode.indent(r.localState,o,i);if(null==r.indent||r.local||n.dontIndentStates&&function(e,t){for(var n=0;n<t.length;n++)if(t[n]===e)return!0}(r.state,n.dontIndentStates)>-1)return e.Pass;var s=r.indent.length-1,a=t[r.state];e:for(;;){for(var l=0;l<a.length;l++){var c=a[l];if(c.data.dedent&&!1!==c.data.dedentIfLineStart){var u=c.regex.exec(o);if(u&&u[0]){s--,(c.next||c.push)&&(a=t[c.next||c.push]),o=o.slice(u[0].length);continue e}}}break}return s<0?0:r.indent[s]}}e.defineSimpleMode=function(t,n){e.defineMode(t,function(t){return e.simpleMode(t,n)})},e.simpleMode=function(n,i){t(i,"start");var s={},l=i.meta||{},c=!1;for(var u in i)if(u!=l&&i.hasOwnProperty(u))for(var d=s[u]=[],h=i[u],p=0;p<h.length;p++){var f=h[p];d.push(new r(f,i)),(f.indent||f.dedent)&&(c=!0)}var m={startState:function(){return{state:"start",pending:null,local:null,localState:null,indent:c?[]:null}},copyState:function(t){var n={state:t.state,pending:t.pending,local:t.local,localState:null,indent:t.indent&&t.indent.slice(0)};t.localState&&(n.localState=e.copyState(t.local.mode,t.localState)),t.stack&&(n.stack=t.stack.slice(0));for(var r=t.persistentStates;r;r=r.next)n.persistentStates={mode:r.mode,spec:r.spec,state:r.state==t.localState?n.localState:e.copyState(r.mode,r.state),next:n.persistentStates};return n},token:o(s,n),innerMode:function(e){return e.local&&{mode:e.local.mode,state:e.localState}},indent:a(s,l)};if(l)for(var g in l)l.hasOwnProperty(g)&&(m[g]=l[g]);return m}}(s())),S||(S=1,function(e){e.defineMode("yaml",function(){var e=new RegExp("\\b(("+["true","false","on","off","yes","no"].join(")|(")+"))$","i");return{token:function(t,n){var r=t.peek(),o=n.escaped;if(n.escaped=!1,"#"==r&&(0==t.pos||/\s/.test(t.string.charAt(t.pos-1))))return t.skipToEnd(),"comment";if(t.match(/^('([^']|\\.)*'?|"([^"]|\\.)*"?)/))return"string";if(n.literal&&t.indentation()>n.keyCol)return t.skipToEnd(),"string";if(n.literal&&(n.literal=!1),t.sol()){if(n.keyCol=0,n.pair=!1,n.pairStart=!1,t.match("---")||t.match("..."))return"def";if(t.match(/\s*-\s+/))return"meta"}if(t.match(/^(\{|\}|\[|\])/))return"{"==r?n.inlinePairs++:"}"==r?n.inlinePairs--:"["==r?n.inlineList++:n.inlineList--,"meta";if(n.inlineList>0&&!o&&","==r)return t.next(),"meta";if(n.inlinePairs>0&&!o&&","==r)return n.keyCol=0,n.pair=!1,n.pairStart=!1,t.next(),"meta";if(n.pairStart){if(t.match(/^\s*(\||\>)\s*/))return n.literal=!0,"meta";if(t.match(/^\s*(\&|\*)[a-z0-9\._-]+\b/i))return"variable-2";if(0==n.inlinePairs&&t.match(/^\s*-?[0-9\.\,]+\s?$/)||n.inlinePairs>0&&t.match(/^\s*-?[0-9\.\,]+\s?(?=(,|}))/))return"number";if(t.match(e))return"keyword"}return!n.pair&&t.match(/^\s*(?:[,\[\]{}&*!|>'"%@`][^\s'":]|[^\s,\[\]{}#&*!|>'"%@`])[^#:]*(?=:($|\s))/)?(n.pair=!0,n.keyCol=t.indentation(),"atom"):n.pair&&t.match(/^:\s*/)?(n.pairStart=!0,"meta"):(n.pairStart=!1,n.escaped="\\"==r,t.next(),null)},startState:function(){return{pair:!1,pairStart:!1,keyCol:0,inlinePairs:0,inlineList:0,literal:!1,escaped:!1}},lineComment:"#",fold:"indent"}}),e.defineMIME("text/x-yaml","yaml"),e.defineMIME("text/yaml","yaml")}(s()))},"./node_modules/playwright-core/lib/vite/recorder/assets/codeMirrorModule-C3UTv-Ge.css":e=>{"use strict";e.exports='.CodeMirror{font-family:monospace;height:300px;color:#000;direction:ltr}.CodeMirror-lines{padding:4px 0}.CodeMirror pre.CodeMirror-line,.CodeMirror pre.CodeMirror-line-like{padding:0 4px}.CodeMirror-scrollbar-filler,.CodeMirror-gutter-filler{background-color:#fff}.CodeMirror-gutters{border-right:1px solid #ddd;background-color:#f7f7f7;white-space:nowrap}.CodeMirror-linenumber{padding:0 3px 0 5px;min-width:20px;text-align:right;color:#999;white-space:nowrap}.CodeMirror-guttermarker{color:#000}.CodeMirror-guttermarker-subtle{color:#999}.CodeMirror-cursor{border-left:1px solid black;border-right:none;width:0}.CodeMirror div.CodeMirror-secondarycursor{border-left:1px solid silver}.cm-fat-cursor .CodeMirror-cursor{width:auto;border:0!important;background:#7e7}.cm-fat-cursor div.CodeMirror-cursors{z-index:1}.cm-fat-cursor .CodeMirror-line::selection,.cm-fat-cursor .CodeMirror-line>span::selection,.cm-fat-cursor .CodeMirror-line>span>span::selection{background:transparent}.cm-fat-cursor .CodeMirror-line::-moz-selection,.cm-fat-cursor .CodeMirror-line>span::-moz-selection,.cm-fat-cursor .CodeMirror-line>span>span::-moz-selection{background:transparent}.cm-fat-cursor{caret-color:transparent}@-moz-keyframes blink{50%{background-color:transparent}}@-webkit-keyframes blink{50%{background-color:transparent}}@keyframes blink{50%{background-color:transparent}}.cm-tab{display:inline-block;text-decoration:inherit}.CodeMirror-rulers{position:absolute;left:0;right:0;top:-50px;bottom:0;overflow:hidden}.CodeMirror-ruler{border-left:1px solid #ccc;top:0;bottom:0;position:absolute}.cm-s-default .cm-header{color:#00f}.cm-s-default .cm-quote{color:#090}.cm-negative{color:#d44}.cm-positive{color:#292}.cm-header,.cm-strong{font-weight:700}.cm-em{font-style:italic}.cm-link{text-decoration:underline}.cm-strikethrough{text-decoration:line-through}.cm-s-default .cm-keyword{color:#708}.cm-s-default .cm-atom{color:#219}.cm-s-default .cm-number{color:#164}.cm-s-default .cm-def{color:#00f}.cm-s-default .cm-variable-2{color:#05a}.cm-s-default .cm-variable-3,.cm-s-default .cm-type{color:#085}.cm-s-default .cm-comment{color:#a50}.cm-s-default .cm-string{color:#a11}.cm-s-default .cm-string-2{color:#f50}.cm-s-default .cm-meta,.cm-s-default .cm-qualifier{color:#555}.cm-s-default .cm-builtin{color:#30a}.cm-s-default .cm-bracket{color:#997}.cm-s-default .cm-tag{color:#170}.cm-s-default .cm-attribute{color:#00c}.cm-s-default .cm-hr{color:#999}.cm-s-default .cm-link{color:#00c}.cm-s-default .cm-error,.cm-invalidchar{color:red}.CodeMirror-composing{border-bottom:2px solid}div.CodeMirror span.CodeMirror-matchingbracket{color:#0b0}div.CodeMirror span.CodeMirror-nonmatchingbracket{color:#a22}.CodeMirror-matchingtag{background:#ff96004d}.CodeMirror-activeline-background{background:#e8f2ff}.CodeMirror{position:relative;overflow:hidden;background:#fff}.CodeMirror-scroll{overflow:scroll!important;margin-bottom:-50px;margin-right:-50px;padding-bottom:50px;height:100%;outline:none;position:relative;z-index:0}.CodeMirror-sizer{position:relative;border-right:50px solid transparent}.CodeMirror-vscrollbar,.CodeMirror-hscrollbar,.CodeMirror-scrollbar-filler,.CodeMirror-gutter-filler{position:absolute;z-index:6;display:none;outline:none}.CodeMirror-vscrollbar{right:0;top:0;overflow-x:hidden;overflow-y:scroll}.CodeMirror-hscrollbar{bottom:0;left:0;overflow-y:hidden;overflow-x:scroll}.CodeMirror-scrollbar-filler{right:0;bottom:0}.CodeMirror-gutter-filler{left:0;bottom:0}.CodeMirror-gutters{position:absolute;left:0;top:0;min-height:100%;z-index:3}.CodeMirror-gutter{white-space:normal;height:100%;display:inline-block;vertical-align:top;margin-bottom:-50px}.CodeMirror-gutter-wrapper{position:absolute;z-index:4;background:none!important;border:none!important}.CodeMirror-gutter-background{position:absolute;top:0;bottom:0;z-index:4}.CodeMirror-gutter-elt{position:absolute;cursor:default;z-index:4}.CodeMirror-gutter-wrapper ::selection{background-color:transparent}.CodeMirror-gutter-wrapper ::-moz-selection{background-color:transparent}.CodeMirror-lines{cursor:text;min-height:1px}.CodeMirror pre.CodeMirror-line,.CodeMirror pre.CodeMirror-line-like{-moz-border-radius:0;-webkit-border-radius:0;border-radius:0;border-width:0;background:transparent;font-family:inherit;font-size:inherit;margin:0;white-space:pre;word-wrap:normal;line-height:inherit;color:inherit;z-index:2;position:relative;overflow:visible;-webkit-tap-highlight-color:transparent;-webkit-font-variant-ligatures:contextual;font-variant-ligatures:contextual}.CodeMirror-wrap pre.CodeMirror-line,.CodeMirror-wrap pre.CodeMirror-line-like{word-wrap:break-word;white-space:pre-wrap;word-break:normal}.CodeMirror-linebackground{position:absolute;left:0;right:0;top:0;bottom:0;z-index:0}.CodeMirror-linewidget{position:relative;z-index:2;padding:.1px}.CodeMirror-rtl pre{direction:rtl}.CodeMirror-code{outline:none}.CodeMirror-scroll,.CodeMirror-sizer,.CodeMirror-gutter,.CodeMirror-gutters,.CodeMirror-linenumber{-moz-box-sizing:content-box;box-sizing:content-box}.CodeMirror-measure{position:absolute;width:100%;height:0;overflow:hidden;visibility:hidden}.CodeMirror-cursor{position:absolute;pointer-events:none}.CodeMirror-measure pre{position:static}div.CodeMirror-cursors{visibility:hidden;position:relative;z-index:3}div.CodeMirror-dragcursors,.CodeMirror-focused div.CodeMirror-cursors{visibility:visible}.CodeMirror-selected{background:#d9d9d9}.CodeMirror-focused .CodeMirror-selected{background:#d7d4f0}.CodeMirror-crosshair{cursor:crosshair}.CodeMirror-line::selection,.CodeMirror-line>span::selection,.CodeMirror-line>span>span::selection{background:#d7d4f0}.CodeMirror-line::-moz-selection,.CodeMirror-line>span::-moz-selection,.CodeMirror-line>span>span::-moz-selection{background:#d7d4f0}.cm-searching{background-color:#ffa;background-color:#ff06}.cm-force-border{padding-right:.1px}@media print{.CodeMirror div.CodeMirror-cursors{visibility:hidden}}.cm-tab-wrap-hack:after{content:""}span.CodeMirror-selectedtext{background:none}\n'},"./node_modules/playwright-core/lib/vite/recorder/assets/codicon-DCmgc-ay.ttf":e=>{"use strict";e.exports="data:font/ttf;base64,AAEAAAALAIAAAwAwR1NVQiCLJXoAAAE4AAAAVE9TLzI3T0tHAAABjAAAAGBjbWFwQ5s/ewAACSQAABreZ2x5ZvJtKHkAACekAAD3FGhlYWRYl6BTAAAA4AAAADZoaGVhAlsC+QAAALwAAAAkaG10eBxB//oAAAHsAAAHOGxvY2EFi8dWAAAkBAAAA55tYXhwAu8BgQAAARgAAAAgbmFtZZP3uUsAAR64AAAB+HBvc3RjGEbCAAEgsAAAGSQAAQAAASwAAAAAASz////+AS4AAQAAAAAAAAAAAAAAAAAAAc4AAQAAAAEAAFT7+XFfDzz1AAsBLAAAAAB8JbCAAAAAAHwlsID////9AS4BLQAAAAgAAgAAAAAAAAABAAABzgF1ABcAAAAAAAIAAAAKAAoAAAD/AAAAAAAAAAEAAAAKADAAPgACREZMVAAObGF0bgAaAAQAAAAAAAAAAQAAAAQAAAAAAAAAAQAAAAFsaWdhAAgAAAABAAAAAQAEAAQAAAABAAgAAQAGAAAAAQAAAAQBKwGQAAUAAADLANIAAAAqAMsA0gAAAJAADgBNAAACAAUDAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFBmRWQAwOpg8QEBLAAAABsBRwADAAAAAQAAAAAAAAAAAAAAAAACAAAAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEs//8BLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLP//ASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEs//8BLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASz//wEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASz//wEsAAABLAAAASwAAAEs//8BLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAASwAAAEsAAABLAAAAAAABQAAAAMAAAAsAAAABAAABSYAAQAAAAAEIAADAAEAAAAsAAMACgAABSYABAP0AAAAEgAQAAMAAuqI6ozqx+rJ6wnrTuw08QH//wAA6mDqiuqP6snqzOsL61DxAf//AAAAAAAAAAAAAAAAAAAAAAABABIAYgBmANYA1gFQAdYDngAAAAMA8QFKAUcAtAE3AZUBJQFuAQ4BdABOAcMBYAFqAWkAkQA2ATAAhgDPAP4AQQGTAHkAFwG+AJsAiAFDAR0BFAEVAagAyQCmALwBoAGAAIsBkQF5AYgBhgF6AYkBkAGLAYQAvgF/AY0AAgAEAAUACgALAAwADQAOAA8AEAASABsAHQAeAB8AXABdAF4AXwBiAGMAIgAjACQAJQAmACkAKwAsAC0ALgAvADAAMgAzADQANQA8ADkAPQA+AD8AQABCAEMARgBIAEkASwBVAFYAVwBYAGcAaQBrAG4AcgB0AHUAdgB3AHgAegB7AHwAfQB+AH8AgQCCAIQAhQCHAIkAjACPAJAAkwCUAJUAlgCXAJgAmQCaAJwAngCfAKAAoQCiAKMApQCoAKkAqgCUAKsArACuALgAuQC9AMAAxADFAMgAygDLAMwAzQDTANQA1QDWANcA2ADZANoA7wDyAPMA9gD5APoA+wD8AQABAQEGAQcBCAENAQ8BEAERARMBFwEYARsBHAEfASABKAEsAS0BLgEvATEBMgEzATQBNQE2ATsBPAE9AT4BPwFAAUEBQgFEAUYBSAFJAUsBTAFOAU8BUAFRAVIBWQFaAVsBXAFdAV8BZAFlAWYBaAFrAW0BcQFyAXMBdQF2AXsBfAF9AX4BgQGCAYMBhQGHAYoBjAGOAZcBmAGhAaIBpAGmAacBqQGqAasBrAGtAbEBswG0AbUBuAG5AboBvAG9AcQBxQHGAccByAHMAc0A9AD1APcA+ABgAGEAcAA6AHEAZAGPAG8AcwBtAFsAJwAoAQkAjQCSAMYBsgABABgAZQDuAR4BVQGSASoAugFjAWIBIgF3ASsBOQBaAbsARAEKAI4AwQD/ARoBOgAqASkBIQA3ADgASgGUAbYBsAGuAa8AsAFTAVYBGQBsAckBywHKAZoBmwGcAZ0BngGfAZkAEQBTASQAnQHCAGoA0QDdANwA2wBRAFAATwAVANIArwCxAFkAaAFYAKQAZgAWAMIAwwEnACAAIQD9ABQBtwEWAO0A3gDfAOQA4gDjAOYA5wDpAOsA7ADhAOABlgDOATgAigAGAAcACAAJAOoA5QDoABwAxwEFAQIAOwAaABkATQCyALMBXgBMAWEBcADQAQwBowGlAEcBbACnAb8AMQEmARIBCwFFAFIA8AFNAW8AgwCAAXgBZwC3ALUAtgHBAcAARQFXAVQAVAC7AQQBAwC/ASMAEwCtAAABBgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAABW4AAAAAAAAAc4AAOpgAADqYAAAAAMAAOphAADqYQAAAPEAAOpiAADqYgAAAUoAAOpjAADqYwAAAUcAAOpkAADqZAAAALQAAOplAADqZQAAATcAAOpmAADqZgAAAZUAAOpnAADqZwAAASUAAOpoAADqaAAAAW4AAOppAADqaQAAAQ4AAOpqAADqagAAAXQAAOprAADqawAAAE4AAOpsAADqbAAAAcMAAOptAADqbQAAAWAAAOpuAADqbgAAAWoAAOpvAADqbwAAAWkAAOpwAADqcAAAAJEAAOpxAADqcQAAADYAAOpyAADqcgAAATAAAOpzAADqcwAAAIYAAOp0AADqdAAAAM8AAOp1AADqdQAAAP4AAOp2AADqdgAAAEEAAOp3AADqdwAAAZMAAOp4AADqeAAAAHkAAOp5AADqeQAAABcAAOp6AADqegAAAb4AAOp7AADqewAAAJsAAOp8AADqfAAAAIgAAOp9AADqfQAAAUMAAOp+AADqfgAAAR0AAOp/AADqfwAAARQAAOqAAADqgAAAARUAAOqBAADqgQAAAagAAOqCAADqggAAAMkAAOqDAADqgwAAAKYAAOqEAADqhAAAALwAAOqFAADqhQAAAaAAAOqGAADqhgAAAYAAAOqHAADqhwAAAIsAAOqIAADqiAAAAZEAAOqKAADqigAAAXkAAOqLAADqiwAAAYgAAOqMAADqjAAAAYYAAOqPAADqjwAAAXoAAOqQAADqkAAAAYkAAOqRAADqkQAAAZAAAOqSAADqkgAAAYsAAOqTAADqkwAAAYQAAOqUAADqlAAAAL4AAOqVAADqlQAAAX8AAOqWAADqlgAAAY0AAOqXAADqlwAAAAIAAOqYAADqmAAAAAQAAOqZAADqmQAAAAUAAOqaAADqmgAAAAoAAOqbAADqmwAAAAsAAOqcAADqnAAAAAwAAOqdAADqnQAAAA0AAOqeAADqngAAAA4AAOqfAADqnwAAAA8AAOqgAADqoAAAABAAAOqhAADqoQAAABIAAOqiAADqogAAABsAAOqjAADqowAAAB0AAOqkAADqpAAAAB4AAOqlAADqpQAAAB8AAOqmAADqpgAAAFwAAOqnAADqpwAAAF0AAOqoAADqqAAAAF4AAOqpAADqqQAAAF8AAOqqAADqqgAAAGIAAOqrAADqqwAAAGMAAOqsAADqrAAAACIAAOqtAADqrQAAACMAAOquAADqrgAAACQAAOqvAADqrwAAACUAAOqwAADqsAAAACYAAOqxAADqsQAAACkAAOqyAADqsgAAACsAAOqzAADqswAAACwAAOq0AADqtAAAAC0AAOq1AADqtQAAAC4AAOq2AADqtgAAAC8AAOq3AADqtwAAADAAAOq4AADquAAAADIAAOq5AADquQAAADMAAOq6AADqugAAADQAAOq7AADquwAAADUAAOq8AADqvAAAADwAAOq9AADqvQAAADkAAOq+AADqvgAAAD0AAOq/AADqvwAAAD4AAOrAAADqwAAAAD8AAOrBAADqwQAAAEAAAOrCAADqwgAAAEIAAOrDAADqwwAAAEMAAOrEAADqxAAAAEYAAOrFAADqxQAAAEgAAOrGAADqxgAAAEkAAOrHAADqxwAAAEsAAOrJAADqyQAAAFUAAOrMAADqzAAAAFYAAOrNAADqzQAAAFcAAOrOAADqzgAAAFgAAOrPAADqzwAAAGcAAOrQAADq0AAAAGkAAOrRAADq0QAAAGsAAOrSAADq0gAAAG4AAOrTAADq0wAAAHIAAOrUAADq1AAAAHQAAOrVAADq1QAAAHUAAOrWAADq1gAAAHYAAOrXAADq1wAAAHcAAOrYAADq2AAAAHgAAOrZAADq2QAAAHoAAOraAADq2gAAAHsAAOrbAADq2wAAAHwAAOrcAADq3AAAAH0AAOrdAADq3QAAAH4AAOreAADq3gAAAH8AAOrfAADq3wAAAIEAAOrgAADq4AAAAIIAAOrhAADq4QAAAIQAAOriAADq4gAAAIUAAOrjAADq4wAAAIcAAOrkAADq5AAAAIkAAOrlAADq5QAAAIwAAOrmAADq5gAAAI8AAOrnAADq5wAAAJAAAOroAADq6AAAAJMAAOrpAADq6QAAAJQAAOrqAADq6gAAAJUAAOrrAADq6wAAAJYAAOrsAADq7AAAAJcAAOrtAADq7QAAAJgAAOruAADq7gAAAJkAAOrvAADq7wAAAJoAAOrwAADq8AAAAJwAAOrxAADq8QAAAJ4AAOryAADq8gAAAJ8AAOrzAADq8wAAAKAAAOr0AADq9AAAAKEAAOr1AADq9QAAAKIAAOr2AADq9gAAAKMAAOr3AADq9wAAAKUAAOr4AADq+AAAAKgAAOr5AADq+QAAAKkAAOr6AADq+gAAAKoAAOr7AADq+wAAAJQAAOr8AADq/AAAAKsAAOr9AADq/QAAAKwAAOr+AADq/gAAAK4AAOr/AADq/wAAALgAAOsAAADrAAAAALkAAOsBAADrAQAAAL0AAOsCAADrAgAAAMAAAOsDAADrAwAAAMQAAOsEAADrBAAAAMUAAOsFAADrBQAAAMgAAOsGAADrBgAAAMoAAOsHAADrBwAAAMsAAOsIAADrCAAAAMwAAOsJAADrCQAAAM0AAOsLAADrCwAAANMAAOsMAADrDAAAANQAAOsNAADrDQAAANUAAOsOAADrDgAAANYAAOsPAADrDwAAANcAAOsQAADrEAAAANgAAOsRAADrEQAAANkAAOsSAADrEgAAANoAAOsTAADrEwAAAO8AAOsUAADrFAAAAPIAAOsVAADrFQAAAPMAAOsWAADrFgAAAPYAAOsXAADrFwAAAPkAAOsYAADrGAAAAPoAAOsZAADrGQAAAPsAAOsaAADrGgAAAPwAAOsbAADrGwAAAQAAAOscAADrHAAAAQEAAOsdAADrHQAAAQYAAOseAADrHgAAAQcAAOsfAADrHwAAAQgAAOsgAADrIAAAAQ0AAOshAADrIQAAAQ8AAOsiAADrIgAAARAAAOsjAADrIwAAAREAAOskAADrJAAAARMAAOslAADrJQAAARcAAOsmAADrJgAAARgAAOsnAADrJwAAARsAAOsoAADrKAAAARwAAOspAADrKQAAAR8AAOsqAADrKgAAASAAAOsrAADrKwAAASgAAOssAADrLAAAASwAAOstAADrLQAAAS0AAOsuAADrLgAAAS4AAOsvAADrLwAAAS8AAOswAADrMAAAATEAAOsxAADrMQAAATIAAOsyAADrMgAAATMAAOszAADrMwAAATQAAOs0AADrNAAAATUAAOs1AADrNQAAATYAAOs2AADrNgAAATsAAOs3AADrNwAAATwAAOs4AADrOAAAAT0AAOs5AADrOQAAAT4AAOs6AADrOgAAAT8AAOs7AADrOwAAAUAAAOs8AADrPAAAAUEAAOs9AADrPQAAAUIAAOs+AADrPgAAAUQAAOs/AADrPwAAAUYAAOtAAADrQAAAAUgAAOtBAADrQQAAAUkAAOtCAADrQgAAAUsAAOtDAADrQwAAAUwAAOtEAADrRAAAAU4AAOtFAADrRQAAAU8AAOtGAADrRgAAAVAAAOtHAADrRwAAAVEAAOtIAADrSAAAAVIAAOtJAADrSQAAAVkAAOtKAADrSgAAAVoAAOtLAADrSwAAAVsAAOtMAADrTAAAAVwAAOtNAADrTQAAAV0AAOtOAADrTgAAAV8AAOtQAADrUAAAAWQAAOtRAADrUQAAAWUAAOtSAADrUgAAAWYAAOtTAADrUwAAAWgAAOtUAADrVAAAAWsAAOtVAADrVQAAAW0AAOtWAADrVgAAAXEAAOtXAADrVwAAAXIAAOtYAADrWAAAAXMAAOtZAADrWQAAAXUAAOtaAADrWgAAAXYAAOtbAADrWwAAAXsAAOtcAADrXAAAAXwAAOtdAADrXQAAAX0AAOteAADrXgAAAX4AAOtfAADrXwAAAYEAAOtgAADrYAAAAYIAAOthAADrYQAAAYMAAOtiAADrYgAAAYUAAOtjAADrYwAAAYcAAOtkAADrZAAAAYoAAOtlAADrZQAAAYwAAOtmAADrZgAAAY4AAOtnAADrZwAAAZcAAOtoAADraAAAAZgAAOtpAADraQAAAaEAAOtqAADragAAAaIAAOtrAADrawAAAaQAAOtsAADrbAAAAaYAAOttAADrbQAAAacAAOtuAADrbgAAAakAAOtvAADrbwAAAaoAAOtwAADrcAAAAasAAOtxAADrcQAAAawAAOtyAADrcgAAAa0AAOtzAADrcwAAAbEAAOt0AADrdAAAAbMAAOt1AADrdQAAAbQAAOt2AADrdgAAAbUAAOt3AADrdwAAAbgAAOt4AADreAAAAbkAAOt5AADreQAAAboAAOt6AADregAAAbwAAOt7AADrewAAAb0AAOt8AADrfAAAAcQAAOt9AADrfQAAAcUAAOt+AADrfgAAAcYAAOt/AADrfwAAAccAAOuAAADrgAAAAcgAAOuBAADrgQAAAcwAAOuCAADrggAAAc0AAOuDAADrgwAAAPQAAOuEAADrhAAAAPUAAOuFAADrhQAAAPcAAOuGAADrhgAAAPgAAOuHAADrhwAAAGAAAOuIAADriAAAAGEAAOuJAADriQAAAHAAAOuKAADrigAAADoAAOuLAADriwAAAHEAAOuMAADrjAAAAGQAAOuNAADrjQAAAY8AAOuOAADrjgAAAG8AAOuPAADrjwAAAHMAAOuQAADrkAAAAG0AAOuRAADrkQAAAFsAAOuSAADrkgAAACcAAOuTAADrkwAAACgAAOuUAADrlAAAAQkAAOuVAADrlQAAAI0AAOuWAADrlgAAAJIAAOuXAADrlwAAAMYAAOuYAADrmAAAAbIAAOuZAADrmQAAAAEAAOuaAADrmgAAABgAAOubAADrmwAAAGUAAOucAADrnAAAAO4AAOudAADrnQAAAR4AAOueAADrngAAAVUAAOufAADrnwAAAZIAAOugAADroAAAASoAAOuhAADroQAAALoAAOuiAADrogAAAWMAAOujAADrowAAAWIAAOukAADrpAAAASIAAOulAADrpQAAAXcAAOumAADrpgAAASsAAOunAADrpwAAATkAAOuoAADrqAAAAFoAAOupAADrqQAAAbsAAOuqAADrqgAAAEQAAOurAADrqwAAAQoAAOusAADrrAAAAI4AAOutAADrrQAAAMEAAOuuAADrrgAAAP8AAOuvAADrrwAAARoAAOuwAADrsAAAAToAAOuxAADrsQAAACoAAOuyAADrsgAAASkAAOuzAADrswAAASEAAOu0AADrtAAAADcAAOu1AADrtQAAADgAAOu2AADrtgAAAEoAAOu3AADrtwAAAZQAAOu4AADruAAAAbYAAOu5AADruQAAAbAAAOu6AADrugAAAa4AAOu7AADruwAAAa8AAOu8AADrvAAAALAAAOu9AADrvQAAAVMAAOu+AADrvgAAAVYAAOu/AADrvwAAARkAAOvAAADrwAAAAGwAAOvBAADrwQAAAckAAOvCAADrwgAAAcsAAOvDAADrwwAAAcoAAOvEAADrxAAAAZoAAOvFAADrxQAAAZsAAOvGAADrxgAAAZwAAOvHAADrxwAAAZ0AAOvIAADryAAAAZ4AAOvJAADryQAAAZ8AAOvKAADrygAAAZkAAOvLAADrywAAABEAAOvMAADrzAAAAFMAAOvNAADrzQAAASQAAOvOAADrzgAAAJ0AAOvPAADrzwAAAcIAAOvQAADr0AAAAGoAAOvRAADr0QAAANEAAOvSAADr0gAAAN0AAOvTAADr0wAAANwAAOvUAADr1AAAANsAAOvVAADr1QAAAFEAAOvWAADr1gAAAFAAAOvXAADr1wAAAE8AAOvYAADr2AAAABUAAOvZAADr2QAAANIAAOvaAADr2gAAAK8AAOvbAADr2wAAALEAAOvcAADr3AAAAFkAAOvdAADr3QAAAGgAAOveAADr3gAAAVgAAOvfAADr3wAAAKQAAOvgAADr4AAAAGYAAOvhAADr4QAAABYAAOviAADr4gAAAMIAAOvjAADr4wAAAMMAAOvkAADr5AAAAScAAOvlAADr5QAAACAAAOvmAADr5gAAACEAAOvnAADr5wAAAP0AAOvoAADr6AAAABQAAOvpAADr6QAAAbcAAOvqAADr6gAAARYAAOvrAADr6wAAAO0AAOvsAADr7AAAAN4AAOvtAADr7QAAAN8AAOvuAADr7gAAAOQAAOvvAADr7wAAAOIAAOvwAADr8AAAAOMAAOvxAADr8QAAAOYAAOvyAADr8gAAAOcAAOvzAADr8wAAAOkAAOv0AADr9AAAAOsAAOv1AADr9QAAAOwAAOv2AADr9gAAAOEAAOv3AADr9wAAAOAAAOv4AADr+AAAAZYAAOv5AADr+QAAAM4AAOv6AADr+gAAATgAAOv7AADr+wAAAIoAAOv8AADr/AAAAAYAAOv9AADr/QAAAAcAAOv+AADr/gAAAAgAAOv/AADr/wAAAAkAAOwAAADsAAAAAOoAAOwBAADsAQAAAOUAAOwCAADsAgAAAOgAAOwDAADsAwAAABwAAOwEAADsBAAAAMcAAOwFAADsBQAAAQUAAOwGAADsBgAAAQIAAOwHAADsBwAAADsAAOwIAADsCAAAABoAAOwJAADsCQAAABkAAOwKAADsCgAAAE0AAOwLAADsCwAAALIAAOwMAADsDAAAALMAAOwNAADsDQAAAV4AAOwOAADsDgAAAEwAAOwPAADsDwAAAWEAAOwQAADsEAAAAXAAAOwRAADsEQAAANAAAOwSAADsEgAAAQwAAOwTAADsEwAAAaMAAOwUAADsFAAAAaUAAOwVAADsFQAAAEcAAOwWAADsFgAAAWwAAOwXAADsFwAAAKcAAOwYAADsGAAAAb8AAOwZAADsGQAAADEAAOwaAADsGgAAASYAAOwbAADsGwAAARIAAOwcAADsHAAAAQsAAOwdAADsHQAAAUUAAOweAADsHgAAAFIAAOwfAADsHwAAAPAAAOwgAADsIAAAAU0AAOwhAADsIQAAAW8AAOwiAADsIgAAAIMAAOwjAADsIwAAAIAAAOwkAADsJAAAAXgAAOwlAADsJQAAAWcAAOwmAADsJgAAALcAAOwnAADsJwAAALUAAOwoAADsKAAAALYAAOwpAADsKQAAAcEAAOwqAADsKgAAAcAAAOwrAADsKwAAAEUAAOwsAADsLAAAAVcAAOwtAADsLQAAAVQAAOwuAADsLgAAAFQAAOwvAADsLwAAALsAAOwwAADsMAAAAQQAAOwxAADsMQAAAQMAAOwyAADsMgAAAL8AAOwzAADsMwAAASMAAOw0AADsNAAAABMAAPEBAADxAQAAAK0AAAAAAAAAlADUAOgBFAEyAWwBpgHgAhoCLgJCAlYCagJ+ApICpgLIAt4DGgM4A4oD5AQQBGYEzAUcBWoFagWYBeoGBgamB1oHmggkCEIIqgkcCdQKiArOCvYLCAtQC2ILdAuGC5gL4Av6DAwMGAw2DGIMkAz0DSoNPg1mDY4N/A4uDnwOtg7QDyYPgA/IEAIQJhCyEN4RBBFiEZwR8BImEkoSuBMWE2AUFBQ4FI4UuBTEFTYVihX0FlQWthbsFxAXKBc4F0gXVBdoF3YXmhgYGDIYTBiaGQoZNhlIGYIZzBn8GhYaPhpaGnAaohrEGugbHBs0G7Qb5BwKHFgcdhycHLwc4B0aHTYdWB2IHbod5h4IHjAeXB6EHrwfFB+WH8gf4iAaIHgguiEeIXohsiIEImwitCL6IzojoCPCI/AkAiQeJKIkwCTcJPglRiWEJbgl5iZYJsonQieOJ7goOCheKOQpeCn0KnwqxisKK54r3iwULEosiC0qLaQtyC5iLuQvIi9sL4Avxi/qMBYwVjB8MNoxCjFsMagx1jIcMnwyrDLKMxgzTDNwM940NDRwNKA07jWmNdg2PjamNvo3PDdqN4I3mje4N+A4BDgmOEQ4YjiAOJg4tjjOOOw5BDkcOVY5kjnkOn46vjriO0Q7XDt4PA48JjxGPHg83Dz6PUw9eD2mPew+Ej4yPko+ZD6QPrw+4j8SP3I/jD/iQBhAZECOQMpBAkFCQXZBxkH4QiZCYEJ+QsJC6kNwQ6pEJERuRVJFikW8RiJGRkaURtRHNkeOR8pIEEhkSNxJMEmCSZhJyEoOSkZKXkqGSqZLBks6S8RMIkyETLZNBk0yTZhNyE3uTkZOYk5wTypPkE+0UC5QqlDwUWBRmFHQUihSVlKGUxZTcFPMVCZUTlRyVJZU7lUOVTJVhlXiVhxWXFaCVrZW8Fc6V5hXylfoWCRYsFkaWZRZ+lpaWtBbCFtCW5xcEFxWXMJdSl4QXi5eTF86X2xfgl+oX/JgOGBYYIpgzmFeYYBhumH6Yh5iSmJsYqJjOGNsY5hj3mSWZMBlQGV8ZeZmDmZIZr5m+mc+Z4BnvGgCaE5opmjKaRRprGoEbARtum3mbgpudm6ebspu4m8Qb2JvkG/icIBwunDKcNpw6nD6cVpxmnHaciRyanLacwRzUnPYdHR0pHT2dSh1ZHW6dfx2SHZodtp3Hndgd7p32ngYeER4nni8eYB58HqSewp7TnuKAAAABAAA//8BLAEsABEAIgA0AGQAACU0LgEiDgEVFBYfARYyPwE+AQciJzc+BDMyHgEXFhcGJyY0PgIyHgIUDgEHBicuARcwPQEuAScmJzY3Njc2JzYuAiIOAhUUHgEXFhcGBw4BBxUuATU0PgEyHgEVFAYBLChFUkUoHBkNJlwmDhgclikiAQMKDhAVCg8dFQYDAiJYBAgNEhYRDggIDgkTFAgOhwQRDAkLBQQHBQoBAQsUGh0aEwsGCAgEBQoJDBEFEhQjPEg8IxOWKUUoKEUpITwVChoaChU8YhgHChEOCgULFQ4ICRiLCRQSDQkIDhIVEQ4ECAgEDlsBAQ4YCQcFAwQHCBAUDhoUCgoUGg4KEw4IBAQEBwkYDwESMBokPCMjPCQaMAAAAAACAAAAAAEaARoAGgAoAAAlFg4BBzQnPgE3LgMOAQcmIz4CMzIeAgciDgEUHgEyPgE0LgEjARkBFCIWAxkiAQEQHSMeEwIJCgMYJRURHxgMshcnFhYnLicXFycXxRYlGAIKCQMlGhEeEgEPHBEDFSIUDBgfGhcnLicWFicuJxYAAAEAAAAAAQcBGgALAAAlFSMVIzUjNTM1MxUBB3ETcHATqRNwcBNwcAAEAAAAAAEaARoADQASABYAGgAAASMHFRczFRczNzUzNzUHIzUzFQc1MxUnIxUzARD0CQkKCc4KCQkc1+HPvCZwcAEZCTgKnwkJnwo4LyYmqZaWcRMAAAAAAQAAAAABEgDMAA8AADcXByc1NxcHMyc3FxUHJzc4KA04OA0ovCgNODgNKIMoDTgNOQ4oKA45DTgNKAAAAwAAAAABBwEHAAkAFgAjAAA3FzUzFTcXByMnNzQuASIOARQeATI+AScUDgEiLgE0PgEyHgFlKBMmDjgNOLAfMz4zHh4zPjMfExksMiwZGSwyLBmUKGxqJg03Nw8fMx8fMz4zHh4zHxksGRksMiwZGSwAAAADAAAAAAEHAQcACQAXACQAADcnMzUjNycHFRc3Mh4BFA4CLgI+ARcVIg4BFB4BMj4BNC4BlChsaiYNNzcPHzMfHzM+Mx4BHzMfGSwZGSwyLBkZLGUoEyYOOA04sB8zPjMeAR8zPjMfARIZLDIsGRksMiwZAAMAAAAAAQcBBwAJABYAIwAANxcjFTMHFzc1JwcGLgI+ATIeARQOAScyPgE0LgEiDgEUHgGYKGxqJg03Nw8fMx4BHzM+Mx8fMx8ZLBkZLDIsGRksxygTJg44DTivAR8zPjMfHzM+Mx4SGSwyLBkZLDIsGQAAAwAAAAABBwEHAAkAFgAjAAA/ARUzNRc3JyMHFxQOAi4CPgEyHgEHNC4BIg4BFB4BMj4BZSgTJg44DTiwHzM+Mx4BHzM+Mx8TGSwyLBkZLDIsGZgobGomDTc3Dx8zHgEfMz4zHx8zHxksGRksMiwZGSwAAAABAAAAAAEEAQcACQAANxczNycHNSMVJzteDV4NThNOg11dDk7ExE4AAQAAAAABBwDzAAkAADcHFRc3JzM1IzeDXV0OTsTETvJeDV4OTRNOAAEAAAAAAQcA8QAJAAA/ATUnBxcjFTMHqV5eDk7Dw04oXQ5dDU4STgABAAAAAADJAOEACQAANwcjJzcXNTMVN8kvDS8NHxMfii8vDR5oaB8AAQAAAAAA0QDPAAkAADcnNTcXBzMVIxd6Ly8NH2lpH2MvDS8NHxMeAAEAAAAAANEAzwAJAAA3FxUHJzcjNTMnoi8vDR5oaB7OLw0vDh4THwABAAAAAADJAOEACQAAPwEzFwcnFSM1B14vDS8NHxMfsi8vDR9paR8AAgAAAAABGgEbAAkAEwAANyc1NxcHMxUjFz8BNScHFyMVMwdPPDwNLOnpLIE8PA0s6eksEjwNPA0sEyx2PA08DSwTLAABAAAAAAEEAQcACQAAJScjBxc3FTM1FwEEXg1eDU4TTaleXg5Ow8NOAAAAAAEAAAAAARwBHAAlAAA/ATYyFhQPAQYiJjQ/ATY0JiIPAQYUFjI/AT4BLgIGDwEOARYyNm0RMCIRgggYEQh0AwUIA3QOHCgOgg4LCx0oKA9tAgEGCI9oECAuEHwIEBcIbwIIBQJvDSYbDXwOJiYcCgoOaAMIBQAAAAIAAAAAARoBGgAHAA8AACUVBycVJxc1FycVDwEVFzUBGUFmOqgBXlYaJeigNSUlSw2QATklGiFLEWEAAAMAAAAAASIBGgAbACcANgAAJScuAQcjIgYPAQYeAjsBMjY/ARcWOwEyPgIHIi8BMzcXHAEOASMzIzYvATMeARUXFg4CIwEgSwIKB1gGCgJMAgIFCQU3BQoCDDgFBlgECQUCawICbDkUKgIEAVdFAgJMRQIETAEBAgICLOEFCAEHBeEFCQgDBwYhKwMEBwkIAVA0fQEDAwEGB+EBAgLhAQMCAgAABAAAAAABGgEaAB0ALAA1AD0AADczJicjNzM0NyM3NTMVFzY3JzUzNSMVMxUHBh4CNzYzMh4CFRQOAS4CNhcWFzI3JwYVFDcXNjU0JiMiOF4LCEsdGwITJCYBCQkBE3ASSQIBBQhyEhcPHBULGSotIAkSFBEXEg9PChhOCyEYEhMICjkJCUhOTwMEAgFLExJLjgUJCQSJDQwVGw8XJhEJICwqWRABC04OEhhGTw8SFyEAAAAAAwAAAAABCgEaAA8AFgAaAAAlJzUzNSMVMxUHBhY7ATI2Jzc1MxUXIwc3MxcBBEgScBNKBAsKvAoLiAImJG4nHYIdLo1LExJLjgoREZAETk9HSzk5AAAAAAMAAAAAARoBGwAqADEAOgAANwYjFRQfASM3Nj0BND4CFzM2NyYnJg4CHQEUDwEXMxQWMjY1MzcnJjUHMjYnIxQWNzI2NCYiBhQW9AkKCAe1BwkNFx8PAwUHBgcUJh0QBwsIQhYfFkIJCwdeBwwBJQtTFyEhLiEhmAIEGhkUFRkZKRAeFQoCCQcCAQINGyQUKRYWIQ0PFhYPDSEWFm0LCAgLhCEuISEuIQAAAAAGAAAAAAEqASYAFQAnAC4AMwA4AEEAABMGByIHDgIdARQPATc2PQE0PgIfAQYHFh8BIwczFBYyNjUzNycmBwYiJjUzFjcmJzcXDwEXNyYXMjY0JiIGFBaiCgcJCg8XDQQcBgcQHSYUVQkKAgYHehIMFh8WQgkLBlIGDwslAXUGBwsNgpQNlQczFyEhLiEhARgICgMFFR4QKRERHRMWFikUJBsNApEDARMSFBMPFhYPDSERTAYLCAjdBwcKDWeVDZUGASEuISEuIQAAAAAEAAAAAAEqASYAFQAnAC4AMgAAEyYnJg4CHQEUBzc2PQE0PgIXFhcHMycmPQE3FRQfAQcjFAYiJicXMjYnIxQWBwEXAc8VGxQmHRAHGQENFx8PFBA9bAcIEwcLCUIWHxUBJgcMASULewEJDf73AQUQBAINGyQUKRYVGQkJKRAeFQoCAwysFBkaFhMpFhYhDQ8WFQ8SCwgICwkBCQ3+9wAAAwAAAAABBgEbABoAIQA0AAA3Jj0BNC4CJyYOAh0BFA8BFzMUFjI2NTM3BwYiJjUzFic3Nj0BND4CFxYXHgEdARQfAfsHDBgfEhQmHRAHCwhCFh8WQgljBg8LJQFuBwkNFx8PHhMJCggHZhUXJhIhGxECAg0bJBQpFxUhDQ8WFg8NGgYLCAgbFRgaKRAeFQoCBBYLGw4mGhkUAAAAAwAAAAAA4QD0AA4AFgAeAAA3NTMyFhUUBgceARUUBiMnFTMyNjU0IyczMjY0JisBXj8fIBANEBIiHioqEhQlKycQFBITJji8GhgNFQUEGBEZHVhEEhAiFBAdDgAJAAAAAAEaAQcAEAAXAB4AIgAmACoALgAyADYAAAEjDwEvASMHFRczFzM3Mzc1By8BIzUzHwEjDwE1NzMHIxUzFSMVMyczFSM3IxUzBzMVIxUzFSMBEGcHDAwHZwkJYxAOEGMJjAQGXVkOel4HAg1aljk5OTk5OTm8ODg4ODg4OAEHAwwMAwq7ChAQCru4AwOpDpsDAqENJhI5EjgTOBITExMSAAIAAAAAAPQBGgAIAA4AABMjBxUXNxc3NQcnIwc1M+qoChFNTRETRA5ElgEZCfQGVlYG9NtLS9IAAwAAAAABGgEHAEcAcQB9AAA3MSMiDgIdARQOAgceAx0BFB4COwEVIyIuAScxJic1Jjc1NCcxJic1JicxJisBNTMyPgE3MTY9ASY3MTY3MT4COwEXMzUjIicxJic1JicxJj0BNic1JicxLgIrARUzMh4CHQEUHgIXIxYHIg4BHgI+ATU0JnECBgoHBAIEBwUFBwQCBAcKBgICCRANAwMBAQECAgQDBQUGAQEGCgcCAgEBAQMDDRAJApQCAgYFBQMEAgIBAQEDAw0QCQEBBgoHBAIEBwUBDxcRHA0GGCIfEyH0BAgKBhkGDAsIBAQICwwGGQYKCAQSBg0ICAcBCAgQBgUFAwEDAgMSBQcFBQYQCAgICAgNB3oSAwIDAQMFBQYQCAgBBwgIDQcTBAgKBhkGDAsIBAIREx8iGAYNHBEXIQAEAAAAAAEaAQcARwBxAH4AigAANzEjIg4CHQEUDgIHHgMdARQeAjsBFSMiLgEnMSYnNSY3NTQnMSYnNSYnMSYrATUzMj4BNzE2PQEmNzE2NzE+AjsBFzM1IyInMSYnNSYnMSY9ATYnNSYnMS4CKwEVMzIeAh0BFB4CFyMWBzYzMhYVFA4BLgI2FwcnBxcHFzcXNyc3cQIGCgcEAgQHBQUHBAIEBwoGAgIJEA0DAwEBAQICBAMFBQYBAQYKBwICAQEBAwMNEAkClAICBgUFAwQCAgEBAQMDDRAJAQEGCgcEAgQHBQEPNg4RFyETHyIYBg1CFRUOFhYOFRUOFhb0BAgKBhkGDAsIBAQICwwGGQYKCAQSBg0ICAcBCAgQBgUFAwEDAgMSBQcFBQYQCAgICAgNB3oSAwIDAQMFBQYQCAgBBwgIDQcTBAgKBhkGDAsIBAIaCSEXERwNBhgiHwIWFg4VFQ4WFg4VFQAFAAAAAAEaAQcADQARABsAHwApAAAlIzUnIwcVIwcVFzM3NSczFSMXFQc1JyMHFSc1FxUjNQc1FxUXMzc1NxUBEEIJXglCCQn0CahLS5ZLCjgJS4MmXUsJOApL4RwKChwJlgoKlhwTEw4qCQoKCSsNOBMTS2ArBgkJBipfAAAAAAQAAAAAAQcBGgAiAD8AWwBkAAATNjMyHgEXDgEHNTE2PQE+AiYnLgEOAhYXFRQXFS4CNhcGIxUUBisBMCMxLgE9ASImPQE0NjsBMhYdARQHNxQHFh0BPgImJy4BDgIWFzU0NyY+Ah4BByMUBiImNDYyFlgcIh8zHgEBKSEJERcJBwoRNjkoCRoZCR4oCBtyAgQFBBQBBAQEBQsIEggLAxkJBgkLAQsJDSQjGgkLDQYJARQeHhMBHgsQCwsQCwEGEx40HiQ6DAEJCwMJICYnEBkVDCs6NQ4DDAgBCzFAOqcDLwQFAQQELwUEJggLCwgmBAJbDw0JCgIJGRwZCQ4KChokIw0CCwkNHxoJCxkQCAsLEAsLAAMAAAAAARoBGgAHAAsADwAAEzMXFQcjJzUXFTM1JzM1Ixz0CQn0CRPh4eHhARkJ4QkJ4UKWlhMmAAAAAAMAAAAAARgBGgAxADkASQAANzU0JiIGHQEjJwcXBwYdASMVOwEWHwEHFzcXHgEyNj8BFzcnNTY3MTM1IzU2LwE3JwcjNTQ2MhYdARcVFhUUDgIiLgI1NDc1zCAtIBAfCx4BCSYoAQQNASULIwIMHyIfDAEkCyUOBSknAQoBHgsfbRcgFx0JDRYbHRwWDAjYCxYgIBYLHwseARobDBAbFQElCyMBDhAPDgEkCyYBFhsQDBsaAR4LHwsQFxcQCxABFhkXJxwPDxwnFxkWAQAAAAARAAAAAAEaARoADwATABcAGwAfACMAJwArAC8AMwA3ADsAPwBDAEcASwBPAAABIzUjFSM1IxUjBxUXMzc1ByM1MzUjNTMHIxUzBzMVIxcjFTM3MxUjFyMVMwczFSM3IxUzFzMVIxcjFTMHMxUjNyMVMxczFSMXIxUzJzMVIwEQHBOWExwJCfQJEuHh4eG8ExMTExMTExMmEhISEhISEhISEhImExMTExMTExMTExMlExMTExMTExMBBxISEhIK4QkJ4deoExNeExITExNeExITExOEExMTEhMTE4QTExMSE14TAAADAAAAAAEaARoAPQB5AIIAADcuAQ4BDwIGJi8BJicuAj8CPgI1NCcuAyMiDwEOAhUUHgYzMj4BPwE2NTQmLwEmLwEmBwYnIiYnJicuAzUmPgE/ATYzMh8BFh8BFhQPAQ4CFBYfARYzMjc2PwE+ATIfAhYfARYVFA8BDgE3BzMVIzUzFTfrBQsKBwMGBQMIAikLCwQGAQMEBwMGAwgFCwwNCAwIDgUJAwoRGBwgIiEQChENBg4IAwMHBAQPBA0HCA4eDh8aDRYQCQEEBgULAwQCBAcKBwYDAgsEBQQEBUUJDAUFCQYGAgYFBAcJBQMGAwQKBQovVz5eE1d9AgEFBQQGBAMBAycLDAUIBQMFBgMHCQYMCQUMCwgIDgYNEQoPIiEgHBkRCgQIBQ4IDAUKBAgEBA4EVAIBCQcSGg0cHh4PBw4JBQoEAwYICQcEBQMLAwcKCwoFRQkCBAcGAwQDBggEBQgDAgQDCwQH41cTXj5XAAMAAAAAARoBGgAIAEQAgAAAPwEjNTMVIzUHFzIfAx4BFRQPAQ4CIyIuBjU0PgE/ATYzMh4CFxYVFA4BDwIGFBYXFh8BHgE/Aj4CBzI+AT8BNic2LwEmLwImIgYPAQ4CIyIvAS4BND4CPwE2NC8EJiMiDwEOAgceAxcWFx4Bolc9XRJYMQwJDwgHAwMIDgUOEQoQIiEgHBgRCgMIBg4IDAcODQoFCAMGAwcEAgYECwspAggDBQYDCAkGCQwKBQoEAQEDBgMFCQcEBQYCBgMHCgUMCUUFBAQFBwMFAgMGCAkHBAIEAwsEBwMBAQkQFg0aHw4er1gSXT1XIwgOCAgECgUMCA4FCAQKEhgcICEhEAsQDQYOCAgLDQQJDAUJCAMGBQMFCAUMCycDAQMEBgQFBVoDBgULAwQCAwgFBAgGAwQDBgQFBAlFBAsMCQcGAwUDBQQHCQgGAwQKBAsNBw4fHhwNGhEICQAAAAQAAAAAAQIA4QAHAA8AJAAvAAA3IycjByM3MxcnJicjBg8BFyM1MQYjIiY1ND8BNCMiBzU2MzIVDwEOARUUFjMyNjWmEw89DxI3ERAWAQEBAQEXthELFQ8SIh8VEg8PFCQRGAwMCwkMEFEoKJBZPgMGBgM+NxATEA4dBQQaDBAKJg8EAQgLBwoRDQAABAAAAAABJQD0AAYACgAMABMAACUHIyc3FzcHNycPARcHFwcjJzcXASWSDjoONIuQUg1QEgopCw8OOg406a1TCkmkbWILXhYPFQ8RUwpJAAABAAAAAAEPAPoABgAAJQcvATcXNwEPnw8/DziX7rwBWQtPsgAIAAAAAAEaAQcABgAKAA4AEgAWAB0AJAArAAA3Iyc3FzcfATMVIxUzFSMXIxUzBzMVIyczNycHJwcXIyc3FzcXBzM3JwcnB0YNEw0NGg4blpaWlpaWlpaWlkoNIg4aDQ0gDRMNDRoOLw0iDhoNDdgUDQ0bDgUTJRMmEiYTaCENGg0OTBQNDRsNWiENGg0NAAABAAAAAADzAMEABgAAPwEXByMnN5ZRDFgLWAxvUgxXVwwAAAABAAAAAADBAPQABgAANxcHJzU3F29SDFdXDJZRDFgLWAwAAAABAAAAAADPAPMABgAANyc3FxUHJ71SDFdXDJZRDFgLWAwAAAABAAAAAAD0AM8ABgAANwcnNzMXB5ZRDFgLWAy9UgxXVwwAAAACAAAAAAEHARoANwA7AAATMxUzNTMVMzUzFTMXFTMVIxUzFSMVMxUjFQcjFSM1IxUjNSMVIzUjJzUjNTM1IzUzNSM1MzU3MwczNSNeExITExMSEyYmJiYmJhMSExMTEhMTEyUlJSUlJRMTE4ODARklJSUlJRMTEhMTExITEyUlJSUlJRMTEhMTExITE5aDAAABAAAAAAD9AP0ACwAANwcXNxc3JzcnBycHhVURVVURVVURVVURllURVVURVVURVVURAAAAAgAAAAAA9AD0AAMABwAANxUzNQcjNTM4vBOWlvS8vKmWAAAAAQAAAAABBwCWAAMAACUVIzUBB8+WExMAAwAAAAABBwD0AAMABwARAAA3FTM1ByM1MyczNTMVIxUzNSM4qRODg3ATgxMmqc6oqJaEEhODE6kAAAAAAQAAAAAA4gDiABkAADcyFx4BFxYUBw4BBwYiJy4BJyY0Njc2Nz4BlgoKExwFAwMFHBMKFAoTHAUDBQUKEQkT4QMFHBMKFAoTHAUDAwUcEwoUEwkRCgUFAAEAAAAAARoBGgAaAAATMhceARcWFAYHBgcOASIuBDQ2NzY3PgGWEhEhMQoECQkRHg8hJCEeGBEJCQkRHg8hARkECjEhESQhDx4RCQkJERgeISQhDx4RCQkAAAAAAgAAAAABGgEaACoARAAAEyYiBzEGBwYHMQ4BFhcWFx4CPgE3MTY3NjcxNiYnMSYnMSYnMSYnMSYnFwYHDgEiLgQ0Njc2Nz4BMhceARcWFAa0Dx4PDg0ZDwgIAQMIFQsZHR8cDRkPCAMFAQQDCAcLCgwNDlMRHg8hJCEeGBEJCQkRHg8hJBEhMQoECQECBQUDCA8ZDR0fDhwWCg8IAQcIDxkNDg8fDg4NDAoLBwgDrh4RCQkJERgeISQhDx4RCQkECjEhESQhAAADAAAAAAEaARoADAAWAB8AABMyHgEUDgEiLgE0PgEHFBYXNy4BDgEVMzQmJwceAT4BliQ8IyM8SDwjIzxMDQ2fGUI7JOIODZ8ZQjskARkjPEg8IyM8SDwjgxQlEJ8VCRw3IRQlEJ8VCRw3AAABAAAAAAC8ALwACAAANxQGLgE0NjIWvBYgFRUgFpYQFgEVIBYWAAAAAgAAAAAAvAC8AAoAFwAANw4BLgI+ATIWFBc2NTQmIyIOAR4CNqYECgsIAgQJDgsMBxYQCxMJBBEWFYwFBAIICwoHCw4PCgsQFg0VFhEECQADAAAAAADhAOIADAAVABYAADcyPgE0LgEiDgEUHgE3FAYiJjQ2MhYnlhQjFBQjKCMUFCNFHSgdHSgdMUsUIygjFBQjKCMUSxQdHSgdHSAAAAUAAAAAARoBGgAHADQAPQBGAE8AAAEjBxUXMzc1ByM1Mx4BMzI2NCYiBhUjFSM1MxUOARUUFjI2NTMUFjI2NCYjIgYHIy4BIzUzBzQ2MhYUBiImJzIWFAYiJjQ2MzIWFAYiJjQ2ARD0CQn0CRKpKwQSCg8WFh8WOCUlCAsWHxYmFh8WFhAKEQUwBREKqXEKEQsLEQo4CAsLEQoKeQkKChEKCgEZCfQJCfTqJQgLFh8WFg844SwEEgkQFhYQEBYWHxYKCQkKJqkICwsRCgp5ChEKChEKChEKChEKAAAFAAAAAAEaAPQACwAPABMAGAAcAAA3FzcXNyc3JwcnBxcnITUhFSE1IRc1IxUzFTUjFbwNHh4PICAPHh4NHscBBv76AQb++paWlpZADR4eDR4eDyAgDx6DE0sTQgkSORMTAAAABAAAAAABFgEaABYAIgAsADYAADcjNTMVMzUnIzUjNCYiBhUjFSMHFRczNT4CHgEUDgEuAhcHNSMVJwcXMzcnMxcHJxUjNQcngziWEwocEhYgFRQbCgpBAQkLCgcFCgsIBYYUExQOJQ0kfA0lDhQTFA0mqCUvCRMPFhYPEwm8CeUFCQIECgoKBQEGCqwUZGQUDSQkWyQNFGRkFA0ABAAAAAABBwEHAAsAGQAgACQAADcnBycHFwcXNxc3LwE3MxcVByMVByMnNTc7AhcVMzUjFyMVM6IOGhsNGxsNGxoOGykTgxMTJhKEEhImE0sSJoNLhISUDhsbDhobDRsbDRt6ExODEyYSEoQSEkuDOIQAAAABAAAAAADoAOgACwAANxc3JzcnBycHFwcXlkQORUUOREQORUUOiUUOREQORUUOREQOAAAAAgAAAAABGgD2AC8AOQAANzMeARQGIzUyNjQmJyMnLgIGDwEnJiciBw4BHgE7ARUjIiYnLgE+ATc2Fz4BHgEHFzUzFTcXByMn4AEXISEXDxUVDxECAhcfGwYGEAUFFA0KBgsYDgkJDhoJDAcLGxEODgkmKx9fGBMYDSgNKLwBIC8hExYeFgEQDxYFEA4OAwEBDgocGhATCwsNIyIXAwMEFBYGH3YYZmUXDSgoAAIAAAAAARoA9gAyADwAADczHgEUBisBNTMyNjQmJyMnLgIGDwEnJicGBw4BHgE7ARUjIiYnLgE3PgIXPgEeARcHJxUjNQcnNzMX4AEXISEXJSUPFRUPEQICFx8bBgYQBQUUDQoGCxgOLy8OGgkPBAsHFxwOCSYrHwMfGRIYDSgNKLwBIC8hExYeFgEQDxYFEA4OAwEBAQ0KHBoQEwsLECsSDBEFBBQWBh8WSBlmZRgOKCgAAAIAAAAAARoA9gAVAC4AADczHgEUBisBIiYnLgE+ATc2Fz4BHgEHMzI2NCYrAScuAgYPAScmJyIHDgEeATPgARchIReMDhoJDAcLGxEODgkmKx9/gxAWFhARAgIXHxsGBhAFBRQNCgYLGA68ASAvIQsLDSMiFwMDBBQWBh9zFh8WEA8WBRAODgMBAQ4KHBoQAAcAAAAAARoBGgADAAcACwAPABMAFwAnAAATMxUjNzMVIxczFSMVMxUjFTMVIwczFSMnBxUzNTMVIzUjFRczNzUnXhMTJUtLJktLS0tLSyZLS10TE+HhExPhEhIBB8+8ExMSExMTEhMTzhJeXs9xcRISzxIAAwAAAAABFAD0AAYADQARAAA3BxcHJzU3MwcXBxc3NQcXNydYMTENODiRDjIyDji4EV4RwzEyDTgNOQ4xMg04DWAIuwkAAAAABgAAAAABLAEaABUAKwBBAFMAXQBlAAATFRQWFzMWFxYdASM1NCYvASYnJj0BMxUGFhczFhcWHQEjNTQmJzUmJyY9ATMVFBYXMRYXFh0BIzU0Ji8BJicmPQEHNzMyFhQGKwEOASsBIi4BPQEXNSMVFBY7ATI2NxUzFjY0JiM4BwgBCgQIEwcIAQoECEwBBwgBCgQIEwYJCgUHSwYJCgUHEgcIAQoECHASxRQbGxQMBigaOBUiFbypIRc5FyETCQwQEAwBGQkGCAcIBQoMCgoGCAYBBwYKDAkJBggHCAUKDAoKBggGAQcGCgwJCQYIBwgFCgwKCgYIBgEHBgoMCXATHCcbGR8UIhQ5ODg4GCEhUDgBERcRAAAAAAQAAAAAAQcBBwADABEAGAAcAAA3IxUzJzczFxUHIxUHIyc1NzsCFxUzNSMXIxUzqV5eSxODExMmEoQSEiYTSxImg0uEhIMSgxMTgxMmEhKEEhJLgziEAAACAAAAAAEaARoADAAUAAATIg4BFB4BMj4BNC4BBzUyHgEUDgGWJDwjIzxIPCMjPCQfMx8fMwEZIzxIPCMjPEg8I/PhHzM+Mx4AAAAACgAAAAABLAEaAAcACwATABcAHwAjACsALwAzAD0AABMHFRczNzUnBzUzFQ8BFRczNzUnBzUzFQc3MxcVByMnNxUzNTcHFRczNzUnByM1MxUjNTMnIxUzBxc3NScHHAkJOAoKLiUvCQk4CgouJTgJOAoKOAkTJZ8JCTkJCQolJSUlbjo6Ew0iIg0BGQk4Cgo4CTgmJiUKOAkJOAo5JiYvCgo4CQkvJSWDCXEJCXEJOCZeJRMTEgwiDSINAAADAAAAAAEaARoAEgAeACcAAD8BFQcnNSMnNTczFxUjNSMVMx8CNzUzNzUnIwcVFzcjNTMVIwcVJ0sTFhAcCQnhChPOHAl2IxAcCQmWCQlLQoQdCRZYExsVBy8JlgkJVEuECUIiBhwKXQoKXQoTS0sJDxUAAAoAAAAAARoBBwAGAAoADgAUABgAIwAnAC0AMQA4AAABIxUzFTM1JzMVIyczFSMXHQEzNzUHNSMVJyMPATUnIxUXNzM3NSMVBzUjFRczPQEjFTcVIzU3MxUBEBwTEnAlJUslJakJCTglJgkHKAoJEDYFgxLhEwkKExMTCRwBBhITHAkSEhKEEhMJHCUTExMDKCEKQgc2SyUlOBIcCUslJV4THAkSAAAAAAIAAAAAARoBBwAXACMAABMzFxUmJzUjFTMXFT8BMwYVIwcnNSMnNRciDgEeAj4BNTQmHPQJCArhLgooBwsCBTYQLwnOERwNBhgiHxMhAQcKgAkGaJYKISgDCQo2By8JqXoTHyIYBg0cERchAAIAAAAAARoBBwALABQAAAEjBxUXMxUXNzM3NQcjDwE1JyM1MwEQ9AkJLxA2fwkSegcoCi7hAQcKqQkvBzYJqZ8DKCEKlgAAAAUAAP/9AS0BGgAsADIANgBDAEoAADcGIzUjFS4CJzM1Iz4CNxUzNR4CFyMVMwcWFzY1NC4BIg4BFB4BMzI3JjcvAR8BBi8CHwE2FzIWFRQOAS4CNhc3JwcnBxerBgYSGy4cAhISAh0tGxIbLhwCEhIBCQgDIzxIPCMjPCQODQQNNyZMGwYNEiQSRw8RFyETHyIYBw0uIg8cEAwYJwESEgIdLRsTGy0cAhISAhwuGxIMAgQNDiQ8IyM8SDwjAwhKG0wmNwQNJBIkJgoBIBgRHA0GGSEgPy0LJQ4PEwAEAAAAAAEsARoALAAyADYAPwAANwYjNSMVLgInMzUjPgI3FTM1HgIXIxUzBxYXNjU0LgEiDgEUHgEzMjcmNy8BHwEGLwIfARQWMjY0JiIGqwYGEhsuHAISEgIdLRsSGy4cAhISAQkIAyM8SDwjIzwkDg0EDTcmTBsGDRIkEi8gLyEhLyAnARISAh0tGxMbLRwCEhICHC4bEgwCBA0OJDwjIzxIPCMDCEobTCY3BA0kEiRVFyEhLyEhAAAAAAQAAAAAARoBGgADAAcAIwAwAAA3Fy8BFy8BFzMOAgc1IxUuAiczNSM+AjcVMzUeAhcjFQcyPgE0LgEiDgEUHgGpJkwmVBIkEnkCHC4bEhsuHAISEgIdLRsSGy4cAhJeJDwjIzxIPCMjPKlMJkxUJBIkGy4cAhISAh0tGxMbLRwCEhICHC4bEnojPEg8IyM8SDwjAAAG//8AAAEsAQsADAAYAE4AZwBxAHsAADcyFh0BFAYiJj0BNDYXNCYiBh0BFBYyNjUnFhc3NhcWFxYVFAcXMx4BHQEUBw4BDwEGBwYHBiInJicmLwEuAScmPQE0NjczNyY1NDc2NzYPARUXFhcWMjc2PwE1JwYjIicmJwYHBiMiNyYOARQWMjY3NjcGFx4BMjY0LgF1BggIDAgIVggMCAgMCDICAQMRJiMQDQUDAQ4PAwIHBwsGBwwNKVIpDQwHBgsHBwIDDw4BAwUNECMmSQEBCgwkRiQMCgEBDBQhEgYEBAYSIRQ6CDAPDCoTAgMnBwMCEyoMDzBxCQYcBggIBhwGCQ8GCQkGHAYICAayAQIDEwUEExEeEwwQBxkOGAUGAwkFCAUEBwUSEgUHBAUIBQkDBgUYDhkHEAwTHhETBAWCAlABBgUPDwUGAVACBhMGCAgGE2IIBRMoDhQUFggIFhQUDigTBQAAAAADAAAAAAEHARoABwAMABMAAD8BMxcVByMnNycjFTMnBxUXNTMnSxNlRBOWE6k4Xpa8EhJ5E+ETQ4sTE4M4u/MSvBPPEgAAAAAEAAAAAAEHAPQABgAbACgANgAANw8BJzcXNxc+ATU0LgEjIgcmIzYzMh4BFAYHNgciLgE0PgIeAg4BBzI+ATQuASIOARQeARenLw4cDRUoSQkKEh4SDQwNDxceFycXGRQFZRIeEhIeJB4RARIeEhcnFhYnLicWFicXkDgBHA4VMCsJGA0SHhIFBRMXJy4oCw4rEh4kHhEBEh4kHhISFicuJxYWJy4nFgEAAAAABAAAAAABGgDiAAMABwAXABsAACUVIzUVMxUjNyMiBh0BFBY7ATI2PQE0JgczFSMBB+Hh4eHhCAsLCOEHCwtAJibOEhIlXpYLCIMICwsIgwgLcBMAAQAAAAAAzwCWAAMAADczFSNecHCWEwAABgAAAAABCQEcAAwAHAAoADAAOgBIAAATPgEeAg4CLgI2FxYzMj4BNTQuAg4CHgE3FwcWDgEuAj4BFwcWNjQmDgEWNwcWFRQHFz4BLwEmIyIOARQXByY+AhdJG0E7JAQdNkE6JQQcJhogHC8cFiUwLiQTAxiCDSgEBREUDwIMFAoSBQoHCAQBVA8FCQ4MAwo0CwwSHhIJDRADJjgaAQUSBB02QTskBBw3QTqoEhwvHBkqHgkMIC0vKooNKQkUDAIOFREFBCEDBAsFAQcHKw4LDRIPDhMuFBcFEh4kDw4YOSsMDQAAAwAAAAAA9AEaABMAJAA1AAA3NC4BIg4BFRcjFRceATI2PwE1IycyFx4BFAYHBiInLgE0Njc2FwcOAQcGIicuAS8BNRY3Fjf0GSwyLBkBAQEENUg1BAEBXRUTEBMTEBMqExATExATYAEBEw8SKhIPEwEBIygoI+oNFgwMFg0CpgcRFxcRB6YeBQQOCg0EBQUEDQoOBAXEAwUMBAUFBAwFA4wUAQEVAAAABQAAAAABKAEHACUALAA1AD8ARgAANwcuASIGBycHFwcVIxUzFRYXBxc3HgEyNjcXNyc2NzUzNSM1JzcnMhYVIzQ2Fw4BBy4BJzUzJwcVMzUXBxU3NQc1Nyc1FxWJEQQZIBkEEQ0WAxMTAQQYDRUHFhgWBxUNGAQBExMDFksMEDgQMgIVDw8VAUsqDxOOMEdHaY+lgxAPFBQPEA0WAhMTAQkJGA0VCgsLChUNGAkKARITAhYNEAwMEEsPFQEBFQ8cswhWRF8gFy8QZBZGXxduEAAAAAAEAAAAAAEWAQcAJQAsADUAPwAANwcuASIGBycHFwcVIxUzFRYXBxc3HgEyNjcXNyc2NzUzNSM1JzcnMhYVIzQ2Fw4BBy4BJzUzJzcXFQc1NycVI4kRBBkgGQQRDRYDExMBBBgNFQcWGBYHFQ0YBAETEwMWSwwQOBAyAhUPDxUBSxMOqWxWjhODEA8UFA8QDRYCExMBCQkYDRUKCwsKFQ0YCQoBEhMCFg0QDAwQSw8VAQEVDxyrCHEQSBc5X0QAAAAEAAAAAAEpASwAJQAsADUAQAAANwcuASIGBycHFwcVIxUzFRYXBxc3HgEyNjcXNyc2NzUzNSM1JzcnMhYVIzQ2Fw4BBy4BJzUzNxUHNTcnFSYnNTeJEQQZIBkEEQ0WAxMTAQQYDRUHFhgWBxUNGAQBExMCFUsMEDgQMgIVDw8VAUu4gGqiCQoOgxAPFBQPEA0VAxMTAQkJGA0VCgsLChUNGQgKARITAxUNEAwMEEsPFQEBFQ8cYBBRFkNndgYDfggAAAAABAAAAAAA4wDjAAwAGAAcACAAADc+AR4CDgIuAjYXHgE+AiYnJg4BFjcjFTMVIxUzbBEoJBcCEiEoJBYDEh0MHBkPAg0LEikYCEo4ODg41AwCESIoJBcCEiEoJF4IAgwXHBkICwgjKjsTEhMAAwAAAAAA4QDiAAwAEAAUAAA3Ig4BFB4BMj4BNC4BFxUjNTcVIzWWFCMUFCMoIxQUIxJLS0vhFCMoIxQUIygjFF4SEjkTEwAAAgAAAAAA5gDhAAUACwAANyMHFzM3ByMnNzMXulYsLFYsOjoeHjod4UtLSzMzMzMAAQAAAAAA5gDhAAUAADcHIyc3M+UrViwsVpZLS0sAAAACAAAAAADhAOEAAgAFAAA3MycHMydLlksjRiNeg2w9AAEAAAAAAOEA4QACAAA3FyOWS5bhgQAAAAIAAAAAAPQA9AADAAcAAD8BFwc1NycHOV1dXTQ0NJZeXl0pNDU1AAABAAAAAAD0APQAAwAANxcHJ5ZeXl70Xl5eAAAAAwAAAAAA4wDjAAwAEAAUAAA3PgEuAg4CHgI2JyMVMyc1MxXUDAIRIigkFwIRIigkJxcXFxdsESgkFwIRIigkFwIRFhMlS0sABQAAAAABHAEcABUAHgBEAEwAVgAAEzczHwIVDwErATU0JzM1IxUmIz0BFwcmLwE3JzcXBzcXBxcVMxUjFQYHFwcnDgEiJicHJzcmJzUjNTM1Nyc3Fz4BMhYHLgEOARUzNAc2NzUjFR4BFzZYArEBDwEBDwFcB2CsCQqGIwICBhwtCjRXEQ0VAhMTAQQYDRUHFhgWBxUNGAQBExMDFg0RBBkgGRUGERAJOAIKAUoBFQ8PARsBAQ8BsQIPAgoHrFsCXAFnIwMDBRwuCjM7EA0VAxMSAQoJGA0VCgsLChUNGQgJARMTAxUNEA8UFAcGAwYOCQxUCg8cHA8VAQEAAwAAAAABDAEHAAMACQAMAAATIxUzNwcVFzc1DwE1SxMTPg8PgxZpAQfh1Qe8B10QCEyYAAMAAAAAAQ8BBwADAAkADAAAEzMVIzcHFRc3NQ8BNS8cHFwWFoQhXQEH4dkLvAteFgtChAADAAAAAAEWAQcACQAuADgAAD8BFxUHNTcnFSMXDgEdARQOAisBIi4CPQE0LgI1ND4EMh4EFRQGByMVFBY7ATI2NV4OqWxWjhMVBQYCAwUDEAMFAwIGCwcDBggKDAwMCggGBAccFgIBEAEC/whxEEgXOV9EYAUNBxADBQMCAgMFAxAHDQsQCgYLCwgGAwMGCAsLBgoQGRYBAgIBAAAEAAAAAAERARoAEQAfADcARAAANyYnNycHJicmBwYPARc3Njc2BwYPASc3Njc2Fx4BFxYHNycHJzcnBycHDgEUFhcHFzceATI2PwEHBiIuAjU0PwEXBwb/AwUZCxoHCRQUCwgdUR0JBAgXAwYSOhIGBxAQBwsEBmEcDBsjHAwcCx0JCAUGGQsaBxIVFQgdNggQDwwGDBI6EgbkCQcaCxkGAgcIBAkdUR0ICxQOBwYSOhIGAwYGBAsHEG4dDB0jHQwdCx0IFRURCBkMGQUGCQgdGgQHCw8IEQwSOhIFAAAAAAYAAAAAARoBAAADAAcACwAPABUAGAAANzUzFSczFSM3FSM1HQEzNSU3FxUHJzcVN3GoXV1dXaio/voOZWUOE0pxEhJLE0sTE6kTE60HQw9ECHVjMQAAAAACAAAAAADYAPQAAwAHAAA3MxUjNxUjNVQdHYQc9Ly8vLwAAAACAAD//QEWAQcAGgAkAAA3FA4BJicHHgE+Ai4BBgc1IxUXMzUjPgEeASc3FxUHNTcnFSOGGScjCBIKLTIjBxovMQ8TCSwYCiMlFygOqVlDjhNLFB8IEhIHFxkHJTIsEw0UFzIKExEOCh6hCHEQOxYtX0QAAAUAAAAAARwA9AAEAAkADgASAC0AADc1MwYHNzY3IxUXJicjFSUVITUXMj4BLgEGBzMVIyc1MxU+AR4BDgImJzceARNhAgEXCQuJaQUDYQEG/vrHEhoGESEgCRQlCBANKicWBh4qJQkPBhdxEgkJOAoIEnEJChO8ExO8FiIeDAwPEAgqExELESQrHgcVFAYNDwAAAAABAAAAAAEMAQ0AHQAANxQOASYnBx4CPgI1NC4BBgc1IxUXMzUjPgEeAe8mOjUMGgooMjMpFypERRYcDkEjDjU3I5YeLg0bHAsYIQ0KIC8aJDsXFRwiSw4cGRYPLQAAAAADAAAAAAD+AQcAAwAJAAwAABMjFTMnFxUHJzUfATX9HBxcFhaEIV0BB+HZC7wLXhYLQoQAAwAAAAABEAEHAAgAEgAXAAA3FAYuATQ2MhYzLwEjBxUXMz8BByM1Mxe8FiAVFSAWVFARXxgYXxFQYV9fT5YQFgEVIBYWWQgYshcIWUqyWQACAAAAAAEQAQcACQAOAAAlLwEjBxUXMz8BByM1MxcBEFARXxgYXxFQYV9fT6ZZCBiyFwhZSrJZAAIAAAAAAPwBAAAFAAgAAD8BFxUHJzcVN1AWlpYWHG70C2QXZAytk0oAAAAAAgAAAAABDAEMABcAIAAANzUzFT4BMzIeAR8BIzUuAiIGBzMVIycXIiY0NjIWFAYhHBAwGx00IAIBHQIYJy4pCzVOEnUQFRUgFhbASy8TFhsuHAUEFCIUFhMcEpAVIBYWIBUAAAIAAAAAAOoBGgAKABMAADczNycHNSMVJwcfARQGIiY0NjIWlgpJFDEcMRRJLxYfFhYfFnlJFDF0dDEUSUEQFRUgFhYAAgAAAAAA6gEaAAoAEwAAEyMHFzcVMzUXNycXFAYiJjQ2MhaWCkkUMRwxFEkbFh8WFh8WARlJFDF0dDEUSeEQFRUgFhYAAAAAAgAAAAABDAEMABcAIQAAJTUjFS4BIyIOAQ8BMzU+AjIWFyMVMzcHMjY0LgEGFBYzAQscEDAbHTQgAgEdAhgnLikLNU4SdRAWFiAVFRDASy8TFhsuHAUEFCIUFhMcEpAVIBUBFiAWAAACAAAAAAEHAQcABwALAAATFxUHIyc1NxcjFTP0ExO8EhK3srIBBxO8EhK8ExiyAAAFAAAAAAErASwAAQANAEEASQBZAAA3NRcnNxc3FwcXBycHJzcVMzcXBxUWFQczFSMxBg8BFwcnBw4BIiYvAQcnNycmJysBNTM1NDc1JzcXMzU0PgEyHgEHFTM1NCYiBhc1IwcGFRQeAjI+AjU0K1smDSgnDSYmDSgnDXQQJA0iDAEsLgYPASsNKQEOJCYkDgEpDCoBDwUBLiwLIw0kEhAdIh0Ra1kaJRp6mwEJDhkfIh8ZD4sBCSYMKCgNJiYNKSgNkAwkDSIBHh8OEh8ZASsMKQIPEhIQAigMKgEZHhIOIBwBIw0kDBEdEREdEQwMExoaMgEBGhwZLSERESEtGR0AAgAAAAABGgEHABQAHgAANzUyNjc2NSMnNTczFxUnNSMVMwcXMzcnBzUjFScHF0sREQICVQkJ9AkS4WsJLigvDR8THg4vExMFBQMFCrsKCq0TkakJLy8NH3l5Hw0vAAAAAwAAAAABGgDhAA0AEQAVAAAlBzUnIwcVFzM3NRc3NQcjNTMXJzU3AQs9CakJCakJPQ5dlpZLOTnTIygJCYQJCSYjCWttcF0fCiIAAAUAAAAAARoBBwANABcAIAApADIAADczFxUHIyc1NzM/ATMXBzM1Iy8BIw8BIxciBhQWPgE0JhcyFhQGLgE0NjciBhQWMjY0JslHCQn0CQlHEAc4B5PhQgcQMBAHQRwEBgYIBQVQEBYWIBUVEBchIS4hIfQKqAoKqAoQAwO5lgMQEAMTBQgGAQUIBRIWIBYBFSAWEiEuISEuIQAAAAMAAAAAAPQBGgAHAAsADwAAEzMXFQcjJzUXMzUjFzMVI1SWCgqWCRODgy8lJQEZCfQJCfTq4bwTAAAAAAMAAAAAAQcBGgAHAAsAFwAAEzMXFQcjJzUXMzUjFyMVIxUzFTM1MzUjHOEKCuEJE87OcBM4OBM4OAEZCeEJCeHYzyY4Ezg4EwAAAAADAAAAAAEaARoABwALABEAABMzFxUHIyc1FzM1IxczFQcjNRz0CQn0CRPh4ZYlcCYBGQn0CQn06uEmJXEmAAAAAwAAAAABGgEaAAcACwAUAAATMxcVByMnNRcVMzUHMjY0JiIGFBYc9AkJ9AkT4XEXISEuISEBGQn0CQn0CeHhqSEuISEuIQAABQAAAAABGgEaAAkADgAaAB4AJQAAEx8BFQcjJzU3MwczNScjFyMVMxUzNTM1IzUjBzMVIzcfARUHLwG2OAYTqRMTcXGpOHFLJSUTJiYTJV5eiysFEgE4ARQ4DqgTE+ES86g5SxMmJhMlgxPOKw27E844AAADAAAAAAEHARoAAwALAA8AADcVIzUnMxcVByMnNRczNSO8XkLhCgrhCRPOzqkTE3AJ4QkJ4djPAAMAAAAAARoBGgAHAAsAEgAAEzMXFQcjJzUXMzUjFzMVNycVIxz0CQn0CRPh4SU4Xl44ARkJ9AkJ9OrhhDhLSzgAAAAABAAAAAABBwEaAAkADgAaAB4AABMfARUHIyc1NzMHMzUnIxcjFTMVMzUzNSM1IwczFSPJOAUSqRMTcHCpOXBLJSUTJSUTJV1dARQ4DqgTE+ES86g5SxMmJhMlgxMAAAAABgAAAAABGgD0AAcACwAPABcAGwAfAAA/ATMXFQcjJzczNSM1MzUjNzMXFQcjJzUXMzUjNTM1IyYJXgkJXgkSS0tLS3peCQleCRNLS0tL6goKqAoKCXESExMKqAoKqJ8mJUsAAAEAAAAAAPcBCgAZAAATFRczNSM3PgEeAgYPARc3PgEuAgYPATVCCUIwEg0iIxkKCg1hDWIQDAwhLCwQDgEHQgkSEg0JCRkjIwxiDWERLCwhCwsRDScAAAADAAAAAAEaARoACQAMABAAABMjDwIXPwI1BzcXNyc3F/gbmwMsGk0FmuwdGxAhliEBGZoFTRosA5sbyzgbCiGWIQAAAAMAAAAAARoBGgANABEAGAAAJScjNScjBxUXMxUXMzcnNTMVFyM1Mzc1MwEZCY0JXgkJLwm8CfNLlqkcCYSyClQJCZcIVQkJZ3FxXUsIHQAAAwAAAAABBwCpAAgAEQAaAAA3FAYiJjQ2MhYXFAYiJjQ2MhYXFAYiJjQ2MhZLCxAKChALXgsQCwsQC14LEAsLEAuWCAsLEAsLCAgLCxALCwgICwsQCwsAAAIAAAAAARoBGgALABwAADczFSMVIzUjNTM1Mwc1MxUzNSM1MzUjNTMXFQcjSzg4Ezg4EzgT4XFxcXoJCfThEzg4Ezj9Z12DEyUTCs4JAAAAAwAAAAAA4gDhAAsAGAAhAAA3JwcnNyc3FzcXBxc3FA4BIi4BND4BMh4BBzQmIgYUFjI2rBYWERYWERYWERYWJBQjKCMUFCMoIxQTIS4hIS4hbxYWERYWERYWERYWFhQjFBQjKCMUFCMUFyEhLiEhAAMAAAAAARYBGwAVACgANAAAEx4BFxYVFAcOAQcGJy4DNzY3PgEXNjc2JzQmJyYnJgYHDgEWFx4BJzcXBxcHJwcnNyc3oRYpECYeDyYWMCcUHhADBw8mEishJhkZAhEPHSYTJg8gFyEiECYELQ0tLQ0tLQ0tLQ0BGQEUECk3KycSFwQJFgsiKi4VLhkMDPQJHyIlFyoQHQMBCQsYTkgTCgZ8Lw0vLw0vLw0vLw0AAAAABAAAAAABHQEaAC8AQwBQAFQAABMjBycHFwcVFwcXNxczJicjLwEHJzcvATU/ASc3Fz8BMx8BNxcHHwEVFhc1JzcnDwEyFhcGBy4BDgIWFwYHLgE+AR8BPgEeAg4CLgI2FxUzNbA0CiYmGi0tGiYmCicKCAYJDiYPGQYsLAYZDyYOCRYJDiYPGQYsCwgtGiYmJAwTBAkIAQsOCgEIBwYDDQ0EFQ4YDiMhFwUNHCIgFgYMCF4BGS0aJiYKNAomJhotCAssBhkPJg4JFgkOJg8ZBiwsBhkPJg4JBggKJwomJhowDgsDBgcIAQoOCwEICQUXGxIBNAwGDBwjIRYFDBsiIR4TEwAFAAAAAAEHAQcAAwAHABUAHAAgAAA3IxUzBzUjFSc3MxcVByMVByMnNTc7AhcVMzUjFyMVM6leXiYSExODExMmEoQSEiYTSxImg0uEhIMSJl5eqRMTgxMmEhKEEhJLgziEAAAAAgAAAAABGgDjAAgADAAANyc3FwcnNyM1JzMVI/UsDUNDDSy9JRMTqS0NREMNLRM4gwAAAAYAAAAAASwBLAAHAAsAFwAbAB8AIwAAEzczFxUHIyc3FTM1BTU3MxcVMxcVByMnNzUjFRcjFTsCNSOpE10TE10TE13+5xNeEl4TE84TcV5eXl4SXl4BGRMTXRMTXV1dqHATE14SXhMTcF5eEl5eAAAEAAAAAAEUARQAIAAmADcAOwAAEwYUHwEOAQcGHgE2Nz4BNxcGFBYyNxcWMjY0LwExJyYiHwEGIiY0NyIHFzYzMhYXHgE+AScuAgcXLgEcAwIzEhoFAQQHBwEFFxEWDh0pD0oDCAUCgGgDCGIsCRoSHxMRDwsKJTkJAQcHBAEHIzMaMAEbARACBwMzDSUWBAcCBAQUIAsXDikeD0oDBQcDgGgDdCwJExlRBRADLiMEBAIHBBsrGCwvExsAAAMAAAAAAREA6AAIABEAKAAANzIWFAYiJjQ2FyIGFBYyNjQmJzIeARcWDgEmJy4BIgYHDgEuATc+ApYVHR0qHR0VDRISGhISDRwzIwcBBAcHAQk5SjkJAQcHBAEHIzO7HSkeHikdEhMaEhIaEz4YKxsEBwIEBCMtLSMEBAIHBBsrGAAAAAP//wAAARoBGgAVADsARAAAEwcVNxc1MxUjBzUjFwczFRc3Mzc1Jwc+ATQuASIOARQWFw4BBwYPATM1ND4COwEyHgIdATMnJicuASciJjQ2MhYUBlQJCQqpIRgmAQEUECIiCQmYDhASHiMfERANDRYHBAEBEwoSGA0BDRgSChMBAQUGFjITGxsnGxsBGQkdAQEUXhgYCgkcByMJcQmxCR0jHhISHiMdCQYWEAsMEgoNFxMKChMXDQoTCwsQFg8bJxsbJxsAAAAACAAAAAABBwEaAAkADgAYAB0AJwAxADsAQAAAEx8BFQcjJzU3MwcVMzUnBxQzMjY1NCMiBhc0MhQiFzM1IzUHFTcVIwcjNTM1BzU3FTM3FDMyNjU0IyIGFzQyFCLGPgMKzgkJkYi8OGgZDQ4ZDQ4QFBQ8LQ8fEA8aLQ8QIA4UGg0NGQ0OEBQUARc+B7YJCfQJEuGoOUwlFBIlFBIaMgsMPQYNAy1qDC0DDQY9GCQTEyUUExoyAAAAAAUAAAAAAQcBGgAJAAwAEwAaACEAABMfARUHIyc1NzMHMycjFTM1Iyc1BzcnBxUXPwIXFQcnN8Y+AwrOCQmRBDg4hLxCCUoiDSkpDSQNKSkNIgEXPge2CQn0CUs54ZYJQo4jDSkNKQ1EDikNKQ0iAAAHAAAAAAEaARoAEQAUABwAJQApAC0ANgAAEzMVFzMVMzUvAiMHFRczNSM3FyMXIwcVFzM3NQcVJyMHJyMHNRc3FysBNTcXNzI2NCYiBhQWJnAJQhMDPgaRCQlCOIM4OGeWCQmWCRIfDRYoDQ1PDx0eXRMvJQQGBggFBQEHQgkTKQc+Agn0CRPhOTgJcQkJcQpLHhYoDCdQDxwbEy5BBgcGBgcGAAkAAAAAAQcBGgAOABEAGQAeACgALgA3AD8ASQAAJS8BIwcVMzUzFRczFTM1BzUXDwEVFzM3NScHFSM1MwcjFSM1MzIVFAYnIxUzMjQXNic0ByMVMzInNTM2FhQGJzcjFSM1MxUjFTMBBD4GkQkScQlCE0s4xQkJzgoKCby8lgYNFBUNCgUFCkIJAR4UFA0UBgcLCghNEg0hFBLZPgIJZ15CCRMpBDk5OAlxCQlxCV4SXTgTORMICxsRESYJDBwBOAsjAQsPCwELFjkLDgAAAAAEAAAAAAEaAQcAAwAhACsAMgAANzM1Izc1NzMfATMXFQcjJzUjJzU3Mx8BMxcVIzUjLwEjFRcnIxUzPwEzNSMHIxUzNSMHJhISEgpTCAhrCQnOChwJCVMICGsKE2cICERxCEQ7CAhxaBNBvGsIXksTCQkEDgqWCQkvCakKBQ4KLiUFDjgPDzkOBRM4S10OAAAEAAAAAAEaAQcACgASABwALAAANzMXFQcjJzU3Mx8BNTcjDwEjFTczNyMvASMVMzcXJzcXFQcnNyMOARcjNDY3kX8JCfQJCV4HhQF3EAZUZnoBegcQUFAQMRkOKSsNGxoPFQETHhf0CrsJCc4KA8wdZxADcZYTAxA5EEkaDSoNKg4ZARUOFiABAAAAAAUAAAAAAQcBGgARABQAHAAgACoAABMfARUHIzUzNSMnNSMVIzU3MwczJwcjBxUXMzc1ByM1MwcVIzUHJzcjNTPGPgMKQThCCXESCZEEODgdgwkJgwoTcHATEjINMSE4ARc+B7YJE5YJQktUCUs5XgqDCQmDeXAcOCExDTISAAAACwAAAAABBwEaAAoADgAjACcAKwAvADMANwA7AD8ASQAAEzMXFQ8BFQcjJzUXIxUzFTM1LwE1IxUHIxUjNSMnNSMVMzUzNRUzNScVIzU3MxUjNRUjNTczFSM1FSM1OwE1Ixc3NSMVHwEVMzUvzgoDEAq7CUsTE0sQAyYJCRMKCRMmExISExMSEhMTEhITExIScxA4DwMTARkJXgYRfwkJ9Akmu3YQB1QvChISCi/hEhMTExMTExMTJRISExMmExMTFhBRUQ8HenkAAAAAAwAAAAABBwEaAAkADwASAAAlLwEjBxUXMzc1ByM1MxUzJzUXAQE4DXETE6kTE6leSzg43DgFEuETE6io4UsSOTkAAAAEAAAAAAETASwADQAQABcAHQAAEyMHFSMHFRczNzUzNzUnFyMHIzUzFRczNyM1MxUz23ESORISlxI7EDgeHiaWORJLS5ZeOAEsEzgTvBISORKXHh7hu3ESE7s4AAEAAAAAARoBBwAHAAABFQcVIzUnNQEZXUteAQcgWWhoWSAAAAIAAAAAARoBBwAHAA8AAAEVBxUjNSc1FxUzNTc1IxUBGV1LXnAmXuEBByBZaGhZIHFeXlkFBQAAAgAAAAAA+wEaAC0AUwAANyc2JicmJwYHBhcWFwcuAjc1Njc2NzY/ATY3Njc2JzceAQc2PwEVFhcWBw4BJxcGFhceAQc+ATc2JicOAS8BNiYnBgcGDwEGBwYVMQYWFyY3NjerCgkDCxIEDgIDBgMKCxQfEQEBAwQJChAICQcKAwQGDR8bCQYEEQoGCwsJJTsQAQkJDQoEDBIFBQQIBhMKBgwJFAIRCQ8CFwkEARAPCgUGHBMOCxwJDxYTEQ4NCA4OBBglFAcJCQ0NDw4ICgsPDBEMDBZHJQcIAgEQEyUbFBp/Bw0ZCQkcDwQRCxEjEAkJAg0bOxYWGg0PAhQXDAoSHwoXFRwfAAAAAgAAAAABCwEaAAYADQAAAScHJwcXMzcnBycHFzMBCg1wcQ13DXcNcHENdw0BDA1wcA13Bg5xcQ53AAAAAgAAAAABDgEaAAYADQAANxc3FzcnIwcXNxc3JyMTDXBxDXYNeA1wcQ12DaENcXENeOgNcHANeAACAAAAAADuAQAABgANAAA3BycHFzM3BzcXNycjB+BKSwxRC1GjTUwMUwtS/0pKC1FRzkxMC1JSAAQAAP//AS4BBwAUAB4AKwAyAAA3MxcVJic1Iw8BIxUzFhcjJzU3Mx8BMzcjLwEjFTM3Fz4BHgIOAi4CNhc3JwcnBxeRfwkIC3YQBlVgAgRvCQleBwt6AXoHEFBQEDERKCQXAhIhKCQWAxI4LQ8nGAwg9ApUBwQbEANxCQkJzgoDNhMDEDkQQgwCESIoJBcCEiEoJFI7DDQTDhoAAAUAAAAAARoBBwASABwAIAAkACgAADczFxUjNSMPASMVMxUjJzU3Mx8BMzcjLwEjFTM3FzMVIzczFSM/ARcHkX8JEncQB1ReZwkJXgcLegF6BxBQUBAQExMmEhIlEiYR9ApBExADcRIJzgoDNhMDEDkQNXBwcGkHagYAAAADAAAAAAElAQcADQAZACAAADczPwEnIzUnIy8BIwcVNzMfATMVIw8BIw8BFyM3Mz8BMxzOCTIJFQpsEQZeCRNQEAdnVQYQRwkTvbofRQYQbSYGhAwuChADCs7FEAMlAxAHOTFeAxAAAAMAAAAAARoBBwAKABIAHAAAJSMvASMHFRczNzUHFSM1Mz8BMycjDwEjNTMfATMBEH8QB14JCfQJE+FVBhB3AXoGEFBQEAd69BADCs4JCbuVHXEDEBIDEDkQAwAABQAAAAABLAD0ABMAIwBAAEkAUwAANzMyHgEdARQOASsBIi4BPQE0PgEXIgYdARQWOwEyNj0BNCYjByIGHQEjIgYUFjsBFRQWMjY9ATMyNjQmKwE1NCYXFAYiJjQ2HgEHFAYiJj4BMhYVS5YUIxQUIxSWFCMUFCMUFyEhF5YXISEXegQFHAQGBgQcBQgGHAQFBQQcBokLEAsLEAsTCxALAQoQC/QUIxQ4FSIUFCIUORQjFBMhFzgYISEYOBchJQYEHAUIBhwEBQUEHAYIBRwEBhMICwsQCwEKQAgLCw8LCwgAAAAABAAAAAABGgEaAB8ANwBAAEkAADcnIw8BJwcXDwEVHwEHFzcfATM/ARc3Jz8BNS8BNycHJxc3FwcXFQcXBycHIycHJzcnNTcnNxc3FxQGIiY0NjIWBzI2NCYiBhQWqwoWCg0lERgDLS0FGA8lDwgWCg8lDxgFLC0GGA8lCAonJhstLRsmJwo0CiclGi0tGSYnCEAXHhYWHhcmCAsLEAsL2i0tBhgPJQ0KFgoPJQ8YBSstBRgPJQ8IFgoPJQ8YQy0ZJicINAonJRotLRkmJwg0CicmGy2DDxYWHhcXIgsQCwsQCwAABQAAAAABBwEaACIAJgA5AEwAUAAANyM2NSYnJi8BJiIGBwYHJicmIyIHBgcGDwEUFyMHFRczNzUHIzUzNSM1JjU3Njc2NzYyFxYXFhcWFTM0NzY3Njc2MhYXFh8BFAcVByMXIzUz/R4CBAMGCAUICQgDEQ0NEQwFCQgHBgMEAQIeCQnhCoRdXTgCAQIDAgcCDwQJBgQBAhMCAgQFCgMPCAUBAQICAjZeXl7hCA8LBQkDAgMBAgUUFAUDBQMJAwsDDggJqQkJqaCWEwQFCgMFAQQEAgIECAUDBQUFBQMFCAQCBAYBAwUKBQICqZYAAAAABQAAAAABGgEaABMAFgAmADAANAAANzMVFyMnNTczHwIVJic1Iyc1IxcnFRcVMxcVByMnNTczNTQ2MhYHBh0BMzU0LgEGBxUzNThLAlYJCZEGPgMIC0IJcbw4QRMJCXEJCRMWHxYzBSUGCgwlXiYSAQn0CQI+BzALBwgJQjk5OUsSCksJCUsKEhAWFgIGCBISBgkFAjc4OAACAAAAAADhASwADwAYAAATMxUeARQGBxUjNS4BNDY3FzI2NCYiBhQWjRIcJiYcEhwmJhwJFB0dKB0dASxMAyo6KgNMTAMqOioDex0oHR0oHQAAAAAEAAD//gEcARoAHwAqAEkAVQAANyc3FxUHJzcjBiY9AS4CPgEzMhcWFxYVFAYHFRQWMycWPgIuAQ4CFhcWFx4BBw4BLgI2NzY3NTQmKwEXByc1NxcHMzIWDwE+Ai4CDgIeAYsYDCgoDRgjExwOFAULFw8JCRIIAxUQEAw1CBQOAgoQEA0DB8gOCgwDCQgaHBQGCwwICRELIxgOKCgOGCMTHAEGBwwHAQkQEQwDBxA4GA0oDSgOGAEcE2gDFBwaEAMIEgkJERoDZwwRmwUCDhQPBwMNEBB7AwoMIQ4MCwYUHBoIBQJoDBAYDSgNKA0YGxSyAQgODg4GAwwREAoAAAAABAAAAAABBAEHAAMADQARABUAABMjFTMHJzcXNTMVNxcHJzMVIxcjFTOpExMQXg1OE00OXhATExMTEwEHE85dDk4bG04OXagSJhMAAAQAAAAAAQgBLQA0AD8ASgBXAAA3LgEHBgcGBy4BJzI3PgE1NCcmJyYjIg4BHgEXFQYHDgEeAj4BNTYuASc1FhcWFx4BPgE0Bx4BDgIuAT4CJyIuAT4CHgEOARcOAS4CPgIeAgb5DCEODAYBAR4qAwQEDRAEBxIJCg4XCwUUDgkICwsFFBwbDwEJEgsPFhMUBB0kGKgICgIOFA8HAw0QAwgOBwMNEBEKBA+NBQ4OCwYEDBEOCQMEmwwDCQgNBAQDKh4CBhcOCgkSBwQQGhwUA18CBQgbGxQGCxcPCRQPAi0VCwoBEhUDGyUyBA8UDgIKEBANA4IKDxEMAwcRFA17BQQDCQ4RDAMGCw0OAAAGAAD//gEaARoAIQAtADkASgBVAGEAADcGDwEVFhceARUUDgIjIi4BPgE3NS4CPgEzMh4CFRQHLgEiDgEeAj4CJxYyPgEuAg4CFhcWFxYVFA4BLgI2NzY3NTMXPgEuAQ4CHgE2JwcXNxc3JzcnBycHaQgNCAQEDRAHDRIJDxcLBRQODhQFCxcPCRINBxYEDRAOBwMNEBAJASwHEA0IAQkQEQwDB8gOCg4QGhwUBgsMBwoSCwcCChARDAMGEBQdHw0fIA0fHw0gHw3QDAYCXgECBRgOChEOBxAaHBQDXwMUHBoQBw0SCQ+fBwgKDxEMAwYOD54FCA4QDQcEDBAQewMKDhMOGAsGFBwaCAUCQ4UHFBAGAwwRDwsC2B8OICAOHyANHx8NAAAAAAUAAAAAASwBGgAdACoANgBKAFYAADcGDwEVFhcWFRQHDgEiLgE+ATc1LgI+ATM2FgcUBy4BIyIGFx4CPgInFjI+AS4CDgIWFyM1NCYrARcHJzU3FwczMhYXFgcVIzUjNTM1MxUzFSNpCA0IEwoIAwYYHRcLBRQODhQFCxcPEx0BFgQNCA0RAwENEBAJASwHEA0IAQkQEQwDB8gSEQsjGA4oKA4YIw4YBQQBEzg4Ezg40AwGAl4EEAwOCgkNEBAaHBQDXwMUHBoQARwUD58HCBUNCAwDBg4PngUIDhANBwQMEBAvHAwQGA0oDSgNGBANCQnFOBM4OBMABwAAAAABGwEaACAALAA4AEEASgBTAFwAADc+ATU0LgIjIg4BHgEXFQ4CHgEzMj4CNTQmJyYnNRceAQ4CLgI+ATInIi4BPgIeAg4BFxQGIiY0NjIWBzI2NCYiBhQWJxQWMjY0JiIGNRQWMjY0JiIGVA0QBw0SCQ8XCwUUDg4UBQsXDwkSDQcQDQQEBQYIAQkQEA0DBw4QCAgOBwMMERAJAQgN0BsnGxsnGy8MEREXEREHCw8LCw8LCw8LCw8LvgYXDwkSDQcQGhwUA18DFBwaEAcOEQoOGAUCAV51BA4PDgYDDBEPCoMKEBAMBAcNEA4InxQbGyccHC8QGBAQGBCICAsLDwsLSAcLCw8LCwAAAAAE//8AAAEHARoADwAbAB8ANQAANxUXMzc1LwIjFTMXFSM1NyM1IxUjFTMVMzUzBzMVIzcHJzcjIgYUFjsBFSMiJjQ2OwEnNxc4E6kSBTgOJSU5qYMlEyUlEyVdXV0TKA0YOAwQEAwJCRQbGxQ4GA0ocUsTE6gOOAUSOahLSyUlEyYmSxOZKA0YEBgQExsnHBgNKAAABAAAAAABGgEaABEAFgAiAC4AACUvASMHFRczJicjNTMXFRYXNQcjFTM0JzM1MxUzFSMVIzUjFyIOAR4CPgE1NCYBATgOcBMTZAkGVXA5CghuJyUlJRMlJRMlcBEcDQYYIh8TIdw4BRLhEwgK4jk6AwVCcBMKZyUlEyYmJhMfIhgGDRwRFyEAAAUAAP/+ARoBGgAdACoANgBXAGMAADcGDwEVFhcWFRQHDgEiLgE+ATc1LgI+ATM2FgcUBy4BIyIGFx4CPgInFjI+AS4CDgIWFxYXFhUUDgEuAjY3Njc1NCYrARcHJzU3FwczMhYXFgcXPgEuAQ4CHgI2aQgNCBMKCAMGGB0XCwUUDg4UBQsXDxMdARYEDQgNEQMBDRAQCQEsBxANCAEJEBEMAwfIDgoOEBocFAYLDAgJEQsjGA4oKA4YIw4YBQQBCwcCChARDAMGCw0O0AwGAl4EEAwOCgkNEBAaHBQDXwMUHBoQARwUD58HCBUNCAwDBg4PngUIDhANBwQMEBB7AwoOEw4YCwYUHBoIBQJoDBAYDSgNKA0YEA0JCaoHFBAGAwwRDgkDBAAABQAAAAABBwEOAAkAFwAhACUAKQAANxUzNRc3JyMHFw8BFRczNzUnIw4BIiYnFzMVIzUzHgEyNiczFSMVMxUjgxMyDUINQg42CQnhCgpCBBohGgNpLM4rCCAnID0TExMT8CIiMg5BQQ47CV4JCV4JEBUVEBJLSxEVFVwTExMAAAADAAAAAAEHAQ4ACQAXACEAADcVMzUXNycjBxcPARUXMzc1JyMOASImJxczFSM1Mx4BMjaDEzINQg1CDjYJCeEKCkIEGiEaA2kszisIICcg8G1tMg5BQQ47CV4JCV4JEBUVEBJLSxEVFQAAAAADAAAAAAEHARoACQAXACEAADc1MxU3FwcjJzcPARUXMzc1JyMOASImJxczFSM1Mx4BMjaDEzINQg1CDjYJCeEKCkIEGiEaA2kszisIICcgrWxsMQ1CQg1bCV4JCV4JEBUVEBJLSxEVFQAAAAAFAAAAAAEaARoADAAYAB8AIwAnAAA3MxcjJzU3MxcVJzUjFwczNycjNycjDwEXNzMHMwc3IycjNTMHIzUzOTANRgoK4QkTzmgbKmkNHw8PNhErESs2I0JsHzMKNj8aJS5xEwmpCQlaITCpQWwgGx0LXhpwOG1IOBM5EwAAAQAAAAABGAEhAGwAACUWFRQHBgcWHQEUBiImPQE2Jic3Njc2NzY1NC8BNicGDwEmBycmIwYXBw4BFRQXFhcWHwEGFxUWBiImPQEGJyYnJi8BLgEnLgE+ARcWFxYfARYXFjc1JjcmJyY1NDcmPwE2FxYXNhc2NzYfARYBBxEXEiAGBQcFAQUFBRYNEQkLEAIHBhETBykpBxoLBgcDCAkLCBINFgULAQEGBwYRDQsJBQgBBQcDAgMCBgMHBwMHAQoIDRUCByARGREFCQYEChAVKSoUEAsEBgnqFBstGBEFChEuBAUFBC4IDQYOAwYHDxIdFhEKEBIEDQILCwIQExAJCBUKHREPCAYDDwoPLwQGBgQaBAQDCAQLAQYGAQEGBgQCAQUDCAINBAcFBA4NBhEYKxwUGhUEAgEDDQoKDQQCAgUZAAAAAf//AAABLQEsAFQAABMiDgEVFB4BFzI2PQEGJyYnJi8BLgEvASY3NjMxHgEfARYXFjc2NyYnJjU0NzEmNzMyFxYXNjMyFzY3NhcxFg8BFhUUBwYHHgEdARQWMz4CNTQuAZYpRSgaLh4FBQ4LCQcEAwMCCAMDCQQCBAYLAwMJDgoKAQgeEBYQBwkEBggKDQ8XERQSDQcDCAUBEBYPHwQGBQUeLxkpRQEsKEUpIDoqCgQEGQMDAgUEBQQICgMBBgMBAQcEBA8BAQQMCAQNEycXERMUAwQJBQUMAwIBExQBERcnEg0EAw4KKQQECis6HylFKAAAAAMAAAAAAQcBBwALABMAFwAANzM1MzUjNSMVIxUzJzMXFQcjJzUXMzUjcRJxcRI5OULOCgrOCRK8vDhxEjk5El4KzgkJzsW8AAIAAAAAAS0BLAAMAGoAABMiDgEUHgEyPgE0LgEDIyImPQE0Jic+Ajc2NTQmJz4BNCYnIyIGDwImBy8BLgErAQ4BFBYXDgEVFBceAhcOAQcOASYvAi4BIwcGFB8BFh8BHgE3MzcVFAYrAS4CPgIyHgIOAQeWKUUoKEVSRSgoRQECAgQEBQ0XEAMEBwYBAQICAgUIBAkHICAHCQQJBAMBAgEBBgcEAxAWDQMEAQcPCwQEBAMGAwUBAggCAgYDEQoGBwQDAR0sEwokNz43JAoTLB0BLChFUkUoKEVSRSj+8AMDIwcNBAEJEAsNDgkSBwQHCQkFAgIFBAkJBAUCAgUJCQcEBxIJDg0LEAkBAwkFAwEIBwQFAQMBAQICBgICCwkKAQEWAwMJLDo+MhwcMj46LAkAAAAACgAAAAABGgEaAAwAEgAeACoAMQA3AEEASABNAFMAABMyHgEUDgEiLgE0PgEXLgEnFh8BNjUmJyMWFRQHMzYnNTY0JyMGFRQXMzYnJicrAQYHIzY3DgEPAQYUFzMmNTQ3IxcjHgEXJicXNjcjFjcGBz4BN58hOCEhOEI4ISE4fQkeEgwGMgEBAywBBC8CQQECSAEEQwIDBxAKCREGFAUNEx0JCAQELwQBLDQsCiYXEgkvEgo3CUIJEhclCwEZIThCOCAgOEI4IUsSGgYXGzgFBA8NCggTEwkKAQkSCQkJExMKQR4aGh4bGAcaEhIOHQ4TEwgKShYcBRkdMRYbGxweGQUcFgADAAAAAAEsARoAFgAnACoAAD8BNScHFyMiBhQWOwE1IyIuATY7AQcXNyMnMx8CFQcjJzUXFTM1IzcVM3EmKA0YOBQbGxQJCQwQAREMOBgNXzITWA05BROoExOoSxM4vScNKA0YHCcbExAYEBgNSxIFOA6oExOMEHyWSzkAAwAAAAABDwEaAAMAGgAwAAA3Bxc3Jx4BMj4BNC4BIyIHFzMyHgEUDgEiJic3Byc3IyIGFBY7ARUjIiY0NjsBJzcXWkcORx0NMTovHBwvHAwMEQcXJxYWJy0lCzYoDRg4DBAQDAkJFBsbFDgYDShuRQ1FIhkfHC84MBsCERYnLicWFBFhKA0YEBgQExsnHBgNKAAAAAIAAAAAARoAvAADAAcAACUhFSEVIRUhARn++gEG/voBBrwTJhIAAAAHAAAAAAEaAQ8ACQARABUAHQAhACkALQAANxcHJzU3FwczFQc1NzMXFQcjNzUjFTc1NzMXFQcjNzUjFTcVFzM3NScjFxUjNSgQCyAgCw/wzgkmCQkmHRM4CSYJCSYdEzgJJgkJJh0T4RELHwwfDA8TxqsICKsIEZmZHYUICIUJEXV1fWAICGAIEFBQAAIAAAAAASABLAAGABMAACUVIyc1MxU3ByMnByc3Mxc3MxcHARn9CRPOYQ0fRA5LDh9gDSYNOBIJ/fS4YR9EDUsfYSYNAAAAAAYAAAAAARoBLAAGAAoADgASABYAGgAAJRUjJzUzFTczFSM3MxUjBzMVIwczFSM3MxUjARn9CRM4JSWDJiZLJiY4JSWDJiY4Egn99M8mOCUmJSYlOCUAAAAHAAAAAAEaASwABgAOABIAGgAeACYAKgAANzM1IzUjFTc1NzMXFQcjNzUjFTcVFzM3NScjFxUjNQc1NzMXFQcjNzUjFRz98xMlCiUKCiUcE4MKJQoKJRwTXgolCgolHBMmEvT9JZYKCpYJE4ODsrwJCbwJEqmps3EJCXEJE15eAAYAAAAAAM8A9AADAAcACwAPABMAFwAANzMVIxUzFSMVMxUjNzMVIxUzFSMVMxUjXiUlJSUlJUslJSUlJSX0JiUmJSa8JiUmJSYAAAALAAAAAAEHARoACQARABUAHQAhACkALQA1ADkAPQBBAAATMxUjFTMVIyc1FyMnNTczFxUnMzUjFyMnNTczFxUnMzUjByMnNTczFxUnMzUjFyMnNTczFxUnMzUrAhUzNSMVMxwmHBwmCXomCQkmCSUSEow4CQk4CjkmJkEmCQkmCSUSEow4CQk4CjkmJhImJiYmARkS4RMJ9GcJJgkJJgoSJQk4Cgo4CiWWCSYJCSYKEzkKOAkJOAkmE3ASAAEAAAAAARoBBwAcAAAlLgEnLgEiBg8BJy4BIgYHDgIUHgEfATc+AjQBFwIJBwoaGxkKDQ0KGRsaCgcJBAQJB29vBwkE0gkRBgoKCgkNDQkKCgoHEBISEhAHbm4HEBISAAIAAAAAARoBBwAdAD0AACUuAScuASIGDwEnLgEiBgcGBwYUHgEfATc2NzY1NAcGDwEnLgI0PgE3Njc2FxYfATc2NzYXFhcWFxYVFAcBFwIJBwoaGxkKDQ0KGRsaCg0FAgQJB29vBwQJFQMKYWIFBwMDBwUHChMUCQcaGQcKExQJBwUDBwHSCREGCgsLCQ0NCQsLCg0TCRISEAZvbwYIEBMJFQ0KYWEFDAwODQsFBwQICAMIGRkHBAgIBAcFBgsOBwYAAAACAAAAAAEdARsAHgAlAAA3PgEmJy4BDgEHNSMVFzM1Iz4BHgEOAiYnBx4CNic3JzUjFRf9Eg0MEhM8QTgQEwlCKRNISi4CMUtGEhAPOEI+Kw42EwNFFzk5FxocBCEcLUIJEiIdFT5NPBIhIgkdJgYbLA02R0sHAAACAAAAAAEUARMAEQAcAAATFwcnFQcjJzUjFQcjJzUHJzcHFTM1NzMXFTM1J513DRMKOAkmCTgKEg53RCYJOAolSwESbA4RegkJQkIJCXoRDmxYgkIJCUKCRAAAAAQAAAAAAPQA4gALACAALAAwAAA3MzUjFSM1IxUzNTMXMyc2NzY3NjQuAScmJyYrARUzNTM3BisBNTMyFhUUBwYXIxUzeQ8PMRAQMWoRGAMECAMCAwUEBgcEAy4PHAkDAiAgBgoBAxe8vHFwMTFwMDAxAQMGCQULCgcDBQIBcC4QASQKCAUDB2YTAAAABQAAAAABBwEaACQALgA7AD8AQwAANzMXFTMXFQcjFQcjByc1Iyc1Iyc1NzM1NzM1LgE1NDYyFhUGBxc1IxUXMxU/ATMnBgcxBiYnBx4BMjY3JyMVMzczFSOfSwkKCgoKCTovEC8KCQkJCQpLBAYLEAsBCUKWLwkiBzUoCw4NGAkNChkcGQlMExM4ExPhCSYKEgk5CTQHLQw2CRIKKAcVAwgGBwsLBwsFYThuAikmAy4KAwMICQ4JCwsJMxMTEwAAAwAAAAABGgEaAAkAEwAdAAA3Mzc1LwEjDwEVNyM1Mx8BMz8BMycjDwEjLwEjNzMc9Ak0CI0JNPThLw4IVggNMQE1CQxLDgg1MX8mCVSQBgaLWQk4FwUFFxMFFxcFhAAAAQAAAAAA9ADPABEAADcVFBY7ASc3FxUHJzcjIiY9AUsFBIEeDTAwDR6BCxHOJQQFHg4wCy8NHhAMJQAABAAAAAABGQEbABMAJwArAC8AABMeARceAQYHDgEmJy4DPgMXPgE3PgEmJy4BBgcOAR4BFx4BNyczNSMXFSM1oRYpDxgSDBUTNzwbFB4RAg0aJisgEiEMEgsQFBIxMxUZGgMfGhEmEh8YGBgYARkDExAYPkAaGBkCDgsiKi0sJBoL8wQUDxY3NRUSEQcOETU7Mg4JBgSUEiVLSwAABQAAAAABGgEaAAcACwATABcAHQAAARcVByMnNTcXIxUzFRcVByMnNTcXIxUzJxcHFzcnAQcSEpYTE5aWlhISlhMTlpaW9B4eDSsrARkSSxMTSxISSzkSSxMTSxISS44eHg0rKwAAAAADAAAAAAEnAQcADAAQABQAAD8BMxcVIzUjFTMVIycFJxU3BzUXIxMT4RIS4V1dEwEUfjMgPSX0ExNxcZYTEyB+sTMGVj4AAAAJAAAAAAEHARoABwANABUAGwAkACoAMgA4AEEAADcXNjQnBxYUJzcmJwcWJzcmIgcXNjIHJwYHFzYHNDcXBhYXByYXBxYXNyYXBx4BNycGIjcXNjcnBicyNjQmIgYUFu8SBgYSBQsQEiMJHiwFEicSBg8hPwkjEhEPLQYSBgEFEgYeERIjCR4tBhInEgUQIT8JIxIQEEwHCwsPCwt/BRInEgYPIT8JIxIRDxUSBgYSBgwREiMJHk0UEgYPIRAFEhsJIxIQEBYSBQEGEgULEBIjCR46Cw8LCw8LAAAAAwAAAAABIwEbABUAMAA5AAA3By8BNxc+Ax4DFyMuAgYHNx8BBycOAy4DJzM1FB4DPgI3Byc3JxQWMjY0JiIGYz0NGREPCBskKCklHBABEgQySD4MLK0ZEQ8IGyQpKSQcEAITDBgfJCMgFwcrBz1/CxALCxALwhkFPAckEx8UCAYUHiYUJDQJJyISQz0IJRMfFAgHFB4mFQkSIhwSBgYSHBESEhkKCAsLDwsLAAMAAAAAAQcBGgANABsAJAAAEyIOAR4CPgEnNi4CByIuAT4CHgEVFA4CJxQWMjY0JiIGjSU+HA41SEQqAQETIi0YIDQYDSw9OiMQHSYnCw8LCw8LARkpREk0Dhw9JRksIxLhIzo9LA0YNCAUJh0QZwcLCw8LCwAAAAEAAAAAAOABBwAcAAA3ByM3Mjc2NzY/ATY1NC4BIzczByYOAQ8BBhQeAakCXAIOBQcDBgYmBQQJDAJWAgoNCAYmBgQJLQYGAgMFCBSHEAkEBwIHBwEGDBWHEwkGAwAAAAIAAAAAARoBBwAbADEAADcjJzUjLwE/ARceARcWFxY3Nj8DHwEPASMVJzM1NzM3JwcGBw4BIiYnJi8BBxczF9+TCRsJDAZQDAEFAgUGDg0GBQUEDFAGDAkbk4AJHQg/AwMDCBQVEwcEAwNACRwKIQp9BzILGwYFBwIFAwUGAgUFCQYbCzIHfQl9CSMVBAUDCAgICAMFBBUjCQAAAAIAAAAAAQcBBwBGAI0AADc1IyIOAQcxBgcxBhcVFAcxBgcGKwEVMzIXFRYXFRYXMRYdAQYXFRYXMR4CFzM1IyIuAj0BNCYnJic2Nz4BPQE0Njc2MxcVMzI+ATcxNjcxNic1NDcxNjc2OwE1IyInNSYnNSYnMSY9ATYnNSYnMS4CByMVMzIeAh0BFBYXFhcGBw4BHQEUBgcGI3ECCREMAwMBAQECBAoFBgEBBgUFAwQCAgEBAQMDDRAJAgIGCgcEAgIFCQkFAgIJBwUGTQEJEA0DAwEBAQIECgUGAgIGBQUDBAICAQEBAwMNEAkBAQYKBwQCAgUJCQUCAgkHBQb0EwcNCAgICAgQBgUKBQISAgECAwEDBQUGEAgIAQcICA0GARMECAoGGQYMBQsHBwsFDAYZCQ0EArwSBg0IBwkICBAGBQoFAhICAQIDAQMFBQYQCAgBBwgIDQcBEgQICgYZBgwFCwcHCwUMBhkJDQQCAAAAAwAAAAAAqgEHAAsAFAAdAAA3HgE+AiYnJg4BFjciJjQ2MhYUBiciJjQ2MhYUBowECgkFAQQFBg8IAhEICwsQCwsICAsLEAsLKQMBBQgKCQMEAw0PVgsQCwsQC14LEAsLEAsAAAMAAAAAARwBHAAcADkARQAAEx4CBw4BIyInDwEjFQcjFQcjJzU/ASY1ND4CFzY3MTYuAgcOARUGFw8BFTM1NzM1NzM/ARYzMjc+AS4CBgcGHgE21RcjDAQGLx4NCw8HEwkcCjgJAl4EER0lLBIFAwkYIBEWHgEFAl4lCR0JFxEKDAwXAwMBBQgLCQIEAw0OARgFICsWHSYEEgMcChwJCSsHXQ0OEiMXCYoOFxEgGAkDBSQXDQwKXx4dCRwJEwMEQgQKCQYBBQQHDwgDAAYAAAAAARoBGgAvADYAOQA9AEAARwAAJSczNSM1IxUjFTMHIxUzHgEyNjczNSMnMxUjDwEXMzcvASM1MwcjFTMeATI2NzM1BwYiJiczBicjNx8BIz8BFyMXBiImJzMGARIeE14TXhMeBwIFGB4ZBQIIHzolCCUHqQclCCU6HwgCBRgfGAUCtwYPDAQvBAEmE3YXgxd2EyYgBg8MBC8EqUsTEhITSxMOEhIOE0uWBC8PDy8ElksTDhISDhMdAwcGBhktixwcii0cBAgGBgAAAAAGAAD//QEtARgABwALABcAHwAsADMAABMjBxUXMzc1BzcXDwEnMxc3MwcjIgYPARcHJyMXMzcmNzYXMhYVFA4BLgI2FzcnBycHF5kKb28Kc9ZeYWEFbSFRVCIPBxknCBMQFVEhbQoUBCsPERchEx8iGAcNLiIPHBAMGAEYTBBKShAIQUE/Qko3NwodFg0ODjdKDQk9CgEgGBEcDQYZISA/LQslDg8TAAAFAAAAAAEsARgABwALABcAHwAoAAATIwcVFzM3NQc3Fw8BJzMXNzMHIyIGDwEXBycjFzM3JjcUFjI2NCYiBpkKb28Kc9ZeYWEFbSFRVCIPBxknCBMQFVEhbQoUBBMgLyEhLyABGEwQSkoQCEFBP0JKNzcKHRYNDg43Sg0JDhchIS8hIQAEAAAAAAEMARgABwALABIAGQAAEzMXFQcjJzU3Bxc3BxczNyMHJxcnMxc3MwePCnNzCm90Xl5h020KcSJUUUxtIVFUInEBGEwQSkoQOUE/PzdKSjc3eUo3N0oAAAIAAAAAARoBGgAHAAsAABMHFRczNzUnFSM1MyYTE+ESEry8ARkS4RMT4RLz4QAAAAIAAAAAARoBGgAHAAsAABMHFRczNzUnBzUzFSYTE+ESEuG7ARkS4RMT4RLz4eEAAAMAAAAAARoBGgAHAAsADwAAEwcVFzM3NScHNTMVMzUzFSYTE+ESEuFLS0sBGRLhExPhEvPh4eHhAAAAAAUAAAAAARoBGgAHAAsADwATABcAABM3MxcVByMnNxUzNQczFSM3MxUjNyMVMxMT4RIS4RMT4c8mJjklJV0lJQEGExPhEhLh4eESExMTExMABAAAAAABGgEaAAcACwAPABMAABMHFRczNzUnBzUzFTc1MxU3MxUjJhMT4RIS4SUTcBMmJgEZEuETE+ES8+HhS5aWluEAAAAABAAAAAABGgEaAAcACwAPABMAABMHFRczNzUnBzUzFTM1MxUzNTMVJhMT4RIS4SUTcBMmARkS4RMT4RKolpaWlpaWAAADAAAAAAEaARoABwALAA8AABM3MxcVByMnNxUzNTMVMzUTE+ESEuETE5YSOQEHEhLhExPhlpbh4QAAAAADAAAAAAEaARoABwALAA8AABMHFRczNzUnBzUzFQczFSMmExPhEhLh4eHh4QEZE+ESEuETqZaWEjkAAAADAAAAAAEaARoABwALAA8AABM3MxcVByMnNxUzNTMVMzUTE+ESEuETEzgTlgEHEhLhExPh4eGWlgAAAAACAAAAAAEaARoABwALAAATBxUXMzc1Jwc1MxUmExPhEhLh4QEZEuETE+ESqJaWAAADAAAAAAEaARoABwALAA8AABMHFRczNzUnBzUzFTM1MxUmExPhEhLhSxKEARkT4RIS4RP04eHh4QAAAAACAAAAAAEaARoABwALAAATBxUXMzc1JxUjNTMmExPhEhKEhAEZEuETE+ES8+EAAAADAAAAAAEaARoABwALAA8AABMHFRczNzUnBzUzFTM1MxUmExPhEhLhgxNLARkT4RIS4RP04eHh4QAAAAACAAAAAAEaARoABwALAAATBxUXMzc1Jwc1MxUmExPhEhLhgwEZEuETE+ES8+HhAAACAAAAAAEaARoABwALAAATBxUXMzc1Jwc1MxUmExPhEhLh4QEZE+ESEuET4c7OAAAGAAAAAAEaAQcABwALABMAFwAfACMAABMHFRczNzUnBzUzFT8BMxcVByMnNxUzNQc3MxcVByMnNxUzNTgSEksTE0tLORI5EhI5EhI5SxI5EhI5EhI5AQcTvBISvBPPvLy8ExM4ExM4ODiDEhI5EhI5OTkAAAYAAAAAASgBBwAHAAsAEwAXAB8AIwAAPwEzFxUHIyc3FTM1Fz8BHwEPAS8BFzcvATczFxUHIyc3FTM1XgkmCQkmCRMSKQYjDEYFIwwyQBJBvwkmCQkmCRMS/QoKzgkJxby8BwwNBcIMDQXAsAawDAoKzgkJxby8AAMAAAAAARoBGgAIABIANwAANyIGFBYyNjQmFycHNyczNxczBycOAQcjFRQWOwEWFyMGJj0BNCYnLgE1NDc+AzMyHgEVFAcG4RchIS4hIQIZGAkWGwoKHBcfEh0HIwMDGgMFIgoPCgkMDgwFEBMVDBcnFwcEgyEuISEuIV0SEhwQHx8QUgMYEikCBAoIAQ8KHg0YCQsfERcTCg8LBhYnFxIOCQAAAwAAAAABHQEaADsAWABsAAA3Njc2PwE2NzY1NC4EIg4EBx4BFx4BHQEUHgI7ATI+AjUnIyYnFRQGKwEiJj0BMz4BMzcyFzY3Njc2MzAxJyYnJicmJwYHBgcGDwEXFhcWFxYXNjc2MhcWFxYUBwYHBiInJicmNKgFCAYEAgIHBQYLEBMVGBUTDwsGAQENDAoKAwcJBR4FCQcEAQIJBwMDHgIEJQMLBwIEMwYOCw0HBQcICAsICgQFCggLBwkHBwkHCwgKHwkGAgcCBgkCAgkGAgcCBgkCeAoIBQYHCAUNDwwVEw8LBgYLDxMVDBIdDAoXDR4FCQcDAwcJBQgBBg8CBAQCKQYIAVAYDwoFAgEBBQYKDhMTDgoGBQEBAQIEBgsNBQYJAgIJBgIGAgYJAwMJBgIGAAACAAAAAAD1ARoAIQArAAA3DgEdARQGBwYnIwYmPQE0JicuATU0Nz4DMzIeARUUBgcjFRQWOwEyNjXbCQsIBwQFHgsOCgkMDgwFDxMWDBcnFg0zKQMDHgIDigkYDR4HDQMCAQEPCh4NGAkLHxEXEwoPCwYWJxcSHi4pAgQDAwAAAAIAAAAAARoBGgAMABYAABMzFSMVMzUzFQcjJzUhFSM1Byc3IzUzHFVL4RIJ9AkBBhJ/DX5jegEZEuFLVQkJ9Hpjfg1/EgAAAAIAAAAAARoA9AAkAEkAADczMh4BHQEUDgErATUzMjY9ATQmKwEiBh0BHgEXFS4BPQE0PgEXNR4BHQEUDgErASIuAT0BND4BOwEVIyIGHQEUFjsBMjY3NS4BUzkSHRERHRIJCRMaGhM5ExsBFRAYIBEdoBggER0ROhIdEREdEgkJExoaEzoSGgEBFfQRHhEEER0SExsSBBMaGhMEEBkDEwMkGAQRHhFMEwMkGAQRHhERHhEEER0REhsSBBMaGhMEEBkAAAADAAAAAAEHAPQAAwAHAAsAADc1MxUnMxUjNxUjNXFLcZaWvOFLExNeE14TEwAAAAAEAAAAAAEHAPQAAwAHAAsADwAANzMVIxUzFSM1MxUjNTMVIyaoqJaW4eHOzoMSJhOEE0sTAAAAAAYAAAAAARoBBwAGAAoADgASADMAawAAEzczFSM1BzczFSMVMxUjFyMVMyc/ATY0JyYnJiIHBgcGBxUzNTQ/ATIzFxUWDwIVMzUjFzIXFhUUBwYHBiIuAS8BJicxMxUXFjM/Ai8BKwE1NzM/ASc0Jg8BBh0BIzU0Nz4CMh4CFAcrBw0NBzO7u7u7u7u70wEBAwECBwUIBQYCAQEQAQEBAgEBAQITJRELAgEDAQIHBQgFBAICAQEQAQIBAQEBAQEBBAQBAQEBAwEBAQ8DAQQGBwYGBAMBAAc5KgYCEzgTOBNSAQEFCAQHAgICAgcDAwEBAQIBAgEDAwMVCw06AgQGAwMHAgICAwIEAwQCAgEBAgIDAgwBAQMCAQEBAQECAQEGBQIDAgIDBwkEAAAAAAMAAAAAARoA9AADAAcACwAANzUzFSchFSE3FSM1E6mpAQb++s7OSxMTXhNeExMAAAUAAAAAAQcA9AADAAcACwAPABMAADczFSMVMxUjNTMVIyczFSM7ARUjS6mpg4O8vDjOzjgTE4MSJhOEE0sTqQAIAAAAAAEaAPQAAwAHAAsADwATABcAGwAfAAA3IxUzFSMVMwczFSMXIxUzNzMVIxcjFTMHMxUjFyMVMyYTExMTExMTExMTJc7Ozs7Ozs7Ozs7O9BMlEyYSJhO8EyUTJhImEwAABAAAAAABIwEgABYAJwAzAD8AABM3FxUHJzUjIgcGBwYHJyY3PgMXMxcVNycVIyYGBwYHNjc2NzYzBz4BHgIGBwYuATYXHgE+AiYnJg4BFqwSZGQSCB8PFhQVFxMBBAQZKDAaDRZHRiQYLhEVCRQUEhYPHEIMHRoQAg0MEysZCR4HERAJAggHDBoPBgEXCVARTAkjAwQNDx4GDg4ZLCARAUEjNjghARERFh0TCggDAkoJAg0YHRsHDAkkLDsFAggPERAECAYWGgABAAAAAAEYARoADwAAJS4CIg4BByM+AjIeARcBBQUfMDYwHwUTBSU4QDglBakaKxgYKxogMx0dMyAAAAAEAAAAAADiARAAEAAeACcAMwAANy4BIzEiDgIfATM3Nic0Jic7AR4BFxQPAScmNT4BFyYOAR4BPgEmJz4BHgIGBwYuATbLChwPFSIUAQw7CjsMAQtBAQIWIAEJMDAJASAiBhAIAw0PCQMmCBUSCwEJCQweEQX6CgwVIioSd3cSFg8bDgEhFxANYWENEBchKAUDDQ8JAw0PFAYCCREVEgUIBhkeAAMAAAAAAPQBBwAHAAsAGwAAPwEzFxUHIyc3FTM1JzU0JiIGHQEzNTQ2MhYdATgTlhMTlhMTlhMhLiETFSAVlhMTXhISXl5eEyUYISEYJSUQFhYQJQAAAAADAAAAAAEHARoAEQAZAB0AADcjNTQuASIOAR0BIwcVFzM3NSc0PgEWHQEjFyM1M/QTFCMoIxQTEhK8E6khLiFwlry8qSUVIhQUIhUlE3ATE3A4GCABIRglg3AAAAQAAAAAARoBEAAWABoAHgAwAAATIg4BHQEXMzc1NDYyFh0BFzM3NTQuAQcjNTMXIzUzJzU0JiIGBxUjNTQ+ATIeAR0BliQ8IxM4ExYeFxI5EiM8XDg4qTk5OSAuIQE4HjQ8NB8BECM8JF4TE14PFhYPXhMTXiQ8I+E4ODgTExggHxYWEx40Hh40HhMAAwAAAAABGgEPAAcADAAUAAATIwcVFzM3NScXByMnFyM1HwEzPwGbCn4J9AmDahqgGNnhFAioCBUBD0uVCQmVOD8dHYVyGgMDGgAAAAMAAAAAARoA9AAHAA0AEAAAPwEzFxUHIyc3FTM1ByM3IxcTCfQJCfQJE+FrDGS8XuoKCqgKCpWMjFJcSQAAAAADAAAAAAEHAPQAAwAHAAsAADcVNzUXNScVFzU3FSZBSzhLQsWNKY2wjSONI40pjQADAAAAAAD0AQcAAwAHAAsAABMzByMXIyczFyMHM2eNKY2wjSONI40pjQEHQks4S0EAAAAABAAAAAAA/AEQAAMABwAVABkAADczByMVMxcjPwEnIw8BFRcHFzM/ATUHMwcjbHcjd3cjd2QsCI0ILywsCI0IL5B3I3f9OBM4QkYOBUsJRkcOBUsJDjgAAAQAAAAAARAA/AADAAcAFQAZAAA3FTc1MxUXNQ8BJzU/ATMXNxcVDwEjNxU3NS84EzhBRw4FSwlHRg4FSwkOOMB3I3d3I3dkLAiNCC8sLAiNCC+QdyN3AAACAAAAAAEaAM8AEAAXAAA3MxUjNwcjJxQVFyM1MxcWFzc1IxUjFzd3JxsBIRchARkoDw4BnCUkNzbOemNjYwcvLXorKwQWQkI2NgAAAwAAAAABGgDuAA8AFwAbAAA/ARcVBycOAi4CNy8BNRcGFRQeATY3Jxc1BybnDAxyAw8VFg8GAyYIQAELEA4CWNfXrUAKoQoeCw8GBRAVCwoKJD0CAgkMAggILDmKPQAAAgAAAAAA7gD1ADgAQgAANwYnBi4CNzQ+AjMyFxYVFAYjIjUOASMiJjQ+ATM2Fhc3MwcGFjMyNjU0JiMiDgEVBh4CNxY3JxQzMjY3NiMiBsQaHxEhGQwBDh0mFCQWGR8XFQYRCg4RDRcNCQ8DBBEPAwMGDhUlHxglFQEJFBsOHBlMEQsQBAkZDhJEDwEBDBkgEhQnHRATFSMeJxIJCRMiHRIBCggPPA0KHxYdIBgpGA8aFAoBAQ04FxIRJB4AAAAAAwAAAAABLADhAAMABwALAAAlITUhFSE1ITUhNSEBLP7UASz+1AEs/tQBLM4TqRM4EwAAAAIAAAAAAOsA/gAmADsAADcnIwcXNxUxFTEVFB8BFhceAR8BHgIdATM1NC4CLwEuAjcnFwc2NyYvAQYPAQ4DHQEzNTQ+ATfFKA4oDRUBAgICBA0HDgcMBxoFCwwHDQYLBgEBFTQDAwcEAgUGDQcMCwUaBwwH1SgoDRQTCQYFBQsGBgsRCA8HERMNERENGBIQBw4GEBQLHRRTBAMKDAUHBg4HDxMYDRERDRMRBwADAAAAAAD+ARAACwAPACMAADc0NjIWHQEUBiImNRc1MxUnBi4BNTMUHgE7ATI+ATUzFA4BI14hLiEhLiEvEhIaKxkTFCIVEhUiFBMZKxrYFyEhF0sYISEYjSYmJgEaKxkUIxQUIxQZKxkAAAAEAAAAAAD+ARoACwAcACAANAAANzU0NjIWHQEUBiImNyIOAR0BFB4BMj4BPQE0LgEDNTMVJwYuATUzFB4BOwEyPgE1MxQOASNnHCYcHCYcLxIeEhIeJB4SEh4bEhIaKxkTFCIVEhUiFBMZKxqNSxMcHBNLFBsboBEfEUsSHhISHhJLER8R/ucmJiYBGisZFCMUFCMUGSsZAAMAAAAAARoBGgARABYAGgAAEyMVIwcVFzMVMzUzPwE1LwEjFyM1MxcnMxUjlhNnCQlnE1QHKCgHVFDAwB+nXl4BGSUKSwmDgwImDiUDSzgcCRIAAAMAAAAAARoBGgAKABUAJQAAEx8BFQcnByc1PwEfATUnFSM1BxU3MT8BFxUHJzcjFwcnNTcXBzOhdAQOdXUOBHQVZ2cTZ2cjDi4uDR5xHg0uLg0fcgEZSwesCEtLCKwHS6tClkI2NkKWQloNLw0uDR4eDS4NLw0fAAMAAAAAARoA9AATAB4AIgAAJScjBxUzNRcGHQEfATM/ATU0JzcHFQcnNTY3FzM3Fi8BNxcBGYAGgBMrDwVLCEkGDz9CQUIBDTEHMA1BZ2dnwjIyd14RFRoIByIiCAgZFRlHAR4eARYSExMSESgoKAAEAAAAAAEQARoACQATAB0AJwAANwc1IxUnBxczNycXNxUzNRc3JyMPATMVIxcHJzU3FzMnNxcVByc3I8AhEiENMA4wbg0hEiENMA41IUFBIQ0xMWVBIQ0xMQ0hQWMgQEAgDTAwkw0gQEAgDTBQIBMgDjENMC0gDTANMQ4gAAAAAAUAAAAAARoBGgAMABAAGAAcACAAABM3MxcVByM1MzUjFSM3FTM1DwEVFzM3NScHNTMVBzMVI3EJlgkJLyaEEhKE6wkJlgoKjIODg4MBEAkJgwoTSxM5ExNeCoMJCYMKJhMTEksAAAAABQAAAAABBwEHAAwAFQAnACsANAAAJSMVJiMiBhQWPgE9AQcyFhQGIiY+ATcPARUmIw4BFBYyNj0BNxUzNQcVBzUHMhYUBiImNDYBBxMNDxQbGycbLgsRERcRARAxlgkNDxQbGycbhBMTgy8LEREXEBCpLwkbJxwBGxNVOBEXEREXEZUJCY0KARsnGxsUcQgSVAolCSaNERcQEBcRAAAAAAMAAAAAARkBFwAJABEAHQAANzM3FxUHJyMnNR8BNQ8BIxUzNxcHFwcnByc3JzcXHDRJEBBJNAlIOzsHLi63DSAgDSEgDSAgDSDOSAb0BkgJXlg7xzsCS0kNICENICANISANIAADAAAAAAEsARoAEAATAB8AABMfARUjNSM1IxUzFSMnNTczBxUzFyM1IzUzNTMVMxUjskACE0teS1QJCX4ENhUTODgTODgBF0EIJRNLzxIJ4QkSOc44Ezg4EwAAAAMAAAAAASwBGgASABwAKAAAASMvASMHFRczNSM1Mz8BMwczNQcjDwEjNTMfATMHIzUjNTM1MxUzFSMBEH8QB14JCWdeVQYQdwETE3oGEFBQEAd6ExM4OBM4OAEHDwMJzgoTcQIQJVQcAxA4EAL0OBM4OBMAAQAAAAAA9ADFABEAADcVFAYrATcnBxUXNyczMjY9AeEFBIEeDTAwDR6BCxHFJQQGHw0wCjANHxAMJQAABAAAAAABGgDSAAgADwAWACgAADc2HgEOAS4BNhcuAQ4BFh8BHgE+ASYnNxUUBisBNycHFRc3JzMyNj0BLBMuGgknLhoJRgkUEgoBBQ0JFBIKAQWcBgRNHg0wMA0eTQwQxQ0JJy4aCScuAgUBChIUCQ0FAQoSFAklJQQFHg4wCy8NHhAMJQAAAAUAAAAAARoBBwAHAAsADwATABcAABMzFxUHIyc1FxUzNQczFSMXIxUzBzMVIxz0CQn0CRPhvJaWcXFxcUtLAQcKuwoKuwmpqSYSExMTEgAAFwAAAAABLAEsAAMABwALAA8AEwAXABsAHwAjACcAKwAvADMANwA7AD8AQwBLAE8AUwBXAFsAXwAANyM1MxUjNTMVIzUzFSM1MxUjNTMdASM1FzMVIzczFSMDIzUzFyM1OwIVIzMjNTMXIzUzFyM1MxU1Mx0BIzUzKwE1Mxc3MxcVByMnNxUzNRczFSMVMxUjFTMVIyczFSMTExMTExMTExMTExMTExMlExMlExMlEhITExM4EhImExMlEhITExPOExNLE4MTE4MTE4MlExMTExMTll5ezhM4EzkTOBM5EyUTExMTExMBGRMTExMTExMTEyUSEiYTE0sSEqkTE6mpqRMmEiYTJYMTAAAAAAcAAAAAARoBGgAHAAsAEwAXABsAHwAjAAATNzMXFQcjJzcVMzUHNzMXFQcjJzcVMzUXIxUzBzMVIxcjFTMmEqkTE6kSEqmWE14SEl4TE15dEhISEhISEhIBBxIS4RMT4eHhJhMTExISExMTEyUTJRMmAAAABAAAAAABGgD6ACUAQABJAFIAACU2NzYnIyYHBgcGByYiByYnJgcxBhcWFwYVFBcWFxYyNzY3NjU0ByInJicmNTQ3NjcyFxYyNzYzFhcWFRQHBgcGJyIGFBYyNjQmMyIGFBYyNjQmAQQDAQEHBAQGCAkMDhJCEhkSCQUHAQEDFREPHxpTGx8PEYMhEBgMDREIDwoWERISFQoPCBENDBgQSggMDBAMDEoIDAwQDAzCCAoSEgECAQUFCQUFEAQCARISCggXICkYFQoICAoVGCkgeAMECwwZEw8IAgEBAQECCA8TGA0LBANSERgRERgRERgRERgRAAQAAAAAAS0BGgAMABAAIgAuAAATMxcVJic1IxUHIyc1FzM1IxciByMOARcHFzceAT4CLgIHBi4BPgIeAg4BOM8SCQpdFVwSEl5ewwwKAREJCywNLAkXFQ8HBA0VCAoPBwQMEBAJAQYMARkSZAQCXswVEs/Pz3EHCicRLA0sBgMIEBUWEgpLAQsPEQwDBg0PDggAAAAKAAAAAAEaARwACwAXACQALQBIAGIAdwCSAJ4ApwAANw4BLgI2NzYeAQYnLgEOAhYXFj4BJjc2FhceAQ4CJicmNhcWMjY0JiIGFAczFSMiJj0BIiY9ATQ2OwEGByMiBh0BMxUUFjcmKwEiBh0BFBYzFQYXFhczPgE9ATI2PQE0ByMVFAYrASImPQEjNSY2OwEyHgEVFyM1MzI2PQEzNTQmKwEmJzMyFh0BFAYjFRQGJyIOAR4CPgE1NCYHIiY0NjIWFAarCRQSCwIKCA0eEgYYBAoJBgEFBQYPCAMrCRQHBQQDCQ4RBgkCFAMIBQUIBZwiIgkOBwsTDiIHAxgGCRMCiwoOLg4TCwgBBwUHJggLBwsSEwICHgICEgEJBi4FBwM0IiIBAxMJBhgDByIOEwsHDq4JDgYDDBEQCRAMBAUFCAUF1QYCCREUEgYIBhkfJgMBBAkKCQMEBAwPBAUCBwUNDgsGAwYKGhYDBQgGBgilEw0KIgwIKQ0UCAsJBSo1AgJ6ChQOOwgMLAkHBQECDAgsDAg8DUo/AQICAT89BQkFBwJ2EwICNSoFCQsIFA0pCAwiCg3ZChARDAMGDwgMESYFCAYGCAUAAAAFAAAAAAEHASwAFQAZAB0AIQAlAAATFRcVByMnNTc1MxUzNTMVMzUzFTM1AzM1IxczFSMXIxUzBzMVI/QTE7wSEhMmEiYTJam8vCZwcHBwcHBwcAEsExL0ExP0EhMTExMTExP+5/QmEzgTOBMAAAAABAAAAAABGgD0AAoAEAAUABwAADcfARUPAS8BNT8BFwcfAT8BBxc1JxcVNzUHFQc1oWwMB3NzBgtrBEsKQDkRsV5ecV4mE/QdCX4JICAJfgkdExMDEQ8FdxpsGRlsGmsKMAUwAAMAAAAAARIBGgAjAC0AQgAAJSc1JzU0JyYnJiMiBh0BBwYUHwEWFxY3Nj8BBxQeAjI+AicmPgIeAR0BBxcOASYvASY0PwEVBhQeAT4BJic1FwERFlwCBAsGBQwQOQkJRAQFCwoFBF0NAQYHCggGApYBAQMEBgQSEwEFBgFEAwNSBQYKCQQDBEhPOgFcFwYFCwQCEAw9OAgXCUQEAgQEAgRdKgQJBwQEBwizAgQDAQEFBBcTqgICAgJEAggDUTUECwkDBQkKAzVJAAAAAAIAAAAAARoBGgAMABMAADcyPgE0LgEiDgEUHgE3Iyc3FzcXliQ8IyM8SDwjIzwRDSsNJE8NEyM8SDwjIzxIPCNNKw0kTw0AAAMAAAAAARYBGwAGABwALwAANzM3JwcnBzceARcWFRQHDgEHBicuAzc2Nz4BFzY3Nic0JicmJyYGBw4BFhceAXYNVQ1PJA1WFikQJh4PJhYwJxQeEAMHDyYSKyEmGRkCEQ8dJhMmDyAXISIQJmBWDU8kDY4BFBApNysnEhcECRYLIiouFS4ZDAz0CR8iJRcqEB0DAQkLGE5IEwoGAAUAAAAAAQcA/gADAAwAFQAeACcAAD8BFwc3IiY0NjIWFAYHMjY0JiIGFBYXIiY+ATIWFAYHMjY0JiIGFBZElg6WAgsRERcREQwUGxsnGxuXDBEBEBcREQsTHBwnGxs+vAy8gBEXEBAXERMcJxsbJxxdEBcRERcQExsnHBwnGwAABAAAAAABGgEbAAsAFwAjAEUAADcjFSMVMxUzNTM1IycuAQ4CFhcWPgEmJz4BHgIGBwYuATYXMzIWHQEjNTQmKwEiBh0BMxUUFjsBFSMiJjc1IiY3NTQ29BMlJRMlJVQECgkFAQQFBg8JAyYJFBILAgoIDR4RBgouDhMSCQYuBgkTAgIPDwkOAQkLARNxJhMlJRO4AwEFCAoJAwQDDQ8UBgEJERQSBQkHGR5FEw4ODgYICAYzPwECEw0JLAwIMg4TAAAAAAQAAAAAAM8BGgAIABEAKQA9AAATMhYUBiImNDY3IgYeATI2NCYXIyIGHQEGFjMVBhY7ATI2PQEyNic1NCYHNSY2OwEyFgcVIxUUBisBIiY9AZYICwsQCwsIEBYBFSAWFgcuDhMBCwkBDgkeCg0ICwETSgEJBi4GCQESAgIeAgIBBwsQCwsQCxIWHxYWHxZUEw4yCAwsCQ0NCisMCDIOE1QzBggIBjM/AQICAT8AAAAAAQAAAAABLAEHAC0AABMHFTM1MxUXMzc1MxUXMzc1MxUXMzc1MxUjNSMVIzUjFSM1IxUjNSMVFyE3NScTExMlChIKJQoSCiUKEgolOBMvEi8TOBMTAQYTEwEHE3FxZwoKZ2cKCmdnCgpnvDk5OTk5OUtLEhK8EwAABAAAAAABGgEaAAUADgAbAC0AADczLgEnFTceARcWFSM1MgcXMw4BIyIuATU0NjcXMj4BNzY1IzUiBw4CFxQeAbxJBigcASMzBgFwCS8TXAczIhksGSsgExswIAQCcQkKGisZAR4zvBsoBklcBjMjCglwgxMgKxksGSIzB8wYKxoKCXECBCAwGx8zHgACAAAAAAEHAOEAHAA3AAAlFSMiJicjDgMrATUjJzczNTMyFhcWFzM+ATMHBgcGDwEjJyYnLgEnFT4BNzY/ATMXFh8BFhcBBwYLEwc2BAwPEgoJPBMTPAkKEQgQCDYHEwsJAwMFAwRNAgQJBA8GBg8ECQQCTQQBAgUCBM6DCgkJDgoFSwoJSwUFChIJChQBAgMGBQYMCAMHAYMBBwQICwcGAwIEAgEAAAACAAAAAAEtAQcANgBQAAATMxUUBgcVHgEXBgcxJi8BNTc2PwE2NyMWFxYfARUHBgcOAQczBgcjFQcnNSM1NDY3Njc1LgE1Fz4CFx4BFxYUBw4BBwYiJy4BJyY2NzY3NkuDCQoJDQQJCAkMBgUDAgQCAVsCAQQFBgcLCAQHAV4FBAoJCksGBAoSCQqMBw4PCA4VBAICBBUOCA8HDhYEAgEBBQwEAQcGCxMHNgQLBgMFCgQCTQQBAgUDAwQCBQMETQIECQQPBgcIPBMTPAkKEQgQCDYHEwuYBAMBAwMVDwcPCA4VBAICBBUOCA8HEAsEAAACAAAAAADhAQcAHAA3AAATMxUUBgcVHgMdASMVByc1IzU0Njc2NzUuATUXFhcWHwEVBwYHDgEHMy4BJyYvATU3Nj8BNjdLgwkKCQ4KBUsJCksGBAoSCQoUAgEEBQYHCwgEBwGDAQYECAwGBQMCBAIBAQcGCxMHNgQMDxIKCTwTEzwJChEIEAg2BxMLCQQCBQMETQIECQQPBgYPBAkEAk0EAQIFAwMAAAAEAAAAAAEWARsAFQAoAC4AMQAAEx4BFxYVFAcOAQcGJy4DNzY3PgEXNjc2JzQmJyYnJgYHDgEWFx4BJzcXFQcnNxU3oRYpECYeDyYWMCcUHhADBw8mEishJhkZAhEPHSYTJg8gFyEiECYnDlRUDhI6ARkBFBApNysnEhcECRYLIiouFS4ZDAz0CR8iJRcqEB0DAQkLGE5IEwoGqwg4EDgIX04nAAIAAAAAAPABBwAFAAgAABMHFRc3NQc1F0cPD6mljwEHCOEIcBBnvl8AAAAAAgAAAAAA4gEaABUAHwAAEyMVIwcVFBYXFTM1PgE9AScjNSMVIxcOAS4BPQEzFRSDEh0JJR0SHSUJHBMmOwwiHxNwARk4CUIcKwM5OQMrHEIJODhzDAYNHBE4OBcAAAAABQAAAAABDQDvAAcADwAfACcALwAANyMnIwcjNzMXJyYnMQYPARc1MzIWFRQGBxUeARUUBiMnFTMyNjU0IwcVMzI2NTQjoBMPPg4TOBEQFwEBAQIWbikTFg4LDhIbFBkRDhAcExcPECNeKCiQWT4DBwcDPjeQEg8MEgQBARMPEheBLw4MFT40DgwaAAAIAAAAAAEaAQcABwALAA8AEwAXABsAHwAjAAATMxcVByMnNRczNSMXIxUzJyM1MwczNSMXMxUjJyMVMwczFSMm4RIS4RMT4eHOvLwTlpY4S0sTJSU5S0tLS0sBBxO8EhK8vLwTOBMSg0sTJTgTJRMAAgAAAAAA6wDrAAcACwAAPwEzFxUHIyc3FTM1QgmWCQmWCRKE4QkJlgkJjYSEAAAABQAAAAABGgEaAAcACwAPABMAFwAAEzMXFQcjJzUXMzUjFzMVIzcjFTM3MxUjHPQJCfQJE+HhEiYmcSYmJSYmARkJ9AkJ9OrhE7y8cXGWAAABAAAAAAEaAPQAEgAANycjBycjByMVMz8BFzM3HwEzNd0hEyMWEhY1PAoNFhMjGwlDg3F9XVESBzJfhFgGEgAABAAAAAABBwEaAAwAGQA8AEAAABMiDgEUHgEyPgE0LgEHIi4BPgIyHgEUDgE3LgEiDgIHMzQ+ATIeAhQGDwEOARcVMzU0Nj8BPgI0JgczFSONITghIThCOCEhOCEcMBwBGzA4LxwcLwEFDxEPCgQBFwUHBgUEAgQDDgMEARYEAwcEBgQELhUVARkhOEI4ICA4Qjgh4RwvODAcHDA4LxyeBQYGCw0HBQcDAQMFCAkEEAQJBQwJBAgECAQKCw0MXhYAAgAAAAABCgENABAAIgAANw4BFTIzMhYUBiMiJjU0NjcXDgEVMjMyFhQGIyImNTQ2NxeGIyADBRMcGhUbHS8vmSQgAwUTHBoVGx0wLhbqFjMkGCsbKiY1ThsjFjMkGCsbKiY1ThsjAAAIAAAAAAEZARoADAAZACUAMQBDAE4AUgBWAAA3NDY3Jw4BFBYXNy4BNxQWFzcuATQ2NycOARcnPgE0Jic3HgEUBjcHHgEUBgcXPgE0JgcWDwEXBycjByc3LgE+Ah4BBw4CHgEyNjQuARcjBzMXJyMHOBAPDhETExEODxAUDQwNCQoKCQ0MDZAOCgoKCg4LDQ0ODQ4QEA4NERMTSwEFBUARDmgPEUAFBAcNDw0JHgIEAQIFBgYEBQIFESYZETYQwxUmDg0RLDEsEQ0OJhQQHwwNCRgaGAkODB9NDgkYGhgJDQwfIR+GDQ4mKSYODREsMSxCCggEkQghIQiRBhAQCQEGDAEBBAUFAwUHBAInJDglJQAAAAAFAAAAAAEaAQsAFQAeACoAMwA/AAA3FAczNi4BDgIeATc1Bi4BPgIeAQcyNjQmIgYUFhcyNxcOASImJzceATcyNjQmIgYUFhczFTMVIxUjNSM1M+EBEwMgO0AuDBw5IBouGAYjMzEeeggLCxALCy4UDg0JGRsZCQ0HEi8ICwsQCws3EyUlEyUlnwQFIDkcDC5AOyADEwMYLzQnDRMrEQsPCwsPCy8ODQkLCwoNBwgvCw8LCw8LOCYTJSUTAA4AAAAAARoA9AAPABMAFwAbAB8AIwAnACsALwAzADcAOwA/AEMAACUjIgYdARQWOwEyNj0BNCYHIzUzByMVMwcjFTM3MxUjFyMVMyczFSM3IxUzJzMVIxUjFTMHMxUjNTMVIzcjFTMHMxUjAQfPCAoKCM8HCwsHz885EhISExMlExMTExODXV2DJiZeExMTE0sTExMTOBISOCYm9AsIgwgLCwiDCAuWgxMSExM4EjkSEhI4EzgSExMTEl0SEhITEwAAAAADAAAAAADiAOEACAAVAB4AADcyNjQmIgYUFjcUDgEiLgE0PgEyHgEHNCYiBhQWMjaWCAsLEAsLUxQjKCMUFCMoIxQTIS4hIS4hgwsQCwsQCxMUIxQUIygjFBQjFBchIS4hIQAAAwAAAAABFgEbAAgAHgAxAAA3MjY0JiIGHgE3HgEXFhUUBw4BBwYnLgM3Njc+ARc2NzYnNCYnJicmBgcOARYXHgGWEBYWIBYBFRsWKRAmHg8mFjAnFB4QAwcPJhIrISYZGQIRDx0mEyYPIBchIhAmcRUgFhYgFagBFBApNysnEhcECRYLIiouFS4ZDAz0CR8iJRcqEB0DAQkLGE5IEwoGAAEAAAAAAOsBCgAZAAATFQcjNTMnLgEOAhYfAQcnLgE+AhYfATXqCUIwEg0iIxkKCg1hDWIQDAwhLCwRDQEHQgkSEg0JCRkjIwxiDWERLCwhCwsRDScAAAAKAAAAAAEqASwAFQAdACEALgAyADYAOgA+AEIARwAANwcnNyMiBhQWOwEVIy4BNDY3Myc3FxMjJzU3MxcVJzM1IzczFxUHIzUzNSMVIzUXIxUzBzMVIxcjFTM3MxUjFyMVMycxMxUjiysOGjwNERENCwsUHBwUPBoOK0V4Cgp4CnhkZEZ4CgoyKGQUFDw8PDw8PDw8FDw8PBQUKioW8ysOGhEZEhQBHSgdARoOK/7/CqAKCqAKjHgKoAoUjDxGghQUFBQUyBQ8FDwUAAABAAAAAAEJAQcAHQAANyM1MxcVIzUOAR4BPgImJzceAg4DLgI+AVgyQQoTGhEaOUArBSQfBRklEgQaKzMxJRIEGvQTCkElEz88HwswQTUKEggjMDMsHQcQIzAzLAAAAAACAAAAAAEIAQcAEQAVAAATMxU3FwcXBycVIzUHJzcnNxcHMxUjvBIwCTAwCTASMAkwMAkwlktLAQc7HRAdHhAdOjodEB4dEB1bSwAABQAAAAABLQESABIAHwAsADIAOAAAEzMXFSYnNSMVMxQXIzUzNSMnNRciDgEUHgEyPgE0LgEHIi4BND4BMh4BFA4BNyc3FwcXJxcHFzcnEf4JCQrqYRROOmsK1xUkFRUkKiQVFSQVEBsQEBsgGw8PGxAaGgkTE0sSEggbGwERCWwHBVawIBoTFAnEbBUkKiQVFSQqJBWIDxsgGxAQGyAbDycbGwkSExESEwgbGwAAAAACAAAAAADyARoABgANAAA3JzcnBxUXJxcHFzc1J/JLSwxQUK5NTQxSUnlKSwtQDFBWTUwMUwtSAAEAAAAAARoAqQADAAAlITUhARn++gEGlhMAAAALAAAAAAEaARoACwAVACYAOgBEAFgAYQBzAHsAfwCGAAA3NjIWFAYiJwcjNTMVFBYyNjQmIgYVByc3FzU0NjsBFSMiBh0BNxc3MzU0IyIGBxU2Mg8BBhUUFjMyPwEVFAYiJjU0PwEHIzUGIyImNTQ/ATQiBzU+ATcyFQc1BwYVFBYyNhcyNzUGIiY0NjIXNSYnIgYUFic3MxcVByMnNxUzNSc3MxcVBzXaBA4ICQ4DAQsLBAcEAwcFjCcMEw8LLCwEBRIMOw0SBAkDBw8BCw4HBggEAQUGAwYHLAwECAYHDgsOBwMJBBEMBwYDBgQ3CQUFDAcICwQDCAwODX0SqRMTqRISqXAShBIS+gkOGA8HBko0BAcIDgcIBU4oDBMdChARBgMdEgwNIBcDAgwFCQEDEAcJCRIEBAcEAgcBAa8HCQkHEAMBCQUMAgIBFwsEAQEHAgQGEgMOBAgOCQQOAgEQGg9LExNdExNdXV0mExNeE3EAAAAGAAAAAADiARoAEAAdACcAOgBCAEYAADcXNycHNTQ2OwE1IyIGHQEnFzMWPgE0JiIHJyMVMz0BNDYyFhQGIiYHBiMiJjUmNjMyFxUmIgYUFjI3JwcVFzM3NScHMxUjPCspDRMGAx0cDBAUbwEFFQ0LFgYBEBAGCwYGCwYQBw4QEwEWEQwGBxELChEIXhMTgxMTg4OD5isqDRMeBAYSEAweFC8JARIeEQsnXBsHBwgJEQoJlgUUEBIVAxMFCxMLBVsTcBMTcBMTcAAAAAABAAAAAAEHAQQAFQAAEwcVFzcnMzIWFxYdATM1NC4CKwE3dktLDj0kJzQQHhMRJjwpIjsBBEwNSw08EBAfRwYGJzkmEzoAAAAJAAAAAAEaARoAKAAsADAANAA7AEsAUwBXAFsAADcjNTM1IyIOAh0BBhYXFhczNSMiJyYnND0BNDU2NzY7ARUjFTM3NSMnIxUzBzMVIxUzFSMXIzUzFSMnNzMXFQcjFSM1IyImPQE0NhczNSMiBh4BOwE1IyczNSP0qUtQBg0JBAELCgYGBQUDAgYCAgYCA65LVAoTgxMTExMTExMFBTgFF0JUCQkvExIICwsRCQkEBgEFICYmEzk5cZYSBQoMBrIKEAQCARMBAwUDAgoCAwUDASYTClRxExMSExODODgc6glxCRMTCwheBwtwEwYIBRMSOQAABwAAAAABGgEsAA8AHwAvAD8ARwBXAGAAADcxMhYVMRQGIzEiJjUxNDYXMTIWFTEUBiMxIiY1MTQ2NzEyFhUxFAYjMSImNTE0NjcxMhYVMRQGIzEiJjUxNDYHMzcXByMnNxcjFTMeATI2NzM1Iy4BIgYXFAYiLgE+ARafBAYGBAQFBQQEBgYEBAUFBAQGBgQEBQUEBAYGBAQFBQUTRA1UDVUODDg4BCUxJQM5OQMlMSVsGycbARwnG+EFBAQGBgQEBSUGBAQFBQQEBksGBAQFBQQEBiUFBAQGBgQEBXlFDlRUDq0TGCAgGBMYICAhFBsbJxsBHAAAAAAEAAAAAAEaARoACQATACMALAAANxUzNRc3JyMHFzcVMzUXNycjBx8BIxUzHgEyNjczNSMuASIGFxQGIi4BPgEWlhNEDVQNVQ5EE0QNVA1VDgw4OAQlMSUDOTkDJTElbBsnGwEcJxv8EhJEDVRUDQwuLkUOVFQONBMYICAYExggICEUGxsnGwEcAAAAAAQAAAAAAQcBCAAvADgAQQBKAAAlNC4BDgEWFxUUDwEnJj0BPgEuASIOARYXFRQWHwEVDgEeATI+ASYnNTc+AT0BPgEnNDYyFhQGIiYXFAYiJjQ2MhY3IiY0NjIWFAYBBxQeFwQQDgU0NAUOEAQVHBUEEA4IBzMOEAQVHRUDEA0yCAgMD7sLEAoKEAtnCxALCxALLwgLCxALC+EPFQMTHBkDFAYDGhoDBhQDGBwSEhwYAxQIDgMbGAQXHBMTHBcEGBoEDggUAxQNCAsLEAsLoQgKChALC44LEAsLEAsAAAAAAwAAAAABGgEsAA8AGAAiAAA3IxUzHgEyNjczNSMuASIGFxQGIi4BPgEWJzUzFTcXByMnN144OAQlMSUDOTkDJTElbBsnGwEcJxs4E0QNVA1VDksTGCAgGBMYICAhFBsbJxsBHF55eUUOVFQOAAAAAAMAAAAAARoBGgAJABkAIgAANxUzNRc3JyMHHwEjFTMeATI2NzM1Iy4BIgYXFAYiLgE+ARaWE0QNVA1VDgw4OAQlMSUDOTkDJTElbBsnGwEcJxv8ZmZEDVRUDW0TGCAgGBMYICAhFBsbJxsBHAAAAAAGAAAAAAEHARoAJgAqAC4AMgA2AD0AACU1JyMiBwYHBgcVFBcWFxY7ATUjIicmJyY9ATQ3Njc2OwEVIxUzNyc1MxUnMxUjFTMVIxcjFTMXByM1MxUjAQcKtwYGDQUCAQMFDQYGBQUDAgYCAQECBgIDrktUCryplhMTExMTExMJFwU4BXGfCQIGDQYGsgYGDQUCEgEDBQMCCgIDBQMBJhIJQpaWgxMTEhMTZxw4OAAAAAQAAAAAARoBGgALABQAGAAcAAATMxcVByMHJzUjJzUXMzUjFTMXFT8BMxUjFTM1Ixz0CQl/NhAvCXp64S4KKAcSEhISARkJvAk2By8JvLKpqQohKJleJRIAAAAABAAAAAABBwEaAAkADgAaAB4AABMfARUHIyc1NzMHMzUnIxcjFTMVMzUzNSM1IwczFSPJOAUSqRMTcHCpOXBLJSUTJSUTJV1dARQ4DqgTE+ES86g5SxMmJhMlgxMAAAAABwAAAAABGgEsAAgAEQAaACMAMABWAGYAADcUBiImNDYyFgcUFjI2NCYiBhcUFjI2NCYiBhcUBiImNDYyFgc2NxcOASImJzceAT8BFAYHFTMyFh0BFxUHFRQGKwEiJj0BJzU3NTQ2OwE1LgE1NDYyFgciBh0BFBY7AT4BPQE0JiOWFh8WFh8WOAsPCwsPCzgWHxYWHxY4Cw8LCw8LLg4LDQkZHBkKDQkYDRIKCS8YIBMSIRhwGCATEyAYLwkKEBgQVBAWFhBwEBYWEJYQFRUgFRUQCAsLEAsLCBAVFSAVFRAICwsQCwtFAwsNCgoKCg0JBwK3CQ8DASEXExMlExMXISEXExMlExMXIQEDDwkMEBA7Fg9xEBYBFRBxDxYAAAAABgAAAAABGgEaABEAFgAbACgALgA3AAABIgcGByMHFR8CMzc1Njc2NQczBgcnFyc2NxUvATY3Njc2NwYHBgcGBzUjNSMVNzYuAQ4BHgE2ARAvLiUkTgkDcAc4CSETF/MxFxMHagcbF0BAEBUjJDAvAx4XJBdIJRO3BgUTFw0FExcBGRcTIQk4B3ECCU4kJS4vVBgbB2oHExcxFUAYFyQXHgMvMCQjFTgTJTiQCRcNBRMXDQUABAAAAAABJQEHAB4AKAA1AD4AADc1NzMfATMXFTMXDwEjNjczNyMmJz8BMzUjLwEjFQYXFAYiJjQ2MhYVMxQOASIuATQ+ATIeAQcyNjQmIgYUFhMJXgYRbAoVCTIJRgcFMy1sBggDBlVnBxBQClURFxERFxAmEh4jHxERHyMeEkIUGxsnGxu3RgoDEAouDIQGCApxBwYDAyUDEDEFVwwQEBgQEAwSHhERHiQeEhIeQRwnGxsnHAAAAAQAAAAAARoBBwAcACYAMwA8AAA3MxcVByM2NzM3IxUmJz8BMzcjLwEjFQYHNTczFwcUBiImNDYyFhUzFA4BIi4BND4BMh4BBzI2NCYiBhQWkX8JCWwHBVYBdwgJBwZ6AXoHEFAKCQleBxARFxERFxAmEh4jHxERHyMeEkIUGxsnGxv0CrsJCAqEAQYEBgMTAxAxBQdGCgOdDBAQGBAQDBIeEREeJB4SEh5BHCcbGyccAAAAAAMAAAAAAPQA9AAEAA4AGAAANyM1MhYnFTIeARUzNC4BBxUyHgEVMzQuAV4mEBYmLk4tEzNWMxorGRMfMzgmFqwTLU4uM1YzSxMZKxofMx8AAwAAAAABGgD0AAkADgASAAA3FzM3NS8BIw8BFyc3MxcnMxcHE3wOfD4HfAc+g281dDVvMiJUpXx8Dj4DAz52bzU1IiJTAAAAAwAAAAABIAEaAAUACAASAAATBxUXNzUHNR8BMxcHJxUjNQcnIQ4OqaSOMA0vDR8THw0BGQjhB3AQZ75fCy8NH2ZmHw0AAAAABQAAAAABFwD4AAYAEAAgADIAOQAAPwE1JxUXByc3FxUHNTcnFSMXJg4BHgE2NzE2NTQnMS4BBzYXMRYXHgEVMRYOAS4BNzE2FwcjJzcXN593moZjag6fQy6GEiEYJg4RKS4QDxMIFS0NExENBggBFiMeDwYFSiMNEQwMHS9QDmcVWUKsB2oOLRUfWUAOARktLBcIExQWGxUIChgKAQINBhMLEB0IEiASERMjEQ0MHQADAAAAAAEWAQcABQAIAA8AABMHFRc3NQc1Fwc3NScVFwc0Dg6ppY9WpKSOjgEHCOEIcBBnvl91bRBuF19fAAAAAwAAAAABIAEaAAUACAASAAATBxUXNzUHNR8BIyc3FzUzFTcXIg8PqaWOPQ0vDR8THw0BGQjhB3AQZ75fji8NH2ZmHw4AAAAABAAAAAABFgEHAAkAHAAuADUAAD8BFxUHNTcnFSMHJgYHBhYXHgE2NzE2NTQnNS4BBzYXMRYXHgEVMRYOAS4BNzE2FwcjJzcXN14OqWxWjhMDGSgIBAIECSsxERAUCRYwDhQSDgcIARgkIBAGBU8lDhINDB//CHEQSBc5X0QPARoZDBgMFhkKExUXHhUBCAsZCgECDQgUCxEfCBMhExMVJRMNDB8AAAAABAAAAAABFgEHAAkAHAAuADoAAD8BFxUHNTcnFSMHJgYHBhYXHgE2NzE2NTQnNS4BBzYXMRYXHgEVMRYOAS4BNzE2FycHFwcXNxc3JzcnXg6pbFaOEwMZKAgEAgQJKzEREBQJFjAOFBIOBwgBGCQgEAYFLBYMFxcMFhcMFxcM/whxEEgXOV9EDwEaGQwYDBYZChMVFx4VAQgLGQoBAg0IFAsRHwgTIRMTFxcMGBcMFxcMFxgMAAAAAAQAAAAAARoBGgAPABgAHAAmAAAlLwEjBxUjBxUXMzc1Mzc1ByM1MxUzNTMXBzUzFRcjNS8CIzUzFwEWHAagCS8JCbwJLwlLqBJxDxZdJXEmAxwGXpIX+hwDCS8JvAkJLwmgzqg5ORYPJSVLXgYcAyYXAAAABQAAAAABGgEZABQAGAAgACMAJwAAEx8BFSMHNScjFSM1IxUzByMnNTczBzM1Ix8BFQ8BJz8BDwE/ARc3J88fBgoJHwZxJTgKLhMTnD8mJnoccjkMHHJnChMDD2EPARMfDgYJDyBLS7wSErwTSzk5HA1yHA04cocTCR0PYQ4AAAADAAAAAAEaARoACQASABYAABMfARUHIyc1NzMHFTM1JyMVIzUzFTM1+hwDCfQJCdjO4Rcig0smARcdBtgJCfQJEuHKF0tLOTkAAAAABgAAAAABGgEHAAMABwAOABUAHAAjAAA3MzUjFzMVIycjNTczFSM3FSM1IzUzBzMVByM1MyMzFSMnNTM4vLwmcHA4EwlCOPMSOUIJEglCOeE4QgkTS5YlS0tBChMJQTgTlkIJEhIJQgAGAAAAAAEaARoABgANABQAGwAjACcAADcjNTM1MxU3NSMVFzM1BxUzNTM1KwEVMxUzNSc3ByMnNTczFwcjFTNCLyUTqRMJLzgTJS/XJRMJnwmECQmECSVLS+ETJS8KJS8JE7IvJRMTJS8JHAkJXgkJHCYAAAMAAP//ASwBEAASAB8ALwAAEyIOARUUFhcHFzcWMzI+ATQuAQc0PgEyHgEUDgEiLgEXByMnNxc3Mxc3MxcVJwcjlhcnFgwLRQ1GFRoXJxYWJ1kSHiQeEhIeJB4SVSgOHA0WKA0pKA0fJSkNARAXJxYRHgxFDUYOFyctJxdUER4SEh4jHhISHoIoHA0VKCgoHxolKAAEAAAAAAEbAR8AHAApADIAOgAANw4BFxYXBhcVJwcnNy4BPgEeARUUByYnNTQuAQYXPgEeAg4CLgI2FxY3FjcnBhUUNxc2JzYmIyJsEwkLCA8CAQlHDkcXBSRBQikBCAkdLzInECkkFgMSIigkFgIREhEXEg9PChhOCwEBIRgS7hM1GBIMCQkDBkUNRRlFOhkTNyMHCAcGAhoqFApkCwMSISgkFwIRIigkWxEBAQtODhIYRk8PEhchAAAAAAIAAAAAASwBLQAPAB0AABMiDgEWFwcXNx4BPgEuASMVIi4BND4BMh4BFA4BI78fMxkJFGQOZBtDOBYUNyEXJxcXJy4mFxcmFwEsITg8FnMMchUCJkBBKLsWJy4nFhYnLicXAAACAAAAAAEaARAABgANAAATNxcVByc3Fwc3Jx8BFRMO+PgOHRQY0dEYZQEICHARcAhvCVdiX1YCEgAAAAAGAAAAAAEcARoAAwAHAAsAHQAhACkAADczFSMVMxUjFTMVIxchNzM1ND4COwEyHgIdATMHMzUjFycjFSM1IwdxS0tLS0tLq/70GCMDBQcEcAQHBQMjpnBwpg4VlhUO9BNeEhMTS16pAwcFAwMFBwSoJs/0OCUlOAAGAAAAAAEaAQcADAAQAC4ANwBVAF4AABMzFxUjNSMVMxUjJzUXMzUjFzUmJwcnNyY3JzcXNjc1MxUWFzcXBxYHFwcnBgcVJxQWMjY0JiIGFzUmJwcnNyY3JzcXNjc1MxUWFzcXBxYHFwcnBgcVJxQWMjY0JiIGHPQJEuGDjQkT4eFdBQQRChIBARIKEQUEEwUEEgkSAQESCRIEBRcICwkJCwllBQQSCREBAREJEgQFEgUEEgkRAQERCRIEBRcIDAgIDAgBBwp6OYQSCc4vJqkVAQMKEQoFBQoQCgQBFRUBBAoQCgUFChELBAEVLwYICAwICG0UAgMKEAsFBQoQCgMCFRUCAwoQCgUFCxAKAwIULwYJCQsJCQAABgAAAAABBwEaAAcAGwAjADcAPwBTAAA3JzU3MxcVBycjFSM1IxUjNSMVIzUjFTM1IxUjByc1NzMXFQcnIxUjNSMVMzUjFSM1IxUjNSMVIxc3NScjBxUXNzUzFTM1MxUzNTMVMzUzFTM1MxUvCQnOCgpBExMTEhMTE7wmEo0JCc4KCowTExO8JhITExMSjAoKzgkJCRMTExITExMSJs4KOAkJOAo5ExMTExMTJiYTgwk4Cgo4CTgTEyYmExMTExODCTgKCjgJEyUTExMTExMTEyUAAAAEAAAAAAEsASwAFwA3AEMATgAANxcVBxcHJwcjJwcnNyc1Nyc3FzczFzcXBzc1LwE3JwcvASMPAScHFw8BFR8BBxc3HwEzPwEXNy8BNjMyFhUUDgEuATYXFjMyNjQuAQ4BFvg0NB4rLAs8CywqHTQ0HSosCzwLLCsxMjIHHBErEQoZChArEh0HMjIHHRIrEAoZChErERxgCw0SGRQeGwsIGQYGCQwJDw4GBb8LPAssKh00NB4rLAs8CywrHjQ0HitsChkLECsSHQcyMgcdEisQCxkKECsSHQcyMgcdEitLBxkSDxgGDh0dLQMMEQsDBw4PAAAABAAAAAABBwD+ABkAIwA8AEYAADcyFhczMhYUBgcjDgEiJicjIiY+ATczPgEzFyIGFBYyNjQmIzcyFhczMhYUBgcjDgEiJicjIiY0NjczPgEXIgYUFjI2NCYjcQwVA2gEBgUDagMVGRUDHQQGAQQDHwMVDAEICwsPCwsITAwVAx0EBgUDHwMVGRUDaAQFBANqAxUNCAsLDwsLCHoQDAYHBQEMEBAMBQgFAQwQEwsPCwsPC5YQDAUIBQEMEBAMBgcFAQwQEwsPCwsPCwAABQAAAAABGQEaAAwAJQA9AEAAQgAANyMHFRczNzUjFSM1MxcjNTQ2NzU0NjIfARUHBiImPQEGBwYPASM3Ig4BDwEzNjc2NzYzFxQWMj8BJy4BBhUHMjAjMV5CCQnOChO7OBMTKiEPFQdFRQcVDxUKBAIBE0wUIRUBAQQFCg8XCQkBAwYCREQCBgM5AQHhCbwJCTgvqXAvITQGGAoPCEkZSQgPChQFEQcKBnoTIBMhDwsPBAEoAwMCSUgCAQQDogAAAwAAAAABGgEcACQARQBRAAA3LgU3NTcyPgI3Njc2FxYXFhceAzMXFRQOBAcnFRQeAx8BNjc+BD0BIyYnJi8BJicmBw4DBxc+AS4BIg4BFhcHM5sPHBoWEQoBCQoQEQ8HCwwSEwwLBgUIDxEQCgkJERcZHA9sCA8VGA0WDAsNGBUOCQsJChQRCQgKDg8JERMTCmgJCgQQFA8ECQoIJRgJExYZHiMSPAkCAwYFBwQFAwEGAwMFBgMCCTwSIx4ZFhMJ0TMQHRsXFQgPBwgJFBcbHRAzAQIECwUEAgIEAwsIBAFRBBITDQ0TEgQxAAADAAAAAAEbAQcAFQAZACMAADc1FzUnIwcVHwE3NTM3NQcVIzUvATMHJzUfATMVIxcHJzU3F88SCakJBl4MQgkSOQZEg0xLSzpdXB4OLi8N5QETKgoKygkgCRMJKhMOnAgY1BmtGS4THg0uDS8NAAAAAwAAAAABGwEHABcAGwAlAAA3FTc1JyMHFTEVHwE3NTM3NScVIzUvATMHJzUfASM1Myc3FxUHJ88SCakJBl4MQgkSOQZEg0xLS3teXR4NLi4N5R0TIgoKCcEJIAkTCSITLJwIGNQZrRlAEx4NLg4uDQAAAAAFAAAAAAEdAR0ADAAZACIAKwA4AAATPgEeAg4CLgI2Fx4BPgIuAg4CFjcUBiImNDYyFhcUBiImNDYyFgciJicHHgE+ATcnDgFNHUc/KAQgO0U/KAQeKRk8NiIEGzM7NiIEGjwLEAsLEAteCxALCxALQhAaCBAKJSojCRAHHAEDFAUfO0ZAJwQePEU/txAFGzI9NiEEGzI8NV8ICwsQCwsICAsLEAsLUxANCRIVARYTCA4RAAADAAAAAAEaARoACAAxAFgAADcUBiImNDYyFiciBhUUFwcjFTMVMzU3FhczFSMiBhUiBh4BOwE+ATQmIzQmIzU0LgEjBzQ2OwEyFh0BFzMyFh0BMzIWFAYrASImNDY7ATU0NjsBNzUnIyImlgUIBgYIBS8THAgVIh0SFQwOHBIQFhAWARUQqQ8WFg8WEBEfEUIQDCYTGwoJCAsTCAsLCKkICwsIEwsIHAkJJgwQ6gQFBQgGBisbFA4LFRMcIRUHASUWDxYgFgEVIBYPFkIRHxEvDBEcE0sKCwgSCxALCxALEwcLCjgJEQAABwAAAAABGgEHAAoADgASABoAHgAiACwAABMHFTM1MxU3FzUnBzMVIwcjFTMnBxUXMzc1Jwc1MxUnIxUzNyMVJwcXMzcnB4MSEoQDDxJxJiY4JiY4ExODExODgxMlJV4TFg0mDSYNFgEHEzg4LgMPOhMmJTklSxNeEhJeE3FeXjkmlkgWDiYmDhYAAAAEAAD//wEHASwALAA1AD4ARwAAJTQuAQ4CHgEXDgErASIHNT4BLgEiDgEWFxUOAR4CPgEmJz4BOwEyNjc+ASc0NjIWFAYiJhcUBiImNDYyFjciJjQ2MhYUBgEHDhgaFgkEEg0FEgslFhASFQMbJBsDFRISFgMZJBwGEhIFEgslEh0GERjOEBgQEBgQOBAYEBAYEGcMEBAXERHFDRcMAhAZGhMECgsPWwMdJBgYJB0DcgQcJBkCFiQeBQoLFRECG0kMEBAXERHCDBAQFxERbhEXEBAXEQAAAAACAAAAAAEaARoALABXAAA3FjI2PwE+AT8BPgIuAS8BLgEvAS4CDgEPAQ4BDwEOAh4BHwEWFxYfARYXFjI2PwE+AT8BPgIuAS8BLgEvAS4CDgEPAQ4BDwEOARQWHwEeAR8BFmUFDQoCCAQOChoFBgMCBgcZCg8DCQIJCQkGAggDDwkaBQYDAgYGGgwJBAMIAngECggBBQEHBQ4FBQEDBQMPBAcBBQIGCAYFAgQCBgUOBQUFBQ4FBwEFAWEDBwYaCg4ECAIGCQkJAgkDDgoaBgYCAwcEGgoOAwkBBwkJCQIIBAsGBxoGTwMFBQ4FBwEFAQcHBwUBBQEHBQ4FBQEDBQMOBQcBBQEICggBBQEHBQ4FAAQAAAAAARoBGgAsAEAAawB/AAA3FjI2PwE+AT8BPgIuAS8BLgEvAS4CDgEPAQ4BDwEOAh4BHwEWFxYfARY/ARceAR8BBw4BDwEnLgEvATc+ARcWMjY/AT4BPwE+Ai4BLwEuAS8BLgIOAQ8BDgEPAQ4BFBYfAR4BHwEWLwE3PgE/ARceAR8BBw4BDwEnLgFlBQ0KAggEDgoaBQYDAgYHGQoPAwkCCQkJBgIIAw8JGgUGAwIGBhoMCQQDCAIHCggFFQ4aGg4VBQkJBBUOGhoOFHYECggBBQEHBQ4FBQEDBQMPBAcBBQIGCAYFAgQCBgUOBQUFBQ4FBwEFAQ0DAwkNAwEBAw0JAwMJDQMBAQMNYQMHBhoKDgQIAgYJCQkCCQMOChoGBgIDBwQaCg4DCQEHCQkJAggECwYHGgaHGhoOFQQKCQQVDhoaDhUFCQkFFMgDBQUOBQcBBQEHBwcFAQUBBwUOBQUBAwUDDgUGAgUBCAoIAQUBBwUOBTIBAQMNCQMDCQ0DAQEDDQkDAwkNAAMAAAAAARoBGgAHAAsADwAAASMHFRczNzUHIzUzFyM1MwEHzxISzxKDXl5xXl4BGRLPEhLPz8/PzwAAAAMAAAAAARoBGgAHAAsADwAAASMHFRczNzUHIzUzNSM1MwEHzxISzxISz8/PzwEZEs8SEs/PXhNeAAAAAAMAAAAAARoBEgBNAJwApgAANyYjLgEjFQ4BBxUWFxYXMjEGBwYHBh0BFBYyNzMGByMOARUGFjsBFj4CJyYvAS4BNj8BMzIXFhcWNjc2NTQnJicmBwYHBgcmJzU0JicXFgcGBwYrATQ2OwE1JjY3JwYHIyIHBiY+ATsBMjY/AQYmJz4BNzMyFxYXFh8BMzUmNjc+ATc2Fx4BFxUUDgEmJyYHDgEHBhYfAR4BByYvASIGFBY+ATQmI2gBAQIPChYeBAURCAoBEAoIBAMLDwcnBQIGERcBBAR9EBwWCQEBDQIHBQMDAgMDAwYHChIFAg0MERgaEg0KBQUHDwxkAgIDDggJbgoIGAESDgwIAzwDAgUFBAoHEwQFAQYPHAoEIRUCCAcKEAgGAQMBAgEEEw4TEA0RAgUHCAQKCwcJAgMHCAIKAQYBB4MEBgYHBgYE+gEJDBkJIxcICgYEAgIHBggGBwYHCgMJCgIbEgQFAQsXHRAWEQMICwkCAQEEAgEJCQYHERYSCw0FAw4LDgcHAwsQAbkPCQ4IAwcLCg0UAREDAgECAwsIBQMYAgkKFRwBAwUVCwoBAQcXBgwTAgQJCBsMAgcFAgICBgMCCgcLFwgDDB4NDQxwBQgGAQUIBQAABQAAAAABGgEaAAkADQAPABEAGwAANycHIxcHNxcnNwczNw8CNyMHMzcXMwcXJwc3tB4eZVIfUFAfUu1SGBgQGKpSUiwODiwkDiQkDrdiYkBkPj5kQAlPTzRQhBEtLRwtHBwtAAEAAAAAARoBGgAJAAA3JwcjFwc3Fyc3tB4eZVIfUFAfUrdiYkBkPj5kQAAABAAAAAABGgEaAAkADwAQABIAAD8BFzMHFycHNycfASc3Iyc1FyN4Hh5lUh9QUB9SgyQOJCwOalK3YmJAZD4+ZEBHHC0cLTNPAAAAAAMAAAAAARYBGwADABkALAAANzMVIzceARcWFRQHDgEHBicuAzc2Nz4BFzY3Nic0JicmJyYGBw4BFhceAXFLSzAWKRAmHg8mFjAnFB4QAwcPJhIrISYZGQIRDx0mEyYPIBchIhAmvEuoARQQKTcrJxIXBAkWCyIqLhUuGQwM9AkfIiUXKhAdAwEJCxhOSBMKBgAAAAAFAAAAAAEaAPQACQATABwAJQAuAAA3MzUjBxUXMzUjNyMVMxUjFTM3NQcyNjQmIgYUFjcUBiImNDYyFhcyNjQmIgYeASYSHAkJHBLqHBMTHAm7CAsLEAsLUwsQCwsQCyUICwsQCwEK4RMKqAoTqROWEwqoZwsQCwsQCxMICwsQCwsbCxALCxALAAAAAAIAAAAAARoBBwAJABMAABMHFRczNSM1MzUXNzUnIxUzFSMVHAkJLyUlxQkJLyYmAQcKzgkSvBPhCc4KE7wSAAACAAAAAAEaAPQABwAfAAA/ATMXFQcjJzcjFSM3JwcVFzcnMzUzJzcXFQcnNyMVMxMJ9AkJ9An0cUwnDTg4DShNSScNNzcNJ0lx6goKqAoKn0EnDTcONw0oEigNNw43DSdBAAAABAAAAAABFAEaACAAJAAoACwAADczNzUnIwcjNTc1JyMHFRczNxUXMxUXMzc1JyMHIzUzFTcXBycfAQcvAjcX1Q0yGQ0iXiMmDUslDhUJWBgOMhkNI15POAwlDCUMJQyQGD0ZdjINGSIYIg4lSw0mFm0JChkyDhkjSwkqCyYMOAwmDHgZPRgAAAcAAAAAARoBGgAZADUAPgBHAFAAWQBiAAATIg4CHQEeAT4BHgIOARYXMzI+ATQuASMHIy4BNSY3NjQmIgcGJyImPQE0PgEyHgEUDgEjNxQGIiY0NjIWFxQGIiY+ATIWJzI2LgEiBhQWNxQGIiY+ATIWFxQGIiY0NjIWlhowJRQBExoUHBQBFAMODwsjPSMjPSMBCgQFAggPHywQBwoCBB8zPTQeHjQeEgsQCwsQCzgLEAsBChALgwgLAQoQCwuLCxALAQoQCxMLEAsLEAsBGRQlMBoIDg0EEwEUGxUcFQEkPEc8JPUBBAQMCBArIBAIAgQDBx8zHx8zPTQevAgLCxALC4sICwsPCwtWCxALCxALEwgLCxALC0AICwsQCwsAAAQAAAAAARoA9AADAAcADwATAAA3MxUjFyMVMyc3MxcVByMnNxUzNUuWlpaWls4T4RIS4RMT4bwTJhJwExOWExOWlpYABgAAAAABGgEHAAwAFQAZAB4AIgAmAAA/ATMXFQcjNTM1IxUjFzUnIwcVFzM3JxUjNTcnNTMVJzMVIwcjFTODE3ESEktLcRMmE3ATE3ATE3CLCEtLS0smS0v0ExNeExNeODkTExNeEhJeXl4TCAsTOBNdEwAHAAAAAAEaAQcADAARABoAHgAiACYAKgAAASMHFTM1MxUjFTM3NQczFSMnByMHFRczNzUnFSM1MwczFSMVMxUjNzMVIwEHcRMTcUtLEnBLRAcmXRMTcBMTcHBeS0tLS3FLSwEHEzg4XhMTXjgTBwcTXhISXhNxXhMSExOWEwAAAAIAAAAAAO8BGgALABIAABM3MxcHMxcHJzcjJxcHNyM3IweLET4PKSEOhh4oFxFHNoVFPj5AAQ8KHUAgiRZIGwljiV6EAAAAAAQAAAAAARoBBwALAA8AEwAXAAAlJyMPARUfATM/ATUHJzUXNyc3HwEHNTcBD14RgwoKXhGDCqBUVAlXfVcHenrYL0IRVBEvQhFUkSpGJhAnPyxXPUk5AAADAAAAAAEHARoACQAMABMAACUvASMHFRczNzUHIzUHNTMVFzMVAQQ+BpEJCc4KEziEcQlC2T4CCfQJCbYEOeHhQgmWAAIAAAAAARsA4gAXACEAADciBgcjLgEOARQeATY3Mx4CPgIuAgciJjQ2MhYUBiPYGSUDOgQXHRISHRcEOgIVHyIcDwISHREUGxsnGxsT4SAYDRADFR0VBBAOERsOBBMeIxwRcBsnGxsnHAAAAAUAAAAAARoA6wASACUAPwBKAGUAADcWPgE3Nic2Jy4BIyIHNSMVMzU3Nhc2FxYVFgcOAScGJjc1Jjc2Jw4BDwEVNzY3MhYVBw4BFBYzMj8BFTM1NiYXFAYjIiY0NzY/ARcWNxY/ATUHBiImNDYXMh8BNScmIgYHBhQXFocKFBIGDQEBDAYQCRAMExMQBQYLBgcBCQMJBgsPAQEIBFAJEQcCCAsPBwkXDhUTDgsJBhEBEwEPCwYJBAgKE5wICg4MAwkJFxASDQoICAMKFhMHDw4GXwYBCAgRFhQPBwcLNI8GTAMBAQkKDQ8NBAYBARELCwwKBBYBBQUBFwcKAQwIBAESGhIGBQk/EBc5DREIDAQFAQMvBAEBCAEWBgcUHBYBBQUWAQUIBxEqEAcAAAgAAAAAARoBBwADAAcACwAPABMAFwAbAB8AACUjNTMHIxUzJyMVMxcjFTMnIxUzNyMVMycVIzUXIxUzARldXRImJkupqSXOzl5wcJZdXYODcF1d4RNLExMTXhJLExMTqTk5ExMAAAAABAAAAAABBwEaAAsADwATABcAADcnIw8BFR8BMz8BNQcnNRcnNxcHFwc1N/1dE14JCV4TXQp6VVVQWVlZXlRU4Tg4EHEQODgQcaMyYS5BNTUxQzJlLgAAAAUAAAAAARwBGgAIAAwAEAAdACkAABMzFRYXNSMVNxcnBzMnPwEXNz4BHgIOAi4CNhceAT4CJicmDgEWS5YKCbwTKBVLlnYgCysqDyMgFAIQHiIfFAIPGQoZFw4CDAoQJhYIAQdLAQRinyEqJYMTOBNLeAoCDx4jIBMCEB0iIFQHAgsVGhYHCwggJgAAAgAAAAABBwEHAEYAjQAANzUjIg4BBzEGBzEGFxUUBzEGBwYrARUzMhcVFhcVFhcxFh0BBhcVFhcxHgIXMzUjIi4CPQE0JicmJzY3PgE9ATQ2NzYzFxUzMj4BNzE2NzE2JzU0NzE2NzY7ATUjIic1Jic1JicxJj0BNic1JicxLgIHIxUzMh4CHQEUFhcWFwYHDgEdARQHDgEjcQIJEQwDAwEBAQIECgUGAQEGBQUDBAICAQEBAwMNEAkCAgYKBwQCAgUJCQUCAgkHBQZNAQkQDQMDAQEBAgQKBQYCAgYFBQMEAgIBAQEDAwwRCQEBBgoHBAICBQkJBQICCAMKBvQTBw0ICAgICBAGBQoFAhICAQIDAQMFBQYQCAgBBwgIDQYBEwQICgYZBgwFCwcHCwUMBhkJDQQCvBIGDQgHCQgIEAYFCgUCEgIBAgMBAwUFBhAICAEHCAgNBwESBAgKBhkGDAULBwcLBQwGGQwIBAQAAAACAAAAAAEaARoAGwAfAAATFTMVIxUzFSMVIzUjFSM1IzUzNSM1MzUzFTM1BxUzNc5LS0tLEksTS0tLSxNLS0sBGUsSSxNLS0tLE0sSS0tLXUtLAAAIAAAAAAEaARwADgAZAB0AKQA1AEIATwBTAAATFhcWFA4BIyImNTQ2NzYXNjc0LgEOARQeATcHFzcXMxUzFSMVIzUjNTMnFwcXBycHJzcnNxc3LgEiDgEeAz4CBwYHBicuAT4CFhcWNyMVMzYKBAIGDAgKDwgHCgQGAQUGBgQFBkxkDWNTEi8vEi8vbA0hIQ0hIQ0hIQ0hOgMMEA0FAQcLDQwHAREBBAYFAgIBBQYFAQWNS0sBFwQJBQwLCA8LBw0DBCUDBwMGAgMFBwUCImQMY4cvEi8vEiUNISENISENISENIXAHCQkNDQoGAQcKDQgEAQMFAQUGBQECAgU0EwAAAwAAAAABGQDhABsAIgApAAA3IzU0JisBFRQWOwEVIzUzMjY9ASMiBgcVIzUzFyc3FxUHJyMnNycHFRfOEgYEEwUECjkKBAUSBAUBEnA3HA4iIQ6nHBsOISK8CQQFZwQFExMFBGcFBAklTBwNIg4hDhsbDSEOIgAAAgAAAAABGgEbAB8AQwAANyIuATc2NyY0NzY3PgEfAQcXNxcWFAYHBgcOAScGBwY3IgcGBw4BHwEHBgcGHgIyNzY/ARcWNjc2Nz4BNTQnByc3JjUOEwIII0AFBgoVESkSDDYXOAUGDAsGCBAlEkQgCYkSEAYFDgcIAwREIwMBBwYIAx5JBQUPIA4GBQkJATEwMAYTExkKJj4OHg4YDQsECAU4FzYMDyAeCwYFCwQHRR4I9QsDBQ4mEgYEQiUFCwcCAxtLBAIHAwkDBQkXDQYGMDAxAQACAAAAAAD0ARoABwAbAAATBxUXMzc1Jwc1MxUjNTM1IzUzNSM1MzUjNTM1SxMTlhMTlpaWJiZLSyYmSwEZEuETE+ESJRPhEhMmEiYTJRMAAAgAAAAAARoBGgAJAA0AEQAVABkAHQAhACUAABMHFTM1MxUzNScDNTMVNyMVMzczFSM3IxUzNzMVIzM1IxUnMxUjLwkSzxIJ6hImExMTEhI4ExMTEhJdEiYTEwEZCdjPz9gJ/voTExMTExMTExMTExMTEwAABwAAAAABGgEHAAcACwAfACkANgBAAFIAABMHFRczNzUnBzUzFSczNTQjIgYHFTYyFQcGFRQWMzI/ARUUBiImNTQ/ARcjFSM1Mxc2MhYUBiInFRQWMjY0JiIGFzI3NQYiJjQ2Mhc1JgcmBhQWJhMT4RIS4eGjDRIECQMHDwwOBwYIBAEFBgMGBysBCwsBBA4ICQ4EBAcEAwcFRQkFBQsHBwwEBAgLDg0BBxOpExOpE7ypqTogFwMCDAUJAQMQBwkJEgQEBwQCBwEBFAZKHwkOGA8cBQQHCA4HCCEDDgQIDgkEDgMBARAaDwAAAAAGAAAAAAEaAQcABwALABMAGAAgACUAABMHFRczNzUnBzMVIwc3MxcVByMnNyMVMzUzNzMXFQcjJzcjFTM1JhMT4RIS4eHhExM4ExM4EyUSOF4SORISORIlEzkBBxM4ExM4ExM4SxISORISOTk5EhI5EhI5OTkAAAAGAAAAAAEaAOEACQATAB8AIwAnACsAADczNSMHFRczNSM3IxUzFSMVMzc1BxcVDwEjLwE1PwEzBxc1JzcXNycHNzUHJiUvCQkvJeovJiYvCTwEBlQJLgUGVAlQHBwLGz8bG0JCzhMJlgoTlhODEwqWJwgvCSUcCC8IJlcRGREPEBwQVx0aHQAAAwAAAAABKwEIABEAIwAnAAA3Jz4BHgEXNxcHIyc3Fy4CBh8BBi4CJwcnNzMXByceAyc3FwdnDxo9NiABFw4nDycPFwEaLDFADxo6Mh4BFw8nDigPFgIYJy6SDd8N5w0RAxwzHxYOJygOFxgqGAGzDQ4BHTEdFw4nKA4WFycXA74N0A4AAgAAAAABKwENABEAIwAANwcnNzMXByceAjY3Fw4BLgE3JwcXMzcnBy4CBgcXPgEeASYXDycOKA8WAyk9OQ8PE0VJMM0XDycPJw4XAS5IRRQPEDo8J5EXDicoDhYfLw0aHAshHhE6LxcOKCcOFiU6ExsgCxsYEDAACwAAAAABBwEHAAcACwAPABMAFwAbAB8AIwAnACsALwAAEyMHFRczNzUHMxUjFyM1Mx0BIzUnMxUjFTMVIxU1MxUzNTMVMyM1MzUjNTMnNTMV/eEJCeEK4c7Ogzg4OEs4ODg4OBM4Szg4ODg4OAEHCs4JCc4JEzglOCUlOCUTJTkmJiYmJhMlEyUlAAADAAAAAAEnAQcAEQAjADAAABMjDwEVFzM3FjI+AT8BNCYnNQcmIyIGFBYzMhcVBwYPASc3MxceARUGFQ4DJz8B+GIGfWENKhIqJRcCARQREw4OBAUFBA8NSQMCJVRzVBMJCgECERseDkUDAQcDfQ1iKgoUIhUKFSUMKiEFBQgGBihKAQMmVHQ5ChcNBQUPGQ8CBkUHAAAAAAUAAAAAARoBGgAIABUAHgArADgAADcyNjQmIgYUFjcUDgEiLgE0PgEyHgEHMjY0JiIGFBY3FA4BIi4BND4BMh4BBzI+ATQuASIOARQeAZYICwsQCwtTFCMoIxQUIygjFEsXISEuISGaIzxIPCMjPEg8I4MfMx8fMz4zHh4zgwsQCwsQCxMUIxQUIygjFBQjTCEuISEuITgkPCMjPEg8IyM8lB4zPjMfHzM+Mx4AAAAABAAAAAABGgEaAAYACgAOABIAAD8BJwcnBxc3IzczBzMVIxcjFTNDaw1kHA4i5JkrbqioqKioqK5dDlYiDCofJksmJSYAAAAABQAAAAABBgEaABMAFwAbACAAKgAAEx8BDwEvAQcvAQcvAT8BJz8BJzcHFzcnNxc3JzcXNycPARcjJxUjNQcjN9MLJwQ+CwNDCgMwCw4FLwMEQwMFZwYqBwoVOBQKIyshLgU5FiMTIxUgARkEXQsaBAgcBAcUBR8LFAgKHQgLYhAREBcuGC0YTRNNE3NbOEthTkkAAAQAAAAAARIBIwAXAEcAUQBuAAAlJyYiDwEOAR0BFBYfARYyPwE+AT0BNCYHFRQPAQY9AQYnIjU3NDczFjc2NCImNTQ3NTQ/ATIdATYXMg8BFAcxJgYVFBYzMhQ3FCMHIzU0PwExNwcOAR0BFBcjIi8BLgE9ATQ2PwE2Mh8BFhcuAQcBAFkIEghZCAkJCFkIEghZCAkJTQEFAQUFAQIBAQUEBw0GCgEFAQQEAgECAQUKBAQMJAEWAQEWEFQJCQgFBwdZBggIBlkHDwZZCwICCQbpNQUFNQUQCWoJEAU1BQU1BRAJagkQnwgBAQMBAggDAgEHAQEBAgMNBAcNCAgBAQMBCAIBAgYBAQEFBwICGgQBDgYBAQ18NAUMCWcLAwM1BA4HagcOBDUDAzUHDQQCAwAHAAAAAAEsARoAAwAgACQAKAAwADQAOAAANxcjJwciDgIUHgIyNxcGIwYiLgI0PgIyFhcHLgEXMxUjFTMVIzchBxUXITc1ByE1ITUhNSHMJg4lUwgMCgUFCQwSCQIEBQcQEAwHBwwSEgoCAgQJJRMTExON/uYJCQEaCRP++gEG/voBBqleXgsFCQ8QDQkFAwkCAgYMERQRDAcCAgkCAggTEhO7CfQJCfTqqBMmAAAAAA///wAAAPIBLQAEARcBGgEtATUBOwFKAVABUgFXAV4BYwFkAW4BdAAAEyIrATcXNjUHNj0BIy4BJy4BBz4BJw4BBwYHBjM3MAcjDgEHFDYxByYHBgczBgcxBhUHBhUUFwcXIx4DFyYnFBYXBxYfASYXFh8BNwYXMx4BMwcWFzMWFycXHgIXIyYnLgI3Jjc0JzU2NzUxFj8BNjczNjc2NzE2NxU2NzY/AQYzNwc2FzEyMwcGMRY3MTYXJxcWFzI3MTYXFRYXMicxHgEXJjEVFiMWFzUmJxQjMSYGFxY3MTQxFxYfASInMSYVHgEVMSIVFBY3MwcGFycUFTEWBzY0BxYHMQYVJwYWBzY1MTQ3Ig8BDgEnNCcmJyY3Njc2Nz4CFhcuAQ4BFzcyNRQeATcVNj8BBwY2PwE2NTEmPwEHMDkBFBYXFjcGLgEnMhcxFhcmJxYXNyIjMhYjMCcXNCIHFxQHBgc0JjY3FAcxBhQ/ATYHLgE3FjcnDwIXFhcnFh8BJyYnNwcGBzYnFTAzMTIUDwE1NgcUBzU0N4UEAwIOSAMCAgEBGxANIwkBBgEHCAMGBgEBBgMFBQgFBAIIDw0FAwIEBQECBAEDAQIEBQUEBAIFAwICAwEEAwIGAwIBCAUBCAMDBQIBAwYDBgUNDgUEFAccMhwCAQEBBwcCAwMDAQIBBQQHBwIHDAcNCAEBDwcFBAQFBQIFBQYGAQsKCgICBAUBCAEFDxoFAwEBBAIGBgMCAQIBAQIBAQEBAQIBAwECAQECAwEDAQIBAgEFBAMEAQMBAQEFBxAmFAISBgkDAgIDBQQSFhIFCRoYDgEBARUfDgUDCQEDBQ4DAQECBFQGAwsSCRsYBgEFCAQEBgkLAwEBBgICBDYCAQIDAgQEAQQCAgQBAxkFBgQHBRoBJwEDBAMFAgIBAQMBjAECBgfgAgEBBAIGAgMBKwGQCAYFCBAKEyYHBgIEAQEBAQICBAIBAQIBAwYBAgMBDwwJBQcJBAwRCA0FBwcJBAEFCQEEAgkFAgMCAQIGAwgEAgUJAwcEAQIDAgQFBgUCAgECCC1AIQYMDwICFg4BAgUFBwQEBgQHBgIDBgcDBgMBAgQBAQEBAQIBAgMEAwUBAQIBAwQFCB4RBAQFCwoBFAkCAQMFAgEBBAIGBQIDAQQGAQMFAwEECQcIAwQFBgYJAwcKCAMEBwUEAgEBAgUHDQUHAQIOCw8XAQYLAwcMAQoHCAQLGQ4BAhEbCwcBAQIIAgMBDQMCAgIDAykBBAIEAQQGEAoFCgEDCAoFuwEBegYEAwELBwYBAQQFAgIEAQIBBBMBAgEBAZkBnwQEBgMXBAIFAgYDGAIPDQ5XAQEDAwEDFQQEAgQEAAAFAAAAAAESAS0AWgCxAM8BGQE+AAA3HgEfARYfAR4BFA4BDwEOAgcOASMiJicmLwIiDwEiDwEOASImJyYvAS4CNDY1JzQ2NzY/Ayc0PgI3PgE1JzQ1ND4CMzIeAh0BFhcWHwEeAhUUJzIWHwEVDwEGDwEGFBcWHwEeATsBMj8DNC8CLgEvAT0BND4BMzIWFAYUFzMyNjUnLgIjIgYHFycmByMiPQEuAiIOARUHFB8BFjI2NSMiLwEmNgcyPgMmLwIuAgYPAQ4CFRcUBhQWHwIWFzcyNzY3Njc1PwE0PgE3NTQ/ATY/AS8BJi8BJjUnJi8CJiIPAQYiJi8BJiIdAQcGBxcUFwcOAR0CMh8BFh8BFh8BFAYHHgMXMj4BNzY/AjY9AS8CJiMiDwEGIiYvAQcGBwYVBwYPAhQW+QQFAQIBAwMCAwMGBAcGCQoGBAcECAsEAgEEHQcGDQEBBAMICwoFCQkZAwUDAwEHBwMCBQcBAQcKDAYICQEFCxINDhIJAwEDAwQOBwwIfgIDAQEBBAECBgICAwEEAQYGAQYFDgsBAQIFAwcDAQIDAgUEAgECAwMBAQMGBAgGAQEFAgICAgECBAYDAwECAQECAgEBAQIBBB0EBgYDAQICDQoCBAUGAwoDCAUBAgUEEAgDBUMEBQkJBAQCBQMGAwECAQIDBQICAgcBAQIDAwMCBQUUBQkHAwUDAggDAQEBBQYEAwMHBAQGBAECBQMCCAgKQAMHCAMICgoDAQUDBQMGAwIKAwUFAQQCAgECAgEDAQEJWwIHBQYEBQQCBgcFBAEEAwcKBAIDBggCAQEBAQICBQIEAgMEAgQBAwYICAUNBwcCAQIECQIHChQTEggKGA4LBgYMEg4HDBMXDA0KCQQGEgkUFg0KjwIBBAQCBQEBBQIDAQIEBgMFAwgIBAIBAgEBBAEBAgcCAwIHBQQCAQMDBwQIBAcICQEBAQEGAwYFAwQDBQQDBQECAQEFBAbkAgMGBwUCEhAEBgQBAgoDAwQEDAQHBwMBAwEBAw4BAgQCAwEIHwQGBQIBAQIDAQECFwYEAgoCAgQHBwcFAwMNAgUEBgMCBw0HCAQCAgcIEwkKBAIEAwQIAwQGBAUBBAYEAhUCBQQJBQUCAgICCAUPBAEGAQMCCgMCAgUFEQgIBQUHCgAAAAAEAAAAAAErARoABwALAA8AFQAAEx8BDwEvATcHFzcnFwcXNy8BBxcHFy/0CCIL9AgiDuEg4U0DXgI9RQ0yPQkBGQMJ8gkDCvHoA98CnRICEy83DycnDwAABAAAAAABBwEaAAcADAAQABQAABMjBxUXMzc1BxUjNTMXIzUzNSM1M/3hCQnhCoRdXXFeXl5eARkJ9AkJ9HFnz89eE14AAAAABv//AAABHAEaAAgAEQAeACcANABEAAA3FAYiJjQ2MhYHFAYiJjQ2MhYXLgEnBiceARcWMyY1NxQGIiY0NjIWFzY3NiYnBgcWBwYHFiciMT4BFwYPAQ4BByYnJiP2FyEXFyEXphghFxchGDIWIgoREg0xIA4OC2EXIRgYIRcQEwYGCg8GEBEIAwkO0gESRCYJAgEYKQ4ICgYG8xEWFiEWFmURFhYhFhZ0BBoTCAQeKAcCDhIBEBYWIRYWAhcdGTIWEQkfIhAOC3wgIwMKDQgBFRMFAgEAAAAABAAAAAABGgEaAAcACwASABYAABM3MxcVByMnNxUzNQ8BFwcXNzUVMxUjExPhEhLhExPhrw01NQ0+S0sBBxIS4RMT4eHhOQ01NQ09CjMTAAAEAAAAAAEaAOEABwAKABIAGAAANwczNzMXMycHNxc3IwczNzMXMyc3NjcfAT8sGQkrChksGw8OhR49Hg4/Dh1kFgIBAhepcRwccUIoKHqpKytCQwYFC0MAAwAAAAABBwD0AAMABwALAAAlIzUzFSM1MwczNSMBB+Hh4eHh4eHOJnEmcSYAAAAAAQAAAAABGgEHABsAADciLgE/ASMGLgI3Njc+ATczHgEdARQGKwEHBmYIDgUEEjQHDAcBAyMIAw0IpwsPDwsZbggjCxEJKQEGCw4GShcHCQEBDwtCCg9nBwAAAAACAAAAAAEaAQcAGwA2AAA3Ii4BPwEjBi4CNzY3PgE3Mx4BHQEUBisBBwYnIgcGBwYWNzMXFQcGHgEyPwIzMjY9ATQmI2YIDgUEEjQHDAcBAyMIAw0IpwsPDwsZbggYBQILIAIEBT4JFAEBBAUCcgkZAwUFAyMLEQkpAQYLDgZKFwcJAQEPC0IKD2cH0QUfQwQHAQwJLgIFAwJoAwQDQgMFAAAAAAEAAAAAARoBBwAbAAATHgIPATM2HgIHBgcOASsBLgE9ATQ2OwE3NsYIDgUEEjQHDAcBAyMIAw0IpwsPDwsabQgBBwEKEQkpAQcLDQZKFwcKAQ8LQgoPZwYAAAAAAgAAAAABGgEHABsANgAAEx4CDwEzNh4CBwYHDgErAS4BPQE0NjsBNzYXMjc2NzYmByMnNTc2LgEiDwIjIgYXFQYWM8YIDgUEEjQHDAcBAyMIAw0IpwsPDwsabQgYBQILIQEEBT0KFAEBBAUCcgkZAwUBAQUDAQcBChEJKQEHCw0GShcHCgEPC0IKD2cG0AUfQwQHAQwJLgIFAwJoAwQDQgMFAAAGAAAAAAEZARoAIAAvAEEATQBSAGgAACUnByc3JyYiDgIUFwYHBhYXHgEzMjc2NzY3FjI+AjQHBisBIi4CNzY3HgEXBjcWBiInLgE3PgI7AQcVFzM3BzMXNyc3LwEPAhcnFxUjJxc3FxYUBw4BJyYvATcXHgE+AjQmJwEVDycXJwMNGxoUCwU6OQYBCAQJBQkHFSQiGg0cGhQL4gECAgICAwIBKkYDBgRJqQEgLA8MBgYEDxQKBSIjDSLKHA4MDAEENgsPAiMKKxQcig06CAgGDwgFAzsNOgIFBQIBAQHrAycXKA8ECxQbHQ06OwgVBwQFBxMlIRsGCxUaHLcBAQQGAixGBAcDS4UXHw8MIA8KEAgjDSMiJw4NDR8IJAIPDDZAHRUsfQ08CBYIBgMDAgQ8DTwCAgIDAwQDAQAABgAAAAAA9AEaABMAFwAbAB8AIwAnAAA3MxUjFQcjJzUjNTM1NDY7ATIWFSsBFTMHMzUjFyMVMzczFSM3MxUjvDgTE4MTEjgLCDgICxM4OF6DgyYTExITEyYTE/QTqRISqRMTBwsLBxO8qRODg4ODgwAAAAABAAAAAAEHAM8ABQAAPwEzFwcjJgfSCGoQxAoKZgAAAAEAAAAAAM8BBwAFAAATFxUHJzXECgpmAQcI0ghqEAAAAQAAAAAAzwEHAAUAADcnNTcXFWgKCmYmB9IIahAAAAABAAAAAAEHAM8ABQAAJQcjJzczAQcI0gdpEGgKCmYAAAEAAAAAARoA/wA+AAAlDgEHFxQGBw4DIiYnFjY3IiYnJicXFjcuAScmNTEWMyYnJicmNzY3FhcWFxYXJzU0NzY3NjIWFzY3Bgc2ARkFDggBBwcJHSQrLSoSFSoQDBcHBQMFCgkJEAYMDA0LBwMCAwQBBAoNGR8QEAEECBUKFhQIEhAGEhDlCA4GBxAfDxUiGAwMDAILDgwKBwgBAQMCCQgOFAYHDAYGDg0HBgwKFQgEAQYGDAkVCAQJCAQJEwoBAAQAAAAAAQcBGgAeACIAJgAqAAA3IyczNzUnIwcVFzMHIwcVFzM3NScjNxcjBxUXMzc1JzUzFQcVIzUXIzUz/SA/FAoKSwkJFD4hCQk4CgoBOjkBCQk4CpY4XiXOJiZeXglLCQlLCV4KOAkJOApWVgo4CQk4ejk5gyUlJSUAAAAABAAAAAABBwEaAB4AIgAmACoAABMjBxUXMwcnMzc1JyMHFRczFyMHFRczNzUnIzczNzUHNTMVFxUjNTcjNTP9OAkJATk6AQoKOAkJIT4UCQlLCgoUPyAK4SVeOIMmJgEZCTgKVlYKOAkJOApdCksJCUsKXQo4LyYmgzg4gyYAAAAFAAAAAAEHARoAIwAnACsALwAzAAA3Iyc1JyM1Mzc1JyMHFRczFSMHFQcjBxUXMzc1NzMXFRczNzUnMxUjBzMVIwcjNTMXIzUz/SEgChwJCgolCQkJHAkgIgkJJgkgQyAKJQqEExMSODg5EhK8ExNLIEcKJQkmCQkmCSUKRyAJJgkJIiAgIgkJJsUTSzhLEhISAAAAAwAAAAABBwEaAAkAEwAtAAA3NQcnNzMXBycVBxUnBxczNycHNTcXBxcHIzUzJyMHMxUjJzcnNzMVIxczNyM1jRMNIg4iDRMSEw0iDiINE2IGRUUGTjg4ODo5TwVFRQVPOTg4OjiySxMOISINE0s4SxMNIiINE0tnEzc5ExMtLRMTNzkTEy0tEwAAAAAMAAAAAAEaARoACQATABsAHwAnACsAMwA3AD8AQwBHAEsAABMXBycVIzUHJzcXNSMVJwcXMzcnNyMnNTczFxUnMzUjFyMnNTczFxUnMzUjByMnNTczFxUnMzUjFyMnNTczFxUnMzUrAhUzNSMVMzYoDxcSFw0nDxIXDScNKA1OJQkJJQomExONOAoKOAk4JiZCJQkJJQomExONOAoKOAk4JiYTJSUlJQEZJw0WUlQYDSfoUlIWDScnDWIJJgkJJgoSJQk4Cgo4CiWWCSYJCSYKEzkKOAkJOAkmE3ASAAAAAAIAAAAAAQcBHQAVABoAADc1ND4BFhczLgEOAR0BIwcVFzM3NScHMxUjNV4aKSMHFAguOCYTEhK8ExMmJrypJRUfBxUTGyAHKh0lE3ATE3ATE3BwAAUAAAAAARoBGgAJABEAHgAnAC8AADczNxcVBycjJzUfATUPASMVMzcUBgcnPgEnNic3HgEHFAcnNjQnNxYHFAcnNic3Fhw0SRAQSTQJSDs7By4uxQ8ODgwNAQEZDg4PJRMNDQ0NEyYIDgcHDgjRSAb0BkgJXlc7xjoDSyUXKhINDyQTJx8NESsXHxkNFC8TDRkfEA0ODxANDQAAAAQAAAAAARUBFAAXAC8AWwBfAAA3MzczNzU3NSc1JyMnIwcjBxUHFRcVFzM3IzUvAT8BNTM/AR8BMxUfAQ8BFSMPASc3Bg8BIzU2Nz4DMzIeAhQOAQ8BDgEdASM1NDY/AT4BNCcxLgEnMSYiBhcjNTOQDSAtCiAgCS4gDR8vCh8fCi8DKQIdHAMpBhwdBigDHR0DKAccHBUCAQERAQMCBAcJBQgLCAMEBQMGAgQRBAMLAwMBAQMCAwYGDxAQGCAKLSAOIC4JICAKLSAOIC0KEygHHBwHKAMcHAMoBxwcBygDHBxxAwMGAQkHAwYEAwUICwwJCAQHAwYDCQoFCAMOAwgHAwIEAQIEXRAAAAAGAAAAAAEsARoAQgBOAFoAYgBmAGoAADc0Nh8BFjI2PwInLgIiBzU3Fh8BNz4DFhUUIyImIgYHBgcXFh8BFjI3Nj8BFw4DIi4BLwEmJw8BDgIiJhc+ATQmJzMWFRQGByMuATU0NzMOARUUFzchBxUXITc1ByE1ITUhNSFlBwQFAQMFAwsGBwEFBgcDGwYDBQUDCQkJBggDBQYGAwUECAEBAgEEAQUDAwMBBgcIBgUDAQQBAQkGAwgHCAZzBwkJBw0SCQmeCQkSDQgIEM/+5gkJARoJE/76AQb++gEGVAQFAgQBBQMQDRsDBQMBBAUGCBAIBgkGAQQECAMGBAYIIgQDAwEBBAUEAgMIBwYEBgMUBAMPCQUGBQUFChgaGAoVGg4XCgkZDRoVChkMGxTOCfQJCfTqqBMmAAACAAAAAAEVARQAFwAeAAA3IycjJzUnNTc1NzM3MxczFxUXFQcVByMnMzcnBycHnQ0fLwofHwovHw0gLgkgIAotPw5GDUAaDRggCi0gDiAtCiAgCS4gDiAtCjBGDkEaDQADAAAAAAEVARQAFwAvADYAADczNzM3NTc1JzUnIycjByMHFQcVFxUXMzcjNS8BPwE1Mz8BHwEzFR8BDwEVIw8BJzczNycHJweQDSAtCiAgCS4gDR8vCh8fCi8DKQIdHAMpBhwdBigDHR0DKAccHAQORg1AGg0YIAotIA4gLgkgIAotIA4gLQoTKAccHAcoAxwcAygHHBwHKAMcHCBGDkEaDQAAAAQAAAAAARoA9AAHAAsAFgAhAAA3BxUXMzc1JxUjNTMHNTM1IwcVFzM1Iyc1MzUjBxUXMzUjlhMTcRIScXGpEx0JCR0TOBIcCQkcEvQTlhMTlhOpll5LEwmECRM4JhIJXgkTAAADAAD//wEuAQcAEgAfACYAABMzFxUmJzUjFTMUFyM1MzUjJzUXPgEeAg4CLgI2FzcnBycHFxz0CQgL4F0TSzhnCaQRKCQXAhIhKCQWAxI4LQ8nGAwgAQcKZwcEU6kfGRMSCrt0DAIRIigkFwISISgkUjsMNBMOGgAFAAAAAAEsAQcAEgAfACsAMQA3AAATMxcVJic1IxUzFBcjNTM1Iyc1FyIOARQeATI+ATQuAQciLgE0PgEzMhYUBicXNyc3JwcnNxcHJxz0CQgL4F0TSzhnCc4UIxQUIygjFBQjFA8aDw8aDxchIRUbCRMTCTASCBsbCAEHCmcHBFOpHxkTEgq7ZxQjKCMUFCMoIxSDDxoeGg8hLiFDGwgTEgguEggaGwgAAAAAAwAAAAABLAEHABIAHwArAAATMxcVJic1IxUzFBcjNTM1Iyc1FyIOARQeATI+ATQuAQciLgE0PgEzMhYUBhz0CQgL4F0TSzhnCc4UIxQUIygjFBQjFA8aDw8aDxchIQEHCmcHBFOpHxkTEgq7ZxQjKCMUFCMoIxSDDxoeGg8hLiEAAAAAAwAA//4BLgEHABIALgAxAAATMxcVJic1IxUzFBcjNTM1Iyc1FzIeAhceAQcOAgcOAScuAicuATc+Ajc2FycVHPQJCAvgXRNLOGcJzgoTEQ4FBwQEAgoOCA0eDwkRDgUHBAQCCg4IEjo5AQcKZwcEU6kfGRMSCrtnBQoOCA0eDwkRDgUHBAQCCg4IDR4PCREOBQpLJksAAAACAAAAAAEaAQcADwATAAABIwcVFzMVIxUzNSM1Mzc1ByM1MwEQ9AkJZziWOGcJEuHhAQcKuwoSExMSCruyqQAABgAAAAABLAD0ABkAMwA3ADsARwBTAAA3MzIWHQEUBisBIi8BJiIPAQYrASImPQE0NhciBh0BHgE7ATI/ATYyHwEWOwEyNj0BNCYjBzMVIyUzFSMnMhYUBisBIiY0NjsBMhYUBisBIiY0NjNLlhchIRcHEQ8PChYKDw8RBxchIRcQFgEVEAcMCRAOIg4QCQwHEBYWEOETEwEZExOfBAUFBC8EBQUElgQFBQQvBAUFBPQhF0sYIQoKBgYKCiEYSxchExYPSxAWBgsJCQsGFhBLDxY4ODg4JQUIBgYIBQUIBgYIBQAABAAAAAABBwEZAAUAEQAfACkAABMHFzc1NBUnJiIPAQ4BHwE2NTcWHQEUBzc+AT0BNiYnBzcXBwYiLwEmNLdPKCyMAggDDQMBBKEFDgQENAQEAQUE6BYfGwIIAw0DARJIHyE7BppqAgMMAwkDlAUG4QkJzwkJGQIIBKUECAGBFRwVAgMMAwkAAAEAAAAAAQcBGgAqAAA3BicmLwEHBiIvASY0PwEnJjQ/ATYyHwE3PgEfAR4BHQEjNQcXNTMVFAYHzAYGAwNgKgIIAw0DAyQkAwMNAwgCKmIECAQyBAQ8SUk9BQQnAwMBAlggAgMMAwkDISIDCQMMAwIgWQMBAhkBCARcQTg3LkkECAIAAAYAAAAAARoBGgALABcAIwAwADgAQAAANzM1MzUjNSMVIxUzFyMVIxUzFTM1MzUjNzUjFSMVMxUzNTM1ByYiDwEGFBYyPwE2NAcGIiY0PwEXNwcnNzYyFhRSExMTExMTlhMSEhMTEx8TExMTEkoIFwmMCBAYCIwIogIIBgN5DhMGDQYCCAbOExMTExNeEhMTExOWEhITExMTLggIjQgXEQmMCBeeAwYHA3kNEwYOBgIFCAAAAAQAAAAAARkBGgAFAAgADAAQAAATMxcHIyc3BzMnNSMVPQEzFY4Qewj2CINr1l8YGAEZ5g0NzskTExMmS0sAAAADAAAAAAD0ARoABgAaACcAADczNSM1IxUnDgEUFhcVFzM3NT4BNCYnNScjBxcUDgEiLgE0PgEyHgGNJRwTHBYZGRYKSwkWGRkWCUsKehQjKCMUFCMoIxSDEy84WgwsMiwMKQkJKQwsMiwMKQkJehQjFBQjKCMUFCMAAAAAAwAAAAAA4QEaABEAGQAdAAATNSMiDgEUHgE7ARUjFTM1IzUHIyImNDY7ARcjNTPhZxIeEhIeEhwTXhM4HBQbGxQcJhMTAQcSER8jHhJeEhLPXhsnHM/PAAUAAAAAASwA9wAHABwAJwA3AEMAADUzFSE1MxUhNyM1IwYjIiY1ND8BNCMiBzU2MzIVDwEOARUUFjMyNjUXMRUjNTMVMTYzMhYVFAYiJxUUFjMyNjU0JiIGEwEGE/7UgBABChUQESIfFhIPDxQkEBkMCwoJDRA/EREMGBQWGSoLEA0PERAcEV4mJjg4EBMRDR0FBBoMEQkmDwQBCAsHChEOGw+YQxQbGBofOw4NEhcVERMUAAMAAAAAARoBBwAHAAsADwAAASMHFRczNzUHIzUzNSM1MwEQ9AkJ9AkS4eHh4QEHCs4JCc7FhBImAAAAAAYAAAAAARoBGgAfAC8ARQBaAHoAigAANyYnJgcGDwEVNz4BMhYXBw4CBwYWFxYzMjcVMzU0JgcVFAcOAScuAj0BND4BMzcuAiIHBgc1IxUzNRYXFjMyPgI0BxQOAQcGJy4CPQE+Axc2Fx4BBz4BMhYfATUnJg4DFB4CMjY/ATUPAQYnLgI0NjcjNTMXFQcjFwcnNTcXBzNJBAUJCwcGBgQECwsFARIHCQYBAwYJBQULBxMDDwECCgUCAgEDBANrAQYLDgUDAhISAwYCBAcLBwQSAgQCBgUCBAIBAgMFAwYEAQJeAwYIBgMHAggSDgoFBQkNDgoEAgYKBgYDBQME3EtUCQl8Jw42Ng4mcusFAgMCAQMDFAMDBQYGAgEFBwQKEgQCCQcxBwsfBQMDBgUCAQIDAgQBAwIWBgsHBAIDLnQFBQEBBgwQEAcHCgYBAwICBAYECgQIBQMBAQYCCWADAwICBRUBBQEGDA8RDgoGAwIBEQIEAQICBggLCU0SCXEJJw02DTcOJQAAAwAAAAABJQEtACQAPwBMAAATMh4CFxYXFhcWMxUUDgQPAScuBT0BMj4CNz4BFy4BJy4BIgYHDgEHFRQeBBc+BTUvAQ8BLwEPAR8CPwGXCA0NDAcKCxUXDAsLExkfIREEBREiHhoTCgsYFhUKDBqIFSkSCRYWFQkSKRYKERgaHg8QHRsXEgk0CAhRHAgIAiQECQRbASwCBAYEBgUIAgFKFiYjHhsXCgMDChcbHiMnFEwBBQkGCAg4AQwMBgYGBgwMATkSIiAbGBUJCRQZGyAiEhkHAWAnAgcHMwIBAmsAAAAEAAAAAAElAS0AJAA/AGkAcQAAEzIeAhcWFxYXMhcVFA4EDwEnLgU9ARY+Ajc+ARcuAScuASIGBw4BBxUUHgQXPgU1Jx4BFA4BDwEOAR0BByMnNTQ+AT8BPgE0JicmIgcOARUHIyc0PgE3NhcWBzczFxUHIyeXCA0NDAcKCxUWDQsLExkfIREFBBEiHhoTCgsYFhUKDBqIFSkSCRYWFQkSKRYKERgaHg8QHRsXEQpgBQYFBgQGAwMDDQMFBgQGAwMDAgUPBQIDAw0DBgoGDg8GHgMNAwMNAwEsAgQGBAYFCAIBShYmIx4bFwoDAwoXGx4jJxRMAQIFCQYICDgBDAwGBgYGDAwBORIiIBsYFQkJFBkbICISGQYMDgsIAwYDBgQGAwMGBwsHAwYEBgcGAwUFAwYEAgIIDQoCBgYDYQMDDQMDAAADAAAAAAElAS0AJAA/AFMAABMyHgIXFhcWFzIXFRQOBA8BJy4FPQEWPgI3PgEXLgEnLgEiBgcOAQcVFB4EFz4FNS8BIwcnIwcVFwcVFzM3FzM3NSc3lwgNDQwHCgsVFg0LCxMZHyERBQQRIh4aEwoLGBYVCgwaiBUpEgkWFhUJEikWChEYGh4PEB0bFxEKRwcEJSUECCUlCAQlJQQHJSUBLAIEBgQGBQgCAUoWJiMeGxcKAwMKFxseIycUTAECBQkGCAg4AQwMBgYGBgwMATkSIiAbGBUJCRQZGyAiEgsIJiYIBCUlBAgmJggEJSUAAAADAAAAAAEaAR4ADgAfACsAADcWBgcXBycOAS4BPgEeAQcyNjcHPgE1NC4BIg4BFB4BNzUjNSMVIxUzFTM14gENDFAOTxxIORMcP0cwZBEfDAEMDhcnLiYXFyZFJRMmJhO5FCYQTw5QFwIrRUIjDDWADQwBDB8RFycXFyctJxdLEyUlEyUlAAAAAwAAAAABGgEeAA4AHwAjAAA3FgYHFwcnDgEuAT4BHgEHMjY3Bz4BNTQuASIOARQeASczFSPiAQ0MUA5PHEg5Exw/RzBkER8MAQwOFycuJhcXJhhdXbkUJhBPDlAXAitFQiMMNYANDAEMHxEXJxcXJy0nF10SAAAAAAAQAMYAAQAAAAAAAQAHAAAAAQAAAAAAAgAHAAcAAQAAAAAAAwAHAA4AAQAAAAAABAAHABUAAQAAAAAABQAMABwAAQAAAAAABgAHACgAAQAAAAAACgAkAC8AAQAAAAAACwATAFMAAwABBAkAAQAOAGYAAwABBAkAAgAOAHQAAwABBAkAAwAOAIIAAwABBAkABAAOAJAAAwABBAkABQAYAJ4AAwABBAkABgAOALYAAwABBAkACgBIAMQAAwABBAkACwAmAQxjb2RpY29uUmVndWxhcmNvZGljb25jb2RpY29uVmVyc2lvbiAxLjExY29kaWNvblRoZSBpY29uIGZvbnQgZm9yIFZpc3VhbCBTdHVkaW8gQ29kZWh0dHA6Ly9mb250ZWxsby5jb20AYwBvAGQAaQBjAG8AbgBSAGUAZwB1AGwAYQByAGMAbwBkAGkAYwBvAG4AYwBvAGQAaQBjAG8AbgBWAGUAcgBzAGkAbwBuACAAMQAuADEAMQBjAG8AZABpAGMAbwBuAFQAaABlACAAaQBjAG8AbgAgAGYAbwBuAHQAIABmAG8AcgAgAFYAaQBzAHUAYQBsACAAUwB0AHUAZABpAG8AIABDAG8AZABlAGgAdAB0AHAAOgAvAC8AZgBvAG4AdABlAGwAbABvAC4AYwBvAG0AAgAAAAAAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHOAQIBAwEEAQUBBgEHAQgBCQEKAQsBDAENAQ4BDwEQAREBEgETARQBFQEWARcBGAEZARoBGwEcAR0BHgEfASABIQEiASMBJAElASYBJwEoASkBKgErASwBLQEuAS8BMAExATIBMwE0ATUBNgE3ATgBOQE6ATsBPAE9AT4BPwFAAUEBQgFDAUQBRQFGAUcBSAFJAUoBSwFMAU0BTgFPAVABUQFSAVMBVAFVAVYBVwFYAVkBWgFbAVwBXQFeAV8BYAFhAWIBYwFkAWUBZgFnAWgBaQFqAWsBbAFtAW4BbwFwAXEBcgFzAXQBdQF2AXcBeAF5AXoBewF8AX0BfgF/AYABgQGCAYMBhAGFAYYBhwGIAYkBigGLAYwBjQGOAY8BkAGRAZIBkwGUAZUBlgGXAZgBmQGaAZsBnAGdAZ4BnwGgAaEBogGjAaQBpQGmAacBqAGpAaoBqwGsAa0BrgGvAbABsQGyAbMBtAG1AbYBtwG4AbkBugG7AbwBvQG+Ab8BwAHBAcIBwwHEAcUBxgHHAcgByQHKAcsBzAHNAc4BzwHQAdEB0gHTAdQB1QHWAdcB2AHZAdoB2wHcAd0B3gHfAeAB4QHiAeMB5AHlAeYB5wHoAekB6gHrAewB7QHuAe8B8AHxAfIB8wH0AfUB9gH3AfgB+QH6AfsB/AH9Af4B/wIAAgECAgIDAgQCBQIGAgcCCAIJAgoCCwIMAg0CDgIPAhACEQISAhMCFAIVAhYCFwIYAhkCGgIbAhwCHQIeAh8CIAIhAiICIwIkAiUCJgInAigCKQIqAisCLAItAi4CLwIwAjECMgIzAjQCNQI2AjcCOAI5AjoCOwI8Aj0CPgI/AkACQQJCAkMCRAJFAkYCRwJIAkkCSgJLAkwCTQJOAk8CUAJRAlICUwJUAlUCVgJXAlgCWQJaAlsCXAJdAl4CXwJgAmECYgJjAmQCZQJmAmcCaAJpAmoCawJsAm0CbgJvAnACcQJyAnMCdAJ1AnYCdwJ4AnkCegJ7AnwCfQJ+An8CgAKBAoICgwKEAoUChgKHAogCiQKKAosCjAKNAo4CjwKQApECkgKTApQClQKWApcCmAKZApoCmwKcAp0CngKfAqACoQKiAqMCpAKlAqYCpwKoAqkCqgKrAqwCrQKuAq8CsAKxArICswK0ArUCtgK3ArgCuQK6ArsCvAK9Ar4CvwLAAsECwgLDAsQCxQLGAscCyALJAsoCywLMAs0CzgLPAAdhY2NvdW50FGFjdGl2YXRlLWJyZWFrcG9pbnRzA2FkZAdhcmNoaXZlCmFycm93LWJvdGgRYXJyb3ctY2lyY2xlLWRvd24RYXJyb3ctY2lyY2xlLWxlZnQSYXJyb3ctY2lyY2xlLXJpZ2h0D2Fycm93LWNpcmNsZS11cAphcnJvdy1kb3duCmFycm93LWxlZnQLYXJyb3ctcmlnaHQQYXJyb3ctc21hbGwtZG93bhBhcnJvdy1zbWFsbC1sZWZ0EWFycm93LXNtYWxsLXJpZ2h0DmFycm93LXNtYWxsLXVwCmFycm93LXN3YXAIYXJyb3ctdXAGYXR0YWNoDGF6dXJlLWRldm9wcwVhenVyZQtiZWFrZXItc3RvcAZiZWFrZXIIYmVsbC1kb3QOYmVsbC1zbGFzaC1kb3QKYmVsbC1zbGFzaARiZWxsBWJsYW5rBGJvbGQEYm9vawhib29rbWFyawticmFja2V0LWRvdA1icmFja2V0LWVycm9yCWJyaWVmY2FzZQlicm9hZGNhc3QHYnJvd3NlcgNidWcIY2FsZW5kYXINY2FsbC1pbmNvbWluZw1jYWxsLW91dGdvaW5nDmNhc2Utc2Vuc2l0aXZlCWNoZWNrLWFsbAVjaGVjawljaGVja2xpc3QMY2hldnJvbi1kb3duDGNoZXZyb24tbGVmdA1jaGV2cm9uLXJpZ2h0CmNoZXZyb24tdXAEY2hpcAxjaHJvbWUtY2xvc2UPY2hyb21lLW1heGltaXplD2Nocm9tZS1taW5pbWl6ZQ5jaHJvbWUtcmVzdG9yZQ1jaXJjbGUtZmlsbGVkE2NpcmNsZS1sYXJnZS1maWxsZWQMY2lyY2xlLWxhcmdlDGNpcmNsZS1zbGFzaBNjaXJjbGUtc21hbGwtZmlsbGVkDGNpcmNsZS1zbWFsbAZjaXJjbGUNY2lyY3VpdC1ib2FyZAljbGVhci1hbGwGY2xpcHB5CWNsb3NlLWFsbAVjbG9zZQ5jbG91ZC1kb3dubG9hZAxjbG91ZC11cGxvYWQFY2xvdWQIY29kZS1vc3MEY29kZQZjb2ZmZWUMY29sbGFwc2UtYWxsCmNvbG9yLW1vZGUHY29tYmluZRJjb21tZW50LWRpc2N1c3Npb24NY29tbWVudC1kcmFmdBJjb21tZW50LXVucmVzb2x2ZWQHY29tbWVudA5jb21wYXNzLWFjdGl2ZQtjb21wYXNzLWRvdAdjb21wYXNzB2NvcGlsb3QEY29weQhjb3ZlcmFnZQtjcmVkaXQtY2FyZARkYXNoCWRhc2hib2FyZAhkYXRhYmFzZQlkZWJ1Zy1hbGwPZGVidWctYWx0LXNtYWxsCWRlYnVnLWFsdCdkZWJ1Zy1icmVha3BvaW50LWNvbmRpdGlvbmFsLXVudmVyaWZpZWQcZGVidWctYnJlYWtwb2ludC1jb25kaXRpb25hbCBkZWJ1Zy1icmVha3BvaW50LWRhdGEtdW52ZXJpZmllZBVkZWJ1Zy1icmVha3BvaW50LWRhdGEkZGVidWctYnJlYWtwb2ludC1mdW5jdGlvbi11bnZlcmlmaWVkGWRlYnVnLWJyZWFrcG9pbnQtZnVuY3Rpb24fZGVidWctYnJlYWtwb2ludC1sb2ctdW52ZXJpZmllZBRkZWJ1Zy1icmVha3BvaW50LWxvZxxkZWJ1Zy1icmVha3BvaW50LXVuc3VwcG9ydGVkDWRlYnVnLWNvbnNvbGUUZGVidWctY29udGludWUtc21hbGwOZGVidWctY29udGludWUOZGVidWctY292ZXJhZ2UQZGVidWctZGlzY29ubmVjdBJkZWJ1Zy1saW5lLWJ5LWxpbmULZGVidWctcGF1c2ULZGVidWctcmVydW4TZGVidWctcmVzdGFydC1mcmFtZQ1kZWJ1Zy1yZXN0YXJ0FmRlYnVnLXJldmVyc2UtY29udGludWUXZGVidWctc3RhY2tmcmFtZS1hY3RpdmUQZGVidWctc3RhY2tmcmFtZQtkZWJ1Zy1zdGFydA9kZWJ1Zy1zdGVwLWJhY2sPZGVidWctc3RlcC1pbnRvDmRlYnVnLXN0ZXAtb3V0D2RlYnVnLXN0ZXAtb3ZlcgpkZWJ1Zy1zdG9wBWRlYnVnEGRlc2t0b3AtZG93bmxvYWQTZGV2aWNlLWNhbWVyYS12aWRlbw1kZXZpY2UtY2FtZXJhDWRldmljZS1tb2JpbGUKZGlmZi1hZGRlZAxkaWZmLWlnbm9yZWQNZGlmZi1tb2RpZmllZA1kaWZmLW11bHRpcGxlDGRpZmYtcmVtb3ZlZAxkaWZmLXJlbmFtZWQLZGlmZi1zaW5nbGUEZGlmZgdkaXNjYXJkBGVkaXQNZWRpdG9yLWxheW91dAhlbGxpcHNpcwxlbXB0eS13aW5kb3cLZXJyb3Itc21hbGwFZXJyb3IHZXhjbHVkZQpleHBhbmQtYWxsBmV4cG9ydApleHRlbnNpb25zCmV5ZS1jbG9zZWQDZXllCGZlZWRiYWNrC2ZpbGUtYmluYXJ5CWZpbGUtY29kZQpmaWxlLW1lZGlhCGZpbGUtcGRmDmZpbGUtc3VibW9kdWxlFmZpbGUtc3ltbGluay1kaXJlY3RvcnkRZmlsZS1zeW1saW5rLWZpbGUIZmlsZS16aXAEZmlsZQVmaWxlcw1maWx0ZXItZmlsbGVkBmZpbHRlcgVmbGFtZQlmb2xkLWRvd24HZm9sZC11cARmb2xkDWZvbGRlci1hY3RpdmUOZm9sZGVyLWxpYnJhcnkNZm9sZGVyLW9wZW5lZAZmb2xkZXIEZ2FtZQRnZWFyBGdpZnQLZ2lzdC1zZWNyZXQKZ2l0LWNvbW1pdAtnaXQtY29tcGFyZQlnaXQtZmV0Y2gJZ2l0LW1lcmdlF2dpdC1wdWxsLXJlcXVlc3QtY2xvc2VkF2dpdC1wdWxsLXJlcXVlc3QtY3JlYXRlFmdpdC1wdWxsLXJlcXVlc3QtZHJhZnQeZ2l0LXB1bGwtcmVxdWVzdC1nby10by1jaGFuZ2VzHGdpdC1wdWxsLXJlcXVlc3QtbmV3LWNoYW5nZXMQZ2l0LXB1bGwtcmVxdWVzdA9naXQtc3Rhc2gtYXBwbHkNZ2l0LXN0YXNoLXBvcAlnaXQtc3Rhc2gNZ2l0aHViLWFjdGlvbgpnaXRodWItYWx0D2dpdGh1Yi1pbnZlcnRlZA5naXRodWItcHJvamVjdAZnaXRodWIFZ2xvYmUKZ28tdG8tZmlsZQxnby10by1zZWFyY2gHZ3JhYmJlcgpncmFwaC1sZWZ0CmdyYXBoLWxpbmUNZ3JhcGgtc2NhdHRlcgVncmFwaAdncmlwcGVyEWdyb3VwLWJ5LXJlZi10eXBlDGhlYXJ0LWZpbGxlZAVoZWFydAdoaXN0b3J5BGhvbWUPaG9yaXpvbnRhbC1ydWxlBWh1Ym90BWluYm94BmluZGVudARpbmZvBmluc2VydAdpbnNwZWN0C2lzc3VlLWRyYWZ0Dmlzc3VlLXJlb3BlbmVkBmlzc3VlcwZpdGFsaWMGamVyc2V5BGpzb24Oa2ViYWItdmVydGljYWwDa2V5A2xhdw1sYXllcnMtYWN0aXZlCmxheWVycy1kb3QGbGF5ZXJzF2xheW91dC1hY3Rpdml0eWJhci1sZWZ0GGxheW91dC1hY3Rpdml0eWJhci1yaWdodA9sYXlvdXQtY2VudGVyZWQObGF5b3V0LW1lbnViYXITbGF5b3V0LXBhbmVsLWNlbnRlchRsYXlvdXQtcGFuZWwtanVzdGlmeRFsYXlvdXQtcGFuZWwtbGVmdBBsYXlvdXQtcGFuZWwtb2ZmEmxheW91dC1wYW5lbC1yaWdodAxsYXlvdXQtcGFuZWwXbGF5b3V0LXNpZGViYXItbGVmdC1vZmYTbGF5b3V0LXNpZGViYXItbGVmdBhsYXlvdXQtc2lkZWJhci1yaWdodC1vZmYUbGF5b3V0LXNpZGViYXItcmlnaHQQbGF5b3V0LXN0YXR1c2JhcgZsYXlvdXQHbGlicmFyeRFsaWdodGJ1bGItYXV0b2ZpeBFsaWdodGJ1bGItc3BhcmtsZQlsaWdodGJ1bGINbGluay1leHRlcm5hbARsaW5rC2xpc3QtZmlsdGVyCWxpc3QtZmxhdAxsaXN0LW9yZGVyZWQObGlzdC1zZWxlY3Rpb24JbGlzdC10cmVlDmxpc3QtdW5vcmRlcmVkCmxpdmUtc2hhcmUHbG9hZGluZwhsb2NhdGlvbgpsb2NrLXNtYWxsBGxvY2sGbWFnbmV0CW1haWwtcmVhZARtYWlsCm1hcC1maWxsZWQTbWFwLXZlcnRpY2FsLWZpbGxlZAxtYXAtdmVydGljYWwDbWFwCG1hcmtkb3duCW1lZ2FwaG9uZQdtZW50aW9uBG1lbnUFbWVyZ2UKbWljLWZpbGxlZANtaWMJbWlsZXN0b25lBm1pcnJvcgxtb3J0YXItYm9hcmQEbW92ZRBtdWx0aXBsZS13aW5kb3dzBW11c2ljBG11dGUIbmV3LWZpbGUKbmV3LWZvbGRlcgduZXdsaW5lCm5vLW5ld2xpbmUEbm90ZRFub3RlYm9vay10ZW1wbGF0ZQhub3RlYm9vawhvY3RvZmFjZQxvcGVuLXByZXZpZXcMb3JnYW5pemF0aW9uBm91dHB1dAdwYWNrYWdlCHBhaW50Y2FuC3Bhc3MtZmlsbGVkBHBhc3MKcGVyY2VudGFnZQpwZXJzb24tYWRkBnBlcnNvbgVwaWFubwlwaWUtY2hhcnQDcGluDHBpbm5lZC1kaXJ0eQZwaW5uZWQLcGxheS1jaXJjbGUEcGxheQRwbHVnDXByZXNlcnZlLWNhc2UHcHJldmlldxBwcmltaXRpdmUtc3F1YXJlB3Byb2plY3QFcHVsc2UIcXVlc3Rpb24FcXVvdGULcmFkaW8tdG93ZXIJcmVhY3Rpb25zC3JlY29yZC1rZXlzDHJlY29yZC1zbWFsbAZyZWNvcmQEcmVkbwpyZWZlcmVuY2VzB3JlZnJlc2gFcmVnZXgPcmVtb3RlLWV4cGxvcmVyBnJlbW90ZQZyZW1vdmULcmVwbGFjZS1hbGwHcmVwbGFjZQVyZXBseQpyZXBvLWNsb25lCnJlcG8tZmV0Y2gPcmVwby1mb3JjZS1wdXNoC3JlcG8tZm9ya2VkCXJlcG8tcHVsbAlyZXBvLXB1c2gEcmVwbwZyZXBvcnQPcmVxdWVzdC1jaGFuZ2VzBXJvYm90BnJvY2tldBJyb290LWZvbGRlci1vcGVuZWQLcm9vdC1mb2xkZXIDcnNzBHJ1YnkJcnVuLWFib3ZlEHJ1bi1hbGwtY292ZXJhZ2UHcnVuLWFsbAlydW4tYmVsb3cMcnVuLWNvdmVyYWdlCnJ1bi1lcnJvcnMIc2F2ZS1hbGwHc2F2ZS1hcwRzYXZlC3NjcmVlbi1mdWxsDXNjcmVlbi1ub3JtYWwMc2VhcmNoLWZ1enp5C3NlYXJjaC1zdG9wBnNlYXJjaARzZW5kEnNlcnZlci1lbnZpcm9ubWVudA5zZXJ2ZXItcHJvY2VzcwZzZXJ2ZXINc2V0dGluZ3MtZ2VhcghzZXR0aW5ncwVzaGFyZQZzaGllbGQHc2lnbi1pbghzaWduLW91dAZzbWlsZXkFc25ha2UPc29ydC1wcmVjZWRlbmNlDnNvdXJjZS1jb250cm9sDnNwYXJrbGUtZmlsbGVkB3NwYXJrbGUQc3BsaXQtaG9yaXpvbnRhbA5zcGxpdC12ZXJ0aWNhbAhzcXVpcnJlbApzdGFyLWVtcHR5CXN0YXItZnVsbAlzdGFyLWhhbGYLc3RvcC1jaXJjbGUNc3Vycm91bmQtd2l0aAxzeW1ib2wtYXJyYXkOc3ltYm9sLWJvb2xlYW4Mc3ltYm9sLWNsYXNzDHN5bWJvbC1jb2xvcg9zeW1ib2wtY29uc3RhbnQSc3ltYm9sLWVudW0tbWVtYmVyC3N5bWJvbC1lbnVtDHN5bWJvbC1ldmVudAxzeW1ib2wtZmllbGQLc3ltYm9sLWZpbGUQc3ltYm9sLWludGVyZmFjZQpzeW1ib2wta2V5DnN5bWJvbC1rZXl3b3JkDXN5bWJvbC1tZXRob2QLc3ltYm9sLW1pc2MQc3ltYm9sLW5hbWVzcGFjZQ5zeW1ib2wtbnVtZXJpYw9zeW1ib2wtb3BlcmF0b3IQc3ltYm9sLXBhcmFtZXRlcg9zeW1ib2wtcHJvcGVydHkMc3ltYm9sLXJ1bGVyDnN5bWJvbC1zbmlwcGV0DXN5bWJvbC1zdHJpbmcQc3ltYm9sLXN0cnVjdHVyZQ9zeW1ib2wtdmFyaWFibGUMc3luYy1pZ25vcmVkBHN5bmMFdGFibGUDdGFnBnRhcmdldAh0YXNrbGlzdAl0ZWxlc2NvcGUNdGVybWluYWwtYmFzaAx0ZXJtaW5hbC1jbWQPdGVybWluYWwtZGViaWFuDnRlcm1pbmFsLWxpbnV4E3Rlcm1pbmFsLXBvd2Vyc2hlbGwNdGVybWluYWwtdG11eA90ZXJtaW5hbC11YnVudHUIdGVybWluYWwJdGV4dC1zaXplCnRocmVlLWJhcnMRdGh1bWJzZG93bi1maWxsZWQKdGh1bWJzZG93bg90aHVtYnN1cC1maWxsZWQIdGh1bWJzdXAFdG9vbHMFdHJhc2gNdHJpYW5nbGUtZG93bg10cmlhbmdsZS1sZWZ0DnRyaWFuZ2xlLXJpZ2h0C3RyaWFuZ2xlLXVwB3R3aXR0ZXISdHlwZS1oaWVyYXJjaHktc3ViFHR5cGUtaGllcmFyY2h5LXN1cGVyDnR5cGUtaGllcmFyY2h5BnVuZm9sZBN1bmdyb3VwLWJ5LXJlZi10eXBlBnVubG9jawZ1bm11dGUKdW52ZXJpZmllZA52YXJpYWJsZS1ncm91cA92ZXJpZmllZC1maWxsZWQIdmVyaWZpZWQIdmVyc2lvbnMJdm0tYWN0aXZlCnZtLWNvbm5lY3QKdm0tb3V0bGluZQp2bS1ydW5uaW5nAnZtAnZyD3ZzY29kZS1pbnNpZGVycwZ2c2NvZGUEd2FuZAd3YXJuaW5nBXdhdGNoCndoaXRlc3BhY2UKd2hvbGUtd29yZAZ3aW5kb3cJd29yZC13cmFwEXdvcmtzcGFjZS10cnVzdGVkEXdvcmtzcGFjZS11bmtub3duE3dvcmtzcGFjZS11bnRydXN0ZWQHem9vbS1pbgh6b29tLW91dAAA"},"./node_modules/playwright-core/lib/vite/recorder/assets/index-BzOuKk9Z.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{g:()=>o});const r=(e,t=r,n=t.f||(t.f=["assets/codeMirrorModule-B_Ipq0Ck.js","assets/codeMirrorModule-C3UTv-Ge.css"]))=>e.map(e=>n[e]);function o(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var i,s,a,l,c={exports:{}},u={},d=(s||(s=1,c.exports=function(){if(i)return u;i=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(t,n,r){var o=null;if(void 0!==r&&(o=""+r),void 0!==n.key&&(o=""+n.key),"key"in n)for(var i in r={},n)"key"!==i&&(r[i]=n[i]);else r=n;return n=r.ref,{$$typeof:e,type:t,key:o,ref:void 0!==n?n:null,props:r}}return u.Fragment=t,u.jsx=n,u.jsxs=n,u}()),c.exports),h={exports:{}},p={};function f(){if(a)return p;a=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),s=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),h=Symbol.iterator,f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}function w(){}function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}b.prototype.isReactComponent={},b.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},b.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},w.prototype=b.prototype;var v=y.prototype=new w;v.constructor=y,m(v,b.prototype),v.isPureReactComponent=!0;var A=Array.isArray,_={H:null,A:null,T:null,S:null,V:null},x=Object.prototype.hasOwnProperty;function S(t,n,r,o,i,s){return r=s.ref,{$$typeof:e,type:t,key:n,ref:void 0!==r?r:null,props:s}}function E(t){return"object"==typeof t&&null!==t&&t.$$typeof===e}var C=/\/+/g;function k(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function O(){}function T(n,r,o,i,s){var a=typeof n;("undefined"===a||"boolean"===a)&&(n=null);var l=!1;if(null===n)l=!0;else switch(a){case"bigint":case"string":case"number":l=!0;break;case"object":switch(n.$$typeof){case e:case t:l=!0;break;case d:return T((l=n._init)(n._payload),r,o,i,s)}}if(l)return s=s(n),l=""===i?"."+k(n,0):i,A(s)?(o="",null!=l&&(o=l.replace(C,"$&/")+"/"),T(s,r,o,"",function(e){return e})):null!=s&&(E(s)&&(s=function(e,t){return S(e.type,t,void 0,0,0,e.props)}(s,o+(null==s.key||n&&n.key===s.key?"":(""+s.key).replace(C,"$&/")+"/")+l)),r.push(s)),1;l=0;var c=""===i?".":i+":";if(A(n))for(var u=0;u<n.length;u++)l+=T(i=n[u],r,o,a=c+k(i,u),s);else if(u=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=h&&e[h]||e["@@iterator"])?e:null}(n),"function"==typeof u)for(n=u.call(n),u=0;!(i=n.next()).done;)l+=T(i=i.value,r,o,a=c+k(i,u++),s);else if("object"===a){if("function"==typeof n.then)return T(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"==typeof e.status?e.then(O,O):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(n),r,o,i,s);throw r=String(n),Error("Objects are not valid as a React child (found: "+("[object Object]"===r?"object with keys {"+Object.keys(n).join(", ")+"}":r)+"). If you meant to render a collection of children, use an array instead.")}return l}function I(e,t,n){if(null==e)return e;var r=[],o=0;return T(e,r,"","",function(e){return t.call(n,e,o++)}),r}function B(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){(0===e._status||-1===e._status)&&(e._status=1,e._result=t)},function(t){(0===e._status||-1===e._status)&&(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var M="function"==typeof reportError?reportError:function(e){if("object"==typeof window&&"function"==typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"==typeof e&&null!==e&&"string"==typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"==typeof process&&"function"==typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function P(){}return p.Children={map:I,forEach:function(e,t,n){I(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return I(e,function(){t++}),t},toArray:function(e){return I(e,function(e){return e})||[]},only:function(e){if(!E(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},p.Component=b,p.Fragment=n,p.Profiler=o,p.PureComponent=y,p.StrictMode=r,p.Suspense=c,p.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=_,p.__COMPILER_RUNTIME={__proto__:null,c:function(e){return _.H.useMemoCache(e)}},p.cache=function(e){return function(){return e.apply(null,arguments)}},p.cloneElement=function(e,t,n){if(null==e)throw Error("The argument must be a React element, but you passed "+e+".");var r=m({},e.props),o=e.key;if(null!=t)for(i in t.ref,void 0!==t.key&&(o=""+t.key),t)!x.call(t,i)||"key"===i||"__self"===i||"__source"===i||"ref"===i&&void 0===t.ref||(r[i]=t[i]);var i=arguments.length-2;if(1===i)r.children=n;else if(1<i){for(var s=Array(i),a=0;a<i;a++)s[a]=arguments[a+2];r.children=s}return S(e.type,o,void 0,0,0,r)},p.createContext=function(e){return(e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:i,_context:e},e},p.createElement=function(e,t,n){var r,o={},i=null;if(null!=t)for(r in void 0!==t.key&&(i=""+t.key),t)x.call(t,r)&&"key"!==r&&"__self"!==r&&"__source"!==r&&(o[r]=t[r]);var s=arguments.length-2;if(1===s)o.children=n;else if(1<s){for(var a=Array(s),l=0;l<s;l++)a[l]=arguments[l+2];o.children=a}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===o[r]&&(o[r]=s[r]);return S(e,i,void 0,0,0,o)},p.createRef=function(){return{current:null}},p.forwardRef=function(e){return{$$typeof:l,render:e}},p.isValidElement=E,p.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:B}},p.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},p.startTransition=function(e){var t=_.T,n={};_.T=n;try{var r=e(),o=_.S;null!==o&&o(n,r),"object"==typeof r&&null!==r&&"function"==typeof r.then&&r.then(P,M)}catch(e){M(e)}finally{_.T=t}},p.unstable_useCacheRefresh=function(){return _.H.useCacheRefresh()},p.use=function(e){return _.H.use(e)},p.useActionState=function(e,t,n){return _.H.useActionState(e,t,n)},p.useCallback=function(e,t){return _.H.useCallback(e,t)},p.useContext=function(e){return _.H.useContext(e)},p.useDebugValue=function(){},p.useDeferredValue=function(e,t){return _.H.useDeferredValue(e,t)},p.useEffect=function(e,t,n){var r=_.H;if("function"==typeof n)throw Error("useEffect CRUD overload is not enabled in this build of React.");return r.useEffect(e,t)},p.useId=function(){return _.H.useId()},p.useImperativeHandle=function(e,t,n){return _.H.useImperativeHandle(e,t,n)},p.useInsertionEffect=function(e,t){return _.H.useInsertionEffect(e,t)},p.useLayoutEffect=function(e,t){return _.H.useLayoutEffect(e,t)},p.useMemo=function(e,t){return _.H.useMemo(e,t)},p.useOptimistic=function(e,t){return _.H.useOptimistic(e,t)},p.useReducer=function(e,t,n){return _.H.useReducer(e,t,n)},p.useRef=function(e){return _.H.useRef(e)},p.useState=function(e){return _.H.useState(e)},p.useSyncExternalStore=function(e,t,n){return _.H.useSyncExternalStore(e,t,n)},p.useTransition=function(){return _.H.useTransition()},p.version="19.1.1",p}function m(){return l||(l=1,h.exports=f()),h.exports}var g=m();const b=o(g);function w(){const e=b.useRef(null),[t,n]=b.useState(new DOMRect(0,0,10,10));return b.useLayoutEffect(()=>{const t=e.current;if(!t)return;const r=t.getBoundingClientRect();n(new DOMRect(0,0,r.width,r.height));const o=new ResizeObserver(e=>{const t=e[e.length-1];t&&t.contentRect&&n(t.contentRect)});return o.observe(t),()=>o.disconnect()},[e]),[t,e]}function y(e){if(e<0||!isFinite(e))return"-";if(0===e)return"0";if(e<1e3)return e.toFixed(0)+"ms";const t=e/1e3;if(t<60)return t.toFixed(1)+"s";const n=t/60;if(n<60)return n.toFixed(1)+"m";const r=n/60;return r<24?r.toFixed(1)+"h":(r/24).toFixed(1)+"d"}function v(e){const t=document.createElement("textarea");t.style.position="absolute",t.style.zIndex="-1000",t.value=e,document.body.appendChild(t),t.select(),document.execCommand("copy"),t.remove()}function A(e,t){e&&(t=_.getObject(e,t));const[n,r]=b.useState(t),o=b.useCallback(t=>{e?_.setObject(e,t):r(t)},[e,r]);return b.useEffect(()=>{if(e){const n=()=>r(_.getObject(e,t));return _.onChangeEmitter.addEventListener(e,n),()=>_.onChangeEmitter.removeEventListener(e,n)}},[t,e]),[n,o]}const _=new class{constructor(){this.onChangeEmitter=new EventTarget}getString(e,t){return localStorage[e]||t}setString(e,t){var n;localStorage[e]=t,this.onChangeEmitter.dispatchEvent(new Event(e)),null==(n=window.saveSettings)||n.call(window)}getObject(e,t){if(!localStorage[e])return t;try{return JSON.parse(localStorage[e])}catch{return t}}setObject(e,t){var n;localStorage[e]=JSON.stringify(t),this.onChangeEmitter.dispatchEvent(new Event(e)),null==(n=window.saveSettings)||n.call(window)}};function x(...e){return e.filter(Boolean).join(" ")}const S="\\u0000-\\u0020\\u007f-\\u009f",E=new RegExp("(?:[a-zA-Z][a-zA-Z0-9+.-]{2,}:\\/\\/|www\\.)[^\\s"+S+'"]{2,}[^\\s'+S+"\"')}\\],:;.!?]","ug"),C=new Set;function k(){return document.body.classList.contains("dark-mode")?"dark-mode":"light-mode"}var O,T,I={exports:{}},B={},M={exports:{}},P={};var j,N,F,D,R={exports:{}},L={};var z=(D||(D=1,function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||"function"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),I.exports=function(){if(F)return B;F=1;var e=(T||(T=1,M.exports=(O||(O=1,function(e){function t(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function n(e){return 0===e.length?null:e[0]}function r(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,s=i>>>1;r<s;){var a=2*(r+1)-1,l=e[a],c=a+1,u=e[c];if(0>o(l,n))c<i&&0>o(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[a]=n,r=a);else{if(!(c<i&&0>o(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(e.unstable_now=void 0,"object"==typeof performance&&"function"==typeof performance.now){var i=performance;e.unstable_now=function(){return i.now()}}else{var s=Date,a=s.now();e.unstable_now=function(){return s.now()-a}}var l=[],c=[],u=1,d=null,h=3,p=!1,f=!1,m=!1,g=!1,b="function"==typeof setTimeout?setTimeout:null,w="function"==typeof clearTimeout?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;function v(e){for(var o=n(c);null!==o;){if(null===o.callback)r(c);else{if(!(o.startTime<=e))break;r(c),o.sortIndex=o.expirationTime,t(l,o)}o=n(c)}}function A(e){if(m=!1,v(e),!f)if(null!==n(l))f=!0,x||(x=!0,_());else{var t=n(c);null!==t&&B(A,t.startTime-e)}}var _,x=!1,S=-1,E=5,C=-1;function k(){return!(!g&&e.unstable_now()-C<E)}function O(){if(g=!1,x){var t=e.unstable_now();C=t;var o=!0;try{e:{f=!1,m&&(m=!1,w(S),S=-1),p=!0;var i=h;try{t:{for(v(t),d=n(l);null!==d&&!(d.expirationTime>t&&k());){var s=d.callback;if("function"==typeof s){d.callback=null,h=d.priorityLevel;var a=s(d.expirationTime<=t);if(t=e.unstable_now(),"function"==typeof a){d.callback=a,v(t),o=!0;break t}d===n(l)&&r(l),v(t)}else r(l);d=n(l)}if(null!==d)o=!0;else{var u=n(c);null!==u&&B(A,u.startTime-t),o=!1}}break e}finally{d=null,h=i,p=!1}o=void 0}}finally{o?_():x=!1}}}if("function"==typeof y)_=function(){y(O)};else if(typeof MessageChannel<"u"){var T=new MessageChannel,I=T.port2;T.port1.onmessage=O,_=function(){I.postMessage(null)}}else _=function(){b(O,0)};function B(t,n){S=b(function(){t(e.unstable_now())},n)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(e){e.callback=null},e.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<e?Math.floor(1e3/e):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},e.unstable_requestPaint=function(){g=!0},e.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},e.unstable_scheduleCallback=function(r,o,i){var s=e.unstable_now();switch(i="object"==typeof i&&null!==i&&"number"==typeof(i=i.delay)&&0<i?s+i:s,r){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return r={id:u++,callback:o,priorityLevel:r,startTime:i,expirationTime:a=i+a,sortIndex:-1},i>s?(r.sortIndex=i,t(c,r),null===n(l)&&r===n(c)&&(m?(w(S),S=-1):m=!0,B(A,i-s))):(r.sortIndex=a,t(l,r),f||p||(f=!0,x||(x=!0,_()))),r},e.unstable_shouldYield=k,e.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}}(P)),P)),M.exports),t=m(),n=(N||(N=1,function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||"function"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),R.exports=function(){if(j)return L;j=1;var e=m();function t(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal"),i=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function s(e,t){return"font"===e?"":"string"==typeof t?"use-credentials"===t?t:"":void 0}return L.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,L.createPortal=function(e,n){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!n||1!==n.nodeType&&9!==n.nodeType&&11!==n.nodeType)throw Error(t(299));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:o,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,n,null,r)},L.flushSync=function(e){var t=i.T,n=r.p;try{if(i.T=null,r.p=2,e)return e()}finally{i.T=t,r.p=n,r.d.f()}},L.preconnect=function(e,t){"string"==typeof e&&(t=t?"string"==typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:null,r.d.C(e,t))},L.prefetchDNS=function(e){"string"==typeof e&&r.d.D(e)},L.preinit=function(e,t){if("string"==typeof e&&t&&"string"==typeof t.as){var n=t.as,o=s(n,t.crossOrigin),i="string"==typeof t.integrity?t.integrity:void 0,a="string"==typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?r.d.S(e,"string"==typeof t.precedence?t.precedence:void 0,{crossOrigin:o,integrity:i,fetchPriority:a}):"script"===n&&r.d.X(e,{crossOrigin:o,integrity:i,fetchPriority:a,nonce:"string"==typeof t.nonce?t.nonce:void 0})}},L.preinitModule=function(e,t){if("string"==typeof e)if("object"==typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=s(t.as,t.crossOrigin);r.d.M(e,{crossOrigin:n,integrity:"string"==typeof t.integrity?t.integrity:void 0,nonce:"string"==typeof t.nonce?t.nonce:void 0})}}else null==t&&r.d.M(e)},L.preload=function(e,t){if("string"==typeof e&&"object"==typeof t&&null!==t&&"string"==typeof t.as){var n=t.as,o=s(n,t.crossOrigin);r.d.L(e,n,{crossOrigin:o,integrity:"string"==typeof t.integrity?t.integrity:void 0,nonce:"string"==typeof t.nonce?t.nonce:void 0,type:"string"==typeof t.type?t.type:void 0,fetchPriority:"string"==typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"==typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"==typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"==typeof t.imageSizes?t.imageSizes:void 0,media:"string"==typeof t.media?t.media:void 0})}},L.preloadModule=function(e,t){if("string"==typeof e)if(t){var n=s(t.as,t.crossOrigin);r.d.m(e,{as:"string"==typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"==typeof t.integrity?t.integrity:void 0})}else r.d.m(e)},L.requestFormReset=function(e){r.d.r(e)},L.unstable_batchedUpdates=function(e,t){return e(t)},L.useFormState=function(e,t,n){return i.H.useFormState(e,t,n)},L.useFormStatus=function(){return i.H.useHostTransitionStatus()},L.version="19.1.1",L}()),R.exports);function r(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function i(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{!!(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function s(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&null!==(e=e.alternate)&&(t=e.memoizedState),null!==t)return t.dehydrated}return null}function a(e){if(i(e)!==e)throw Error(r(188))}function l(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=l(e)))return t;e=e.sibling}return null}var c=Object.assign,u=Symbol.for("react.element"),d=Symbol.for("react.transitional.element"),h=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),f=Symbol.for("react.strict_mode"),g=Symbol.for("react.profiler"),b=Symbol.for("react.provider"),w=Symbol.for("react.consumer"),y=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),_=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),E=Symbol.for("react.activity"),C=Symbol.for("react.memo_cache_sentinel"),k=Symbol.iterator;function I(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=k&&e[k]||e["@@iterator"])?e:null}var D=Symbol.for("react.client.reference");function z(e){if(null==e)return null;if("function"==typeof e)return e.$$typeof===D?null:e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case p:return"Fragment";case g:return"Profiler";case f:return"StrictMode";case A:return"Suspense";case _:return"SuspenseList";case E:return"Activity"}if("object"==typeof e)switch(e.$$typeof){case h:return"Portal";case y:return(e.displayName||"Context")+".Provider";case w:return(e._context.displayName||"Context")+".Consumer";case v:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case x:return null!==(t=e.displayName||null)?t:z(e.type)||"Memo";case S:t=e._payload,e=e._init;try{return z(e(t))}catch{}}return null}var H=Array.isArray,U=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,q={pending:!1,data:null,method:null,action:null},W=[],$=-1;function G(e){return{current:e}}function V(e){0>$||(e.current=W[$],W[$]=null,$--)}function Y(e,t){$++,W[$]=e.current,e.current=t}var J=G(null),K=G(null),X=G(null),Z=G(null);function ee(e,t){switch(Y(X,t),Y(K,e),Y(J,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?hd(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=pd(t=hd(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}V(J),Y(J,e)}function te(){V(J),V(K),V(X)}function ne(e){null!==e.memoizedState&&Y(Z,e);var t=J.current,n=pd(t,e.type);t!==n&&(Y(K,e),Y(J,n))}function re(e){K.current===e&&(V(J),V(K)),Z.current===e&&(V(Z),nh._currentValue=q)}var oe=Object.prototype.hasOwnProperty,ie=e.unstable_scheduleCallback,se=e.unstable_cancelCallback,ae=e.unstable_shouldYield,le=e.unstable_requestPaint,ce=e.unstable_now,ue=e.unstable_getCurrentPriorityLevel,de=e.unstable_ImmediatePriority,he=e.unstable_UserBlockingPriority,pe=e.unstable_NormalPriority,fe=e.unstable_LowPriority,me=e.unstable_IdlePriority,ge=e.log,be=e.unstable_setDisableYieldValue,we=null,ye=null;function ve(e){if("function"==typeof ge&&be(e),ye&&"function"==typeof ye.setStrictMode)try{ye.setStrictMode(we,e)}catch{}}var Ae=Math.clz32?Math.clz32:function(e){return 0==(e>>>=0)?32:31-(_e(e)/xe|0)|0},_e=Math.log,xe=Math.LN2,Se=256,Ee=4194304;function Ce(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194048&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ke(e,t,n){var r=e.pendingLanes;if(0===r)return 0;var o=0,i=e.suspendedLanes,s=e.pingedLanes;e=e.warmLanes;var a=134217727&r;return 0!==a?0!==(r=a&~i)?o=Ce(r):0!==(s&=a)?o=Ce(s):n||0!==(n=a&~e)&&(o=Ce(n)):0!==(a=r&~i)?o=Ce(a):0!==s?o=Ce(s):n||0!==(n=r&~e)&&(o=Ce(n)),0===o?0:0!==t&&t!==o&&0===(t&i)&&((i=o&-o)>=(n=t&-t)||32===i&&4194048&n)?t:o}function Oe(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function Te(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Ie(){var e=Se;return!(4194048&(Se<<=1))&&(Se=256),e}function Be(){var e=Ee;return!(62914560&(Ee<<=1))&&(Ee=4194304),e}function Me(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Pe(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function je(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-Ae(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|4194090&n}function Ne(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Ae(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}function Fe(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function De(e){return 2<(e&=-e)?8<e?134217727&e?32:268435456:8:2}function Re(){var e=Q.p;return 0!==e?e:void 0===(e=window.event)?32:bh(e.type)}var Le=Math.random().toString(36).slice(2),ze="__reactFiber$"+Le,He="__reactProps$"+Le,Ue="__reactContainer$"+Le,Qe="__reactEvents$"+Le,qe="__reactListeners$"+Le,We="__reactHandles$"+Le,$e="__reactResources$"+Le,Ge="__reactMarker$"+Le;function Ve(e){delete e[ze],delete e[He],delete e[Qe],delete e[qe],delete e[We]}function Ye(e){var t=e[ze];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ue]||n[ze]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=kd(e);null!==e;){if(n=e[ze])return n;e=kd(e)}return t}n=(e=n).parentNode}return null}function Je(e){if(e=e[ze]||e[Ue]){var t=e.tag;if(5===t||6===t||13===t||26===t||27===t||3===t)return e}return null}function Ke(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(r(33))}function Xe(e){var t=e[$e];return t||(t=e[$e]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Ze(e){e[Ge]=!0}var et=new Set,tt={};function nt(e,t){rt(e,t),rt(e+"Capture",t)}function rt(e,t){for(tt[e]=t,e=0;e<t.length;e++)et.add(t[e])}var ot,it,st=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),at={},lt={};function ct(e,t,n){if(function(e){return!!oe.call(lt,e)||!oe.call(at,e)&&(st.test(e)?lt[e]=!0:(at[e]=!0,!1))}(t))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function ut(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function dt(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+r)}}function ht(e){if(void 0===ot)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);ot=t&&t[1]||"",it=-1<e.stack.indexOf("\n    at")?" (<anonymous>)":-1<e.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+ot+e+it}var pt=!1;function ft(e,t){if(!e||pt)return"";pt=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(e){var r=e}Reflect.construct(e,[],n)}else{try{n.call()}catch(e){r=e}e.call(n.prototype)}}else{try{throw Error()}catch(e){r=e}(n=e())&&"function"==typeof n.catch&&n.catch(function(){})}}catch(e){if(e&&r&&"string"==typeof e.stack)return[e.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var o=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");o&&o.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=r.DetermineComponentFrameRoot(),s=i[0],a=i[1];if(s&&a){var l=s.split("\n"),c=a.split("\n");for(o=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;o<c.length&&!c[o].includes("DetermineComponentFrameRoot");)o++;if(r===l.length||o===c.length)for(r=l.length-1,o=c.length-1;1<=r&&0<=o&&l[r]!==c[o];)o--;for(;1<=r&&0<=o;r--,o--)if(l[r]!==c[o]){if(1!==r||1!==o)do{if(r--,0>--o||l[r]!==c[o]){var u="\n"+l[r].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=r&&0<=o);break}}}finally{pt=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?ht(n):""}function mt(e){switch(e.tag){case 26:case 27:case 5:return ht(e.type);case 16:return ht("Lazy");case 13:return ht("Suspense");case 19:return ht("SuspenseList");case 0:case 15:return ft(e.type,!1);case 11:return ft(e.type.render,!1);case 1:return ft(e.type,!0);case 31:return ht("Activity");default:return""}}function gt(e){try{var t="";do{t+=mt(e),e=e.return}while(e);return t}catch(e){return"\nError generating stack: "+e.message+"\n"+e.stack}}function bt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function wt(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function yt(e){e._valueTracker||(e._valueTracker=function(e){var t=wt(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&"function"==typeof n.get&&"function"==typeof n.set){var o=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(e){r=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function vt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=wt(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function At(e){if(typeof(e=e||(typeof document<"u"?document:void 0))>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var _t=/[\n"\\]/g;function xt(e){return e.replace(_t,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function St(e,t,n,r,o,i,s,a){e.name="",null!=s&&"function"!=typeof s&&"symbol"!=typeof s&&"boolean"!=typeof s?e.type=s:e.removeAttribute("type"),null!=t?"number"===s?(0===t&&""===e.value||e.value!=t)&&(e.value=""+bt(t)):e.value!==""+bt(t)&&(e.value=""+bt(t)):"submit"!==s&&"reset"!==s||e.removeAttribute("value"),null!=t?Ct(e,s,bt(t)):null!=n?Ct(e,s,bt(n)):null!=r&&e.removeAttribute("value"),null==o&&null!=i&&(e.defaultChecked=!!i),null!=o&&(e.checked=o&&"function"!=typeof o&&"symbol"!=typeof o),null!=a&&"function"!=typeof a&&"symbol"!=typeof a&&"boolean"!=typeof a?e.name=""+bt(a):e.removeAttribute("name")}function Et(e,t,n,r,o,i,s,a){if(null!=i&&"function"!=typeof i&&"symbol"!=typeof i&&"boolean"!=typeof i&&(e.type=i),null!=t||null!=n){if(("submit"===i||"reset"===i)&&null==t)return;n=null!=n?""+bt(n):"",t=null!=t?""+bt(t):n,a||t===e.value||(e.value=t),e.defaultValue=t}r="function"!=typeof(r=r??o)&&"symbol"!=typeof r&&!!r,e.checked=a?e.checked:!!r,e.defaultChecked=!!r,null!=s&&"function"!=typeof s&&"symbol"!=typeof s&&"boolean"!=typeof s&&(e.name=s)}function Ct(e,t,n){"number"===t&&At(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function kt(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+bt(n),t=null,o=0;o<e.length;o++){if(e[o].value===n)return e[o].selected=!0,void(r&&(e[o].defaultSelected=!0));null!==t||e[o].disabled||(t=e[o])}null!==t&&(t.selected=!0)}}function Ot(e,t,n){null==t||((t=""+bt(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+bt(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function Tt(e,t,n,o){if(null==t){if(null!=o){if(null!=n)throw Error(r(92));if(H(o)){if(1<o.length)throw Error(r(93));o=o[0]}n=o}null==n&&(n=""),t=n}n=bt(t),e.defaultValue=n,(o=e.textContent)===n&&""!==o&&null!==o&&(e.value=o)}function It(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var Bt=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Mt(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"==typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!=typeof n||0===n||Bt.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Pt(e,t,n){if(null!=t&&"object"!=typeof t)throw Error(r(62));if(e=e.style,null!=n){for(var o in n)!n.hasOwnProperty(o)||null!=t&&t.hasOwnProperty(o)||(0===o.indexOf("--")?e.setProperty(o,""):"float"===o?e.cssFloat="":e[o]="");for(var i in t)o=t[i],t.hasOwnProperty(i)&&n[i]!==o&&Mt(e,i,o)}else for(var s in t)t.hasOwnProperty(s)&&Mt(e,s,t[s])}function jt(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Nt=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ft=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Dt(e){return Ft.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Rt=null;function Lt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var zt=null,Ht=null;function Ut(e){var t=Je(e);if(t&&(e=t.stateNode)){var n=e[He]||null;e:switch(e=t.stateNode,t.type){case"input":if(St(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+xt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var o=n[t];if(o!==e&&o.form===e.form){var i=o[He]||null;if(!i)throw Error(r(90));St(o,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<n.length;t++)(o=n[t]).form===e.form&&vt(o)}break e;case"textarea":Ot(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&kt(e,!!n.multiple,t,!1)}}}var Qt=!1;function qt(e,t,n){if(Qt)return e(t,n);Qt=!0;try{return e(t)}finally{if(Qt=!1,(null!==zt||null!==Ht)&&(Yc(),zt&&(t=zt,e=Ht,Ht=zt=null,Ut(t),e)))for(t=0;t<e.length;t++)Ut(e[t])}}function Wt(e,t){var n=e.stateNode;if(null===n)return null;var o=n[He]||null;if(null===o)return null;n=o[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(o=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!o;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(r(231,t,typeof n));return n}var $t=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Gt=!1;if($t)try{var Vt={};Object.defineProperty(Vt,"passive",{get:function(){Gt=!0}}),window.addEventListener("test",Vt,Vt),window.removeEventListener("test",Vt,Vt)}catch{Gt=!1}var Yt=null,Jt=null,Kt=null;function Xt(){if(Kt)return Kt;var e,t,n=Jt,r=n.length,o="value"in Yt?Yt.value:Yt.textContent,i=o.length;for(e=0;e<r&&n[e]===o[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===o[i-t];t++);return Kt=o.slice(e,1<t?1-t:void 0)}function Zt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function en(){return!0}function tn(){return!1}function nn(e){function t(t,n,r,o,i){for(var s in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=o,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(o):o[s]);return this.isDefaultPrevented=(null!=o.defaultPrevented?o.defaultPrevented:!1===o.returnValue)?en:tn,this.isPropagationStopped=tn,this}return c(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=en)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=en)},persist:function(){},isPersistent:en}),t}var rn,on,sn,an={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=nn(an),cn=c({},an,{view:0,detail:0}),un=nn(cn),dn=c({},cn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_n,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sn&&(sn&&"mousemove"===e.type?(rn=e.screenX-sn.screenX,on=e.screenY-sn.screenY):on=rn=0,sn=e),rn)},movementY:function(e){return"movementY"in e?e.movementY:on}}),hn=nn(dn),pn=nn(c({},dn,{dataTransfer:0})),fn=nn(c({},cn,{relatedTarget:0})),mn=nn(c({},an,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=nn(c({},an,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),bn=nn(c({},an,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function An(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=vn[e])&&!!t[e]}function _n(){return An}var xn=nn(c({},cn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Zt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?yn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_n,charCode:function(e){return"keypress"===e.type?Zt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Zt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),Sn=nn(c({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),En=nn(c({},cn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_n})),Cn=nn(c({},an,{propertyName:0,elapsedTime:0,pseudoElement:0})),kn=nn(c({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),On=nn(c({},an,{newState:0,oldState:0})),Tn=[9,13,27,32],In=$t&&"CompositionEvent"in window,Bn=null;$t&&"documentMode"in document&&(Bn=document.documentMode);var Mn=$t&&"TextEvent"in window&&!Bn,Pn=$t&&(!In||Bn&&8<Bn&&11>=Bn),jn=" ",Nn=!1;function Fn(e,t){switch(e){case"keyup":return-1!==Tn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Dn(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Rn=!1,Ln={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Ln[e.type]:"textarea"===t}function Hn(e,t,n,r){zt?Ht?Ht.push(r):Ht=[r]:zt=r,0<(t=Xu(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Un=null,Qn=null;function qn(e){qu(e,0)}function Wn(e){if(vt(Ke(e)))return e}function $n(e,t){if("change"===e)return t}var Gn=!1;if($t){var Vn;if($t){var Yn="oninput"in document;if(!Yn){var Jn=document.createElement("div");Jn.setAttribute("oninput","return;"),Yn="function"==typeof Jn.oninput}Vn=Yn}else Vn=!1;Gn=Vn&&(!document.documentMode||9<document.documentMode)}function Kn(){Un&&(Un.detachEvent("onpropertychange",Xn),Qn=Un=null)}function Xn(e){if("value"===e.propertyName&&Wn(Qn)){var t=[];Hn(t,Qn,e,Lt(e)),qt(qn,t)}}function Zn(e,t,n){"focusin"===e?(Kn(),Qn=n,(Un=t).attachEvent("onpropertychange",Xn)):"focusout"===e&&Kn()}function er(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Wn(Qn)}function tr(e,t){if("click"===e)return Wn(t)}function nr(e,t){if("input"===e||"change"===e)return Wn(t)}var rr="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function or(e,t){if(rr(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!oe.call(t,o)||!rr(e[o],t[o]))return!1}return!0}function ir(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function sr(e,t){var n,r=ir(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ir(r)}}function ar(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?ar(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function lr(e){for(var t=At((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch{n=!1}if(!n)break;t=At((e=t.contentWindow).document)}return t}function cr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var ur=$t&&"documentMode"in document&&11>=document.documentMode,dr=null,hr=null,pr=null,fr=!1;function mr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;fr||null==dr||dr!==At(r)||(r="selectionStart"in(r=dr)&&cr(r)?{start:r.selectionStart,end:r.selectionEnd}:{anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},pr&&or(pr,r)||(pr=r,0<(r=Xu(hr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=dr)))}function gr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var br={animationend:gr("Animation","AnimationEnd"),animationiteration:gr("Animation","AnimationIteration"),animationstart:gr("Animation","AnimationStart"),transitionrun:gr("Transition","TransitionRun"),transitionstart:gr("Transition","TransitionStart"),transitioncancel:gr("Transition","TransitionCancel"),transitionend:gr("Transition","TransitionEnd")},wr={},yr={};function vr(e){if(wr[e])return wr[e];if(!br[e])return e;var t,n=br[e];for(t in n)if(n.hasOwnProperty(t)&&t in yr)return wr[e]=n[t];return e}$t&&(yr=document.createElement("div").style,"AnimationEvent"in window||(delete br.animationend.animation,delete br.animationiteration.animation,delete br.animationstart.animation),"TransitionEvent"in window||delete br.transitionend.transition);var Ar=vr("animationend"),_r=vr("animationiteration"),xr=vr("animationstart"),Sr=vr("transitionrun"),Er=vr("transitionstart"),Cr=vr("transitioncancel"),kr=vr("transitionend"),Or=new Map,Tr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ir(e,t){Or.set(e,t),nt(t,[e])}Tr.push("scrollEnd");var Br=new WeakMap;function Mr(e,t){if("object"==typeof e&&null!==e){var n=Br.get(e);return void 0!==n?n:(t={value:e,source:t,stack:gt(t)},Br.set(e,t),t)}return{value:e,source:t,stack:gt(t)}}var Pr=[],jr=0,Nr=0;function Fr(){for(var e=jr,t=Nr=jr=0;t<e;){var n=Pr[t];Pr[t++]=null;var r=Pr[t];Pr[t++]=null;var o=Pr[t];Pr[t++]=null;var i=Pr[t];if(Pr[t++]=null,null!==r&&null!==o){var s=r.pending;null===s?o.next=o:(o.next=s.next,s.next=o),r.pending=o}0!==i&&zr(n,o,i)}}function Dr(e,t,n,r){Pr[jr++]=e,Pr[jr++]=t,Pr[jr++]=n,Pr[jr++]=r,Nr|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function Rr(e,t,n,r){return Dr(e,t,n,r),Hr(e)}function Lr(e,t){return Dr(e,null,null,t),Hr(e)}function zr(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var o=!1,i=e.return;null!==i;)i.childLanes|=n,null!==(r=i.alternate)&&(r.childLanes|=n),22===i.tag&&(null===(e=i.stateNode)||1&e._visibility||(o=!0)),e=i,i=i.return;return 3===e.tag?(i=e.stateNode,o&&null!==t&&(o=31-Ae(n),null===(r=(e=i.hiddenUpdates)[o])?e[o]=[t]:r.push(t),t.lane=536870912|n),i):null}function Hr(e){if(50<zc)throw zc=0,Hc=null,Error(r(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Ur={};function Qr(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qr(e,t,n,r){return new Qr(e,t,n,r)}function Wr(e){return!(!(e=e.prototype)||!e.isReactComponent)}function $r(e,t){var n=e.alternate;return null===n?((n=qr(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Gr(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Vr(e,t,n,o,i,s){var a=0;if(o=e,"function"==typeof e)Wr(e)&&(a=1);else if("string"==typeof e)a=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!=typeof t.precedence||"string"!=typeof t.href||""===t.href)break;return!0;case"link":if("string"!=typeof t.rel||"string"!=typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"==typeof t.precedence&&null==e);case"script":if(t.async&&"function"!=typeof t.async&&"symbol"!=typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"==typeof t.src)return!0}return!1}(e,n,J.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case E:return(e=qr(31,n,t,i)).elementType=E,e.lanes=s,e;case p:return Yr(n.children,i,s,t);case f:a=8,i|=24;break;case g:return(e=qr(12,n,t,2|i)).elementType=g,e.lanes=s,e;case A:return(e=qr(13,n,t,i)).elementType=A,e.lanes=s,e;case _:return(e=qr(19,n,t,i)).elementType=_,e.lanes=s,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case b:case y:a=10;break e;case w:a=9;break e;case v:a=11;break e;case x:a=14;break e;case S:a=16,o=null;break e}a=29,n=Error(r(130,null===e?"null":typeof e,"")),o=null}return(t=qr(a,n,t,i)).elementType=e,t.type=o,t.lanes=s,t}function Yr(e,t,n,r){return(e=qr(7,e,r,t)).lanes=n,e}function Jr(e,t,n){return(e=qr(6,e,null,t)).lanes=n,e}function Kr(e,t,n){return(t=qr(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Xr=[],Zr=0,eo=null,to=0,no=[],ro=0,oo=null,io=1,so="";function ao(e,t){Xr[Zr++]=to,Xr[Zr++]=eo,eo=e,to=t}function lo(e,t,n){no[ro++]=io,no[ro++]=so,no[ro++]=oo,oo=e;var r=io;e=so;var o=32-Ae(r)-1;r&=~(1<<o),n+=1;var i=32-Ae(t)+o;if(30<i){var s=o-o%5;i=(r&(1<<s)-1).toString(32),r>>=s,o-=s,io=1<<32-Ae(t)+o|n<<o|r,so=i+e}else io=1<<i|n<<o|r,so=e}function co(e){null!==e.return&&(ao(e,1),lo(e,1,0))}function uo(e){for(;e===eo;)eo=Xr[--Zr],Xr[Zr]=null,to=Xr[--Zr],Xr[Zr]=null;for(;e===oo;)oo=no[--ro],no[ro]=null,so=no[--ro],no[ro]=null,io=no[--ro],no[ro]=null}var ho=null,po=null,fo=!1,mo=null,go=!1,bo=Error(r(519));function wo(e){throw So(Mr(Error(r(418,"")),e)),bo}function yo(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[ze]=e,t[He]=r,n){case"dialog":Wu("cancel",t),Wu("close",t);break;case"iframe":case"object":case"embed":Wu("load",t);break;case"video":case"audio":for(n=0;n<Uu.length;n++)Wu(Uu[n],t);break;case"source":Wu("error",t);break;case"img":case"image":case"link":Wu("error",t),Wu("load",t);break;case"details":Wu("toggle",t);break;case"input":Wu("invalid",t),Et(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),yt(t);break;case"select":Wu("invalid",t);break;case"textarea":Wu("invalid",t),Tt(t,r.value,r.defaultValue,r.children),yt(t)}"string"!=typeof(n=r.children)&&"number"!=typeof n&&"bigint"!=typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||od(t.textContent,n)?(null!=r.popover&&(Wu("beforetoggle",t),Wu("toggle",t)),null!=r.onScroll&&Wu("scroll",t),null!=r.onScrollEnd&&Wu("scrollend",t),null!=r.onClick&&(t.onclick=id),t=!0):t=!1,t||wo(e)}function vo(e){for(ho=e.return;ho;)switch(ho.tag){case 5:case 13:return void(go=!1);case 27:case 3:return void(go=!0);default:ho=ho.return}}function Ao(e){if(e!==ho)return!1;if(!fo)return vo(e),fo=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||fd(e.type,e.memoizedProps)),t=!t),t&&po&&wo(e),vo(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(r(317));e:{for(e=e.nextSibling,n=0;e;){if(8===e.nodeType)if("/$"===(t=e.data)){if(0===n){po=Ed(e.nextSibling);break e}n--}else"$"!==t&&"$!"!==t&&"$?"!==t||n++;e=e.nextSibling}po=null}}else 27===n?(n=po,Ad(e.type)?(e=Cd,Cd=null,po=e):po=n):po=ho?Ed(e.stateNode.nextSibling):null;return!0}function _o(){po=ho=null,fo=!1}function xo(){var e=mo;return null!==e&&(null===kc?kc=e:kc.push.apply(kc,e),mo=null),e}function So(e){null===mo?mo=[e]:mo.push(e)}var Eo=G(null),Co=null,ko=null;function Oo(e,t,n){Y(Eo,t._currentValue),t._currentValue=n}function To(e){e._currentValue=Eo.current,V(Eo)}function Io(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Bo(e,t,n,o){var i=e.child;for(null!==i&&(i.return=e);null!==i;){var s=i.dependencies;if(null!==s){var a=i.child;s=s.firstContext;e:for(;null!==s;){var l=s;s=i;for(var c=0;c<t.length;c++)if(l.context===t[c]){s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),Io(s.return,n,e),o||(a=null);break e}s=l.next}}else if(18===i.tag){if(null===(a=i.return))throw Error(r(341));a.lanes|=n,null!==(s=a.alternate)&&(s.lanes|=n),Io(a,n,e),a=null}else a=i.child;if(null!==a)a.return=i;else for(a=i;null!==a;){if(a===e){a=null;break}if(null!==(i=a.sibling)){i.return=a.return,a=i;break}a=a.return}i=a}}function Mo(e,t,n,o){e=null;for(var i=t,s=!1;null!==i;){if(!s)if(524288&i.flags)s=!0;else if(262144&i.flags)break;if(10===i.tag){var a=i.alternate;if(null===a)throw Error(r(387));if(null!==(a=a.memoizedProps)){var l=i.type;rr(i.pendingProps.value,a.value)||(null!==e?e.push(l):e=[l])}}else if(i===Z.current){if(null===(a=i.alternate))throw Error(r(387));a.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(null!==e?e.push(nh):e=[nh])}i=i.return}null!==e&&Bo(t,e,n,o),t.flags|=262144}function Po(e){for(e=e.firstContext;null!==e;){if(!rr(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function jo(e){Co=e,ko=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function No(e){return Do(Co,e)}function Fo(e,t){return null===Co&&jo(e),Do(e,t)}function Do(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===ko){if(null===e)throw Error(r(308));ko=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else ko=ko.next=t;return n}var Ro=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},Lo=e.unstable_scheduleCallback,zo=e.unstable_NormalPriority,Ho={$$typeof:y,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Uo(){return{controller:new Ro,data:new Map,refCount:0}}function Qo(e){e.refCount--,0===e.refCount&&Lo(zo,function(){e.controller.abort()})}var qo=null,Wo=0,$o=0,Go=null;function Vo(){if(0===--Wo&&null!==qo){null!==Go&&(Go.status="fulfilled");var e=qo;qo=null,$o=0,Go=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Yo=U.S;U.S=function(e,t){"object"==typeof t&&null!==t&&"function"==typeof t.then&&function(e,t){if(null===qo){var n=qo=[];Wo=0,$o=Du(),Go={status:"pending",value:void 0,then:function(e){n.push(e)}}}Wo++,t.then(Vo,Vo)}(0,t),null!==Yo&&Yo(e,t)};var Jo=G(null);function Ko(){var e=Jo.current;return null!==e?e:dc.pooledCache}function Xo(e,t){Y(Jo,null===t?Jo.current:t.pool)}function Zo(){var e=Ko();return null===e?null:{parent:Ho._currentValue,pool:e}}var ei=Error(r(460)),ti=Error(r(474)),ni=Error(r(542)),ri={then:function(){}};function oi(e){return"fulfilled"===(e=e.status)||"rejected"===e}function ii(){}function si(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(ii,ii),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw ci(e=t.reason),e;default:if("string"==typeof t.status)t.then(ii,ii);else{if(null!==(e=dc)&&100<e.shellSuspendCounter)throw Error(r(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}},function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw ci(e=t.reason),e}throw ai=t,ei}}var ai=null;function li(){if(null===ai)throw Error(r(459));var e=ai;return ai=null,e}function ci(e){if(e===ei||e===ni)throw Error(r(483))}var ui=!1;function di(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function hi(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function pi(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function fi(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,2&uc){var o=r.pending;return null===o?t.next=t:(t.next=o.next,o.next=t),r.pending=t,t=Hr(e),zr(e,null,n),t}return Dr(e,r,t,n),Hr(e)}function mi(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,4194048&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Ne(e,n)}}function gi(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var o=null,i=null;if(null!==(n=n.firstBaseUpdate)){do{var s={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===i?o=i=s:i=i.next=s,n=n.next}while(null!==n);null===i?o=i=t:i=i.next=t}else o=i=t;return n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var bi=!1;function wi(){if(bi&&null!==Go)throw Go}function yi(e,t,n,r){bi=!1;var o=e.updateQueue;ui=!1;var i=o.firstBaseUpdate,s=o.lastBaseUpdate,a=o.shared.pending;if(null!==a){o.shared.pending=null;var l=a,u=l.next;l.next=null,null===s?i=u:s.next=u,s=l;var d=e.alternate;null!==d&&(a=(d=d.updateQueue).lastBaseUpdate)!==s&&(null===a?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l)}if(null!==i){var h=o.baseState;for(s=0,d=u=l=null,a=i;;){var p=-536870913&a.lane,f=p!==a.lane;if(f?(pc&p)===p:(r&p)===p){0!==p&&p===$o&&(bi=!0),null!==d&&(d=d.next={lane:0,tag:a.tag,payload:a.payload,callback:null,next:null});e:{var m=e,g=a;p=t;var b=n;switch(g.tag){case 1:if("function"==typeof(m=g.payload)){h=m.call(b,h,p);break e}h=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null==(p="function"==typeof(m=g.payload)?m.call(b,h,p):m))break e;h=c({},h,p);break e;case 2:ui=!0}}null!==(p=a.callback)&&(e.flags|=64,f&&(e.flags|=8192),null===(f=o.callbacks)?o.callbacks=[p]:f.push(p))}else f={lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===d?(u=d=f,l=h):d=d.next=f,s|=p;if(null===(a=a.next)){if(null===(a=o.shared.pending))break;a=(f=a).next,f.next=null,o.lastBaseUpdate=f,o.shared.pending=null}}null===d&&(l=h),o.baseState=l,o.firstBaseUpdate=u,o.lastBaseUpdate=d,null===i&&(o.shared.lanes=0),Ac|=s,e.lanes=s,e.memoizedState=h}}function vi(e,t){if("function"!=typeof e)throw Error(r(191,e));e.call(t)}function Ai(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)vi(n[e],t)}var _i=G(null),xi=G(0);function Si(e,t){Y(xi,e=yc),Y(_i,t),yc=e|t.baseLanes}function Ei(){Y(xi,yc),Y(_i,_i.current)}function Ci(){yc=xi.current,V(_i),V(xi)}var ki=0,Oi=null,Ti=null,Ii=null,Bi=!1,Mi=!1,Pi=!1,ji=0,Ni=0,Fi=null,Di=0;function Ri(){throw Error(r(321))}function Li(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!rr(e[n],t[n]))return!1;return!0}function zi(e,t,n,r,o,i){return ki=i,Oi=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,U.H=null===e||null===e.memoizedState?ea:ta,Pi=!1,i=n(r,o),Pi=!1,Mi&&(i=Ui(t,n,r,o)),Hi(e),i}function Hi(e){U.H=Zs;var t=null!==Ti&&null!==Ti.next;if(ki=0,Ii=Ti=Oi=null,Bi=!1,Ni=0,Fi=null,t)throw Error(r(300));null===e||Na||null!==(e=e.dependencies)&&Po(e)&&(Na=!0)}function Ui(e,t,n,o){Oi=e;var i=0;do{if(Mi&&(Fi=null),Ni=0,Mi=!1,25<=i)throw Error(r(301));if(i+=1,Ii=Ti=null,null!=e.updateQueue){var s=e.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,null!=s.memoCache&&(s.memoCache.index=0)}U.H=na,s=t(n,o)}while(Mi);return s}function Qi(){var e=U.H,t=e.useState()[0];return t="function"==typeof t.then?Yi(t):t,e=e.useState()[0],(null!==Ti?Ti.memoizedState:null)!==e&&(Oi.flags|=1024),t}function qi(){var e=0!==ji;return ji=0,e}function Wi(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function $i(e){if(Bi){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}Bi=!1}ki=0,Ii=Ti=Oi=null,Mi=!1,Ni=ji=0,Fi=null}function Gi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Ii?Oi.memoizedState=Ii=e:Ii=Ii.next=e,Ii}function Vi(){if(null===Ti){var e=Oi.alternate;e=null!==e?e.memoizedState:null}else e=Ti.next;var t=null===Ii?Oi.memoizedState:Ii.next;if(null!==t)Ii=t,Ti=e;else{if(null===e)throw null===Oi.alternate?Error(r(467)):Error(r(310));e={memoizedState:(Ti=e).memoizedState,baseState:Ti.baseState,baseQueue:Ti.baseQueue,queue:Ti.queue,next:null},null===Ii?Oi.memoizedState=Ii=e:Ii=Ii.next=e}return Ii}function Yi(e){var t=Ni;return Ni+=1,null===Fi&&(Fi=[]),e=si(Fi,e,t),t=Oi,null===(null===Ii?t.memoizedState:Ii.next)&&(t=t.alternate,U.H=null===t||null===t.memoizedState?ea:ta),e}function Ji(e){if(null!==e&&"object"==typeof e){if("function"==typeof e.then)return Yi(e);if(e.$$typeof===y)return No(e)}throw Error(r(438,String(e)))}function Ki(e){var t=null,n=Oi.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=Oi.alternate;null!==r&&null!==(r=r.updateQueue)&&null!=(r=r.memoCache)&&(t={data:r.data.map(function(e){return e.slice()}),index:0})}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},Oi.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=C;return t.index++,n}function Xi(e,t){return"function"==typeof t?t(e):t}function Zi(e){return es(Vi(),Ti,e)}function es(e,t,n){var o=e.queue;if(null===o)throw Error(r(311));o.lastRenderedReducer=n;var i=e.baseQueue,s=o.pending;if(null!==s){if(null!==i){var a=i.next;i.next=s.next,s.next=a}t.baseQueue=i=s,o.pending=null}if(s=e.baseState,null===i)e.memoizedState=s;else{var l=a=null,c=null,u=t=i.next,d=!1;do{var h=-536870913&u.lane;if(h!==u.lane?(pc&h)===h:(ki&h)===h){var p=u.revertLane;if(0===p)null!==c&&(c=c.next={lane:0,revertLane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),h===$o&&(d=!0);else{if((ki&p)===p){u=u.next,p===$o&&(d=!0);continue}h={lane:0,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=h,a=s):c=c.next=h,Oi.lanes|=p,Ac|=p}h=u.action,Pi&&n(s,h),s=u.hasEagerState?u.eagerState:n(s,h)}else p={lane:h,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=p,a=s):c=c.next=p,Oi.lanes|=h,Ac|=h;u=u.next}while(null!==u&&u!==t);if(null===c?a=s:c.next=l,!rr(s,e.memoizedState)&&(Na=!0,d&&null!==(n=Go)))throw n;e.memoizedState=s,e.baseState=a,e.baseQueue=c,o.lastRenderedState=s}return null===i&&(o.lanes=0),[e.memoizedState,o.dispatch]}function ts(e){var t=Vi(),n=t.queue;if(null===n)throw Error(r(311));n.lastRenderedReducer=e;var o=n.dispatch,i=n.pending,s=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{s=e(s,a.action),a=a.next}while(a!==i);rr(s,t.memoizedState)||(Na=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,o]}function ns(e,t,n){var o=Oi,i=Vi(),s=fo;if(s){if(void 0===n)throw Error(r(407));n=n()}else n=t();var a=!rr((Ti||i).memoizedState,n);if(a&&(i.memoizedState=n,Na=!0),i=i.queue,Es(2048,8,is.bind(null,o,i,e),[e]),i.getSnapshot!==t||a||null!==Ii&&1&Ii.memoizedState.tag){if(o.flags|=2048,_s(9,{destroy:void 0,resource:void 0},os.bind(null,o,i,n,t),null),null===dc)throw Error(r(349));s||124&ki||rs(o,t,n)}return n}function rs(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=Oi.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},Oi.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function os(e,t,n,r){t.value=n,t.getSnapshot=r,ss(t)&&as(e)}function is(e,t,n){return n(function(){ss(t)&&as(e)})}function ss(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!rr(e,n)}catch{return!0}}function as(e){var t=Lr(e,2);null!==t&&qc(t,0,2)}function ls(e){var t=Gi();if("function"==typeof e){var n=e;if(e=n(),Pi){ve(!0);try{n()}finally{ve(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xi,lastRenderedState:e},t}function cs(e,t,n,r){return e.baseState=n,es(e,Ti,"function"==typeof r?r:Xi)}function us(e,t,n,o,i){if(Js(e))throw Error(r(485));if(null!==(e=t.action)){var s={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){s.listeners.push(e)}};null!==U.T?n(!0):s.isTransition=!1,o(s),null===(n=t.pending)?(s.next=t.pending=s,ds(t,s)):(s.next=n.next,t.pending=n.next=s)}}function ds(e,t){var n=t.action,r=t.payload,o=e.state;if(t.isTransition){var i=U.T,s={};U.T=s;try{var a=n(o,r),l=U.S;null!==l&&l(s,a),hs(e,t,a)}catch(n){fs(e,t,n)}finally{U.T=i}}else try{hs(e,t,i=n(o,r))}catch(n){fs(e,t,n)}}function hs(e,t,n){null!==n&&"object"==typeof n&&"function"==typeof n.then?n.then(function(n){ps(e,t,n)},function(n){return fs(e,t,n)}):ps(e,t,n)}function ps(e,t,n){t.status="fulfilled",t.value=n,ms(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,ds(e,n)))}function fs(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,ms(t),t=t.next}while(t!==r)}e.action=null}function ms(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function gs(e,t){return t}function bs(e,t){if(fo){var n=dc.formState;if(null!==n){e:{var r=Oi;if(fo){if(po){t:{for(var o=po,i=go;8!==o.nodeType;){if(!i){o=null;break t}if(null===(o=Ed(o.nextSibling))){o=null;break t}}o="F!"===(i=o.data)||"F"===i?o:null}if(o){po=Ed(o.nextSibling),r="F!"===o.data;break e}}wo(r)}r=!1}r&&(t=n[0])}}return(n=Gi()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gs,lastRenderedState:t},n.queue=r,n=Gs.bind(null,Oi,r),r.dispatch=n,r=ls(!1),i=Ys.bind(null,Oi,!1,r.queue),o={state:t,dispatch:null,action:e,pending:null},(r=Gi()).queue=o,n=us.bind(null,Oi,o,i,n),o.dispatch=n,r.memoizedState=e,[t,n,!1]}function ws(e){return ys(Vi(),Ti,e)}function ys(e,t,n){if(t=es(e,t,gs)[0],e=Zi(Xi)[0],"object"==typeof t&&null!==t&&"function"==typeof t.then)try{var r=Yi(t)}catch(e){throw e===ei?ni:e}else r=t;var o=(t=Vi()).queue,i=o.dispatch;return n!==t.memoizedState&&(Oi.flags|=2048,_s(9,{destroy:void 0,resource:void 0},vs.bind(null,o,n),null)),[r,i,e]}function vs(e,t){e.action=t}function As(e){var t=Vi(),n=Ti;if(null!==n)return ys(t,n,e);Vi(),t=t.memoizedState;var r=(n=Vi()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function _s(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},null===(t=Oi.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},Oi.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function xs(){return Vi().memoizedState}function Ss(e,t,n,r){var o=Gi();r=void 0===r?null:r,Oi.flags|=e,o.memoizedState=_s(1|t,{destroy:void 0,resource:void 0},n,r)}function Es(e,t,n,r){var o=Vi();r=void 0===r?null:r;var i=o.memoizedState.inst;null!==Ti&&null!==r&&Li(r,Ti.memoizedState.deps)?o.memoizedState=_s(t,i,n,r):(Oi.flags|=e,o.memoizedState=_s(1|t,i,n,r))}function Cs(e,t){Ss(8390656,8,e,t)}function ks(e,t){Es(2048,8,e,t)}function Os(e,t){return Es(4,2,e,t)}function Ts(e,t){return Es(4,4,e,t)}function Is(e,t){if("function"==typeof t){e=e();var n=t(e);return function(){"function"==typeof n?n():t(null)}}if(null!=t)return e=e(),t.current=e,function(){t.current=null}}function Bs(e,t,n){n=null!=n?n.concat([e]):null,Es(4,4,Is.bind(null,t,e),n)}function Ms(){}function Ps(e,t){var n=Vi();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&Li(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function js(e,t){var n=Vi();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&Li(t,r[1]))return r[0];if(r=e(),Pi){ve(!0);try{e()}finally{ve(!1)}}return n.memoizedState=[r,t],r}function Ns(e,t,n){return void 0===n||1073741824&ki?e.memoizedState=t:(e.memoizedState=n,e=Qc(),Oi.lanes|=e,Ac|=e,n)}function Fs(e,t,n,r){return rr(n,t)?n:null!==_i.current?(e=Ns(e,n,r),rr(e,t)||(Na=!0),e):42&ki?(e=Qc(),Oi.lanes|=e,Ac|=e,t):(Na=!0,e.memoizedState=n)}function Ds(e,t,n,r,o){var i=Q.p;Q.p=0!==i&&8>i?i:8;var s=U.T,a={};U.T=a,Ys(e,!1,t,n);try{var l=o(),c=U.S;if(null!==c&&c(a,l),null!==l&&"object"==typeof l&&"function"==typeof l.then){var u=function(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(e){n.push(e)}};return e.then(function(){r.status="fulfilled",r.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)},function(e){for(r.status="rejected",r.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)}),r}(l,r);Vs(e,t,u,Uc())}else Vs(e,t,r,Uc())}catch(n){Vs(e,t,{then:function(){},status:"rejected",reason:n},Uc())}finally{Q.p=i,U.T=s}}function Rs(){}function Ls(e,t,n,o){if(5!==e.tag)throw Error(r(476));var i=zs(e).queue;Ds(e,i,t,q,null===n?Rs:function(){return Hs(e),n(o)})}function zs(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:q,baseState:q,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xi,lastRenderedState:q},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xi,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function Hs(e){Vs(e,zs(e).next.queue,{},Uc())}function Us(){return No(nh)}function Qs(){return Vi().memoizedState}function qs(){return Vi().memoizedState}function Ws(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Uc(),r=fi(t,e=pi(n),n);return null!==r&&(qc(r,0,n),mi(r,t,n)),t={cache:Uo()},void(e.payload=t)}t=t.return}}function $s(e,t,n){var r=Uc();n={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},Js(e)?Ks(t,n):null!==(n=Rr(e,t,n,r))&&(qc(n,0,r),Xs(n,t,r))}function Gs(e,t,n){Vs(e,t,n,Uc())}function Vs(e,t,n,r){var o={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(Js(e))Ks(t,o);else{var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var s=t.lastRenderedState,a=i(s,n);if(o.hasEagerState=!0,o.eagerState=a,rr(a,s))return Dr(e,t,o,0),null===dc&&Fr(),!1}catch{}if(null!==(n=Rr(e,t,o,r)))return qc(n,0,r),Xs(n,t,r),!0}return!1}function Ys(e,t,n,o){if(o={lane:2,revertLane:Du(),action:o,hasEagerState:!1,eagerState:null,next:null},Js(e)){if(t)throw Error(r(479))}else null!==(t=Rr(e,n,o,2))&&qc(t,0,2)}function Js(e){var t=e.alternate;return e===Oi||null!==t&&t===Oi}function Ks(e,t){Mi=Bi=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Xs(e,t,n){if(4194048&n){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Ne(e,n)}}var Zs={readContext:No,use:Ji,useCallback:Ri,useContext:Ri,useEffect:Ri,useImperativeHandle:Ri,useLayoutEffect:Ri,useInsertionEffect:Ri,useMemo:Ri,useReducer:Ri,useRef:Ri,useState:Ri,useDebugValue:Ri,useDeferredValue:Ri,useTransition:Ri,useSyncExternalStore:Ri,useId:Ri,useHostTransitionStatus:Ri,useFormState:Ri,useActionState:Ri,useOptimistic:Ri,useMemoCache:Ri,useCacheRefresh:Ri},ea={readContext:No,use:Ji,useCallback:function(e,t){return Gi().memoizedState=[e,void 0===t?null:t],e},useContext:No,useEffect:Cs,useImperativeHandle:function(e,t,n){n=null!=n?n.concat([e]):null,Ss(4194308,4,Is.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ss(4194308,4,e,t)},useInsertionEffect:function(e,t){Ss(4,2,e,t)},useMemo:function(e,t){var n=Gi();t=void 0===t?null:t;var r=e();if(Pi){ve(!0);try{e()}finally{ve(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=Gi();if(void 0!==n){var o=n(t);if(Pi){ve(!0);try{n(t)}finally{ve(!1)}}}else o=t;return r.memoizedState=r.baseState=o,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:o},r.queue=e,e=e.dispatch=$s.bind(null,Oi,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Gi().memoizedState=e},useState:function(e){var t=(e=ls(e)).queue,n=Gs.bind(null,Oi,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Ms,useDeferredValue:function(e,t){return Ns(Gi(),e,t)},useTransition:function(){var e=ls(!1);return e=Ds.bind(null,Oi,e.queue,!0,!1),Gi().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var o=Oi,i=Gi();if(fo){if(void 0===n)throw Error(r(407));n=n()}else{if(n=t(),null===dc)throw Error(r(349));124&pc||rs(o,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,Cs(is.bind(null,o,s,e),[e]),o.flags|=2048,_s(9,{destroy:void 0,resource:void 0},os.bind(null,o,s,n,t),null),n},useId:function(){var e=Gi(),t=dc.identifierPrefix;if(fo){var n=so;t=""+t+"R"+(n=(io&~(1<<32-Ae(io)-1)).toString(32)+n),0<(n=ji++)&&(t+="H"+n.toString(32)),t+=""}else t=""+t+"r"+(n=Di++).toString(32)+"";return e.memoizedState=t},useHostTransitionStatus:Us,useFormState:bs,useActionState:bs,useOptimistic:function(e){var t=Gi();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Ys.bind(null,Oi,!0,n),n.dispatch=t,[e,t]},useMemoCache:Ki,useCacheRefresh:function(){return Gi().memoizedState=Ws.bind(null,Oi)}},ta={readContext:No,use:Ji,useCallback:Ps,useContext:No,useEffect:ks,useImperativeHandle:Bs,useInsertionEffect:Os,useLayoutEffect:Ts,useMemo:js,useReducer:Zi,useRef:xs,useState:function(){return Zi(Xi)},useDebugValue:Ms,useDeferredValue:function(e,t){return Fs(Vi(),Ti.memoizedState,e,t)},useTransition:function(){var e=Zi(Xi)[0],t=Vi().memoizedState;return["boolean"==typeof e?e:Yi(e),t]},useSyncExternalStore:ns,useId:Qs,useHostTransitionStatus:Us,useFormState:ws,useActionState:ws,useOptimistic:function(e,t){return cs(Vi(),0,e,t)},useMemoCache:Ki,useCacheRefresh:qs},na={readContext:No,use:Ji,useCallback:Ps,useContext:No,useEffect:ks,useImperativeHandle:Bs,useInsertionEffect:Os,useLayoutEffect:Ts,useMemo:js,useReducer:ts,useRef:xs,useState:function(){return ts(Xi)},useDebugValue:Ms,useDeferredValue:function(e,t){var n=Vi();return null===Ti?Ns(n,e,t):Fs(n,Ti.memoizedState,e,t)},useTransition:function(){var e=ts(Xi)[0],t=Vi().memoizedState;return["boolean"==typeof e?e:Yi(e),t]},useSyncExternalStore:ns,useId:Qs,useHostTransitionStatus:Us,useFormState:As,useActionState:As,useOptimistic:function(e,t){var n=Vi();return null!==Ti?cs(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Ki,useCacheRefresh:qs},ra=null,oa=0;function ia(e){var t=oa;return oa+=1,null===ra&&(ra=[]),si(ra,e,t)}function sa(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function aa(e,t){throw t.$$typeof===u?Error(r(525)):(e=Object.prototype.toString.call(t),Error(r(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function la(e){return(0,e._init)(e._payload)}function ca(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function o(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(e,t){return(e=$r(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=67108866,n):r:(t.flags|=67108866,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Jr(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var o=n.type;return o===p?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"==typeof o&&null!==o&&o.$$typeof===S&&la(o)===t.type)?(sa(t=i(t,n.props),n),t.return=e,t):(sa(t=Vr(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Kr(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,o){return null===t||7!==t.tag?((t=Yr(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function m(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t||"bigint"==typeof t)return(t=Jr(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case d:return sa(n=Vr(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case h:return(t=Kr(t,e.mode,n)).return=e,t;case S:return m(e,t=(0,t._init)(t._payload),n)}if(H(t)||I(t))return(t=Yr(t,e.mode,n,null)).return=e,t;if("function"==typeof t.then)return m(e,ia(t),n);if(t.$$typeof===y)return m(e,Fo(e,t),n);aa(e,t)}return null}function g(e,t,n,r){var o=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n||"bigint"==typeof n)return null!==o?null:l(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case d:return n.key===o?c(e,t,n,r):null;case h:return n.key===o?u(e,t,n,r):null;case S:return g(e,t,n=(o=n._init)(n._payload),r)}if(H(n)||I(n))return null!==o?null:f(e,t,n,r,null);if("function"==typeof n.then)return g(e,t,ia(n),r);if(n.$$typeof===y)return g(e,t,Fo(e,n),r);aa(e,n)}return null}function b(e,t,n,r,o){if("string"==typeof r&&""!==r||"number"==typeof r||"bigint"==typeof r)return l(t,e=e.get(n)||null,""+r,o);if("object"==typeof r&&null!==r){switch(r.$$typeof){case d:return c(t,e=e.get(null===r.key?n:r.key)||null,r,o);case h:return u(t,e=e.get(null===r.key?n:r.key)||null,r,o);case S:return b(e,t,n,r=(0,r._init)(r._payload),o)}if(H(r)||I(r))return f(t,e=e.get(n)||null,r,o,null);if("function"==typeof r.then)return b(e,t,n,ia(r),o);if(r.$$typeof===y)return b(e,t,n,Fo(t,r),o);aa(t,r)}return null}function w(l,c,u,f){if("object"==typeof u&&null!==u&&u.type===p&&null===u.key&&(u=u.props.children),"object"==typeof u&&null!==u){switch(u.$$typeof){case d:e:{for(var v=u.key;null!==c;){if(c.key===v){if((v=u.type)===p){if(7===c.tag){n(l,c.sibling),(f=i(c,u.props.children)).return=l,l=f;break e}}else if(c.elementType===v||"object"==typeof v&&null!==v&&v.$$typeof===S&&la(v)===c.type){n(l,c.sibling),sa(f=i(c,u.props),u),f.return=l,l=f;break e}n(l,c);break}t(l,c),c=c.sibling}u.type===p?((f=Yr(u.props.children,l.mode,f,u.key)).return=l,l=f):(sa(f=Vr(u.type,u.key,u.props,null,l.mode,f),u),f.return=l,l=f)}return a(l);case h:e:{for(v=u.key;null!==c;){if(c.key===v){if(4===c.tag&&c.stateNode.containerInfo===u.containerInfo&&c.stateNode.implementation===u.implementation){n(l,c.sibling),(f=i(c,u.children||[])).return=l,l=f;break e}n(l,c);break}t(l,c),c=c.sibling}(f=Kr(u,l.mode,f)).return=l,l=f}return a(l);case S:return w(l,c,u=(v=u._init)(u._payload),f)}if(H(u))return function(r,i,a,l){for(var c=null,u=null,d=i,h=i=0,p=null;null!==d&&h<a.length;h++){d.index>h?(p=d,d=null):p=d.sibling;var f=g(r,d,a[h],l);if(null===f){null===d&&(d=p);break}e&&d&&null===f.alternate&&t(r,d),i=s(f,i,h),null===u?c=f:u.sibling=f,u=f,d=p}if(h===a.length)return n(r,d),fo&&ao(r,h),c;if(null===d){for(;h<a.length;h++)null!==(d=m(r,a[h],l))&&(i=s(d,i,h),null===u?c=d:u.sibling=d,u=d);return fo&&ao(r,h),c}for(d=o(d);h<a.length;h++)null!==(p=b(d,r,h,a[h],l))&&(e&&null!==p.alternate&&d.delete(null===p.key?h:p.key),i=s(p,i,h),null===u?c=p:u.sibling=p,u=p);return e&&d.forEach(function(e){return t(r,e)}),fo&&ao(r,h),c}(l,c,u,f);if(I(u)){if("function"!=typeof(v=I(u)))throw Error(r(150));return function(i,a,l,c){if(null==l)throw Error(r(151));for(var u=null,d=null,h=a,p=a=0,f=null,w=l.next();null!==h&&!w.done;p++,w=l.next()){h.index>p?(f=h,h=null):f=h.sibling;var y=g(i,h,w.value,c);if(null===y){null===h&&(h=f);break}e&&h&&null===y.alternate&&t(i,h),a=s(y,a,p),null===d?u=y:d.sibling=y,d=y,h=f}if(w.done)return n(i,h),fo&&ao(i,p),u;if(null===h){for(;!w.done;p++,w=l.next())null!==(w=m(i,w.value,c))&&(a=s(w,a,p),null===d?u=w:d.sibling=w,d=w);return fo&&ao(i,p),u}for(h=o(h);!w.done;p++,w=l.next())null!==(w=b(h,i,p,w.value,c))&&(e&&null!==w.alternate&&h.delete(null===w.key?p:w.key),a=s(w,a,p),null===d?u=w:d.sibling=w,d=w);return e&&h.forEach(function(e){return t(i,e)}),fo&&ao(i,p),u}(l,c,u=v.call(u),f)}if("function"==typeof u.then)return w(l,c,ia(u),f);if(u.$$typeof===y)return w(l,c,Fo(l,u),f);aa(l,u)}return"string"==typeof u&&""!==u||"number"==typeof u||"bigint"==typeof u?(u=""+u,null!==c&&6===c.tag?(n(l,c.sibling),(f=i(c,u)).return=l,l=f):(n(l,c),(f=Jr(u,l.mode,f)).return=l,l=f),a(l)):n(l,c)}return function(e,t,n,r){try{oa=0;var o=w(e,t,n,r);return ra=null,o}catch(t){if(t===ei||t===ni)throw t;var i=qr(29,t,null,e.mode);return i.lanes=r,i.return=e,i}}}var ua=ca(!0),da=ca(!1),ha=G(null),pa=null;function fa(e){var t=e.alternate;Y(wa,1&wa.current),Y(ha,e),null===pa&&(null===t||null!==_i.current||null!==t.memoizedState)&&(pa=e)}function ma(e){if(22===e.tag){if(Y(wa,wa.current),Y(ha,e),null===pa){var t=e.alternate;null!==t&&null!==t.memoizedState&&(pa=e)}}else ga()}function ga(){Y(wa,wa.current),Y(ha,ha.current)}function ba(e){V(ha),pa===e&&(pa=null),V(wa)}var wa=G(0);function ya(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||Sd(n)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(128&t.flags)return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function va(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:c({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Aa={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Uc(),o=pi(r);o.payload=t,null!=n&&(o.callback=n),null!==(t=fi(e,o,r))&&(qc(t,0,r),mi(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Uc(),o=pi(r);o.tag=1,o.payload=t,null!=n&&(o.callback=n),null!==(t=fi(e,o,r))&&(qc(t,0,r),mi(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Uc(),r=pi(n);r.tag=2,null!=t&&(r.callback=t),null!==(t=fi(e,r,n))&&(qc(t,0,n),mi(t,e,n))}};function _a(e,t,n,r,o,i,s){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,s):!(t.prototype&&t.prototype.isPureReactComponent&&or(n,r)&&or(o,i))}function xa(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Aa.enqueueReplaceState(t,t.state,null)}function Sa(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var o in n===t&&(n=c({},n)),e)void 0===n[o]&&(n[o]=e[o]);return n}var Ea="function"==typeof reportError?reportError:function(e){if("object"==typeof window&&"function"==typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"==typeof e&&null!==e&&"string"==typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"==typeof process&&"function"==typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function Ca(e){Ea(e)}function ka(e){console.error(e)}function Oa(e){Ea(e)}function Ta(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(e){setTimeout(function(){throw e})}}function Ia(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(e){setTimeout(function(){throw e})}}function Ba(e,t,n){return(n=pi(n)).tag=3,n.payload={element:null},n.callback=function(){Ta(e,t)},n}function Ma(e){return(e=pi(e)).tag=3,e}function Pa(e,t,n,r){var o=n.type.getDerivedStateFromError;if("function"==typeof o){var i=r.value;e.payload=function(){return o(i)},e.callback=function(){Ia(t,n,r)}}var s=n.stateNode;null!==s&&"function"==typeof s.componentDidCatch&&(e.callback=function(){Ia(t,n,r),"function"!=typeof o&&(null===Mc?Mc=new Set([this]):Mc.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var ja=Error(r(461)),Na=!1;function Fa(e,t,n,r){t.child=null===e?da(t,null,n,r):ua(t,e.child,n,r)}function Da(e,t,n,r,o){n=n.render;var i=t.ref;if("ref"in r){var s={};for(var a in r)"ref"!==a&&(s[a]=r[a])}else s=r;return jo(t),r=zi(e,t,n,s,i,o),a=qi(),null===e||Na?(fo&&a&&co(t),t.flags|=1,Fa(e,t,r,o),t.child):(Wi(e,t,o),rl(e,t,o))}function Ra(e,t,n,r,o){if(null===e){var i=n.type;return"function"!=typeof i||Wr(i)||void 0!==i.defaultProps||null!==n.compare?((e=Vr(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,La(e,t,i,r,o))}if(i=e.child,!ol(e,o)){var s=i.memoizedProps;if((n=null!==(n=n.compare)?n:or)(s,r)&&e.ref===t.ref)return rl(e,t,o)}return t.flags|=1,(e=$r(i,r)).ref=t.ref,e.return=t,t.child=e}function La(e,t,n,r,o){if(null!==e){var i=e.memoizedProps;if(or(i,r)&&e.ref===t.ref){if(Na=!1,t.pendingProps=r=i,!ol(e,o))return t.lanes=e.lanes,rl(e,t,o);131072&e.flags&&(Na=!0)}}return Qa(e,t,n,r,o)}function za(e,t,n){var r=t.pendingProps,o=r.children,i=null!==e?e.memoizedState:null;if("hidden"===r.mode){if(128&t.flags){if(r=null!==i?i.baseLanes|n:n,null!==e){for(o=t.child=e.child,i=0;null!==o;)i=i|o.lanes|o.childLanes,o=o.sibling;t.childLanes=i&~r}else t.childLanes=0,t.child=null;return Ha(e,t,r,n)}if(!(536870912&n))return t.lanes=t.childLanes=536870912,Ha(e,t,null!==i?i.baseLanes|n:n,n);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Xo(0,null!==i?i.cachePool:null),null!==i?Si(t,i):Ei(),ma(t)}else null!==i?(Xo(0,i.cachePool),Si(t,i),ga(),t.memoizedState=null):(null!==e&&Xo(0,null),Ei(),ga());return Fa(e,t,o,n),t.child}function Ha(e,t,n,r){var o=Ko();return o=null===o?null:{parent:Ho._currentValue,pool:o},t.memoizedState={baseLanes:n,cachePool:o},null!==e&&Xo(0,null),Ei(),ma(t),null!==e&&Mo(e,t,r,!0),null}function Ua(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!=typeof n&&"object"!=typeof n)throw Error(r(284));(null===e||e.ref!==n)&&(t.flags|=4194816)}}function Qa(e,t,n,r,o){return jo(t),n=zi(e,t,n,r,void 0,o),r=qi(),null===e||Na?(fo&&r&&co(t),t.flags|=1,Fa(e,t,n,o),t.child):(Wi(e,t,o),rl(e,t,o))}function qa(e,t,n,r,o,i){return jo(t),t.updateQueue=null,n=Ui(t,r,n,o),Hi(e),r=qi(),null===e||Na?(fo&&r&&co(t),t.flags|=1,Fa(e,t,n,i),t.child):(Wi(e,t,i),rl(e,t,i))}function Wa(e,t,n,r,o){if(jo(t),null===t.stateNode){var i=Ur,s=n.contextType;"object"==typeof s&&null!==s&&(i=No(s)),i=new n(r,i),t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,i.updater=Aa,t.stateNode=i,i._reactInternals=t,(i=t.stateNode).props=r,i.state=t.memoizedState,i.refs={},di(t),s=n.contextType,i.context="object"==typeof s&&null!==s?No(s):Ur,i.state=t.memoizedState,"function"==typeof(s=n.getDerivedStateFromProps)&&(va(t,n,s,r),i.state=t.memoizedState),"function"==typeof n.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(s=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),s!==i.state&&Aa.enqueueReplaceState(i,i.state,null),yi(t,r,i,o),wi(),i.state=t.memoizedState),"function"==typeof i.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){i=t.stateNode;var a=t.memoizedProps,l=Sa(n,a);i.props=l;var c=i.context,u=n.contextType;s=Ur,"object"==typeof u&&null!==u&&(s=No(u));var d=n.getDerivedStateFromProps;u="function"==typeof d||"function"==typeof i.getSnapshotBeforeUpdate,a=t.pendingProps!==a,u||"function"!=typeof i.UNSAFE_componentWillReceiveProps&&"function"!=typeof i.componentWillReceiveProps||(a||c!==s)&&xa(t,i,r,s),ui=!1;var h=t.memoizedState;i.state=h,yi(t,r,i,o),wi(),c=t.memoizedState,a||h!==c||ui?("function"==typeof d&&(va(t,n,d,r),c=t.memoizedState),(l=ui||_a(t,n,l,r,h,c,s))?(u||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||("function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"==typeof i.componentDidMount&&(t.flags|=4194308)):("function"==typeof i.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),i.props=r,i.state=c,i.context=s,r=l):("function"==typeof i.componentDidMount&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,hi(e,t),u=Sa(n,s=t.memoizedProps),i.props=u,d=t.pendingProps,h=i.context,c=n.contextType,l=Ur,"object"==typeof c&&null!==c&&(l=No(c)),(c="function"==typeof(a=n.getDerivedStateFromProps)||"function"==typeof i.getSnapshotBeforeUpdate)||"function"!=typeof i.UNSAFE_componentWillReceiveProps&&"function"!=typeof i.componentWillReceiveProps||(s!==d||h!==l)&&xa(t,i,r,l),ui=!1,h=t.memoizedState,i.state=h,yi(t,r,i,o),wi();var p=t.memoizedState;s!==d||h!==p||ui||null!==e&&null!==e.dependencies&&Po(e.dependencies)?("function"==typeof a&&(va(t,n,a,r),p=t.memoizedState),(u=ui||_a(t,n,u,r,h,p,l)||null!==e&&null!==e.dependencies&&Po(e.dependencies))?(c||"function"!=typeof i.UNSAFE_componentWillUpdate&&"function"!=typeof i.componentWillUpdate||("function"==typeof i.componentWillUpdate&&i.componentWillUpdate(r,p,l),"function"==typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(r,p,l)),"function"==typeof i.componentDidUpdate&&(t.flags|=4),"function"==typeof i.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof i.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof i.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),i.props=r,i.state=p,i.context=l,r=u):("function"!=typeof i.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof i.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return i=r,Ua(e,t),r=!!(128&t.flags),i||r?(i=t.stateNode,n=r&&"function"!=typeof n.getDerivedStateFromError?null:i.render(),t.flags|=1,null!==e&&r?(t.child=ua(t,e.child,null,o),t.child=ua(t,null,n,o)):Fa(e,t,n,o),t.memoizedState=i.state,e=t.child):e=rl(e,t,o),e}function $a(e,t,n,r){return _o(),t.flags|=256,Fa(e,t,n,r),t.child}var Ga={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Va(e){return{baseLanes:e,cachePool:Zo()}}function Ya(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=Sc),e}function Ja(e,t,n){var o,i=t.pendingProps,s=!1,a=!!(128&t.flags);if((o=a)||(o=(null===e||null!==e.memoizedState)&&!!(2&wa.current)),o&&(s=!0,t.flags&=-129),o=!!(32&t.flags),t.flags&=-33,null===e){if(fo){if(s?fa(t):ga(),fo){var l,c=po;if(l=c){e:{for(l=c,c=go;8!==l.nodeType;){if(!c){c=null;break e}if(null===(l=Ed(l.nextSibling))){c=null;break e}}c=l}null!==c?(t.memoizedState={dehydrated:c,treeContext:null!==oo?{id:io,overflow:so}:null,retryLane:536870912,hydrationErrors:null},(l=qr(18,null,null,0)).stateNode=c,l.return=t,t.child=l,ho=t,po=null,l=!0):l=!1}l||wo(t)}if(null!==(c=t.memoizedState)&&null!==(c=c.dehydrated))return Sd(c)?t.lanes=32:t.lanes=536870912,null;ba(t)}return c=i.children,i=i.fallback,s?(ga(),c=Xa({mode:"hidden",children:c},s=t.mode),i=Yr(i,s,n,null),c.return=t,i.return=t,c.sibling=i,t.child=c,(s=t.child).memoizedState=Va(n),s.childLanes=Ya(e,o,n),t.memoizedState=Ga,i):(fa(t),Ka(t,c))}if(null!==(l=e.memoizedState)&&null!==(c=l.dehydrated)){if(a)256&t.flags?(fa(t),t.flags&=-257,t=Za(e,t,n)):null!==t.memoizedState?(ga(),t.child=e.child,t.flags|=128,t=null):(ga(),s=i.fallback,c=t.mode,i=Xa({mode:"visible",children:i.children},c),(s=Yr(s,c,n,null)).flags|=2,i.return=t,s.return=t,i.sibling=s,t.child=i,ua(t,e.child,null,n),(i=t.child).memoizedState=Va(n),i.childLanes=Ya(e,o,n),t.memoizedState=Ga,t=s);else if(fa(t),Sd(c)){if(o=c.nextSibling&&c.nextSibling.dataset)var u=o.dgst;o=u,(i=Error(r(419))).stack="",i.digest=o,So({value:i,source:null,stack:null}),t=Za(e,t,n)}else if(Na||Mo(e,t,n,!1),o=0!==(n&e.childLanes),Na||o){if(null!==(o=dc)&&0!==(i=0!==((i=42&(i=n&-n)?1:Fe(i))&(o.suspendedLanes|n))?0:i)&&i!==l.retryLane)throw l.retryLane=i,Lr(e,i),qc(o,0,i),ja;"$?"===c.data||tu(),t=Za(e,t,n)}else"$?"===c.data?(t.flags|=192,t.child=e.child,t=null):(e=l.treeContext,po=Ed(c.nextSibling),ho=t,fo=!0,mo=null,go=!1,null!==e&&(no[ro++]=io,no[ro++]=so,no[ro++]=oo,io=e.id,so=e.overflow,oo=t),(t=Ka(t,i.children)).flags|=4096);return t}return s?(ga(),s=i.fallback,c=t.mode,u=(l=e.child).sibling,(i=$r(l,{mode:"hidden",children:i.children})).subtreeFlags=65011712&l.subtreeFlags,null!==u?s=$r(u,s):(s=Yr(s,c,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,null===(c=e.child.memoizedState)?c=Va(n):(null!==(l=c.cachePool)?(u=Ho._currentValue,l=l.parent!==u?{parent:u,pool:u}:l):l=Zo(),c={baseLanes:c.baseLanes|n,cachePool:l}),s.memoizedState=c,s.childLanes=Ya(e,o,n),t.memoizedState=Ga,i):(fa(t),e=(n=e.child).sibling,(n=$r(n,{mode:"visible",children:i.children})).return=t,n.sibling=null,null!==e&&(null===(o=t.deletions)?(t.deletions=[e],t.flags|=16):o.push(e)),t.child=n,t.memoizedState=null,n)}function Ka(e,t){return(t=Xa({mode:"visible",children:t},e.mode)).return=e,e.child=t}function Xa(e,t){return(e=qr(22,e,null,t)).lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Za(e,t,n){return ua(t,e.child,null,n),(e=Ka(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function el(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Io(e.return,t,n)}function tl(e,t,n,r,o){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=o)}function nl(e,t,n){var r=t.pendingProps,o=r.revealOrder,i=r.tail;if(Fa(e,t,r.children,n),2&(r=wa.current))r=1&r|2,t.flags|=128;else{if(null!==e&&128&e.flags)e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&el(e,n,t);else if(19===e.tag)el(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}switch(Y(wa,r),o){case"forwards":for(n=t.child,o=null;null!==n;)null!==(e=n.alternate)&&null===ya(e)&&(o=n),n=n.sibling;null===(n=o)?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),tl(t,!1,o,n,i);break;case"backwards":for(n=null,o=t.child,t.child=null;null!==o;){if(null!==(e=o.alternate)&&null===ya(e)){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}tl(t,!0,n,null,i);break;case"together":tl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function rl(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ac|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(Mo(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(r(153));if(null!==t.child){for(n=$r(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=$r(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function ol(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!Po(e))}function il(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)Na=!0;else{if(!(ol(e,n)||128&t.flags))return Na=!1,function(e,t,n){switch(t.tag){case 3:ee(t,t.stateNode.containerInfo),Oo(0,Ho,e.memoizedState.cache),_o();break;case 27:case 5:ne(t);break;case 4:ee(t,t.stateNode.containerInfo);break;case 10:Oo(0,t.type,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(fa(t),t.flags|=128,null):0!==(n&t.child.childLanes)?Ja(e,t,n):(fa(t),null!==(e=rl(e,t,n))?e.sibling:null);fa(t);break;case 19:var o=!!(128&e.flags);if((r=0!==(n&t.childLanes))||(Mo(e,t,n,!1),r=0!==(n&t.childLanes)),o){if(r)return nl(e,t,n);t.flags|=128}if(null!==(o=t.memoizedState)&&(o.rendering=null,o.tail=null,o.lastEffect=null),Y(wa,wa.current),r)break;return null;case 22:case 23:return t.lanes=0,za(e,t,n);case 24:Oo(0,Ho,e.memoizedState.cache)}return rl(e,t,n)}(e,t,n);Na=!!(131072&e.flags)}else Na=!1,fo&&1048576&t.flags&&lo(t,to,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var o=t.elementType,i=o._init;if(o=i(o._payload),t.type=o,"function"!=typeof o){if(null!=o){if((i=o.$$typeof)===v){t.tag=11,t=Da(null,t,o,e,n);break e}if(i===x){t.tag=14,t=Ra(null,t,o,e,n);break e}}throw t=z(o)||o,Error(r(306,t,""))}Wr(o)?(e=Sa(o,e),t.tag=1,t=Wa(null,t,o,e,n)):(t.tag=0,t=Qa(null,t,o,e,n))}return t;case 0:return Qa(e,t,t.type,t.pendingProps,n);case 1:return Wa(e,t,o=t.type,i=Sa(o,t.pendingProps),n);case 3:e:{if(ee(t,t.stateNode.containerInfo),null===e)throw Error(r(387));o=t.pendingProps;var s=t.memoizedState;i=s.element,hi(e,t),yi(t,o,null,n);var a=t.memoizedState;if(o=a.cache,Oo(0,Ho,o),o!==s.cache&&Bo(t,[Ho],n,!0),wi(),o=a.element,s.isDehydrated){if(s={element:o,isDehydrated:!1,cache:a.cache},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=$a(e,t,o,n);break e}if(o!==i){So(i=Mr(Error(r(424)),t)),t=$a(e,t,o,n);break e}for(e=9===(e=t.stateNode.containerInfo).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,po=Ed(e.firstChild),ho=t,fo=!0,mo=null,go=!0,n=da(t,null,o,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(_o(),o===i){t=rl(e,t,n);break e}Fa(e,t,o,n)}t=t.child}return t;case 26:return Ua(e,t),null===e?(n=Fd(t.type,null,t.pendingProps,null))?t.memoizedState=n:fo||(n=t.type,e=t.pendingProps,(o=dd(X.current).createElement(n))[ze]=t,o[He]=e,ld(o,n,e),Ze(o),t.stateNode=o):t.memoizedState=Fd(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return ne(t),null===e&&fo&&(o=t.stateNode=Od(t.type,t.pendingProps,X.current),ho=t,go=!0,i=po,Ad(t.type)?(Cd=i,po=Ed(o.firstChild)):po=i),Fa(e,t,t.pendingProps.children,n),Ua(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&fo&&((i=o=po)&&(o=function(e,t,n,r){for(;1===e.nodeType;){var o=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[Ge])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(i=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(i!==o.rel||e.getAttribute("href")!==(null==o.href||""===o.href?null:o.href)||e.getAttribute("crossorigin")!==(null==o.crossOrigin?null:o.crossOrigin)||e.getAttribute("title")!==(null==o.title?null:o.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((i=e.getAttribute("src"))!==(null==o.src?null:o.src)||e.getAttribute("type")!==(null==o.type?null:o.type)||e.getAttribute("crossorigin")!==(null==o.crossOrigin?null:o.crossOrigin))&&i&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var i=null==o.name?null:""+o.name;if("hidden"===o.type&&e.getAttribute("name")===i)return e}if(null===(e=Ed(e.nextSibling)))break}return null}(o,t.type,t.pendingProps,go),null!==o?(t.stateNode=o,ho=t,po=Ed(o.firstChild),go=!1,i=!0):i=!1),i||wo(t)),ne(t),i=t.type,s=t.pendingProps,a=null!==e?e.memoizedProps:null,o=s.children,fd(i,s)?o=null:null!==a&&fd(i,a)&&(t.flags|=32),null!==t.memoizedState&&(i=zi(e,t,Qi,null,null,n),nh._currentValue=i),Ua(e,t),Fa(e,t,o,n),t.child;case 6:return null===e&&fo&&((e=n=po)&&(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;)if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n||null===(e=Ed(e.nextSibling)))return null;return e}(n,t.pendingProps,go),null!==n?(t.stateNode=n,ho=t,po=null,e=!0):e=!1),e||wo(t)),null;case 13:return Ja(e,t,n);case 4:return ee(t,t.stateNode.containerInfo),o=t.pendingProps,null===e?t.child=ua(t,null,o,n):Fa(e,t,o,n),t.child;case 11:return Da(e,t,t.type,t.pendingProps,n);case 7:return Fa(e,t,t.pendingProps,n),t.child;case 8:case 12:return Fa(e,t,t.pendingProps.children,n),t.child;case 10:return o=t.pendingProps,Oo(0,t.type,o.value),Fa(e,t,o.children,n),t.child;case 9:return i=t.type._context,o=t.pendingProps.children,jo(t),o=o(i=No(i)),t.flags|=1,Fa(e,t,o,n),t.child;case 14:return Ra(e,t,t.type,t.pendingProps,n);case 15:return La(e,t,t.type,t.pendingProps,n);case 19:return nl(e,t,n);case 31:return o=t.pendingProps,n=t.mode,o={mode:o.mode,children:o.children},null===e?((n=Xa(o,n)).ref=t.ref,t.child=n,n.return=t,t=n):((n=$r(e.child,o)).ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return za(e,t,n);case 24:return jo(t),o=No(Ho),null===e?(null===(i=Ko())&&(i=dc,s=Uo(),i.pooledCache=s,s.refCount++,null!==s&&(i.pooledCacheLanes|=n),i=s),t.memoizedState={parent:o,cache:i},di(t),Oo(0,Ho,i)):(0!==(e.lanes&n)&&(hi(e,t),yi(t,null,null,n),wi()),i=e.memoizedState,s=t.memoizedState,i.parent!==o?(i={parent:o,cache:o},t.memoizedState=i,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=i),Oo(0,Ho,o)):(o=s.cache,Oo(0,Ho,o),o!==i.cache&&Bo(t,[Ho],n,!0))),Fa(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(r(156,t.tag))}function sl(e){e.flags|=4}function al(e,t){if("stylesheet"!==t.type||4&t.state.loading)e.flags&=-16777217;else if(e.flags|=16777216,!Yd(t)){if(null!==(t=ha.current)&&((4194048&pc)===pc?null!==pa:(62914560&pc)!==pc&&!(536870912&pc)||t!==pa))throw ai=ri,ti;e.flags|=8192}}function ll(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?Be():536870912,e.lanes|=t,Ec|=t)}function cl(e,t){if(!fo)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ul(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;null!==o;)n|=o.lanes|o.childLanes,r|=65011712&o.subtreeFlags,r|=65011712&o.flags,o.return=e,o=o.sibling;else for(o=e.child;null!==o;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function dl(e,t,n){var o=t.pendingProps;switch(uo(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return ul(t),null;case 3:return n=t.stateNode,o=null,null!==e&&(o=e.memoizedState.cache),t.memoizedState.cache!==o&&(t.flags|=2048),To(Ho),te(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(null===e||null===e.child)&&(Ao(t)?sl(t):null===e||e.memoizedState.isDehydrated&&!(256&t.flags)||(t.flags|=1024,xo())),ul(t),null;case 26:return n=t.memoizedState,null===e?(sl(t),null!==n?(ul(t),al(t,n)):(ul(t),t.flags&=-16777217)):n?n!==e.memoizedState?(sl(t),ul(t),al(t,n)):(ul(t),t.flags&=-16777217):(e.memoizedProps!==o&&sl(t),ul(t),t.flags&=-16777217),null;case 27:re(t),n=X.current;var i=t.type;if(null!==e&&null!=t.stateNode)e.memoizedProps!==o&&sl(t);else{if(!o){if(null===t.stateNode)throw Error(r(166));return ul(t),null}e=J.current,Ao(t)?yo(t):(e=Od(i,o,n),t.stateNode=e,sl(t))}return ul(t),null;case 5:if(re(t),n=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==o&&sl(t);else{if(!o){if(null===t.stateNode)throw Error(r(166));return ul(t),null}if(e=J.current,Ao(t))yo(t);else{switch(i=dd(X.current),e){case 1:e=i.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=i.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":(e=i.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e="string"==typeof o.is?i.createElement("select",{is:o.is}):i.createElement("select"),o.multiple?e.multiple=!0:o.size&&(e.size=o.size);break;default:e="string"==typeof o.is?i.createElement(n,{is:o.is}):i.createElement(n)}}e[ze]=t,e[He]=o;e:for(i=t.child;null!==i;){if(5===i.tag||6===i.tag)e.appendChild(i.stateNode);else if(4!==i.tag&&27!==i.tag&&null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;null===i.sibling;){if(null===i.return||i.return===t)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}t.stateNode=e;e:switch(ld(e,n,o),n){case"button":case"input":case"select":case"textarea":e=!!o.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&sl(t)}}return ul(t),t.flags&=-16777217,null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==o&&sl(t);else{if("string"!=typeof o&&null===t.stateNode)throw Error(r(166));if(e=X.current,Ao(t)){if(e=t.stateNode,n=t.memoizedProps,o=null,null!==(i=ho))switch(i.tag){case 27:case 5:o=i.memoizedProps}e[ze]=t,(e=!!(e.nodeValue===n||null!==o&&!0===o.suppressHydrationWarning||od(e.nodeValue,n)))||wo(t)}else(e=dd(e).createTextNode(o))[ze]=t,t.stateNode=e}return ul(t),null;case 13:if(o=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(i=Ao(t),null!==o&&null!==o.dehydrated){if(null===e){if(!i)throw Error(r(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(r(317));i[ze]=t}else _o(),!(128&t.flags)&&(t.memoizedState=null),t.flags|=4;ul(t),i=!1}else i=xo(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=i),i=!0;if(!i)return 256&t.flags?(ba(t),t):(ba(t),null)}if(ba(t),128&t.flags)return t.lanes=n,t;if(n=null!==o,e=null!==e&&null!==e.memoizedState,n){i=null,null!==(o=t.child).alternate&&null!==o.alternate.memoizedState&&null!==o.alternate.memoizedState.cachePool&&(i=o.alternate.memoizedState.cachePool.pool);var s=null;null!==o.memoizedState&&null!==o.memoizedState.cachePool&&(s=o.memoizedState.cachePool.pool),s!==i&&(o.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),ll(t,t.updateQueue),ul(t),null;case 4:return te(),null===e&&Vu(t.stateNode.containerInfo),ul(t),null;case 10:return To(t.type),ul(t),null;case 19:if(V(wa),null===(i=t.memoizedState))return ul(t),null;if(o=!!(128&t.flags),null===(s=i.rendering))if(o)cl(i,!1);else{if(0!==vc||null!==e&&128&e.flags)for(e=t.child;null!==e;){if(null!==(s=ya(e))){for(t.flags|=128,cl(i,!1),e=s.updateQueue,t.updateQueue=e,ll(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)Gr(n,e),n=n.sibling;return Y(wa,1&wa.current|2),t.child}e=e.sibling}null!==i.tail&&ce()>Ic&&(t.flags|=128,o=!0,cl(i,!1),t.lanes=4194304)}else{if(!o)if(null!==(e=ya(s))){if(t.flags|=128,o=!0,e=e.updateQueue,t.updateQueue=e,ll(t,e),cl(i,!0),null===i.tail&&"hidden"===i.tailMode&&!s.alternate&&!fo)return ul(t),null}else 2*ce()-i.renderingStartTime>Ic&&536870912!==n&&(t.flags|=128,o=!0,cl(i,!1),t.lanes=4194304);i.isBackwards?(s.sibling=t.child,t.child=s):(null!==(e=i.last)?e.sibling=s:t.child=s,i.last=s)}return null!==i.tail?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=ce(),t.sibling=null,e=wa.current,Y(wa,o?1&e|2:1&e),t):(ul(t),null);case 22:case 23:return ba(t),Ci(),o=null!==t.memoizedState,null!==e?null!==e.memoizedState!==o&&(t.flags|=8192):o&&(t.flags|=8192),o?!!(536870912&n)&&!(128&t.flags)&&(ul(t),6&t.subtreeFlags&&(t.flags|=8192)):ul(t),null!==(n=t.updateQueue)&&ll(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),o=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(o=t.memoizedState.cachePool.pool),o!==n&&(t.flags|=2048),null!==e&&V(Jo),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),To(Ho),ul(t),null;case 25:case 30:return null}throw Error(r(156,t.tag))}function hl(e,t){switch(uo(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return To(Ho),te(),65536&(e=t.flags)&&!(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return re(t),null;case 13:if(ba(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(r(340));_o()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return V(wa),null;case 4:return te(),null;case 10:return To(t.type),null;case 22:case 23:return ba(t),Ci(),null!==e&&V(Jo),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return To(Ho),null;default:return null}}function pl(e,t){switch(uo(t),t.tag){case 3:To(Ho),te();break;case 26:case 27:case 5:re(t);break;case 4:te();break;case 13:ba(t);break;case 19:V(wa);break;case 10:To(t.type);break;case 22:case 23:ba(t),Ci(),null!==e&&V(Jo);break;case 24:To(Ho)}}function fl(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var o=r.next;n=o;do{if((n.tag&e)===e){r=void 0;var i=n.create,s=n.inst;r=i(),s.destroy=r}n=n.next}while(n!==o)}}catch(e){wu(t,t.return,e)}}function ml(e,t,n){try{var r=t.updateQueue,o=null!==r?r.lastEffect:null;if(null!==o){var i=o.next;r=i;do{if((r.tag&e)===e){var s=r.inst,a=s.destroy;if(void 0!==a){s.destroy=void 0,o=t;var l=n,c=a;try{c()}catch(e){wu(o,l,e)}}}r=r.next}while(r!==i)}}catch(e){wu(t,t.return,e)}}function gl(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{Ai(t,n)}catch(t){wu(e,e.return,t)}}}function bl(e,t,n){n.props=Sa(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(n){wu(e,t,n)}}function wl(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;default:r=e.stateNode}"function"==typeof n?e.refCleanup=n(r):n.current=r}}catch(n){wu(e,t,n)}}function yl(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"==typeof r)try{r()}catch(n){wu(e,t,n)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"==typeof n)try{n(null)}catch(n){wu(e,t,n)}else n.current=null}function vl(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(t){wu(e,e.return,t)}}function Al(e,t,n){try{var o=e.stateNode;(function(e,t,n,o){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,s=null,a=null,l=null,c=null,u=null,d=null;for(f in n){var h=n[f];if(n.hasOwnProperty(f)&&null!=h)switch(f){case"checked":case"value":break;case"defaultValue":c=h;default:o.hasOwnProperty(f)||sd(e,t,f,null,o,h)}}for(var p in o){var f=o[p];if(h=n[p],o.hasOwnProperty(p)&&(null!=f||null!=h))switch(p){case"type":s=f;break;case"name":i=f;break;case"checked":u=f;break;case"defaultChecked":d=f;break;case"value":a=f;break;case"defaultValue":l=f;break;case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(r(137,t));break;default:f!==h&&sd(e,t,p,f,o,h)}}return void St(e,a,l,c,u,d,s,i);case"select":for(s in f=a=l=p=null,n)if(c=n[s],n.hasOwnProperty(s)&&null!=c)switch(s){case"value":break;case"multiple":f=c;default:o.hasOwnProperty(s)||sd(e,t,s,null,o,c)}for(i in o)if(s=o[i],c=n[i],o.hasOwnProperty(i)&&(null!=s||null!=c))switch(i){case"value":p=s;break;case"defaultValue":l=s;break;case"multiple":a=s;default:s!==c&&sd(e,t,i,s,o,c)}return t=l,n=a,o=f,void(null!=p?kt(e,!!n,p,!1):!!o!=!!n&&(null!=t?kt(e,!!n,t,!0):kt(e,!!n,n?[]:"",!1)));case"textarea":for(l in f=p=null,n)if(i=n[l],n.hasOwnProperty(l)&&null!=i&&!o.hasOwnProperty(l))switch(l){case"value":case"children":break;default:sd(e,t,l,null,o,i)}for(a in o)if(i=o[a],s=n[a],o.hasOwnProperty(a)&&(null!=i||null!=s))switch(a){case"value":p=i;break;case"defaultValue":f=i;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=i)throw Error(r(91));break;default:i!==s&&sd(e,t,a,i,o,s)}return void Ot(e,p,f);case"option":for(var m in n)p=n[m],n.hasOwnProperty(m)&&null!=p&&!o.hasOwnProperty(m)&&("selected"===m?e.selected=!1:sd(e,t,m,null,o,p));for(c in o)p=o[c],f=n[c],!o.hasOwnProperty(c)||p===f||null==p&&null==f||("selected"===c?e.selected=p&&"function"!=typeof p&&"symbol"!=typeof p:sd(e,t,c,p,o,f));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in n)p=n[g],n.hasOwnProperty(g)&&null!=p&&!o.hasOwnProperty(g)&&sd(e,t,g,null,o,p);for(u in o)if(p=o[u],f=n[u],o.hasOwnProperty(u)&&p!==f&&(null!=p||null!=f))switch(u){case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(r(137,t));break;default:sd(e,t,u,p,o,f)}return;default:if(jt(t)){for(var b in n)p=n[b],n.hasOwnProperty(b)&&void 0!==p&&!o.hasOwnProperty(b)&&ad(e,t,b,void 0,o,p);for(d in o)p=o[d],f=n[d],!o.hasOwnProperty(d)||p===f||void 0===p&&void 0===f||ad(e,t,d,p,o,f);return}}for(var w in n)p=n[w],n.hasOwnProperty(w)&&null!=p&&!o.hasOwnProperty(w)&&sd(e,t,w,null,o,p);for(h in o)p=o[h],f=n[h],!o.hasOwnProperty(h)||p===f||null==p&&null==f||sd(e,t,h,p,o,f)})(o,e.type,n,t),o[He]=t}catch(t){wu(e,e.return,t)}}function _l(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&Ad(e.type)||4===e.tag}function xl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||_l(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&Ad(e.type)||2&e.flags||null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function Sl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=id));else if(4!==r&&(27===r&&Ad(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(Sl(e,t,n),e=e.sibling;null!==e;)Sl(e,t,n),e=e.sibling}function El(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&(27===r&&Ad(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(El(e,t,n),e=e.sibling;null!==e;)El(e,t,n),e=e.sibling}function Cl(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,o=t.attributes;o.length;)t.removeAttributeNode(o[0]);ld(t,r,n),t[ze]=e,t[He]=n}catch(t){wu(e,e.return,t)}}var kl=!1,Ol=!1,Tl=!1,Il="function"==typeof WeakSet?WeakSet:Set,Bl=null;function Ml(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Wl(e,n),4&r&&fl(5,n);break;case 1:if(Wl(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(e){wu(n,n.return,e)}else{var o=Sa(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(o,t,e.__reactInternalSnapshotBeforeUpdate)}catch(e){wu(n,n.return,e)}}64&r&&gl(n),512&r&&wl(n,n.return);break;case 3:if(Wl(e,n),64&r&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{Ai(e,t)}catch(e){wu(n,n.return,e)}}break;case 27:null===t&&4&r&&Cl(n);case 26:case 5:Wl(e,n),null===t&&4&r&&vl(n),512&r&&wl(n,n.return);break;case 12:Wl(e,n);break;case 13:Wl(e,n),4&r&&Rl(e,n),64&r&&null!==(e=n.memoizedState)&&null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$?"!==e.data||"complete"===n.readyState)t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}(e,n=_u.bind(null,n));break;case 22:if(!(r=null!==n.memoizedState||kl)){t=null!==t&&null!==t.memoizedState||Ol,o=kl;var i=Ol;kl=r,(Ol=t)&&!i?Gl(e,n,!!(8772&n.subtreeFlags)):Wl(e,n),kl=o,Ol=i}break;case 30:break;default:Wl(e,n)}}function Pl(e){var t=e.alternate;null!==t&&(e.alternate=null,Pl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&null!==(t=e.stateNode)&&Ve(t),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var jl=null,Nl=!1;function Fl(e,t,n){for(n=n.child;null!==n;)Dl(e,t,n),n=n.sibling}function Dl(e,t,n){if(ye&&"function"==typeof ye.onCommitFiberUnmount)try{ye.onCommitFiberUnmount(we,n)}catch{}switch(n.tag){case 26:Ol||yl(n,t),Fl(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:Ol||yl(n,t);var r=jl,o=Nl;Ad(n.type)&&(jl=n.stateNode,Nl=!1),Fl(e,t,n),Td(n.stateNode),jl=r,Nl=o;break;case 5:Ol||yl(n,t);case 6:if(r=jl,o=Nl,jl=null,Fl(e,t,n),Nl=o,null!==(jl=r))if(Nl)try{(9===jl.nodeType?jl.body:"HTML"===jl.nodeName?jl.ownerDocument.body:jl).removeChild(n.stateNode)}catch(e){wu(n,t,e)}else try{jl.removeChild(n.stateNode)}catch(e){wu(n,t,e)}break;case 18:null!==jl&&(Nl?(_d(9===(e=jl).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),Nh(e)):_d(jl,n.stateNode));break;case 4:r=jl,o=Nl,jl=n.stateNode.containerInfo,Nl=!0,Fl(e,t,n),jl=r,Nl=o;break;case 0:case 11:case 14:case 15:Ol||ml(2,n,t),Ol||ml(4,n,t),Fl(e,t,n);break;case 1:Ol||(yl(n,t),"function"==typeof(r=n.stateNode).componentWillUnmount&&bl(n,t,r)),Fl(e,t,n);break;case 21:Fl(e,t,n);break;case 22:Ol=(r=Ol)||null!==n.memoizedState,Fl(e,t,n),Ol=r;break;default:Fl(e,t,n)}}function Rl(e,t){if(null===t.memoizedState&&null!==(e=t.alternate)&&null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))try{Nh(e)}catch(e){wu(t,t.return,e)}}function Ll(e,t){var n=function(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new Il),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new Il),t;default:throw Error(r(435,e.tag))}}(e);t.forEach(function(t){var r=xu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}function zl(e,t){var n=t.deletions;if(null!==n)for(var o=0;o<n.length;o++){var i=n[o],s=e,a=t,l=a;e:for(;null!==l;){switch(l.tag){case 27:if(Ad(l.type)){jl=l.stateNode,Nl=!1;break e}break;case 5:jl=l.stateNode,Nl=!1;break e;case 3:case 4:jl=l.stateNode.containerInfo,Nl=!0;break e}l=l.return}if(null===jl)throw Error(r(160));Dl(s,a,i),jl=null,Nl=!1,null!==(s=i.alternate)&&(s.return=null),i.return=null}if(13878&t.subtreeFlags)for(t=t.child;null!==t;)Ul(t,e),t=t.sibling}var Hl=null;function Ul(e,t){var n=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:zl(t,e),Ql(e),4&o&&(ml(3,e,e.return),fl(3,e),ml(5,e,e.return));break;case 1:zl(t,e),Ql(e),512&o&&(Ol||null===n||yl(n,n.return)),64&o&&kl&&null!==(e=e.updateQueue)&&null!==(o=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?o:n.concat(o));break;case 26:var i=Hl;if(zl(t,e),Ql(e),512&o&&(Ol||null===n||yl(n,n.return)),4&o){var s=null!==n?n.memoizedState:null;if(o=e.memoizedState,null===n)if(null===o)if(null===e.stateNode){e:{o=e.type,n=e.memoizedProps,i=i.ownerDocument||i;t:switch(o){case"title":(!(s=i.getElementsByTagName("title")[0])||s[Ge]||s[ze]||"http://www.w3.org/2000/svg"===s.namespaceURI||s.hasAttribute("itemprop"))&&(s=i.createElement(o),i.head.insertBefore(s,i.querySelector("head > title"))),ld(s,o,n),s[ze]=e,Ze(s),o=s;break e;case"link":var a=Gd("link","href",i).get(o+(n.href||""));if(a)for(var l=0;l<a.length;l++)if((s=a[l]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&s.getAttribute("rel")===(null==n.rel?null:n.rel)&&s.getAttribute("title")===(null==n.title?null:n.title)&&s.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){a.splice(l,1);break t}ld(s=i.createElement(o),o,n),i.head.appendChild(s);break;case"meta":if(a=Gd("meta","content",i).get(o+(n.content||"")))for(l=0;l<a.length;l++)if((s=a[l]).getAttribute("content")===(null==n.content?null:""+n.content)&&s.getAttribute("name")===(null==n.name?null:n.name)&&s.getAttribute("property")===(null==n.property?null:n.property)&&s.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&s.getAttribute("charset")===(null==n.charSet?null:n.charSet)){a.splice(l,1);break t}ld(s=i.createElement(o),o,n),i.head.appendChild(s);break;default:throw Error(r(468,o))}s[ze]=e,Ze(s),o=s}e.stateNode=o}else Vd(i,e.type,e.stateNode);else e.stateNode=Ud(i,o,e.memoizedProps);else s!==o?(null===s?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):s.count--,null===o?Vd(i,e.type,e.stateNode):Ud(i,o,e.memoizedProps)):null===o&&null!==e.stateNode&&Al(e,e.memoizedProps,n.memoizedProps)}break;case 27:zl(t,e),Ql(e),512&o&&(Ol||null===n||yl(n,n.return)),null!==n&&4&o&&Al(e,e.memoizedProps,n.memoizedProps);break;case 5:if(zl(t,e),Ql(e),512&o&&(Ol||null===n||yl(n,n.return)),32&e.flags){i=e.stateNode;try{It(i,"")}catch(t){wu(e,e.return,t)}}4&o&&null!=e.stateNode&&Al(e,i=e.memoizedProps,null!==n?n.memoizedProps:i),1024&o&&(Tl=!0);break;case 6:if(zl(t,e),Ql(e),4&o){if(null===e.stateNode)throw Error(r(162));o=e.memoizedProps,n=e.stateNode;try{n.nodeValue=o}catch(t){wu(e,e.return,t)}}break;case 3:if($d=null,i=Hl,Hl=Md(t.containerInfo),zl(t,e),Hl=i,Ql(e),4&o&&null!==n&&n.memoizedState.isDehydrated)try{Nh(t.containerInfo)}catch(t){wu(e,e.return,t)}Tl&&(Tl=!1,ql(e));break;case 4:o=Hl,Hl=Md(e.stateNode.containerInfo),zl(t,e),Ql(e),Hl=o;break;case 12:default:zl(t,e),Ql(e);break;case 13:zl(t,e),Ql(e),8192&e.child.flags&&null!==e.memoizedState!=(null!==n&&null!==n.memoizedState)&&(Tc=ce()),4&o&&null!==(o=e.updateQueue)&&(e.updateQueue=null,Ll(e,o));break;case 22:i=null!==e.memoizedState;var c=null!==n&&null!==n.memoizedState,u=kl,d=Ol;if(kl=u||i,Ol=d||c,zl(t,e),Ol=d,kl=u,Ql(e),8192&o)e:for(t=e.stateNode,t._visibility=i?-2&t._visibility:1|t._visibility,i&&(null===n||c||kl||Ol||$l(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){c=n=t;try{if(s=c.stateNode,i)"function"==typeof(a=s.style).setProperty?a.setProperty("display","none","important"):a.display="none";else{l=c.stateNode;var h=c.memoizedProps.style,p=null!=h&&h.hasOwnProperty("display")?h.display:null;l.style.display=null==p||"boolean"==typeof p?"":(""+p).trim()}}catch(e){wu(c,c.return,e)}}}else if(6===t.tag){if(null===n){c=t;try{c.stateNode.nodeValue=i?"":c.memoizedProps}catch(e){wu(c,c.return,e)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&o&&null!==(o=e.updateQueue)&&null!==(n=o.retryQueue)&&(o.retryQueue=null,Ll(e,n));break;case 19:zl(t,e),Ql(e),4&o&&null!==(o=e.updateQueue)&&(e.updateQueue=null,Ll(e,o));case 30:case 21:}}function Ql(e){var t=e.flags;if(2&t){try{for(var n,o=e.return;null!==o;){if(_l(o)){n=o;break}o=o.return}if(null==n)throw Error(r(160));switch(n.tag){case 27:var i=n.stateNode;El(e,xl(e),i);break;case 5:var s=n.stateNode;32&n.flags&&(It(s,""),n.flags&=-33),El(e,xl(e),s);break;case 3:case 4:var a=n.stateNode.containerInfo;Sl(e,xl(e),a);break;default:throw Error(r(161))}}catch(t){wu(e,e.return,t)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function ql(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;ql(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Wl(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)Ml(e,t.alternate,t),t=t.sibling}function $l(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:ml(4,t,t.return),$l(t);break;case 1:yl(t,t.return);var n=t.stateNode;"function"==typeof n.componentWillUnmount&&bl(t,t.return,n),$l(t);break;case 27:Td(t.stateNode);case 26:case 5:yl(t,t.return),$l(t);break;case 22:null===t.memoizedState&&$l(t);break;default:$l(t)}e=e.sibling}}function Gl(e,t,n){for(n=n&&!!(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,o=e,i=t,s=i.flags;switch(i.tag){case 0:case 11:case 15:Gl(o,i,n),fl(4,i);break;case 1:if(Gl(o,i,n),"function"==typeof(o=(r=i).stateNode).componentDidMount)try{o.componentDidMount()}catch(e){wu(r,r.return,e)}if(null!==(o=(r=i).updateQueue)){var a=r.stateNode;try{var l=o.shared.hiddenCallbacks;if(null!==l)for(o.shared.hiddenCallbacks=null,o=0;o<l.length;o++)vi(l[o],a)}catch(e){wu(r,r.return,e)}}n&&64&s&&gl(i),wl(i,i.return);break;case 27:Cl(i);case 26:case 5:Gl(o,i,n),n&&null===r&&4&s&&vl(i),wl(i,i.return);break;case 12:Gl(o,i,n);break;case 13:Gl(o,i,n),n&&4&s&&Rl(o,i);break;case 22:null===i.memoizedState&&Gl(o,i,n),wl(i,i.return);break;case 30:break;default:Gl(o,i,n)}t=t.sibling}}function Vl(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Qo(n))}function Yl(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Qo(e))}function Jl(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)Kl(e,t,n,r),t=t.sibling}function Kl(e,t,n,r){var o=t.flags;switch(t.tag){case 0:case 11:case 15:Jl(e,t,n,r),2048&o&&fl(9,t);break;case 1:case 13:default:Jl(e,t,n,r);break;case 3:Jl(e,t,n,r),2048&o&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Qo(e)));break;case 12:if(2048&o){Jl(e,t,n,r),e=t.stateNode;try{var i=t.memoizedProps,s=i.id,a=i.onPostCommit;"function"==typeof a&&a(s,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(e){wu(t,t.return,e)}}else Jl(e,t,n,r);break;case 23:break;case 22:i=t.stateNode,s=t.alternate,null!==t.memoizedState?2&i._visibility?Jl(e,t,n,r):Zl(e,t):2&i._visibility?Jl(e,t,n,r):(i._visibility|=2,Xl(e,t,n,r,!!(10256&t.subtreeFlags))),2048&o&&Vl(s,t);break;case 24:Jl(e,t,n,r),2048&o&&Yl(t.alternate,t)}}function Xl(e,t,n,r,o){for(o=o&&!!(10256&t.subtreeFlags),t=t.child;null!==t;){var i=e,s=t,a=n,l=r,c=s.flags;switch(s.tag){case 0:case 11:case 15:Xl(i,s,a,l,o),fl(8,s);break;case 23:break;case 22:var u=s.stateNode;null!==s.memoizedState?2&u._visibility?Xl(i,s,a,l,o):Zl(i,s):(u._visibility|=2,Xl(i,s,a,l,o)),o&&2048&c&&Vl(s.alternate,s);break;case 24:Xl(i,s,a,l,o),o&&2048&c&&Yl(s.alternate,s);break;default:Xl(i,s,a,l,o)}t=t.sibling}}function Zl(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,o=r.flags;switch(r.tag){case 22:Zl(n,r),2048&o&&Vl(r.alternate,r);break;case 24:Zl(n,r),2048&o&&Yl(r.alternate,r);break;default:Zl(n,r)}t=t.sibling}}var ec=8192;function tc(e){if(e.subtreeFlags&ec)for(e=e.child;null!==e;)nc(e),e=e.sibling}function nc(e){switch(e.tag){case 26:tc(e),e.flags&ec&&null!==e.memoizedState&&function(e,t,n){if(null===Jd)throw Error(r(475));var o=Jd;if(!("stylesheet"!==t.type||"string"==typeof n.media&&!1===matchMedia(n.media).matches||4&t.state.loading)){if(null===t.instance){var i=Dd(n.href),s=e.querySelector(Rd(i));if(s)return null!==(e=s._p)&&"object"==typeof e&&"function"==typeof e.then&&(o.count++,o=Xd.bind(o),e.then(o,o)),t.state.loading|=4,t.instance=s,void Ze(s);s=e.ownerDocument||e,n=Ld(n),(i=Id.get(i))&&qd(n,i),Ze(s=s.createElement("link"));var a=s;a._p=new Promise(function(e,t){a.onload=e,a.onerror=t}),ld(s,"link",n),t.instance=s}null===o.stylesheets&&(o.stylesheets=new Map),o.stylesheets.set(t,e),(e=t.state.preload)&&!(3&t.state.loading)&&(o.count++,t=Xd.bind(o),e.addEventListener("load",t),e.addEventListener("error",t))}}(Hl,e.memoizedState,e.memoizedProps);break;case 5:default:tc(e);break;case 3:case 4:var t=Hl;Hl=Md(e.stateNode.containerInfo),tc(e),Hl=t;break;case 22:null===e.memoizedState&&(null!==(t=e.alternate)&&null!==t.memoizedState?(t=ec,ec=16777216,tc(e),ec=t):tc(e))}}function rc(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function oc(e){var t=e.deletions;if(16&e.flags){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Bl=r,ac(r,e)}rc(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)ic(e),e=e.sibling}function ic(e){switch(e.tag){case 0:case 11:case 15:oc(e),2048&e.flags&&ml(9,e,e.return);break;case 3:case 12:default:oc(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,sc(e)):oc(e)}}function sc(e){var t=e.deletions;if(16&e.flags){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Bl=r,ac(r,e)}rc(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:ml(8,t,t.return),sc(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,sc(t));break;default:sc(t)}e=e.sibling}}function ac(e,t){for(;null!==Bl;){var n=Bl;switch(n.tag){case 0:case 11:case 15:ml(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:Qo(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,Bl=r;else e:for(n=e;null!==Bl;){var o=(r=Bl).sibling,i=r.return;if(Pl(r),r===n){Bl=null;break e}if(null!==o){o.return=i,Bl=o;break e}Bl=i}}}var lc={getCacheForType:function(e){var t=No(Ho),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n}},cc="function"==typeof WeakMap?WeakMap:Map,uc=0,dc=null,hc=null,pc=0,fc=0,mc=null,gc=!1,bc=!1,wc=!1,yc=0,vc=0,Ac=0,_c=0,xc=0,Sc=0,Ec=0,Cc=null,kc=null,Oc=!1,Tc=0,Ic=1/0,Bc=null,Mc=null,Pc=0,jc=null,Nc=null,Fc=0,Dc=0,Rc=null,Lc=null,zc=0,Hc=null;function Uc(){return 2&uc&&0!==pc?pc&-pc:null!==U.T?0!==$o?$o:Du():Re()}function Qc(){0===Sc&&(Sc=536870912&pc&&!fo?536870912:Ie());var e=ha.current;return null!==e&&(e.flags|=32),Sc}function qc(e,t,n){(e===dc&&(2===fc||9===fc)||null!==e.cancelPendingCommit)&&(Kc(e,0),Vc(e,pc,Sc,!1)),Pe(e,n),(!(2&uc)||e!==dc)&&(e===dc&&(!(2&uc)&&(_c|=n),4===vc&&Vc(e,pc,Sc,!1)),Iu(e))}function Wc(e,t,n){if(6&uc)throw Error(r(327));for(var o=!n&&!(124&t)&&0===(t&e.expiredLanes)||Oe(e,t),i=o?function(e,t){var n=uc;uc|=2;var o=Zc(),i=eu();dc!==e||pc!==t?(Bc=null,Ic=ce()+500,Kc(e,t)):bc=Oe(e,t);e:for(;;)try{if(0!==fc&&null!==hc){t=hc;var s=mc;t:switch(fc){case 1:fc=0,mc=null,au(e,t,s,1);break;case 2:case 9:if(oi(s)){fc=0,mc=null,su(t);break}t=function(){2!==fc&&9!==fc||dc!==e||(fc=7),Iu(e)},s.then(t,t);break e;case 3:fc=7;break e;case 4:fc=5;break e;case 7:oi(s)?(fc=0,mc=null,su(t)):(fc=0,mc=null,au(e,t,s,7));break;case 5:var a=null;switch(hc.tag){case 26:a=hc.memoizedState;case 5:case 27:var l=hc;if(!a||Yd(a)){fc=0,mc=null;var c=l.sibling;if(null!==c)hc=c;else{var u=l.return;null!==u?(hc=u,lu(u)):hc=null}break t}}fc=0,mc=null,au(e,t,s,5);break;case 6:fc=0,mc=null,au(e,t,s,6);break;case 8:Jc(),vc=6;break e;default:throw Error(r(462))}}ou();break}catch(t){Xc(e,t)}return ko=Co=null,U.H=o,U.A=i,uc=n,null!==hc?0:(dc=null,pc=0,Fr(),vc)}(e,t):nu(e,t,!0),s=o;;){if(0===i){bc&&!o&&Vc(e,t,0,!1);break}if(n=e.current.alternate,!s||Gc(n)){if(2===i){if(s=t,e.errorRecoveryDisabledLanes&s)var a=0;else a=0!=(a=-536870913&e.pendingLanes)?a:536870912&a?536870912:0;if(0!==a){t=a;e:{var l=e;i=Cc;var c=l.current.memoizedState.isDehydrated;if(c&&(Kc(l,a).flags|=256),2!==(a=nu(l,a,!1))){if(wc&&!c){l.errorRecoveryDisabledLanes|=s,_c|=s,i=4;break e}s=kc,kc=i,null!==s&&(null===kc?kc=s:kc.push.apply(kc,s))}i=a}if(s=!1,2!==i)continue}}if(1===i){Kc(e,0),Vc(e,t,0,!0);break}e:{switch(o=e,s=i){case 0:case 1:throw Error(r(345));case 4:if((4194048&t)!==t)break;case 6:Vc(o,t,Sc,!gc);break e;case 2:kc=null;break;case 3:case 5:break;default:throw Error(r(329))}if((62914560&t)===t&&10<(i=Tc+300-ce())){if(Vc(o,t,Sc,!gc),0!==ke(o,0,!0))break e;o.timeoutHandle=gd($c.bind(null,o,n,kc,Bc,Oc,t,Sc,_c,Ec,gc,s,2,-0,0),i)}else $c(o,n,kc,Bc,Oc,t,Sc,_c,Ec,gc,s,0,-0,0)}break}i=nu(e,t,!1),s=!1}Iu(e)}function $c(e,t,n,o,i,s,a,l,c,u,d,h,p,f){if(e.timeoutHandle=-1,(8192&(h=t.subtreeFlags)||!(16785408&~h))&&(Jd={stylesheets:null,count:0,unsuspend:Kd},nc(t),h=function(){if(null===Jd)throw Error(r(475));var e=Jd;return e.stylesheets&&0===e.count&&eh(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&eh(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}(),null!==h))return e.cancelPendingCommit=h(uu.bind(null,e,t,s,n,o,i,a,l,c,d,1,p,f)),void Vc(e,s,a,!u);uu(e,t,s,n,o,i,a,l,c)}function Gc(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&null!==(n=t.updateQueue)&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var o=n[r],i=o.getSnapshot;o=o.value;try{if(!rr(i(),o))return!1}catch{return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Vc(e,t,n,r){t&=~xc,t&=~_c,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var o=t;0<o;){var i=31-Ae(o),s=1<<i;r[i]=-1,o&=~s}0!==n&&je(e,n,t)}function Yc(){return!!(6&uc)||(Bu(0),!1)}function Jc(){if(null!==hc){if(0===fc)var e=hc.return;else ko=Co=null,$i(e=hc),ra=null,oa=0,e=hc;for(;null!==e;)pl(e.alternate,e),e=e.return;hc=null}}function Kc(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,bd(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),Jc(),dc=e,hc=n=$r(e.current,null),pc=t,fc=0,mc=null,gc=!1,bc=Oe(e,t),wc=!1,Ec=Sc=xc=_c=Ac=vc=0,kc=Cc=null,Oc=!1,8&t&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var o=31-Ae(r),i=1<<o;t|=e[o],r&=~i}return yc=t,Fr(),n}function Xc(e,t){Oi=null,U.H=Zs,t===ei||t===ni?(t=li(),fc=3):t===ti?(t=li(),fc=4):fc=t===ja?8:null!==t&&"object"==typeof t&&"function"==typeof t.then?6:1,mc=t,null===hc&&(vc=1,Ta(e,Mr(t,e.current)))}function Zc(){var e=U.H;return U.H=Zs,null===e?Zs:e}function eu(){var e=U.A;return U.A=lc,e}function tu(){vc=4,gc||(4194048&pc)!==pc&&null!==ha.current||(bc=!0),!(134217727&Ac)&&!(134217727&_c)||null===dc||Vc(dc,pc,Sc,!1)}function nu(e,t,n){var r=uc;uc|=2;var o=Zc(),i=eu();(dc!==e||pc!==t)&&(Bc=null,Kc(e,t)),t=!1;var s=vc;e:for(;;)try{if(0!==fc&&null!==hc){var a=hc,l=mc;switch(fc){case 8:Jc(),s=6;break e;case 3:case 2:case 9:case 6:null===ha.current&&(t=!0);var c=fc;if(fc=0,mc=null,au(e,a,l,c),n&&bc){s=0;break e}break;default:c=fc,fc=0,mc=null,au(e,a,l,c)}}ru(),s=vc;break}catch(t){Xc(e,t)}return t&&e.shellSuspendCounter++,ko=Co=null,uc=r,U.H=o,U.A=i,null===hc&&(dc=null,pc=0,Fr()),s}function ru(){for(;null!==hc;)iu(hc)}function ou(){for(;null!==hc&&!ae();)iu(hc)}function iu(e){var t=il(e.alternate,e,yc);e.memoizedProps=e.pendingProps,null===t?lu(e):hc=t}function su(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=qa(n,t,t.pendingProps,t.type,void 0,pc);break;case 11:t=qa(n,t,t.pendingProps,t.type.render,t.ref,pc);break;case 5:$i(t);default:pl(n,t),t=il(n,t=hc=Gr(t,yc),yc)}e.memoizedProps=e.pendingProps,null===t?lu(e):hc=t}function au(e,t,n,o){ko=Co=null,$i(t),ra=null,oa=0;var i=t.return;try{if(function(e,t,n,o,i){if(n.flags|=32768,null!==o&&"object"==typeof o&&"function"==typeof o.then){if(null!==(t=n.alternate)&&Mo(t,n,i,!0),null!==(n=ha.current)){switch(n.tag){case 13:return null===pa?tu():null===n.alternate&&0===vc&&(vc=3),n.flags&=-257,n.flags|=65536,n.lanes=i,o===ri?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([o]):t.add(o),yu(e,o,i)),!1;case 22:return n.flags|=65536,o===ri?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([o])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([o]):n.add(o),yu(e,o,i)),!1}throw Error(r(435,n.tag))}return yu(e,o,i),tu(),!1}if(fo)return null!==(t=ha.current)?(!(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=i,o!==bo&&So(Mr(e=Error(r(422),{cause:o}),n))):(o!==bo&&So(Mr(t=Error(r(423),{cause:o}),n)),(e=e.current.alternate).flags|=65536,i&=-i,e.lanes|=i,o=Mr(o,n),gi(e,i=Ba(e.stateNode,o,i)),4!==vc&&(vc=2)),!1;var s=Error(r(520),{cause:o});if(s=Mr(s,n),null===Cc?Cc=[s]:Cc.push(s),4!==vc&&(vc=2),null===t)return!0;o=Mr(o,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=i&-i,n.lanes|=e,gi(n,e=Ba(n.stateNode,o,e)),!1;case 1:if(t=n.type,s=n.stateNode,!(128&n.flags||"function"!=typeof t.getDerivedStateFromError&&(null===s||"function"!=typeof s.componentDidCatch||null!==Mc&&Mc.has(s))))return n.flags|=65536,i&=-i,n.lanes|=i,Pa(i=Ma(i),e,n,o),gi(n,i),!1}n=n.return}while(null!==n);return!1}(e,i,t,n,pc))return vc=1,Ta(e,Mr(n,e.current)),void(hc=null)}catch(t){if(null!==i)throw hc=i,t;return vc=1,Ta(e,Mr(n,e.current)),void(hc=null)}32768&t.flags?(fo||1===o?e=!0:bc||536870912&pc?e=!1:(gc=e=!0,(2===o||9===o||3===o||6===o)&&null!==(o=ha.current)&&13===o.tag&&(o.flags|=16384)),cu(t,e)):lu(t)}function lu(e){var t=e;do{if(32768&t.flags)return void cu(t,gc);e=t.return;var n=dl(t.alternate,t,yc);if(null!==n)return void(hc=n);if(null!==(t=t.sibling))return void(hc=t);hc=t=e}while(null!==t);0===vc&&(vc=5)}function cu(e,t){do{var n=hl(e.alternate,e);if(null!==n)return n.flags&=32767,void(hc=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(hc=e);hc=e=n}while(null!==e);vc=6,hc=null}function uu(e,t,n,o,i,s,a,l,c){e.cancelPendingCommit=null;do{mu()}while(0!==Pc);if(6&uc)throw Error(r(327));if(null!==t){if(t===e.current)throw Error(r(177));if(s=t.lanes|t.childLanes,function(e,t,n,r,o,i){var s=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var a=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(n=s&~n;0<n;){var u=31-Ae(n),d=1<<u;a[u]=0,l[u]=-1;var h=c[u];if(null!==h)for(c[u]=null,u=0;u<h.length;u++){var p=h[u];null!==p&&(p.lane&=-536870913)}n&=~d}0!==r&&je(e,r,0),0!==i&&0===o&&0!==e.tag&&(e.suspendedLanes|=i&~(s&~t))}(e,n,s|=Nr,a,l,c),e===dc&&(hc=dc=null,pc=0),Nc=t,jc=e,Fc=n,Dc=s,Rc=i,Lc=o,10256&t.subtreeFlags||10256&t.flags?(e.callbackNode=null,e.callbackPriority=0,function(e){ie(e,function(){return gu(),null})}(pe)):(e.callbackNode=null,e.callbackPriority=0),o=!!(13878&t.flags),13878&t.subtreeFlags||o){o=U.T,U.T=null,i=Q.p,Q.p=2,a=uc,uc|=4;try{!function(e,t){if(e=e.containerInfo,cd=uh,cr(e=lr(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var o=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(o&&0!==o.rangeCount){n=o.anchorNode;var i=o.anchorOffset,s=o.focusNode;o=o.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var a=0,l=-1,c=-1,u=0,d=0,h=e,p=null;t:for(;;){for(var f;h!==n||0!==i&&3!==h.nodeType||(l=a+i),h!==s||0!==o&&3!==h.nodeType||(c=a+o),3===h.nodeType&&(a+=h.nodeValue.length),null!==(f=h.firstChild);)p=h,h=f;for(;;){if(h===e)break t;if(p===n&&++u===i&&(l=a),p===s&&++d===o&&(c=a),null!==(f=h.nextSibling))break;p=(h=p).parentNode}h=f}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ud={focusedElem:e,selectionRange:n},uh=!1,Bl=t;null!==Bl;)if(e=(t=Bl).child,1024&t.subtreeFlags&&null!==e)e.return=t,Bl=e;else for(;null!==Bl;){switch(s=(t=Bl).alternate,e=t.flags,t.tag){case 0:case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(1024&e&&null!==s){e=void 0,n=t,i=s.memoizedProps,s=s.memoizedState,o=n.stateNode;try{var m=Sa(n.type,i,(n.elementType,n.type));e=o.getSnapshotBeforeUpdate(m,s),o.__reactInternalSnapshotBeforeUpdate=e}catch(e){wu(n,n.return,e)}}break;case 3:if(1024&e)if(9===(n=(e=t.stateNode.containerInfo).nodeType))xd(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":xd(e);break;default:e.textContent=""}break;default:if(1024&e)throw Error(r(163))}if(null!==(e=t.sibling)){e.return=t.return,Bl=e;break}Bl=t.return}}(e,t)}finally{uc=a,Q.p=i,U.T=o}}Pc=1,du(),hu(),pu()}}function du(){if(1===Pc){Pc=0;var e=jc,t=Nc,n=!!(13878&t.flags);if(13878&t.subtreeFlags||n){n=U.T,U.T=null;var r=Q.p;Q.p=2;var o=uc;uc|=4;try{Ul(t,e);var i=ud,s=lr(e.containerInfo),a=i.focusedElem,l=i.selectionRange;if(s!==a&&a&&a.ownerDocument&&ar(a.ownerDocument.documentElement,a)){if(null!==l&&cr(a)){var c=l.start,u=l.end;if(void 0===u&&(u=c),"selectionStart"in a)a.selectionStart=c,a.selectionEnd=Math.min(u,a.value.length);else{var d=a.ownerDocument||document,h=d&&d.defaultView||window;if(h.getSelection){var p=h.getSelection(),f=a.textContent.length,m=Math.min(l.start,f),g=void 0===l.end?m:Math.min(l.end,f);!p.extend&&m>g&&(s=g,g=m,m=s);var b=sr(a,m),w=sr(a,g);if(b&&w&&(1!==p.rangeCount||p.anchorNode!==b.node||p.anchorOffset!==b.offset||p.focusNode!==w.node||p.focusOffset!==w.offset)){var y=d.createRange();y.setStart(b.node,b.offset),p.removeAllRanges(),m>g?(p.addRange(y),p.extend(w.node,w.offset)):(y.setEnd(w.node,w.offset),p.addRange(y))}}}}for(d=[],p=a;p=p.parentNode;)1===p.nodeType&&d.push({element:p,left:p.scrollLeft,top:p.scrollTop});for("function"==typeof a.focus&&a.focus(),a=0;a<d.length;a++){var v=d[a];v.element.scrollLeft=v.left,v.element.scrollTop=v.top}}uh=!!cd,ud=cd=null}finally{uc=o,Q.p=r,U.T=n}}e.current=t,Pc=2}}function hu(){if(2===Pc){Pc=0;var e=jc,t=Nc,n=!!(8772&t.flags);if(8772&t.subtreeFlags||n){n=U.T,U.T=null;var r=Q.p;Q.p=2;var o=uc;uc|=4;try{Ml(e,t.alternate,t)}finally{uc=o,Q.p=r,U.T=n}}Pc=3}}function pu(){if(4===Pc||3===Pc){Pc=0,le();var e=jc,t=Nc,n=Fc,r=Lc;10256&t.subtreeFlags||10256&t.flags?Pc=5:(Pc=0,Nc=jc=null,fu(e,e.pendingLanes));var o=e.pendingLanes;if(0===o&&(Mc=null),De(n),t=t.stateNode,ye&&"function"==typeof ye.onCommitFiberRoot)try{ye.onCommitFiberRoot(we,t,void 0,!(128&~t.current.flags))}catch{}if(null!==r){t=U.T,o=Q.p,Q.p=2,U.T=null;try{for(var i=e.onRecoverableError,s=0;s<r.length;s++){var a=r[s];i(a.value,{componentStack:a.stack})}}finally{U.T=t,Q.p=o}}!!(3&Fc)&&mu(),Iu(e),o=e.pendingLanes,4194090&n&&42&o?e===Hc?zc++:(zc=0,Hc=e):zc=0,Bu(0)}}function fu(e,t){0===(e.pooledCacheLanes&=t)&&null!=(t=e.pooledCache)&&(e.pooledCache=null,Qo(t))}function mu(e){return du(),hu(),pu(),gu()}function gu(){if(5!==Pc)return!1;var e=jc,t=Dc;Dc=0;var n=De(Fc),o=U.T,i=Q.p;try{Q.p=32>n?32:n,U.T=null,n=Rc,Rc=null;var s=jc,a=Fc;if(Pc=0,Nc=jc=null,Fc=0,6&uc)throw Error(r(331));var l=uc;if(uc|=4,ic(s.current),Kl(s,s.current,a,n),uc=l,Bu(0),ye&&"function"==typeof ye.onPostCommitFiberRoot)try{ye.onPostCommitFiberRoot(we,s)}catch{}return!0}finally{Q.p=i,U.T=o,fu(e,t)}}function bu(e,t,n){t=Mr(n,t),null!==(e=fi(e,t=Ba(e.stateNode,t,2),2))&&(Pe(e,2),Iu(e))}function wu(e,t,n){if(3===e.tag)bu(e,e,n);else for(;null!==t;){if(3===t.tag){bu(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Mc||!Mc.has(r))){e=Mr(n,e),null!==(r=fi(t,n=Ma(2),2))&&(Pa(n,r,t,e),Pe(r,2),Iu(r));break}}t=t.return}}function yu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new cc;var o=new Set;r.set(t,o)}else void 0===(o=r.get(t))&&(o=new Set,r.set(t,o));o.has(n)||(wc=!0,o.add(n),e=vu.bind(null,e,t,n),t.then(e,e))}function vu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,dc===e&&(pc&n)===n&&(4===vc||3===vc&&(62914560&pc)===pc&&300>ce()-Tc?!(2&uc)&&Kc(e,0):xc|=n,Ec===pc&&(Ec=0)),Iu(e)}function Au(e,t){0===t&&(t=Be()),null!==(e=Lr(e,t))&&(Pe(e,t),Iu(e))}function _u(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Au(e,n)}function xu(e,t){var n=0;switch(e.tag){case 13:var o=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(r(314))}null!==o&&o.delete(t),Au(e,n)}var Su=null,Eu=null,Cu=!1,ku=!1,Ou=!1,Tu=0;function Iu(e){e!==Eu&&null===e.next&&(null===Eu?Su=Eu=e:Eu=Eu.next=e),ku=!0,Cu||(Cu=!0,yd(function(){6&uc?ie(de,Mu):Pu()}))}function Bu(e,t){if(!Ou&&ku){Ou=!0;do{for(var n=!1,r=Su;null!==r;){if(0!==e){var o=r.pendingLanes;if(0===o)var i=0;else{var s=r.suspendedLanes,a=r.pingedLanes;i=(1<<31-Ae(42|e)+1)-1,i=201326741&(i&=o&~(s&~a))?201326741&i|1:i?2|i:0}0!==i&&(n=!0,Fu(r,i))}else i=pc,!(3&(i=ke(r,r===dc?i:0,null!==r.cancelPendingCommit||-1!==r.timeoutHandle)))||Oe(r,i)||(n=!0,Fu(r,i));r=r.next}}while(n);Ou=!1}}function Mu(){Pu()}function Pu(){ku=Cu=!1;var e=0;0!==Tu&&(function(){var e=window.event;return e&&"popstate"===e.type?e!==md&&(md=e,!0):(md=null,!1)}()&&(e=Tu),Tu=0);for(var t=ce(),n=null,r=Su;null!==r;){var o=r.next,i=ju(r,t);0===i?(r.next=null,null===n?Su=o:n.next=o,null===o&&(Eu=n)):(n=r,(0!==e||!!(3&i))&&(ku=!0)),r=o}Bu(e)}function ju(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,i=-62914561&e.pendingLanes;0<i;){var s=31-Ae(i),a=1<<s,l=o[s];-1===l?(0===(a&n)||0!==(a&r))&&(o[s]=Te(a,t)):l<=t&&(e.expiredLanes|=a),i&=~a}if(n=pc,n=ke(e,e===(t=dc)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),r=e.callbackNode,0===n||e===t&&(2===fc||9===fc)||null!==e.cancelPendingCommit)return null!==r&&null!==r&&se(r),e.callbackNode=null,e.callbackPriority=0;if(!(3&n)||Oe(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&se(r),De(n)){case 2:case 8:n=he;break;case 32:default:n=pe;break;case 268435456:n=me}return r=Nu.bind(null,e),n=ie(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&se(r),e.callbackPriority=2,e.callbackNode=null,2}function Nu(e,t){if(0!==Pc&&5!==Pc)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(mu()&&e.callbackNode!==n)return null;var r=pc;return 0===(r=ke(e,e===dc?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Wc(e,r,t),ju(e,ce()),null!=e.callbackNode&&e.callbackNode===n?Nu.bind(null,e):null)}function Fu(e,t){if(mu())return null;Wc(e,t,!0)}function Du(){return 0===Tu&&(Tu=Ie()),Tu}function Ru(e){return null==e||"symbol"==typeof e||"boolean"==typeof e?null:"function"==typeof e?e:Dt(""+e)}function Lu(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var zu=0;zu<Tr.length;zu++){var Hu=Tr[zu];Ir(Hu.toLowerCase(),"on"+(Hu[0].toUpperCase()+Hu.slice(1)))}Ir(Ar,"onAnimationEnd"),Ir(_r,"onAnimationIteration"),Ir(xr,"onAnimationStart"),Ir("dblclick","onDoubleClick"),Ir("focusin","onFocus"),Ir("focusout","onBlur"),Ir(Sr,"onTransitionRun"),Ir(Er,"onTransitionStart"),Ir(Cr,"onTransitionCancel"),Ir(kr,"onTransitionEnd"),rt("onMouseEnter",["mouseout","mouseover"]),rt("onMouseLeave",["mouseout","mouseover"]),rt("onPointerEnter",["pointerout","pointerover"]),rt("onPointerLeave",["pointerout","pointerover"]),nt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),nt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),nt("onBeforeInput",["compositionend","keypress","textInput","paste"]),nt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),nt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),nt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Uu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Qu=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Uu));function qu(e,t){t=!!(4&t);for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&o.isPropagationStopped())break e;i=a,o.currentTarget=c;try{i(o)}catch(e){Ea(e)}o.currentTarget=null,i=l}else for(s=0;s<r.length;s++){if(l=(a=r[s]).instance,c=a.currentTarget,a=a.listener,l!==i&&o.isPropagationStopped())break e;i=a,o.currentTarget=c;try{i(o)}catch(e){Ea(e)}o.currentTarget=null,i=l}}}}function Wu(e,t){var n=t[Qe];void 0===n&&(n=t[Qe]=new Set);var r=e+"__bubble";n.has(r)||(Yu(t,e,2,!1),n.add(r))}function $u(e,t,n){var r=0;t&&(r|=4),Yu(n,e,r,t)}var Gu="_reactListening"+Math.random().toString(36).slice(2);function Vu(e){if(!e[Gu]){e[Gu]=!0,et.forEach(function(t){"selectionchange"!==t&&(Qu.has(t)||$u(t,!1,e),$u(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Gu]||(t[Gu]=!0,$u("selectionchange",!1,t))}}function Yu(e,t,n,r){switch(bh(t)){case 2:var o=dh;break;case 8:o=hh;break;default:o=ph}n=o.bind(null,t,n,e),o=void 0,!Gt||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(o=!0),r?void 0!==o?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):void 0!==o?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function Ju(e,t,n,r,o){var s=r;if(!(1&t||2&t||null===r))e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var l=r.stateNode.containerInfo;if(l===o)break;if(4===a)for(a=r.return;null!==a;){var c=a.tag;if((3===c||4===c)&&a.stateNode.containerInfo===o)return;a=a.return}for(;null!==l;){if(null===(a=Ye(l)))return;if(5===(c=a.tag)||6===c||26===c||27===c){r=s=a;continue e}l=l.parentNode}}r=r.return}qt(function(){var r=s,o=Lt(n),a=[];e:{var l=Or.get(e);if(void 0!==l){var c=ln,u=e;switch(e){case"keypress":if(0===Zt(n))break e;case"keydown":case"keyup":c=xn;break;case"focusin":u="focus",c=fn;break;case"focusout":u="blur",c=fn;break;case"beforeblur":case"afterblur":c=fn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=hn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=pn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=En;break;case Ar:case _r:case xr:c=mn;break;case kr:c=Cn;break;case"scroll":case"scrollend":c=un;break;case"wheel":c=kn;break;case"copy":case"cut":case"paste":c=gn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=Sn;break;case"toggle":case"beforetoggle":c=On}var d=!!(4&t),h=!d&&("scroll"===e||"scrollend"===e),p=d?null!==l?l+"Capture":null:l;d=[];for(var f,m=r;null!==m;){var g=m;if(f=g.stateNode,5!==(g=g.tag)&&26!==g&&27!==g||null===f||null===p||null!=(g=Wt(m,p))&&d.push(Ku(m,g,f)),h)break;m=m.return}0<d.length&&(l=new c(l,u,null,n,o),a.push({event:l,listeners:d}))}}if(!(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(l="mouseover"===e||"pointerover"===e)||n===Rt||!(u=n.relatedTarget||n.fromElement)||!Ye(u)&&!u[Ue])&&(c||l)&&(l=o.window===o?o:(l=o.ownerDocument)?l.defaultView||l.parentWindow:window,c?(c=r,null!==(u=(u=n.relatedTarget||n.toElement)?Ye(u):null)&&(h=i(u),d=u.tag,u!==h||5!==d&&27!==d&&6!==d)&&(u=null)):(c=null,u=r),c!==u)){if(d=hn,g="onMouseLeave",p="onMouseEnter",m="mouse",("pointerout"===e||"pointerover"===e)&&(d=Sn,g="onPointerLeave",p="onPointerEnter",m="pointer"),h=null==c?l:Ke(c),f=null==u?l:Ke(u),(l=new d(g,m+"leave",c,n,o)).target=h,l.relatedTarget=f,g=null,Ye(o)===r&&((d=new d(p,m+"enter",u,n,o)).target=f,d.relatedTarget=h,g=d),h=g,c&&u)e:{for(p=u,m=0,f=d=c;f;f=Zu(f))m++;for(f=0,g=p;g;g=Zu(g))f++;for(;0<m-f;)d=Zu(d),m--;for(;0<f-m;)p=Zu(p),f--;for(;m--;){if(d===p||null!==p&&d===p.alternate)break e;d=Zu(d),p=Zu(p)}d=null}else d=null;null!==c&&ed(a,l,c,d,!1),null!==u&&null!==h&&ed(a,h,u,d,!0)}if("select"===(c=(l=r?Ke(r):window).nodeName&&l.nodeName.toLowerCase())||"input"===c&&"file"===l.type)var b=$n;else if(zn(l))if(Gn)b=nr;else{b=er;var w=Zn}else!(c=l.nodeName)||"input"!==c.toLowerCase()||"checkbox"!==l.type&&"radio"!==l.type?r&&jt(r.elementType)&&(b=$n):b=tr;switch(b&&(b=b(e,r))?Hn(a,b,n,o):(w&&w(e,l,r),"focusout"===e&&r&&"number"===l.type&&null!=r.memoizedProps.value&&Ct(l,"number",l.value)),w=r?Ke(r):window,e){case"focusin":(zn(w)||"true"===w.contentEditable)&&(dr=w,hr=r,pr=null);break;case"focusout":pr=hr=dr=null;break;case"mousedown":fr=!0;break;case"contextmenu":case"mouseup":case"dragend":fr=!1,mr(a,n,o);break;case"selectionchange":if(ur)break;case"keydown":case"keyup":mr(a,n,o)}var y;if(In)e:{switch(e){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else Rn?Fn(e,n)&&(v="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(v="onCompositionStart");v&&(Pn&&"ko"!==n.locale&&(Rn||"onCompositionStart"!==v?"onCompositionEnd"===v&&Rn&&(y=Xt()):(Jt="value"in(Yt=o)?Yt.value:Yt.textContent,Rn=!0)),0<(w=Xu(r,v)).length&&(v=new bn(v,e,null,n,o),a.push({event:v,listeners:w}),(y||null!==(y=Dn(n)))&&(v.data=y))),(y=Mn?function(e,t){switch(e){case"compositionend":return Dn(t);case"keypress":return 32!==t.which?null:(Nn=!0,jn);case"textInput":return(e=t.data)===jn&&Nn?null:e;default:return null}}(e,n):function(e,t){if(Rn)return"compositionend"===e||!In&&Fn(e,t)?(e=Xt(),Kt=Jt=Yt=null,Rn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Pn&&"ko"!==t.locale?null:t.data}}(e,n))&&0<(v=Xu(r,"onBeforeInput")).length&&(w=new bn("onBeforeInput","beforeinput",null,n,o),a.push({event:w,listeners:v}),w.data=y),function(e,t,n,r,o){if("submit"===t&&n&&n.stateNode===o){var i=Ru((o[He]||null).action),s=r.submitter;s&&null!==(t=(t=s[He]||null)?Ru(t.formAction):s.getAttribute("formAction"))&&(i=t,s=null);var a=new ln("action","action",null,r,o);e.push({event:a,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==Tu){var e=s?Lu(o,s):new FormData(o);Ls(n,{pending:!0,data:e,method:o.method,action:i},null,e)}}else"function"==typeof i&&(a.preventDefault(),e=s?Lu(o,s):new FormData(o),Ls(n,{pending:!0,data:e,method:o.method,action:i},i,e))},currentTarget:o}]})}}(a,e,r,n,o)}qu(a,t)})}function Ku(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Xu(e,t){for(var n=t+"Capture",r=[];null!==e;){var o=e,i=o.stateNode;if(5!==(o=o.tag)&&26!==o&&27!==o||null===i||(null!=(o=Wt(e,n))&&r.unshift(Ku(e,o,i)),null!=(o=Wt(e,t))&&r.push(Ku(e,o,i))),3===e.tag)return r;e=e.return}return[]}function Zu(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function ed(e,t,n,r,o){for(var i=t._reactName,s=[];null!==n&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(a=a.tag,null!==l&&l===r)break;5!==a&&26!==a&&27!==a||null===c||(l=c,o?null!=(c=Wt(n,i))&&s.unshift(Ku(n,c,l)):o||null!=(c=Wt(n,i))&&s.push(Ku(n,c,l))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var td=/\r\n?/g,nd=/\u0000|\uFFFD/g;function rd(e){return("string"==typeof e?e:""+e).replace(td,"\n").replace(nd,"")}function od(e,t){return t=rd(t),rd(e)===t}function id(){}function sd(e,t,n,o,i,s){switch(n){case"children":"string"==typeof o?"body"===t||"textarea"===t&&""===o||It(e,o):("number"==typeof o||"bigint"==typeof o)&&"body"!==t&&It(e,""+o);break;case"className":ut(e,"class",o);break;case"tabIndex":ut(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":ut(e,n,o);break;case"style":Pt(e,o,s);break;case"data":if("object"!==t){ut(e,"data",o);break}case"src":case"href":if(""===o&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==o||"function"==typeof o||"symbol"==typeof o||"boolean"==typeof o){e.removeAttribute(n);break}o=Dt(""+o),e.setAttribute(n,o);break;case"action":case"formAction":if("function"==typeof o){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"==typeof s&&("formAction"===n?("input"!==t&&sd(e,t,"name",i.name,i,null),sd(e,t,"formEncType",i.formEncType,i,null),sd(e,t,"formMethod",i.formMethod,i,null),sd(e,t,"formTarget",i.formTarget,i,null)):(sd(e,t,"encType",i.encType,i,null),sd(e,t,"method",i.method,i,null),sd(e,t,"target",i.target,i,null))),null==o||"symbol"==typeof o||"boolean"==typeof o){e.removeAttribute(n);break}o=Dt(""+o),e.setAttribute(n,o);break;case"onClick":null!=o&&(e.onclick=id);break;case"onScroll":null!=o&&Wu("scroll",e);break;case"onScrollEnd":null!=o&&Wu("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=o){if("object"!=typeof o||!("__html"in o))throw Error(r(61));if(null!=(n=o.__html)){if(null!=i.children)throw Error(r(60));e.innerHTML=n}}break;case"multiple":e.multiple=o&&"function"!=typeof o&&"symbol"!=typeof o;break;case"muted":e.muted=o&&"function"!=typeof o&&"symbol"!=typeof o;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==o||"function"==typeof o||"boolean"==typeof o||"symbol"==typeof o){e.removeAttribute("xlink:href");break}n=Dt(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=o&&"function"!=typeof o&&"symbol"!=typeof o?e.setAttribute(n,""+o):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&"function"!=typeof o&&"symbol"!=typeof o?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===o?e.setAttribute(n,""):!1!==o&&null!=o&&"function"!=typeof o&&"symbol"!=typeof o?e.setAttribute(n,o):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=o&&"function"!=typeof o&&"symbol"!=typeof o&&!isNaN(o)&&1<=o?e.setAttribute(n,o):e.removeAttribute(n);break;case"rowSpan":case"start":null==o||"function"==typeof o||"symbol"==typeof o||isNaN(o)?e.removeAttribute(n):e.setAttribute(n,o);break;case"popover":Wu("beforetoggle",e),Wu("toggle",e),ct(e,"popover",o);break;case"xlinkActuate":dt(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":dt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":dt(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":dt(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":dt(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":dt(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":dt(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":dt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":dt(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":ct(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&ct(e,n=Nt.get(n)||n,o)}}function ad(e,t,n,o,i,s){switch(n){case"style":Pt(e,o,s);break;case"dangerouslySetInnerHTML":if(null!=o){if("object"!=typeof o||!("__html"in o))throw Error(r(61));if(null!=(n=o.__html)){if(null!=i.children)throw Error(r(60));e.innerHTML=n}}break;case"children":"string"==typeof o?It(e,o):("number"==typeof o||"bigint"==typeof o)&&It(e,""+o);break;case"onScroll":null!=o&&Wu("scroll",e);break;case"onScrollEnd":null!=o&&Wu("scrollend",e);break;case"onClick":null!=o&&(e.onclick=id);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:tt.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(i=n.endsWith("Capture"),t=n.slice(2,i?n.length-7:void 0),"function"==typeof(s=null!=(s=e[He]||null)?s[n]:null)&&e.removeEventListener(t,s,i),"function"!=typeof o)?n in e?e[n]=o:!0===o?e.setAttribute(n,""):ct(e,n,o):("function"!=typeof s&&null!==s&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,o,i)))}}function ld(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Wu("error",e),Wu("load",e);var o,i=!1,s=!1;for(o in n)if(n.hasOwnProperty(o)){var a=n[o];if(null!=a)switch(o){case"src":i=!0;break;case"srcSet":s=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:sd(e,t,o,a,n,null)}}return s&&sd(e,t,"srcSet",n.srcSet,n,null),void(i&&sd(e,t,"src",n.src,n,null));case"input":Wu("invalid",e);var l=o=a=s=null,c=null,u=null;for(i in n)if(n.hasOwnProperty(i)){var d=n[i];if(null!=d)switch(i){case"name":s=d;break;case"type":a=d;break;case"checked":c=d;break;case"defaultChecked":u=d;break;case"value":o=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(null!=d)throw Error(r(137,t));break;default:sd(e,t,i,d,n,null)}}return Et(e,o,l,c,u,a,s,!1),void yt(e);case"select":for(s in Wu("invalid",e),i=a=o=null,n)if(n.hasOwnProperty(s)&&null!=(l=n[s]))switch(s){case"value":o=l;break;case"defaultValue":a=l;break;case"multiple":i=l;default:sd(e,t,s,l,n,null)}return t=o,n=a,e.multiple=!!i,void(null!=t?kt(e,!!i,t,!1):null!=n&&kt(e,!!i,n,!0));case"textarea":for(a in Wu("invalid",e),o=s=i=null,n)if(n.hasOwnProperty(a)&&null!=(l=n[a]))switch(a){case"value":i=l;break;case"defaultValue":s=l;break;case"children":o=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(r(91));break;default:sd(e,t,a,l,n,null)}return Tt(e,i,s,o),void yt(e);case"option":for(c in n)n.hasOwnProperty(c)&&null!=(i=n[c])&&("selected"===c?e.selected=i&&"function"!=typeof i&&"symbol"!=typeof i:sd(e,t,c,i,n,null));return;case"dialog":Wu("beforetoggle",e),Wu("toggle",e),Wu("cancel",e),Wu("close",e);break;case"iframe":case"object":Wu("load",e);break;case"video":case"audio":for(i=0;i<Uu.length;i++)Wu(Uu[i],e);break;case"image":Wu("error",e),Wu("load",e);break;case"details":Wu("toggle",e);break;case"embed":case"source":case"link":Wu("error",e),Wu("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&null!=(i=n[u]))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:sd(e,t,u,i,n,null)}return;default:if(jt(t)){for(d in n)n.hasOwnProperty(d)&&void 0!==(i=n[d])&&ad(e,t,d,i,n,void 0);return}}for(l in n)n.hasOwnProperty(l)&&null!=(i=n[l])&&sd(e,t,l,i,n,null)}var cd=null,ud=null;function dd(e){return 9===e.nodeType?e:e.ownerDocument}function hd(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function pd(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function fd(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"bigint"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var md=null,gd="function"==typeof setTimeout?setTimeout:void 0,bd="function"==typeof clearTimeout?clearTimeout:void 0,wd="function"==typeof Promise?Promise:void 0,yd="function"==typeof queueMicrotask?queueMicrotask:typeof wd<"u"?function(e){return wd.resolve(null).then(e).catch(vd)}:gd;function vd(e){setTimeout(function(){throw e})}function Ad(e){return"head"===e}function _d(e,t){var n=t,r=0,o=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0<r&&8>r){n=r;var s=e.ownerDocument;if(1&n&&Td(s.documentElement),2&n&&Td(s.body),4&n)for(Td(n=s.head),s=n.firstChild;s;){var a=s.nextSibling,l=s.nodeName;s[Ge]||"SCRIPT"===l||"STYLE"===l||"LINK"===l&&"stylesheet"===s.rel.toLowerCase()||n.removeChild(s),s=a}}if(0===o)return e.removeChild(i),void Nh(t);o--}else"$"===n||"$?"===n||"$!"===n?o++:r=n.charCodeAt(0)-48;else r=0;n=i}while(n);Nh(t)}function xd(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":xd(n),Ve(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function Sd(e){return"$!"===e.data||"$?"===e.data&&"complete"===e.ownerDocument.readyState}function Ed(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"F!"===t||"F"===t)break;if("/$"===t)return null}}return e}var Cd=null;function kd(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}function Od(e,t,n){switch(t=dd(n),e){case"html":if(!(e=t.documentElement))throw Error(r(452));return e;case"head":if(!(e=t.head))throw Error(r(453));return e;case"body":if(!(e=t.body))throw Error(r(454));return e;default:throw Error(r(451))}}function Td(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Ve(e)}var Id=new Map,Bd=new Set;function Md(e){return"function"==typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var Pd=Q.d;Q.d={f:function(){var e=Pd.f(),t=Yc();return e||t},r:function(e){var t=Je(e);null!==t&&5===t.tag&&"form"===t.type?Hs(t):Pd.r(e)},D:function(e){Pd.D(e),Nd("dns-prefetch",e,null)},C:function(e,t){Pd.C(e,t),Nd("preconnect",e,t)},L:function(e,t,n){Pd.L(e,t,n);var r=jd;if(r&&e&&t){var o='link[rel="preload"][as="'+xt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(o+='[imagesrcset="'+xt(n.imageSrcSet)+'"]',"string"==typeof n.imageSizes&&(o+='[imagesizes="'+xt(n.imageSizes)+'"]')):o+='[href="'+xt(e)+'"]';var i=o;switch(t){case"style":i=Dd(e);break;case"script":i=zd(e)}Id.has(i)||(e=c({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),Id.set(i,e),null!==r.querySelector(o)||"style"===t&&r.querySelector(Rd(i))||"script"===t&&r.querySelector(Hd(i))||(ld(t=r.createElement("link"),"link",e),Ze(t),r.head.appendChild(t)))}},m:function(e,t){Pd.m(e,t);var n=jd;if(n&&e){var r=t&&"string"==typeof t.as?t.as:"script",o='link[rel="modulepreload"][as="'+xt(r)+'"][href="'+xt(e)+'"]',i=o;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=zd(e)}if(!Id.has(i)&&(e=c({rel:"modulepreload",href:e},t),Id.set(i,e),null===n.querySelector(o))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Hd(i)))return}ld(r=n.createElement("link"),"link",e),Ze(r),n.head.appendChild(r)}}},X:function(e,t){Pd.X(e,t);var n=jd;if(n&&e){var r=Xe(n).hoistableScripts,o=zd(e),i=r.get(o);i||((i=n.querySelector(Hd(o)))||(e=c({src:e,async:!0},t),(t=Id.get(o))&&Wd(e,t),Ze(i=n.createElement("script")),ld(i,"link",e),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},r.set(o,i))}},S:function(e,t,n){Pd.S(e,t,n);var r=jd;if(r&&e){var o=Xe(r).hoistableStyles,i=Dd(e);t=t||"default";var s=o.get(i);if(!s){var a={loading:0,preload:null};if(s=r.querySelector(Rd(i)))a.loading=5;else{e=c({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Id.get(i))&&qd(e,n);var l=s=r.createElement("link");Ze(l),ld(l,"link",e),l._p=new Promise(function(e,t){l.onload=e,l.onerror=t}),l.addEventListener("load",function(){a.loading|=1}),l.addEventListener("error",function(){a.loading|=2}),a.loading|=4,Qd(s,t,r)}s={type:"stylesheet",instance:s,count:1,state:a},o.set(i,s)}}},M:function(e,t){Pd.M(e,t);var n=jd;if(n&&e){var r=Xe(n).hoistableScripts,o=zd(e),i=r.get(o);i||((i=n.querySelector(Hd(o)))||(e=c({src:e,async:!0,type:"module"},t),(t=Id.get(o))&&Wd(e,t),Ze(i=n.createElement("script")),ld(i,"link",e),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},r.set(o,i))}}};var jd=typeof document>"u"?null:document;function Nd(e,t,n){var r=jd;if(r&&"string"==typeof t&&t){var o=xt(t);o='link[rel="'+e+'"][href="'+o+'"]',"string"==typeof n&&(o+='[crossorigin="'+n+'"]'),Bd.has(o)||(Bd.add(o),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(o)&&(ld(t=r.createElement("link"),"link",e),Ze(t),r.head.appendChild(t)))}}function Fd(e,t,n,o){var i=(i=X.current)?Md(i):null;if(!i)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return"string"==typeof n.precedence&&"string"==typeof n.href?(t=Dd(n.href),(o=(n=Xe(i).hoistableStyles).get(t))||(o={type:"style",instance:null,count:0,state:null},n.set(t,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"==typeof n.href&&"string"==typeof n.precedence){e=Dd(n.href);var s=Xe(i).hoistableStyles,a=s.get(e);if(a||(i=i.ownerDocument||i,a={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},s.set(e,a),(s=i.querySelector(Rd(e)))&&!s._p&&(a.instance=s,a.state.loading=5),Id.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Id.set(e,n),s||function(e,t,n,r){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?r.loading=1:(t=e.createElement("link"),r.preload=t,t.addEventListener("load",function(){return r.loading|=1}),t.addEventListener("error",function(){return r.loading|=2}),ld(t,"link",n),Ze(t),e.head.appendChild(t))}(i,e,n,a.state))),t&&null===o)throw Error(r(528,""));return a}if(t&&null!==o)throw Error(r(529,""));return null;case"script":return t=n.async,"string"==typeof(n=n.src)&&t&&"function"!=typeof t&&"symbol"!=typeof t?(t=zd(n),(o=(n=Xe(i).hoistableScripts).get(t))||(o={type:"script",instance:null,count:0,state:null},n.set(t,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function Dd(e){return'href="'+xt(e)+'"'}function Rd(e){return'link[rel="stylesheet"]['+e+"]"}function Ld(e){return c({},e,{"data-precedence":e.precedence,precedence:null})}function zd(e){return'[src="'+xt(e)+'"]'}function Hd(e){return"script[async]"+e}function Ud(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var o=e.querySelector('style[data-href~="'+xt(n.href)+'"]');if(o)return t.instance=o,Ze(o),o;var i=c({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return Ze(o=(e.ownerDocument||e).createElement("style")),ld(o,"style",i),Qd(o,n.precedence,e),t.instance=o;case"stylesheet":i=Dd(n.href);var s=e.querySelector(Rd(i));if(s)return t.state.loading|=4,t.instance=s,Ze(s),s;o=Ld(n),(i=Id.get(i))&&qd(o,i),Ze(s=(e.ownerDocument||e).createElement("link"));var a=s;return a._p=new Promise(function(e,t){a.onload=e,a.onerror=t}),ld(s,"link",o),t.state.loading|=4,Qd(s,n.precedence,e),t.instance=s;case"script":return s=zd(n.src),(i=e.querySelector(Hd(s)))?(t.instance=i,Ze(i),i):(o=n,(i=Id.get(s))&&Wd(o=c({},n),i),Ze(i=(e=e.ownerDocument||e).createElement("script")),ld(i,"link",o),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(r(443,t.type))}else"stylesheet"===t.type&&!(4&t.state.loading)&&(o=t.instance,t.state.loading|=4,Qd(o,n.precedence,e));return t.instance}function Qd(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),o=r.length?r[r.length-1]:null,i=o,s=0;s<r.length;s++){var a=r[s];if(a.dataset.precedence===t)i=a;else if(i!==o)break}i?i.parentNode.insertBefore(e,i.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function qd(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function Wd(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var $d=null;function Gd(e,t,n){if(null===$d){var r=new Map,o=$d=new Map;o.set(n,r)}else(r=(o=$d).get(n))||(r=new Map,o.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),o=0;o<n.length;o++){var i=n[o];if(!(i[Ge]||i[ze]||"link"===e&&"stylesheet"===i.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==i.namespaceURI){var s=i.getAttribute(t)||"";s=e+s;var a=r.get(s);a?a.push(i):r.set(s,[i])}}return r}function Vd(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function Yd(e){return!("stylesheet"===e.type&&!(3&e.state.loading))}var Jd=null;function Kd(){}function Xd(){if(this.count--,0===this.count)if(this.stylesheets)eh(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var Zd=null;function eh(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,Zd=new Map,t.forEach(th,e),Zd=null,Xd.call(e))}function th(e,t){if(!(4&t.state.loading)){var n=Zd.get(e);if(n)var r=n.get(null);else{n=new Map,Zd.set(e,n);for(var o=e.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<o.length;i++){var s=o[i];("LINK"===s.nodeName||"not all"!==s.getAttribute("media"))&&(n.set(s.dataset.precedence,s),r=s)}r&&n.set(null,r)}s=(o=t.instance).getAttribute("data-precedence"),(i=n.get(s)||r)===r&&n.set(null,o),n.set(s,o),this.count++,r=Xd.bind(this),o.addEventListener("load",r),o.addEventListener("error",r),i?i.parentNode.insertBefore(o,i.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(o,e.firstChild),t.state.loading|=4}}var nh={$$typeof:y,Provider:null,Consumer:null,_currentValue:q,_currentValue2:q,_threadCount:0};function rh(e,t,n,r,o,i,s,a){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Me(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Me(0),this.hiddenUpdates=Me(null),this.identifierPrefix=r,this.onUncaughtError=o,this.onCaughtError=i,this.onRecoverableError=s,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=a,this.incompleteTransitions=new Map}function oh(e,t,n,r,o,i,s,a,l,c,u,d){return e=new rh(e,t,n,s,a,l,c,d),t=1,!0===i&&(t|=24),i=qr(3,null,null,t),e.current=i,i.stateNode=e,(t=Uo()).refCount++,e.pooledCache=t,t.refCount++,i.memoizedState={element:r,isDehydrated:n,cache:t},di(i),e}function ih(e){return e?e=Ur:Ur}function sh(e,t,n,r,o,i){o=ih(o),null===r.context?r.context=o:r.pendingContext=o,(r=pi(t)).payload={element:n},null!==(i=void 0===i?null:i)&&(r.callback=i),null!==(n=fi(e,r,t))&&(qc(n,0,t),mi(n,e,t))}function ah(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function lh(e,t){ah(e,t),(e=e.alternate)&&ah(e,t)}function ch(e){if(13===e.tag){var t=Lr(e,67108864);null!==t&&qc(t,0,67108864),lh(e,67108864)}}var uh=!0;function dh(e,t,n,r){var o=U.T;U.T=null;var i=Q.p;try{Q.p=2,ph(e,t,n,r)}finally{Q.p=i,U.T=o}}function hh(e,t,n,r){var o=U.T;U.T=null;var i=Q.p;try{Q.p=8,ph(e,t,n,r)}finally{Q.p=i,U.T=o}}function ph(e,t,n,r){if(uh){var o=fh(r);if(null===o)Ju(e,t,r,mh,n),Ch(e,r);else if(function(e,t,n,r,o){switch(t){case"focusin":return yh=kh(yh,e,t,n,r,o),!0;case"dragenter":return vh=kh(vh,e,t,n,r,o),!0;case"mouseover":return Ah=kh(Ah,e,t,n,r,o),!0;case"pointerover":var i=o.pointerId;return _h.set(i,kh(_h.get(i)||null,e,t,n,r,o)),!0;case"gotpointercapture":return i=o.pointerId,xh.set(i,kh(xh.get(i)||null,e,t,n,r,o)),!0}return!1}(o,e,t,n,r))r.stopPropagation();else if(Ch(e,r),4&t&&-1<Eh.indexOf(e)){for(;null!==o;){var i=Je(o);if(null!==i)switch(i.tag){case 3:if((i=i.stateNode).current.memoizedState.isDehydrated){var s=Ce(i.pendingLanes);if(0!==s){var a=i;for(a.pendingLanes|=2,a.entangledLanes|=2;s;){var l=1<<31-Ae(s);a.entanglements[1]|=l,s&=~l}Iu(i),!(6&uc)&&(Ic=ce()+500,Bu(0))}}break;case 13:null!==(a=Lr(i,2))&&qc(a,0,2),Yc(),lh(i,2)}if(null===(i=fh(r))&&Ju(e,t,r,mh,n),i===o)break;o=i}null!==o&&r.stopPropagation()}else Ju(e,t,r,null,n)}}function fh(e){return gh(e=Lt(e))}var mh=null;function gh(e){if(mh=null,null!==(e=Ye(e))){var t=i(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=s(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return mh=e,null}function bh(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ue()){case de:return 2;case he:return 8;case pe:case fe:return 32;case me:return 268435456;default:return 32}default:return 32}}var wh=!1,yh=null,vh=null,Ah=null,_h=new Map,xh=new Map,Sh=[],Eh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ch(e,t){switch(e){case"focusin":case"focusout":yh=null;break;case"dragenter":case"dragleave":vh=null;break;case"mouseover":case"mouseout":Ah=null;break;case"pointerover":case"pointerout":_h.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":xh.delete(t.pointerId)}}function kh(e,t,n,r,o,i){return null===e||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[o]},null!==t&&null!==(t=Je(t))&&ch(t),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==o&&-1===t.indexOf(o)&&t.push(o),e)}function Oh(e){var t=Ye(e.target);if(null!==t){var n=i(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=s(n)))return e.blockedOn=t,void function(e,t){var n=Q.p;try{return Q.p=e,t()}finally{Q.p=n}}(e.priority,function(){if(13===n.tag){var e=Uc();e=Fe(e);var t=Lr(n,e);null!==t&&qc(t,0,e),lh(n,e)}})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Th(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=fh(e.nativeEvent);if(null!==n)return null!==(t=Je(n))&&ch(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);Rt=r,n.target.dispatchEvent(r),Rt=null,t.shift()}return!0}function Ih(e,t,n){Th(e)&&n.delete(t)}function Bh(){wh=!1,null!==yh&&Th(yh)&&(yh=null),null!==vh&&Th(vh)&&(vh=null),null!==Ah&&Th(Ah)&&(Ah=null),_h.forEach(Ih),xh.forEach(Ih)}function Mh(t,n){t.blockedOn===n&&(t.blockedOn=null,wh||(wh=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Bh)))}var Ph=null;function jh(t){Ph!==t&&(Ph=t,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Ph===t&&(Ph=null);for(var e=0;e<t.length;e+=3){var n=t[e],r=t[e+1],o=t[e+2];if("function"!=typeof r){if(null===gh(r||n))continue;break}var i=Je(n);null!==i&&(t.splice(e,3),e-=3,Ls(i,{pending:!0,data:o,method:n.method,action:r},r,o))}}))}function Nh(e){function t(t){return Mh(t,e)}null!==yh&&Mh(yh,e),null!==vh&&Mh(vh,e),null!==Ah&&Mh(Ah,e),_h.forEach(t),xh.forEach(t);for(var n=0;n<Sh.length;n++){var r=Sh[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<Sh.length&&null===(n=Sh[0]).blockedOn;)Oh(n),null===n.blockedOn&&Sh.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var o=n[r],i=n[r+1],s=o[He]||null;if("function"==typeof i)s||jh(n);else if(s){var a=null;if(i&&i.hasAttribute("formAction")){if(o=i,s=i[He]||null)a=s.formAction;else if(null!==gh(o))continue}else a=s.action;"function"==typeof a?n[r+1]=a:(n.splice(r,3),r-=3),jh(n)}}}function Fh(e){this._internalRoot=e}function Dh(e){this._internalRoot=e}Dh.prototype.render=Fh.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(r(409));sh(t.current,Uc(),e,t,null,null)},Dh.prototype.unmount=Fh.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;sh(e.current,2,null,e,null,null),Yc(),t[Ue]=null}},Dh.prototype.unstable_scheduleHydration=function(e){if(e){var t=Re();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Sh.length&&0!==t&&t<Sh[n].priority;n++);Sh.splice(n,0,e),0===n&&Oh(e)}};var Rh=t.version;if("19.1.1"!==Rh)throw Error(r(527,Rh,"19.1.1"));Q.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t)throw"function"==typeof e.render?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=function(e){var t=e.alternate;if(!t){if(null===(t=i(e)))throw Error(r(188));return t!==e?null:e}for(var n=e,o=t;;){var s=n.return;if(null===s)break;var l=s.alternate;if(null===l){if(null!==(o=s.return)){n=o;continue}break}if(s.child===l.child){for(l=s.child;l;){if(l===n)return a(s),e;if(l===o)return a(s),t;l=l.sibling}throw Error(r(188))}if(n.return!==o.return)n=s,o=l;else{for(var c=!1,u=s.child;u;){if(u===n){c=!0,n=s,o=l;break}if(u===o){c=!0,o=s,n=l;break}u=u.sibling}if(!c){for(u=l.child;u;){if(u===n){c=!0,n=l,o=s;break}if(u===o){c=!0,o=l,n=s;break}u=u.sibling}if(!c)throw Error(r(189))}}if(n.alternate!==o)throw Error(r(190))}if(3!==n.tag)throw Error(r(188));return n.stateNode.current===n?e:t}(t),null===(e=null!==e?l(e):null)?null:e.stateNode};var Lh={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:U,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zh.isDisabled&&zh.supportsFiber)try{we=zh.inject(Lh),ye=zh}catch{}}return B.createRoot=function(e,t){if(!o(e))throw Error(r(299));var n=!1,i="",s=Ca,a=ka,l=Oa;return null!=t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(i=t.identifierPrefix),void 0!==t.onUncaughtError&&(s=t.onUncaughtError),void 0!==t.onCaughtError&&(a=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError),void 0!==t.unstable_transitionCallbacks&&t.unstable_transitionCallbacks),t=oh(e,1,!1,null,0,n,i,s,a,l,0,null),e[Ue]=t.current,Vu(e),new Fh(t)},B.hydrateRoot=function(e,t,n){if(!o(e))throw Error(r(299));var i=!1,s="",a=Ca,l=ka,c=Oa,u=null;return null!=n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(s=n.identifierPrefix),void 0!==n.onUncaughtError&&(a=n.onUncaughtError),void 0!==n.onCaughtError&&(l=n.onCaughtError),void 0!==n.onRecoverableError&&(c=n.onRecoverableError),void 0!==n.unstable_transitionCallbacks&&n.unstable_transitionCallbacks,void 0!==n.formState&&(u=n.formState)),(t=oh(e,1,!0,t,0,i,s,a,l,c,0,u)).context=ih(null),n=t.current,(s=pi(i=Fe(i=Uc()))).callback=null,fi(n,s,i),n=i,t.current.lanes=n,Pe(t,n),Iu(t),e[Ue]=t.current,Vu(e),new Dh(t)},B.version="19.1.1",B}()),I.exports);const H={};function U(e,t){const n=/(\x1b\[(\d+(;\d+)*)m)|([^\x1b]+)/g,r=[];let o,i={},s=!1,a=null==t?void 0:t.fg,l=null==t?void 0:t.bg;for(;null!==(o=n.exec(e));){const[,,e,,n]=o;if(e){const n=+e;switch(n){case 0:i={};break;case 1:i["font-weight"]="bold";break;case 2:i.opacity="0.8";break;case 3:i["font-style"]="italic";break;case 4:i["text-decoration"]="underline";break;case 7:s=!0;break;case 8:i.display="none";break;case 9:i["text-decoration"]="line-through";break;case 22:delete i["font-weight"],delete i["font-style"],delete i.opacity,delete i["text-decoration"];break;case 23:delete i["font-weight"],delete i["font-style"],delete i.opacity;break;case 24:delete i["text-decoration"];break;case 27:s=!1;break;case 30:case 31:case 32:case 33:case 34:case 35:case 36:case 37:a=Q[n-30];break;case 39:a=null==t?void 0:t.fg;break;case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:l=Q[n-40];break;case 49:l=null==t?void 0:t.bg;break;case 53:i["text-decoration"]="overline";break;case 90:case 91:case 92:case 93:case 94:case 95:case 96:case 97:a=q[n-90];break;case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 107:l=q[n-100]}}else if(n){const e={...i},t=s?l:a;void 0!==t&&(e.color=t);const o=s?a:l;void 0!==o&&(e["background-color"]=o),r.push(`<span style="${$(e)}">${W(n)}</span>`)}}return r.join("")}const Q={0:"var(--vscode-terminal-ansiBlack)",1:"var(--vscode-terminal-ansiRed)",2:"var(--vscode-terminal-ansiGreen)",3:"var(--vscode-terminal-ansiYellow)",4:"var(--vscode-terminal-ansiBlue)",5:"var(--vscode-terminal-ansiMagenta)",6:"var(--vscode-terminal-ansiCyan)",7:"var(--vscode-terminal-ansiWhite)"},q={0:"var(--vscode-terminal-ansiBrightBlack)",1:"var(--vscode-terminal-ansiBrightRed)",2:"var(--vscode-terminal-ansiBrightGreen)",3:"var(--vscode-terminal-ansiBrightYellow)",4:"var(--vscode-terminal-ansiBrightBlue)",5:"var(--vscode-terminal-ansiBrightMagenta)",6:"var(--vscode-terminal-ansiBrightCyan)",7:"var(--vscode-terminal-ansiBrightWhite)"};function W(e){return e.replace(/[&"<>]/g,e=>({"&":"&amp;",'"':"&quot;","<":"&lt;",">":"&gt;"}[e]))}function $(e){return Object.entries(e).map(([e,t])=>`${e}: ${t}`).join("; ")}const G=({text:e,highlighter:t,mimeType:o,linkify:i,readOnly:s,highlight:a,revealLine:l,lineNumbers:c,isFocused:u,focusOnChange:h,wrapLines:p,onChange:f,dataTestId:m,placeholder:b})=>{const[y,v]=w(),[A]=g.useState(function(e,t){let r=Promise.resolve();if(t&&t.length>0){let e=function(e){return Promise.all(e.map(e=>Promise.resolve(e).then(e=>({status:"fulfilled",value:e}),e=>({status:"rejected",reason:e}))))};document.getElementsByTagName("link");const n=document.querySelector("meta[property=csp-nonce]"),o=(null==n?void 0:n.nonce)||(null==n?void 0:n.getAttribute("nonce"));r=e(t.map(e=>{if((e="/"+e)in H)return;H[e]=!0;const t=e.endsWith(".css"),n=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${n}`))return;const r=document.createElement("link");return r.rel=t?"stylesheet":"modulepreload",t||(r.as="script"),r.crossOrigin="",r.href=e,o&&r.setAttribute("nonce",o),document.head.appendChild(r),t?new Promise((t,n)=>{r.addEventListener("load",t),r.addEventListener("error",()=>n(new Error(`Unable to preload CSS for ${e}`)))}):void 0}))}function o(e){const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}return r.then(e=>{for(const t of e||[])"rejected"===t.status&&o(t.reason);return Promise.resolve().then(n.bind(n,"./node_modules/playwright-core/lib/vite/recorder/assets/codeMirrorModule-B_Ipq0Ck.js")).catch(o)})}(0,r([0,1])).then(e=>e.default)),_=g.useRef(null),[x,S]=g.useState();return g.useEffect(()=>{(async()=>{var e,n;const r=await A;!function(e){Y||(Y=!0,e.defineSimpleMode("text/linkified",{start:[{regex:E,token:"linkified"}]}))}(r);const a=v.current;if(!a)return;const l=function(e){if(e)return{javascript:"javascript",jsonl:"javascript",python:"python",csharp:"text/x-csharp",java:"text/x-java",markdown:"markdown",html:"htmlmixed",css:"css",yaml:"yaml"}[e]}(t)||function(e){if(e){if(e.includes("javascript")||e.includes("json"))return"javascript";if(e.includes("python"))return"python";if(e.includes("csharp"))return"text/x-csharp";if(e.includes("java"))return"text/x-java";if(e.includes("markdown"))return"markdown";if(e.includes("html")||e.includes("svg"))return"htmlmixed";if(e.includes("css"))return"css"}}(o)||(i?"text/linkified":"");if(_.current&&l===_.current.cm.getOption("mode")&&!!s===_.current.cm.getOption("readOnly")&&c===_.current.cm.getOption("lineNumbers")&&p===_.current.cm.getOption("lineWrapping")&&b===_.current.cm.getOption("placeholder"))return;null==(n=null==(e=_.current)?void 0:e.cm)||n.getWrapperElement().remove();const d=r(a,{value:"",mode:l,readOnly:!!s,lineNumbers:c,lineWrapping:p,placeholder:b});_.current={cm:d},u&&d.focus(),S(d)})()},[A,x,v,t,o,i,c,p,s,u,b]),g.useEffect(()=>{_.current&&_.current.cm.setSize(y.width,y.height)},[y]),g.useLayoutEffect(()=>{var t;if(!x)return;let n,r=!1;if(x.getValue()!==e&&(x.setValue(e),r=!0,h&&(x.execCommand("selectAll"),x.focus())),r||JSON.stringify(a)!==JSON.stringify(_.current.highlight)){for(const e of _.current.highlight||[])x.removeLineClass(e.line-1,"wrap");for(const e of a||[])x.addLineClass(e.line-1,"wrap",`source-line-${e.type}`);for(const e of _.current.widgets||[])x.removeLineWidget(e);for(const e of _.current.markers||[])e.clear();const e=[],n=[];for(const r of a||[]){if("subtle-error"!==r.type&&"error"!==r.type)continue;const o=null==(t=_.current)?void 0:t.cm.getLine(r.line-1);if(o){const e={};e.title=r.message||"",n.push(x.markText({line:r.line-1,ch:0},{line:r.line-1,ch:r.column||o.length},{className:"source-line-error-underline",attributes:e}))}if("error"===r.type){const t=document.createElement("div");t.innerHTML=U(r.message||""),t.className="source-line-error-widget",e.push(x.addLineWidget(r.line,t,{above:!0,coverGutter:!1}))}}_.current.highlight=a,_.current.widgets=e,_.current.markers=n}return"number"==typeof l&&_.current.cm.lineCount()>=l&&x.scrollIntoView({line:Math.max(0,l-1),ch:0},50),f&&(n=()=>f(x.getValue()),x.on("change",n)),()=>{n&&x.off("change",n)}},[x,e,a,l,h,f]),d.jsx("div",{"data-testid":m,className:"cm-wrapper",ref:v,onClick:V})};function V(e){var t;if(!(e.target instanceof HTMLElement))return;let n;e.target.classList.contains("cm-linkified")?n=e.target.textContent:e.target.classList.contains("cm-link")&&null!=(t=e.target.nextElementSibling)&&t.classList.contains("cm-url")&&(n=e.target.nextElementSibling.textContent.slice(1,-1)),n&&(e.preventDefault(),e.stopPropagation(),window.open(n,"_blank"))}let Y=!1;const J=({sidebarSize:e,sidebarHidden:t=!1,sidebarIsFirst:n=!1,orientation:r="vertical",minSidebarSize:o=50,settingName:i,sidebar:s,main:a})=>{const l=Math.max(o,e)*window.devicePixelRatio,[c,u]=A(i?i+"."+r+":size":void 0,l),[h,p]=A(i?i+"."+r+":size":void 0,l),[f,m]=g.useState(null),[b,y]=w();let v;"vertical"===r?(v=h/window.devicePixelRatio,b&&b.height<v&&(v=b.height-10)):(v=c/window.devicePixelRatio,b&&b.width<v&&(v=b.width-10)),document.body.style.userSelect=f?"none":"inherit";let _={};return _="vertical"===r?n?{top:f?0:v-4,bottom:f?0:void 0,height:f?"initial":8}:{bottom:f?0:v-4,top:f?0:void 0,height:f?"initial":8}:n?{left:f?0:v-4,right:f?0:void 0,width:f?"initial":8}:{right:f?0:v-4,left:f?0:void 0,width:f?"initial":8},d.jsxs("div",{className:x("split-view",r,n&&"sidebar-first"),ref:y,children:[d.jsx("div",{className:"split-view-main",children:a}),!t&&d.jsx("div",{style:{flexBasis:v},className:"split-view-sidebar",children:s}),!t&&d.jsx("div",{style:_,className:"split-view-resizer",onMouseDown:e=>m({offset:"vertical"===r?e.clientY:e.clientX,size:v}),onMouseUp:()=>m(null),onMouseMove:e=>{if(e.buttons){if(f){const t=("vertical"===r?e.clientY:e.clientX)-f.offset,i=n?f.size+t:f.size-t,s=e.target.parentElement.getBoundingClientRect(),a=Math.min(Math.max(o,i),("vertical"===r?s.height:s.width)-o);"vertical"===r?p(a*window.devicePixelRatio):u(a*window.devicePixelRatio)}}else m(null)}})]})},K=({noShadow:e,children:t,noMinHeight:n,className:r,sidebarBackground:o,onClick:i})=>d.jsx("div",{className:x("toolbar",e&&"no-shadow",n&&"no-min-height",r,o&&"toolbar-sidebar-background"),onClick:i,children:t}),X=({tabs:e,selectedTab:t,setSelectedTab:n,leftToolbar:r,rightToolbar:o,dataTestId:i,mode:s})=>{const a=g.useId();return t||(t=e[0].id),s||(s="default"),d.jsx("div",{className:"tabbed-pane","data-testid":i,children:d.jsxs("div",{className:"vbox",children:[d.jsxs(K,{children:[r&&d.jsxs("div",{style:{flex:"none",display:"flex",margin:"0 4px",alignItems:"center"},children:[...r]}),"default"===s&&d.jsx("div",{style:{flex:"auto",display:"flex",height:"100%",overflow:"hidden"},role:"tablist",children:[...e.map(e=>d.jsx(Z,{id:e.id,ariaControls:`${a}-${e.id}`,title:e.title,count:e.count,errorCount:e.errorCount,selected:t===e.id,onSelect:n},e.id))]}),"select"===s&&d.jsx("div",{style:{flex:"auto",display:"flex",height:"100%",overflow:"hidden"},role:"tablist",children:d.jsx("select",{style:{width:"100%",background:"none",cursor:"pointer"},value:t,onChange:t=>{null==n||n(e[t.currentTarget.selectedIndex].id)},children:e.map(e=>{let t="";return e.count&&(t=` (${e.count})`),e.errorCount&&(t=` (${e.errorCount})`),d.jsxs("option",{value:e.id,role:"tab","aria-controls":`${a}-${e.id}`,children:[e.title,t]},e.id)})})}),o&&d.jsxs("div",{style:{flex:"none",display:"flex",alignItems:"center"},children:[...o]})]}),e.map(e=>{const n="tab-content tab-"+e.id;return e.component?d.jsx("div",{id:`${a}-${e.id}`,role:"tabpanel","aria-label":e.title,className:n,style:{display:t===e.id?"inherit":"none"},children:e.component},e.id):t===e.id?d.jsx("div",{id:`${a}-${e.id}`,role:"tabpanel","aria-label":e.title,className:n,children:e.render()},e.id):void 0})]})})},Z=({id:e,title:t,count:n,errorCount:r,selected:o,onSelect:i,ariaControls:s})=>d.jsxs("div",{className:x("tabbed-pane-tab",o&&"selected"),onClick:()=>null==i?void 0:i(e),role:"tab",title:t,"aria-controls":s,children:[d.jsx("div",{className:"tabbed-pane-tab-label",children:t}),!!n&&d.jsx("div",{className:"tabbed-pane-tab-counter",children:n}),!!r&&d.jsx("div",{className:"tabbed-pane-tab-counter error",children:r})]}),ee=({sources:e,fileId:t,setFileId:n})=>d.jsx("select",{className:"source-chooser",hidden:!e.length,title:"Source chooser",value:t,onChange:e=>{n(e.target.selectedOptions[0].value)},children:te(e)});function te(e){const t=e=>e.replace(/.*[/\\]([^/\\]+)/,"$1"),n=new Map;for(const t of e){let e=n.get(t.group||"Debugger");e||(e=[],n.set(t.group||"Debugger",e)),e.push(t)}return[...n.entries()].map(([e,n])=>d.jsx("optgroup",{label:e,children:n.filter(t=>(t.group||"Debugger")===e).map(e=>(e=>d.jsx("option",{value:e.id,children:t(e.label)},e.id))(e))},e))}const ne=g.forwardRef(function({children:e,title:t="",icon:n,disabled:r=!1,toggled:o=!1,onClick:i=()=>{},style:s,testId:a,className:l,ariaLabel:c},u){return d.jsxs("button",{ref:u,className:x(l,"toolbar-button",n,o&&"toggled"),onMouseDown:oe,onClick:i,onDoubleClick:oe,title:t,disabled:!!r,style:s,"data-testid":a,"aria-label":c||t,children:[n&&d.jsx("span",{className:`codicon codicon-${n}`,style:e?{marginRight:5}:{}}),e]})}),re=({style:e})=>d.jsx("div",{className:"toolbar-separator",style:e}),oe=e=>{e.stopPropagation(),e.preventDefault()},ie=function(e,t,n){return e>=t&&e<=n};function se(e){return ie(e,48,57)}function ae(e){return se(e)||ie(e,65,70)||ie(e,97,102)}function le(e){return function(e){return function(e){return ie(e,65,90)}(e)||function(e){return ie(e,97,122)}(e)}(e)||function(e){return e>=128}(e)||95===e}function ce(e){return le(e)||se(e)||45===e}function ue(e){return ie(e,0,8)||11===e||ie(e,14,31)||127===e}function de(e){return 10===e}function he(e){return de(e)||9===e||32===e}class pe extends Error{constructor(e){super(e),this.name="InvalidCharacterError"}}function fe(e){if(e<=65535)return String.fromCharCode(e);e-=Math.pow(2,16);const t=Math.floor(e/Math.pow(2,10))+55296,n=e%Math.pow(2,10)+56320;return String.fromCharCode(t)+String.fromCharCode(n)}class me{constructor(){this.tokenType=""}toJSON(){return{token:this.tokenType}}toString(){return this.tokenType}toSource(){return""+this}}class ge extends me{constructor(){super(...arguments),this.tokenType="BADSTRING"}}class be extends me{constructor(){super(...arguments),this.tokenType="BADURL"}}class we extends me{constructor(){super(...arguments),this.tokenType="WHITESPACE"}toString(){return"WS"}toSource(){return" "}}class ye extends me{constructor(){super(...arguments),this.tokenType="CDO"}toSource(){return"\x3c!--"}}class ve extends me{constructor(){super(...arguments),this.tokenType="CDC"}toSource(){return"--\x3e"}}class Ae extends me{constructor(){super(...arguments),this.tokenType=":"}}class _e extends me{constructor(){super(...arguments),this.tokenType=";"}}class xe extends me{constructor(){super(...arguments),this.tokenType=","}}class Se extends me{constructor(){super(...arguments),this.value="",this.mirror=""}}class Ee extends Se{constructor(){super(),this.tokenType="{",this.value="{",this.mirror="}"}}class Ce extends Se{constructor(){super(),this.tokenType="}",this.value="}",this.mirror="{"}}class ke extends Se{constructor(){super(),this.tokenType="[",this.value="[",this.mirror="]"}}class Oe extends Se{constructor(){super(),this.tokenType="]",this.value="]",this.mirror="["}}class Te extends Se{constructor(){super(),this.tokenType="(",this.value="(",this.mirror=")"}}class Ie extends Se{constructor(){super(),this.tokenType=")",this.value=")",this.mirror="("}}class Be extends me{constructor(){super(...arguments),this.tokenType="~="}}class Me extends me{constructor(){super(...arguments),this.tokenType="|="}}class Pe extends me{constructor(){super(...arguments),this.tokenType="^="}}class je extends me{constructor(){super(...arguments),this.tokenType="$="}}class Ne extends me{constructor(){super(...arguments),this.tokenType="*="}}class Fe extends me{constructor(){super(...arguments),this.tokenType="||"}}class De extends me{constructor(){super(...arguments),this.tokenType="EOF"}toSource(){return""}}class Re extends me{constructor(e){super(),this.tokenType="DELIM",this.value="",this.value=fe(e)}toString(){return"DELIM("+this.value+")"}toJSON(){const e=this.constructor.prototype.constructor.prototype.toJSON.call(this);return e.value=this.value,e}toSource(){return"\\"===this.value?"\\\n":this.value}}class Le extends me{constructor(){super(...arguments),this.value=""}ASCIIMatch(e){return this.value.toLowerCase()===e.toLowerCase()}toJSON(){const e=this.constructor.prototype.constructor.prototype.toJSON.call(this);return e.value=this.value,e}}class ze extends Le{constructor(e){super(),this.tokenType="IDENT",this.value=e}toString(){return"IDENT("+this.value+")"}toSource(){return Ye(this.value)}}class He extends Le{constructor(e){super(),this.tokenType="FUNCTION",this.value=e,this.mirror=")"}toString(){return"FUNCTION("+this.value+")"}toSource(){return Ye(this.value)+"("}}class Ue extends Le{constructor(e){super(),this.tokenType="AT-KEYWORD",this.value=e}toString(){return"AT("+this.value+")"}toSource(){return"@"+Ye(this.value)}}class Qe extends Le{constructor(e){super(),this.tokenType="HASH",this.value=e,this.type="unrestricted"}toString(){return"HASH("+this.value+")"}toJSON(){const e=this.constructor.prototype.constructor.prototype.toJSON.call(this);return e.value=this.value,e.type=this.type,e}toSource(){return"id"===this.type?"#"+Ye(this.value):"#"+function(e){e=""+e;let t="";for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);if(0===r)throw new pe("Invalid character: the input contains U+0000.");r>=128||45===r||95===r||ie(r,48,57)||ie(r,65,90)||ie(r,97,122)?t+=e[n]:t+="\\"+r.toString(16)+" "}return t}(this.value)}}class qe extends Le{constructor(e){super(),this.tokenType="STRING",this.value=e}toString(){return'"'+Je(this.value)+'"'}}class We extends Le{constructor(e){super(),this.tokenType="URL",this.value=e}toString(){return"URL("+this.value+")"}toSource(){return'url("'+Je(this.value)+'")'}}class $e extends me{constructor(){super(),this.tokenType="NUMBER",this.type="integer",this.repr=""}toString(){return"integer"===this.type?"INT("+this.value+")":"NUMBER("+this.value+")"}toJSON(){const e=super.toJSON();return e.value=this.value,e.type=this.type,e.repr=this.repr,e}toSource(){return this.repr}}class Ge extends me{constructor(){super(),this.tokenType="PERCENTAGE",this.repr=""}toString(){return"PERCENTAGE("+this.value+")"}toJSON(){const e=this.constructor.prototype.constructor.prototype.toJSON.call(this);return e.value=this.value,e.repr=this.repr,e}toSource(){return this.repr+"%"}}class Ve extends me{constructor(){super(),this.tokenType="DIMENSION",this.type="integer",this.repr="",this.unit=""}toString(){return"DIM("+this.value+","+this.unit+")"}toJSON(){const e=this.constructor.prototype.constructor.prototype.toJSON.call(this);return e.value=this.value,e.type=this.type,e.repr=this.repr,e.unit=this.unit,e}toSource(){const e=this.repr;let t=Ye(this.unit);return"e"===t[0].toLowerCase()&&("-"===t[1]||ie(t.charCodeAt(1),48,57))&&(t="\\65 "+t.slice(1,t.length)),e+t}}function Ye(e){let t="";const n=(e=""+e).charCodeAt(0);for(let r=0;r<e.length;r++){const o=e.charCodeAt(r);if(0===o)throw new pe("Invalid character: the input contains U+0000.");ie(o,1,31)||127===o||0===r&&ie(o,48,57)||1===r&&ie(o,48,57)&&45===n?t+="\\"+o.toString(16)+" ":o>=128||45===o||95===o||ie(o,48,57)||ie(o,65,90)||ie(o,97,122)?t+=e[r]:t+="\\"+e[r]}return t}function Je(e){e=""+e;let t="";for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);if(0===r)throw new pe("Invalid character: the input contains U+0000.");ie(r,1,31)||127===r?t+="\\"+r.toString(16)+" ":t+=34===r||92===r?"\\"+e[n]:e[n]}return t}class Ke extends Error{}function Xe(e,t){let n;try{n=function(e){const t=function(e){const t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);if(13===r&&10===e.charCodeAt(n+1)&&(r=10,n++),(13===r||12===r)&&(r=10),0===r&&(r=65533),ie(r,55296,56319)&&ie(e.charCodeAt(n+1),56320,57343)){const t=r-55296,o=e.charCodeAt(n+1)-56320;r=Math.pow(2,16)+t*Math.pow(2,10)+o,n++}t.push(r)}return t}(e);let n=-1;const r=[];let o;const i=function(e){return e>=t.length?-1:t[e]},s=function(e){if(void 0===e&&(e=1),e>3)throw"Spec Error: no more than three codepoints of lookahead.";return i(n+e)},a=function(e){return void 0===e&&(e=1),n+=e,o=i(n),!0},l=function(){return n-=1,!0},c=function(e){return void 0===e&&(e=o),-1===e},u=function(){if(d(),a(),he(o)){for(;he(s());)a();return new we}if(34===o)return f();if(35===o){if(ce(s())||b(s(1),s(2))){const e=new Qe("");return y(s(1),s(2),s(3))&&(e.type="id"),e.value=_(),e}return new Re(o)}return 36===o?61===s()?(a(),new je):new Re(o):39===o?f():40===o?new Te:41===o?new Ie:42===o?61===s()?(a(),new Ne):new Re(o):43===o?A()?(l(),h()):new Re(o):44===o?new xe:45===o?A()?(l(),h()):45===s(1)&&62===s(2)?(a(2),new ve):v()?(l(),p()):new Re(o):46===o?A()?(l(),h()):new Re(o):58===o?new Ae:59===o?new _e:60===o?33===s(1)&&45===s(2)&&45===s(3)?(a(3),new ye):new Re(o):64===o?y(s(1),s(2),s(3))?new Ue(_()):new Re(o):91===o?new ke:92===o?w()?(l(),p()):new Re(o):93===o?new Oe:94===o?61===s()?(a(),new Pe):new Re(o):123===o?new Ee:124===o?61===s()?(a(),new Me):124===s()?(a(),new Fe):new Re(o):125===o?new Ce:126===o?61===s()?(a(),new Be):new Re(o):se(o)?(l(),h()):le(o)?(l(),p()):c()?new De:new Re(o)},d=function(){for(;47===s(1)&&42===s(2);)for(a(2);;){if(a(),42===o&&47===s()){a();break}if(c())return}},h=function(){const e=x();if(y(s(1),s(2),s(3))){const t=new Ve;return t.value=e.value,t.repr=e.repr,t.type=e.type,t.unit=_(),t}if(37===s()){a();const t=new Ge;return t.value=e.value,t.repr=e.repr,t}{const t=new $e;return t.value=e.value,t.repr=e.repr,t.type=e.type,t}},p=function(){const e=_();if("url"===e.toLowerCase()&&40===s()){for(a();he(s(1))&&he(s(2));)a();return 34===s()||39===s()?new He(e):!he(s())||34!==s(2)&&39!==s(2)?m():new He(e)}return 40===s()?(a(),new He(e)):new ze(e)},f=function(e){void 0===e&&(e=o);let t="";for(;a();){if(o===e||c())return new qe(t);if(de(o))return l(),new ge;92===o?c(s())||(de(s())?a():t+=fe(g())):t+=fe(o)}throw new Error("Internal error")},m=function(){const e=new We("");for(;he(s());)a();if(c(s()))return e;for(;a();){if(41===o||c())return e;if(he(o)){for(;he(s());)a();return 41===s()||c(s())?(a(),e):(E(),new be)}if(34===o||39===o||40===o||ue(o))return E(),new be;if(92===o){if(!w())return E(),new be;e.value+=fe(g())}else e.value+=fe(o)}throw new Error("Internal error")},g=function(){if(a(),ae(o)){const e=[o];for(let t=0;t<5&&ae(s());t++)a(),e.push(o);he(s())&&a();let t=parseInt(e.map(function(e){return String.fromCharCode(e)}).join(""),16);return t>1114111&&(t=65533),t}return c()?65533:o},b=function(e,t){return!(92!==e||de(t))},w=function(){return b(o,s())},y=function(e,t,n){return 45===e?le(t)||45===t||b(t,n):!!le(e)||92===e&&b(e,t)},v=function(){return y(o,s(1),s(2))},A=function(){return e=o,t=s(1),n=s(2),43===e||45===e?!!(se(t)||46===t&&se(n)):46===e?!!se(t):!!se(e);var e,t,n},_=function(){let e="";for(;a();)if(ce(o))e+=fe(o);else{if(!w())return l(),e;e+=fe(g())}throw new Error("Internal parse error")},x=function(){let e="",t="integer";for((43===s()||45===s())&&(a(),e+=fe(o));se(s());)a(),e+=fe(o);if(46===s(1)&&se(s(2)))for(a(),e+=fe(o),a(),e+=fe(o),t="number";se(s());)a(),e+=fe(o);const n=s(1),r=s(2),i=s(3);if(69!==n&&101!==n||!se(r)){if((69===n||101===n)&&(43===r||45===r)&&se(i))for(a(),e+=fe(o),a(),e+=fe(o),a(),e+=fe(o),t="number";se(s());)a(),e+=fe(o)}else for(a(),e+=fe(o),a(),e+=fe(o),t="number";se(s());)a(),e+=fe(o);return{type:t,value:S(e),repr:e}},S=function(e){return+e},E=function(){for(;a();){if(41===o||c())return;w()&&g()}};let C=0;for(;!c(s());)if(r.push(u()),C++,C>2*t.length)throw new Error("I'm infinite-looping!");return r}(e),n[n.length-1]instanceof De||n.push(new De)}catch(t){const n=t.message+` while parsing css selector "${e}". Did you mean to CSS.escape it?`,r=(t.stack||"").indexOf(t.message);throw-1!==r&&(t.stack=t.stack.substring(0,r)+n+t.stack.substring(r+t.message.length)),t.message=n,t}const r=n.find(e=>e instanceof Ue||e instanceof ge||e instanceof be||e instanceof Fe||e instanceof ye||e instanceof ve||e instanceof _e||e instanceof Ee||e instanceof Ce||e instanceof We||e instanceof Ge);if(r)throw new Ke(`Unsupported token "${r.toSource()}" while parsing css selector "${e}". Did you mean to CSS.escape it?`);let o=0;const i=new Set;function s(){return new Ke(`Unexpected token "${n[o].toSource()}" while parsing css selector "${e}". Did you mean to CSS.escape it?`)}function a(){for(;n[o]instanceof we;)o++}function l(e=o){return n[e]instanceof ze}function c(e=o){return n[e]instanceof xe}function u(e=o){return n[e]instanceof Te}function d(e=o){return n[e]instanceof Ie}function h(e=o){return n[e]instanceof He}function p(e=o){return n[e]instanceof Re&&"*"===n[e].value}function f(e=o){return n[e]instanceof De}function m(e=o){return n[e]instanceof Re&&[">","+","~"].includes(n[e].value)}function g(e=o){return c(e)||d(e)||f(e)||m(e)||n[e]instanceof we}function b(){const e=[w()];for(;a(),c();)o++,e.push(w());return e}function w(){return a(),function(e=o){return n[e]instanceof $e}()||function(e=o){return n[e]instanceof qe}()?n[o++].value:function(){const e={simples:[]};for(a(),m()?e.simples.push({selector:{functions:[{name:"scope",args:[]}]},combinator:""}):e.simples.push({selector:y(),combinator:""});;){if(a(),m())e.simples[e.simples.length-1].combinator=n[o++].value,a();else if(g())break;e.simples.push({combinator:"",selector:y()})}return e}()}function y(){let e="";const r=[];for(;!g();)if(l()||p())e+=n[o++].toSource();else if(n[o]instanceof Qe)e+=n[o++].toSource();else if(n[o]instanceof Re&&"."===n[o].value){if(o++,!l())throw s();e+="."+n[o++].toSource()}else if(n[o]instanceof Ae)if(o++,l())if(t.has(n[o].value.toLowerCase())){const e=n[o++].value.toLowerCase();r.push({name:e,args:[]}),i.add(e)}else e+=":"+n[o++].toSource();else{if(!h())throw s();{const l=n[o++].value.toLowerCase();if(t.has(l)?(r.push({name:l,args:b()}),i.add(l)):e+=`:${l}(${v()})`,a(),!d())throw s();o++}}else{if(!(n[o]instanceof ke))throw s();for(e+="[",o++;!(n[o]instanceof Oe||f());)e+=n[o++].toSource();if(!(n[o]instanceof Oe))throw s();e+="]",o++}if(!e&&!r.length)throw s();return{css:e||void 0,functions:r}}function v(){let e="",t=1;for(;!f()&&((u()||h())&&t++,d()&&t--,t);)e+=n[o++].toSource();return e}const A=b();if(!f())throw s();if(A.some(e=>"object"!=typeof e||!("simples"in e)))throw new Ke(`Error while parsing css selector "${e}". Did you mean to CSS.escape it?`);return{selector:A,names:Array.from(i)}}const Ze=new Set(["internal:has","internal:has-not","internal:and","internal:or","internal:chain","left-of","right-of","above","below","near"]),et=new Set(["left-of","right-of","above","below","near"]),tt=new Set(["not","is","where","has","scope","light","visible","text","text-matches","text-is","has-text","above","below","right-of","left-of","near","nth-match"]);function nt(e){const t=function(e){let t,n=0,r=0;const o={parts:[]},i=()=>{const t=e.substring(r,n).trim(),i=t.indexOf("=");let s,a;-1!==i&&t.substring(0,i).trim().match(/^[a-zA-Z_0-9-+:*]+$/)?(s=t.substring(0,i).trim(),a=t.substring(i+1)):t.length>1&&'"'===t[0]&&'"'===t[t.length-1]||t.length>1&&"'"===t[0]&&"'"===t[t.length-1]?(s="text",a=t):/^\(*\/\//.test(t)||t.startsWith("..")?(s="xpath",a=t):(s="css",a=t);let l=!1;if("*"===s[0]&&(l=!0,s=s.substring(1)),o.parts.push({name:s,body:a}),l){if(void 0!==o.capture)throw new Ke("Only one of the selectors can capture using * modifier");o.capture=o.parts.length-1}};if(!e.includes(">>"))return n=e.length,i(),o;const s=()=>{const t=e.substring(r,n).match(/^\s*text\s*=(.*)$/);return!!t&&!!t[1]};for(;n<e.length;){const o=e[n];"\\"===o&&n+1<e.length?n+=2:o===t?(t=void 0,n++):t||'"'!==o&&"'"!==o&&"`"!==o||s()?t||">"!==o||">"!==e[n+1]?n++:(i(),n+=2,r=n):(t=o,n++)}return i(),o}(e),n=[];for(const e of t.parts){if("css"===e.name||"css:light"===e.name){"css:light"===e.name&&(e.body=":light("+e.body+")");const t=Xe(e.body,tt);n.push({name:"css",body:t.selector,source:e.body});continue}if(Ze.has(e.name)){let t,r;try{const n=JSON.parse("["+e.body+"]");if(!Array.isArray(n)||n.length<1||n.length>2||"string"!=typeof n[0])throw new Ke(`Malformed selector: ${e.name}=`+e.body);if(t=n[0],2===n.length){if("number"!=typeof n[1]||!et.has(e.name))throw new Ke(`Malformed selector: ${e.name}=`+e.body);r=n[1]}}catch{throw new Ke(`Malformed selector: ${e.name}=`+e.body)}const o={name:e.name,source:e.body,body:{parsed:nt(t),distance:r}},i=[...o.body.parsed.parts].reverse().find(e=>"internal:control"===e.name&&"enter-frame"===e.body),s=i?o.body.parsed.parts.indexOf(i):-1;-1!==s&&rt(o.body.parsed.parts.slice(0,s+1),n.slice(0,s+1))&&o.body.parsed.parts.splice(0,s+1),n.push(o);continue}n.push({...e,source:e.body})}if(Ze.has(n[0].name))throw new Ke(`"${n[0].name}" selector cannot be first`);return{capture:t.capture,parts:n}}function rt(e,t){return ot({parts:e})===ot({parts:t})}function ot(e,t){return"string"==typeof e?e:e.parts.map((n,r)=>{let o=!0;!t&&r!==e.capture&&("css"===n.name||"xpath"===n.name&&n.source.startsWith("//")||n.source.startsWith(".."))&&(o=!1);const i=o?n.name+"=":"";return`${r===e.capture?"*":""}${i}${n.source}`}).join(" >> ")}function it(e,t){let n=0,r=0===e.length;const o=()=>e[n]||"",i=()=>{const t=o();return++n,r=n>=e.length,t},s=t=>{throw new Ke(r?`Unexpected end of selector while parsing selector \`${e}\``:`Error while parsing selector \`${e}\` - unexpected symbol "${o()}" at position ${n}`+(t?" during "+t:""))};function a(){for(;!r&&/\s/.test(o());)i()}function l(e){return e>=""||e>="0"&&e<="9"||e>="A"&&e<="Z"||e>="a"&&e<="z"||e>="0"&&e<="9"||"_"===e||"-"===e}function c(){let e="";for(a();!r&&l(o());)e+=i();return e}function u(e){let t=i();for(t!==e&&s("parsing quoted string");!r&&o()!==e;)"\\"===o()&&i(),t+=i();return o()!==e&&s("parsing quoted string"),t+=i(),t}function d(){let e="";return a(),e="'"===o()||'"'===o()?u(o()).slice(1,-1):c(),e||s("parsing property path"),e}function h(){i();const t=[];for(t.push(d()),a();"."===o();)i(),t.push(d()),a();if("]"===o())return i(),{name:t.join("."),jsonPath:t,op:"<truthy>",value:null,caseSensitive:!1};const n=function(){a();let e="";return r||(e+=i()),!r&&"="!==e&&(e+=i()),["=","*=","^=","$=","|=","~="].includes(e)||s("parsing operator"),e}();let c,h=!0;if(a(),"/"===o()){if("="!==n)throw new Ke(`Error while parsing selector \`${e}\` - cannot use ${n} in attribute with regular expression`);c=function(){"/"!==i()&&s("parsing regular expression");let t="",n=!1;for(;!r;){if("\\"===o())t+=i(),r&&s("parsing regular expression");else if(n&&"]"===o())n=!1;else if(n||"["!==o()){if(!n&&"/"===o())break}else n=!0;t+=i()}"/"!==i()&&s("parsing regular expression");let a="";for(;!r&&o().match(/[dgimsuy]/);)a+=i();try{return new RegExp(t,a)}catch(t){throw new Ke(`Error while parsing selector \`${e}\`: ${t.message}`)}}()}else if("'"===o()||'"'===o())c=u(o()).slice(1,-1),a(),"i"===o()||"I"===o()?(h=!1,i()):("s"===o()||"S"===o())&&(h=!0,i());else{for(c="";!r&&(l(o())||"+"===o()||"."===o());)c+=i();"true"===c?c=!0:"false"===c&&(c=!1)}if(a(),"]"!==o()&&s("parsing attribute value"),i(),"="!==n&&"string"!=typeof c)throw new Ke(`Error while parsing selector \`${e}\` - cannot use ${n} in attribute with non-string matching value - ${c}`);return{name:t.join("."),jsonPath:t,op:n,value:c,caseSensitive:h}}const p={name:"",attributes:[]};for(p.name=c(),a();"["===o();)p.attributes.push(h()),a();if(r||s(void 0),!p.name&&!p.attributes.length)throw new Ke(`Error while parsing selector \`${e}\` - selector cannot be empty`);return p}function st(e,t="'"){const n=JSON.stringify(e),r=n.substring(1,n.length-1).replace(/\\"/g,'"');if("'"===t)return t+r.replace(/[']/g,"\\'")+t;if('"'===t)return t+r.replace(/["]/g,'\\"')+t;if("`"===t)return t+r.replace(/[`]/g,"\\`")+t;throw new Error("Invalid escape char")}function at(e){return e.charAt(0).toUpperCase()+e.substring(1)}function lt(e){return e.replace(/([a-z0-9])([A-Z])/g,"$1_$2").replace(/([A-Z])([A-Z][a-z])/g,"$1_$2").toLowerCase()}function ct(e){return e.replace(/(^|[^\\])(\\\\)*\\(['"`])/g,"$1$2$3")}function ut(e,t,n=!1){return function(e,t,n=!1,r=20,o){try{return dt(new pt[e](o),nt(t),n,r)}catch{return[t]}}(e,t,n,1)[0]}function dt(e,t,n=!1,r=20){const o=[...t.parts],i=[];let s=n?"frame-locator":"page";for(let t=0;t<o.length;t++){const n=o[t],a=s;if(s="locator","internal:describe"===n.name)continue;if("nth"===n.name){"0"===n.body?i.push([e.generateLocator(a,"first",""),e.generateLocator(a,"nth","0")]):"-1"===n.body?i.push([e.generateLocator(a,"last",""),e.generateLocator(a,"nth","-1")]):i.push([e.generateLocator(a,"nth",n.body)]);continue}if("visible"===n.name){i.push([e.generateLocator(a,"visible",n.body),e.generateLocator(a,"default",`visible=${n.body}`)]);continue}if("internal:text"===n.name){const{exact:t,text:r}=ht(n.body);i.push([e.generateLocator(a,"text",r,{exact:t})]);continue}if("internal:has-text"===n.name){const{exact:t,text:r}=ht(n.body);if(!t){i.push([e.generateLocator(a,"has-text",r,{exact:t})]);continue}}if("internal:has-not-text"===n.name){const{exact:t,text:r}=ht(n.body);if(!t){i.push([e.generateLocator(a,"has-not-text",r,{exact:t})]);continue}}if("internal:has"===n.name){const t=dt(e,n.body.parsed,!1,r);i.push(t.map(t=>e.generateLocator(a,"has",t)));continue}if("internal:has-not"===n.name){const t=dt(e,n.body.parsed,!1,r);i.push(t.map(t=>e.generateLocator(a,"hasNot",t)));continue}if("internal:and"===n.name){const t=dt(e,n.body.parsed,!1,r);i.push(t.map(t=>e.generateLocator(a,"and",t)));continue}if("internal:or"===n.name){const t=dt(e,n.body.parsed,!1,r);i.push(t.map(t=>e.generateLocator(a,"or",t)));continue}if("internal:chain"===n.name){const t=dt(e,n.body.parsed,!1,r);i.push(t.map(t=>e.generateLocator(a,"chain",t)));continue}if("internal:label"===n.name){const{exact:t,text:r}=ht(n.body);i.push([e.generateLocator(a,"label",r,{exact:t})]);continue}if("internal:role"===n.name){const t=it(n.body),r={attrs:[]};for(const e of t.attributes)"name"===e.name?(r.exact=e.caseSensitive,r.name=e.value):("level"===e.name&&"string"==typeof e.value&&(e.value=+e.value),r.attrs.push({name:"include-hidden"===e.name?"includeHidden":e.name,value:e.value}));i.push([e.generateLocator(a,"role",t.name,r)]);continue}if("internal:testid"===n.name){const t=it(n.body),{value:r}=t.attributes[0];i.push([e.generateLocator(a,"test-id",r)]);continue}if("internal:attr"===n.name){const t=it(n.body),{name:r,value:o,caseSensitive:s}=t.attributes[0],l=o,c=!!s;if("placeholder"===r){i.push([e.generateLocator(a,"placeholder",l,{exact:c})]);continue}if("alt"===r){i.push([e.generateLocator(a,"alt",l,{exact:c})]);continue}if("title"===r){i.push([e.generateLocator(a,"title",l,{exact:c})]);continue}}if("internal:control"===n.name&&"enter-frame"===n.body){const n=i[i.length-1],r=o[t-1],l=n.map(t=>e.chainLocators([t,e.generateLocator(a,"frame","")]));["xpath","css"].includes(r.name)&&l.push(e.generateLocator(a,"frame-locator",ot({parts:[r]})),e.generateLocator(a,"frame-locator",ot({parts:[r]},!0))),n.splice(0,n.length,...l),s="frame-locator";continue}const l=o[t+1],c=ot({parts:[n]}),u=e.generateLocator(a,"default",c);if(l&&["internal:has-text","internal:has-not-text"].includes(l.name)){const{exact:n,text:r}=ht(l.body);if(!n){const o=e.generateLocator("locator","internal:has-text"===l.name?"has-text":"has-not-text",r,{exact:n}),s={};"internal:has-text"===l.name?s.hasText=r:s.hasNotText=r;const d=e.generateLocator(a,"default",c,s);i.push([e.chainLocators([u,o]),d]),t++;continue}}let d;if(["xpath","css"].includes(n.name)){const t=ot({parts:[n]},!0);d=e.generateLocator(a,"default",t)}i.push([u,d].filter(Boolean))}return function(e,t,n){const r=t.map(()=>""),o=[],i=s=>{if(s===t.length)return o.push(e.chainLocators(r)),o.length<n;for(const e of t[s])if(r[s]=e,!i(s+1))return!1;return!0};return i(0),o}(e,i,r)}function ht(e){let t=!1;const n=e.match(/^\/(.*)\/([igm]*)$/);return n?{text:new RegExp(n[1],n[2])}:(e.endsWith('"')?(e=JSON.parse(e),t=!0):e.endsWith('"s')?(e=JSON.parse(e.substring(0,e.length-1)),t=!0):e.endsWith('"i')&&(e=JSON.parse(e.substring(0,e.length-1)),t=!1),{exact:t,text:e})}const pt={javascript:class{constructor(e){this.preferredQuote=e}generateLocator(e,t,n,r={}){switch(t){case"default":return void 0!==r.hasText?`locator(${this.quote(n)}, { hasText: ${this.toHasText(r.hasText)} })`:void 0!==r.hasNotText?`locator(${this.quote(n)}, { hasNotText: ${this.toHasText(r.hasNotText)} })`:`locator(${this.quote(n)})`;case"frame-locator":return`frameLocator(${this.quote(n)})`;case"frame":return"contentFrame()";case"nth":return`nth(${n})`;case"first":return"first()";case"last":return"last()";case"visible":return`filter({ visible: ${"true"===n?"true":"false"} })`;case"role":const e=[];ft(r.name)?e.push(`name: ${this.regexToSourceString(r.name)}`):"string"==typeof r.name&&(e.push(`name: ${this.quote(r.name)}`),r.exact&&e.push("exact: true"));for(const{name:t,value:n}of r.attrs)e.push(`${t}: ${"string"==typeof n?this.quote(n):n}`);const o=e.length?`, { ${e.join(", ")} }`:"";return`getByRole(${this.quote(n)}${o})`;case"has-text":return`filter({ hasText: ${this.toHasText(n)} })`;case"has-not-text":return`filter({ hasNotText: ${this.toHasText(n)} })`;case"has":return`filter({ has: ${n} })`;case"hasNot":return`filter({ hasNot: ${n} })`;case"and":return`and(${n})`;case"or":return`or(${n})`;case"chain":return`locator(${n})`;case"test-id":return`getByTestId(${this.toTestIdValue(n)})`;case"text":return this.toCallWithExact("getByText",n,!!r.exact);case"alt":return this.toCallWithExact("getByAltText",n,!!r.exact);case"placeholder":return this.toCallWithExact("getByPlaceholder",n,!!r.exact);case"label":return this.toCallWithExact("getByLabel",n,!!r.exact);case"title":return this.toCallWithExact("getByTitle",n,!!r.exact);default:throw new Error("Unknown selector kind "+t)}}chainLocators(e){return e.join(".")}regexToSourceString(e){return ct(String(e))}toCallWithExact(e,t,n){return ft(t)?`${e}(${this.regexToSourceString(t)})`:n?`${e}(${this.quote(t)}, { exact: true })`:`${e}(${this.quote(t)})`}toHasText(e){return ft(e)?this.regexToSourceString(e):this.quote(e)}toTestIdValue(e){return ft(e)?this.regexToSourceString(e):this.quote(e)}quote(e){return st(e,this.preferredQuote??"'")}},python:class{generateLocator(e,t,n,r={}){switch(t){case"default":return void 0!==r.hasText?`locator(${this.quote(n)}, has_text=${this.toHasText(r.hasText)})`:void 0!==r.hasNotText?`locator(${this.quote(n)}, has_not_text=${this.toHasText(r.hasNotText)})`:`locator(${this.quote(n)})`;case"frame-locator":return`frame_locator(${this.quote(n)})`;case"frame":return"content_frame";case"nth":return`nth(${n})`;case"first":return"first";case"last":return"last";case"visible":return`filter(visible=${"true"===n?"True":"False"})`;case"role":const e=[];ft(r.name)?e.push(`name=${this.regexToString(r.name)}`):"string"==typeof r.name&&(e.push(`name=${this.quote(r.name)}`),r.exact&&e.push("exact=True"));for(const{name:t,value:n}of r.attrs){let r="string"==typeof n?this.quote(n):n;"boolean"==typeof n&&(r=n?"True":"False"),e.push(`${lt(t)}=${r}`)}const o=e.length?`, ${e.join(", ")}`:"";return`get_by_role(${this.quote(n)}${o})`;case"has-text":return`filter(has_text=${this.toHasText(n)})`;case"has-not-text":return`filter(has_not_text=${this.toHasText(n)})`;case"has":return`filter(has=${n})`;case"hasNot":return`filter(has_not=${n})`;case"and":return`and_(${n})`;case"or":return`or_(${n})`;case"chain":return`locator(${n})`;case"test-id":return`get_by_test_id(${this.toTestIdValue(n)})`;case"text":return this.toCallWithExact("get_by_text",n,!!r.exact);case"alt":return this.toCallWithExact("get_by_alt_text",n,!!r.exact);case"placeholder":return this.toCallWithExact("get_by_placeholder",n,!!r.exact);case"label":return this.toCallWithExact("get_by_label",n,!!r.exact);case"title":return this.toCallWithExact("get_by_title",n,!!r.exact);default:throw new Error("Unknown selector kind "+t)}}chainLocators(e){return e.join(".")}regexToString(e){const t=e.flags.includes("i")?", re.IGNORECASE":"";return`re.compile(r"${ct(e.source).replace(/\\\//,"/").replace(/"/g,'\\"')}"${t})`}toCallWithExact(e,t,n){return ft(t)?`${e}(${this.regexToString(t)})`:n?`${e}(${this.quote(t)}, exact=True)`:`${e}(${this.quote(t)})`}toHasText(e){return ft(e)?this.regexToString(e):`${this.quote(e)}`}toTestIdValue(e){return ft(e)?this.regexToString(e):this.quote(e)}quote(e){return st(e,'"')}},java:class{generateLocator(e,t,n,r={}){let o;switch(e){case"page":o="Page";break;case"frame-locator":o="FrameLocator";break;case"locator":o="Locator"}switch(t){case"default":return void 0!==r.hasText?`locator(${this.quote(n)}, new ${o}.LocatorOptions().setHasText(${this.toHasText(r.hasText)}))`:void 0!==r.hasNotText?`locator(${this.quote(n)}, new ${o}.LocatorOptions().setHasNotText(${this.toHasText(r.hasNotText)}))`:`locator(${this.quote(n)})`;case"frame-locator":return`frameLocator(${this.quote(n)})`;case"frame":return"contentFrame()";case"nth":return`nth(${n})`;case"first":return"first()";case"last":return"last()";case"visible":return`filter(new ${o}.FilterOptions().setVisible(${"true"===n?"true":"false"}))`;case"role":const e=[];ft(r.name)?e.push(`.setName(${this.regexToString(r.name)})`):"string"==typeof r.name&&(e.push(`.setName(${this.quote(r.name)})`),r.exact&&e.push(".setExact(true)"));for(const{name:t,value:n}of r.attrs)e.push(`.set${at(t)}(${"string"==typeof n?this.quote(n):n})`);const i=e.length?`, new ${o}.GetByRoleOptions()${e.join("")}`:"";return`getByRole(AriaRole.${lt(n).toUpperCase()}${i})`;case"has-text":return`filter(new ${o}.FilterOptions().setHasText(${this.toHasText(n)}))`;case"has-not-text":return`filter(new ${o}.FilterOptions().setHasNotText(${this.toHasText(n)}))`;case"has":return`filter(new ${o}.FilterOptions().setHas(${n}))`;case"hasNot":return`filter(new ${o}.FilterOptions().setHasNot(${n}))`;case"and":return`and(${n})`;case"or":return`or(${n})`;case"chain":return`locator(${n})`;case"test-id":return`getByTestId(${this.toTestIdValue(n)})`;case"text":return this.toCallWithExact(o,"getByText",n,!!r.exact);case"alt":return this.toCallWithExact(o,"getByAltText",n,!!r.exact);case"placeholder":return this.toCallWithExact(o,"getByPlaceholder",n,!!r.exact);case"label":return this.toCallWithExact(o,"getByLabel",n,!!r.exact);case"title":return this.toCallWithExact(o,"getByTitle",n,!!r.exact);default:throw new Error("Unknown selector kind "+t)}}chainLocators(e){return e.join(".")}regexToString(e){const t=e.flags.includes("i")?", Pattern.CASE_INSENSITIVE":"";return`Pattern.compile(${this.quote(ct(e.source))}${t})`}toCallWithExact(e,t,n,r){return ft(n)?`${t}(${this.regexToString(n)})`:r?`${t}(${this.quote(n)}, new ${e}.${at(t)}Options().setExact(true))`:`${t}(${this.quote(n)})`}toHasText(e){return ft(e)?this.regexToString(e):this.quote(e)}toTestIdValue(e){return ft(e)?this.regexToString(e):this.quote(e)}quote(e){return st(e,'"')}},csharp:class{generateLocator(e,t,n,r={}){switch(t){case"default":return void 0!==r.hasText?`Locator(${this.quote(n)}, new() { ${this.toHasText(r.hasText)} })`:void 0!==r.hasNotText?`Locator(${this.quote(n)}, new() { ${this.toHasNotText(r.hasNotText)} })`:`Locator(${this.quote(n)})`;case"frame-locator":return`FrameLocator(${this.quote(n)})`;case"frame":return"ContentFrame";case"nth":return`Nth(${n})`;case"first":return"First";case"last":return"Last";case"visible":return`Filter(new() { Visible = ${"true"===n?"true":"false"} })`;case"role":const e=[];ft(r.name)?e.push(`NameRegex = ${this.regexToString(r.name)}`):"string"==typeof r.name&&(e.push(`Name = ${this.quote(r.name)}`),r.exact&&e.push("Exact = true"));for(const{name:t,value:n}of r.attrs)e.push(`${at(t)} = ${"string"==typeof n?this.quote(n):n}`);const o=e.length?`, new() { ${e.join(", ")} }`:"";return`GetByRole(AriaRole.${at(n)}${o})`;case"has-text":return`Filter(new() { ${this.toHasText(n)} })`;case"has-not-text":return`Filter(new() { ${this.toHasNotText(n)} })`;case"has":return`Filter(new() { Has = ${n} })`;case"hasNot":return`Filter(new() { HasNot = ${n} })`;case"and":return`And(${n})`;case"or":return`Or(${n})`;case"chain":return`Locator(${n})`;case"test-id":return`GetByTestId(${this.toTestIdValue(n)})`;case"text":return this.toCallWithExact("GetByText",n,!!r.exact);case"alt":return this.toCallWithExact("GetByAltText",n,!!r.exact);case"placeholder":return this.toCallWithExact("GetByPlaceholder",n,!!r.exact);case"label":return this.toCallWithExact("GetByLabel",n,!!r.exact);case"title":return this.toCallWithExact("GetByTitle",n,!!r.exact);default:throw new Error("Unknown selector kind "+t)}}chainLocators(e){return e.join(".")}regexToString(e){const t=e.flags.includes("i")?", RegexOptions.IgnoreCase":"";return`new Regex(${this.quote(ct(e.source))}${t})`}toCallWithExact(e,t,n){return ft(t)?`${e}(${this.regexToString(t)})`:n?`${e}(${this.quote(t)}, new() { Exact = true })`:`${e}(${this.quote(t)})`}toHasText(e){return ft(e)?`HasTextRegex = ${this.regexToString(e)}`:`HasText = ${this.quote(e)}`}toTestIdValue(e){return ft(e)?this.regexToString(e):this.quote(e)}toHasNotText(e){return ft(e)?`HasNotTextRegex = ${this.regexToString(e)}`:`HasNotText = ${this.quote(e)}`}quote(e){return st(e,'"')}},jsonl:class{generateLocator(e,t,n,r={}){return JSON.stringify({kind:t,body:n,options:r})}chainLocators(e){const t=e.map(e=>JSON.parse(e));for(let e=0;e<t.length-1;++e)t[e].next=t[e+1];return JSON.stringify(t[0])}}};function ft(e){return e instanceof RegExp}const mt=({language:e,log:t})=>{const n=g.useRef(null),[r,o]=g.useState(new Map);return g.useLayoutEffect(()=>{var e;t.find(e=>e.reveal)&&(null==(e=n.current)||e.scrollIntoView({block:"center",inline:"nearest"}))},[n,t]),d.jsxs("div",{className:"call-log",style:{flex:"auto"},children:[t.map(t=>{const n=r.get(t.id),i="boolean"==typeof n?n:"done"!==t.status,s=t.params.selector?ut(e,t.params.selector):null;let a=t.title,l="";return t.title.startsWith("expect.to")||t.title.startsWith("expect.not.to")?(a="expect(",l=`).${t.title.substring(7)}()`):t.title.startsWith("locator.")?(a="",l=`.${t.title.substring(8)}()`):(s||t.params.url)&&(a=t.title+"(",l=")"),d.jsxs("div",{className:x("call-log-call",t.status),children:[d.jsxs("div",{className:"call-log-call-header",children:[d.jsx("span",{className:x("codicon","codicon-chevron-"+(i?"down":"right")),style:{cursor:"pointer"},onClick:()=>{const e=new Map(r);e.set(t.id,!i),o(e)}}),a,t.params.url?d.jsx("span",{className:"call-log-details",children:d.jsx("span",{className:"call-log-url",title:t.params.url,children:t.params.url})}):void 0,s?d.jsx("span",{className:"call-log-details",children:d.jsx("span",{className:"call-log-selector",title:`page.${s}`,children:`page.${s}`})}):void 0,l,d.jsx("span",{className:x("codicon",gt(t))}),"number"==typeof t.duration?d.jsxs("span",{className:"call-log-time",children:[" ",y(t.duration)]}):void 0]}),(i?t.messages:[]).map((e,t)=>d.jsx("div",{className:"call-log-message",children:e.trim()},t)),!!t.error&&d.jsx("div",{className:"call-log-message error",hidden:!i,children:t.error})]},t.id)}),d.jsx("div",{ref:n})]})};function gt(e){switch(e.status){case"done":return"codicon-check";case"in-progress":return"codicon-clock";case"paused":return"codicon-debug-pause";case"error":return"codicon-error"}}const bt=Symbol.for("yaml.alias"),wt=Symbol.for("yaml.document"),yt=Symbol.for("yaml.map"),vt=Symbol.for("yaml.pair"),At=Symbol.for("yaml.scalar"),_t=Symbol.for("yaml.seq"),xt=Symbol.for("yaml.node.type"),St=e=>!!e&&"object"==typeof e&&e[xt]===bt,Et=e=>!!e&&"object"==typeof e&&e[xt]===wt,Ct=e=>!!e&&"object"==typeof e&&e[xt]===yt,kt=e=>!!e&&"object"==typeof e&&e[xt]===vt,Ot=e=>!!e&&"object"==typeof e&&e[xt]===At,Tt=e=>!!e&&"object"==typeof e&&e[xt]===_t;function It(e){if(e&&"object"==typeof e)switch(e[xt]){case yt:case _t:return!0}return!1}function Bt(e){if(e&&"object"==typeof e)switch(e[xt]){case bt:case yt:case At:case _t:return!0}return!1}const Mt=Symbol("break visit"),Pt=Symbol("skip children"),jt=Symbol("remove node");function Nt(e,t){const n=Lt(t);Et(e)?Ft(null,e.contents,n,Object.freeze([e]))===jt&&(e.contents=null):Ft(null,e,n,Object.freeze([]))}function Ft(e,t,n,r){const o=zt(e,t,n,r);if(Bt(o)||kt(o))return Ht(e,r,o),Ft(e,o,n,r);if("symbol"!=typeof o)if(It(t)){r=Object.freeze(r.concat(t));for(let e=0;e<t.items.length;++e){const o=Ft(e,t.items[e],n,r);if("number"==typeof o)e=o-1;else{if(o===Mt)return Mt;o===jt&&(t.items.splice(e,1),e-=1)}}}else if(kt(t)){r=Object.freeze(r.concat(t));const e=Ft("key",t.key,n,r);if(e===Mt)return Mt;e===jt&&(t.key=null);const o=Ft("value",t.value,n,r);if(o===Mt)return Mt;o===jt&&(t.value=null)}return o}async function Dt(e,t){const n=Lt(t);Et(e)?await Rt(null,e.contents,n,Object.freeze([e]))===jt&&(e.contents=null):await Rt(null,e,n,Object.freeze([]))}async function Rt(e,t,n,r){const o=await zt(e,t,n,r);if(Bt(o)||kt(o))return Ht(e,r,o),Rt(e,o,n,r);if("symbol"!=typeof o)if(It(t)){r=Object.freeze(r.concat(t));for(let e=0;e<t.items.length;++e){const o=await Rt(e,t.items[e],n,r);if("number"==typeof o)e=o-1;else{if(o===Mt)return Mt;o===jt&&(t.items.splice(e,1),e-=1)}}}else if(kt(t)){r=Object.freeze(r.concat(t));const e=await Rt("key",t.key,n,r);if(e===Mt)return Mt;e===jt&&(t.key=null);const o=await Rt("value",t.value,n,r);if(o===Mt)return Mt;o===jt&&(t.value=null)}return o}function Lt(e){return"object"==typeof e&&(e.Collection||e.Node||e.Value)?Object.assign({Alias:e.Node,Map:e.Node,Scalar:e.Node,Seq:e.Node},e.Value&&{Map:e.Value,Scalar:e.Value,Seq:e.Value},e.Collection&&{Map:e.Collection,Seq:e.Collection},e):e}function zt(e,t,n,r){var o,i,s,a,l;return"function"==typeof n?n(e,t,r):Ct(t)?null==(o=n.Map)?void 0:o.call(n,e,t,r):Tt(t)?null==(i=n.Seq)?void 0:i.call(n,e,t,r):kt(t)?null==(s=n.Pair)?void 0:s.call(n,e,t,r):Ot(t)?null==(a=n.Scalar)?void 0:a.call(n,e,t,r):St(t)?null==(l=n.Alias)?void 0:l.call(n,e,t,r):void 0}function Ht(e,t,n){const r=t[t.length-1];if(It(r))r.items[e]=n;else if(kt(r))"key"===e?r.key=n:r.value=n;else{if(!Et(r)){const e=St(r)?"alias":"scalar";throw new Error(`Cannot replace node with ${e} parent`)}r.contents=n}}Nt.BREAK=Mt,Nt.SKIP=Pt,Nt.REMOVE=jt,Dt.BREAK=Mt,Dt.SKIP=Pt,Dt.REMOVE=jt;const Ut={"!":"%21",",":"%2C","[":"%5B","]":"%5D","{":"%7B","}":"%7D"},Qt=e=>e.replace(/[!,[\]{}]/g,e=>Ut[e]);class qt{constructor(e,t){this.docStart=null,this.docEnd=!1,this.yaml=Object.assign({},qt.defaultYaml,e),this.tags=Object.assign({},qt.defaultTags,t)}clone(){const e=new qt(this.yaml,this.tags);return e.docStart=this.docStart,e}atDocument(){const e=new qt(this.yaml,this.tags);switch(this.yaml.version){case"1.1":this.atNextDocument=!0;break;case"1.2":this.atNextDocument=!1,this.yaml={explicit:qt.defaultYaml.explicit,version:"1.2"},this.tags=Object.assign({},qt.defaultTags)}return e}add(e,t){this.atNextDocument&&(this.yaml={explicit:qt.defaultYaml.explicit,version:"1.1"},this.tags=Object.assign({},qt.defaultTags),this.atNextDocument=!1);const n=e.trim().split(/[ \t]+/),r=n.shift();switch(r){case"%TAG":{if(2!==n.length&&(t(0,"%TAG directive should contain exactly two parts"),n.length<2))return!1;const[e,r]=n;return this.tags[e]=r,!0}case"%YAML":{if(this.yaml.explicit=!0,1!==n.length)return t(0,"%YAML directive should contain exactly one part"),!1;const[e]=n;return"1.1"===e||"1.2"===e?(this.yaml.version=e,!0):(t(6,`Unsupported YAML version ${e}`,/^\d+\.\d+$/.test(e)),!1)}default:return t(0,`Unknown directive ${r}`,!0),!1}}tagName(e,t){if("!"===e)return"!";if("!"!==e[0])return t(`Not a valid tag: ${e}`),null;if("<"===e[1]){const n=e.slice(2,-1);return"!"===n||"!!"===n?(t(`Verbatim tags aren't resolved, so ${e} is invalid.`),null):(">"!==e[e.length-1]&&t("Verbatim tags must end with a >"),n)}const[,n,r]=e.match(/^(.*!)([^!]*)$/s);r||t(`The ${e} tag has no suffix`);const o=this.tags[n];if(o)try{return o+decodeURIComponent(r)}catch(e){return t(String(e)),null}return"!"===n?e:(t(`Could not resolve tag: ${e}`),null)}tagString(e){for(const[t,n]of Object.entries(this.tags))if(e.startsWith(n))return t+Qt(e.substring(n.length));return"!"===e[0]?e:`!<${e}>`}toString(e){const t=this.yaml.explicit?[`%YAML ${this.yaml.version||"1.2"}`]:[],n=Object.entries(this.tags);let r;if(e&&n.length>0&&Bt(e.contents)){const t={};Nt(e.contents,(e,n)=>{Bt(n)&&n.tag&&(t[n.tag]=!0)}),r=Object.keys(t)}else r=[];for(const[o,i]of n)"!!"===o&&"tag:yaml.org,2002:"===i||(!e||r.some(e=>e.startsWith(i)))&&t.push(`%TAG ${o} ${i}`);return t.join("\n")}}function Wt(e){if(/[\x00-\x19\s,[\]{}]/.test(e)){const t=`Anchor must not contain whitespace or control characters: ${JSON.stringify(e)}`;throw new Error(t)}return!0}function $t(e){const t=new Set;return Nt(e,{Value(e,n){n.anchor&&t.add(n.anchor)}}),t}function Gt(e,t){for(let n=1;;++n){const r=`${e}${n}`;if(!t.has(r))return r}}function Vt(e,t,n,r){if(r&&"object"==typeof r)if(Array.isArray(r))for(let t=0,n=r.length;t<n;++t){const n=r[t],o=Vt(e,r,String(t),n);void 0===o?delete r[t]:o!==n&&(r[t]=o)}else if(r instanceof Map)for(const t of Array.from(r.keys())){const n=r.get(t),o=Vt(e,r,t,n);void 0===o?r.delete(t):o!==n&&r.set(t,o)}else if(r instanceof Set)for(const t of Array.from(r)){const n=Vt(e,r,t,t);void 0===n?r.delete(t):n!==t&&(r.delete(t),r.add(n))}else for(const[t,n]of Object.entries(r)){const o=Vt(e,r,t,n);void 0===o?delete r[t]:o!==n&&(r[t]=o)}return e.call(t,n,r)}function Yt(e,t,n){if(Array.isArray(e))return e.map((e,t)=>Yt(e,String(t),n));if(e&&"function"==typeof e.toJSON){if(!n||!(e=>(Ot(e)||It(e))&&!!e.anchor)(e))return e.toJSON(t,n);const r={aliasCount:0,count:1,res:void 0};n.anchors.set(e,r),n.onCreate=e=>{r.res=e,delete n.onCreate};const o=e.toJSON(t,n);return n.onCreate&&n.onCreate(o),o}return"bigint"!=typeof e||null!=n&&n.keep?e:Number(e)}qt.defaultYaml={explicit:!1,version:"1.2"},qt.defaultTags={"!!":"tag:yaml.org,2002:"};class Jt{constructor(e){Object.defineProperty(this,xt,{value:e})}clone(){const e=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return this.range&&(e.range=this.range.slice()),e}toJS(e,{mapAsMap:t,maxAliasCount:n,onAnchor:r,reviver:o}={}){if(!Et(e))throw new TypeError("A document argument is required");const i={anchors:new Map,doc:e,keep:!0,mapAsMap:!0===t,mapKeyWarned:!1,maxAliasCount:"number"==typeof n?n:100},s=Yt(this,"",i);if("function"==typeof r)for(const{count:e,res:t}of i.anchors.values())r(t,e);return"function"==typeof o?Vt(o,{"":s},"",s):s}}class Kt extends Jt{constructor(e){super(bt),this.source=e,Object.defineProperty(this,"tag",{set(){throw new Error("Alias nodes cannot have tags")}})}resolve(e){let t;return Nt(e,{Node:(e,n)=>{if(n===this)return Nt.BREAK;n.anchor===this.source&&(t=n)}}),t}toJSON(e,t){if(!t)return{source:this.source};const{anchors:n,doc:r,maxAliasCount:o}=t,i=this.resolve(r);if(!i){const e=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new ReferenceError(e)}let s=n.get(i);if(s||(Yt(i,null,t),s=n.get(i)),!s||void 0===s.res)throw new ReferenceError("This should not happen: Alias anchor was not resolved?");if(o>=0&&(s.count+=1,0===s.aliasCount&&(s.aliasCount=Xt(r,i,n)),s.count*s.aliasCount>o))throw new ReferenceError("Excessive alias count indicates a resource exhaustion attack");return s.res}toString(e,t,n){const r=`*${this.source}`;if(e){if(Wt(this.source),e.options.verifyAliasOrder&&!e.anchors.has(this.source)){const e=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new Error(e)}if(e.implicitKey)return`${r} `}return r}}function Xt(e,t,n){if(St(t)){const r=t.resolve(e),o=n&&r&&n.get(r);return o?o.count*o.aliasCount:0}if(It(t)){let r=0;for(const o of t.items){const t=Xt(e,o,n);t>r&&(r=t)}return r}if(kt(t)){const r=Xt(e,t.key,n),o=Xt(e,t.value,n);return Math.max(r,o)}return 1}const Zt=e=>!e||"function"!=typeof e&&"object"!=typeof e;class en extends Jt{constructor(e){super(At),this.value=e}toJSON(e,t){return null!=t&&t.keep?this.value:Yt(this.value,e,t)}toString(){return String(this.value)}}function tn(e,t,n){var r,o,i;if(Et(e)&&(e=e.contents),Bt(e))return e;if(kt(e)){const t=null==(o=(r=n.schema[yt]).createNode)?void 0:o.call(r,n.schema,null,n);return t.items.push(e),t}(e instanceof String||e instanceof Number||e instanceof Boolean||typeof BigInt<"u"&&e instanceof BigInt)&&(e=e.valueOf());const{aliasDuplicateObjects:s,onAnchor:a,onTagObj:l,schema:c,sourceObjects:u}=n;let d;if(s&&e&&"object"==typeof e){if(d=u.get(e),d)return d.anchor||(d.anchor=a(e)),new Kt(d.anchor);d={anchor:null,node:null},u.set(e,d)}null!=t&&t.startsWith("!!")&&(t="tag:yaml.org,2002:"+t.slice(2));let h=function(e,t,n){if(t){const e=n.filter(e=>e.tag===t),r=e.find(e=>!e.format)??e[0];if(!r)throw new Error(`Tag ${t} not found`);return r}return n.find(t=>{var n;return(null==(n=t.identify)?void 0:n.call(t,e))&&!t.format})}(e,t,c.tags);if(!h){if(e&&"function"==typeof e.toJSON&&(e=e.toJSON()),!e||"object"!=typeof e){const t=new en(e);return d&&(d.node=t),t}h=e instanceof Map?c[yt]:Symbol.iterator in Object(e)?c[_t]:c[yt]}l&&(l(h),delete n.onTagObj);const p=null!=h&&h.createNode?h.createNode(n.schema,e,n):"function"==typeof(null==(i=null==h?void 0:h.nodeClass)?void 0:i.from)?h.nodeClass.from(n.schema,e,n):new en(e);return t?p.tag=t:h.default||(p.tag=h.tag),d&&(d.node=p),p}function nn(e,t,n){let r=n;for(let e=t.length-1;e>=0;--e){const n=t[e];if("number"==typeof n&&Number.isInteger(n)&&n>=0){const e=[];e[n]=r,r=e}else r=new Map([[n,r]])}return tn(r,void 0,{aliasDuplicateObjects:!1,keepUndefined:!1,onAnchor:()=>{throw new Error("This should not happen, please report a bug.")},schema:e,sourceObjects:new Map})}en.BLOCK_FOLDED="BLOCK_FOLDED",en.BLOCK_LITERAL="BLOCK_LITERAL",en.PLAIN="PLAIN",en.QUOTE_DOUBLE="QUOTE_DOUBLE",en.QUOTE_SINGLE="QUOTE_SINGLE";const rn=e=>null==e||"object"==typeof e&&!!e[Symbol.iterator]().next().done;class on extends Jt{constructor(e,t){super(e),Object.defineProperty(this,"schema",{value:t,configurable:!0,enumerable:!1,writable:!0})}clone(e){const t=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return e&&(t.schema=e),t.items=t.items.map(t=>Bt(t)||kt(t)?t.clone(e):t),this.range&&(t.range=this.range.slice()),t}addIn(e,t){if(rn(e))this.add(t);else{const[n,...r]=e,o=this.get(n,!0);if(It(o))o.addIn(r,t);else{if(void 0!==o||!this.schema)throw new Error(`Expected YAML collection at ${n}. Remaining path: ${r}`);this.set(n,nn(this.schema,r,t))}}}deleteIn(e){const[t,...n]=e;if(0===n.length)return this.delete(t);const r=this.get(t,!0);if(It(r))return r.deleteIn(n);throw new Error(`Expected YAML collection at ${t}. Remaining path: ${n}`)}getIn(e,t){const[n,...r]=e,o=this.get(n,!0);return 0===r.length?!t&&Ot(o)?o.value:o:It(o)?o.getIn(r,t):void 0}hasAllNullValues(e){return this.items.every(t=>{if(!kt(t))return!1;const n=t.value;return null==n||e&&Ot(n)&&null==n.value&&!n.commentBefore&&!n.comment&&!n.tag})}hasIn(e){const[t,...n]=e;if(0===n.length)return this.has(t);const r=this.get(t,!0);return!!It(r)&&r.hasIn(n)}setIn(e,t){const[n,...r]=e;if(0===r.length)this.set(n,t);else{const e=this.get(n,!0);if(It(e))e.setIn(r,t);else{if(void 0!==e||!this.schema)throw new Error(`Expected YAML collection at ${n}. Remaining path: ${r}`);this.set(n,nn(this.schema,r,t))}}}}const sn=e=>e.replace(/^(?!$)(?: $)?/gm,"#");function an(e,t){return/^\n+$/.test(e)?e.substring(1):t?e.replace(/^(?! *$)/gm,t):e}const ln=(e,t,n)=>e.endsWith("\n")?an(n,t):n.includes("\n")?"\n"+an(n,t):(e.endsWith(" ")?"":" ")+n,cn="flow",un="block",dn="quoted";function hn(e,t,n="flow",{indentAtStart:r,lineWidth:o=80,minContentWidth:i=20,onFold:s,onOverflow:a}={}){if(!o||o<0)return e;o<i&&(i=0);const l=Math.max(1+i,1+o-t.length);if(e.length<=l)return e;const c=[],u={};let d=o-t.length;"number"==typeof r&&(r>o-Math.max(2,i)?c.push(0):d=o-r);let h,p,f=!1,m=-1,g=-1,b=-1;n===un&&(m=pn(e,m,t.length),-1!==m&&(d=m+l));for(let r;r=e[m+=1];){if(n===dn&&"\\"===r){switch(g=m,e[m+1]){case"x":m+=3;break;case"u":m+=5;break;case"U":m+=9;break;default:m+=1}b=m}if("\n"===r)n===un&&(m=pn(e,m,t.length)),d=m+t.length+l,h=void 0;else{if(" "===r&&p&&" "!==p&&"\n"!==p&&"\t"!==p){const t=e[m+1];t&&" "!==t&&"\n"!==t&&"\t"!==t&&(h=m)}if(m>=d)if(h)c.push(h),d=h+l,h=void 0;else if(n===dn){for(;" "===p||"\t"===p;)p=r,r=e[m+=1],f=!0;const t=m>b+1?m-2:g-1;if(u[t])return e;c.push(t),u[t]=!0,d=t+l,h=void 0}else f=!0}p=r}if(f&&a&&a(),0===c.length)return e;s&&s();let w=e.slice(0,c[0]);for(let r=0;r<c.length;++r){const o=c[r],i=c[r+1]||e.length;0===o?w=`\n${t}${e.slice(0,i)}`:(n===dn&&u[o]&&(w+=`${e[o]}\\`),w+=`\n${t}${e.slice(o+1,i)}`)}return w}function pn(e,t,n){let r=t,o=t+1,i=e[o];for(;" "===i||"\t"===i;)if(t<o+n)i=e[++t];else{do{i=e[++t]}while(i&&"\n"!==i);r=t,o=t+1,i=e[o]}return r}const fn=(e,t)=>({indentAtStart:t?e.indent.length:e.indentAtStart,lineWidth:e.options.lineWidth,minContentWidth:e.options.minContentWidth}),mn=e=>/^(%|---|\.\.\.)/m.test(e);function gn(e,t){const n=JSON.stringify(e);if(t.options.doubleQuotedAsJSON)return n;const{implicitKey:r}=t,o=t.options.doubleQuotedMinMultiLineLength,i=t.indent||(mn(e)?"  ":"");let s="",a=0;for(let e=0,t=n[e];t;t=n[++e])if(" "===t&&"\\"===n[e+1]&&"n"===n[e+2]&&(s+=n.slice(a,e)+"\\ ",e+=1,a=e,t="\\"),"\\"===t)switch(n[e+1]){case"u":{s+=n.slice(a,e);const t=n.substr(e+2,4);switch(t){case"0000":s+="\\0";break;case"0007":s+="\\a";break;case"000b":s+="\\v";break;case"001b":s+="\\e";break;case"0085":s+="\\N";break;case"00a0":s+="\\_";break;case"2028":s+="\\L";break;case"2029":s+="\\P";break;default:"00"===t.substr(0,2)?s+="\\x"+t.substr(2):s+=n.substr(e,6)}e+=5,a=e+1}break;case"n":if(r||'"'===n[e+2]||n.length<o)e+=1;else{for(s+=n.slice(a,e)+"\n\n";"\\"===n[e+2]&&"n"===n[e+3]&&'"'!==n[e+4];)s+="\n",e+=2;s+=i," "===n[e+2]&&(s+="\\"),e+=1,a=e+1}break;default:e+=1}return s=a?s+n.slice(a):n,r?s:hn(s,i,dn,fn(t,!1))}function bn(e,t){if(!1===t.options.singleQuote||t.implicitKey&&e.includes("\n")||/[ \t]\n|\n[ \t]/.test(e))return gn(e,t);const n=t.indent||(mn(e)?"  ":""),r="'"+e.replace(/'/g,"''").replace(/\n+/g,`$&\n${n}`)+"'";return t.implicitKey?r:hn(r,n,cn,fn(t,!1))}function wn(e,t){const{singleQuote:n}=t.options;let r;if(!1===n)r=gn;else{const t=e.includes('"'),o=e.includes("'");r=t&&!o?bn:o&&!t?gn:n?bn:gn}return r(e,t)}let yn;try{yn=new RegExp("(^|(?<!\n))\n+(?!\n|$)","g")}catch{yn=/\n+(?!\n|$)/g}function vn({comment:e,type:t,value:n},r,o,i){const{blockQuote:s,commentString:a,lineWidth:l}=r.options;if(!s||/\n[\t ]+$/.test(n)||/^\s*$/.test(n))return wn(n,r);const c=r.indent||(r.forceBlockIndent||mn(n)?"  ":""),u="literal"===s||"folded"!==s&&t!==en.BLOCK_FOLDED&&(t===en.BLOCK_LITERAL||!function(e,t,n){if(!t||t<0)return!1;const r=t-n,o=e.length;if(o<=r)return!1;for(let t=0,n=0;t<o;++t)if("\n"===e[t]){if(t-n>r)return!0;if(n=t+1,o-n<=r)return!1}return!0}(n,l,c.length));if(!n)return u?"|\n":">\n";let d,h;for(h=n.length;h>0;--h){const e=n[h-1];if("\n"!==e&&"\t"!==e&&" "!==e)break}let p=n.substring(h);const f=p.indexOf("\n");-1===f?d="-":n===p||f!==p.length-1?(d="+",i&&i()):d="",p&&(n=n.slice(0,-p.length),"\n"===p[p.length-1]&&(p=p.slice(0,-1)),p=p.replace(yn,`$&${c}`));let m,g=!1,b=-1;for(m=0;m<n.length;++m){const e=n[m];if(" "===e)g=!0;else{if("\n"!==e)break;b=m}}let w=n.substring(0,b<m?b+1:m);w&&(n=n.substring(w.length),w=w.replace(/\n+/g,`$&${c}`));let y=(u?"|":">")+(g?c?"2":"1":"")+d;return e&&(y+=" "+a(e.replace(/ ?[\r\n]+/g," ")),o&&o()),u?`${y}\n${c}${w}${n=n.replace(/\n+/g,`$&${c}`)}${p}`:`${y}\n${c}${hn(`${w}${n=n.replace(/\n+/g,"\n$&").replace(/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g,"$1$2").replace(/\n+/g,`$&${c}`)}${p}`,c,un,fn(r,!0))}`}function An(e,t,n,r){const{implicitKey:o,inFlow:i}=t,s="string"==typeof e.value?e:Object.assign({},e,{value:String(e.value)});let{type:a}=e;a!==en.QUOTE_DOUBLE&&/[\x00-\x08\x0b-\x1f\x7f-\x9f\u{D800}-\u{DFFF}]/u.test(s.value)&&(a=en.QUOTE_DOUBLE);const l=e=>{switch(e){case en.BLOCK_FOLDED:case en.BLOCK_LITERAL:return o||i?wn(s.value,t):vn(s,t,n,r);case en.QUOTE_DOUBLE:return gn(s.value,t);case en.QUOTE_SINGLE:return bn(s.value,t);case en.PLAIN:return function(e,t,n,r){const{type:o,value:i}=e,{actualString:s,implicitKey:a,indent:l,indentStep:c,inFlow:u}=t;if(a&&i.includes("\n")||u&&/[[\]{},]/.test(i))return wn(i,t);if(!i||/^[\n\t ,[\]{}#&*!|>'"%@`]|^[?-]$|^[?-][ \t]|[\n:][ \t]|[ \t]\n|[\n\t ]#|[\n\t :]$/.test(i))return a||u||!i.includes("\n")?wn(i,t):vn(e,t,n,r);if(!a&&!u&&o!==en.PLAIN&&i.includes("\n"))return vn(e,t,n,r);if(mn(i)){if(""===l)return t.forceBlockIndent=!0,vn(e,t,n,r);if(a&&l===c)return wn(i,t)}const d=i.replace(/\n+/g,`$&\n${l}`);if(s){const e=e=>{var t;return e.default&&"tag:yaml.org,2002:str"!==e.tag&&(null==(t=e.test)?void 0:t.test(d))},{compat:n,tags:r}=t.doc.schema;if(r.some(e)||null!=n&&n.some(e))return wn(i,t)}return a?d:hn(d,l,cn,fn(t,!1))}(s,t,n,r);default:return null}};let c=l(a);if(null===c){const{defaultKeyType:e,defaultStringType:n}=t.options,r=o&&e||n;if(c=l(r),null===c)throw new Error(`Unsupported default string type ${r}`)}return c}function _n(e,t){const n=Object.assign({blockQuote:!0,commentString:sn,defaultKeyType:null,defaultStringType:"PLAIN",directives:null,doubleQuotedAsJSON:!1,doubleQuotedMinMultiLineLength:40,falseStr:"false",flowCollectionPadding:!0,indentSeq:!0,lineWidth:80,minContentWidth:20,nullStr:"null",simpleKeys:!1,singleQuote:null,trueStr:"true",verifyAliasOrder:!0},e.schema.toStringOptions,t);let r;switch(n.collectionStyle){case"block":r=!1;break;case"flow":r=!0;break;default:r=null}return{anchors:new Set,doc:e,flowCollectionPadding:n.flowCollectionPadding?" ":"",indent:"",indentStep:"number"==typeof n.indent?" ".repeat(n.indent):"  ",inFlow:r,options:n}}function xn(e,t,n,r){var o;if(kt(e))return e.toString(t,n,r);if(St(e)){if(t.doc.directives)return e.toString(t);if(null!=(o=t.resolvedAliases)&&o.has(e))throw new TypeError("Cannot stringify circular structure without alias nodes");t.resolvedAliases?t.resolvedAliases.add(e):t.resolvedAliases=new Set([e]),e=e.resolve(t.doc)}let i;const s=Bt(e)?e:t.doc.createNode(e,{onTagObj:e=>i=e});i||(i=function(e,t){var n;if(t.tag){const n=e.filter(e=>e.tag===t.tag);if(n.length>0)return n.find(e=>e.format===t.format)??n[0]}let r,o;if(Ot(t)){o=t.value;let n=e.filter(e=>{var t;return null==(t=e.identify)?void 0:t.call(e,o)});if(n.length>1){const e=n.filter(e=>e.test);e.length>0&&(n=e)}r=n.find(e=>e.format===t.format)??n.find(e=>!e.format)}else o=t,r=e.find(e=>e.nodeClass&&o instanceof e.nodeClass);if(!r){const e=(null==(n=null==o?void 0:o.constructor)?void 0:n.name)??typeof o;throw new Error(`Tag not resolved for ${e} value`)}return r}(t.doc.schema.tags,s));const a=function(e,t,{anchors:n,doc:r}){if(!r.directives)return"";const o=[],i=(Ot(e)||It(e))&&e.anchor;i&&Wt(i)&&(n.add(i),o.push(`&${i}`));const s=e.tag?e.tag:t.default?null:t.tag;return s&&o.push(r.directives.tagString(s)),o.join(" ")}(s,i,t);a.length>0&&(t.indentAtStart=(t.indentAtStart??0)+a.length+1);const l="function"==typeof i.stringify?i.stringify(s,t,n,r):Ot(s)?An(s,t,n,r):s.toString(t,n,r);return a?Ot(s)||"{"===l[0]||"["===l[0]?`${a} ${l}`:`${a}\n${t.indent}${l}`:l}function Sn(e,t){("debug"===e||"warn"===e)&&(typeof process<"u"&&process.emitWarning?process.emitWarning(t):console.warn(t))}const En="<<",Cn={identify:e=>e===En||"symbol"==typeof e&&e.description===En,default:"key",tag:"tag:yaml.org,2002:merge",test:/^<<$/,resolve:()=>Object.assign(new en(Symbol(En)),{addToJSMap:kn}),stringify:()=>En};function kn(e,t,n){if(n=e&&St(n)?n.resolve(e.doc):n,Tt(n))for(const r of n.items)On(e,t,r);else if(Array.isArray(n))for(const r of n)On(e,t,r);else On(e,t,n)}function On(e,t,n){const r=e&&St(n)?n.resolve(e.doc):n;if(!Ct(r))throw new Error("Merge sources must be maps or map aliases");const o=r.toJSON(null,e,Map);for(const[e,n]of o)t instanceof Map?t.has(e)||t.set(e,n):t instanceof Set?t.add(e):Object.prototype.hasOwnProperty.call(t,e)||Object.defineProperty(t,e,{value:n,writable:!0,enumerable:!0,configurable:!0});return t}function Tn(e,t,{key:n,value:r}){if(Bt(n)&&n.addToJSMap)n.addToJSMap(e,t,r);else if(((e,t)=>(Cn.identify(t)||Ot(t)&&(!t.type||t.type===en.PLAIN)&&Cn.identify(t.value))&&(null==e?void 0:e.doc.schema.tags.some(e=>e.tag===Cn.tag&&e.default)))(e,n))kn(e,t,r);else{const o=Yt(n,"",e);if(t instanceof Map)t.set(o,Yt(r,o,e));else if(t instanceof Set)t.add(o);else{const i=function(e,t,n){if(null===t)return"";if("object"!=typeof t)return String(t);if(Bt(e)&&null!=n&&n.doc){const t=_n(n.doc,{});t.anchors=new Set;for(const e of n.anchors.keys())t.anchors.add(e.anchor);t.inFlow=!0,t.inStringifyKey=!0;const r=e.toString(t);if(!n.mapKeyWarned){let e=JSON.stringify(r);e.length>40&&(e=e.substring(0,36)+'..."'),Sn(n.doc.options.logLevel,`Keys with collection values will be stringified due to JS Object restrictions: ${e}. Set mapAsMap: true to use object keys.`),n.mapKeyWarned=!0}return r}return JSON.stringify(t)}(n,o,e),s=Yt(r,i,e);i in t?Object.defineProperty(t,i,{value:s,writable:!0,enumerable:!0,configurable:!0}):t[i]=s}}return t}function In(e,t,n){const r=tn(e,void 0,n),o=tn(t,void 0,n);return new Bn(r,o)}class Bn{constructor(e,t=null){Object.defineProperty(this,xt,{value:vt}),this.key=e,this.value=t}clone(e){let{key:t,value:n}=this;return Bt(t)&&(t=t.clone(e)),Bt(n)&&(n=n.clone(e)),new Bn(t,n)}toJSON(e,t){return Tn(t,null!=t&&t.mapAsMap?new Map:{},this)}toString(e,t,n){return null!=e&&e.doc?function({key:e,value:t},n,r,o){const{allNullValues:i,doc:s,indent:a,indentStep:l,options:{commentString:c,indentSeq:u,simpleKeys:d}}=n;let h=Bt(e)&&e.comment||null;if(d){if(h)throw new Error("With simple keys, key nodes cannot have comments");if(It(e)||!Bt(e)&&"object"==typeof e)throw new Error("With simple keys, collection cannot be used as a key value")}let p=!d&&(!e||h&&null==t&&!n.inFlow||It(e)||(Ot(e)?e.type===en.BLOCK_FOLDED||e.type===en.BLOCK_LITERAL:"object"==typeof e));n=Object.assign({},n,{allNullValues:!1,implicitKey:!p&&(d||!i),indent:a+l});let f,m,g,b=!1,w=!1,y=xn(e,n,()=>b=!0,()=>w=!0);if(!p&&!n.inFlow&&y.length>1024){if(d)throw new Error("With simple keys, single line scalar must not span more than 1024 characters");p=!0}if(n.inFlow){if(i||null==t)return b&&r&&r(),""===y?"?":p?`? ${y}`:y}else if(i&&!d||null==t&&p)return y=`? ${y}`,h&&!b?y+=ln(y,n.indent,c(h)):w&&o&&o(),y;b&&(h=null),p?(h&&(y+=ln(y,n.indent,c(h))),y=`? ${y}\n${a}:`):(y=`${y}:`,h&&(y+=ln(y,n.indent,c(h)))),Bt(t)?(f=!!t.spaceBefore,m=t.commentBefore,g=t.comment):(f=!1,m=null,g=null,t&&"object"==typeof t&&(t=s.createNode(t))),n.implicitKey=!1,!p&&!h&&Ot(t)&&(n.indentAtStart=y.length+1),w=!1,!u&&l.length>=2&&!n.inFlow&&!p&&Tt(t)&&!t.flow&&!t.tag&&!t.anchor&&(n.indent=n.indent.substring(2));let v=!1;const A=xn(t,n,()=>v=!0,()=>w=!0);let _=" ";if(h||f||m)_=f?"\n":"",m&&(_+=`\n${an(c(m),n.indent)}`),""!==A||n.inFlow?_+=`\n${n.indent}`:"\n"===_&&(_="\n\n");else if(!p&&It(t)){const e=A[0],r=A.indexOf("\n"),o=-1!==r,i=n.inFlow??t.flow??0===t.items.length;if(o||!i){let t=!1;if(o&&("&"===e||"!"===e)){let n=A.indexOf(" ");"&"===e&&-1!==n&&n<r&&"!"===A[n+1]&&(n=A.indexOf(" ",n+1)),(-1===n||r<n)&&(t=!0)}t||(_=`\n${n.indent}`)}}else(""===A||"\n"===A[0])&&(_="");return y+=_+A,n.inFlow?v&&r&&r():g&&!v?y+=ln(y,n.indent,c(g)):w&&o&&o(),y}(this,e,t,n):JSON.stringify(this)}}function Mn(e,t,n){return(t.inFlow??e.flow?jn:Pn)(e,t,n)}function Pn({comment:e,items:t},n,{blockItemPrefix:r,flowChars:o,itemIndent:i,onChompKeep:s,onComment:a}){const{indent:l,options:{commentString:c}}=n,u=Object.assign({},n,{indent:i,type:null});let d=!1;const h=[];for(let e=0;e<t.length;++e){const o=t[e];let s=null;if(Bt(o))!d&&o.spaceBefore&&h.push(""),Nn(n,h,o.commentBefore,d),o.comment&&(s=o.comment);else if(kt(o)){const e=Bt(o.key)?o.key:null;e&&(!d&&e.spaceBefore&&h.push(""),Nn(n,h,e.commentBefore,d))}d=!1;let a=xn(o,u,()=>s=null,()=>d=!0);s&&(a+=ln(a,i,c(s))),d&&s&&(d=!1),h.push(r+a)}let p;if(0===h.length)p=o.start+o.end;else{p=h[0];for(let e=1;e<h.length;++e){const t=h[e];p+=t?`\n${l}${t}`:"\n"}}return e?(p+="\n"+an(c(e),l),a&&a()):d&&s&&s(),p}function jn({items:e},t,{flowChars:n,itemIndent:r}){const{indent:o,indentStep:i,flowCollectionPadding:s,options:{commentString:a}}=t;r+=i;const l=Object.assign({},t,{indent:r,inFlow:!0,type:null});let c=!1,u=0;const d=[];for(let n=0;n<e.length;++n){const o=e[n];let i=null;if(Bt(o))o.spaceBefore&&d.push(""),Nn(t,d,o.commentBefore,!1),o.comment&&(i=o.comment);else if(kt(o)){const e=Bt(o.key)?o.key:null;e&&(e.spaceBefore&&d.push(""),Nn(t,d,e.commentBefore,!1),e.comment&&(c=!0));const n=Bt(o.value)?o.value:null;n?(n.comment&&(i=n.comment),n.commentBefore&&(c=!0)):null==o.value&&null!=e&&e.comment&&(i=e.comment)}i&&(c=!0);let s=xn(o,l,()=>i=null);n<e.length-1&&(s+=","),i&&(s+=ln(s,r,a(i))),!c&&(d.length>u||s.includes("\n"))&&(c=!0),d.push(s),u=d.length}const{start:h,end:p}=n;if(0===d.length)return h+p;if(!c){const e=d.reduce((e,t)=>e+t.length+2,2);c=t.options.lineWidth>0&&e>t.options.lineWidth}if(c){let e=h;for(const t of d)e+=t?`\n${i}${o}${t}`:"\n";return`${e}\n${o}${p}`}return`${h}${s}${d.join(" ")}${s}${p}`}function Nn({indent:e,options:{commentString:t}},n,r,o){if(r&&o&&(r=r.replace(/^\n+/,"")),r){const o=an(t(r),e);n.push(o.trimStart())}}function Fn(e,t){const n=Ot(t)?t.value:t;for(const r of e)if(kt(r)&&(r.key===t||r.key===n||Ot(r.key)&&r.key.value===n))return r}class Dn extends on{static get tagName(){return"tag:yaml.org,2002:map"}constructor(e){super(yt,e),this.items=[]}static from(e,t,n){const{keepUndefined:r,replacer:o}=n,i=new this(e),s=(e,s)=>{if("function"==typeof o)s=o.call(t,e,s);else if(Array.isArray(o)&&!o.includes(e))return;(void 0!==s||r)&&i.items.push(In(e,s,n))};if(t instanceof Map)for(const[e,n]of t)s(e,n);else if(t&&"object"==typeof t)for(const e of Object.keys(t))s(e,t[e]);return"function"==typeof e.sortMapEntries&&i.items.sort(e.sortMapEntries),i}add(e,t){var n;let r;r=kt(e)?e:e&&"object"==typeof e&&"key"in e?new Bn(e.key,e.value):new Bn(e,null==e?void 0:e.value);const o=Fn(this.items,r.key),i=null==(n=this.schema)?void 0:n.sortMapEntries;if(o){if(!t)throw new Error(`Key ${r.key} already set`);Ot(o.value)&&Zt(r.value)?o.value.value=r.value:o.value=r.value}else if(i){const e=this.items.findIndex(e=>i(r,e)<0);-1===e?this.items.push(r):this.items.splice(e,0,r)}else this.items.push(r)}delete(e){const t=Fn(this.items,e);return!!t&&this.items.splice(this.items.indexOf(t),1).length>0}get(e,t){const n=Fn(this.items,e),r=null==n?void 0:n.value;return(!t&&Ot(r)?r.value:r)??void 0}has(e){return!!Fn(this.items,e)}set(e,t){this.add(new Bn(e,t),!0)}toJSON(e,t,n){const r=n?new n:null!=t&&t.mapAsMap?new Map:{};null!=t&&t.onCreate&&t.onCreate(r);for(const e of this.items)Tn(t,r,e);return r}toString(e,t,n){if(!e)return JSON.stringify(this);for(const e of this.items)if(!kt(e))throw new Error(`Map items must all be pairs; found ${JSON.stringify(e)} instead`);return!e.allNullValues&&this.hasAllNullValues(!1)&&(e=Object.assign({},e,{allNullValues:!0})),Mn(this,e,{blockItemPrefix:"",flowChars:{start:"{",end:"}"},itemIndent:e.indent||"",onChompKeep:n,onComment:t})}}const Rn={collection:"map",default:!0,nodeClass:Dn,tag:"tag:yaml.org,2002:map",resolve:(e,t)=>(Ct(e)||t("Expected a mapping for this tag"),e),createNode:(e,t,n)=>Dn.from(e,t,n)};class Ln extends on{static get tagName(){return"tag:yaml.org,2002:seq"}constructor(e){super(_t,e),this.items=[]}add(e){this.items.push(e)}delete(e){const t=zn(e);return"number"==typeof t&&this.items.splice(t,1).length>0}get(e,t){const n=zn(e);if("number"!=typeof n)return;const r=this.items[n];return!t&&Ot(r)?r.value:r}has(e){const t=zn(e);return"number"==typeof t&&t<this.items.length}set(e,t){const n=zn(e);if("number"!=typeof n)throw new Error(`Expected a valid index, not ${e}.`);const r=this.items[n];Ot(r)&&Zt(t)?r.value=t:this.items[n]=t}toJSON(e,t){const n=[];null!=t&&t.onCreate&&t.onCreate(n);let r=0;for(const e of this.items)n.push(Yt(e,String(r++),t));return n}toString(e,t,n){return e?Mn(this,e,{blockItemPrefix:"- ",flowChars:{start:"[",end:"]"},itemIndent:(e.indent||"")+"  ",onChompKeep:n,onComment:t}):JSON.stringify(this)}static from(e,t,n){const{replacer:r}=n,o=new this(e);if(t&&Symbol.iterator in Object(t)){let e=0;for(let i of t){if("function"==typeof r){const n=t instanceof Set?i:String(e++);i=r.call(t,n,i)}o.items.push(tn(i,void 0,n))}}return o}}function zn(e){let t=Ot(e)?e.value:e;return t&&"string"==typeof t&&(t=Number(t)),"number"==typeof t&&Number.isInteger(t)&&t>=0?t:null}const Hn={collection:"seq",default:!0,nodeClass:Ln,tag:"tag:yaml.org,2002:seq",resolve:(e,t)=>(Tt(e)||t("Expected a sequence for this tag"),e),createNode:(e,t,n)=>Ln.from(e,t,n)},Un={identify:e=>"string"==typeof e,default:!0,tag:"tag:yaml.org,2002:str",resolve:e=>e,stringify:(e,t,n,r)=>An(e,t=Object.assign({actualString:!0},t),n,r)},Qn={identify:e=>null==e,createNode:()=>new en(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>new en(null),stringify:({source:e},t)=>"string"==typeof e&&Qn.test.test(e)?e:t.options.nullStr},qn={identify:e=>"boolean"==typeof e,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:[Tt]rue|TRUE|[Ff]alse|FALSE)$/,resolve:e=>new en("t"===e[0]||"T"===e[0]),stringify:({source:e,value:t},n)=>e&&qn.test.test(e)&&t===("t"===e[0]||"T"===e[0])?e:t?n.options.trueStr:n.options.falseStr};function Wn({format:e,minFractionDigits:t,tag:n,value:r}){if("bigint"==typeof r)return String(r);const o="number"==typeof r?r:Number(r);if(!isFinite(o))return isNaN(o)?".nan":o<0?"-.inf":".inf";let i=JSON.stringify(r);if(!e&&t&&(!n||"tag:yaml.org,2002:float"===n)&&/^\d/.test(i)){let e=i.indexOf(".");e<0&&(e=i.length,i+=".");let n=t-(i.length-e-1);for(;n-- >0;)i+="0"}return i}const $n={identify:e=>"number"==typeof e,default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF)|\.nan|\.NaN|\.NAN)$/,resolve:e=>"nan"===e.slice(-3).toLowerCase()?NaN:"-"===e[0]?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:Wn},Gn={identify:e=>"number"==typeof e,default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:\.[0-9]+|[0-9]+(?:\.[0-9]*)?)[eE][-+]?[0-9]+$/,resolve:e=>parseFloat(e),stringify(e){const t=Number(e.value);return isFinite(t)?t.toExponential():Wn(e)}},Vn={identify:e=>"number"==typeof e,default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:\.[0-9]+|[0-9]+\.[0-9]*)$/,resolve(e){const t=new en(parseFloat(e)),n=e.indexOf(".");return-1!==n&&"0"===e[e.length-1]&&(t.minFractionDigits=e.length-n-1),t},stringify:Wn},Yn=e=>"bigint"==typeof e||Number.isInteger(e),Jn=(e,t,n,{intAsBigInt:r})=>r?BigInt(e):parseInt(e.substring(t),n);function Kn(e,t,n){const{value:r}=e;return Yn(r)&&r>=0?n+r.toString(t):Wn(e)}const Xn={identify:e=>Yn(e)&&e>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^0o[0-7]+$/,resolve:(e,t,n)=>Jn(e,2,8,n),stringify:e=>Kn(e,8,"0o")},Zn={identify:Yn,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9]+$/,resolve:(e,t,n)=>Jn(e,0,10,n),stringify:Wn},er={identify:e=>Yn(e)&&e>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^0x[0-9a-fA-F]+$/,resolve:(e,t,n)=>Jn(e,2,16,n),stringify:e=>Kn(e,16,"0x")},tr=[Rn,Hn,Un,Qn,qn,Xn,Zn,er,$n,Gn,Vn];function nr(e){return"bigint"==typeof e||Number.isInteger(e)}const rr=({value:e})=>JSON.stringify(e),or=[Rn,Hn].concat([{identify:e=>"string"==typeof e,default:!0,tag:"tag:yaml.org,2002:str",resolve:e=>e,stringify:rr},{identify:e=>null==e,createNode:()=>new en(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^null$/,resolve:()=>null,stringify:rr},{identify:e=>"boolean"==typeof e,default:!0,tag:"tag:yaml.org,2002:bool",test:/^true|false$/,resolve:e=>"true"===e,stringify:rr},{identify:nr,default:!0,tag:"tag:yaml.org,2002:int",test:/^-?(?:0|[1-9][0-9]*)$/,resolve:(e,t,{intAsBigInt:n})=>n?BigInt(e):parseInt(e,10),stringify:({value:e})=>nr(e)?e.toString():JSON.stringify(e)},{identify:e=>"number"==typeof e,default:!0,tag:"tag:yaml.org,2002:float",test:/^-?(?:0|[1-9][0-9]*)(?:\.[0-9]*)?(?:[eE][-+]?[0-9]+)?$/,resolve:e=>parseFloat(e),stringify:rr}],{default:!0,tag:"",test:/^/,resolve:(e,t)=>(t(`Unresolved plain scalar ${JSON.stringify(e)}`),e)}),ir={identify:e=>e instanceof Uint8Array,default:!1,tag:"tag:yaml.org,2002:binary",resolve(e,t){if("function"==typeof Buffer)return Buffer.from(e,"base64");if("function"==typeof atob){const t=atob(e.replace(/[\n\r]/g,"")),n=new Uint8Array(t.length);for(let e=0;e<t.length;++e)n[e]=t.charCodeAt(e);return n}return t("This environment does not support reading binary tags; either Buffer or atob is required"),e},stringify({comment:e,type:t,value:n},r,o,i){const s=n;let a;if("function"==typeof Buffer)a=s instanceof Buffer?s.toString("base64"):Buffer.from(s.buffer).toString("base64");else{if("function"!=typeof btoa)throw new Error("This environment does not support writing binary tags; either Buffer or btoa is required");{let e="";for(let t=0;t<s.length;++t)e+=String.fromCharCode(s[t]);a=btoa(e)}}if(t||(t=en.BLOCK_LITERAL),t!==en.QUOTE_DOUBLE){const e=Math.max(r.options.lineWidth-r.indent.length,r.options.minContentWidth),n=Math.ceil(a.length/e),o=new Array(n);for(let t=0,r=0;t<n;++t,r+=e)o[t]=a.substr(r,e);a=o.join(t===en.BLOCK_LITERAL?"\n":" ")}return An({comment:e,type:t,value:a},r,o,i)}};function sr(e,t){if(Tt(e))for(let n=0;n<e.items.length;++n){let r=e.items[n];if(!kt(r)){if(Ct(r)){r.items.length>1&&t("Each pair must have its own sequence indicator");const e=r.items[0]||new Bn(new en(null));if(r.commentBefore&&(e.key.commentBefore=e.key.commentBefore?`${r.commentBefore}\n${e.key.commentBefore}`:r.commentBefore),r.comment){const t=e.value??e.key;t.comment=t.comment?`${r.comment}\n${t.comment}`:r.comment}r=e}e.items[n]=kt(r)?r:new Bn(r)}}else t("Expected a sequence for this tag");return e}function ar(e,t,n){const{replacer:r}=n,o=new Ln(e);o.tag="tag:yaml.org,2002:pairs";let i=0;if(t&&Symbol.iterator in Object(t))for(let e of t){let s,a;if("function"==typeof r&&(e=r.call(t,String(i++),e)),Array.isArray(e)){if(2!==e.length)throw new TypeError(`Expected [key, value] tuple: ${e}`);s=e[0],a=e[1]}else if(e&&e instanceof Object){const t=Object.keys(e);if(1!==t.length)throw new TypeError(`Expected tuple with one key, not ${t.length} keys`);s=t[0],a=e[s]}else s=e;o.items.push(In(s,a,n))}return o}const lr={collection:"seq",default:!1,tag:"tag:yaml.org,2002:pairs",resolve:sr,createNode:ar};class cr extends Ln{constructor(){super(),this.add=Dn.prototype.add.bind(this),this.delete=Dn.prototype.delete.bind(this),this.get=Dn.prototype.get.bind(this),this.has=Dn.prototype.has.bind(this),this.set=Dn.prototype.set.bind(this),this.tag=cr.tag}toJSON(e,t){if(!t)return super.toJSON(e);const n=new Map;null!=t&&t.onCreate&&t.onCreate(n);for(const e of this.items){let r,o;if(kt(e)?(r=Yt(e.key,"",t),o=Yt(e.value,r,t)):r=Yt(e,"",t),n.has(r))throw new Error("Ordered maps must not include duplicate keys");n.set(r,o)}return n}static from(e,t,n){const r=ar(e,t,n),o=new this;return o.items=r.items,o}}cr.tag="tag:yaml.org,2002:omap";const ur={collection:"seq",identify:e=>e instanceof Map,nodeClass:cr,default:!1,tag:"tag:yaml.org,2002:omap",resolve(e,t){const n=sr(e,t),r=[];for(const{key:e}of n.items)Ot(e)&&(r.includes(e.value)?t(`Ordered maps must not include duplicate keys: ${e.value}`):r.push(e.value));return Object.assign(new cr,n)},createNode:(e,t,n)=>cr.from(e,t,n)};function dr({value:e,source:t},n){return t&&(e?hr:pr).test.test(t)?t:e?n.options.trueStr:n.options.falseStr}const hr={identify:e=>!0===e,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:Y|y|[Yy]es|YES|[Tt]rue|TRUE|[Oo]n|ON)$/,resolve:()=>new en(!0),stringify:dr},pr={identify:e=>!1===e,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:N|n|[Nn]o|NO|[Ff]alse|FALSE|[Oo]ff|OFF)$/,resolve:()=>new en(!1),stringify:dr},fr={identify:e=>"number"==typeof e,default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF)|\.nan|\.NaN|\.NAN)$/,resolve:e=>"nan"===e.slice(-3).toLowerCase()?NaN:"-"===e[0]?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:Wn},mr={identify:e=>"number"==typeof e,default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:[0-9][0-9_]*)?(?:\.[0-9_]*)?[eE][-+]?[0-9]+$/,resolve:e=>parseFloat(e.replace(/_/g,"")),stringify(e){const t=Number(e.value);return isFinite(t)?t.toExponential():Wn(e)}},gr={identify:e=>"number"==typeof e,default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:[0-9][0-9_]*)?\.[0-9_]*$/,resolve(e){const t=new en(parseFloat(e.replace(/_/g,""))),n=e.indexOf(".");if(-1!==n){const r=e.substring(n+1).replace(/_/g,"");"0"===r[r.length-1]&&(t.minFractionDigits=r.length)}return t},stringify:Wn},br=e=>"bigint"==typeof e||Number.isInteger(e);function wr(e,t,n,{intAsBigInt:r}){const o=e[0];if(("-"===o||"+"===o)&&(t+=1),e=e.substring(t).replace(/_/g,""),r){switch(n){case 2:e=`0b${e}`;break;case 8:e=`0o${e}`;break;case 16:e=`0x${e}`}const t=BigInt(e);return"-"===o?BigInt(-1)*t:t}const i=parseInt(e,n);return"-"===o?-1*i:i}function yr(e,t,n){const{value:r}=e;if(br(r)){const e=r.toString(t);return r<0?"-"+n+e.substr(1):n+e}return Wn(e)}const vr={identify:br,default:!0,tag:"tag:yaml.org,2002:int",format:"BIN",test:/^[-+]?0b[0-1_]+$/,resolve:(e,t,n)=>wr(e,2,2,n),stringify:e=>yr(e,2,"0b")},Ar={identify:br,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^[-+]?0[0-7_]+$/,resolve:(e,t,n)=>wr(e,1,8,n),stringify:e=>yr(e,8,"0")},_r={identify:br,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9][0-9_]*$/,resolve:(e,t,n)=>wr(e,0,10,n),stringify:Wn},xr={identify:br,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^[-+]?0x[0-9a-fA-F_]+$/,resolve:(e,t,n)=>wr(e,2,16,n),stringify:e=>yr(e,16,"0x")};class Sr extends Dn{constructor(e){super(e),this.tag=Sr.tag}add(e){let t;t=kt(e)?e:e&&"object"==typeof e&&"key"in e&&"value"in e&&null===e.value?new Bn(e.key,null):new Bn(e,null),Fn(this.items,t.key)||this.items.push(t)}get(e,t){const n=Fn(this.items,e);return!t&&kt(n)?Ot(n.key)?n.key.value:n.key:n}set(e,t){if("boolean"!=typeof t)throw new Error("Expected boolean value for set(key, value) in a YAML set, not "+typeof t);const n=Fn(this.items,e);n&&!t?this.items.splice(this.items.indexOf(n),1):!n&&t&&this.items.push(new Bn(e))}toJSON(e,t){return super.toJSON(e,t,Set)}toString(e,t,n){if(!e)return JSON.stringify(this);if(this.hasAllNullValues(!0))return super.toString(Object.assign({},e,{allNullValues:!0}),t,n);throw new Error("Set items must all have null values")}static from(e,t,n){const{replacer:r}=n,o=new this(e);if(t&&Symbol.iterator in Object(t))for(let e of t)"function"==typeof r&&(e=r.call(t,e,e)),o.items.push(In(e,null,n));return o}}Sr.tag="tag:yaml.org,2002:set";const Er={collection:"map",identify:e=>e instanceof Set,nodeClass:Sr,default:!1,tag:"tag:yaml.org,2002:set",createNode:(e,t,n)=>Sr.from(e,t,n),resolve(e,t){if(Ct(e)){if(e.hasAllNullValues(!0))return Object.assign(new Sr,e);t("Set items must all have null values")}else t("Expected a mapping for this tag");return e}};function Cr(e,t){const n=e[0],r="-"===n||"+"===n?e.substring(1):e,o=e=>t?BigInt(e):Number(e),i=r.replace(/_/g,"").split(":").reduce((e,t)=>e*o(60)+o(t),o(0));return"-"===n?o(-1)*i:i}function kr(e){let{value:t}=e,n=e=>e;if("bigint"==typeof t)n=e=>BigInt(e);else if(isNaN(t)||!isFinite(t))return Wn(e);let r="";t<0&&(r="-",t*=n(-1));const o=n(60),i=[t%o];return t<60?i.unshift(0):(t=(t-i[0])/o,i.unshift(t%o),t>=60&&(t=(t-i[0])/o,i.unshift(t))),r+i.map(e=>String(e).padStart(2,"0")).join(":").replace(/000000\d*$/,"")}const Or={identify:e=>"bigint"==typeof e||Number.isInteger(e),default:!0,tag:"tag:yaml.org,2002:int",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+$/,resolve:(e,t,{intAsBigInt:n})=>Cr(e,n),stringify:kr},Tr={identify:e=>"number"==typeof e,default:!0,tag:"tag:yaml.org,2002:float",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\.[0-9_]*$/,resolve:e=>Cr(e,!1),stringify:kr},Ir={identify:e=>e instanceof Date,default:!0,tag:"tag:yaml.org,2002:timestamp",test:RegExp("^([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})(?:(?:t|T|[ \\t]+)([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2}(\\.[0-9]+)?)(?:[ \\t]*(Z|[-+][012]?[0-9](?::[0-9]{2})?))?)?$"),resolve(e){const t=e.match(Ir.test);if(!t)throw new Error("!!timestamp expects a date, starting with yyyy-mm-dd");const[,n,r,o,i,s,a]=t.map(Number),l=t[7]?Number((t[7]+"00").substr(1,3)):0;let c=Date.UTC(n,r-1,o,i||0,s||0,a||0,l);const u=t[8];if(u&&"Z"!==u){let e=Cr(u,!1);Math.abs(e)<30&&(e*=60),c-=6e4*e}return new Date(c)},stringify:({value:e})=>e.toISOString().replace(/((T00:00)?:00)?\.000Z$/,"")},Br=[Rn,Hn,Un,Qn,hr,pr,vr,Ar,_r,xr,fr,mr,gr,ir,Cn,ur,lr,Er,Or,Tr,Ir],Mr=new Map([["core",tr],["failsafe",[Rn,Hn,Un]],["json",or],["yaml11",Br],["yaml-1.1",Br]]),Pr={binary:ir,bool:qn,float:Vn,floatExp:Gn,floatNaN:$n,floatTime:Tr,int:Zn,intHex:er,intOct:Xn,intTime:Or,map:Rn,merge:Cn,null:Qn,omap:ur,pairs:lr,seq:Hn,set:Er,timestamp:Ir},jr={"tag:yaml.org,2002:binary":ir,"tag:yaml.org,2002:merge":Cn,"tag:yaml.org,2002:omap":ur,"tag:yaml.org,2002:pairs":lr,"tag:yaml.org,2002:set":Er,"tag:yaml.org,2002:timestamp":Ir};function Nr(e,t,n){const r=Mr.get(t);if(r&&!e)return n&&!r.includes(Cn)?r.concat(Cn):r.slice();let o=r;if(!o){if(!Array.isArray(e)){const e=Array.from(Mr.keys()).filter(e=>"yaml11"!==e).map(e=>JSON.stringify(e)).join(", ");throw new Error(`Unknown schema "${t}"; use one of ${e} or define customTags array`)}o=[]}if(Array.isArray(e))for(const t of e)o=o.concat(t);else"function"==typeof e&&(o=e(o.slice()));return n&&(o=o.concat(Cn)),o.reduce((e,t)=>{const n="string"==typeof t?Pr[t]:t;if(!n){const e=JSON.stringify(t),n=Object.keys(Pr).map(e=>JSON.stringify(e)).join(", ");throw new Error(`Unknown custom tag ${e}; use one of ${n}`)}return e.includes(n)||e.push(n),e},[])}const Fr=(e,t)=>e.key<t.key?-1:e.key>t.key?1:0;class Dr{constructor({compat:e,customTags:t,merge:n,resolveKnownTags:r,schema:o,sortMapEntries:i,toStringDefaults:s}){this.compat=Array.isArray(e)?Nr(e,"compat"):e?Nr(null,e):null,this.name="string"==typeof o&&o||"core",this.knownTags=r?jr:{},this.tags=Nr(t,this.name,n),this.toStringOptions=s??null,Object.defineProperty(this,yt,{value:Rn}),Object.defineProperty(this,At,{value:Un}),Object.defineProperty(this,_t,{value:Hn}),this.sortMapEntries="function"==typeof i?i:!0===i?Fr:null}clone(){const e=Object.create(Dr.prototype,Object.getOwnPropertyDescriptors(this));return e.tags=this.tags.slice(),e}}class Rr{constructor(e,t,n){this.commentBefore=null,this.comment=null,this.errors=[],this.warnings=[],Object.defineProperty(this,xt,{value:wt});let r=null;"function"==typeof t||Array.isArray(t)?r=t:void 0===n&&t&&(n=t,t=void 0);const o=Object.assign({intAsBigInt:!1,keepSourceTokens:!1,logLevel:"warn",prettyErrors:!0,strict:!0,stringKeys:!1,uniqueKeys:!0,version:"1.2"},n);this.options=o;let{version:i}=o;null!=n&&n._directives?(this.directives=n._directives.atDocument(),this.directives.yaml.explicit&&(i=this.directives.yaml.version)):this.directives=new qt({version:i}),this.setSchema(i,n),this.contents=void 0===e?null:this.createNode(e,r,n)}clone(){const e=Object.create(Rr.prototype,{[xt]:{value:wt}});return e.commentBefore=this.commentBefore,e.comment=this.comment,e.errors=this.errors.slice(),e.warnings=this.warnings.slice(),e.options=Object.assign({},this.options),this.directives&&(e.directives=this.directives.clone()),e.schema=this.schema.clone(),e.contents=Bt(this.contents)?this.contents.clone(e.schema):this.contents,this.range&&(e.range=this.range.slice()),e}add(e){Lr(this.contents)&&this.contents.add(e)}addIn(e,t){Lr(this.contents)&&this.contents.addIn(e,t)}createAlias(e,t){if(!e.anchor){const n=$t(this);e.anchor=!t||n.has(t)?Gt(t||"a",n):t}return new Kt(e.anchor)}createNode(e,t,n){let r;if("function"==typeof t)e=t.call({"":e},"",e),r=t;else if(Array.isArray(t)){const e=e=>"number"==typeof e||e instanceof String||e instanceof Number,n=t.filter(e).map(String);n.length>0&&(t=t.concat(n)),r=t}else void 0===n&&t&&(n=t,t=void 0);const{aliasDuplicateObjects:o,anchorPrefix:i,flow:s,keepUndefined:a,onTagObj:l,tag:c}=n??{},{onAnchor:u,setAnchors:d,sourceObjects:h}=function(e,t){const n=[],r=new Map;let o=null;return{onAnchor:r=>{n.push(r),o||(o=$t(e));const i=Gt(t,o);return o.add(i),i},setAnchors:()=>{for(const e of n){const t=r.get(e);if("object"!=typeof t||!t.anchor||!Ot(t.node)&&!It(t.node)){const t=new Error("Failed to resolve repeated object (this should not happen)");throw t.source=e,t}t.node.anchor=t.anchor}},sourceObjects:r}}(this,i||"a"),p=tn(e,c,{aliasDuplicateObjects:o??!0,keepUndefined:a??!1,onAnchor:u,onTagObj:l,replacer:r,schema:this.schema,sourceObjects:h});return s&&It(p)&&(p.flow=!0),d(),p}createPair(e,t,n={}){const r=this.createNode(e,null,n),o=this.createNode(t,null,n);return new Bn(r,o)}delete(e){return!!Lr(this.contents)&&this.contents.delete(e)}deleteIn(e){return rn(e)?null!=this.contents&&(this.contents=null,!0):!!Lr(this.contents)&&this.contents.deleteIn(e)}get(e,t){return It(this.contents)?this.contents.get(e,t):void 0}getIn(e,t){return rn(e)?!t&&Ot(this.contents)?this.contents.value:this.contents:It(this.contents)?this.contents.getIn(e,t):void 0}has(e){return!!It(this.contents)&&this.contents.has(e)}hasIn(e){return rn(e)?void 0!==this.contents:!!It(this.contents)&&this.contents.hasIn(e)}set(e,t){null==this.contents?this.contents=nn(this.schema,[e],t):Lr(this.contents)&&this.contents.set(e,t)}setIn(e,t){rn(e)?this.contents=t:null==this.contents?this.contents=nn(this.schema,Array.from(e),t):Lr(this.contents)&&this.contents.setIn(e,t)}setSchema(e,t={}){let n;switch("number"==typeof e&&(e=String(e)),e){case"1.1":this.directives?this.directives.yaml.version="1.1":this.directives=new qt({version:"1.1"}),n={resolveKnownTags:!1,schema:"yaml-1.1"};break;case"1.2":case"next":this.directives?this.directives.yaml.version=e:this.directives=new qt({version:e}),n={resolveKnownTags:!0,schema:"core"};break;case null:this.directives&&delete this.directives,n=null;break;default:{const t=JSON.stringify(e);throw new Error(`Expected '1.1', '1.2' or null as first argument, but found: ${t}`)}}if(t.schema instanceof Object)this.schema=t.schema;else{if(!n)throw new Error("With a null YAML version, the { schema: Schema } option is required");this.schema=new Dr(Object.assign(n,t))}}toJS({json:e,jsonArg:t,mapAsMap:n,maxAliasCount:r,onAnchor:o,reviver:i}={}){const s={anchors:new Map,doc:this,keep:!e,mapAsMap:!0===n,mapKeyWarned:!1,maxAliasCount:"number"==typeof r?r:100},a=Yt(this.contents,t??"",s);if("function"==typeof o)for(const{count:e,res:t}of s.anchors.values())o(t,e);return"function"==typeof i?Vt(i,{"":a},"",a):a}toJSON(e,t){return this.toJS({json:!0,jsonArg:e,mapAsMap:!1,onAnchor:t})}toString(e={}){if(this.errors.length>0)throw new Error("Document with errors cannot be stringified");if("indent"in e&&(!Number.isInteger(e.indent)||Number(e.indent)<=0)){const t=JSON.stringify(e.indent);throw new Error(`"indent" option must be a positive integer, not ${t}`)}return function(e,t){var n;const r=[];let o=!0===t.directives;if(!1!==t.directives&&e.directives){const t=e.directives.toString(e);t?(r.push(t),o=!0):e.directives.docStart&&(o=!0)}o&&r.push("---");const i=_n(e,t),{commentString:s}=i.options;if(e.commentBefore){1!==r.length&&r.unshift("");const t=s(e.commentBefore);r.unshift(an(t,""))}let a=!1,l=null;if(e.contents){if(Bt(e.contents)){if(e.contents.spaceBefore&&o&&r.push(""),e.contents.commentBefore){const t=s(e.contents.commentBefore);r.push(an(t,""))}i.forceBlockIndent=!!e.comment,l=e.contents.comment}const t=l?void 0:()=>a=!0;let n=xn(e.contents,i,()=>l=null,t);l&&(n+=ln(n,"",s(l))),"|"!==n[0]&&">"!==n[0]||"---"!==r[r.length-1]?r.push(n):r[r.length-1]=`--- ${n}`}else r.push(xn(e.contents,i));if(null!=(n=e.directives)&&n.docEnd)if(e.comment){const t=s(e.comment);t.includes("\n")?(r.push("..."),r.push(an(t,""))):r.push(`... ${t}`)}else r.push("...");else{let t=e.comment;t&&a&&(t=t.replace(/^\n+/,"")),t&&((!a||l)&&""!==r[r.length-1]&&r.push(""),r.push(an(s(t),"")))}return r.join("\n")+"\n"}(this,e)}}function Lr(e){if(It(e))return!0;throw new Error("Expected a YAML collection as document contents")}class zr extends Error{constructor(e,t,n,r){super(),this.name=e,this.code=n,this.message=r,this.pos=t}}class Hr extends zr{constructor(e,t,n){super("YAMLParseError",e,t,n)}}class Ur extends zr{constructor(e,t,n){super("YAMLWarning",e,t,n)}}const Qr=(e,t)=>n=>{if(-1===n.pos[0])return;n.linePos=n.pos.map(e=>t.linePos(e));const{line:r,col:o}=n.linePos[0];n.message+=` at line ${r}, column ${o}`;let i=o-1,s=e.substring(t.lineStarts[r-1],t.lineStarts[r]).replace(/[\n\r]+$/,"");if(i>=60&&s.length>80){const e=Math.min(i-39,s.length-79);s=""+s.substring(e),i-=e-1}if(s.length>80&&(s=s.substring(0,79)+""),r>1&&/^ *$/.test(s.substring(0,i))){let n=e.substring(t.lineStarts[r-2],t.lineStarts[r-1]);n.length>80&&(n=n.substring(0,79)+"\n"),s=n+s}if(/[^ ]/.test(s)){let e=1;const t=n.linePos[1];t&&t.line===r&&t.col>o&&(e=Math.max(1,Math.min(t.col-o,80-i)));const a=" ".repeat(i)+"^".repeat(e);n.message+=`:\n\n${s}\n${a}\n`}};function qr(e,{flow:t,indicator:n,next:r,offset:o,onError:i,parentIndent:s,startOnNewline:a}){let l=!1,c=a,u=a,d="",h="",p=!1,f=!1,m=null,g=null,b=null,w=null,y=null,v=null,A=null;for(const o of e)switch(f&&("space"!==o.type&&"newline"!==o.type&&"comma"!==o.type&&i(o.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),f=!1),m&&(c&&"comment"!==o.type&&"newline"!==o.type&&i(m,"TAB_AS_INDENT","Tabs are not allowed as indentation"),m=null),o.type){case"space":!t&&("doc-start"!==n||"flow-collection"!==(null==r?void 0:r.type))&&o.source.includes("\t")&&(m=o),u=!0;break;case"comment":{u||i(o,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");const e=o.source.substring(1)||" ";d?d+=h+e:d=e,h="",c=!1;break}case"newline":c?d?d+=o.source:l=!0:h+=o.source,c=!0,p=!0,(g||b)&&(w=o),u=!0;break;case"anchor":g&&i(o,"MULTIPLE_ANCHORS","A node can have at most one anchor"),o.source.endsWith(":")&&i(o.offset+o.source.length-1,"BAD_ALIAS","Anchor ending in : is ambiguous",!0),g=o,null===A&&(A=o.offset),c=!1,u=!1,f=!0;break;case"tag":b&&i(o,"MULTIPLE_TAGS","A node can have at most one tag"),b=o,null===A&&(A=o.offset),c=!1,u=!1,f=!0;break;case n:(g||b)&&i(o,"BAD_PROP_ORDER",`Anchors and tags must be after the ${o.source} indicator`),v&&i(o,"UNEXPECTED_TOKEN",`Unexpected ${o.source} in ${t??"collection"}`),v=o,c="seq-item-ind"===n||"explicit-key-ind"===n,u=!1;break;case"comma":if(t){y&&i(o,"UNEXPECTED_TOKEN",`Unexpected , in ${t}`),y=o,c=!1,u=!1;break}default:i(o,"UNEXPECTED_TOKEN",`Unexpected ${o.type} token`),c=!1,u=!1}const _=e[e.length-1],x=_?_.offset+_.source.length:o;return f&&r&&"space"!==r.type&&"newline"!==r.type&&"comma"!==r.type&&("scalar"!==r.type||""!==r.source)&&i(r.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),m&&(c&&m.indent<=s||"block-map"===(null==r?void 0:r.type)||"block-seq"===(null==r?void 0:r.type))&&i(m,"TAB_AS_INDENT","Tabs are not allowed as indentation"),{comma:y,found:v,spaceBefore:l,comment:d,hasNewline:p,anchor:g,tag:b,newlineAfterProp:w,end:x,start:A??x}}function Wr(e){if(!e)return null;switch(e.type){case"alias":case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":if(e.source.includes("\n"))return!0;if(e.end)for(const t of e.end)if("newline"===t.type)return!0;return!1;case"flow-collection":for(const t of e.items){for(const e of t.start)if("newline"===e.type)return!0;if(t.sep)for(const e of t.sep)if("newline"===e.type)return!0;if(Wr(t.key)||Wr(t.value))return!0}return!1;default:return!0}}function $r(e,t,n){if("flow-collection"===(null==t?void 0:t.type)){const r=t.end[0];r.indent===e&&("]"===r.source||"}"===r.source)&&Wr(t)&&n(r,"BAD_INDENT","Flow end indicator should be more indented than parent",!0)}}function Gr(e,t,n){const{uniqueKeys:r}=e.options;if(!1===r)return!1;const o="function"==typeof r?r:(e,t)=>e===t||Ot(e)&&Ot(t)&&e.value===t.value;return t.some(e=>o(e.key,n))}const Vr="All mapping items must start at the same column";function Yr(e,t,n,r){let o="";if(e){let i=!1,s="";for(const a of e){const{source:e,type:l}=a;switch(l){case"space":i=!0;break;case"comment":{n&&!i&&r(a,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");const t=e.substring(1)||" ";o?o+=s+t:o=t,s="";break}case"newline":o&&(s+=e),i=!0;break;default:r(a,"UNEXPECTED_TOKEN",`Unexpected ${l} at node end`)}t+=e.length}}return{comment:o,offset:t}}const Jr="Block collections are not allowed within flow collections",Kr=e=>e&&("block-map"===e.type||"block-seq"===e.type);function Xr(e,t,n,r,o,i){const s="block-map"===n.type?function({composeNode:e,composeEmptyNode:t},n,r,o,i){var s;const a=new((null==i?void 0:i.nodeClass)??Dn)(n.schema);n.atRoot&&(n.atRoot=!1);let l=r.offset,c=null;for(const i of r.items){const{start:u,key:d,sep:h,value:p}=i,f=qr(u,{indicator:"explicit-key-ind",next:d??(null==h?void 0:h[0]),offset:l,onError:o,parentIndent:r.indent,startOnNewline:!0}),m=!f.found;if(m){if(d&&("block-seq"===d.type?o(l,"BLOCK_AS_IMPLICIT_KEY","A block sequence may not be used as an implicit map key"):"indent"in d&&d.indent!==r.indent&&o(l,"BAD_INDENT",Vr)),!f.anchor&&!f.tag&&!h){c=f.end,f.comment&&(a.comment?a.comment+="\n"+f.comment:a.comment=f.comment);continue}(f.newlineAfterProp||Wr(d))&&o(d??u[u.length-1],"MULTILINE_IMPLICIT_KEY","Implicit keys need to be on a single line")}else(null==(s=f.found)?void 0:s.indent)!==r.indent&&o(l,"BAD_INDENT",Vr);n.atKey=!0;const g=f.end,b=d?e(n,d,f,o):t(n,g,u,null,f,o);n.schema.compat&&$r(r.indent,d,o),n.atKey=!1,Gr(n,a.items,b)&&o(g,"DUPLICATE_KEY","Map keys must be unique");const w=qr(h??[],{indicator:"map-value-ind",next:p,offset:b.range[2],onError:o,parentIndent:r.indent,startOnNewline:!d||"block-scalar"===d.type});if(l=w.end,w.found){m&&("block-map"===(null==p?void 0:p.type)&&!w.hasNewline&&o(l,"BLOCK_AS_IMPLICIT_KEY","Nested mappings are not allowed in compact mappings"),n.options.strict&&f.start<w.found.offset-1024&&o(b.range,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit block mapping key"));const s=p?e(n,p,w,o):t(n,l,h,null,w,o);n.schema.compat&&$r(r.indent,p,o),l=s.range[2];const c=new Bn(b,s);n.options.keepSourceTokens&&(c.srcToken=i),a.items.push(c)}else{m&&o(b.range,"MISSING_CHAR","Implicit map keys need to be followed by map values"),w.comment&&(b.comment?b.comment+="\n"+w.comment:b.comment=w.comment);const e=new Bn(b);n.options.keepSourceTokens&&(e.srcToken=i),a.items.push(e)}}return c&&c<l&&o(c,"IMPOSSIBLE","Map comment with trailing content"),a.range=[r.offset,l,c??l],a}(e,t,n,r,i):"block-seq"===n.type?function({composeNode:e,composeEmptyNode:t},n,r,o,i){const s=new((null==i?void 0:i.nodeClass)??Ln)(n.schema);n.atRoot&&(n.atRoot=!1),n.atKey&&(n.atKey=!1);let a=r.offset,l=null;for(const{start:i,value:c}of r.items){const u=qr(i,{indicator:"seq-item-ind",next:c,offset:a,onError:o,parentIndent:r.indent,startOnNewline:!0});if(!u.found){if(!(u.anchor||u.tag||c)){l=u.end,u.comment&&(s.comment=u.comment);continue}c&&"block-seq"===c.type?o(u.end,"BAD_INDENT","All sequence items must start at the same column"):o(a,"MISSING_CHAR","Sequence item without - indicator")}const d=c?e(n,c,u,o):t(n,u.end,i,null,u,o);n.schema.compat&&$r(r.indent,c,o),a=d.range[2],s.items.push(d)}return s.range=[r.offset,a,l??a],s}(e,t,n,r,i):function({composeNode:e,composeEmptyNode:t},n,r,o,i){const s="{"===r.start.source,a=s?"flow map":"flow sequence",l=new((null==i?void 0:i.nodeClass)??(s?Dn:Ln))(n.schema);l.flow=!0;const c=n.atRoot;c&&(n.atRoot=!1),n.atKey&&(n.atKey=!1);let u=r.offset+r.start.source.length;for(let i=0;i<r.items.length;++i){const c=r.items[i],{start:d,key:h,sep:p,value:f}=c,m=qr(d,{flow:a,indicator:"explicit-key-ind",next:h??(null==p?void 0:p[0]),offset:u,onError:o,parentIndent:r.indent,startOnNewline:!1});if(!m.found){if(!(m.anchor||m.tag||p||f)){0===i&&m.comma?o(m.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${a}`):i<r.items.length-1&&o(m.start,"UNEXPECTED_TOKEN",`Unexpected empty item in ${a}`),m.comment&&(l.comment?l.comment+="\n"+m.comment:l.comment=m.comment),u=m.end;continue}!s&&n.options.strict&&Wr(h)&&o(h,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line")}if(0===i)m.comma&&o(m.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${a}`);else if(m.comma||o(m.start,"MISSING_CHAR",`Missing , between ${a} items`),m.comment){let e="";e:for(const t of d)switch(t.type){case"comma":case"space":break;case"comment":e=t.source.substring(1);break e;default:break e}if(e){let t=l.items[l.items.length-1];kt(t)&&(t=t.value??t.key),t.comment?t.comment+="\n"+e:t.comment=e,m.comment=m.comment.substring(e.length+1)}}if(s||p||m.found){n.atKey=!0;const i=m.end,g=h?e(n,h,m,o):t(n,i,d,null,m,o);Kr(h)&&o(g.range,"BLOCK_IN_FLOW",Jr),n.atKey=!1;const b=qr(p??[],{flow:a,indicator:"map-value-ind",next:f,offset:g.range[2],onError:o,parentIndent:r.indent,startOnNewline:!1});if(b.found){if(!s&&!m.found&&n.options.strict){if(p)for(const e of p){if(e===b.found)break;if("newline"===e.type){o(e,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line");break}}m.start<b.found.offset-1024&&o(b.found,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit flow sequence key")}}else f&&("source"in f&&f.source&&":"===f.source[0]?o(f,"MISSING_CHAR",`Missing space after : in ${a}`):o(b.start,"MISSING_CHAR",`Missing , or : between ${a} items`));const w=f?e(n,f,b,o):b.found?t(n,b.end,p,null,b,o):null;w?Kr(f)&&o(w.range,"BLOCK_IN_FLOW",Jr):b.comment&&(g.comment?g.comment+="\n"+b.comment:g.comment=b.comment);const y=new Bn(g,w);if(n.options.keepSourceTokens&&(y.srcToken=c),s){const e=l;Gr(n,e.items,g)&&o(i,"DUPLICATE_KEY","Map keys must be unique"),e.items.push(y)}else{const e=new Dn(n.schema);e.flow=!0,e.items.push(y);const t=(w??g).range;e.range=[g.range[0],t[1],t[2]],l.items.push(e)}u=w?w.range[2]:b.end}else{const r=f?e(n,f,m,o):t(n,m.end,p,null,m,o);l.items.push(r),u=r.range[2],Kr(f)&&o(r.range,"BLOCK_IN_FLOW",Jr)}}const d=s?"}":"]",[h,...p]=r.end;let f=u;if(h&&h.source===d)f=h.offset+h.source.length;else{const e=a[0].toUpperCase()+a.substring(1);o(u,c?"MISSING_CHAR":"BAD_INDENT",c?`${e} must end with a ${d}`:`${e} in block collection must be sufficiently indented and end with a ${d}`),h&&1!==h.source.length&&p.unshift(h)}if(p.length>0){const e=Yr(p,f,n.options.strict,o);e.comment&&(l.comment?l.comment+="\n"+e.comment:l.comment=e.comment),l.range=[r.offset,f,e.offset]}else l.range=[r.offset,f,f];return l}(e,t,n,r,i),a=s.constructor;return"!"===o||o===a.tagName?(s.tag=a.tagName,s):(o&&(s.tag=o),s)}function Zr(e,t,n){const r=t.offset,o=function({offset:e,props:t},n,r){if("block-scalar-header"!==t[0].type)return r(t[0],"IMPOSSIBLE","Block scalar header not found"),null;const{source:o}=t[0],i=o[0];let s=0,a="",l=-1;for(let t=1;t<o.length;++t){const n=o[t];if(a||"-"!==n&&"+"!==n){const r=Number(n);!s&&r?s=r:-1===l&&(l=e+t)}else a=n}-1!==l&&r(l,"UNEXPECTED_TOKEN",`Block scalar header includes extra characters: ${o}`);let c=!1,u="",d=o.length;for(let e=1;e<t.length;++e){const o=t[e];switch(o.type){case"space":c=!0;case"newline":d+=o.source.length;break;case"comment":n&&!c&&r(o,"MISSING_CHAR","Comments must be separated from other tokens by white space characters"),d+=o.source.length,u=o.source.substring(1);break;case"error":r(o,"UNEXPECTED_TOKEN",o.message),d+=o.source.length;break;default:{r(o,"UNEXPECTED_TOKEN",`Unexpected token in block scalar header: ${o.type}`);const e=o.source;e&&"string"==typeof e&&(d+=e.length)}}}return{mode:i,indent:s,chomp:a,comment:u,length:d}}(t,e.options.strict,n);if(!o)return{value:"",type:null,comment:"",range:[r,r,r]};const i=">"===o.mode?en.BLOCK_FOLDED:en.BLOCK_LITERAL,s=t.source?function(e){const t=e.split(/\n( *)/),n=t[0],r=n.match(/^( *)/),o=[null!=r&&r[1]?[r[1],n.slice(r[1].length)]:["",n]];for(let e=1;e<t.length;e+=2)o.push([t[e],t[e+1]]);return o}(t.source):[];let a=s.length;for(let e=s.length-1;e>=0;--e){const t=s[e][1];if(""!==t&&"\r"!==t)break;a=e}if(0===a){const e="+"===o.chomp&&s.length>0?"\n".repeat(Math.max(1,s.length-1)):"";let n=r+o.length;return t.source&&(n+=t.source.length),{value:e,type:i,comment:o.comment,range:[r,n,n]}}let l=t.indent+o.indent,c=t.offset+o.length,u=0;for(let t=0;t<a;++t){const[r,i]=s[t];if(""!==i&&"\r"!==i){r.length<l&&n(c+r.length,"MISSING_CHAR","Block scalars with more-indented leading empty lines must use an explicit indentation indicator"),0===o.indent&&(l=r.length),u=t,0===l&&!e.atRoot&&n(c,"BAD_INDENT","Block scalar values in collections must be indented");break}0===o.indent&&r.length>l&&(l=r.length),c+=r.length+i.length+1}for(let e=s.length-1;e>=a;--e)s[e][0].length>l&&(a=e+1);let d="",h="",p=!1;for(let e=0;e<u;++e)d+=s[e][0].slice(l)+"\n";for(let e=u;e<a;++e){let[t,r]=s[e];c+=t.length+r.length+1;const a="\r"===r[r.length-1];if(a&&(r=r.slice(0,-1)),r&&t.length<l){const e="Block scalar lines must not be less indented than their "+(o.indent?"explicit indentation indicator":"first line");n(c-r.length-(a?2:1),"BAD_INDENT",e),t=""}i===en.BLOCK_LITERAL?(d+=h+t.slice(l)+r,h="\n"):t.length>l||"\t"===r[0]?(" "===h?h="\n":!p&&"\n"===h&&(h="\n\n"),d+=h+t.slice(l)+r,h="\n",p=!0):""===r?"\n"===h?d+="\n":h="\n":(d+=h+r,h=" ",p=!1)}switch(o.chomp){case"-":break;case"+":for(let e=a;e<s.length;++e)d+="\n"+s[e][0].slice(l);"\n"!==d[d.length-1]&&(d+="\n");break;default:d+="\n"}const f=r+o.length+t.source.length;return{value:d,type:i,comment:o.comment,range:[r,f,f]}}function eo(e,t,n){const{offset:r,type:o,source:i,end:s}=e;let a,l;const c=(e,t,o)=>n(r+e,t,o);switch(o){case"scalar":a=en.PLAIN,l=function(e,t){let n="";switch(e[0]){case"\t":n="a tab character";break;case",":n="flow indicator character ,";break;case"%":n="directive indicator character %";break;case"|":case">":n=`block scalar indicator ${e[0]}`;break;case"@":case"`":n=`reserved character ${e[0]}`}return n&&t(0,"BAD_SCALAR_START",`Plain value cannot start with ${n}`),to(e)}(i,c);break;case"single-quoted-scalar":a=en.QUOTE_SINGLE,l=function(e,t){return("'"!==e[e.length-1]||1===e.length)&&t(e.length,"MISSING_CHAR","Missing closing 'quote"),to(e.slice(1,-1)).replace(/''/g,"'")}(i,c);break;case"double-quoted-scalar":a=en.QUOTE_DOUBLE,l=function(e,t){let n="";for(let r=1;r<e.length-1;++r){const o=e[r];if("\r"!==o||"\n"!==e[r+1])if("\n"===o){const{fold:t,offset:o}=no(e,r);n+=t,r=o}else if("\\"===o){let o=e[++r];const i=ro[o];if(i)n+=i;else if("\n"===o)for(o=e[r+1];" "===o||"\t"===o;)o=e[1+ ++r];else if("\r"===o&&"\n"===e[r+1])for(o=e[1+ ++r];" "===o||"\t"===o;)o=e[1+ ++r];else if("x"===o||"u"===o||"U"===o){const i={x:2,u:4,U:8}[o];n+=oo(e,r+1,i,t),r+=i}else{const o=e.substr(r-1,2);t(r-1,"BAD_DQ_ESCAPE",`Invalid escape sequence ${o}`),n+=o}}else if(" "===o||"\t"===o){const t=r;let i=e[r+1];for(;" "===i||"\t"===i;)i=e[1+ ++r];"\n"!==i&&("\r"!==i||"\n"!==e[r+2])&&(n+=r>t?e.slice(t,r+1):o)}else n+=o}return('"'!==e[e.length-1]||1===e.length)&&t(e.length,"MISSING_CHAR",'Missing closing "quote'),n}(i,c);break;default:return n(e,"UNEXPECTED_TOKEN",`Expected a flow scalar value, but found: ${o}`),{value:"",type:null,comment:"",range:[r,r+i.length,r+i.length]}}const u=r+i.length,d=Yr(s,u,t,n);return{value:l,type:a,comment:d.comment,range:[r,u,d.offset]}}function to(e){let t,n;try{t=new RegExp("(.*?)(?<![ \t])[ \t]*\r?\n","sy"),n=new RegExp("[ \t]*(.*?)(?:(?<![ \t])[ \t]*)?\r?\n","sy")}catch{t=/(.*?)[ \t]*\r?\n/sy,n=/[ \t]*(.*?)[ \t]*\r?\n/sy}let r=t.exec(e);if(!r)return e;let o=r[1],i=" ",s=t.lastIndex;for(n.lastIndex=s;r=n.exec(e);)""===r[1]?"\n"===i?o+=i:i="\n":(o+=i+r[1],i=" "),s=n.lastIndex;const a=/[ \t]*(.*)/sy;return a.lastIndex=s,r=a.exec(e),o+i+((null==r?void 0:r[1])??"")}function no(e,t){let n="",r=e[t+1];for(;!(" "!==r&&"\t"!==r&&"\n"!==r&&"\r"!==r||"\r"===r&&"\n"!==e[t+2]);)"\n"===r&&(n+="\n"),r=e[(t+=1)+1];return n||(n=" "),{fold:n,offset:t}}const ro={0:"\0",a:"",b:"\b",e:"",f:"\f",n:"\n",r:"\r",t:"\t",v:"\v",N:"",_:"",L:"\u2028",P:"\u2029"," ":" ",'"':'"',"/":"/","\\":"\\","\t":"\t"};function oo(e,t,n,r){const o=e.substr(t,n),i=o.length===n&&/^[0-9a-fA-F]+$/.test(o)?parseInt(o,16):NaN;if(isNaN(i)){const o=e.substr(t-2,n+2);return r(t-2,"BAD_DQ_ESCAPE",`Invalid escape sequence ${o}`),o}return String.fromCodePoint(i)}function io(e,t,n,r){const{value:o,type:i,comment:s,range:a}="block-scalar"===t.type?Zr(e,t,r):eo(t,e.options.strict,r),l=n?e.directives.tagName(n.source,e=>r(n,"TAG_RESOLVE_FAILED",e)):null;let c,u;c=e.options.stringKeys&&e.atKey?e.schema[At]:l?function(e,t,n,r,o){var i;if("!"===n)return e[At];const s=[];for(const t of e.tags)if(!t.collection&&t.tag===n){if(!t.default||!t.test)return t;s.push(t)}for(const e of s)if(null!=(i=e.test)&&i.test(t))return e;const a=e.knownTags[n];return a&&!a.collection?(e.tags.push(Object.assign({},a,{default:!1,test:void 0})),a):(o(r,"TAG_RESOLVE_FAILED",`Unresolved tag: ${n}`,"tag:yaml.org,2002:str"!==n),e[At])}(e.schema,o,l,n,r):"scalar"===t.type?function({atKey:e,directives:t,schema:n},r,o,i){const s=n.tags.find(t=>{var n;return(!0===t.default||e&&"key"===t.default)&&(null==(n=t.test)?void 0:n.test(r))})||n[At];if(n.compat){const e=n.compat.find(e=>{var t;return e.default&&(null==(t=e.test)?void 0:t.test(r))})??n[At];s.tag!==e.tag&&i(o,"TAG_RESOLVE_FAILED",`Value may be parsed as either ${t.tagString(s.tag)} or ${t.tagString(e.tag)}`,!0)}return s}(e,o,t,r):e.schema[At];try{const i=c.resolve(o,e=>r(n??t,"TAG_RESOLVE_FAILED",e),e.options);u=Ot(i)?i:new en(i)}catch(e){const i=e instanceof Error?e.message:String(e);r(n??t,"TAG_RESOLVE_FAILED",i),u=new en(o)}return u.range=a,u.source=o,i&&(u.type=i),l&&(u.tag=l),c.format&&(u.format=c.format),s&&(u.comment=s),u}function so(e,t,n){if(t){null===n&&(n=t.length);for(let r=n-1;r>=0;--r){let n=t[r];switch(n.type){case"space":case"comment":case"newline":e-=n.source.length;continue}for(n=t[++r];"space"===(null==n?void 0:n.type);)e+=n.source.length,n=t[++r];break}}return e}const ao={composeNode:lo,composeEmptyNode:co};function lo(e,t,n,r){const o=e.atKey,{spaceBefore:i,comment:s,anchor:a,tag:l}=n;let c,u=!0;switch(t.type){case"alias":c=function({options:e},{offset:t,source:n,end:r},o){const i=new Kt(n.substring(1));""===i.source&&o(t,"BAD_ALIAS","Alias cannot be an empty string"),i.source.endsWith(":")&&o(t+n.length-1,"BAD_ALIAS","Alias ending in : is ambiguous",!0);const s=t+n.length,a=Yr(r,s,e.strict,o);return i.range=[t,s,a.offset],a.comment&&(i.comment=a.comment),i}(e,t,r),(a||l)&&r(t,"ALIAS_PROPS","An alias node must not specify any properties");break;case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"block-scalar":c=io(e,t,l,r),a&&(c.anchor=a.source.substring(1));break;case"block-map":case"block-seq":case"flow-collection":c=function(e,t,n,r,o){var i;const s=r.tag,a=s?t.directives.tagName(s.source,e=>o(s,"TAG_RESOLVE_FAILED",e)):null;if("block-seq"===n.type){const{anchor:e,newlineAfterProp:t}=r,n=e&&s?e.offset>s.offset?e:s:e??s;n&&(!t||t.offset<n.offset)&&o(n,"MISSING_CHAR","Missing newline after block sequence props")}const l="block-map"===n.type?"map":"block-seq"===n.type?"seq":"{"===n.start.source?"map":"seq";if(!s||!a||"!"===a||a===Dn.tagName&&"map"===l||a===Ln.tagName&&"seq"===l)return Xr(e,t,n,o,a);let c=t.schema.tags.find(e=>e.tag===a&&e.collection===l);if(!c){const r=t.schema.knownTags[a];if(!r||r.collection!==l)return null!=r&&r.collection?o(s,"BAD_COLLECTION_TYPE",`${r.tag} used for ${l} collection, but expects ${r.collection}`,!0):o(s,"TAG_RESOLVE_FAILED",`Unresolved tag: ${a}`,!0),Xr(e,t,n,o,a);t.schema.tags.push(Object.assign({},r,{default:!1})),c=r}const u=Xr(e,t,n,o,a,c),d=(null==(i=c.resolve)?void 0:i.call(c,u,e=>o(s,"TAG_RESOLVE_FAILED",e),t.options))??u,h=Bt(d)?d:new en(d);return h.range=u.range,h.tag=a,null!=c&&c.format&&(h.format=c.format),h}(ao,e,t,n,r),a&&(c.anchor=a.source.substring(1));break;default:r(t,"UNEXPECTED_TOKEN","error"===t.type?t.message:`Unsupported token (type: ${t.type})`),c=co(e,t.offset,void 0,null,n,r),u=!1}return a&&""===c.anchor&&r(a,"BAD_ALIAS","Anchor cannot be an empty string"),o&&e.options.stringKeys&&(!Ot(c)||"string"!=typeof c.value||c.tag&&"tag:yaml.org,2002:str"!==c.tag)&&r(l??t,"NON_STRING_KEY","With stringKeys, all keys must be strings"),i&&(c.spaceBefore=!0),s&&("scalar"===t.type&&""===t.source?c.comment=s:c.commentBefore=s),e.options.keepSourceTokens&&u&&(c.srcToken=t),c}function co(e,t,n,r,{spaceBefore:o,comment:i,anchor:s,tag:a,end:l},c){const u=io(e,{type:"scalar",offset:so(t,n,r),indent:-1,source:""},a,c);return s&&(u.anchor=s.source.substring(1),""===u.anchor&&c(s,"BAD_ALIAS","Anchor cannot be an empty string")),o&&(u.spaceBefore=!0),i&&(u.comment=i,u.range[2]=l),u}function uo(e){if("number"==typeof e)return[e,e+1];if(Array.isArray(e))return 2===e.length?e:[e[0],e[1]];const{offset:t,source:n}=e;return[t,t+("string"==typeof n?n.length:1)]}function ho(e){var t;let n="",r=!1,o=!1;for(let i=0;i<e.length;++i){const s=e[i];switch(s[0]){case"#":n+=(""===n?"":o?"\n\n":"\n")+(s.substring(1)||" "),r=!0,o=!1;break;case"%":"#"!==(null==(t=e[i+1])?void 0:t[0])&&(i+=1),r=!1;break;default:r||(o=!0),r=!1}}return{comment:n,afterEmptyLine:o}}class po{constructor(e={}){this.doc=null,this.atDirectives=!1,this.prelude=[],this.errors=[],this.warnings=[],this.onError=(e,t,n,r)=>{const o=uo(e);r?this.warnings.push(new Ur(o,t,n)):this.errors.push(new Hr(o,t,n))},this.directives=new qt({version:e.version||"1.2"}),this.options=e}decorate(e,t){const{comment:n,afterEmptyLine:r}=ho(this.prelude);if(n){const o=e.contents;if(t)e.comment=e.comment?`${e.comment}\n${n}`:n;else if(r||e.directives.docStart||!o)e.commentBefore=n;else if(It(o)&&!o.flow&&o.items.length>0){let e=o.items[0];kt(e)&&(e=e.key);const t=e.commentBefore;e.commentBefore=t?`${n}\n${t}`:n}else{const e=o.commentBefore;o.commentBefore=e?`${n}\n${e}`:n}}t?(Array.prototype.push.apply(e.errors,this.errors),Array.prototype.push.apply(e.warnings,this.warnings)):(e.errors=this.errors,e.warnings=this.warnings),this.prelude=[],this.errors=[],this.warnings=[]}streamInfo(){return{comment:ho(this.prelude).comment,directives:this.directives,errors:this.errors,warnings:this.warnings}}*compose(e,t=!1,n=-1){for(const t of e)yield*this.next(t);yield*this.end(t,n)}*next(e){switch(e.type){case"directive":this.directives.add(e.source,(t,n,r)=>{const o=uo(e);o[0]+=t,this.onError(o,"BAD_DIRECTIVE",n,r)}),this.prelude.push(e.source),this.atDirectives=!0;break;case"document":{const t=function(e,t,{offset:n,start:r,value:o,end:i},s){const a=Object.assign({_directives:t},e),l=new Rr(void 0,a),c={atKey:!1,atRoot:!0,directives:l.directives,options:l.options,schema:l.schema},u=qr(r,{indicator:"doc-start",next:o??(null==i?void 0:i[0]),offset:n,onError:s,parentIndent:0,startOnNewline:!0});u.found&&(l.directives.docStart=!0,o&&("block-map"===o.type||"block-seq"===o.type)&&!u.hasNewline&&s(u.end,"MISSING_CHAR","Block collection cannot start on same line with directives-end marker")),l.contents=o?lo(c,o,u,s):co(c,u.end,r,null,u,s);const d=l.contents.range[2],h=Yr(i,d,!1,s);return h.comment&&(l.comment=h.comment),l.range=[n,d,h.offset],l}(this.options,this.directives,e,this.onError);this.atDirectives&&!t.directives.docStart&&this.onError(e,"MISSING_CHAR","Missing directives-end/doc-start indicator line"),this.decorate(t,!1),this.doc&&(yield this.doc),this.doc=t,this.atDirectives=!1;break}case"byte-order-mark":case"space":break;case"comment":case"newline":this.prelude.push(e.source);break;case"error":{const t=e.source?`${e.message}: ${JSON.stringify(e.source)}`:e.message,n=new Hr(uo(e),"UNEXPECTED_TOKEN",t);this.atDirectives||!this.doc?this.errors.push(n):this.doc.errors.push(n);break}case"doc-end":{if(!this.doc){const t="Unexpected doc-end without preceding document";this.errors.push(new Hr(uo(e),"UNEXPECTED_TOKEN",t));break}this.doc.directives.docEnd=!0;const t=Yr(e.end,e.offset+e.source.length,this.doc.options.strict,this.onError);if(this.decorate(this.doc,!0),t.comment){const e=this.doc.comment;this.doc.comment=e?`${e}\n${t.comment}`:t.comment}this.doc.range[2]=t.offset;break}default:this.errors.push(new Hr(uo(e),"UNEXPECTED_TOKEN",`Unsupported token ${e.type}`))}}*end(e=!1,t=-1){if(this.doc)this.decorate(this.doc,!0),yield this.doc,this.doc=null;else if(e){const e=Object.assign({_directives:this.directives},this.options),n=new Rr(void 0,e);this.atDirectives&&this.onError(t,"MISSING_CHAR","Missing directives-end indicator line"),n.range=[0,t,t],this.decorate(n,!1),yield n}}}function fo(e,t){if(t)for(const n of t)switch(n.type){case"space":case"comment":e.push(n);break;case"newline":return e.push(n),!0}return!1}function mo(e,t,n){switch(e.type){case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":e.type=n,e.source=t;break;case"block-scalar":{const r=e.props.slice(1);let o=t.length;"block-scalar-header"===e.props[0].type&&(o-=e.props[0].source.length);for(const e of r)e.offset+=o;delete e.props,Object.assign(e,{type:n,source:t,end:r});break}case"block-map":case"block-seq":{const r={type:"newline",offset:e.offset+t.length,indent:e.indent,source:"\n"};delete e.items,Object.assign(e,{type:n,source:t,end:[r]});break}default:{const r="indent"in e?e.indent:-1,o="end"in e&&Array.isArray(e.end)?e.end.filter(e=>"space"===e.type||"comment"===e.type||"newline"===e.type):[];for(const t of Object.keys(e))"type"!==t&&"offset"!==t&&delete e[t];Object.assign(e,{type:n,indent:r,source:t,end:o})}}}function go(e){switch(e.type){case"block-scalar":{let t="";for(const n of e.props)t+=go(n);return t+e.source}case"block-map":case"block-seq":{let t="";for(const n of e.items)t+=bo(n);return t}case"flow-collection":{let t=e.start.source;for(const n of e.items)t+=bo(n);for(const n of e.end)t+=n.source;return t}case"document":{let t=bo(e);if(e.end)for(const n of e.end)t+=n.source;return t}default:{let t=e.source;if("end"in e&&e.end)for(const n of e.end)t+=n.source;return t}}}function bo({start:e,key:t,sep:n,value:r}){let o="";for(const t of e)o+=t.source;if(t&&(o+=go(t)),n)for(const e of n)o+=e.source;return r&&(o+=go(r)),o}const wo=Symbol("break visit"),yo=Symbol("skip children"),vo=Symbol("remove item");function Ao(e,t){"type"in e&&"document"===e.type&&(e={start:e.start,value:e.value}),_o(Object.freeze([]),e,t)}function _o(e,t,n){let r=n(t,e);if("symbol"==typeof r)return r;for(const o of["key","value"]){const i=t[o];if(i&&"items"in i){for(let t=0;t<i.items.length;++t){const r=_o(Object.freeze(e.concat([[o,t]])),i.items[t],n);if("number"==typeof r)t=r-1;else{if(r===wo)return wo;r===vo&&(i.items.splice(t,1),t-=1)}}"function"==typeof r&&"key"===o&&(r=r(t,e))}}return"function"==typeof r?r(t,e):r}Ao.BREAK=wo,Ao.SKIP=yo,Ao.REMOVE=vo,Ao.itemAtPath=(e,t)=>{let n=e;for(const[e,r]of t){const t=null==n?void 0:n[e];if(!t||!("items"in t))return;n=t.items[r]}return n},Ao.parentCollection=(e,t)=>{const n=Ao.itemAtPath(e,t.slice(0,-1)),r=t[t.length-1][0],o=null==n?void 0:n[r];if(o&&"items"in o)return o;throw new Error("Parent collection not found")};const xo="\ufeff",So="",Eo="",Co="";function ko(e){switch(e){case xo:return"byte-order-mark";case So:return"doc-mode";case Eo:return"flow-error-end";case Co:return"scalar";case"---":return"doc-start";case"...":return"doc-end";case"":case"\n":case"\r\n":return"newline";case"-":return"seq-item-ind";case"?":return"explicit-key-ind";case":":return"map-value-ind";case"{":return"flow-map-start";case"}":return"flow-map-end";case"[":return"flow-seq-start";case"]":return"flow-seq-end";case",":return"comma"}switch(e[0]){case" ":case"\t":return"space";case"#":return"comment";case"%":return"directive-line";case"*":return"alias";case"&":return"anchor";case"!":return"tag";case"'":return"single-quoted-scalar";case'"':return"double-quoted-scalar";case"|":case">":return"block-scalar-header"}return null}const Oo=Object.freeze(Object.defineProperty({__proto__:null,BOM:xo,DOCUMENT:So,FLOW_END:Eo,SCALAR:Co,createScalarToken:function(e,t){const{implicitKey:n=!1,indent:r,inFlow:o=!1,offset:i=-1,type:s="PLAIN"}=t,a=An({type:s,value:e},{implicitKey:n,indent:r>0?" ".repeat(r):"",inFlow:o,options:{blockQuote:!0,lineWidth:-1}}),l=t.end??[{type:"newline",offset:-1,indent:r,source:"\n"}];switch(a[0]){case"|":case">":{const e=a.indexOf("\n"),t=a.substring(0,e),n=a.substring(e+1)+"\n",o=[{type:"block-scalar-header",offset:i,indent:r,source:t}];return fo(o,l)||o.push({type:"newline",offset:-1,indent:r,source:"\n"}),{type:"block-scalar",offset:i,indent:r,props:o,source:n}}case'"':return{type:"double-quoted-scalar",offset:i,indent:r,source:a,end:l};case"'":return{type:"single-quoted-scalar",offset:i,indent:r,source:a,end:l};default:return{type:"scalar",offset:i,indent:r,source:a,end:l}}},isCollection:e=>!!e&&"items"in e,isScalar:e=>!!e&&("scalar"===e.type||"single-quoted-scalar"===e.type||"double-quoted-scalar"===e.type||"block-scalar"===e.type),prettyToken:function(e){switch(e){case xo:return"<BOM>";case So:return"<DOC>";case Eo:return"<FLOW_END>";case Co:return"<SCALAR>";default:return JSON.stringify(e)}},resolveAsScalar:function(e,t=!0,n){if(e){const r=(e,t,r)=>{const o="number"==typeof e?e:Array.isArray(e)?e[0]:e.offset;if(!n)throw new Hr([o,o+1],t,r);n(o,t,r)};switch(e.type){case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return eo(e,t,r);case"block-scalar":return Zr({options:{strict:t}},e,r)}}return null},setScalarValue:function(e,t,n={}){let{afterKey:r=!1,implicitKey:o=!1,inFlow:i=!1,type:s}=n,a="indent"in e?e.indent:null;if(r&&"number"==typeof a&&(a+=2),!s)switch(e.type){case"single-quoted-scalar":s="QUOTE_SINGLE";break;case"double-quoted-scalar":s="QUOTE_DOUBLE";break;case"block-scalar":{const t=e.props[0];if("block-scalar-header"!==t.type)throw new Error("Invalid block scalar header");s=">"===t.source[0]?"BLOCK_FOLDED":"BLOCK_LITERAL";break}default:s="PLAIN"}const l=An({type:s,value:t},{implicitKey:o||null===a,indent:null!==a&&a>0?" ".repeat(a):"",inFlow:i,options:{blockQuote:!0,lineWidth:-1}});switch(l[0]){case"|":case">":!function(e,t){const n=t.indexOf("\n"),r=t.substring(0,n),o=t.substring(n+1)+"\n";if("block-scalar"===e.type){const t=e.props[0];if("block-scalar-header"!==t.type)throw new Error("Invalid block scalar header");t.source=r,e.source=o}else{const{offset:t}=e,n="indent"in e?e.indent:-1,i=[{type:"block-scalar-header",offset:t,indent:n,source:r}];fo(i,"end"in e?e.end:void 0)||i.push({type:"newline",offset:-1,indent:n,source:"\n"});for(const t of Object.keys(e))"type"!==t&&"offset"!==t&&delete e[t];Object.assign(e,{type:"block-scalar",indent:n,props:i,source:o})}}(e,l);break;case'"':mo(e,l,"double-quoted-scalar");break;case"'":mo(e,l,"single-quoted-scalar");break;default:mo(e,l,"scalar")}},stringify:e=>"type"in e?go(e):bo(e),tokenType:ko,visit:Ao},Symbol.toStringTag,{value:"Module"}));function To(e){switch(e){case void 0:case" ":case"\n":case"\r":case"\t":return!0;default:return!1}}const Io=new Set("0123456789ABCDEFabcdef"),Bo=new Set("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-#;/?:@&=+$_.!~*'()"),Mo=new Set(",[]{}"),Po=new Set(" ,[]{}\n\r\t"),jo=e=>!e||Po.has(e);class No{constructor(){this.atEnd=!1,this.blockScalarIndent=-1,this.blockScalarKeep=!1,this.buffer="",this.flowKey=!1,this.flowLevel=0,this.indentNext=0,this.indentValue=0,this.lineEndPos=null,this.next=null,this.pos=0}*lex(e,t=!1){if(e){if("string"!=typeof e)throw TypeError("source is not a string");this.buffer=this.buffer?this.buffer+e:e,this.lineEndPos=null}this.atEnd=!t;let n=this.next??"stream";for(;n&&(t||this.hasChars(1));)n=yield*this.parseNext(n)}atLineEnd(){let e=this.pos,t=this.buffer[e];for(;" "===t||"\t"===t;)t=this.buffer[++e];return!t||"#"===t||"\n"===t||"\r"===t&&"\n"===this.buffer[e+1]}charAt(e){return this.buffer[this.pos+e]}continueScalar(e){let t=this.buffer[e];if(this.indentNext>0){let n=0;for(;" "===t;)t=this.buffer[++n+e];if("\r"===t){const t=this.buffer[n+e+1];if("\n"===t||!t&&!this.atEnd)return e+n+1}return"\n"===t||n>=this.indentNext||!t&&!this.atEnd?e+n:-1}if("-"===t||"."===t){const t=this.buffer.substr(e,3);if(("---"===t||"..."===t)&&To(this.buffer[e+3]))return-1}return e}getLine(){let e=this.lineEndPos;return("number"!=typeof e||-1!==e&&e<this.pos)&&(e=this.buffer.indexOf("\n",this.pos),this.lineEndPos=e),-1===e?this.atEnd?this.buffer.substring(this.pos):null:("\r"===this.buffer[e-1]&&(e-=1),this.buffer.substring(this.pos,e))}hasChars(e){return this.pos+e<=this.buffer.length}setNext(e){return this.buffer=this.buffer.substring(this.pos),this.pos=0,this.lineEndPos=null,this.next=e,null}peek(e){return this.buffer.substr(this.pos,e)}*parseNext(e){switch(e){case"stream":return yield*this.parseStream();case"line-start":return yield*this.parseLineStart();case"block-start":return yield*this.parseBlockStart();case"doc":return yield*this.parseDocument();case"flow":return yield*this.parseFlowCollection();case"quoted-scalar":return yield*this.parseQuotedScalar();case"block-scalar":return yield*this.parseBlockScalar();case"plain-scalar":return yield*this.parsePlainScalar()}}*parseStream(){let e=this.getLine();if(null===e)return this.setNext("stream");if(e[0]===xo&&(yield*this.pushCount(1),e=e.substring(1)),"%"===e[0]){let t=e.length,n=e.indexOf("#");for(;-1!==n;){const r=e[n-1];if(" "===r||"\t"===r){t=n-1;break}n=e.indexOf("#",n+1)}for(;;){const n=e[t-1];if(" "!==n&&"\t"!==n)break;t-=1}const r=(yield*this.pushCount(t))+(yield*this.pushSpaces(!0));return yield*this.pushCount(e.length-r),this.pushNewline(),"stream"}if(this.atLineEnd()){const t=yield*this.pushSpaces(!0);return yield*this.pushCount(e.length-t),yield*this.pushNewline(),"stream"}return yield So,yield*this.parseLineStart()}*parseLineStart(){const e=this.charAt(0);if(!e&&!this.atEnd)return this.setNext("line-start");if("-"===e||"."===e){if(!this.atEnd&&!this.hasChars(4))return this.setNext("line-start");const e=this.peek(3);if(("---"===e||"..."===e)&&To(this.charAt(3)))return yield*this.pushCount(3),this.indentValue=0,this.indentNext=0,"---"===e?"doc":"stream"}return this.indentValue=yield*this.pushSpaces(!1),this.indentNext>this.indentValue&&!To(this.charAt(1))&&(this.indentNext=this.indentValue),yield*this.parseBlockStart()}*parseBlockStart(){const[e,t]=this.peek(2);if(!t&&!this.atEnd)return this.setNext("block-start");if(("-"===e||"?"===e||":"===e)&&To(t)){const e=(yield*this.pushCount(1))+(yield*this.pushSpaces(!0));return this.indentNext=this.indentValue+1,this.indentValue+=e,yield*this.parseBlockStart()}return"doc"}*parseDocument(){yield*this.pushSpaces(!0);const e=this.getLine();if(null===e)return this.setNext("doc");let t=yield*this.pushIndicators();switch(e[t]){case"#":yield*this.pushCount(e.length-t);case void 0:return yield*this.pushNewline(),yield*this.parseLineStart();case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel=1,"flow";case"}":case"]":return yield*this.pushCount(1),"doc";case"*":return yield*this.pushUntil(jo),"doc";case'"':case"'":return yield*this.parseQuotedScalar();case"|":case">":return t+=(yield*this.parseBlockScalarHeader()),t+=(yield*this.pushSpaces(!0)),yield*this.pushCount(e.length-t),yield*this.pushNewline(),yield*this.parseBlockScalar();default:return yield*this.parsePlainScalar()}}*parseFlowCollection(){let e,t,n=-1;do{e=yield*this.pushNewline(),e>0?(t=yield*this.pushSpaces(!1),this.indentValue=n=t):t=0,t+=(yield*this.pushSpaces(!0))}while(e+t>0);const r=this.getLine();if(null===r)return this.setNext("flow");if((-1!==n&&n<this.indentNext&&"#"!==r[0]||0===n&&(r.startsWith("---")||r.startsWith("..."))&&To(r[3]))&&(n!==this.indentNext-1||1!==this.flowLevel||"]"!==r[0]&&"}"!==r[0]))return this.flowLevel=0,yield Eo,yield*this.parseLineStart();let o=0;for(;","===r[o];)o+=(yield*this.pushCount(1)),o+=(yield*this.pushSpaces(!0)),this.flowKey=!1;switch(o+=(yield*this.pushIndicators()),r[o]){case void 0:return"flow";case"#":return yield*this.pushCount(r.length-o),"flow";case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel+=1,"flow";case"}":case"]":return yield*this.pushCount(1),this.flowKey=!0,this.flowLevel-=1,this.flowLevel?"flow":"doc";case"*":return yield*this.pushUntil(jo),"flow";case'"':case"'":return this.flowKey=!0,yield*this.parseQuotedScalar();case":":{const e=this.charAt(1);if(this.flowKey||To(e)||","===e)return this.flowKey=!1,yield*this.pushCount(1),yield*this.pushSpaces(!0),"flow"}default:return this.flowKey=!1,yield*this.parsePlainScalar()}}*parseQuotedScalar(){const e=this.charAt(0);let t=this.buffer.indexOf(e,this.pos+1);if("'"===e)for(;-1!==t&&"'"===this.buffer[t+1];)t=this.buffer.indexOf("'",t+2);else for(;-1!==t;){let e=0;for(;"\\"===this.buffer[t-1-e];)e+=1;if(e%2==0)break;t=this.buffer.indexOf('"',t+1)}const n=this.buffer.substring(0,t);let r=n.indexOf("\n",this.pos);if(-1!==r){for(;-1!==r;){const e=this.continueScalar(r+1);if(-1===e)break;r=n.indexOf("\n",e)}-1!==r&&(t=r-("\r"===n[r-1]?2:1))}if(-1===t){if(!this.atEnd)return this.setNext("quoted-scalar");t=this.buffer.length}return yield*this.pushToIndex(t+1,!1),this.flowLevel?"flow":"doc"}*parseBlockScalarHeader(){this.blockScalarIndent=-1,this.blockScalarKeep=!1;let e=this.pos;for(;;){const t=this.buffer[++e];if("+"===t)this.blockScalarKeep=!0;else if(t>"0"&&t<="9")this.blockScalarIndent=Number(t)-1;else if("-"!==t)break}return yield*this.pushUntil(e=>To(e)||"#"===e)}*parseBlockScalar(){let e,t=this.pos-1,n=0;e:for(let r=this.pos;e=this.buffer[r];++r)switch(e){case" ":n+=1;break;case"\n":t=r,n=0;break;case"\r":{const e=this.buffer[r+1];if(!e&&!this.atEnd)return this.setNext("block-scalar");if("\n"===e)break}default:break e}if(!e&&!this.atEnd)return this.setNext("block-scalar");if(n>=this.indentNext){-1===this.blockScalarIndent?this.indentNext=n:this.indentNext=this.blockScalarIndent+(0===this.indentNext?1:this.indentNext);do{const e=this.continueScalar(t+1);if(-1===e)break;t=this.buffer.indexOf("\n",e)}while(-1!==t);if(-1===t){if(!this.atEnd)return this.setNext("block-scalar");t=this.buffer.length}}let r=t+1;for(e=this.buffer[r];" "===e;)e=this.buffer[++r];if("\t"===e){for(;"\t"===e||" "===e||"\r"===e||"\n"===e;)e=this.buffer[++r];t=r-1}else if(!this.blockScalarKeep)for(;;){let e=t-1,r=this.buffer[e];"\r"===r&&(r=this.buffer[--e]);const o=e;for(;" "===r;)r=this.buffer[--e];if(!("\n"===r&&e>=this.pos&&e+1+n>o))break;t=e}return yield Co,yield*this.pushToIndex(t+1,!0),yield*this.parseLineStart()}*parsePlainScalar(){const e=this.flowLevel>0;let t,n=this.pos-1,r=this.pos-1;for(;t=this.buffer[++r];)if(":"===t){const t=this.buffer[r+1];if(To(t)||e&&Mo.has(t))break;n=r}else if(To(t)){let o=this.buffer[r+1];if("\r"===t&&("\n"===o?(r+=1,t="\n",o=this.buffer[r+1]):n=r),"#"===o||e&&Mo.has(o))break;if("\n"===t){const e=this.continueScalar(r+1);if(-1===e)break;r=Math.max(r,e-2)}}else{if(e&&Mo.has(t))break;n=r}return t||this.atEnd?(yield Co,yield*this.pushToIndex(n+1,!0),e?"flow":"doc"):this.setNext("plain-scalar")}*pushCount(e){return e>0?(yield this.buffer.substr(this.pos,e),this.pos+=e,e):0}*pushToIndex(e,t){const n=this.buffer.slice(this.pos,e);return n?(yield n,this.pos+=n.length,n.length):(t&&(yield""),0)}*pushIndicators(){switch(this.charAt(0)){case"!":return(yield*this.pushTag())+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"&":return(yield*this.pushUntil(jo))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"-":case"?":case":":{const e=this.flowLevel>0,t=this.charAt(1);if(To(t)||e&&Mo.has(t))return e?this.flowKey&&(this.flowKey=!1):this.indentNext=this.indentValue+1,(yield*this.pushCount(1))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators())}}return 0}*pushTag(){if("<"===this.charAt(1)){let e=this.pos+2,t=this.buffer[e];for(;!To(t)&&">"!==t;)t=this.buffer[++e];return yield*this.pushToIndex(">"===t?e+1:e,!1)}{let e=this.pos+1,t=this.buffer[e];for(;t;)if(Bo.has(t))t=this.buffer[++e];else{if("%"!==t||!Io.has(this.buffer[e+1])||!Io.has(this.buffer[e+2]))break;t=this.buffer[e+=3]}return yield*this.pushToIndex(e,!1)}}*pushNewline(){const e=this.buffer[this.pos];return"\n"===e?yield*this.pushCount(1):"\r"===e&&"\n"===this.charAt(1)?yield*this.pushCount(2):0}*pushSpaces(e){let t,n=this.pos-1;do{t=this.buffer[++n]}while(" "===t||e&&"\t"===t);const r=n-this.pos;return r>0&&(yield this.buffer.substr(this.pos,r),this.pos=n),r}*pushUntil(e){let t=this.pos,n=this.buffer[t];for(;!e(n);)n=this.buffer[++t];return yield*this.pushToIndex(t,!1)}}class Fo{constructor(){this.lineStarts=[],this.addNewLine=e=>this.lineStarts.push(e),this.linePos=e=>{let t=0,n=this.lineStarts.length;for(;t<n;){const r=t+n>>1;this.lineStarts[r]<e?t=r+1:n=r}return this.lineStarts[t]===e?{line:t+1,col:1}:0===t?{line:0,col:e}:{line:t,col:e-this.lineStarts[t-1]+1}}}}function Do(e,t){for(let n=0;n<e.length;++n)if(e[n].type===t)return!0;return!1}function Ro(e){for(let t=0;t<e.length;++t)switch(e[t].type){case"space":case"comment":case"newline":break;default:return t}return-1}function Lo(e){switch(null==e?void 0:e.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"flow-collection":return!0;default:return!1}}function zo(e){switch(e.type){case"document":return e.start;case"block-map":{const t=e.items[e.items.length-1];return t.sep??t.start}case"block-seq":return e.items[e.items.length-1].start;default:return[]}}function Ho(e){var t;if(0===e.length)return[];let n=e.length;e:for(;--n>=0;)switch(e[n].type){case"doc-start":case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":case"newline":break e}for(;"space"===(null==(t=e[++n])?void 0:t.type););return e.splice(n,e.length)}function Uo(e){if("flow-seq-start"===e.start.type)for(const t of e.items)t.sep&&!t.value&&!Do(t.start,"explicit-key-ind")&&!Do(t.sep,"map-value-ind")&&(t.key&&(t.value=t.key),delete t.key,Lo(t.value)?t.value.end?Array.prototype.push.apply(t.value.end,t.sep):t.value.end=t.sep:Array.prototype.push.apply(t.start,t.sep),delete t.sep)}class Qo{constructor(e){this.atNewLine=!0,this.atScalar=!1,this.indent=0,this.offset=0,this.onKeyLine=!1,this.stack=[],this.source="",this.type="",this.lexer=new No,this.onNewLine=e}*parse(e,t=!1){this.onNewLine&&0===this.offset&&this.onNewLine(0);for(const n of this.lexer.lex(e,t))yield*this.next(n);t||(yield*this.end())}*next(e){if(this.source=e,this.atScalar)return this.atScalar=!1,yield*this.step(),void(this.offset+=e.length);const t=ko(e);if(t)if("scalar"===t)this.atNewLine=!1,this.atScalar=!0,this.type="scalar";else{switch(this.type=t,yield*this.step(),t){case"newline":this.atNewLine=!0,this.indent=0,this.onNewLine&&this.onNewLine(this.offset+e.length);break;case"space":this.atNewLine&&" "===e[0]&&(this.indent+=e.length);break;case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":this.atNewLine&&(this.indent+=e.length);break;case"doc-mode":case"flow-error-end":return;default:this.atNewLine=!1}this.offset+=e.length}else{const t=`Not a YAML token: ${e}`;yield*this.pop({type:"error",offset:this.offset,message:t,source:e}),this.offset+=e.length}}*end(){for(;this.stack.length>0;)yield*this.pop()}get sourceToken(){return{type:this.type,offset:this.offset,indent:this.indent,source:this.source}}*step(){const e=this.peek(1);if("doc-end"!==this.type||e&&"doc-end"===e.type){if(!e)return yield*this.stream();switch(e.type){case"document":return yield*this.document(e);case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return yield*this.scalar(e);case"block-scalar":return yield*this.blockScalar(e);case"block-map":return yield*this.blockMap(e);case"block-seq":return yield*this.blockSequence(e);case"flow-collection":return yield*this.flowCollection(e);case"doc-end":return yield*this.documentEnd(e)}yield*this.pop()}else{for(;this.stack.length>0;)yield*this.pop();this.stack.push({type:"doc-end",offset:this.offset,source:this.source})}}peek(e){return this.stack[this.stack.length-e]}*pop(e){const t=e??this.stack.pop();if(t)if(0===this.stack.length)yield t;else{const e=this.peek(1);switch("block-scalar"===t.type?t.indent="indent"in e?e.indent:0:"flow-collection"===t.type&&"document"===e.type&&(t.indent=0),"flow-collection"===t.type&&Uo(t),e.type){case"document":e.value=t;break;case"block-scalar":e.props.push(t);break;case"block-map":{const n=e.items[e.items.length-1];if(n.value)return e.items.push({start:[],key:t,sep:[]}),void(this.onKeyLine=!0);if(!n.sep)return Object.assign(n,{key:t,sep:[]}),void(this.onKeyLine=!n.explicitKey);n.value=t;break}case"block-seq":{const n=e.items[e.items.length-1];n.value?e.items.push({start:[],value:t}):n.value=t;break}case"flow-collection":{const n=e.items[e.items.length-1];return void(!n||n.value?e.items.push({start:[],key:t,sep:[]}):n.sep?n.value=t:Object.assign(n,{key:t,sep:[]}))}default:yield*this.pop(),yield*this.pop(t)}if(!("document"!==e.type&&"block-map"!==e.type&&"block-seq"!==e.type||"block-map"!==t.type&&"block-seq"!==t.type)){const n=t.items[t.items.length-1];n&&!n.sep&&!n.value&&n.start.length>0&&-1===Ro(n.start)&&(0===t.indent||n.start.every(e=>"comment"!==e.type||e.indent<t.indent))&&("document"===e.type?e.end=n.start:e.items.push({start:n.start}),t.items.splice(-1,1))}}else yield{type:"error",offset:this.offset,source:"",message:"Tried to pop an empty stack"}}*stream(){switch(this.type){case"directive-line":return void(yield{type:"directive",offset:this.offset,source:this.source});case"byte-order-mark":case"space":case"comment":case"newline":return void(yield this.sourceToken);case"doc-mode":case"doc-start":{const e={type:"document",offset:this.offset,start:[]};return"doc-start"===this.type&&e.start.push(this.sourceToken),void this.stack.push(e)}}yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML stream`,source:this.source}}*document(e){if(e.value)return yield*this.lineEnd(e);switch(this.type){case"doc-start":return void(-1!==Ro(e.start)?(yield*this.pop(),yield*this.step()):e.start.push(this.sourceToken));case"anchor":case"tag":case"space":case"comment":case"newline":return void e.start.push(this.sourceToken)}const t=this.startBlockValue(e);t?this.stack.push(t):yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML document`,source:this.source}}*scalar(e){if("map-value-ind"===this.type){const t=Ho(zo(this.peek(2)));let n;e.end?(n=e.end,n.push(this.sourceToken),delete e.end):n=[this.sourceToken];const r={type:"block-map",offset:e.offset,indent:e.indent,items:[{start:t,key:e,sep:n}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=r}else yield*this.lineEnd(e)}*blockScalar(e){switch(this.type){case"space":case"comment":case"newline":return void e.props.push(this.sourceToken);case"scalar":if(e.source=this.source,this.atNewLine=!0,this.indent=0,this.onNewLine){let e=this.source.indexOf("\n")+1;for(;0!==e;)this.onNewLine(this.offset+e),e=this.source.indexOf("\n",e)+1}yield*this.pop();break;default:yield*this.pop(),yield*this.step()}}*blockMap(e){var t;const n=e.items[e.items.length-1];switch(this.type){case"newline":if(this.onKeyLine=!1,n.value){const t="end"in n.value?n.value.end:void 0,r=Array.isArray(t)?t[t.length-1]:void 0;"comment"===(null==r?void 0:r.type)?null==t||t.push(this.sourceToken):e.items.push({start:[this.sourceToken]})}else n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"space":case"comment":if(n.value)e.items.push({start:[this.sourceToken]});else if(n.sep)n.sep.push(this.sourceToken);else{if(this.atIndentedComment(n.start,e.indent)){const r=e.items[e.items.length-2],o=null==(t=null==r?void 0:r.value)?void 0:t.end;if(Array.isArray(o))return Array.prototype.push.apply(o,n.start),o.push(this.sourceToken),void e.items.pop()}n.start.push(this.sourceToken)}return}if(this.indent>=e.indent){const t=!this.onKeyLine&&this.indent===e.indent,r=t&&(n.sep||n.explicitKey)&&"seq-item-ind"!==this.type;let o=[];if(r&&n.sep&&!n.value){const t=[];for(let r=0;r<n.sep.length;++r){const o=n.sep[r];switch(o.type){case"newline":t.push(r);break;case"space":break;case"comment":o.indent>e.indent&&(t.length=0);break;default:t.length=0}}t.length>=2&&(o=n.sep.splice(t[1]))}switch(this.type){case"anchor":case"tag":return void(r||n.value?(o.push(this.sourceToken),e.items.push({start:o}),this.onKeyLine=!0):n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken));case"explicit-key-ind":return n.sep||n.explicitKey?r||n.value?(o.push(this.sourceToken),e.items.push({start:o,explicitKey:!0})):this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken],explicitKey:!0}]}):(n.start.push(this.sourceToken),n.explicitKey=!0),void(this.onKeyLine=!0);case"map-value-ind":if(n.explicitKey)if(n.sep)if(n.value)e.items.push({start:[],key:null,sep:[this.sourceToken]});else if(Do(n.sep,"map-value-ind"))this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:o,key:null,sep:[this.sourceToken]}]});else if(Lo(n.key)&&!Do(n.sep,"newline")){const e=Ho(n.start),t=n.key,r=n.sep;r.push(this.sourceToken),delete n.key,delete n.sep,this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:e,key:t,sep:r}]})}else o.length>0?n.sep=n.sep.concat(o,this.sourceToken):n.sep.push(this.sourceToken);else if(Do(n.start,"newline"))Object.assign(n,{key:null,sep:[this.sourceToken]});else{const e=Ho(n.start);this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:e,key:null,sep:[this.sourceToken]}]})}else n.sep?n.value||r?e.items.push({start:o,key:null,sep:[this.sourceToken]}):Do(n.sep,"map-value-ind")?this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[],key:null,sep:[this.sourceToken]}]}):n.sep.push(this.sourceToken):Object.assign(n,{key:null,sep:[this.sourceToken]});return void(this.onKeyLine=!0);case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{const t=this.flowScalar(this.type);return void(r||n.value?(e.items.push({start:o,key:t,sep:[]}),this.onKeyLine=!0):n.sep?this.stack.push(t):(Object.assign(n,{key:t,sep:[]}),this.onKeyLine=!0))}default:{const n=this.startBlockValue(e);if(n)return t&&"block-seq"!==n.type&&e.items.push({start:o}),void this.stack.push(n)}}}yield*this.pop(),yield*this.step()}*blockSequence(e){var t;const n=e.items[e.items.length-1];switch(this.type){case"newline":if(n.value){const t="end"in n.value?n.value.end:void 0,r=Array.isArray(t)?t[t.length-1]:void 0;"comment"===(null==r?void 0:r.type)?null==t||t.push(this.sourceToken):e.items.push({start:[this.sourceToken]})}else n.start.push(this.sourceToken);return;case"space":case"comment":if(n.value)e.items.push({start:[this.sourceToken]});else{if(this.atIndentedComment(n.start,e.indent)){const r=e.items[e.items.length-2],o=null==(t=null==r?void 0:r.value)?void 0:t.end;if(Array.isArray(o))return Array.prototype.push.apply(o,n.start),o.push(this.sourceToken),void e.items.pop()}n.start.push(this.sourceToken)}return;case"anchor":case"tag":if(n.value||this.indent<=e.indent)break;return void n.start.push(this.sourceToken);case"seq-item-ind":if(this.indent!==e.indent)break;return void(n.value||Do(n.start,"seq-item-ind")?e.items.push({start:[this.sourceToken]}):n.start.push(this.sourceToken))}if(this.indent>e.indent){const t=this.startBlockValue(e);if(t)return void this.stack.push(t)}yield*this.pop(),yield*this.step()}*flowCollection(e){const t=e.items[e.items.length-1];if("flow-error-end"===this.type){let e;do{yield*this.pop(),e=this.peek(1)}while(e&&"flow-collection"===e.type)}else if(0===e.end.length){switch(this.type){case"comma":case"explicit-key-ind":return void(!t||t.sep?e.items.push({start:[this.sourceToken]}):t.start.push(this.sourceToken));case"map-value-ind":return void(!t||t.value?e.items.push({start:[],key:null,sep:[this.sourceToken]}):t.sep?t.sep.push(this.sourceToken):Object.assign(t,{key:null,sep:[this.sourceToken]}));case"space":case"comment":case"newline":case"anchor":case"tag":return void(!t||t.value?e.items.push({start:[this.sourceToken]}):t.sep?t.sep.push(this.sourceToken):t.start.push(this.sourceToken));case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{const n=this.flowScalar(this.type);return void(!t||t.value?e.items.push({start:[],key:n,sep:[]}):t.sep?this.stack.push(n):Object.assign(t,{key:n,sep:[]}))}case"flow-map-end":case"flow-seq-end":return void e.end.push(this.sourceToken)}const n=this.startBlockValue(e);n?this.stack.push(n):(yield*this.pop(),yield*this.step())}else{const t=this.peek(2);if("block-map"===t.type&&("map-value-ind"===this.type&&t.indent===e.indent||"newline"===this.type&&!t.items[t.items.length-1].sep))yield*this.pop(),yield*this.step();else if("map-value-ind"===this.type&&"flow-collection"!==t.type){const n=Ho(zo(t));Uo(e);const r=e.end.splice(1,e.end.length);r.push(this.sourceToken);const o={type:"block-map",offset:e.offset,indent:e.indent,items:[{start:n,key:e,sep:r}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=o}else yield*this.lineEnd(e)}}flowScalar(e){if(this.onNewLine){let e=this.source.indexOf("\n")+1;for(;0!==e;)this.onNewLine(this.offset+e),e=this.source.indexOf("\n",e)+1}return{type:e,offset:this.offset,indent:this.indent,source:this.source}}startBlockValue(e){switch(this.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return this.flowScalar(this.type);case"block-scalar-header":return{type:"block-scalar",offset:this.offset,indent:this.indent,props:[this.sourceToken],source:""};case"flow-map-start":case"flow-seq-start":return{type:"flow-collection",offset:this.offset,indent:this.indent,start:this.sourceToken,items:[],end:[]};case"seq-item-ind":return{type:"block-seq",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken]}]};case"explicit-key-ind":{this.onKeyLine=!0;const t=Ho(zo(e));return t.push(this.sourceToken),{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:t,explicitKey:!0}]}}case"map-value-ind":{this.onKeyLine=!0;const t=Ho(zo(e));return{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:t,key:null,sep:[this.sourceToken]}]}}}return null}atIndentedComment(e,t){return!("comment"!==this.type||this.indent<=t)&&e.every(e=>"newline"===e.type||"space"===e.type)}*documentEnd(e){"doc-mode"!==this.type&&(e.end?e.end.push(this.sourceToken):e.end=[this.sourceToken],"newline"===this.type&&(yield*this.pop()))}*lineEnd(e){switch(this.type){case"comma":case"doc-start":case"doc-end":case"flow-seq-end":case"flow-map-end":case"map-value-ind":yield*this.pop(),yield*this.step();break;case"newline":this.onKeyLine=!1;default:e.end?e.end.push(this.sourceToken):e.end=[this.sourceToken],"newline"===this.type&&(yield*this.pop())}}}function qo(e){const t=!1!==e.prettyErrors;return{lineCounter:e.lineCounter||t&&new Fo||null,prettyErrors:t}}function Wo(e,t={}){const{lineCounter:n,prettyErrors:r}=qo(t),o=new Qo(null==n?void 0:n.addNewLine),i=new po(t);let s=null;for(const t of i.compose(o.parse(e),!0,e.length))if(s){if("silent"!==s.options.logLevel){s.errors.push(new Hr(t.range.slice(0,2),"MULTIPLE_DOCS","Source contains multiple documents; please use YAML.parseAllDocuments()"));break}}else s=t;return r&&n&&(s.errors.forEach(Qr(e,n)),s.warnings.forEach(Qr(e,n))),s}const $o=Object.freeze(Object.defineProperty({__proto__:null,Alias:Kt,CST:Oo,Composer:po,Document:Rr,Lexer:No,LineCounter:Fo,Pair:Bn,Parser:Qo,Scalar:en,Schema:Dr,YAMLError:zr,YAMLMap:Dn,YAMLParseError:Hr,YAMLSeq:Ln,YAMLWarning:Ur,isAlias:St,isCollection:It,isDocument:Et,isMap:Ct,isNode:Bt,isPair:kt,isScalar:Ot,isSeq:Tt,parse:function(e,t,n){let r;"function"==typeof t?r=t:void 0===n&&t&&"object"==typeof t&&(n=t);const o=Wo(e,n);if(!o)return null;if(o.warnings.forEach(e=>Sn(o.options.logLevel,e)),o.errors.length>0){if("silent"!==o.options.logLevel)throw o.errors[0];o.errors=[]}return o.toJS(Object.assign({reviver:r},n))},parseAllDocuments:function(e,t={}){const{lineCounter:n,prettyErrors:r}=qo(t),o=new Qo(null==n?void 0:n.addNewLine),i=new po(t),s=Array.from(i.compose(o.parse(e)));if(r&&n)for(const t of s)t.errors.forEach(Qr(e,n)),t.warnings.forEach(Qr(e,n));return s.length>0?s:Object.assign([],{empty:!0},i.streamInfo())},parseDocument:Wo,stringify:function(e,t,n){let r=null;if("function"==typeof t||Array.isArray(t)?r=t:void 0===n&&t&&(n=t),"string"==typeof n&&(n=n.length),"number"==typeof n){const e=Math.round(n);n=e<1?void 0:e>8?{indent:8}:{indent:e}}if(void 0===e){const{keepUndefined:e}=n??t??{};if(!e)return}return Et(e)&&!r?e.toString(n):new Rr(e,r,n).toString(n)},visit:Nt,visitAsync:Dt},Symbol.toStringTag,{value:"Module"})),Go={kind:"role",role:"fragment"};function Vo(e){return e.replace(/[\u200b\u00ad]/g,"").replace(/[\r\n\s\t]+/g," ").trim()}function Yo(e){return{raw:e,normalized:Vo(e)}}class Jo{static parse(e,t,n){try{return new Jo(e.value)._parse()}catch(r){if(r instanceof Ko){const o=!1===t.prettyErrors?r.message:r.message+":\n\n"+e.value+"\n"+" ".repeat(r.pos)+"^\n";return n.push({message:o,range:[t.lineCounter.linePos(e.range[0]),t.lineCounter.linePos(e.range[0]+r.pos)]}),null}throw r}}constructor(e){this._input=e,this._pos=0,this._length=e.length}_peek(){return this._input[this._pos]||""}_next(){return this._pos<this._length?this._input[this._pos++]:null}_eof(){return this._pos>=this._length}_isWhitespace(){return!this._eof()&&/\s/.test(this._peek())}_skipWhitespace(){for(;this._isWhitespace();)this._pos++}_readIdentifier(e){this._eof()&&this._throwError(`Unexpected end of input when expecting ${e}`);const t=this._pos;for(;!this._eof()&&/[a-zA-Z]/.test(this._peek());)this._pos++;return this._input.slice(t,this._pos)}_readString(){let e="",t=!1;for(;!this._eof();){const n=this._next();if(t)e+=n,t=!1;else if("\\"===n)t=!0;else{if('"'===n)return e;e+=n}}this._throwError("Unterminated string")}_throwError(e,t=0){throw new Ko(e,t||this._pos)}_readRegex(){let e="",t=!1,n=!1;for(;!this._eof();){const r=this._next();if(t)e+=r,t=!1;else if("\\"===r)t=!0,e+=r;else{if("/"===r&&!n)return{pattern:e};"["===r?(n=!0,e+=r):"]"===r&&n?(e+=r,n=!1):e+=r}}this._throwError("Unterminated regex")}_readStringOrRegex(){const e=this._peek();return'"'===e?(this._next(),Vo(this._readString())):"/"===e?(this._next(),this._readRegex()):null}_readAttributes(e){let t=this._pos;for(;this._skipWhitespace(),"["===this._peek();){this._next(),this._skipWhitespace(),t=this._pos;const n=this._readIdentifier("attribute");this._skipWhitespace();let r="";if("="===this._peek())for(this._next(),this._skipWhitespace(),t=this._pos;"]"!==this._peek()&&!this._isWhitespace()&&!this._eof();)r+=this._next();this._skipWhitespace(),"]"!==this._peek()&&this._throwError("Expected ]"),this._next(),this._applyAttribute(e,n,r||"true",t)}}_parse(){this._skipWhitespace();const e=this._readIdentifier("role");this._skipWhitespace();const t={kind:"role",role:e,name:this._readStringOrRegex()||""};return this._readAttributes(t),this._skipWhitespace(),this._eof()||this._throwError("Unexpected input"),t}_applyAttribute(e,t,n,r){return"checked"===t?(this._assert("true"===n||"false"===n||"mixed"===n,'Value of "checked" attribute must be a boolean or "mixed"',r),void(e.checked="true"===n||"false"!==n&&"mixed")):"disabled"===t?(this._assert("true"===n||"false"===n,'Value of "disabled" attribute must be a boolean',r),void(e.disabled="true"===n)):"expanded"===t?(this._assert("true"===n||"false"===n,'Value of "expanded" attribute must be a boolean',r),void(e.expanded="true"===n)):"active"===t?(this._assert("true"===n||"false"===n,'Value of "active" attribute must be a boolean',r),void(e.active="true"===n)):"level"===t?(this._assert(!isNaN(Number(n)),'Value of "level" attribute must be a number',r),void(e.level=Number(n))):"pressed"===t?(this._assert("true"===n||"false"===n||"mixed"===n,'Value of "pressed" attribute must be a boolean or "mixed"',r),void(e.pressed="true"===n||"false"!==n&&"mixed")):"selected"===t?(this._assert("true"===n||"false"===n,'Value of "selected" attribute must be a boolean',r),void(e.selected="true"===n)):void this._assert(!1,`Unsupported attribute [${t}]`,r)}_assert(e,t,n){e||this._throwError(t||"Assertion error",n)}}class Ko extends Error{constructor(e,t){super(e),this.pos=t}}const Xo=({className:e,style:t,open:n,isModal:r,width:o,verticalOffset:i,requestClose:s,anchor:a,dataTestId:l,children:c})=>{const u=g.useRef(null),[h,p]=g.useState(0);let f=t;if(null!=a&&a.current){const e=a.current.getBoundingClientRect();f={position:"fixed",margin:0,top:e.bottom+(i??0),left:Zo(e,o??0),width:o,zIndex:110,...t}}return g.useEffect(()=>{const e=e=>{!u.current||!(e.target instanceof Node)||u.current.contains(e.target)||null==s||s()},t=e=>{"Escape"===e.key&&(null==s||s())};return n?(document.addEventListener("mousedown",e),document.addEventListener("keydown",t),()=>{document.removeEventListener("mousedown",e),document.removeEventListener("keydown",t)}):()=>{}},[n,s]),g.useEffect(()=>{const e=()=>p(e=>e+1);return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[]),g.useLayoutEffect(()=>{u.current&&(n?r?u.current.showModal():u.current.show():u.current.close())},[n,r]),d.jsx("dialog",{ref:u,style:f,className:e,"data-testid":l,children:c})},Zo=(e,t)=>{const n=ei(e,t,"left");if(n.inBounds)return n.value;const r=ei(e,t,"right");return r.inBounds?r.value:n.value},ei=(e,t,n)=>{const r=document.documentElement.clientWidth;if("left"===n){const n=e.left;return{value:n,inBounds:n+t<=r}}return{value:e.right-t,inBounds:e.right-t>=0}},ti=({sources:e,paused:t,log:n,mode:r})=>{const[o,i]=g.useState(),[s,a]=A("recorderPropertiesTab","log"),[l,c]=g.useState(),[u,h]=g.useState(),[p,f]=g.useState(!1),[m,w]=function(){const[e,t]=b.useState("dark-mode"===k());return[e,e=>{"dark-mode"===k()!==e&&function(){const e=k(),t="dark-mode"===e?"light-mode":"dark-mode";document.body.classList.remove(e),document.body.classList.add(t),_.setString("theme",t);for(const e of C)e(t)}(),t(e)}]}(),[y,x]=A("autoExpect",!1),S=g.useRef(null);window.playwrightSelectSource=e=>i(e),g.useEffect(()=>{window.dispatch({event:"setAutoExpect",params:{autoExpect:y}})},[y]);const E=g.useMemo(()=>e.find(e=>e.id===o)??{id:"default",isRecorded:!1,text:"",language:"javascript",label:"",highlight:[]},[e,o]),[O,T]=g.useState("");window.playwrightElementPicked=(e,t)=>{const n=E.language;T(ut(n,e.selector)),c(e.ariaSnapshot),h([]),t&&"locator"!==s&&"aria"!==s&&a("locator"),"inspecting"===r&&"aria"===s||window.dispatch({event:"setMode",params:{mode:"inspecting"===r?"standby":"recording"}}).catch(()=>{})};const I=g.useRef(null);g.useLayoutEffect(()=>{var e;null==(e=I.current)||e.scrollIntoView({block:"center",inline:"nearest"})},[I]),g.useLayoutEffect(()=>{const e=e=>{switch(e.key){case"F8":e.preventDefault(),t?window.dispatch({event:"resume"}):window.dispatch({event:"pause"});break;case"F10":e.preventDefault(),t&&window.dispatch({event:"step"})}};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[t]);const B=g.useCallback(e=>{("none"===r||"inspecting"===r)&&window.dispatch({event:"setMode",params:{mode:"standby"}}),T(e),window.dispatch({event:"highlightRequested",params:{selector:e}})},[r]),M=g.useCallback(e=>{("none"===r||"inspecting"===r)&&window.dispatch({event:"setMode",params:{mode:"standby"}});const{fragment:t,errors:n}=function(e,t,n={}){var r;const o=new e.LineCounter,i={keepSourceTokens:!0,lineCounter:o,...n},s=e.parseDocument(t,i),a=[],l=e=>[o.linePos(e[0]),o.linePos(e[1])],c=(t,n)=>{for(const r of n.items){if(r instanceof e.Scalar&&"string"==typeof r.value){const e=Jo.parse(r,i,a);e&&(t.children=t.children||[],t.children.push(e));continue}r instanceof e.YAMLMap?u(t,r):a.push({message:"Sequence items should be strings or maps",range:l(r.range||n.range)})}},u=(t,n)=>{for(const r of n.items){if(t.children=t.children||[],!(r.key instanceof e.Scalar&&"string"==typeof r.key.value)){a.push({message:"Only string keys are supported",range:l(r.key.range||n.range)});continue}const o=r.key,s=r.value;if("text"===o.value){if(!(s instanceof e.Scalar&&"string"==typeof s.value)){a.push({message:"Text value should be a string",range:l(r.value.range||n.range)});continue}t.children.push({kind:"text",text:Yo(s.value)});continue}if("/children"===o.value){if(!(s instanceof e.Scalar&&"string"==typeof s.value)||"contain"!==s.value&&"equal"!==s.value&&"deep-equal"!==s.value){a.push({message:'Strict value should be "contain", "equal" or "deep-equal"',range:l(r.value.range||n.range)});continue}t.containerMode=s.value;continue}if(o.value.startsWith("/")){if(!(s instanceof e.Scalar&&"string"==typeof s.value)){a.push({message:"Property value should be a string",range:l(r.value.range||n.range)});continue}t.props=t.props??{},t.props[o.value.slice(1)]=Yo(s.value);continue}const u=Jo.parse(o,i,a);if(u){if(s instanceof e.Scalar){const e=typeof s.value;if("string"!==e&&"number"!==e&&"boolean"!==e){a.push({message:"Node value should be a string or a sequence",range:l(r.value.range||n.range)});continue}t.children.push({...u,children:[{kind:"text",text:Yo(String(s.value))}]});continue}s instanceof e.YAMLSeq?(t.children.push(u),c(u,s)):a.push({message:"Map values should be strings or sequences",range:l(r.value.range||n.range)})}}},d={kind:"role",role:"fragment"};return s.errors.forEach(e=>{a.push({message:e.message,range:[o.linePos(e.pos[0]),o.linePos(e.pos[1])]})}),a.length?{errors:a,fragment:d}:(s.contents instanceof e.YAMLSeq||a.push({message:'Aria snapshot must be a YAML sequence, elements starting with " -"',range:s.contents?l(s.contents.range):[{line:0,col:0},{line:0,col:0}]}),a.length?{errors:a,fragment:d}:(c(d,s.contents),a.length?{errors:a,fragment:Go}:1!==(null==(r=d.children)?void 0:r.length)||d.containerMode&&"contain"!==d.containerMode?{fragment:d,errors:[]}:{fragment:d.children[0],errors:[]}))}($o,e,{prettyErrors:!1}),o=n.map(e=>({message:e.message,line:e.range[1].line,column:e.range[1].col,type:"subtle-error"}));h(o),c(e),n.length||window.dispatch({event:"highlightRequested",params:{ariaTemplate:t}})},[r]);return d.jsxs("div",{className:"recorder",children:[d.jsxs(K,{children:[d.jsx(ne,{icon:"circle-large-filled",title:"Record",toggled:"recording"===r||"recording-inspecting"===r||"assertingText"===r||"assertingVisibility"===r,onClick:()=>{window.dispatch({event:"setMode",params:{mode:"none"===r||"standby"===r||"inspecting"===r?"recording":"standby"}})},children:"Record"}),d.jsx(re,{}),d.jsx(ne,{icon:"inspect",title:"Pick locator",toggled:"inspecting"===r||"recording-inspecting"===r,onClick:()=>{const e={inspecting:"standby",none:"inspecting",standby:"inspecting",recording:"recording-inspecting","recording-inspecting":"recording",assertingText:"recording-inspecting",assertingVisibility:"recording-inspecting",assertingValue:"recording-inspecting",assertingSnapshot:"recording-inspecting"}[r];window.dispatch({event:"setMode",params:{mode:e}}).catch(()=>{})}}),d.jsx(ne,{icon:"eye",title:"Assert visibility",toggled:"assertingVisibility"===r,disabled:"none"===r||"standby"===r||"inspecting"===r,onClick:()=>{window.dispatch({event:"setMode",params:{mode:"assertingVisibility"===r?"recording":"assertingVisibility"}})}}),d.jsx(ne,{icon:"whole-word",title:"Assert text",toggled:"assertingText"===r,disabled:"none"===r||"standby"===r||"inspecting"===r,onClick:()=>{window.dispatch({event:"setMode",params:{mode:"assertingText"===r?"recording":"assertingText"}})}}),d.jsx(ne,{icon:"symbol-constant",title:"Assert value",toggled:"assertingValue"===r,disabled:"none"===r||"standby"===r||"inspecting"===r,onClick:()=>{window.dispatch({event:"setMode",params:{mode:"assertingValue"===r?"recording":"assertingValue"}})}}),d.jsx(ne,{icon:"gist",title:"Assert snapshot",toggled:"assertingSnapshot"===r,disabled:"none"===r||"standby"===r||"inspecting"===r,onClick:()=>{window.dispatch({event:"setMode",params:{mode:"assertingSnapshot"===r?"recording":"assertingSnapshot"}})}}),d.jsx(re,{}),d.jsx(ne,{icon:"files",title:"Copy",disabled:!E||!E.text,onClick:()=>{v(E.text)}}),d.jsx(ne,{icon:"debug-continue",title:"Resume (F8)",ariaLabel:"Resume",disabled:!t,onClick:()=>{window.dispatch({event:"resume"})}}),d.jsx(ne,{icon:"debug-pause",title:"Pause (F8)",ariaLabel:"Pause",disabled:t,onClick:()=>{window.dispatch({event:"pause"})}}),d.jsx(ne,{icon:"debug-step-over",title:"Step over (F10)",ariaLabel:"Step over",disabled:!t,onClick:()=>{window.dispatch({event:"step"})}}),d.jsx("div",{style:{flex:"auto"}}),d.jsx("div",{children:"Target:"}),d.jsx(ee,{fileId:E.id,sources:e,setFileId:e=>{i(e),window.dispatch({event:"fileChanged",params:{fileId:e}})}}),d.jsx(ne,{icon:"clear-all",title:"Clear",disabled:!E||!E.text,onClick:()=>{window.dispatch({event:"clear"})}}),d.jsx(ne,{ref:S,icon:"settings-gear",title:"Settings",onClick:()=>f(e=>!e)}),d.jsxs(Xo,{style:{padding:"4px 8px"},open:p,width:200,verticalOffset:8,requestClose:()=>f(!1),anchor:S,dataTestId:"settings-dialog",children:[d.jsxs("div",{className:"setting",children:[d.jsx("input",{type:"checkbox",id:"dark-mode-setting",checked:m,onChange:()=>w(!m)}),d.jsx("label",{htmlFor:"dark-mode-setting",children:"Dark mode"})]},"dark-mode-setting"),d.jsxs("div",{className:"setting",title:"Automatically generate assertions while recording",children:[d.jsx("input",{type:"checkbox",id:"auto-expect-setting",checked:y,onChange:()=>{window.dispatch({event:"setAutoExpect",params:{autoExpect:!y}}),x(!y)}}),d.jsx("label",{htmlFor:"auto-expect-setting",children:"Generate assertions"})]},"auto-expect-setting")]})]}),d.jsx(J,{sidebarSize:200,main:d.jsx(G,{text:E.text,highlighter:E.language,highlight:E.highlight,revealLine:E.revealLine,readOnly:!0,lineNumbers:!0}),sidebar:d.jsx(X,{rightToolbar:"locator"===s||"aria"===s?[d.jsx(ne,{icon:"files",title:"Copy",onClick:()=>v(("locator"===s?O:l)||"")},1)]:[],tabs:[{id:"locator",title:"Locator",render:()=>d.jsx(G,{text:O,placeholder:"Type locator to inspect",highlighter:E.language,focusOnChange:!0,onChange:B,wrapLines:!0})},{id:"log",title:"Log",render:()=>d.jsx(mt,{language:E.language,log:Array.from(n.values())})},{id:"aria",title:"Aria",render:()=>d.jsx(G,{text:l||"",placeholder:"Type aria template to match",highlighter:"yaml",onChange:M,highlight:u,wrapLines:!0})}],selectedTab:s,setSelectedTab:a})})]})},ni=({})=>{const[e,t]=g.useState([]),[n,r]=g.useState(!1),[o,i]=g.useState(new Map),[s,a]=g.useState("none");return g.useLayoutEffect(()=>{window.playwrightSetMode=a,window.playwrightSetSources=e=>{t(e),window.playwrightSourcesEchoForTest=e},window.playwrightSetPageURL=e=>{document.title=e?`Playwright Inspector - ${e}`:"Playwright Inspector"},window.playwrightSetPaused=r,window.playwrightUpdateLogs=e=>{i(t=>{const n=new Map(t);for(const r of e)r.reveal=!t.has(r.id),n.set(r.id,r);return n})}},[]),d.jsx(ti,{sources:e,paused:n,log:o,mode:s})};(async()=>{(function(){if(document.playwrightThemeInitialized)return;document.playwrightThemeInitialized=!0,document.defaultView.addEventListener("focus",e=>{e.target.document.nodeType===Node.DOCUMENT_NODE&&document.body.classList.remove("inactive")},!1),document.defaultView.addEventListener("blur",e=>{document.body.classList.add("inactive")},!1);const e=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark-mode":"light-mode";"dark-mode"===_.getString("theme",e)&&document.body.classList.add("dark-mode")})(),z.createRoot(document.querySelector("#root")).render(d.jsx(ni,{}))})()},"./node_modules/playwright-core/lib/vite/recorder/assets/index-CgG-oz1O.css":e=>{"use strict";e.exports=':root{color-scheme:light dark}body{--transparent-blue: #2196F355;--light-pink: #ff69b460;--gray: #888888;--sidebar-width: 250px;--box-shadow: rgba(0, 0, 0, .133) 0px 1.6px 3.6px 0px, rgba(0, 0, 0, .11) 0px .3px .9px 0px}html,body{width:100%;height:100%;padding:0;margin:0;overflow:hidden;display:flex;overscroll-behavior-x:none}#root{width:100%;height:100%;display:flex}body,dialog{background-color:var(--vscode-panel-background);color:var(--vscode-foreground);font-family:var(--vscode-font-family);font-weight:var(--vscode-font-weight);font-size:var(--vscode-font-size);-webkit-font-smoothing:antialiased}a{color:var(--vscode-textLink-foreground)}dialog{border:none;padding:0;box-shadow:var(--box-shadow);line-height:28px;max-width:400px}dialog .title{display:flex;align-items:center;margin:0;padding:0 5px;height:32px;background-color:var(--vscode-sideBar-background);max-width:400px}dialog .title .codicon{margin-right:3px}dialog .body{padding:10px;text-align:center}.button{color:var(--vscode-button-foreground);background:var(--vscode-button-background);margin:10px;border:none;height:28px;min-width:40px;cursor:pointer;-webkit-user-select:none;user-select:none}.button:focus{outline:1px solid var(--vscode-focusBorder)}.button:hover{background:var(--vscode-button-hoverBackground)}.button.secondary{color:var(--vscode-button-secondaryForeground);background:var(--vscode-button-secondaryBackground)}.button.secondary:hover{background:var(--vscode-button-secondaryHoverBackground)}*{box-sizing:border-box;min-width:0;min-height:0}*[hidden],.hidden{display:none!important}.invisible{visibility:hidden!important}svg{fill:currentColor}.vbox{display:flex;flex-direction:column;flex:auto;position:relative}.fill{position:absolute;top:0;right:0;bottom:0;left:0}.hbox{display:flex;flex:auto;position:relative}.spacer{flex:auto}.codicon-check{color:var(--vscode-charts-green)}.codicon-error{color:var(--vscode-errorForeground)}.codicon-warning{color:var(--vscode-list-warningForeground)}.codicon-circle-outline{color:var(--vscode-disabledForeground)}input[type=text],input[type=search]{color:var(--vscode-input-foreground);background-color:var(--vscode-input-background);border:none;outline:none}.codicon-loading{animation:spin 1s infinite linear}::placeholder{color:var(--vscode-input-placeholderForeground)}@keyframes spin{to{transform:rotate(360deg)}}@font-face{font-family:codicon;src:url(/assets/codicon-DCmgc-ay.ttf) format("truetype")}.codicon{font: 16px/1 codicon;flex:none;display:inline-block;text-decoration:none;text-rendering:auto;text-align:center;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.codicon-add:before{content:""}.codicon-plus:before{content:""}.codicon-gist-new:before{content:""}.codicon-repo-create:before{content:""}.codicon-lightbulb:before{content:""}.codicon-light-bulb:before{content:""}.codicon-repo:before{content:""}.codicon-repo-delete:before{content:""}.codicon-gist-fork:before{content:""}.codicon-repo-forked:before{content:""}.codicon-git-pull-request:before{content:""}.codicon-git-pull-request-abandoned:before{content:""}.codicon-record-keys:before{content:""}.codicon-keyboard:before{content:""}.codicon-tag:before{content:""}.codicon-git-pull-request-label:before{content:""}.codicon-tag-add:before{content:""}.codicon-tag-remove:before{content:""}.codicon-person:before{content:""}.codicon-person-follow:before{content:""}.codicon-person-outline:before{content:""}.codicon-person-filled:before{content:""}.codicon-git-branch:before{content:""}.codicon-git-branch-create:before{content:""}.codicon-git-branch-delete:before{content:""}.codicon-source-control:before{content:""}.codicon-mirror:before{content:""}.codicon-mirror-public:before{content:""}.codicon-star:before{content:""}.codicon-star-add:before{content:""}.codicon-star-delete:before{content:""}.codicon-star-empty:before{content:""}.codicon-comment:before{content:""}.codicon-comment-add:before{content:""}.codicon-alert:before{content:""}.codicon-warning:before{content:""}.codicon-search:before{content:""}.codicon-search-save:before{content:""}.codicon-log-out:before{content:""}.codicon-sign-out:before{content:""}.codicon-log-in:before{content:""}.codicon-sign-in:before{content:""}.codicon-eye:before{content:""}.codicon-eye-unwatch:before{content:""}.codicon-eye-watch:before{content:""}.codicon-circle-filled:before{content:""}.codicon-primitive-dot:before{content:""}.codicon-close-dirty:before{content:""}.codicon-debug-breakpoint:before{content:""}.codicon-debug-breakpoint-disabled:before{content:""}.codicon-debug-hint:before{content:""}.codicon-terminal-decoration-success:before{content:""}.codicon-primitive-square:before{content:""}.codicon-edit:before{content:""}.codicon-pencil:before{content:""}.codicon-info:before{content:""}.codicon-issue-opened:before{content:""}.codicon-gist-private:before{content:""}.codicon-git-fork-private:before{content:""}.codicon-lock:before{content:""}.codicon-mirror-private:before{content:""}.codicon-close:before{content:""}.codicon-remove-close:before{content:""}.codicon-x:before{content:""}.codicon-repo-sync:before{content:""}.codicon-sync:before{content:""}.codicon-clone:before{content:""}.codicon-desktop-download:before{content:""}.codicon-beaker:before{content:""}.codicon-microscope:before{content:""}.codicon-vm:before{content:""}.codicon-device-desktop:before{content:""}.codicon-file:before{content:""}.codicon-file-text:before{content:""}.codicon-more:before{content:""}.codicon-ellipsis:before{content:""}.codicon-kebab-horizontal:before{content:""}.codicon-mail-reply:before{content:""}.codicon-reply:before{content:""}.codicon-organization:before{content:""}.codicon-organization-filled:before{content:""}.codicon-organization-outline:before{content:""}.codicon-new-file:before{content:""}.codicon-file-add:before{content:""}.codicon-new-folder:before{content:""}.codicon-file-directory-create:before{content:""}.codicon-trash:before{content:""}.codicon-trashcan:before{content:""}.codicon-history:before{content:""}.codicon-clock:before{content:""}.codicon-folder:before{content:""}.codicon-file-directory:before{content:""}.codicon-symbol-folder:before{content:""}.codicon-logo-github:before{content:""}.codicon-mark-github:before{content:""}.codicon-github:before{content:""}.codicon-terminal:before{content:""}.codicon-console:before{content:""}.codicon-repl:before{content:""}.codicon-zap:before{content:""}.codicon-symbol-event:before{content:""}.codicon-error:before{content:""}.codicon-stop:before{content:""}.codicon-variable:before{content:""}.codicon-symbol-variable:before{content:""}.codicon-array:before{content:""}.codicon-symbol-array:before{content:""}.codicon-symbol-module:before{content:""}.codicon-symbol-package:before{content:""}.codicon-symbol-namespace:before{content:""}.codicon-symbol-object:before{content:""}.codicon-symbol-method:before{content:""}.codicon-symbol-function:before{content:""}.codicon-symbol-constructor:before{content:""}.codicon-symbol-boolean:before{content:""}.codicon-symbol-null:before{content:""}.codicon-symbol-numeric:before{content:""}.codicon-symbol-number:before{content:""}.codicon-symbol-structure:before{content:""}.codicon-symbol-struct:before{content:""}.codicon-symbol-parameter:before{content:""}.codicon-symbol-type-parameter:before{content:""}.codicon-symbol-key:before{content:""}.codicon-symbol-text:before{content:""}.codicon-symbol-reference:before{content:""}.codicon-go-to-file:before{content:""}.codicon-symbol-enum:before{content:""}.codicon-symbol-value:before{content:""}.codicon-symbol-ruler:before{content:""}.codicon-symbol-unit:before{content:""}.codicon-activate-breakpoints:before{content:""}.codicon-archive:before{content:""}.codicon-arrow-both:before{content:""}.codicon-arrow-down:before{content:""}.codicon-arrow-left:before{content:""}.codicon-arrow-right:before{content:""}.codicon-arrow-small-down:before{content:""}.codicon-arrow-small-left:before{content:""}.codicon-arrow-small-right:before{content:""}.codicon-arrow-small-up:before{content:""}.codicon-arrow-up:before{content:""}.codicon-bell:before{content:""}.codicon-bold:before{content:""}.codicon-book:before{content:""}.codicon-bookmark:before{content:""}.codicon-debug-breakpoint-conditional-unverified:before{content:""}.codicon-debug-breakpoint-conditional:before{content:""}.codicon-debug-breakpoint-conditional-disabled:before{content:""}.codicon-debug-breakpoint-data-unverified:before{content:""}.codicon-debug-breakpoint-data:before{content:""}.codicon-debug-breakpoint-data-disabled:before{content:""}.codicon-debug-breakpoint-log-unverified:before{content:""}.codicon-debug-breakpoint-log:before{content:""}.codicon-debug-breakpoint-log-disabled:before{content:""}.codicon-briefcase:before{content:""}.codicon-broadcast:before{content:""}.codicon-browser:before{content:""}.codicon-bug:before{content:""}.codicon-calendar:before{content:""}.codicon-case-sensitive:before{content:""}.codicon-check:before{content:""}.codicon-checklist:before{content:""}.codicon-chevron-down:before{content:""}.codicon-chevron-left:before{content:""}.codicon-chevron-right:before{content:""}.codicon-chevron-up:before{content:""}.codicon-chrome-close:before{content:""}.codicon-chrome-maximize:before{content:""}.codicon-chrome-minimize:before{content:""}.codicon-chrome-restore:before{content:""}.codicon-circle-outline:before{content:""}.codicon-circle:before{content:""}.codicon-debug-breakpoint-unverified:before{content:""}.codicon-terminal-decoration-incomplete:before{content:""}.codicon-circle-slash:before{content:""}.codicon-circuit-board:before{content:""}.codicon-clear-all:before{content:""}.codicon-clippy:before{content:""}.codicon-close-all:before{content:""}.codicon-cloud-download:before{content:""}.codicon-cloud-upload:before{content:""}.codicon-code:before{content:""}.codicon-collapse-all:before{content:""}.codicon-color-mode:before{content:""}.codicon-comment-discussion:before{content:""}.codicon-credit-card:before{content:""}.codicon-dash:before{content:""}.codicon-dashboard:before{content:""}.codicon-database:before{content:""}.codicon-debug-continue:before{content:""}.codicon-debug-disconnect:before{content:""}.codicon-debug-pause:before{content:""}.codicon-debug-restart:before{content:""}.codicon-debug-start:before{content:""}.codicon-debug-step-into:before{content:""}.codicon-debug-step-out:before{content:""}.codicon-debug-step-over:before{content:""}.codicon-debug-stop:before{content:""}.codicon-debug:before{content:""}.codicon-device-camera-video:before{content:""}.codicon-device-camera:before{content:""}.codicon-device-mobile:before{content:""}.codicon-diff-added:before{content:""}.codicon-diff-ignored:before{content:""}.codicon-diff-modified:before{content:""}.codicon-diff-removed:before{content:""}.codicon-diff-renamed:before{content:""}.codicon-diff:before{content:""}.codicon-diff-sidebyside:before{content:""}.codicon-discard:before{content:""}.codicon-editor-layout:before{content:""}.codicon-empty-window:before{content:""}.codicon-exclude:before{content:""}.codicon-extensions:before{content:""}.codicon-eye-closed:before{content:""}.codicon-file-binary:before{content:""}.codicon-file-code:before{content:""}.codicon-file-media:before{content:""}.codicon-file-pdf:before{content:""}.codicon-file-submodule:before{content:""}.codicon-file-symlink-directory:before{content:""}.codicon-file-symlink-file:before{content:""}.codicon-file-zip:before{content:""}.codicon-files:before{content:""}.codicon-filter:before{content:""}.codicon-flame:before{content:""}.codicon-fold-down:before{content:""}.codicon-fold-up:before{content:""}.codicon-fold:before{content:""}.codicon-folder-active:before{content:""}.codicon-folder-opened:before{content:""}.codicon-gear:before{content:""}.codicon-gift:before{content:""}.codicon-gist-secret:before{content:""}.codicon-gist:before{content:""}.codicon-git-commit:before{content:""}.codicon-git-compare:before{content:""}.codicon-compare-changes:before{content:""}.codicon-git-merge:before{content:""}.codicon-github-action:before{content:""}.codicon-github-alt:before{content:""}.codicon-globe:before{content:""}.codicon-grabber:before{content:""}.codicon-graph:before{content:""}.codicon-gripper:before{content:""}.codicon-heart:before{content:""}.codicon-home:before{content:""}.codicon-horizontal-rule:before{content:""}.codicon-hubot:before{content:""}.codicon-inbox:before{content:""}.codicon-issue-reopened:before{content:""}.codicon-issues:before{content:""}.codicon-italic:before{content:""}.codicon-jersey:before{content:""}.codicon-json:before{content:""}.codicon-kebab-vertical:before{content:""}.codicon-key:before{content:""}.codicon-law:before{content:""}.codicon-lightbulb-autofix:before{content:""}.codicon-link-external:before{content:""}.codicon-link:before{content:""}.codicon-list-ordered:before{content:""}.codicon-list-unordered:before{content:""}.codicon-live-share:before{content:""}.codicon-loading:before{content:""}.codicon-location:before{content:""}.codicon-mail-read:before{content:""}.codicon-mail:before{content:""}.codicon-markdown:before{content:""}.codicon-megaphone:before{content:""}.codicon-mention:before{content:""}.codicon-milestone:before{content:""}.codicon-git-pull-request-milestone:before{content:""}.codicon-mortar-board:before{content:""}.codicon-move:before{content:""}.codicon-multiple-windows:before{content:""}.codicon-mute:before{content:""}.codicon-no-newline:before{content:""}.codicon-note:before{content:""}.codicon-octoface:before{content:""}.codicon-open-preview:before{content:""}.codicon-package:before{content:""}.codicon-paintcan:before{content:""}.codicon-pin:before{content:""}.codicon-play:before{content:""}.codicon-run:before{content:""}.codicon-plug:before{content:""}.codicon-preserve-case:before{content:""}.codicon-preview:before{content:""}.codicon-project:before{content:""}.codicon-pulse:before{content:""}.codicon-question:before{content:""}.codicon-quote:before{content:""}.codicon-radio-tower:before{content:""}.codicon-reactions:before{content:""}.codicon-references:before{content:""}.codicon-refresh:before{content:""}.codicon-regex:before{content:""}.codicon-remote-explorer:before{content:""}.codicon-remote:before{content:""}.codicon-remove:before{content:""}.codicon-replace-all:before{content:""}.codicon-replace:before{content:""}.codicon-repo-clone:before{content:""}.codicon-repo-force-push:before{content:""}.codicon-repo-pull:before{content:""}.codicon-repo-push:before{content:""}.codicon-report:before{content:""}.codicon-request-changes:before{content:""}.codicon-rocket:before{content:""}.codicon-root-folder-opened:before{content:""}.codicon-root-folder:before{content:""}.codicon-rss:before{content:""}.codicon-ruby:before{content:""}.codicon-save-all:before{content:""}.codicon-save-as:before{content:""}.codicon-save:before{content:""}.codicon-screen-full:before{content:""}.codicon-screen-normal:before{content:""}.codicon-search-stop:before{content:""}.codicon-server:before{content:""}.codicon-settings-gear:before{content:""}.codicon-settings:before{content:""}.codicon-shield:before{content:""}.codicon-smiley:before{content:""}.codicon-sort-precedence:before{content:""}.codicon-split-horizontal:before{content:""}.codicon-split-vertical:before{content:""}.codicon-squirrel:before{content:""}.codicon-star-full:before{content:""}.codicon-star-half:before{content:""}.codicon-symbol-class:before{content:""}.codicon-symbol-color:before{content:""}.codicon-symbol-constant:before{content:""}.codicon-symbol-enum-member:before{content:""}.codicon-symbol-field:before{content:""}.codicon-symbol-file:before{content:""}.codicon-symbol-interface:before{content:""}.codicon-symbol-keyword:before{content:""}.codicon-symbol-misc:before{content:""}.codicon-symbol-operator:before{content:""}.codicon-symbol-property:before{content:""}.codicon-wrench:before{content:""}.codicon-wrench-subaction:before{content:""}.codicon-symbol-snippet:before{content:""}.codicon-tasklist:before{content:""}.codicon-telescope:before{content:""}.codicon-text-size:before{content:""}.codicon-three-bars:before{content:""}.codicon-thumbsdown:before{content:""}.codicon-thumbsup:before{content:""}.codicon-tools:before{content:""}.codicon-triangle-down:before{content:""}.codicon-triangle-left:before{content:""}.codicon-triangle-right:before{content:""}.codicon-triangle-up:before{content:""}.codicon-twitter:before{content:""}.codicon-unfold:before{content:""}.codicon-unlock:before{content:""}.codicon-unmute:before{content:""}.codicon-unverified:before{content:""}.codicon-verified:before{content:""}.codicon-versions:before{content:""}.codicon-vm-active:before{content:""}.codicon-vm-outline:before{content:""}.codicon-vm-running:before{content:""}.codicon-watch:before{content:""}.codicon-whitespace:before{content:""}.codicon-whole-word:before{content:""}.codicon-window:before{content:""}.codicon-word-wrap:before{content:""}.codicon-zoom-in:before{content:""}.codicon-zoom-out:before{content:""}.codicon-list-filter:before{content:""}.codicon-list-flat:before{content:""}.codicon-list-selection:before{content:""}.codicon-selection:before{content:""}.codicon-list-tree:before{content:""}.codicon-debug-breakpoint-function-unverified:before{content:""}.codicon-debug-breakpoint-function:before{content:""}.codicon-debug-breakpoint-function-disabled:before{content:""}.codicon-debug-stackframe-active:before{content:""}.codicon-circle-small-filled:before{content:""}.codicon-debug-stackframe-dot:before{content:""}.codicon-terminal-decoration-mark:before{content:""}.codicon-debug-stackframe:before{content:""}.codicon-debug-stackframe-focused:before{content:""}.codicon-debug-breakpoint-unsupported:before{content:""}.codicon-symbol-string:before{content:""}.codicon-debug-reverse-continue:before{content:""}.codicon-debug-step-back:before{content:""}.codicon-debug-restart-frame:before{content:""}.codicon-debug-alt:before{content:""}.codicon-call-incoming:before{content:""}.codicon-call-outgoing:before{content:""}.codicon-menu:before{content:""}.codicon-expand-all:before{content:""}.codicon-feedback:before{content:""}.codicon-git-pull-request-reviewer:before{content:""}.codicon-group-by-ref-type:before{content:""}.codicon-ungroup-by-ref-type:before{content:""}.codicon-account:before{content:""}.codicon-git-pull-request-assignee:before{content:""}.codicon-bell-dot:before{content:""}.codicon-debug-console:before{content:""}.codicon-library:before{content:""}.codicon-output:before{content:""}.codicon-run-all:before{content:""}.codicon-sync-ignored:before{content:""}.codicon-pinned:before{content:""}.codicon-github-inverted:before{content:""}.codicon-server-process:before{content:""}.codicon-server-environment:before{content:""}.codicon-pass:before{content:""}.codicon-issue-closed:before{content:""}.codicon-stop-circle:before{content:""}.codicon-play-circle:before{content:""}.codicon-record:before{content:""}.codicon-debug-alt-small:before{content:""}.codicon-vm-connect:before{content:""}.codicon-cloud:before{content:""}.codicon-merge:before{content:""}.codicon-export:before{content:""}.codicon-graph-left:before{content:""}.codicon-magnet:before{content:""}.codicon-notebook:before{content:""}.codicon-redo:before{content:""}.codicon-check-all:before{content:""}.codicon-pinned-dirty:before{content:""}.codicon-pass-filled:before{content:""}.codicon-circle-large-filled:before{content:""}.codicon-circle-large:before{content:""}.codicon-circle-large-outline:before{content:""}.codicon-combine:before{content:""}.codicon-gather:before{content:""}.codicon-table:before{content:""}.codicon-variable-group:before{content:""}.codicon-type-hierarchy:before{content:""}.codicon-type-hierarchy-sub:before{content:""}.codicon-type-hierarchy-super:before{content:""}.codicon-git-pull-request-create:before{content:""}.codicon-run-above:before{content:""}.codicon-run-below:before{content:""}.codicon-notebook-template:before{content:""}.codicon-debug-rerun:before{content:""}.codicon-workspace-trusted:before{content:""}.codicon-workspace-untrusted:before{content:""}.codicon-workspace-unknown:before{content:""}.codicon-terminal-cmd:before{content:""}.codicon-terminal-debian:before{content:""}.codicon-terminal-linux:before{content:""}.codicon-terminal-powershell:before{content:""}.codicon-terminal-tmux:before{content:""}.codicon-terminal-ubuntu:before{content:""}.codicon-terminal-bash:before{content:""}.codicon-arrow-swap:before{content:""}.codicon-copy:before{content:""}.codicon-person-add:before{content:""}.codicon-filter-filled:before{content:""}.codicon-wand:before{content:""}.codicon-debug-line-by-line:before{content:""}.codicon-inspect:before{content:""}.codicon-layers:before{content:""}.codicon-layers-dot:before{content:""}.codicon-layers-active:before{content:""}.codicon-compass:before{content:""}.codicon-compass-dot:before{content:""}.codicon-compass-active:before{content:""}.codicon-azure:before{content:""}.codicon-issue-draft:before{content:""}.codicon-git-pull-request-closed:before{content:""}.codicon-git-pull-request-draft:before{content:""}.codicon-debug-all:before{content:""}.codicon-debug-coverage:before{content:""}.codicon-run-errors:before{content:""}.codicon-folder-library:before{content:""}.codicon-debug-continue-small:before{content:""}.codicon-beaker-stop:before{content:""}.codicon-graph-line:before{content:""}.codicon-graph-scatter:before{content:""}.codicon-pie-chart:before{content:""}.codicon-bracket:before{content:""}.codicon-bracket-dot:before{content:""}.codicon-bracket-error:before{content:""}.codicon-lock-small:before{content:""}.codicon-azure-devops:before{content:""}.codicon-verified-filled:before{content:""}.codicon-newline:before{content:""}.codicon-layout:before{content:""}.codicon-layout-activitybar-left:before{content:""}.codicon-layout-activitybar-right:before{content:""}.codicon-layout-panel-left:before{content:""}.codicon-layout-panel-center:before{content:""}.codicon-layout-panel-justify:before{content:""}.codicon-layout-panel-right:before{content:""}.codicon-layout-panel:before{content:""}.codicon-layout-sidebar-left:before{content:""}.codicon-layout-sidebar-right:before{content:""}.codicon-layout-statusbar:before{content:""}.codicon-layout-menubar:before{content:""}.codicon-layout-centered:before{content:""}.codicon-target:before{content:""}.codicon-indent:before{content:""}.codicon-record-small:before{content:""}.codicon-error-small:before{content:""}.codicon-terminal-decoration-error:before{content:""}.codicon-arrow-circle-down:before{content:""}.codicon-arrow-circle-left:before{content:""}.codicon-arrow-circle-right:before{content:""}.codicon-arrow-circle-up:before{content:""}.codicon-layout-sidebar-right-off:before{content:""}.codicon-layout-panel-off:before{content:""}.codicon-layout-sidebar-left-off:before{content:""}.codicon-blank:before{content:""}.codicon-heart-filled:before{content:""}.codicon-map:before{content:""}.codicon-map-horizontal:before{content:""}.codicon-fold-horizontal:before{content:""}.codicon-map-filled:before{content:""}.codicon-map-horizontal-filled:before{content:""}.codicon-fold-horizontal-filled:before{content:""}.codicon-circle-small:before{content:""}.codicon-bell-slash:before{content:""}.codicon-bell-slash-dot:before{content:""}.codicon-comment-unresolved:before{content:""}.codicon-git-pull-request-go-to-changes:before{content:""}.codicon-git-pull-request-new-changes:before{content:""}.codicon-search-fuzzy:before{content:""}.codicon-comment-draft:before{content:""}.codicon-send:before{content:""}.codicon-sparkle:before{content:""}.codicon-insert:before{content:""}.codicon-mic:before{content:""}.codicon-thumbsdown-filled:before{content:""}.codicon-thumbsup-filled:before{content:""}.codicon-coffee:before{content:""}.codicon-snake:before{content:""}.codicon-game:before{content:""}.codicon-vr:before{content:""}.codicon-chip:before{content:""}.codicon-piano:before{content:""}.codicon-music:before{content:""}.codicon-mic-filled:before{content:""}.codicon-repo-fetch:before{content:""}.codicon-copilot:before{content:""}.codicon-lightbulb-sparkle:before{content:""}.codicon-robot:before{content:""}.codicon-sparkle-filled:before{content:""}.codicon-diff-single:before{content:""}.codicon-diff-multiple:before{content:""}.codicon-surround-with:before{content:""}.codicon-share:before{content:""}.codicon-git-stash:before{content:""}.codicon-git-stash-apply:before{content:""}.codicon-git-stash-pop:before{content:""}.codicon-vscode:before{content:""}.codicon-vscode-insiders:before{content:""}.codicon-code-oss:before{content:""}.codicon-run-coverage:before{content:""}.codicon-run-all-coverage:before{content:""}.codicon-coverage:before{content:""}.codicon-github-project:before{content:""}.codicon-map-vertical:before{content:""}.codicon-fold-vertical:before{content:""}.codicon-map-vertical-filled:before{content:""}.codicon-fold-vertical-filled:before{content:""}.codicon-go-to-search:before{content:""}.codicon-percentage:before{content:""}.codicon-sort-percentage:before{content:""}.codicon-attach:before{content:""}.codicon-git-fetch:before{content:""}body{--vscode-font-family: system-ui, "Ubuntu", "Droid Sans", sans-serif;--vscode-font-weight: normal;--vscode-font-size: 13px;--vscode-editor-font-family: "Droid Sans Mono", "monospace", monospace;--vscode-editor-font-weight: normal;--vscode-editor-font-size: 14px;--vscode-foreground: #616161;--vscode-disabledForeground: rgba(97, 97, 97, .5);--vscode-errorForeground: #a1260d;--vscode-descriptionForeground: #717171;--vscode-icon-foreground: #424242;--vscode-focusBorder: #0090f1;--vscode-textSeparator-foreground: rgba(0, 0, 0, .18);--vscode-textLink-foreground: #006ab1;--vscode-textLink-activeForeground: #006ab1;--vscode-textPreformat-foreground: #a31515;--vscode-textBlockQuote-background: rgba(127, 127, 127, .1);--vscode-textBlockQuote-border: rgba(0, 122, 204, .5);--vscode-textCodeBlock-background: rgba(220, 220, 220, .4);--vscode-widget-shadow: rgba(0, 0, 0, .16);--vscode-input-background: #ffffff;--vscode-input-foreground: #616161;--vscode-inputOption-activeBorder: #007acc;--vscode-inputOption-hoverBackground: rgba(184, 184, 184, .31);--vscode-inputOption-activeBackground: rgba(0, 144, 241, .2);--vscode-inputOption-activeForeground: #000000;--vscode-input-placeholderForeground: #767676;--vscode-inputValidation-infoBackground: #d6ecf2;--vscode-inputValidation-infoBorder: #007acc;--vscode-inputValidation-warningBackground: #f6f5d2;--vscode-inputValidation-warningBorder: #b89500;--vscode-inputValidation-errorBackground: #f2dede;--vscode-inputValidation-errorBorder: #be1100;--vscode-dropdown-background: #ffffff;--vscode-dropdown-border: #cecece;--vscode-checkbox-background: #ffffff;--vscode-checkbox-border: #cecece;--vscode-button-foreground: #ffffff;--vscode-button-separator: rgba(255, 255, 255, .4);--vscode-button-background: #007acc;--vscode-button-hoverBackground: #0062a3;--vscode-button-secondaryForeground: #ffffff;--vscode-button-secondaryBackground: #5f6a79;--vscode-button-secondaryHoverBackground: #4c5561;--vscode-badge-background: #c4c4c4;--vscode-badge-foreground: #333333;--vscode-scrollbar-shadow: #dddddd;--vscode-scrollbarSlider-background: rgba(100, 100, 100, .4);--vscode-scrollbarSlider-hoverBackground: rgba(100, 100, 100, .7);--vscode-scrollbarSlider-activeBackground: rgba(0, 0, 0, .6);--vscode-progressBar-background: #0e70c0;--vscode-editorError-foreground: #e51400;--vscode-editorWarning-foreground: #bf8803;--vscode-editorInfo-foreground: #1a85ff;--vscode-editorHint-foreground: #6c6c6c;--vscode-sash-hoverBorder: #0090f1;--vscode-editor-background: #ffffff;--vscode-editor-foreground: #000000;--vscode-editorStickyScroll-background: #ffffff;--vscode-editorStickyScrollHover-background: #f0f0f0;--vscode-editorWidget-background: #f3f3f3;--vscode-editorWidget-foreground: #616161;--vscode-editorWidget-border: #c8c8c8;--vscode-quickInput-background: #f3f3f3;--vscode-quickInput-foreground: #616161;--vscode-quickInputTitle-background: rgba(0, 0, 0, .06);--vscode-pickerGroup-foreground: #0066bf;--vscode-pickerGroup-border: #cccedb;--vscode-keybindingLabel-background: rgba(221, 221, 221, .4);--vscode-keybindingLabel-foreground: #555555;--vscode-keybindingLabel-border: rgba(204, 204, 204, .4);--vscode-keybindingLabel-bottomBorder: rgba(187, 187, 187, .4);--vscode-editor-selectionBackground: #add6ff;--vscode-editor-inactiveSelectionBackground: #e5ebf1;--vscode-editor-selectionHighlightBackground: rgba(173, 214, 255, .5);--vscode-editor-findMatchBackground: #a8ac94;--vscode-editor-findMatchHighlightBackground: rgba(234, 92, 0, .33);--vscode-editor-findRangeHighlightBackground: rgba(180, 180, 180, .3);--vscode-searchEditor-findMatchBackground: rgba(234, 92, 0, .22);--vscode-editor-hoverHighlightBackground: rgba(173, 214, 255, .15);--vscode-editorHoverWidget-background: #f3f3f3;--vscode-editorHoverWidget-foreground: #616161;--vscode-editorHoverWidget-border: #c8c8c8;--vscode-editorHoverWidget-statusBarBackground: #e7e7e7;--vscode-editorLink-activeForeground: #0000ff;--vscode-editorInlayHint-foreground: rgba(51, 51, 51, .8);--vscode-editorInlayHint-background: rgba(196, 196, 196, .3);--vscode-editorInlayHint-typeForeground: rgba(51, 51, 51, .8);--vscode-editorInlayHint-typeBackground: rgba(196, 196, 196, .3);--vscode-editorInlayHint-parameterForeground: rgba(51, 51, 51, .8);--vscode-editorInlayHint-parameterBackground: rgba(196, 196, 196, .3);--vscode-editorLightBulb-foreground: #ddb100;--vscode-editorLightBulbAutoFix-foreground: #007acc;--vscode-diffEditor-insertedTextBackground: rgba(156, 204, 44, .4);--vscode-diffEditor-removedTextBackground: rgba(255, 0, 0, .3);--vscode-diffEditor-insertedLineBackground: rgba(155, 185, 85, .2);--vscode-diffEditor-removedLineBackground: rgba(255, 0, 0, .2);--vscode-diffEditor-diagonalFill: rgba(34, 34, 34, .2);--vscode-list-focusOutline: #0090f1;--vscode-list-focusAndSelectionOutline: #90c2f9;--vscode-list-activeSelectionBackground: #0060c0;--vscode-list-activeSelectionForeground: #ffffff;--vscode-list-activeSelectionIconForeground: #ffffff;--vscode-list-inactiveSelectionBackground: #e4e6f1;--vscode-list-hoverBackground: #e8e8e8;--vscode-list-dropBackground: #d6ebff;--vscode-list-highlightForeground: #0066bf;--vscode-list-focusHighlightForeground: #bbe7ff;--vscode-list-invalidItemForeground: #b89500;--vscode-list-errorForeground: #b01011;--vscode-list-warningForeground: #855f00;--vscode-listFilterWidget-background: #f3f3f3;--vscode-listFilterWidget-outline: rgba(0, 0, 0, 0);--vscode-listFilterWidget-noMatchesOutline: #be1100;--vscode-listFilterWidget-shadow: rgba(0, 0, 0, .16);--vscode-list-filterMatchBackground: rgba(234, 92, 0, .33);--vscode-tree-indentGuidesStroke: #a9a9a9;--vscode-tree-tableColumnsBorder: rgba(97, 97, 97, .13);--vscode-tree-tableOddRowsBackground: rgba(97, 97, 97, .04);--vscode-list-deemphasizedForeground: #8e8e90;--vscode-quickInputList-focusForeground: #ffffff;--vscode-quickInputList-focusIconForeground: #ffffff;--vscode-quickInputList-focusBackground: #0060c0;--vscode-menu-foreground: #616161;--vscode-menu-background: #ffffff;--vscode-menu-selectionForeground: #ffffff;--vscode-menu-selectionBackground: #0060c0;--vscode-menu-separatorBackground: #d4d4d4;--vscode-toolbar-hoverBackground: rgba(184, 184, 184, .31);--vscode-toolbar-activeBackground: rgba(166, 166, 166, .31);--vscode-editor-snippetTabstopHighlightBackground: rgba(10, 50, 100, .2);--vscode-editor-snippetFinalTabstopHighlightBorder: rgba(10, 50, 100, .5);--vscode-breadcrumb-foreground: rgba(97, 97, 97, .8);--vscode-breadcrumb-background: #ffffff;--vscode-breadcrumb-focusForeground: #4e4e4e;--vscode-breadcrumb-activeSelectionForeground: #4e4e4e;--vscode-breadcrumbPicker-background: #f3f3f3;--vscode-merge-currentHeaderBackground: rgba(64, 200, 174, .5);--vscode-merge-currentContentBackground: rgba(64, 200, 174, .2);--vscode-merge-incomingHeaderBackground: rgba(64, 166, 255, .5);--vscode-merge-incomingContentBackground: rgba(64, 166, 255, .2);--vscode-merge-commonHeaderBackground: rgba(96, 96, 96, .4);--vscode-merge-commonContentBackground: rgba(96, 96, 96, .16);--vscode-editorOverviewRuler-currentContentForeground: rgba(64, 200, 174, .5);--vscode-editorOverviewRuler-incomingContentForeground: rgba(64, 166, 255, .5);--vscode-editorOverviewRuler-commonContentForeground: rgba(96, 96, 96, .4);--vscode-editorOverviewRuler-findMatchForeground: rgba(209, 134, 22, .49);--vscode-editorOverviewRuler-selectionHighlightForeground: rgba(160, 160, 160, .8);--vscode-minimap-findMatchHighlight: #d18616;--vscode-minimap-selectionOccurrenceHighlight: #c9c9c9;--vscode-minimap-selectionHighlight: #add6ff;--vscode-minimap-errorHighlight: rgba(255, 18, 18, .7);--vscode-minimap-warningHighlight: #bf8803;--vscode-minimap-foregroundOpacity: #000000;--vscode-minimapSlider-background: rgba(100, 100, 100, .2);--vscode-minimapSlider-hoverBackground: rgba(100, 100, 100, .35);--vscode-minimapSlider-activeBackground: rgba(0, 0, 0, .3);--vscode-problemsErrorIcon-foreground: #e51400;--vscode-problemsWarningIcon-foreground: #bf8803;--vscode-problemsInfoIcon-foreground: #1a85ff;--vscode-charts-foreground: #616161;--vscode-charts-lines: rgba(97, 97, 97, .5);--vscode-charts-red: #e51400;--vscode-charts-blue: #1a85ff;--vscode-charts-yellow: #bf8803;--vscode-charts-orange: #d18616;--vscode-charts-green: #388a34;--vscode-charts-purple: #652d90;--vscode-editor-lineHighlightBorder: #eeeeee;--vscode-editor-rangeHighlightBackground: rgba(253, 255, 0, .2);--vscode-editor-symbolHighlightBackground: rgba(234, 92, 0, .33);--vscode-editorCursor-foreground: #000000;--vscode-editorWhitespace-foreground: rgba(51, 51, 51, .2);--vscode-editorIndentGuide-background: #d3d3d3;--vscode-editorIndentGuide-activeBackground: #939393;--vscode-editorLineNumber-foreground: #237893;--vscode-editorActiveLineNumber-foreground: #0b216f;--vscode-editorLineNumber-activeForeground: #0b216f;--vscode-editorRuler-foreground: #d3d3d3;--vscode-editorCodeLens-foreground: #919191;--vscode-editorBracketMatch-background: rgba(0, 100, 0, .1);--vscode-editorBracketMatch-border: #b9b9b9;--vscode-editorOverviewRuler-border: rgba(127, 127, 127, .3);--vscode-editorGutter-background: #ffffff;--vscode-editorUnnecessaryCode-opacity: rgba(0, 0, 0, .47);--vscode-editorGhostText-foreground: rgba(0, 0, 0, .47);--vscode-editorOverviewRuler-rangeHighlightForeground: rgba(0, 122, 204, .6);--vscode-editorOverviewRuler-errorForeground: rgba(255, 18, 18, .7);--vscode-editorOverviewRuler-warningForeground: #bf8803;--vscode-editorOverviewRuler-infoForeground: #1a85ff;--vscode-editorBracketHighlight-foreground1: #0431fa;--vscode-editorBracketHighlight-foreground2: #319331;--vscode-editorBracketHighlight-foreground3: #7b3814;--vscode-editorBracketHighlight-foreground4: rgba(0, 0, 0, 0);--vscode-editorBracketHighlight-foreground5: rgba(0, 0, 0, 0);--vscode-editorBracketHighlight-foreground6: rgba(0, 0, 0, 0);--vscode-editorBracketHighlight-unexpectedBracket\\.foreground: rgba(255, 18, 18, .8);--vscode-editorBracketPairGuide-background1: rgba(0, 0, 0, 0);--vscode-editorBracketPairGuide-background2: rgba(0, 0, 0, 0);--vscode-editorBracketPairGuide-background3: rgba(0, 0, 0, 0);--vscode-editorBracketPairGuide-background4: rgba(0, 0, 0, 0);--vscode-editorBracketPairGuide-background5: rgba(0, 0, 0, 0);--vscode-editorBracketPairGuide-background6: rgba(0, 0, 0, 0);--vscode-editorBracketPairGuide-activeBackground1: rgba(0, 0, 0, 0);--vscode-editorBracketPairGuide-activeBackground2: rgba(0, 0, 0, 0);--vscode-editorBracketPairGuide-activeBackground3: rgba(0, 0, 0, 0);--vscode-editorBracketPairGuide-activeBackground4: rgba(0, 0, 0, 0);--vscode-editorBracketPairGuide-activeBackground5: rgba(0, 0, 0, 0);--vscode-editorBracketPairGuide-activeBackground6: rgba(0, 0, 0, 0);--vscode-editorUnicodeHighlight-border: #cea33d;--vscode-editorUnicodeHighlight-background: rgba(206, 163, 61, .08);--vscode-symbolIcon-arrayForeground: #616161;--vscode-symbolIcon-booleanForeground: #616161;--vscode-symbolIcon-classForeground: #d67e00;--vscode-symbolIcon-colorForeground: #616161;--vscode-symbolIcon-constantForeground: #616161;--vscode-symbolIcon-constructorForeground: #652d90;--vscode-symbolIcon-enumeratorForeground: #d67e00;--vscode-symbolIcon-enumeratorMemberForeground: #007acc;--vscode-symbolIcon-eventForeground: #d67e00;--vscode-symbolIcon-fieldForeground: #007acc;--vscode-symbolIcon-fileForeground: #616161;--vscode-symbolIcon-folderForeground: #616161;--vscode-symbolIcon-functionForeground: #652d90;--vscode-symbolIcon-interfaceForeground: #007acc;--vscode-symbolIcon-keyForeground: #616161;--vscode-symbolIcon-keywordForeground: #616161;--vscode-symbolIcon-methodForeground: #652d90;--vscode-symbolIcon-moduleForeground: #616161;--vscode-symbolIcon-namespaceForeground: #616161;--vscode-symbolIcon-nullForeground: #616161;--vscode-symbolIcon-numberForeground: #616161;--vscode-symbolIcon-objectForeground: #616161;--vscode-symbolIcon-operatorForeground: #616161;--vscode-symbolIcon-packageForeground: #616161;--vscode-symbolIcon-propertyForeground: #616161;--vscode-symbolIcon-referenceForeground: #616161;--vscode-symbolIcon-snippetForeground: #616161;--vscode-symbolIcon-stringForeground: #616161;--vscode-symbolIcon-structForeground: #616161;--vscode-symbolIcon-textForeground: #616161;--vscode-symbolIcon-typeParameterForeground: #616161;--vscode-symbolIcon-unitForeground: #616161;--vscode-symbolIcon-variableForeground: #007acc;--vscode-editorHoverWidget-highlightForeground: #0066bf;--vscode-editorOverviewRuler-bracketMatchForeground: #a0a0a0;--vscode-editor-foldBackground: rgba(173, 214, 255, .3);--vscode-editorGutter-foldingControlForeground: #424242;--vscode-editor-linkedEditingBackground: rgba(255, 0, 0, .3);--vscode-editor-wordHighlightBackground: rgba(87, 87, 87, .25);--vscode-editor-wordHighlightStrongBackground: rgba(14, 99, 156, .25);--vscode-editorOverviewRuler-wordHighlightForeground: rgba(160, 160, 160, .8);--vscode-editorOverviewRuler-wordHighlightStrongForeground: rgba(192, 160, 192, .8);--vscode-peekViewTitle-background: rgba(26, 133, 255, .1);--vscode-peekViewTitleLabel-foreground: #000000;--vscode-peekViewTitleDescription-foreground: #616161;--vscode-peekView-border: #1a85ff;--vscode-peekViewResult-background: #f3f3f3;--vscode-peekViewResult-lineForeground: #646465;--vscode-peekViewResult-fileForeground: #1e1e1e;--vscode-peekViewResult-selectionBackground: rgba(51, 153, 255, .2);--vscode-peekViewResult-selectionForeground: #6c6c6c;--vscode-peekViewEditor-background: #f2f8fc;--vscode-peekViewEditorGutter-background: #f2f8fc;--vscode-peekViewResult-matchHighlightBackground: rgba(234, 92, 0, .3);--vscode-peekViewEditor-matchHighlightBackground: rgba(245, 216, 2, .87);--vscode-editorMarkerNavigationError-background: #e51400;--vscode-editorMarkerNavigationError-headerBackground: rgba(229, 20, 0, .1);--vscode-editorMarkerNavigationWarning-background: #bf8803;--vscode-editorMarkerNavigationWarning-headerBackground: rgba(191, 136, 3, .1);--vscode-editorMarkerNavigationInfo-background: #1a85ff;--vscode-editorMarkerNavigationInfo-headerBackground: rgba(26, 133, 255, .1);--vscode-editorMarkerNavigation-background: #ffffff;--vscode-editorSuggestWidget-background: #f3f3f3;--vscode-editorSuggestWidget-border: #c8c8c8;--vscode-editorSuggestWidget-foreground: #000000;--vscode-editorSuggestWidget-selectedForeground: #ffffff;--vscode-editorSuggestWidget-selectedIconForeground: #ffffff;--vscode-editorSuggestWidget-selectedBackground: #0060c0;--vscode-editorSuggestWidget-highlightForeground: #0066bf;--vscode-editorSuggestWidget-focusHighlightForeground: #bbe7ff;--vscode-editorSuggestWidgetStatus-foreground: rgba(0, 0, 0, .5);--vscode-tab-activeBackground: #ffffff;--vscode-tab-unfocusedActiveBackground: #ffffff;--vscode-tab-inactiveBackground: #ececec;--vscode-tab-unfocusedInactiveBackground: #ececec;--vscode-tab-activeForeground: #333333;--vscode-tab-inactiveForeground: rgba(51, 51, 51, .7);--vscode-tab-unfocusedActiveForeground: rgba(51, 51, 51, .7);--vscode-tab-unfocusedInactiveForeground: rgba(51, 51, 51, .35);--vscode-tab-border: #f3f3f3;--vscode-tab-lastPinnedBorder: rgba(97, 97, 97, .19);--vscode-tab-activeModifiedBorder: #33aaee;--vscode-tab-inactiveModifiedBorder: rgba(51, 170, 238, .5);--vscode-tab-unfocusedActiveModifiedBorder: rgba(51, 170, 238, .7);--vscode-tab-unfocusedInactiveModifiedBorder: rgba(51, 170, 238, .25);--vscode-editorPane-background: #ffffff;--vscode-editorGroupHeader-tabsBackground: #f3f3f3;--vscode-editorGroupHeader-noTabsBackground: #ffffff;--vscode-editorGroup-border: #e7e7e7;--vscode-editorGroup-dropBackground: rgba(38, 119, 203, .18);--vscode-editorGroup-dropIntoPromptForeground: #616161;--vscode-editorGroup-dropIntoPromptBackground: #f3f3f3;--vscode-sideBySideEditor-horizontalBorder: #e7e7e7;--vscode-sideBySideEditor-verticalBorder: #e7e7e7;--vscode-panel-background: #ffffff;--vscode-panel-border: rgba(128, 128, 128, .35);--vscode-panelTitle-activeForeground: #424242;--vscode-panelTitle-inactiveForeground: rgba(66, 66, 66, .75);--vscode-panelTitle-activeBorder: #424242;--vscode-panelInput-border: #dddddd;--vscode-panel-dropBorder: #424242;--vscode-panelSection-dropBackground: rgba(38, 119, 203, .18);--vscode-panelSectionHeader-background: rgba(128, 128, 128, .2);--vscode-panelSection-border: rgba(128, 128, 128, .35);--vscode-banner-background: #004386;--vscode-banner-foreground: #ffffff;--vscode-banner-iconForeground: #1a85ff;--vscode-statusBar-foreground: #ffffff;--vscode-statusBar-noFolderForeground: #ffffff;--vscode-statusBar-background: #007acc;--vscode-statusBar-noFolderBackground: #68217a;--vscode-statusBar-focusBorder: #ffffff;--vscode-statusBarItem-activeBackground: rgba(255, 255, 255, .18);--vscode-statusBarItem-focusBorder: #ffffff;--vscode-statusBarItem-hoverBackground: rgba(255, 255, 255, .12);--vscode-statusBarItem-compactHoverBackground: rgba(255, 255, 255, .2);--vscode-statusBarItem-prominentForeground: #ffffff;--vscode-statusBarItem-prominentBackground: rgba(0, 0, 0, .5);--vscode-statusBarItem-prominentHoverBackground: rgba(0, 0, 0, .3);--vscode-statusBarItem-errorBackground: #c72e0f;--vscode-statusBarItem-errorForeground: #ffffff;--vscode-statusBarItem-warningBackground: #725102;--vscode-statusBarItem-warningForeground: #ffffff;--vscode-activityBar-background: #2c2c2c;--vscode-activityBar-foreground: #ffffff;--vscode-activityBar-inactiveForeground: rgba(255, 255, 255, .4);--vscode-activityBar-activeBorder: #ffffff;--vscode-activityBar-dropBorder: #ffffff;--vscode-activityBarBadge-background: #007acc;--vscode-activityBarBadge-foreground: #ffffff;--vscode-statusBarItem-remoteBackground: #16825d;--vscode-statusBarItem-remoteForeground: #ffffff;--vscode-extensionBadge-remoteBackground: #007acc;--vscode-extensionBadge-remoteForeground: #ffffff;--vscode-sideBar-background: #f3f3f3;--vscode-sideBarTitle-foreground: #6f6f6f;--vscode-sideBar-dropBackground: rgba(38, 119, 203, .18);--vscode-sideBarSectionHeader-background: rgba(0, 0, 0, 0);--vscode-sideBarSectionHeader-border: rgba(97, 97, 97, .19);--vscode-titleBar-activeForeground: #333333;--vscode-titleBar-inactiveForeground: rgba(51, 51, 51, .6);--vscode-titleBar-activeBackground: #dddddd;--vscode-titleBar-inactiveBackground: rgba(221, 221, 221, .6);--vscode-menubar-selectionForeground: #333333;--vscode-menubar-selectionBackground: rgba(184, 184, 184, .31);--vscode-notifications-foreground: #616161;--vscode-notifications-background: #f3f3f3;--vscode-notificationLink-foreground: #006ab1;--vscode-notificationCenterHeader-background: #e7e7e7;--vscode-notifications-border: #e7e7e7;--vscode-notificationsErrorIcon-foreground: #e51400;--vscode-notificationsWarningIcon-foreground: #bf8803;--vscode-notificationsInfoIcon-foreground: #1a85ff;--vscode-commandCenter-foreground: #333333;--vscode-commandCenter-activeForeground: #333333;--vscode-commandCenter-activeBackground: rgba(184, 184, 184, .31);--vscode-commandCenter-border: rgba(128, 128, 128, .35);--vscode-editorCommentsWidget-resolvedBorder: rgba(97, 97, 97, .5);--vscode-editorCommentsWidget-unresolvedBorder: #1a85ff;--vscode-editorCommentsWidget-rangeBackground: rgba(26, 133, 255, .1);--vscode-editorCommentsWidget-rangeBorder: rgba(26, 133, 255, .4);--vscode-editorCommentsWidget-rangeActiveBackground: rgba(26, 133, 255, .1);--vscode-editorCommentsWidget-rangeActiveBorder: rgba(26, 133, 255, .4);--vscode-editorGutter-commentRangeForeground: #d5d8e9;--vscode-debugToolBar-background: #f3f3f3;--vscode-debugIcon-startForeground: #388a34;--vscode-editor-stackFrameHighlightBackground: rgba(255, 255, 102, .45);--vscode-editor-focusedStackFrameHighlightBackground: rgba(206, 231, 206, .45);--vscode-mergeEditor-change\\.background: rgba(155, 185, 85, .2);--vscode-mergeEditor-change\\.word\\.background: rgba(156, 204, 44, .4);--vscode-mergeEditor-conflict\\.unhandledUnfocused\\.border: rgba(255, 166, 0, .48);--vscode-mergeEditor-conflict\\.unhandledFocused\\.border: #ffa600;--vscode-mergeEditor-conflict\\.handledUnfocused\\.border: rgba(134, 134, 134, .29);--vscode-mergeEditor-conflict\\.handledFocused\\.border: rgba(193, 193, 193, .8);--vscode-mergeEditor-conflict\\.handled\\.minimapOverViewRuler: rgba(173, 172, 168, .93);--vscode-mergeEditor-conflict\\.unhandled\\.minimapOverViewRuler: #fcba03;--vscode-mergeEditor-conflictingLines\\.background: rgba(255, 234, 0, .28);--vscode-settings-headerForeground: #444444;--vscode-settings-modifiedItemIndicator: #66afe0;--vscode-settings-headerBorder: rgba(128, 128, 128, .35);--vscode-settings-sashBorder: rgba(128, 128, 128, .35);--vscode-settings-dropdownBackground: #ffffff;--vscode-settings-dropdownBorder: #cecece;--vscode-settings-dropdownListBorder: #c8c8c8;--vscode-settings-checkboxBackground: #ffffff;--vscode-settings-checkboxBorder: #cecece;--vscode-settings-textInputBackground: #ffffff;--vscode-settings-textInputForeground: #616161;--vscode-settings-textInputBorder: #cecece;--vscode-settings-numberInputBackground: #ffffff;--vscode-settings-numberInputForeground: #616161;--vscode-settings-numberInputBorder: #cecece;--vscode-settings-focusedRowBackground: rgba(232, 232, 232, .6);--vscode-settings-rowHoverBackground: rgba(232, 232, 232, .3);--vscode-settings-focusedRowBorder: rgba(0, 0, 0, .12);--vscode-terminal-foreground: #333333;--vscode-terminal-selectionBackground: #add6ff;--vscode-terminal-inactiveSelectionBackground: #e5ebf1;--vscode-terminalCommandDecoration-defaultBackground: rgba(0, 0, 0, .25);--vscode-terminalCommandDecoration-successBackground: #2090d3;--vscode-terminalCommandDecoration-errorBackground: #e51400;--vscode-terminalOverviewRuler-cursorForeground: rgba(160, 160, 160, .8);--vscode-terminal-border: rgba(128, 128, 128, .35);--vscode-terminal-findMatchBackground: #a8ac94;--vscode-terminal-findMatchHighlightBackground: rgba(234, 92, 0, .33);--vscode-terminalOverviewRuler-findMatchForeground: rgba(209, 134, 22, .49);--vscode-terminal-dropBackground: rgba(38, 119, 203, .18);--vscode-testing-iconFailed: #f14c4c;--vscode-testing-iconErrored: #f14c4c;--vscode-testing-iconPassed: #73c991;--vscode-testing-runAction: #73c991;--vscode-testing-iconQueued: #cca700;--vscode-testing-iconUnset: #848484;--vscode-testing-iconSkipped: #848484;--vscode-testing-peekBorder: #e51400;--vscode-testing-peekHeaderBackground: rgba(229, 20, 0, .1);--vscode-testing-message\\.error\\.decorationForeground: #e51400;--vscode-testing-message\\.error\\.lineBackground: rgba(255, 0, 0, .2);--vscode-testing-message\\.info\\.decorationForeground: rgba(0, 0, 0, .5);--vscode-welcomePage-tileBackground: #f3f3f3;--vscode-welcomePage-tileHoverBackground: #dbdbdb;--vscode-welcomePage-tileShadow: rgba(0, 0, 0, .16);--vscode-welcomePage-progress\\.background: #ffffff;--vscode-welcomePage-progress\\.foreground: #006ab1;--vscode-debugExceptionWidget-border: #a31515;--vscode-debugExceptionWidget-background: #f1dfde;--vscode-ports-iconRunningProcessForeground: #369432;--vscode-statusBar-debuggingBackground: #cc6633;--vscode-statusBar-debuggingForeground: #ffffff;--vscode-editor-inlineValuesForeground: rgba(0, 0, 0, .5);--vscode-editor-inlineValuesBackground: rgba(255, 200, 0, .2);--vscode-editorGutter-modifiedBackground: #2090d3;--vscode-editorGutter-addedBackground: #48985d;--vscode-editorGutter-deletedBackground: #e51400;--vscode-minimapGutter-modifiedBackground: #2090d3;--vscode-minimapGutter-addedBackground: #48985d;--vscode-minimapGutter-deletedBackground: #e51400;--vscode-editorOverviewRuler-modifiedForeground: rgba(32, 144, 211, .6);--vscode-editorOverviewRuler-addedForeground: rgba(72, 152, 93, .6);--vscode-editorOverviewRuler-deletedForeground: rgba(229, 20, 0, .6);--vscode-debugIcon-breakpointForeground: #e51400;--vscode-debugIcon-breakpointDisabledForeground: #848484;--vscode-debugIcon-breakpointUnverifiedForeground: #848484;--vscode-debugIcon-breakpointCurrentStackframeForeground: #be8700;--vscode-debugIcon-breakpointStackframeForeground: #89d185;--vscode-notebook-cellBorderColor: #e8e8e8;--vscode-notebook-focusedEditorBorder: #0090f1;--vscode-notebookStatusSuccessIcon-foreground: #388a34;--vscode-notebookStatusErrorIcon-foreground: #a1260d;--vscode-notebookStatusRunningIcon-foreground: #616161;--vscode-notebook-cellToolbarSeparator: rgba(128, 128, 128, .35);--vscode-notebook-selectedCellBackground: rgba(200, 221, 241, .31);--vscode-notebook-selectedCellBorder: #e8e8e8;--vscode-notebook-focusedCellBorder: #0090f1;--vscode-notebook-inactiveFocusedCellBorder: #e8e8e8;--vscode-notebook-cellStatusBarItemHoverBackground: rgba(0, 0, 0, .08);--vscode-notebook-cellInsertionIndicator: #0090f1;--vscode-notebookScrollbarSlider-background: rgba(100, 100, 100, .4);--vscode-notebookScrollbarSlider-hoverBackground: rgba(100, 100, 100, .7);--vscode-notebookScrollbarSlider-activeBackground: rgba(0, 0, 0, .6);--vscode-notebook-symbolHighlightBackground: rgba(253, 255, 0, .2);--vscode-notebook-cellEditorBackground: #f3f3f3;--vscode-notebook-editorBackground: #ffffff;--vscode-keybindingTable-headerBackground: rgba(97, 97, 97, .04);--vscode-keybindingTable-rowsBackground: rgba(97, 97, 97, .04);--vscode-scm-providerBorder: #c8c8c8;--vscode-searchEditor-textInputBorder: #cecece;--vscode-debugTokenExpression-name: #9b46b0;--vscode-debugTokenExpression-value: rgba(108, 108, 108, .8);--vscode-debugTokenExpression-string: #a31515;--vscode-debugTokenExpression-boolean: #0000ff;--vscode-debugTokenExpression-number: #098658;--vscode-debugTokenExpression-error: #e51400;--vscode-debugView-exceptionLabelForeground: #ffffff;--vscode-debugView-exceptionLabelBackground: #a31515;--vscode-debugView-stateLabelForeground: #616161;--vscode-debugView-stateLabelBackground: rgba(136, 136, 136, .27);--vscode-debugView-valueChangedHighlight: #569cd6;--vscode-debugConsole-infoForeground: #1a85ff;--vscode-debugConsole-warningForeground: #bf8803;--vscode-debugConsole-errorForeground: #a1260d;--vscode-debugConsole-sourceForeground: #616161;--vscode-debugConsoleInputIcon-foreground: #616161;--vscode-debugIcon-pauseForeground: #007acc;--vscode-debugIcon-stopForeground: #a1260d;--vscode-debugIcon-disconnectForeground: #a1260d;--vscode-debugIcon-restartForeground: #388a34;--vscode-debugIcon-stepOverForeground: #007acc;--vscode-debugIcon-stepIntoForeground: #007acc;--vscode-debugIcon-stepOutForeground: #007acc;--vscode-debugIcon-continueForeground: #007acc;--vscode-debugIcon-stepBackForeground: #007acc;--vscode-extensionButton-prominentBackground: #007acc;--vscode-extensionButton-prominentForeground: #ffffff;--vscode-extensionButton-prominentHoverBackground: #0062a3;--vscode-extensionIcon-starForeground: #df6100;--vscode-extensionIcon-verifiedForeground: #006ab1;--vscode-extensionIcon-preReleaseForeground: #1d9271;--vscode-extensionIcon-sponsorForeground: #b51e78;--vscode-terminal-ansiBlack: #000000;--vscode-terminal-ansiRed: #cd3131;--vscode-terminal-ansiGreen: #00bc00;--vscode-terminal-ansiYellow: #949800;--vscode-terminal-ansiBlue: #0451a5;--vscode-terminal-ansiMagenta: #bc05bc;--vscode-terminal-ansiCyan: #0598bc;--vscode-terminal-ansiWhite: #555555;--vscode-terminal-ansiBrightBlack: #666666;--vscode-terminal-ansiBrightRed: #cd3131;--vscode-terminal-ansiBrightGreen: #14ce14;--vscode-terminal-ansiBrightYellow: #b5ba00;--vscode-terminal-ansiBrightBlue: #0451a5;--vscode-terminal-ansiBrightMagenta: #bc05bc;--vscode-terminal-ansiBrightCyan: #0598bc;--vscode-terminal-ansiBrightWhite: #a5a5a5;--vscode-interactive-activeCodeBorder: #1a85ff;--vscode-interactive-inactiveCodeBorder: #e4e6f1;--vscode-gitDecoration-addedResourceForeground: #587c0c;--vscode-gitDecoration-modifiedResourceForeground: #895503;--vscode-gitDecoration-deletedResourceForeground: #ad0707;--vscode-gitDecoration-renamedResourceForeground: #007100;--vscode-gitDecoration-untrackedResourceForeground: #007100;--vscode-gitDecoration-ignoredResourceForeground: #8e8e90;--vscode-gitDecoration-stageModifiedResourceForeground: #895503;--vscode-gitDecoration-stageDeletedResourceForeground: #ad0707;--vscode-gitDecoration-conflictingResourceForeground: #ad0707;--vscode-gitDecoration-submoduleResourceForeground: #1258a7}body.light-mode{color-scheme:light}body.dark-mode{color-scheme:dark;--vscode-font-family: system-ui, "Ubuntu", "Droid Sans", sans-serif;--vscode-font-weight: normal;--vscode-font-size: 13px;--vscode-editor-font-family: "Droid Sans Mono", "monospace", monospace;--vscode-editor-font-weight: normal;--vscode-editor-font-size: 14px;--vscode-foreground: #cccccc;--vscode-disabledForeground: rgba(204, 204, 204, .5);--vscode-errorForeground: #f48771;--vscode-descriptionForeground: rgba(204, 204, 204, .7);--vscode-icon-foreground: #c5c5c5;--vscode-focusBorder: #007fd4;--vscode-textSeparator-foreground: rgba(255, 255, 255, .18);--vscode-textLink-foreground: #3794ff;--vscode-textLink-activeForeground: #3794ff;--vscode-textPreformat-foreground: #d7ba7d;--vscode-textBlockQuote-background: rgba(127, 127, 127, .1);--vscode-textBlockQuote-border: rgba(0, 122, 204, .5);--vscode-textCodeBlock-background: rgba(10, 10, 10, .4);--vscode-widget-shadow: rgba(0, 0, 0, .36);--vscode-input-background: #3c3c3c;--vscode-input-foreground: #cccccc;--vscode-inputOption-activeBorder: #007acc;--vscode-inputOption-hoverBackground: rgba(90, 93, 94, .5);--vscode-inputOption-activeBackground: rgba(0, 127, 212, .4);--vscode-inputOption-activeForeground: #ffffff;--vscode-input-placeholderForeground: #a6a6a6;--vscode-inputValidation-infoBackground: #063b49;--vscode-inputValidation-infoBorder: #007acc;--vscode-inputValidation-warningBackground: #352a05;--vscode-inputValidation-warningBorder: #b89500;--vscode-inputValidation-errorBackground: #5a1d1d;--vscode-inputValidation-errorBorder: #be1100;--vscode-dropdown-background: #3c3c3c;--vscode-dropdown-foreground: #f0f0f0;--vscode-dropdown-border: #3c3c3c;--vscode-checkbox-background: #3c3c3c;--vscode-checkbox-foreground: #f0f0f0;--vscode-checkbox-border: #3c3c3c;--vscode-button-foreground: #ffffff;--vscode-button-separator: rgba(255, 255, 255, .4);--vscode-button-background: #0e639c;--vscode-button-hoverBackground: #1177bb;--vscode-button-secondaryForeground: #ffffff;--vscode-button-secondaryBackground: #3a3d41;--vscode-button-secondaryHoverBackground: #45494e;--vscode-badge-background: #4d4d4d;--vscode-badge-foreground: #ffffff;--vscode-scrollbar-shadow: #000000;--vscode-scrollbarSlider-background: rgba(121, 121, 121, .4);--vscode-scrollbarSlider-hoverBackground: rgba(100, 100, 100, .7);--vscode-scrollbarSlider-activeBackground: rgba(191, 191, 191, .4);--vscode-progressBar-background: #0e70c0;--vscode-editorError-foreground: #f14c4c;--vscode-editorWarning-foreground: #cca700;--vscode-editorInfo-foreground: #3794ff;--vscode-editorHint-foreground: rgba(238, 238, 238, .7);--vscode-sash-hoverBorder: #007fd4;--vscode-editor-background: #1e1e1e;--vscode-editor-foreground: #d4d4d4;--vscode-editorStickyScroll-background: #1e1e1e;--vscode-editorStickyScrollHover-background: #2a2d2e;--vscode-editorWidget-background: #252526;--vscode-editorWidget-foreground: #cccccc;--vscode-editorWidget-border: #454545;--vscode-quickInput-background: #252526;--vscode-quickInput-foreground: #cccccc;--vscode-quickInputTitle-background: rgba(255, 255, 255, .1);--vscode-pickerGroup-foreground: #3794ff;--vscode-pickerGroup-border: #3f3f46;--vscode-keybindingLabel-background: rgba(128, 128, 128, .17);--vscode-keybindingLabel-foreground: #cccccc;--vscode-keybindingLabel-border: rgba(51, 51, 51, .6);--vscode-keybindingLabel-bottomBorder: rgba(68, 68, 68, .6);--vscode-editor-selectionBackground: #264f78;--vscode-editor-inactiveSelectionBackground: #3a3d41;--vscode-editor-selectionHighlightBackground: rgba(173, 214, 255, .15);--vscode-editor-findMatchBackground: #515c6a;--vscode-editor-findMatchHighlightBackground: rgba(234, 92, 0, .33);--vscode-editor-findRangeHighlightBackground: rgba(58, 61, 65, .4);--vscode-searchEditor-findMatchBackground: rgba(234, 92, 0, .22);--vscode-editor-hoverHighlightBackground: rgba(38, 79, 120, .25);--vscode-editorHoverWidget-background: #252526;--vscode-editorHoverWidget-foreground: #cccccc;--vscode-editorHoverWidget-border: #454545;--vscode-editorHoverWidget-statusBarBackground: #2c2c2d;--vscode-editorLink-activeForeground: #4e94ce;--vscode-editorInlayHint-foreground: rgba(255, 255, 255, .8);--vscode-editorInlayHint-background: rgba(77, 77, 77, .6);--vscode-editorInlayHint-typeForeground: rgba(255, 255, 255, .8);--vscode-editorInlayHint-typeBackground: rgba(77, 77, 77, .6);--vscode-editorInlayHint-parameterForeground: rgba(255, 255, 255, .8);--vscode-editorInlayHint-parameterBackground: rgba(77, 77, 77, .6);--vscode-editorLightBulb-foreground: #ffcc00;--vscode-editorLightBulbAutoFix-foreground: #75beff;--vscode-diffEditor-insertedTextBackground: rgba(156, 204, 44, .2);--vscode-diffEditor-removedTextBackground: rgba(255, 0, 0, .4);--vscode-diffEditor-insertedLineBackground: rgba(155, 185, 85, .2);--vscode-diffEditor-removedLineBackground: rgba(255, 0, 0, .2);--vscode-diffEditor-diagonalFill: rgba(204, 204, 204, .2);--vscode-list-focusOutline: #007fd4;--vscode-list-activeSelectionBackground: #04395e;--vscode-list-activeSelectionForeground: #ffffff;--vscode-list-activeSelectionIconForeground: #ffffff;--vscode-list-inactiveSelectionBackground: #37373d;--vscode-list-hoverBackground: #2a2d2e;--vscode-list-dropBackground: #383b3d;--vscode-list-highlightForeground: #2aaaff;--vscode-list-focusHighlightForeground: #2aaaff;--vscode-list-invalidItemForeground: #b89500;--vscode-list-errorForeground: #f88070;--vscode-list-warningForeground: #cca700;--vscode-listFilterWidget-background: #252526;--vscode-listFilterWidget-outline: rgba(0, 0, 0, 0);--vscode-listFilterWidget-noMatchesOutline: #be1100;--vscode-listFilterWidget-shadow: rgba(0, 0, 0, .36);--vscode-list-filterMatchBackground: rgba(234, 92, 0, .33);--vscode-tree-indentGuidesStroke: #585858;--vscode-tree-tableColumnsBorder: rgba(204, 204, 204, .13);--vscode-tree-tableOddRowsBackground: rgba(204, 204, 204, .04);--vscode-list-deemphasizedForeground: #8c8c8c;--vscode-quickInputList-focusForeground: #ffffff;--vscode-quickInputList-focusIconForeground: #ffffff;--vscode-quickInputList-focusBackground: #04395e;--vscode-menu-foreground: #cccccc;--vscode-menu-background: #303031;--vscode-menu-selectionForeground: #ffffff;--vscode-menu-selectionBackground: #04395e;--vscode-menu-separatorBackground: #606060;--vscode-toolbar-hoverBackground: rgba(90, 93, 94, .31);--vscode-toolbar-activeBackground: rgba(99, 102, 103, .31);--vscode-editor-snippetTabstopHighlightBackground: rgba(124, 124, 124, .3);--vscode-editor-snippetFinalTabstopHighlightBorder: #525252;--vscode-breadcrumb-foreground: rgba(204, 204, 204, .8);--vscode-breadcrumb-background: #1e1e1e;--vscode-breadcrumb-focusForeground: #e0e0e0;--vscode-breadcrumb-activeSelectionForeground: #e0e0e0;--vscode-breadcrumbPicker-background: #252526;--vscode-merge-currentHeaderBackground: rgba(64, 200, 174, .5);--vscode-merge-currentContentBackground: rgba(64, 200, 174, .2);--vscode-merge-incomingHeaderBackground: rgba(64, 166, 255, .5);--vscode-merge-incomingContentBackground: rgba(64, 166, 255, .2);--vscode-merge-commonHeaderBackground: rgba(96, 96, 96, .4);--vscode-merge-commonContentBackground: rgba(96, 96, 96, .16);--vscode-editorOverviewRuler-currentContentForeground: rgba(64, 200, 174, .5);--vscode-editorOverviewRuler-incomingContentForeground: rgba(64, 166, 255, .5);--vscode-editorOverviewRuler-commonContentForeground: rgba(96, 96, 96, .4);--vscode-editorOverviewRuler-findMatchForeground: rgba(209, 134, 22, .49);--vscode-editorOverviewRuler-selectionHighlightForeground: rgba(160, 160, 160, .8);--vscode-minimap-findMatchHighlight: #d18616;--vscode-minimap-selectionOccurrenceHighlight: #676767;--vscode-minimap-selectionHighlight: #264f78;--vscode-minimap-errorHighlight: rgba(255, 18, 18, .7);--vscode-minimap-warningHighlight: #cca700;--vscode-minimap-foregroundOpacity: #000000;--vscode-minimapSlider-background: rgba(121, 121, 121, .2);--vscode-minimapSlider-hoverBackground: rgba(100, 100, 100, .35);--vscode-minimapSlider-activeBackground: rgba(191, 191, 191, .2);--vscode-problemsErrorIcon-foreground: #f14c4c;--vscode-problemsWarningIcon-foreground: #cca700;--vscode-problemsInfoIcon-foreground: #3794ff;--vscode-charts-foreground: #cccccc;--vscode-charts-lines: rgba(204, 204, 204, .5);--vscode-charts-red: #f14c4c;--vscode-charts-blue: #3794ff;--vscode-charts-yellow: #cca700;--vscode-charts-orange: #d18616;--vscode-charts-green: #89d185;--vscode-charts-purple: #b180d7;--vscode-editor-lineHighlightBorder: #282828;--vscode-editor-rangeHighlightBackground: rgba(255, 255, 255, .04);--vscode-editor-symbolHighlightBackground: rgba(234, 92, 0, .33);--vscode-editorCursor-foreground: #aeafad;--vscode-editorWhitespace-foreground: rgba(227, 228, 226, .16);--vscode-editorIndentGuide-background: #404040;--vscode-editorIndentGuide-activeBackground: #707070;--vscode-editorLineNumber-foreground: #858585;--vscode-editorActiveLineNumber-foreground: #c6c6c6;--vscode-editorLineNumber-activeForeground: #c6c6c6;--vscode-editorRuler-foreground: #5a5a5a;--vscode-editorCodeLens-foreground: #999999;--vscode-editorBracketMatch-background: rgba(0, 100, 0, .1);--vscode-editorBracketMatch-border: #888888;--vscode-editorOverviewRuler-border: rgba(127, 127, 127, .3);--vscode-editorGutter-background: #1e1e1e;--vscode-editorUnnecessaryCode-opacity: rgba(0, 0, 0, .67);--vscode-editorGhostText-foreground: rgba(255, 255, 255, .34);--vscode-editorOverviewRuler-rangeHighlightForeground: rgba(0, 122, 204, .6);--vscode-editorOverviewRuler-errorForeground: rgba(255, 18, 18, .7);--vscode-editorOverviewRuler-warningForeground: #cca700;--vscode-editorOverviewRuler-infoForeground: #3794ff;--vscode-editorBracketHighlight-foreground1: #ffd700;--vscode-editorBracketHighlight-foreground2: #da70d6;--vscode-editorBracketHighlight-foreground3: #179fff;--vscode-editorBracketHighlight-foreground4: rgba(0, 0, 0, 0);--vscode-editorBracketHighlight-foreground5: rgba(0, 0, 0, 0);--vscode-editorBracketHighlight-foreground6: rgba(0, 0, 0, 0);--vscode-editorBracketHighlight-unexpectedBracket\\.foreground: rgba(255, 18, 18, .8);--vscode-editorBracketPairGuide-background1: rgba(0, 0, 0, 0);--vscode-editorBracketPairGuide-background2: rgba(0, 0, 0, 0);--vscode-editorBracketPairGuide-background3: rgba(0, 0, 0, 0);--vscode-editorBracketPairGuide-background4: rgba(0, 0, 0, 0);--vscode-editorBracketPairGuide-background5: rgba(0, 0, 0, 0);--vscode-editorBracketPairGuide-background6: rgba(0, 0, 0, 0);--vscode-editorBracketPairGuide-activeBackground1: rgba(0, 0, 0, 0);--vscode-editorBracketPairGuide-activeBackground2: rgba(0, 0, 0, 0);--vscode-editorBracketPairGuide-activeBackground3: rgba(0, 0, 0, 0);--vscode-editorBracketPairGuide-activeBackground4: rgba(0, 0, 0, 0);--vscode-editorBracketPairGuide-activeBackground5: rgba(0, 0, 0, 0);--vscode-editorBracketPairGuide-activeBackground6: rgba(0, 0, 0, 0);--vscode-editorUnicodeHighlight-border: #bd9b03;--vscode-editorUnicodeHighlight-background: rgba(189, 155, 3, .15);--vscode-symbolIcon-arrayForeground: #cccccc;--vscode-symbolIcon-booleanForeground: #cccccc;--vscode-symbolIcon-classForeground: #ee9d28;--vscode-symbolIcon-colorForeground: #cccccc;--vscode-symbolIcon-constantForeground: #cccccc;--vscode-symbolIcon-constructorForeground: #b180d7;--vscode-symbolIcon-enumeratorForeground: #ee9d28;--vscode-symbolIcon-enumeratorMemberForeground: #75beff;--vscode-symbolIcon-eventForeground: #ee9d28;--vscode-symbolIcon-fieldForeground: #75beff;--vscode-symbolIcon-fileForeground: #cccccc;--vscode-symbolIcon-folderForeground: #cccccc;--vscode-symbolIcon-functionForeground: #b180d7;--vscode-symbolIcon-interfaceForeground: #75beff;--vscode-symbolIcon-keyForeground: #cccccc;--vscode-symbolIcon-keywordForeground: #cccccc;--vscode-symbolIcon-methodForeground: #b180d7;--vscode-symbolIcon-moduleForeground: #cccccc;--vscode-symbolIcon-namespaceForeground: #cccccc;--vscode-symbolIcon-nullForeground: #cccccc;--vscode-symbolIcon-numberForeground: #cccccc;--vscode-symbolIcon-objectForeground: #cccccc;--vscode-symbolIcon-operatorForeground: #cccccc;--vscode-symbolIcon-packageForeground: #cccccc;--vscode-symbolIcon-propertyForeground: #cccccc;--vscode-symbolIcon-referenceForeground: #cccccc;--vscode-symbolIcon-snippetForeground: #cccccc;--vscode-symbolIcon-stringForeground: #cccccc;--vscode-symbolIcon-structForeground: #cccccc;--vscode-symbolIcon-textForeground: #cccccc;--vscode-symbolIcon-typeParameterForeground: #cccccc;--vscode-symbolIcon-unitForeground: #cccccc;--vscode-symbolIcon-variableForeground: #75beff;--vscode-editorHoverWidget-highlightForeground: #2aaaff;--vscode-editorOverviewRuler-bracketMatchForeground: #a0a0a0;--vscode-editor-foldBackground: rgba(38, 79, 120, .3);--vscode-editorGutter-foldingControlForeground: #c5c5c5;--vscode-editor-linkedEditingBackground: rgba(255, 0, 0, .3);--vscode-editor-wordHighlightBackground: rgba(87, 87, 87, .72);--vscode-editor-wordHighlightStrongBackground: rgba(0, 73, 114, .72);--vscode-editorOverviewRuler-wordHighlightForeground: rgba(160, 160, 160, .8);--vscode-editorOverviewRuler-wordHighlightStrongForeground: rgba(192, 160, 192, .8);--vscode-peekViewTitle-background: rgba(55, 148, 255, .1);--vscode-peekViewTitleLabel-foreground: #ffffff;--vscode-peekViewTitleDescription-foreground: rgba(204, 204, 204, .7);--vscode-peekView-border: #3794ff;--vscode-peekViewResult-background: #252526;--vscode-peekViewResult-lineForeground: #bbbbbb;--vscode-peekViewResult-fileForeground: #ffffff;--vscode-peekViewResult-selectionBackground: rgba(51, 153, 255, .2);--vscode-peekViewResult-selectionForeground: #ffffff;--vscode-peekViewEditor-background: #001f33;--vscode-peekViewEditorGutter-background: #001f33;--vscode-peekViewResult-matchHighlightBackground: rgba(234, 92, 0, .3);--vscode-peekViewEditor-matchHighlightBackground: rgba(255, 143, 0, .6);--vscode-editorMarkerNavigationError-background: #f14c4c;--vscode-editorMarkerNavigationError-headerBackground: rgba(241, 76, 76, .1);--vscode-editorMarkerNavigationWarning-background: #cca700;--vscode-editorMarkerNavigationWarning-headerBackground: rgba(204, 167, 0, .1);--vscode-editorMarkerNavigationInfo-background: #3794ff;--vscode-editorMarkerNavigationInfo-headerBackground: rgba(55, 148, 255, .1);--vscode-editorMarkerNavigation-background: #1e1e1e;--vscode-editorSuggestWidget-background: #252526;--vscode-editorSuggestWidget-border: #454545;--vscode-editorSuggestWidget-foreground: #d4d4d4;--vscode-editorSuggestWidget-selectedForeground: #ffffff;--vscode-editorSuggestWidget-selectedIconForeground: #ffffff;--vscode-editorSuggestWidget-selectedBackground: #04395e;--vscode-editorSuggestWidget-highlightForeground: #2aaaff;--vscode-editorSuggestWidget-focusHighlightForeground: #2aaaff;--vscode-editorSuggestWidgetStatus-foreground: rgba(212, 212, 212, .5);--vscode-tab-activeBackground: #1e1e1e;--vscode-tab-unfocusedActiveBackground: #1e1e1e;--vscode-tab-inactiveBackground: #2d2d2d;--vscode-tab-unfocusedInactiveBackground: #2d2d2d;--vscode-tab-activeForeground: #ffffff;--vscode-tab-inactiveForeground: rgba(255, 255, 255, .5);--vscode-tab-unfocusedActiveForeground: rgba(255, 255, 255, .5);--vscode-tab-unfocusedInactiveForeground: rgba(255, 255, 255, .25);--vscode-tab-border: #252526;--vscode-tab-lastPinnedBorder: rgba(204, 204, 204, .2);--vscode-tab-activeModifiedBorder: #3399cc;--vscode-tab-inactiveModifiedBorder: rgba(51, 153, 204, .5);--vscode-tab-unfocusedActiveModifiedBorder: rgba(51, 153, 204, .5);--vscode-tab-unfocusedInactiveModifiedBorder: rgba(51, 153, 204, .25);--vscode-editorPane-background: #1e1e1e;--vscode-editorGroupHeader-tabsBackground: #252526;--vscode-editorGroupHeader-noTabsBackground: #1e1e1e;--vscode-editorGroup-border: #444444;--vscode-editorGroup-dropBackground: rgba(83, 89, 93, .5);--vscode-editorGroup-dropIntoPromptForeground: #cccccc;--vscode-editorGroup-dropIntoPromptBackground: #252526;--vscode-sideBySideEditor-horizontalBorder: #444444;--vscode-sideBySideEditor-verticalBorder: #444444;--vscode-panel-background: #1e1e1e;--vscode-panel-border: rgba(128, 128, 128, .35);--vscode-panelTitle-activeForeground: #e7e7e7;--vscode-panelTitle-inactiveForeground: rgba(231, 231, 231, .6);--vscode-panelTitle-activeBorder: #e7e7e7;--vscode-panel-dropBorder: #e7e7e7;--vscode-panelSection-dropBackground: rgba(83, 89, 93, .5);--vscode-panelSectionHeader-background: rgba(128, 128, 128, .2);--vscode-panelSection-border: rgba(128, 128, 128, .35);--vscode-banner-background: #04395e;--vscode-banner-foreground: #ffffff;--vscode-banner-iconForeground: #3794ff;--vscode-statusBar-foreground: #ffffff;--vscode-statusBar-noFolderForeground: #ffffff;--vscode-statusBar-background: #007acc;--vscode-statusBar-noFolderBackground: #68217a;--vscode-statusBar-focusBorder: #ffffff;--vscode-statusBarItem-activeBackground: rgba(255, 255, 255, .18);--vscode-statusBarItem-focusBorder: #ffffff;--vscode-statusBarItem-hoverBackground: rgba(255, 255, 255, .12);--vscode-statusBarItem-compactHoverBackground: rgba(255, 255, 255, .2);--vscode-statusBarItem-prominentForeground: #ffffff;--vscode-statusBarItem-prominentBackground: rgba(0, 0, 0, .5);--vscode-statusBarItem-prominentHoverBackground: rgba(0, 0, 0, .3);--vscode-statusBarItem-errorBackground: #c72e0f;--vscode-statusBarItem-errorForeground: #ffffff;--vscode-statusBarItem-warningBackground: #7a6400;--vscode-statusBarItem-warningForeground: #ffffff;--vscode-activityBar-background: #333333;--vscode-activityBar-foreground: #ffffff;--vscode-activityBar-inactiveForeground: rgba(255, 255, 255, .4);--vscode-activityBar-activeBorder: #ffffff;--vscode-activityBar-dropBorder: #ffffff;--vscode-activityBarBadge-background: #007acc;--vscode-activityBarBadge-foreground: #ffffff;--vscode-statusBarItem-remoteBackground: #16825d;--vscode-statusBarItem-remoteForeground: #ffffff;--vscode-extensionBadge-remoteBackground: #007acc;--vscode-extensionBadge-remoteForeground: #ffffff;--vscode-sideBar-background: #252526;--vscode-sideBarTitle-foreground: #bbbbbb;--vscode-sideBar-dropBackground: rgba(83, 89, 93, .5);--vscode-sideBarSectionHeader-background: rgba(0, 0, 0, 0);--vscode-sideBarSectionHeader-border: rgba(204, 204, 204, .2);--vscode-titleBar-activeForeground: #cccccc;--vscode-titleBar-inactiveForeground: rgba(204, 204, 204, .6);--vscode-titleBar-activeBackground: #3c3c3c;--vscode-titleBar-inactiveBackground: rgba(60, 60, 60, .6);--vscode-menubar-selectionForeground: #cccccc;--vscode-menubar-selectionBackground: rgba(90, 93, 94, .31);--vscode-notifications-foreground: #cccccc;--vscode-notifications-background: #252526;--vscode-notificationLink-foreground: #3794ff;--vscode-notificationCenterHeader-background: #303031;--vscode-notifications-border: #303031;--vscode-notificationsErrorIcon-foreground: #f14c4c;--vscode-notificationsWarningIcon-foreground: #cca700;--vscode-notificationsInfoIcon-foreground: #3794ff;--vscode-commandCenter-foreground: #cccccc;--vscode-commandCenter-activeForeground: #cccccc;--vscode-commandCenter-activeBackground: rgba(90, 93, 94, .31);--vscode-commandCenter-border: rgba(128, 128, 128, .35);--vscode-editorCommentsWidget-resolvedBorder: rgba(204, 204, 204, .5);--vscode-editorCommentsWidget-unresolvedBorder: #3794ff;--vscode-editorCommentsWidget-rangeBackground: rgba(55, 148, 255, .1);--vscode-editorCommentsWidget-rangeBorder: rgba(55, 148, 255, .4);--vscode-editorCommentsWidget-rangeActiveBackground: rgba(55, 148, 255, .1);--vscode-editorCommentsWidget-rangeActiveBorder: rgba(55, 148, 255, .4);--vscode-editorGutter-commentRangeForeground: #37373d;--vscode-debugToolBar-background: #333333;--vscode-debugIcon-startForeground: #89d185;--vscode-editor-stackFrameHighlightBackground: rgba(255, 255, 0, .2);--vscode-editor-focusedStackFrameHighlightBackground: rgba(122, 189, 122, .3);--vscode-mergeEditor-change\\.background: rgba(155, 185, 85, .2);--vscode-mergeEditor-change\\.word\\.background: rgba(156, 204, 44, .2);--vscode-mergeEditor-conflict\\.unhandledUnfocused\\.border: rgba(255, 166, 0, .48);--vscode-mergeEditor-conflict\\.unhandledFocused\\.border: #ffa600;--vscode-mergeEditor-conflict\\.handledUnfocused\\.border: rgba(134, 134, 134, .29);--vscode-mergeEditor-conflict\\.handledFocused\\.border: rgba(193, 193, 193, .8);--vscode-mergeEditor-conflict\\.handled\\.minimapOverViewRuler: rgba(173, 172, 168, .93);--vscode-mergeEditor-conflict\\.unhandled\\.minimapOverViewRuler: #fcba03;--vscode-mergeEditor-conflictingLines\\.background: rgba(255, 234, 0, .28);--vscode-settings-headerForeground: #e7e7e7;--vscode-settings-modifiedItemIndicator: #0c7d9d;--vscode-settings-headerBorder: rgba(128, 128, 128, .35);--vscode-settings-sashBorder: rgba(128, 128, 128, .35);--vscode-settings-dropdownBackground: #3c3c3c;--vscode-settings-dropdownForeground: #f0f0f0;--vscode-settings-dropdownBorder: #3c3c3c;--vscode-settings-dropdownListBorder: #454545;--vscode-settings-checkboxBackground: #3c3c3c;--vscode-settings-checkboxForeground: #f0f0f0;--vscode-settings-checkboxBorder: #3c3c3c;--vscode-settings-textInputBackground: #3c3c3c;--vscode-settings-textInputForeground: #cccccc;--vscode-settings-numberInputBackground: #3c3c3c;--vscode-settings-numberInputForeground: #cccccc;--vscode-settings-focusedRowBackground: rgba(42, 45, 46, .6);--vscode-settings-rowHoverBackground: rgba(42, 45, 46, .3);--vscode-settings-focusedRowBorder: rgba(255, 255, 255, .12);--vscode-terminal-foreground: #cccccc;--vscode-terminal-selectionBackground: #264f78;--vscode-terminal-inactiveSelectionBackground: #3a3d41;--vscode-terminalCommandDecoration-defaultBackground: rgba(255, 255, 255, .25);--vscode-terminalCommandDecoration-successBackground: #1b81a8;--vscode-terminalCommandDecoration-errorBackground: #f14c4c;--vscode-terminalOverviewRuler-cursorForeground: rgba(160, 160, 160, .8);--vscode-terminal-border: rgba(128, 128, 128, .35);--vscode-terminal-findMatchBackground: #515c6a;--vscode-terminal-findMatchHighlightBackground: rgba(234, 92, 0, .33);--vscode-terminalOverviewRuler-findMatchForeground: rgba(209, 134, 22, .49);--vscode-terminal-dropBackground: rgba(83, 89, 93, .5);--vscode-testing-iconFailed: #f14c4c;--vscode-testing-iconErrored: #f14c4c;--vscode-testing-iconPassed: #73c991;--vscode-testing-runAction: #73c991;--vscode-testing-iconQueued: #cca700;--vscode-testing-iconUnset: #848484;--vscode-testing-iconSkipped: #848484;--vscode-testing-peekBorder: #f14c4c;--vscode-testing-peekHeaderBackground: rgba(241, 76, 76, .1);--vscode-testing-message\\.error\\.decorationForeground: #f14c4c;--vscode-testing-message\\.error\\.lineBackground: rgba(255, 0, 0, .2);--vscode-testing-message\\.info\\.decorationForeground: rgba(212, 212, 212, .5);--vscode-welcomePage-tileBackground: #252526;--vscode-welcomePage-tileHoverBackground: #2c2c2d;--vscode-welcomePage-tileShadow: rgba(0, 0, 0, .36);--vscode-welcomePage-progress\\.background: #3c3c3c;--vscode-welcomePage-progress\\.foreground: #3794ff;--vscode-debugExceptionWidget-border: #a31515;--vscode-debugExceptionWidget-background: #420b0d;--vscode-ports-iconRunningProcessForeground: #369432;--vscode-statusBar-debuggingBackground: #cc6633;--vscode-statusBar-debuggingForeground: #ffffff;--vscode-editor-inlineValuesForeground: rgba(255, 255, 255, .5);--vscode-editor-inlineValuesBackground: rgba(255, 200, 0, .2);--vscode-editorGutter-modifiedBackground: #1b81a8;--vscode-editorGutter-addedBackground: #487e02;--vscode-editorGutter-deletedBackground: #f14c4c;--vscode-minimapGutter-modifiedBackground: #1b81a8;--vscode-minimapGutter-addedBackground: #487e02;--vscode-minimapGutter-deletedBackground: #f14c4c;--vscode-editorOverviewRuler-modifiedForeground: rgba(27, 129, 168, .6);--vscode-editorOverviewRuler-addedForeground: rgba(72, 126, 2, .6);--vscode-editorOverviewRuler-deletedForeground: rgba(241, 76, 76, .6);--vscode-debugIcon-breakpointForeground: #e51400;--vscode-debugIcon-breakpointDisabledForeground: #848484;--vscode-debugIcon-breakpointUnverifiedForeground: #848484;--vscode-debugIcon-breakpointCurrentStackframeForeground: #ffcc00;--vscode-debugIcon-breakpointStackframeForeground: #89d185;--vscode-notebook-cellBorderColor: #37373d;--vscode-notebook-focusedEditorBorder: #007fd4;--vscode-notebookStatusSuccessIcon-foreground: #89d185;--vscode-notebookStatusErrorIcon-foreground: #f48771;--vscode-notebookStatusRunningIcon-foreground: #cccccc;--vscode-notebook-cellToolbarSeparator: rgba(128, 128, 128, .35);--vscode-notebook-selectedCellBackground: #37373d;--vscode-notebook-selectedCellBorder: #37373d;--vscode-notebook-focusedCellBorder: #007fd4;--vscode-notebook-inactiveFocusedCellBorder: #37373d;--vscode-notebook-cellStatusBarItemHoverBackground: rgba(255, 255, 255, .15);--vscode-notebook-cellInsertionIndicator: #007fd4;--vscode-notebookScrollbarSlider-background: rgba(121, 121, 121, .4);--vscode-notebookScrollbarSlider-hoverBackground: rgba(100, 100, 100, .7);--vscode-notebookScrollbarSlider-activeBackground: rgba(191, 191, 191, .4);--vscode-notebook-symbolHighlightBackground: rgba(255, 255, 255, .04);--vscode-notebook-cellEditorBackground: #252526;--vscode-notebook-editorBackground: #1e1e1e;--vscode-keybindingTable-headerBackground: rgba(204, 204, 204, .04);--vscode-keybindingTable-rowsBackground: rgba(204, 204, 204, .04);--vscode-scm-providerBorder: #454545;--vscode-debugTokenExpression-name: #c586c0;--vscode-debugTokenExpression-value: rgba(204, 204, 204, .6);--vscode-debugTokenExpression-string: #ce9178;--vscode-debugTokenExpression-boolean: #4e94ce;--vscode-debugTokenExpression-number: #b5cea8;--vscode-debugTokenExpression-error: #f48771;--vscode-debugView-exceptionLabelForeground: #cccccc;--vscode-debugView-exceptionLabelBackground: #6c2022;--vscode-debugView-stateLabelForeground: #cccccc;--vscode-debugView-stateLabelBackground: rgba(136, 136, 136, .27);--vscode-debugView-valueChangedHighlight: #569cd6;--vscode-debugConsole-infoForeground: #3794ff;--vscode-debugConsole-warningForeground: #cca700;--vscode-debugConsole-errorForeground: #f48771;--vscode-debugConsole-sourceForeground: #cccccc;--vscode-debugConsoleInputIcon-foreground: #cccccc;--vscode-debugIcon-pauseForeground: #75beff;--vscode-debugIcon-stopForeground: #f48771;--vscode-debugIcon-disconnectForeground: #f48771;--vscode-debugIcon-restartForeground: #89d185;--vscode-debugIcon-stepOverForeground: #75beff;--vscode-debugIcon-stepIntoForeground: #75beff;--vscode-debugIcon-stepOutForeground: #75beff;--vscode-debugIcon-continueForeground: #75beff;--vscode-debugIcon-stepBackForeground: #75beff;--vscode-extensionButton-prominentBackground: #0e639c;--vscode-extensionButton-prominentForeground: #ffffff;--vscode-extensionButton-prominentHoverBackground: #1177bb;--vscode-extensionIcon-starForeground: #ff8e00;--vscode-extensionIcon-verifiedForeground: #3794ff;--vscode-extensionIcon-preReleaseForeground: #1d9271;--vscode-extensionIcon-sponsorForeground: #d758b3;--vscode-terminal-ansiBlack: #000000;--vscode-terminal-ansiRed: #cd3131;--vscode-terminal-ansiGreen: #0dbc79;--vscode-terminal-ansiYellow: #e5e510;--vscode-terminal-ansiBlue: #2472c8;--vscode-terminal-ansiMagenta: #bc3fbc;--vscode-terminal-ansiCyan: #11a8cd;--vscode-terminal-ansiWhite: #e5e5e5;--vscode-terminal-ansiBrightBlack: #666666;--vscode-terminal-ansiBrightRed: #f14c4c;--vscode-terminal-ansiBrightGreen: #23d18b;--vscode-terminal-ansiBrightYellow: #f5f543;--vscode-terminal-ansiBrightBlue: #3b8eea;--vscode-terminal-ansiBrightMagenta: #d670d6;--vscode-terminal-ansiBrightCyan: #29b8db;--vscode-terminal-ansiBrightWhite: #e5e5e5;--vscode-interactive-activeCodeBorder: #3794ff;--vscode-interactive-inactiveCodeBorder: #37373d;--vscode-gitDecoration-addedResourceForeground: #81b88b;--vscode-gitDecoration-modifiedResourceForeground: #e2c08d;--vscode-gitDecoration-deletedResourceForeground: #c74e39;--vscode-gitDecoration-renamedResourceForeground: #73c991;--vscode-gitDecoration-untrackedResourceForeground: #73c991;--vscode-gitDecoration-ignoredResourceForeground: #8c8c8c;--vscode-gitDecoration-stageModifiedResourceForeground: #e2c08d;--vscode-gitDecoration-stageDeletedResourceForeground: #c74e39;--vscode-gitDecoration-conflictingResourceForeground: #e4676b;--vscode-gitDecoration-submoduleResourceForeground: #8db9e2}.cm-wrapper{line-height:18px}.cm-wrapper,.cm-wrapper>div{width:100%;height:100%}.CodeMirror span.cm-meta{color:var(--vscode-editor-foreground)}.CodeMirror span.cm-number{color:var(--vscode-debugTokenExpression-number)}.CodeMirror span.cm-keyword,.CodeMirror span.cm-builtin{color:var(--vscode-debugTokenExpression-name)}.CodeMirror span.cm-operator{color:var(--vscode-editor-foreground)}.CodeMirror span.cm-string,.CodeMirror span.cm-string-2{color:var(--vscode-debugTokenExpression-string)}.CodeMirror span.cm-error{color:var(--vscode-errorForeground)}.CodeMirror span.cm-def,.CodeMirror span.cm-tag{color:#0070c1}.CodeMirror span.cm-comment,.CodeMirror span.cm-link{color:green}.CodeMirror span.cm-variable,.CodeMirror span.cm-variable-2,.CodeMirror span.cm-atom{color:#0070c1}.CodeMirror span.cm-property{color:#795e26}.CodeMirror span.cm-qualifier,.CodeMirror span.cm-attribute{color:#001080}.CodeMirror span.cm-variable-3,.CodeMirror span.cm-type{color:#267f99}body.dark-mode .CodeMirror span.cm-def,body.dark-mode .CodeMirror span.cm-tag{color:var(--vscode-debugView-valueChangedHighlight)}body.dark-mode .CodeMirror span.cm-comment,body.dark-mode .CodeMirror span.cm-link{color:#6a9955}body.dark-mode .CodeMirror span.cm-variable,body.dark-mode .CodeMirror span.cm-variable-2,body.dark-mode .CodeMirror span.cm-atom{color:#4fc1ff}body.dark-mode .CodeMirror span.cm-property{color:#dcdcaa}body.dark-mode .CodeMirror span.cm-qualifier,body.dark-mode .CodeMirror span.cm-attribute{color:#9cdcfe}body.dark-mode .CodeMirror span.cm-variable-3,body.dark-mode .CodeMirror span.cm-type{color:#4ec9b0}.CodeMirror span.cm-bracket{color:var(--vscode-editorBracketHighlight-foreground3)}.CodeMirror-cursor{border-left:1px solid var(--vscode-editor-foreground)!important}.CodeMirror div.CodeMirror-selected{background:var(--vscode-terminal-inactiveSelectionBackground)}.CodeMirror .CodeMirror-gutters{z-index:0;background:1px solid var(--vscode-editorGroup-border);border-right:none}.CodeMirror .CodeMirror-gutter-elt{background-color:var(--vscode-editorGutter-background)}.CodeMirror .CodeMirror-gutterwrapper{border-right:1px solid var(--vscode-editorGroup-border);color:var(--vscode-editorLineNumber-foreground)}.CodeMirror .CodeMirror-matchingbracket{background-color:var(--vscode-editorBracketPairGuide-background1);color:var(--vscode-editorBracketHighlight-foreground1)!important}.CodeMirror{font-family:var(--vscode-editor-font-family)!important;color:var(--vscode-editor-foreground)!important;background-color:var(--vscode-editor-background)!important;font-weight:var(--vscode-editor-font-weight)!important;font-size:var(--vscode-editor-font-size)!important}.CodeMirror .source-line-running{background-color:var(--vscode-editor-selectionBackground);z-index:2}.CodeMirror .source-line-paused{background-color:var(--vscode-editor-selectionHighlightBackground);z-index:2}.CodeMirror .source-line-error-widget{background-color:var(--vscode-inputValidation-errorBackground);white-space:pre-wrap;margin:3px 10px;padding:5px}.CodeMirror span.cm-link,span.cm-linkified{color:var(--vscode-textLink-foreground);text-decoration:underline;cursor:pointer}.CodeMirror .source-line-error-underline{text-decoration:underline;text-decoration-color:var(--vscode-errorForeground);text-decoration-style:wavy}.CodeMirror-placeholder{color:var(--vscode-input-placeholderForeground)!important}.split-view{display:flex;flex:auto;position:relative}.split-view.vertical{flex-direction:column}.split-view.vertical.sidebar-first{flex-direction:column-reverse}.split-view.horizontal{flex-direction:row}.split-view.horizontal.sidebar-first{flex-direction:row-reverse}.split-view-main{display:flex;flex:auto}.split-view-sidebar{display:flex;flex:none}.split-view.vertical:not(.sidebar-first)>.split-view-sidebar{border-top:1px solid var(--vscode-panel-border)}.split-view.horizontal:not(.sidebar-first)>.split-view-sidebar{border-left:1px solid var(--vscode-panel-border)}.split-view.vertical.sidebar-first>.split-view-sidebar{border-bottom:1px solid var(--vscode-panel-border)}.split-view.horizontal.sidebar-first>.split-view-sidebar{border-right:1px solid var(--vscode-panel-border)}.split-view-resizer{position:absolute;z-index:100}.split-view.vertical>.split-view-resizer{left:0;right:0;height:12px;cursor:ns-resize}.split-view.horizontal>.split-view-resizer{top:0;bottom:0;width:12px;cursor:ew-resize}.tabbed-pane{display:flex;flex:auto;overflow:hidden}.tabbed-pane .toolbar{background-color:var(--vscode-sideBar-background)}.tabbed-pane .tab-content{display:flex;flex:auto;overflow:hidden;position:relative;flex-direction:column}.tabbed-pane-tab{padding:2px 6px 0;cursor:pointer;display:flex;align-items:center;justify-content:center;-webkit-user-select:none;user-select:none;border-bottom:2px solid transparent;outline:none;height:100%}.tabbed-pane-tab-label{max-width:250px;white-space:pre;overflow:hidden;text-overflow:ellipsis;display:inline-block}.tabbed-pane-tab.selected{background-color:var(--vscode-tab-activeBackground)}.tabbed-pane-tab-counter{padding:0 4px;background:var(--vscode-menu-separatorBackground);border-radius:8px;height:16px;margin-left:4px;line-height:16px;min-width:18px;display:flex;align-items:center;justify-content:center}.tabbed-pane-tab-counter.error{background:var(--vscode-list-errorForeground);color:var(--vscode-button-foreground)}.toolbar{position:relative;display:flex;color:var(--vscode-sideBarTitle-foreground);min-height:30px;align-items:center;flex:none;padding-right:4px}.toolbar.toolbar-sidebar-background{background-color:var(--vscode-sideBar-background)}.toolbar:after{content:"";display:block;position:absolute;pointer-events:none;top:0;bottom:0;left:-2px;right:-2px;box-shadow:var(--vscode-scrollbar-shadow) 0 6px 6px -6px;z-index:100}.toolbar.no-shadow:after{box-shadow:none}.toolbar.no-min-height{min-height:0}.toolbar input{padding:0 5px;line-height:24px;outline:none;margin:0 4px}.toolbar select{background:none;outline:none;padding:3px;margin:2px}.toolbar option{background-color:var(--vscode-tab-activeBackground)}.toolbar input,.toolbar select{border:none;color:var(--vscode-input-foreground);background-color:var(--vscode-input-background)}.toolbar-button{flex:none;border:none;outline:none;color:var(--vscode-sideBarTitle-foreground);background:transparent;padding:4px;cursor:pointer;display:inline-flex;align-items:center}.toolbar-button:disabled{color:var(--vscode-disabledForeground)!important;cursor:default}.toolbar-button:not(:disabled):hover{background-color:var(--vscode-toolbar-hoverBackground)}.toolbar-button:not(:disabled):active{background-color:var(--vscode-toolbar-activeBackground)}.toolbar-button.toggled{color:var(--vscode-notificationLink-foreground)}.toolbar-separator{flex:none;background-color:var(--vscode-menu-separatorBackground);width:1px;padding:0;margin:5px 4px;height:16px}.call-log{display:flex;flex-direction:column;flex:auto;line-height:20px;white-space:pre;overflow:auto}.call-log-message{flex:none;padding:3px 0 3px 36px;display:flex;align-items:center}.call-log-call{display:flex;flex:none;flex-direction:column;border-top:1px solid var(--vscode-panel-border)}.call-log-call-header{height:24px;display:flex;align-items:center;padding:0 2px;z-index:2}.call-log-call .codicon{padding:0 4px;flex:none}.call-log .codicon-check{color:#21a945;font-weight:700}.call-log-call.error{background-color:var(--vscode-inputValidation-errorBackground);border-top:1px solid var(--vscode-panel-border)}.call-log-call.error .call-log-call-header,.call-log-message.error,.call-log .codicon-error{color:var(--vscode-errorForeground)}.call-log-details{flex:0 1 auto;overflow-x:hidden;text-overflow:ellipsis}.call-log-url{color:var(--vscode-charts-blue)}.call-log-selector{color:var(--vscode-charts-orange);white-space:nowrap}.call-log-time{flex:none;margin-left:4px;color:var(--gray)}.call-log-call .codicon.preview{visibility:hidden;color:var(--vscode-sideBarTitle-foreground);cursor:pointer}.call-log-call .codicon.preview:hover{color:inherit}.call-log-call:hover .codicon.preview{visibility:visible}.recorder{display:flex;flex-direction:column;flex:auto}.recorder-chooser{border:none;background:none;outline:none;color:var(--vscode-sideBarTitle-foreground);min-width:100px}.recorder .codicon{font-size:16px}.recorder .codicon.circle-large-filled{font-size:15px}.recorder .toolbar-button.toggled.circle-large-filled{color:#a1260d}body.dark-mode .recorder .toolbar-button.toggled.circle-large-filled{color:#f48771}.recorder .toolbar-button:not([disabled]) .codicon-debug-continue,.recorder .toolbar-button:not([disabled]) .codicon-debug-step-over{color:#01bb01}.recorder .toolbar-button:not([disabled]):hover .codicon-debug-continue,.recorder .toolbar-button:not([disabled]):hover .codicon-debug-step-over{color:#41ca1e}.recorder .selector-input{flex:auto}.setting{display:flex;align-items:center}.setting label{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;cursor:pointer}.setting input{margin-right:5px;flex-shrink:0}\n'},"./node_modules/playwright-core/lib/vite/recorder/index.html":e=>{"use strict";e.exports='\x3c!--\n  Copyright (c) Microsoft Corporation.\n\n  Licensed under the Apache License, Version 2.0 (the "License");\n  you may not use this file except in compliance with the License.\n  You may obtain a copy of the License at\n\n      http://www.apache.org/licenses/LICENSE-2.0\n\n  Unless required by applicable law or agreed to in writing, software\n  distributed under the License is distributed on an "AS IS" BASIS,\n  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n  See the License for the specific language governing permissions and\n  limitations under the License.\n--\x3e\n<!DOCTYPE html>\n<html lang="en" translate="no">\n  <head>\n    <meta charset="UTF-8">\n    <meta name="viewport" content="width=device-width, initial-scale=1.0">\n    <link rel="icon" href="/playwright-logo.svg" type="image/svg+xml">\n    <title>Playwright Inspector</title>\n    <script type="module" crossorigin src="/assets/index-BzOuKk9Z.js"><\/script>\n    <link rel="stylesheet" crossorigin href="/assets/index-CgG-oz1O.css">\n  </head>\n  <body>\n    <div id="root"></div>\n  </body>\n</html>\n'},"./node_modules/playwright-core/lib/vite/recorder/playwright-logo.svg":e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAwIiBoZWlnaHQ9IjQwMCIgdmlld0JveD0iMCAwIDQwMCA0MDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxwYXRoIGQ9Ik0xMzYuNDQ0IDIyMS41NTZDMTIzLjU1OCAyMjUuMjEzIDExNS4xMDQgMjMxLjYyNSAxMDkuNTM1IDIzOC4wMzJDMTE0Ljg2OSAyMzMuMzY0IDEyMi4wMTQgMjI5LjA4IDEzMS42NTIgMjI2LjM0OEMxNDEuNTEgMjIzLjU1NCAxNDkuOTIgMjIzLjU3NCAxNTYuODY5IDIyNC45MTVWMjE5LjQ4MUMxNTAuOTQxIDIxOC45MzkgMTQ0LjE0NSAyMTkuMzcxIDEzNi40NDQgMjIxLjU1NlpNMTA4Ljk0NiAxNzUuODc2TDYxLjA4OTUgMTg4LjQ4NEM2MS4wODk1IDE4OC40ODQgNjEuOTYxNyAxODkuNzE2IDYzLjU3NjcgMTkxLjM2TDEwNC4xNTMgMTgwLjY2OEMxMDQuMTUzIDE4MC42NjggMTAzLjU3OCAxODguMDc3IDk4LjU4NDcgMTk0LjcwNUMxMDguMDMgMTg3LjU1OSAxMDguOTQ2IDE3NS44NzYgMTA4Ljk0NiAxNzUuODc2Wk0xNDkuMDA1IDI4OC4zNDdDODEuNjU4MiAzMDYuNDg2IDQ2LjAyNzIgMjI4LjQzOCAzNS4yMzk2IDE4Ny45MjhDMzAuMjU1NiAxNjkuMjI5IDI4LjA3OTkgMTU1LjA2NyAyNy41IDE0NS45MjhDMjcuNDM3NyAxNDQuOTc5IDI3LjQ2NjUgMTQ0LjE3OSAyNy41MzM2IDE0My40NDZDMjQuMDQgMTQzLjY1NyAyMi4zNjc0IDE0NS40NzMgMjIuNzA3NyAxNTAuNzIxQzIzLjI4NzYgMTU5Ljg1NSAyNS40NjMzIDE3NC4wMTYgMzAuNDQ3MyAxOTIuNzIxQzQxLjIzMDEgMjMzLjIyNSA3Ni44NjU5IDMxMS4yNzMgMTQ0LjIxMyAyOTMuMTM0QzE1OC44NzIgMjg5LjE4NSAxNjkuODg1IDI4MS45OTIgMTc4LjE1MiAyNzIuODFDMTcwLjUzMiAyNzkuNjkyIDE2MC45OTUgMjg1LjExMiAxNDkuMDA1IDI4OC4zNDdaTTE2MS42NjEgMTI4LjExVjEzMi45MDNIMTg4LjA3N0MxODcuNTM1IDEzMS4yMDYgMTg2Ljk4OSAxMjkuNjc3IDE4Ni40NDcgMTI4LjExSDE2MS42NjFaIiBmaWxsPSIjMkQ0NTUyIi8+CjxwYXRoIGQ9Ik0xOTMuOTgxIDE2Ny41ODRDMjA1Ljg2MSAxNzAuOTU4IDIxMi4xNDQgMTc5LjI4NyAyMTUuNDY1IDE4Ni42NThMMjI4LjcxMSAxOTAuNDJDMjI4LjcxMSAxOTAuNDIgMjI2LjkwNCAxNjQuNjIzIDIwMy41NyAxNTcuOTk1QzE4MS43NDEgMTUxLjc5MyAxNjguMzA4IDE3MC4xMjQgMTY2LjY3NCAxNzIuNDk2QzE3My4wMjQgMTY3Ljk3MiAxODIuMjk3IDE2NC4yNjggMTkzLjk4MSAxNjcuNTg0Wk0yOTkuNDIyIDE4Ni43NzdDMjc3LjU3MyAxODAuNTQ3IDI2NC4xNDUgMTk4LjkxNiAyNjIuNTM1IDIwMS4yNTVDMjY4Ljg5IDE5Ni43MzYgMjc4LjE1OCAxOTMuMDMxIDI4OS44MzcgMTk2LjM2MkMzMDEuNjk4IDE5OS43NDEgMzA3Ljk3NiAyMDguMDYgMzExLjMwNyAyMTUuNDM2TDMyNC41NzIgMjE5LjIxMkMzMjQuNTcyIDIxOS4yMTIgMzIyLjczNiAxOTMuNDEgMjk5LjQyMiAxODYuNzc3Wk0yODYuMjYyIDI1NC43OTVMMTc2LjA3MiAyMjMuOTlDMTc2LjA3MiAyMjMuOTkgMTc3LjI2NSAyMzAuMDM4IDE4MS44NDIgMjM3Ljg2OUwyNzQuNjE3IDI2My44MDVDMjgyLjI1NSAyNTkuMzg2IDI4Ni4yNjIgMjU0Ljc5NSAyODYuMjYyIDI1NC43OTVaTTIwOS44NjcgMzIxLjEwMkMxMjIuNjE4IDI5Ny43MSAxMzMuMTY2IDE4Ni41NDMgMTQ3LjI4NCAxMzMuODY1QzE1My4wOTcgMTEyLjE1NiAxNTkuMDczIDk2LjAyMDMgMTY0LjAyOSA4NS4yMDRDMTYxLjA3MiA4NC41OTUzIDE1OC42MjMgODYuMTUyOSAxNTYuMjAzIDkxLjA3NDZDMTUwLjk0MSAxMDEuNzQ3IDE0NC4yMTIgMTE5LjEyNCAxMzcuNyAxNDMuNDVDMTIzLjU4NiAxOTYuMTI3IDExMy4wMzggMzA3LjI5IDIwMC4yODMgMzMwLjY4MkMyNDEuNDA2IDM0MS42OTkgMjczLjQ0MiAzMjQuOTU1IDI5Ny4zMjMgMjk4LjY1OUMyNzQuNjU1IDMxOS4xOSAyNDUuNzE0IDMzMC43MDEgMjA5Ljg2NyAzMjEuMTAyWiIgZmlsbD0iIzJENDU1MiIvPgo8cGF0aCBkPSJNMTYxLjY2MSAyNjIuMjk2VjIzOS44NjNMOTkuMzMyNCAyNTcuNTM3Qzk5LjMzMjQgMjU3LjUzNyAxMDMuOTM4IDIzMC43NzcgMTM2LjQ0NCAyMjEuNTU2QzE0Ni4zMDIgMjE4Ljc2MiAxNTQuNzEzIDIxOC43ODEgMTYxLjY2MSAyMjAuMTIzVjEyOC4xMUgxOTIuODY5QzE4OS40NzEgMTE3LjYxIDE4Ni4xODQgMTA5LjUyNiAxODMuNDIzIDEwMy45MDlDMTc4Ljg1NiA5NC42MTIgMTc0LjE3NCAxMDAuNzc1IDE2My41NDUgMTA5LjY2NUMxNTYuMDU5IDExNS45MTkgMTM3LjEzOSAxMjkuMjYxIDEwOC42NjggMTM2LjkzM0M4MC4xOTY2IDE0NC42MSA1Ny4xNzkgMTQyLjU3NCA0Ny41NzUyIDE0MC45MTFDMzMuOTYwMSAxMzguNTYyIDI2LjgzODcgMTM1LjU3MiAyNy41MDQ5IDE0NS45MjhDMjguMDg0NyAxNTUuMDYyIDMwLjI2MDUgMTY5LjIyNCAzNS4yNDQ1IDE4Ny45MjhDNDYuMDI3MiAyMjguNDMzIDgxLjY2MyAzMDYuNDgxIDE0OS4wMSAyODguMzQyQzE2Ni42MDIgMjgzLjYwMiAxNzkuMDE5IDI3NC4yMzMgMTg3LjYyNiAyNjIuMjkxSDE2MS42NjFWMjYyLjI5NlpNNjEuMDg0OCAxODguNDg0TDEwOC45NDYgMTc1Ljg3NkMxMDguOTQ2IDE3NS44NzYgMTA3LjU1MSAxOTQuMjg4IDg5LjYwODcgMTk5LjAxOEM3MS42NjE0IDIwMy43NDMgNjEuMDg0OCAxODguNDg0IDYxLjA4NDggMTg4LjQ4NFoiIGZpbGw9IiNFMjU3NEMiLz4KPHBhdGggZD0iTTM0MS43ODYgMTI5LjE3NEMzMjkuMzQ1IDEzMS4zNTUgMjk5LjQ5OCAxMzQuMDcyIDI2Mi42MTIgMTI0LjE4NUMyMjUuNzE2IDExNC4zMDQgMjAxLjIzNiA5Ny4wMjI0IDE5MS41MzcgODguODk5NEMxNzcuNzg4IDc3LjM4MzQgMTcxLjc0IDY5LjM4MDIgMTY1Ljc4OCA4MS40ODU3QzE2MC41MjYgOTIuMTYzIDE1My43OTcgMTA5LjU0IDE0Ny4yODQgMTMzLjg2NkMxMzMuMTcxIDE4Ni41NDMgMTIyLjYyMyAyOTcuNzA2IDIwOS44NjcgMzIxLjA5OEMyOTcuMDkzIDM0NC40NyAzNDMuNTMgMjQyLjkyIDM1Ny42NDQgMTkwLjIzOEMzNjQuMTU3IDE2NS45MTcgMzY3LjAxMyAxNDcuNSAzNjcuNzk5IDEzNS42MjVDMzY4LjY5NSAxMjIuMTczIDM1OS40NTUgMTI2LjA3OCAzNDEuNzg2IDEyOS4xNzRaTTE2Ni40OTcgMTcyLjc1NkMxNjYuNDk3IDE3Mi43NTYgMTgwLjI0NiAxNTEuMzcyIDIwMy41NjUgMTU4QzIyNi44OTkgMTY0LjYyOCAyMjguNzA2IDE5MC40MjUgMjI4LjcwNiAxOTAuNDI1TDE2Ni40OTcgMTcyLjc1NlpNMjIzLjQyIDI2OC43MTNDMTgyLjQwMyAyNTYuNjk4IDE3Ni4wNzcgMjIzLjk5IDE3Ni4wNzcgMjIzLjk5TDI4Ni4yNjIgMjU0Ljc5NkMyODYuMjYyIDI1NC43OTEgMjY0LjAyMSAyODAuNTc4IDIyMy40MiAyNjguNzEzWk0yNjIuMzc3IDIwMS40OTVDMjYyLjM3NyAyMDEuNDk1IDI3Ni4xMDcgMTgwLjEyNiAyOTkuNDIyIDE4Ni43NzNDMzIyLjczNiAxOTMuNDExIDMyNC41NzIgMjE5LjIwOCAzMjQuNTcyIDIxOS4yMDhMMjYyLjM3NyAyMDEuNDk1WiIgZmlsbD0iIzJFQUQzMyIvPgo8cGF0aCBkPSJNMTM5Ljg4IDI0Ni4wNEw5OS4zMzI0IDI1Ny41MzJDOTkuMzMyNCAyNTcuNTMyIDEwMy43MzcgMjMyLjQ0IDEzMy42MDcgMjIyLjQ5NkwxMTAuNjQ3IDEzNi4zM0wxMDguNjYzIDEzNi45MzNDODAuMTkxOCAxNDQuNjExIDU3LjE3NDIgMTQyLjU3NCA0Ny41NzA0IDE0MC45MTFDMzMuOTU1NCAxMzguNTYzIDI2LjgzNCAxMzUuNTcyIDI3LjUwMDEgMTQ1LjkyOUMyOC4wOCAxNTUuMDYzIDMwLjI1NTcgMTY5LjIyNCAzNS4yMzk3IDE4Ny45MjlDNDYuMDIyNSAyMjguNDMzIDgxLjY1ODMgMzA2LjQ4MSAxNDkuMDA1IDI4OC4zNDJMMTUwLjk4OSAyODcuNzE5TDEzOS44OCAyNDYuMDRaTTYxLjA4NDggMTg4LjQ4NUwxMDguOTQ2IDE3NS44NzZDMTA4Ljk0NiAxNzUuODc2IDEwNy41NTEgMTk0LjI4OCA4OS42MDg3IDE5OS4wMThDNzEuNjYxNSAyMDMuNzQzIDYxLjA4NDggMTg4LjQ4NSA2MS4wODQ4IDE4OC40ODVaIiBmaWxsPSIjRDY1MzQ4Ii8+CjxwYXRoIGQ9Ik0yMjUuMjcgMjY5LjE2M0wyMjMuNDE1IDI2OC43MTJDMTgyLjM5OCAyNTYuNjk4IDE3Ni4wNzIgMjIzLjk5IDE3Ni4wNzIgMjIzLjk5TDIzMi44OSAyMzkuODcyTDI2Mi45NzEgMTI0LjI4MUwyNjIuNjA3IDEyNC4xODVDMjI1LjcxMSAxMTQuMzA0IDIwMS4yMzIgOTcuMDIyNCAxOTEuNTMyIDg4Ljg5OTRDMTc3Ljc4MyA3Ny4zODM0IDE3MS43MzUgNjkuMzgwMiAxNjUuNzgzIDgxLjQ4NTdDMTYwLjUyNiA5Mi4xNjMgMTUzLjc5NyAxMDkuNTQgMTQ3LjI4NCAxMzMuODY2QzEzMy4xNzEgMTg2LjU0MyAxMjIuNjIzIDI5Ny43MDYgMjA5Ljg2NyAzMjEuMDk3TDIxMS42NTUgMzIxLjVMMjI1LjI3IDI2OS4xNjNaTTE2Ni40OTcgMTcyLjc1NkMxNjYuNDk3IDE3Mi43NTYgMTgwLjI0NiAxNTEuMzcyIDIwMy41NjUgMTU4QzIyNi44OTkgMTY0LjYyOCAyMjguNzA2IDE5MC40MjUgMjI4LjcwNiAxOTAuNDI1TDE2Ni40OTcgMTcyLjc1NloiIGZpbGw9IiMxRDhEMjIiLz4KPHBhdGggZD0iTTE0MS45NDYgMjQ1LjQ1MUwxMzEuMDcyIDI0OC41MzdDMTMzLjY0MSAyNjMuMDE5IDEzOC4xNjkgMjc2LjkxNyAxNDUuMjc2IDI4OS4xOTVDMTQ2LjUxMyAyODguOTIyIDE0Ny43NCAyODguNjg3IDE0OSAyODguMzQyQzE1Mi4zMDIgMjg3LjQ1MSAxNTUuMzY0IDI4Ni4zNDggMTU4LjMxMiAyODUuMTQ1QzE1MC4zNzEgMjczLjM2MSAxNDUuMTE4IDI1OS43ODkgMTQxLjk0NiAyNDUuNDUxWk0xMzcuNyAxNDMuNDUxQzEzMi4xMTIgMTY0LjMwNyAxMjcuMTEzIDE5NC4zMjYgMTI4LjQ4OSAyMjQuNDM2QzEzMC45NTIgMjIzLjM2NyAxMzMuNTU0IDIyMi4zNzEgMTM2LjQ0NCAyMjEuNTUxTDEzOC40NTcgMjIxLjEwMUMxMzYuMDAzIDE4OC45MzkgMTQxLjMwOCAxNTYuMTY1IDE0Ny4yODQgMTMzLjg2NkMxNDguNzk5IDEyOC4yMjUgMTUwLjMxOCAxMjIuOTc4IDE1MS44MzIgMTE4LjA4NUMxNDkuMzkzIDExOS42MzcgMTQ2Ljc2NyAxMjEuMjI4IDE0My43NzYgMTIyLjg2N0MxNDEuNzU5IDEyOS4wOTMgMTM5LjcyMiAxMzUuODk4IDEzNy43IDE0My40NTFaIiBmaWxsPSIjQzA0QjQxIi8+Cjwvc3ZnPgo="},"./node_modules/playwright-core/lib/zipBundle.js":(e,t,n)=>{"use strict";var r,o=Object.defineProperty,i=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,l={};((e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})})(l,{extract:()=>d,yauzl:()=>u,yazl:()=>c}),e.exports=(r=l,((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let n of s(t))a.call(e,n)||undefined===n||o(e,n,{get:()=>t[n],enumerable:!(r=i(t,n))||r.enumerable});return e})(o({},"__esModule",{value:!0}),r));const c=n("./node_modules/playwright-core/lib/zipBundleImpl.js").yazl,u=n("./node_modules/playwright-core/lib/zipBundleImpl.js").yauzl,d=n("./node_modules/playwright-core/lib/zipBundleImpl.js").extract},"./node_modules/playwright-core/lib/zipBundleImpl.js":(e,t,n)=>{"use strict";var r,o=Object.create,i=Object.defineProperty,s=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,l=Object.getPrototypeOf,c=Object.prototype.hasOwnProperty,u=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),d=(e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let o of a(t))!c.call(e,o)&&o!==n&&i(e,o,{get:()=>t[o],enumerable:!(r=s(t,o))||r.enumerable});return e},h=(e,t,n)=>(n=null!=e?o(l(e)):{},d(!t&&e&&e.__esModule?n:i(n,"default",{value:e,enumerable:!0}),e)),p=u((e,t)=>{var r=n("buffer").Buffer,o=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];function i(e){if(r.isBuffer(e))return e;var t="function"==typeof r.alloc&&"function"==typeof r.from;if("number"==typeof e)return t?r.alloc(e):new r(e);if("string"==typeof e)return t?r.from(e):new r(e);throw new Error("input must be buffer, number, or string, received "+typeof e)}function s(e,t){e=i(e),r.isBuffer(t)&&(t=t.readUInt32BE(0));for(var n=-1^t,s=0;s<e.length;s++)n=o[255&(n^e[s])]^n>>>8;return-1^n}function a(){return e=s.apply(null,arguments),(t=i(4)).writeInt32BE(e,0),t;var e,t}"undefined"!=typeof Int32Array&&(o=new Int32Array(o)),a.signed=function(){return s.apply(null,arguments)},a.unsigned=function(){return s.apply(null,arguments)>>>0},t.exports=a}),f=u(e=>{var t=n("fs"),r=n("stream").Transform,o=n("stream").PassThrough,i=n("zlib"),s=n("util"),a=n("events").EventEmitter,l=p();function c(){this.outputStream=new o,this.entries=[],this.outputStreamCursor=0,this.ended=!1,this.allDone=!1,this.forceZip64Eocd=!1}e.ZipFile=c,e.dateToDosDateTime=O,s.inherits(c,a),c.prototype.addFile=function(e,n,r){var o=this;n=w(n,!1),null==r&&(r={});var i=new v(n,!1,r);o.entries.push(i),t.stat(e,function(n,s){return n?o.emit("error",n):s.isFile()?(i.uncompressedSize=s.size,null==r.mtime&&i.setLastModDate(s.mtime),null==r.mode&&i.setFileAttributesMode(s.mode),i.setFileDataPumpFunction(function(){var n=t.createReadStream(e);i.state=v.FILE_DATA_IN_PROGRESS,n.on("error",function(e){o.emit("error",e)}),h(o,i,n)}),void f(o)):o.emit("error",new Error("not a file: "+e))})},c.prototype.addReadStream=function(e,t,n){var r=this;null==n&&(n={});var o=new v(t=w(t,!1),!1,n);r.entries.push(o),o.setFileDataPumpFunction(function(){o.state=v.FILE_DATA_IN_PROGRESS,h(r,o,e)}),f(r)},c.prototype.addBuffer=function(e,t,n){var r=this;if(t=w(t,!1),e.length>1073741823)throw new Error("buffer too large: "+e.length+" > 1073741823");if(null==n&&(n={}),null!=n.size)throw new Error("options.size not allowed");var o=new v(t,!1,n);function s(e){o.compressedSize=e.length,o.setFileDataPumpFunction(function(){d(r,e),d(r,o.getDataDescriptor()),o.state=v.FILE_DATA_DONE,setImmediate(function(){f(r)})}),f(r)}o.uncompressedSize=e.length,o.crc32=l.unsigned(e),o.crcAndFileSizeKnown=!0,r.entries.push(o),o.compress?i.deflateRaw(e,function(e,t){s(t)}):s(e)},c.prototype.addEmptyDirectory=function(e,t){var n=this;if(e=w(e,!0),null==t&&(t={}),null!=t.size)throw new Error("options.size not allowed");if(null!=t.compress)throw new Error("options.compress not allowed");var r=new v(e,!0,t);n.entries.push(r),r.setFileDataPumpFunction(function(){d(n,r.getDataDescriptor()),r.state=v.FILE_DATA_DONE,f(n)}),f(n)};var u=N([80,75,5,6]);function d(e,t){e.outputStream.write(t),e.outputStreamCursor+=t.length}function h(e,t,n){var r=new B,s=new I,a=t.compress?new i.DeflateRaw:new o,l=new I;n.pipe(r).pipe(s).pipe(a).pipe(l).pipe(e.outputStream,{end:!1}),l.on("end",function(){if(t.crc32=r.crc32,null==t.uncompressedSize)t.uncompressedSize=s.byteCount;else if(t.uncompressedSize!==s.byteCount)return e.emit("error",new Error("file data stream has unexpected number of bytes"));t.compressedSize=l.byteCount,e.outputStreamCursor+=t.compressedSize,d(e,t.getDataDescriptor()),t.state=v.FILE_DATA_DONE,f(e)})}function f(e){if(!e.allDone){if(e.ended&&null!=e.finalSizeCallback){var t=function(e){for(var t=0,n=0,r=0;r<e.entries.length;r++){var o=e.entries[r];if(o.compress)return-1;if(o.state>=v.READY_TO_PUMP_FILE_DATA){if(null==o.uncompressedSize)return-1}else if(null==o.uncompressedSize)return null;o.relativeOffsetOfLocalHeader=t;var i=o.useZip64Format();t+=A+o.utf8FileName.length,t+=o.uncompressedSize,o.crcAndFileSizeKnown||(t+=i?E:S),n+=C+o.utf8FileName.length+o.fileComment.length,i&&(n+=k)}var s=0;return(e.forceZip64Eocd||e.entries.length>=65535||n>=65535||t>=4294967295)&&(s+=m+g),t+n+(s+=b+e.comment.length)}(e);null!=t&&(e.finalSizeCallback(t),e.finalSizeCallback=null)}var n=function(){for(var t=0;t<e.entries.length;t++){var n=e.entries[t];if(n.state<v.FILE_DATA_DONE)return n}return null}();if(null!=n){if(n.state<v.READY_TO_PUMP_FILE_DATA||n.state===v.FILE_DATA_IN_PROGRESS)return;n.relativeOffsetOfLocalHeader=e.outputStreamCursor;var r=n.getLocalFileHeader();d(e,r),n.doFileDataPump()}else e.ended&&(e.offsetOfStartOfCentralDirectory=e.outputStreamCursor,e.entries.forEach(function(t){var n=t.getCentralDirectoryRecord();d(e,n)}),d(e,function(e){var t=!1,n=e.entries.length;(e.forceZip64Eocd||e.entries.length>=65535)&&(n=65535,t=!0);var r=e.outputStreamCursor-e.offsetOfStartOfCentralDirectory,o=r;(e.forceZip64Eocd||r>=4294967295)&&(o=4294967295,t=!0);var i=e.offsetOfStartOfCentralDirectory;if(void((e.forceZip64Eocd||e.offsetOfStartOfCentralDirectory>=4294967295)&&(i=4294967295,t=!0)))return t?m+g+b:b;var s=j(b+e.comment.length);if(s.writeUInt32LE(101010256,0),s.writeUInt16LE(0,4),s.writeUInt16LE(0,6),s.writeUInt16LE(n,8),s.writeUInt16LE(n,10),s.writeUInt32LE(o,12),s.writeUInt32LE(i,16),s.writeUInt16LE(e.comment.length,20),e.comment.copy(s,22),!t)return s;var a=j(m);a.writeUInt32LE(101075792,0),T(a,m-12,4),a.writeUInt16LE(x,12),a.writeUInt16LE(_,14),a.writeUInt32LE(0,16),a.writeUInt32LE(0,20),T(a,e.entries.length,24),T(a,e.entries.length,32),T(a,r,40),T(a,e.offsetOfStartOfCentralDirectory,48);var l=j(g);return l.writeUInt32LE(117853008,0),l.writeUInt32LE(0,4),T(l,e.outputStreamCursor,8),l.writeUInt32LE(1,16),Buffer.concat([a,l,s])}(e)),e.outputStream.end(),e.allDone=!0)}}c.prototype.end=function(e,t){if("function"==typeof e&&(t=e,e=null),null==e&&(e={}),!this.ended){if(this.ended=!0,this.finalSizeCallback=t,this.forceZip64Eocd=!!e.forceZip64Format,e.comment){if("string"==typeof e.comment?this.comment=function(e){if(/^[\x20-\x7e]*$/.test(e))return N(e,"utf-8");if(null==P){P={};for(var t=0;t<M.length;t++)P[M[t]]=t}var n=j(e.length);for(t=0;t<e.length;t++){var r=P[e[t]];if(null==r)throw new Error("character not encodable in CP437: "+JSON.stringify(e[t]));n[t]=r}return n}(e.comment):this.comment=e.comment,this.comment.length>65535)throw new Error("comment is too large");if(F(this.comment,u))throw new Error("comment contains end of central directory record signature")}else this.comment=y;f(this)}};var m=56,g=20,b=22;function w(e,t){if(""===e)throw new Error("empty metadataPath");if(e=e.replace(/\\/g,"/"),/^[a-zA-Z]:/.test(e)||/^\//.test(e))throw new Error("absolute path: "+e);if(-1!==e.split("/").indexOf(".."))throw new Error("invalid relative path: "+e);var n=/\/$/.test(e);if(t)n||(e+="/");else if(n)throw new Error("file path cannot end with '/': "+e);return e}var y=j(0);function v(e,t,n){if(this.utf8FileName=N(e),this.utf8FileName.length>65535)throw new Error("utf8 file name too long. "+utf8FileName.length+" > 65535");if(this.isDirectory=t,this.state=v.WAITING_FOR_METADATA,this.setLastModDate(null!=n.mtime?n.mtime:new Date),null!=n.mode?this.setFileAttributesMode(n.mode):this.setFileAttributesMode(t?16893:33204),t?(this.crcAndFileSizeKnown=!0,this.crc32=0,this.uncompressedSize=0,this.compressedSize=0):(this.crcAndFileSizeKnown=!1,this.crc32=null,this.uncompressedSize=null,this.compressedSize=null,null!=n.size&&(this.uncompressedSize=n.size)),t?this.compress=!1:(this.compress=!0,null!=n.compress&&(this.compress=!!n.compress)),this.forceZip64Format=!!n.forceZip64Format,n.fileComment){if("string"==typeof n.fileComment?this.fileComment=N(n.fileComment,"utf-8"):this.fileComment=n.fileComment,this.fileComment.length>65535)throw new Error("fileComment is too large")}else this.fileComment=y}v.WAITING_FOR_METADATA=0,v.READY_TO_PUMP_FILE_DATA=1,v.FILE_DATA_IN_PROGRESS=2,v.FILE_DATA_DONE=3,v.prototype.setLastModDate=function(e){var t=O(e);this.lastModFileTime=t.time,this.lastModFileDate=t.date},v.prototype.setFileAttributesMode=function(e){if((65535&e)!==e)throw new Error("invalid mode. expected: 0 <= "+e+" <= 65535");this.externalFileAttributes=e<<16>>>0},v.prototype.setFileDataPumpFunction=function(e){this.doFileDataPump=e,this.state=v.READY_TO_PUMP_FILE_DATA},v.prototype.useZip64Format=function(){return this.forceZip64Format||null!=this.uncompressedSize&&this.uncompressedSize>4294967294||null!=this.compressedSize&&this.compressedSize>4294967294||null!=this.relativeOffsetOfLocalHeader&&this.relativeOffsetOfLocalHeader>4294967294};var A=30,_=45,x=831;v.prototype.getLocalFileHeader=function(){var e=0,t=0,n=0;this.crcAndFileSizeKnown&&(e=this.crc32,t=this.compressedSize,n=this.uncompressedSize);var r=j(A),o=2048;return this.crcAndFileSizeKnown||(o|=8),r.writeUInt32LE(67324752,0),r.writeUInt16LE(20,4),r.writeUInt16LE(o,6),r.writeUInt16LE(this.getCompressionMethod(),8),r.writeUInt16LE(this.lastModFileTime,10),r.writeUInt16LE(this.lastModFileDate,12),r.writeUInt32LE(e,14),r.writeUInt32LE(t,18),r.writeUInt32LE(n,22),r.writeUInt16LE(this.utf8FileName.length,26),r.writeUInt16LE(0,28),Buffer.concat([r,this.utf8FileName])};var S=16,E=24;v.prototype.getDataDescriptor=function(){return this.crcAndFileSizeKnown?y:this.useZip64Format()?((e=j(E)).writeUInt32LE(134695760,0),e.writeUInt32LE(this.crc32,4),T(e,this.compressedSize,8),T(e,this.uncompressedSize,16),e):((e=j(S)).writeUInt32LE(134695760,0),e.writeUInt32LE(this.crc32,4),e.writeUInt32LE(this.compressedSize,8),e.writeUInt32LE(this.uncompressedSize,12),e);var e};var C=46,k=28;function O(e){var t=0;t|=31&e.getDate(),t|=(e.getMonth()+1&15)<<5,t|=(e.getFullYear()-1980&127)<<9;var n=0;return n|=Math.floor(e.getSeconds()/2),n|=(63&e.getMinutes())<<5,{date:t,time:n|=(31&e.getHours())<<11}}function T(e,t,n){var r=Math.floor(t/4294967296),o=t%4294967296;e.writeUInt32LE(o,n),e.writeUInt32LE(r,n+4)}function I(e){r.call(this,e),this.byteCount=0}function B(e){r.call(this,e),this.crc32=0}v.prototype.getCentralDirectoryRecord=function(){var e=j(C),t=2048;this.crcAndFileSizeKnown||(t|=8);var n,r,o=this.compressedSize,i=this.uncompressedSize,s=this.relativeOffsetOfLocalHeader;return this.useZip64Format()?(o=4294967295,i=4294967295,s=4294967295,n=_,(r=j(k)).writeUInt16LE(1,0),r.writeUInt16LE(k-4,2),T(r,this.uncompressedSize,4),T(r,this.compressedSize,12),T(r,this.relativeOffsetOfLocalHeader,20)):(n=20,r=y),e.writeUInt32LE(33639248,0),e.writeUInt16LE(x,4),e.writeUInt16LE(n,6),e.writeUInt16LE(t,8),e.writeUInt16LE(this.getCompressionMethod(),10),e.writeUInt16LE(this.lastModFileTime,12),e.writeUInt16LE(this.lastModFileDate,14),e.writeUInt32LE(this.crc32,16),e.writeUInt32LE(o,20),e.writeUInt32LE(i,24),e.writeUInt16LE(this.utf8FileName.length,28),e.writeUInt16LE(r.length,30),e.writeUInt16LE(this.fileComment.length,32),e.writeUInt16LE(0,34),e.writeUInt16LE(0,36),e.writeUInt32LE(this.externalFileAttributes,38),e.writeUInt32LE(s,42),Buffer.concat([e,this.utf8FileName,r,this.fileComment])},v.prototype.getCompressionMethod=function(){return this.compress?8:0},s.inherits(I,r),I.prototype._transform=function(e,t,n){this.byteCount+=e.length,n(null,e)},s.inherits(B,r),B.prototype._transform=function(e,t,n){this.crc32=l.unsigned(e,this.crc32),n(null,e)};var M="\0 !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~";if(256!==M.length)throw new Error("assertion failure");var P=null;function j(e){j=function(e){return Buffer.allocUnsafe(e)};try{return j(e)}catch{return(j=function(e){return new Buffer(e)})(e)}}function N(e,t){N=function(e,t){return Buffer.from(e,t)};try{return N(e,t)}catch{return(N=function(e,t){return new Buffer(e,t)})(e,t)}}function F(e,t){F=function(e,t){return e.includes(t)};try{return F(e,t)}catch{return(F=function(e,t){for(var n=0;n<=e.length-t.length;n++)for(var r=0;;r++){if(r===t.length)return!0;if(e[n+r]!==t[r])break}return!1})(e,t)}}}),m=u((e,t)=>{function n(){this.pending=0,this.max=1/0,this.listeners=[],this.waiting=[],this.error=null}function r(e){e.pending+=1;var t=!1;return function(r){if(t)throw new Error("callback called twice");if(t=!0,e.error=e.error||r,e.pending-=1,e.waiting.length>0&&e.pending<e.max)o(e,e.waiting.shift());else if(0===e.pending){var i=e.listeners;e.listeners=[],i.forEach(n)}};function n(t){t(e.error)}}function o(e,t){t(r(e))}t.exports=n,n.prototype.go=function(e){this.pending<this.max?o(this,e):this.waiting.push(e)},n.prototype.wait=function(e){0===this.pending?e(this.error):this.listeners.push(e)},n.prototype.hold=function(){return r(this)}}),g=u(e=>{var t=n("fs"),r=n("util"),o=n("stream"),i=o.Readable,s=o.Writable,a=o.PassThrough,l=m(),c=n("events").EventEmitter;function u(e,t){t=t||{},c.call(this),this.fd=e,this.pend=new l,this.pend.max=1,this.refCount=0,this.autoClose=!!t.autoClose}function d(e,t){t=t||{},i.call(this,t),this.context=e,this.context.ref(),this.start=t.start||0,this.endOffset=t.end,this.pos=this.start,this.destroyed=!1}function h(e,t){t=t||{},s.call(this,t),this.context=e,this.context.ref(),this.start=t.start||0,this.endOffset=null==t.end?1/0:+t.end,this.bytesWritten=0,this.pos=this.start,this.destroyed=!1,this.on("finish",this.destroy.bind(this))}function p(e,t){c.call(this),t=t||{},this.refCount=0,this.buffer=e,this.maxChunkSize=t.maxChunkSize||Number.MAX_SAFE_INTEGER}e.createFromBuffer=function(e,t){return new p(e,t)},e.createFromFd=function(e,t){return new u(e,t)},e.BufferSlicer=p,e.FdSlicer=u,r.inherits(u,c),u.prototype.read=function(e,n,r,o,i){var s=this;s.pend.go(function(a){t.read(s.fd,e,n,r,o,function(e,t,n){a(),i(e,t,n)})})},u.prototype.write=function(e,n,r,o,i){var s=this;s.pend.go(function(a){t.write(s.fd,e,n,r,o,function(e,t,n){a(),i(e,t,n)})})},u.prototype.createReadStream=function(e){return new d(this,e)},u.prototype.createWriteStream=function(e){return new h(this,e)},u.prototype.ref=function(){this.refCount+=1},u.prototype.unref=function(){var e=this;if(e.refCount-=1,!(e.refCount>0)){if(e.refCount<0)throw new Error("invalid unref");e.autoClose&&t.close(e.fd,function(t){t?e.emit("error",t):e.emit("close")})}},r.inherits(d,i),d.prototype._read=function(e){var n=this;if(!n.destroyed){var r=Math.min(n._readableState.highWaterMark,e);if(null!=n.endOffset&&(r=Math.min(r,n.endOffset-n.pos)),r<=0)return n.destroyed=!0,n.push(null),void n.context.unref();n.context.pend.go(function(e){if(n.destroyed)return e();var o=Buffer.allocUnsafe(r);t.read(n.context.fd,o,0,r,n.pos,function(t,r){t?n.destroy(t):0===r?(n.destroyed=!0,n.push(null),n.context.unref()):(n.pos+=r,n.push(o.slice(0,r))),e()})})}},d.prototype.destroy=function(e){this.destroyed||(e=e||new Error("stream destroyed"),this.destroyed=!0,this.emit("error",e),this.context.unref())},r.inherits(h,s),h.prototype._write=function(e,n,r){var o=this;if(!o.destroyed){if(o.pos+e.length>o.endOffset){var i=new Error("maximum file length exceeded");return i.code="ETOOBIG",o.destroy(),void r(i)}o.context.pend.go(function(n){if(o.destroyed)return n();t.write(o.context.fd,e,0,e.length,o.pos,function(e,t){e?(o.destroy(),n(),r(e)):(o.bytesWritten+=t,o.pos+=t,o.emit("progress"),n(),r())})})}},h.prototype.destroy=function(){this.destroyed||(this.destroyed=!0,this.context.unref())},r.inherits(p,c),p.prototype.read=function(e,t,n,r,o){if(!(0<=t&&t<=e.length))throw new RangeError("offset outside buffer: 0 <= "+t+" <= "+e.length);if(r<0)throw new RangeError("position is negative: "+r);t+n>e.length&&(n=e.length-t),r+n>this.buffer.length&&(n=this.buffer.length-r),n<=0?setImmediate(function(){o(null,0)}):(this.buffer.copy(e,t,r,r+n),setImmediate(function(){o(null,n)}))},p.prototype.write=function(e,t,n,r,o){e.copy(this.buffer,r,t,t+n),setImmediate(function(){o(null,n,e)})},p.prototype.createReadStream=function(e){var t=new a(e=e||{});t.destroyed=!1,t.start=e.start||0,t.endOffset=e.end,t.pos=t.endOffset||this.buffer.length;for(var n=this.buffer.slice(t.start,t.pos),r=0;;){var o=r+this.maxChunkSize;if(o>=n.length){r<n.length&&t.write(n.slice(r,n.length));break}t.write(n.slice(r,o)),r=o}return t.end(),t.destroy=function(){t.destroyed=!0},t},p.prototype.createWriteStream=function(e){var t=this,n=new s(e=e||{});return n.start=e.start||0,n.endOffset=null==e.end?this.buffer.length:+e.end,n.bytesWritten=0,n.pos=n.start,n.destroyed=!1,n._write=function(e,r,o){if(!n.destroyed){var i=n.pos+e.length;if(i>n.endOffset){var s=new Error("maximum file length exceeded");return s.code="ETOOBIG",n.destroyed=!0,void o(s)}e.copy(t.buffer,n.pos,0,e.length),n.bytesWritten+=e.length,n.pos=i,n.emit("progress"),o()}},n.destroy=function(){n.destroyed=!0},n},p.prototype.ref=function(){this.refCount+=1},p.prototype.unref=function(){if(this.refCount-=1,this.refCount<0)throw new Error("invalid unref")}}),b=u(e=>{var t=n("fs"),r=n("zlib"),o=g(),i=p(),s=n("util"),a=n("events").EventEmitter,l=n("stream").Transform,c=n("stream").PassThrough,u=n("stream").Writable;function d(e,n,r){"function"==typeof n&&(r=n,n=null),null==n&&(n={}),null==n.autoClose&&(n.autoClose=!1),null==n.lazyEntries&&(n.lazyEntries=!1),null==n.decodeStrings&&(n.decodeStrings=!0),null==n.validateEntrySizes&&(n.validateEntrySizes=!0),null==n.strictFileNames&&(n.strictFileNames=!1),null==r&&(r=P),t.fstat(e,function(t,i){if(t)return r(t);h(o.createFromFd(e,{autoClose:!0}),i.size,n,r)})}function h(e,t,n,r){"function"==typeof n&&(r=n,n=null),null==n&&(n={}),null==n.autoClose&&(n.autoClose=!0),null==n.lazyEntries&&(n.lazyEntries=!1),null==n.decodeStrings&&(n.decodeStrings=!0);var o=!!n.decodeStrings;if(null==n.validateEntrySizes&&(n.validateEntrySizes=!0),null==n.strictFileNames&&(n.strictFileNames=!1),null==r&&(r=P),"number"!=typeof t)throw new Error("expected totalSize parameter to be a number");if(t>Number.MAX_SAFE_INTEGER)throw new Error("zip file too large. only file sizes up to 2^52 are supported due to JavaScript's Number type being an IEEE 754 double.");e.ref();var i=Math.min(65577,t),s=O(i),a=t-s.length;S(e,s,0,i,a,function(a){if(a)return r(a);for(var l=i-22;l>=0;l-=1)if(101010256===s.readUInt32LE(l)){var c=s.subarray(l),u=c.readUInt16LE(4),d=c.readUInt16LE(10),h=c.readUInt32LE(16),p=c.readUInt16LE(20),m=c.length-22;if(p!==m)return r(new Error("Invalid comment length. Expected: "+m+". Found: "+p+". Are there extra bytes at the end of the file? Or is the end of central dir signature `PK` in the comment?"));var g=o?I(c.subarray(22),!1):c.subarray(22);if(l-20>=0&&117853008===s.readUInt32LE(l-20)){var b=B(s.subarray(l-20,l-20+20),8),w=O(56);return S(e,w,0,w.length,b,function(i){return i?r(i):101075792!==w.readUInt32LE(0)?r(new Error("invalid zip64 end of central directory record signature")):0!==(u=w.readUInt32LE(16))?r(new Error("multi-disk zip files are not supported: found disk number: "+u)):(d=B(w,32),h=B(w,48),r(null,new f(e,h,t,d,g,n.autoClose,n.lazyEntries,o,n.validateEntrySizes,n.strictFileNames)))})}return 0!==u?r(new Error("multi-disk zip files are not supported: found disk number: "+u)):r(null,new f(e,h,t,d,g,n.autoClose,n.lazyEntries,o,n.validateEntrySizes,n.strictFileNames))}r(new Error("End of central directory record signature not found. Either not a zip file, or file is truncated."))})}function f(e,t,n,r,o,i,s,l,c,u){var d=this;a.call(d),d.reader=e,d.reader.on("error",function(e){b(d,e)}),d.reader.once("close",function(){d.emit("close")}),d.readEntryCursor=t,d.fileSize=n,d.entryCount=r,d.comment=o,d.entriesRead=0,d.autoClose=!!i,d.lazyEntries=!!s,d.decodeStrings=!!l,d.validateEntrySizes=!!c,d.strictFileNames=!!u,d.isOpen=!0,d.emittedError=!1,d.lazyEntries||d._readEntry()}function m(e,t){e.autoClose&&e.close(),b(e,t)}function b(e,t){e.emittedError||(e.emittedError=!0,e.emit("error",t))}function w(){}function y(){}function v(e,t,n){var r=31&e,o=(e>>5&15)-1,i=1980+(e>>9&127),s=2*(31&t),a=t>>5&63,l=t>>11&31;if(null==n||"local"===n)return new Date(i,o,r,l,a,s,0);if("UTC"===n)return new Date(Date.UTC(i,o,r,l,a,s,0));throw new Error("unrecognized options.timezone: "+options.timezone)}function A(e,t,n,r){for(var o=null,s=0;s<n.length;s++){var a=n[s];if(28789===a.id){if(a.data.length<6||1!==a.data.readUInt8(0))continue;var l=a.data.readUInt32LE(1);if(i.unsigned(t)!==l)continue;o=I(a.data.subarray(5),!0);break}}return null==o&&(o=I(t,!!(2048&e))),r||(o=o.replace(/\\/g,"/")),o}function _(e){return-1!==e.indexOf("\\")?"invalid characters in fileName: "+e:/^[a-zA-Z]:/.test(e)||/^\//.test(e)?"absolute path: "+e:-1!==e.split("/").indexOf("..")?"invalid relative path: "+e:null}function x(e){for(var t=[],n=0;n<e.length-3;){var r=e.readUInt16LE(n+0),o=n+4,i=o+e.readUInt16LE(n+2);if(i>e.length)throw new Error("extra field length exceeds extra field buffer size");var s=e.subarray(o,i);t.push({id:r,data:s}),n=i}return t}function S(e,t,n,r,o,i){if(0===r)return setImmediate(function(){i(null,O(0))});e.read(t,n,r,o,function(e,t){return e?i(e):t<r?i(new Error("unexpected EOF")):void i()})}function E(e){l.call(this),this.actualByteCount=0,this.expectedByteCount=e}function C(){a.call(this),this.refCount=0}function k(e){c.call(this),this.context=e,this.context.ref(),this.unreffedYet=!1}e.open=function(e,n,r){"function"==typeof n&&(r=n,n=null),null==n&&(n={}),null==n.autoClose&&(n.autoClose=!0),null==n.lazyEntries&&(n.lazyEntries=!1),null==n.decodeStrings&&(n.decodeStrings=!0),null==n.validateEntrySizes&&(n.validateEntrySizes=!0),null==n.strictFileNames&&(n.strictFileNames=!1),null==r&&(r=P),t.open(e,"r",function(e,o){if(e)return r(e);d(o,n,function(e,n){e&&t.close(o,P),r(e,n)})})},e.fromFd=d,e.fromBuffer=function(e,t,n){"function"==typeof t&&(n=t,t=null),null==t&&(t={}),t.autoClose=!1,null==t.lazyEntries&&(t.lazyEntries=!1),null==t.decodeStrings&&(t.decodeStrings=!0),null==t.validateEntrySizes&&(t.validateEntrySizes=!0),null==t.strictFileNames&&(t.strictFileNames=!1),h(o.createFromBuffer(e,{maxChunkSize:65536}),e.length,t,n)},e.fromRandomAccessReader=h,e.dosDateTimeToDate=v,e.getFileNameLowLevel=A,e.validateFileName=_,e.parseExtraFields=x,e.ZipFile=f,e.Entry=w,e.LocalFileHeader=y,e.RandomAccessReader=C,s.inherits(f,a),f.prototype.close=function(){this.isOpen&&(this.isOpen=!1,this.reader.unref())},f.prototype.readEntry=function(){if(!this.lazyEntries)throw new Error("readEntry() called without lazyEntries:true");this._readEntry()},f.prototype._readEntry=function(){var e=this;if(e.entryCount!==e.entriesRead){if(!e.emittedError){var t=O(46);S(e.reader,t,0,t.length,e.readEntryCursor,function(n){if(n)return m(e,n);if(!e.emittedError){var r=new w,o=t.readUInt32LE(0);if(33639248!==o)return m(e,new Error("invalid central directory file header signature: 0x"+o.toString(16)));if(r.versionMadeBy=t.readUInt16LE(4),r.versionNeededToExtract=t.readUInt16LE(6),r.generalPurposeBitFlag=t.readUInt16LE(8),r.compressionMethod=t.readUInt16LE(10),r.lastModFileTime=t.readUInt16LE(12),r.lastModFileDate=t.readUInt16LE(14),r.crc32=t.readUInt32LE(16),r.compressedSize=t.readUInt32LE(20),r.uncompressedSize=t.readUInt32LE(24),r.fileNameLength=t.readUInt16LE(28),r.extraFieldLength=t.readUInt16LE(30),r.fileCommentLength=t.readUInt16LE(32),r.internalFileAttributes=t.readUInt16LE(36),r.externalFileAttributes=t.readUInt32LE(38),r.relativeOffsetOfLocalHeader=t.readUInt32LE(42),64&r.generalPurposeBitFlag)return m(e,new Error("strong encryption is not supported"));e.readEntryCursor+=46,t=O(r.fileNameLength+r.extraFieldLength+r.fileCommentLength),S(e.reader,t,0,t.length,e.readEntryCursor,function(n){if(n)return m(e,n);if(!e.emittedError){r.fileNameRaw=t.subarray(0,r.fileNameLength);var o=r.fileNameLength+r.extraFieldLength;r.extraFieldRaw=t.subarray(r.fileNameLength,o),r.fileCommentRaw=t.subarray(o,o+r.fileCommentLength);try{r.extraFields=x(r.extraFieldRaw)}catch(t){return m(e,t)}if(e.decodeStrings){var i=!!(2048&r.generalPurposeBitFlag);r.fileComment=I(r.fileCommentRaw,i),r.fileName=A(r.generalPurposeBitFlag,r.fileNameRaw,r.extraFields,e.strictFileNames);var s=_(r.fileName);if(null!=s)return m(e,new Error(s))}else r.fileComment=r.fileCommentRaw,r.fileName=r.fileNameRaw;r.comment=r.fileComment,e.readEntryCursor+=t.length,e.entriesRead+=1;for(var a=0;a<r.extraFields.length;a++){var l=r.extraFields[a];if(1===l.id){var c=l.data,u=0;if(4294967295===r.uncompressedSize){if(u+8>c.length)return m(e,new Error("zip64 extended information extra field does not include uncompressed size"));r.uncompressedSize=B(c,u),u+=8}if(4294967295===r.compressedSize){if(u+8>c.length)return m(e,new Error("zip64 extended information extra field does not include compressed size"));r.compressedSize=B(c,u),u+=8}if(4294967295===r.relativeOffsetOfLocalHeader){if(u+8>c.length)return m(e,new Error("zip64 extended information extra field does not include relative header offset"));r.relativeOffsetOfLocalHeader=B(c,u),u+=8}break}}if(e.validateEntrySizes&&0===r.compressionMethod){var d=r.uncompressedSize;if(r.isEncrypted()&&(d+=12),r.compressedSize!==d){var h="compressed/uncompressed size mismatch for stored file: "+r.compressedSize+" != "+r.uncompressedSize;return m(e,new Error(h))}}e.emit("entry",r),e.lazyEntries||e._readEntry()}})}})}}else setImmediate(function(){e.autoClose&&e.close(),!e.emittedError&&e.emit("end")})},f.prototype.openReadStream=function(e,t,n){var r,o=this,i=0,s=e.compressedSize;if(null==n&&(n=t,t=null),null==t)t={};else{if(null!=t.decrypt){if(!e.isEncrypted())throw new Error("options.decrypt can only be specified for encrypted entries");if(!1!==t.decrypt)throw new Error("invalid options.decrypt value: "+t.decrypt);if(e.isCompressed()&&!1!==t.decompress)throw new Error("entry is encrypted and compressed, and options.decompress !== false")}if(null!=t.decompress){if(!e.isCompressed())throw new Error("options.decompress can only be specified for compressed entries");if(!1!==t.decompress&&!0!==t.decompress)throw new Error("invalid options.decompress value: "+t.decompress)}if(null!=t.start||null!=t.end){if(e.isCompressed()&&!1!==t.decompress)throw new Error("start/end range not allowed for compressed entry without options.decompress === false");if(e.isEncrypted()&&!1!==t.decrypt)throw new Error("start/end range not allowed for encrypted entry without options.decrypt === false")}if(null!=t.start){if((i=t.start)<0)throw new Error("options.start < 0");if(i>e.compressedSize)throw new Error("options.start > entry.compressedSize")}if(null!=t.end){if((s=t.end)<0)throw new Error("options.end < 0");if(s>e.compressedSize)throw new Error("options.end > entry.compressedSize");if(s<i)throw new Error("options.end < options.start")}}if(!o.isOpen)return n(new Error("closed"));if(e.isEncrypted()&&!1!==t.decrypt)return n(new Error("entry is encrypted, and options.decrypt !== false"));if(0===e.compressionMethod)r=!1;else{if(8!==e.compressionMethod)return n(new Error("unsupported compression method: "+e.compressionMethod));r=null==t.decompress||t.decompress}o.readLocalFileHeader(e,{minimal:!0},function(t,a){if(t)return n(t);o.openReadStreamLowLevel(a.fileDataStart,e.compressedSize,i,s,r,e.uncompressedSize,n)})},f.prototype.openReadStreamLowLevel=function(e,t,n,o,i,s,a){var l=this.reader.createReadStream({start:e+n,end:e+o}),c=l;if(i){var u=!1,d=r.createInflateRaw();l.on("error",function(e){setImmediate(function(){u||d.emit("error",e)})}),l.pipe(d),this.validateEntrySizes?(c=new E(s),d.on("error",function(e){setImmediate(function(){u||c.emit("error",e)})}),d.pipe(c)):c=d,M(c,function(){u=!0,d!==c&&d.unpipe(c),l.unpipe(d),l.destroy()})}a(null,c)},f.prototype.readLocalFileHeader=function(e,t,n){var r=this;null==n&&(n=t,t=null),null==t&&(t={}),r.reader.ref();var o=O(30);S(r.reader,o,0,o.length,e.relativeOffsetOfLocalHeader,function(i){try{if(i)return n(i);var s=o.readUInt32LE(0);if(67324752!==s)return n(new Error("invalid local file header signature: 0x"+s.toString(16)));var a=o.readUInt16LE(26),l=o.readUInt16LE(28),c=e.relativeOffsetOfLocalHeader+30+a+l;if(c+e.compressedSize>r.fileSize)return n(new Error("file data overflows file bounds: "+c+" + "+e.compressedSize+" > "+r.fileSize));if(t.minimal)return n(null,{fileDataStart:c});var u=new y;u.fileDataStart=c,u.versionNeededToExtract=o.readUInt16LE(4),u.generalPurposeBitFlag=o.readUInt16LE(6),u.compressionMethod=o.readUInt16LE(8),u.lastModFileTime=o.readUInt16LE(10),u.lastModFileDate=o.readUInt16LE(12),u.crc32=o.readUInt32LE(14),u.compressedSize=o.readUInt32LE(18),u.uncompressedSize=o.readUInt32LE(22),u.fileNameLength=a,u.extraFieldLength=l,o=O(a+l),r.reader.ref(),S(r.reader,o,0,o.length,e.relativeOffsetOfLocalHeader+30,function(e){try{return e?n(e):(u.fileName=o.subarray(0,a),u.extraField=o.subarray(a),n(null,u))}finally{r.reader.unref()}})}finally{r.reader.unref()}})},w.prototype.getLastModDate=function(e){if(null==e&&(e={}),!e.forceDosFormat)for(var t=0;t<this.extraFields.length;t++){var n=this.extraFields[t];if(21589===n.id){if((o=n.data).length<5)continue;if(!(1&o[0]))continue;var r=o.readInt32LE(1);return new Date(1e3*r)}if(10===n.id)for(var o=n.data,i=4;i<o.length+4;){var s=o.readUInt16LE(i);i+=2;var a=o.readUInt16LE(i);if(i+=2,1===s){if(a<8||i+a>o.length)break;var l=4294967296*o.readInt32LE(i+4)+o.readUInt32LE(i);return new Date(l/1e4-116444736e5)}i+=a}}return v(this.lastModFileDate,this.lastModFileTime,e.timezone)},w.prototype.isEncrypted=function(){return!!(1&this.generalPurposeBitFlag)},w.prototype.isCompressed=function(){return 8===this.compressionMethod},s.inherits(E,l),E.prototype._transform=function(e,t,n){if(this.actualByteCount+=e.length,this.actualByteCount>this.expectedByteCount){var r="too many bytes in the stream. expected "+this.expectedByteCount+". got at least "+this.actualByteCount;return n(new Error(r))}n(null,e)},E.prototype._flush=function(e){if(this.actualByteCount<this.expectedByteCount){var t="not enough bytes in the stream. expected "+this.expectedByteCount+". got only "+this.actualByteCount;return e(new Error(t))}e()},s.inherits(C,a),C.prototype.ref=function(){this.refCount+=1},C.prototype.unref=function(){var e=this;if(e.refCount-=1,!(e.refCount>0)){if(e.refCount<0)throw new Error("invalid unref");e.close(function(t){if(t)return e.emit("error",t);e.emit("close")})}},C.prototype.createReadStream=function(e){null==e&&(e={});var t=e.start,n=e.end;if(t===n){var r=new c;return setImmediate(function(){r.end()}),r}var o=this._readStreamForRange(t,n),i=!1,s=new k(this);o.on("error",function(e){setImmediate(function(){i||s.emit("error",e)})}),M(s,function(){o.unpipe(s),s.unref(),o.destroy()});var a=new E(n-t);return s.on("error",function(e){setImmediate(function(){i||a.emit("error",e)})}),M(a,function(){i=!0,s.unpipe(a),s.destroy()}),o.pipe(s).pipe(a)},C.prototype._readStreamForRange=function(e,t){throw new Error("not implemented")},C.prototype.read=function(e,t,n,r,o){var i=this.createReadStream({start:r,end:r+n}),s=new u,a=0;s._write=function(n,r,o){n.copy(e,t+a,0,n.length),a+=n.length,o()},s.on("finish",o),i.on("error",function(e){o(e)}),i.pipe(s)},C.prototype.close=function(e){setImmediate(e)},s.inherits(k,c),k.prototype._flush=function(e){this.unref(),e()},k.prototype.unref=function(e){this.unreffedYet||(this.unreffedYet=!0,this.context.unref())};var O,T="\0 !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~";function I(e,t){if(t)return e.toString("utf8");for(var n="",r=0;r<e.length;r++)n+=T[e[r]];return n}function B(e,t){var n=e.readUInt32LE(t);return 4294967296*e.readUInt32LE(t+4)+n}function M(e,t){"function"==typeof e.destroy?e._destroy=function(e,n){t(),null!=n&&n(e)}:e.destroy=t}function P(e){if(e)throw e}O="function"==typeof Buffer.allocUnsafe?function(e){return Buffer.allocUnsafe(e)}:function(e){return new Buffer(e)}}),w=u((e,t)=>{var n=1e3,r=60*n,o=60*r,i=24*o,s=7*i;function a(e,t,n,r){var o=t>=1.5*n;return Math.round(e/n)+" "+r+(o?"s":"")}t.exports=function(e,t){t=t||{};var l=typeof e;if("string"===l&&e.length>0)return function(e){if(!((e=String(e)).length>100)){var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(t){var a=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*a;case"weeks":case"week":case"w":return a*s;case"days":case"day":case"d":return a*i;case"hours":case"hour":case"hrs":case"hr":case"h":return a*o;case"minutes":case"minute":case"mins":case"min":case"m":return a*r;case"seconds":case"second":case"secs":case"sec":case"s":return a*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return a;default:return}}}}(e);if("number"===l&&isFinite(e))return t.long?function(e){var t=Math.abs(e);return t>=i?a(e,t,i,"day"):t>=o?a(e,t,o,"hour"):t>=r?a(e,t,r,"minute"):t>=n?a(e,t,n,"second"):e+" ms"}(e):function(e){var t=Math.abs(e);return t>=i?Math.round(e/i)+"d":t>=o?Math.round(e/o)+"h":t>=r?Math.round(e/r)+"m":t>=n?Math.round(e/n)+"s":e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}}),y=u((e,t)=>{t.exports=function(e){function t(e){let r,o,i,s=null;function a(...e){if(!a.enabled)return;let n=a,o=Number(new Date),i=o-(r||o);n.diff=i,n.prev=r,n.curr=o,r=o,e[0]=t.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let s=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,(r,o)=>{if("%%"===r)return"%";s++;let i=t.formatters[o];if("function"==typeof i){let t=e[s];r=i.call(n,t),e.splice(s,1),s--}return r}),t.formatArgs.call(n,e),(n.log||t.log).apply(n,e)}return a.namespace=e,a.useColors=t.useColors(),a.color=t.selectColor(e),a.extend=n,a.destroy=t.destroy,Object.defineProperty(a,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==s?s:(o!==t.namespaces&&(o=t.namespaces,i=t.enabled(e)),i),set:e=>{s=e}}),"function"==typeof t.init&&t.init(a),a}function n(e,n){let r=t(this.namespace+(void 0===n?":":n)+e);return r.log=this.log,r}function r(e,t){let n=0,r=0,o=-1,i=0;for(;n<e.length;)if(r<t.length&&(t[r]===e[n]||"*"===t[r]))"*"===t[r]?(o=r,i=n,r++):(n++,r++);else{if(-1===o)return!1;r=o+1,i++,n=i}for(;r<t.length&&"*"===t[r];)r++;return r===t.length}return t.debug=t,t.default=t,t.coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){let e=[...t.names,...t.skips.map(e=>"-"+e)].join(",");return t.enable(""),e},t.enable=function(e){t.save(e),t.namespaces=e,t.names=[],t.skips=[];let n=("string"==typeof e?e:"").trim().replace(" ",",").split(",").filter(Boolean);for(let e of n)"-"===e[0]?t.skips.push(e.slice(1)):t.names.push(e)},t.enabled=function(e){for(let n of t.skips)if(r(e,n))return!1;for(let n of t.names)if(r(e,n))return!0;return!1},t.humanize=w(),t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach(n=>{t[n]=e[n]}),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){let n=0;for(let t=0;t<e.length;t++)n=(n<<5)-n+e.charCodeAt(t),n|=0;return t.colors[Math.abs(n)%t.colors.length]},t.enable(t.load()),t}}),v=u((e,t)=>{e.formatArgs=function(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;let n="color: "+this.color;e.splice(1,0,n,"color: inherit");let r=0,o=0;e[0].replace(/%[a-zA-Z%]/g,e=>{"%%"!==e&&(r++,"%c"===e&&(o=r))}),e.splice(o,0,n)},e.save=function(t){try{t?e.storage.setItem("debug",t):e.storage.removeItem("debug")}catch{}},e.load=function(){let t;try{t=e.storage.getItem("debug")}catch{}return!t&&"undefined"!=typeof process&&"env"in process&&(t=process.env.DEBUG),t},e.useColors=function(){if("undefined"!=typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let e;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&(e=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(e[1],10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},e.storage=function(){try{return localStorage}catch{}}(),e.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.log=console.debug||console.log||(()=>{}),t.exports=y()(e);var{formatters:n}=t.exports;n.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}}),A=u((e,t)=>{t.exports=(e,t=process.argv)=>{let n=e.startsWith("-")?"":1===e.length?"-":"--",r=t.indexOf(n+e),o=t.indexOf("--");return-1!==r&&(-1===o||r<o)}}),_=u((e,t)=>{var r,o=n("os"),i=n("tty"),s=A(),{env:a}=process;function l(e,t={}){return function(e){return 0!==e&&{level:e,hasBasic:!0,has256:e>=2,has16m:e>=3}}(function(e,{streamIsTTY:t,sniffFlags:n=!0}={}){let i=function(){if("FORCE_COLOR"in a)return"true"===a.FORCE_COLOR?1:"false"===a.FORCE_COLOR?0:0===a.FORCE_COLOR.length?1:Math.min(Number.parseInt(a.FORCE_COLOR,10),3)}();void 0!==i&&(r=i);let l=n?r:i;if(0===l)return 0;if(n){if(s("color=16m")||s("color=full")||s("color=truecolor"))return 3;if(s("color=256"))return 2}if(e&&!t&&void 0===l)return 0;let c=l||0;if("dumb"===a.TERM)return c;if("win32"===process.platform){let e=o.release().split(".");return Number(e[0])>=10&&Number(e[2])>=10586?Number(e[2])>=14931?3:2:1}if("CI"in a)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE","DRONE"].some(e=>e in a)||"codeship"===a.CI_NAME?1:c;if("TEAMCITY_VERSION"in a)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(a.TEAMCITY_VERSION)?1:0;if("truecolor"===a.COLORTERM)return 3;if("TERM_PROGRAM"in a){let e=Number.parseInt((a.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(a.TERM_PROGRAM){case"iTerm.app":return e>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(a.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(a.TERM)||"COLORTERM"in a?1:c}(e,{streamIsTTY:e&&e.isTTY,...t}))}s("no-color")||s("no-colors")||s("color=false")||s("color=never")?r=0:(s("color")||s("colors")||s("color=true")||s("color=always"))&&(r=1),t.exports={supportsColor:l,stdout:l({isTTY:i.isatty(1)}),stderr:l({isTTY:i.isatty(2)})}}),x=u((e,t)=>{var r=n("tty"),o=n("util");e.init=function(t){t.inspectOpts={};let n=Object.keys(e.inspectOpts);for(let r=0;r<n.length;r++)t.inspectOpts[n[r]]=e.inspectOpts[n[r]]},e.log=function(...t){return process.stderr.write(o.formatWithOptions(e.inspectOpts,...t)+"\n")},e.formatArgs=function(n){let{namespace:r,useColors:o}=this;if(o){let e=this.color,o="[3"+(e<8?e:"8;5;"+e),i=`  ${o};1m${r} [0m`;n[0]=i+n[0].split("\n").join("\n"+i),n.push(o+"m+"+t.exports.humanize(this.diff)+"[0m")}else n[0]=(e.inspectOpts.hideDate?"":(new Date).toISOString()+" ")+r+" "+n[0]},e.save=function(e){e?process.env.DEBUG=e:delete process.env.DEBUG},e.load=function(){return process.env.DEBUG},e.useColors=function(){return"colors"in e.inspectOpts?!!e.inspectOpts.colors:r.isatty(process.stderr.fd)},e.destroy=o.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."),e.colors=[6,2,3,4,5,1];try{let t=_();t&&(t.stderr||t).level>=2&&(e.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch{}e.inspectOpts=Object.keys(process.env).filter(e=>/^debug_/i.test(e)).reduce((e,t)=>{let n=t.substring(6).toLowerCase().replace(/_([a-z])/g,(e,t)=>t.toUpperCase()),r=process.env[t];return r=!!/^(yes|on|true|enabled)$/i.test(r)||!/^(no|off|false|disabled)$/i.test(r)&&("null"===r?null:Number(r)),e[n]=r,e},{}),t.exports=y()(e);var{formatters:i}=t.exports;i.o=function(e){return this.inspectOpts.colors=this.useColors,o.inspect(e,this.inspectOpts).split("\n").map(e=>e.trim()).join(" ")},i.O=function(e){return this.inspectOpts.colors=this.useColors,o.inspect(e,this.inspectOpts)}}),S=u((e,t)=>{"undefined"==typeof process||"renderer"===process.type||!0===process.browser||process.__nwjs?t.exports=v():t.exports=x()}),E=u((e,t)=>{t.exports=function e(t,n){if(t&&n)return e(t)(n);if("function"!=typeof t)throw new TypeError("need wrapper function");return Object.keys(t).forEach(function(e){r[e]=t[e]}),r;function r(){for(var e=new Array(arguments.length),n=0;n<e.length;n++)e[n]=arguments[n];var r=t.apply(this,e),o=e[e.length-1];return"function"==typeof r&&r!==o&&Object.keys(o).forEach(function(e){r[e]=o[e]}),r}}}),C=u((e,t)=>{var n=E();function r(e){var t=function(){return t.called?t.value:(t.called=!0,t.value=e.apply(this,arguments))};return t.called=!1,t}function o(e){var t=function(){if(t.called)throw new Error(t.onceError);return t.called=!0,t.value=e.apply(this,arguments)},n=e.name||"Function wrapped with `once`";return t.onceError=n+" shouldn't be called more than once",t.called=!1,t}t.exports=n(r),t.exports.strict=n(o),r.proto=r(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return r(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return o(this)},configurable:!0})})}),k=u((e,t)=>{var n=C(),r=function(){},o=function(e,t,i){if("function"==typeof t)return o(e,null,t);t||(t={}),i=n(i||r);var s=e._writableState,a=e._readableState,l=t.readable||!1!==t.readable&&e.readable,c=t.writable||!1!==t.writable&&e.writable,u=!1,d=function(){e.writable||h()},h=function(){c=!1,l||i.call(e)},p=function(){l=!1,c||i.call(e)},f=function(t){i.call(e,t?new Error("exited with error code: "+t):null)},m=function(t){i.call(e,t)},g=function(){process.nextTick(b)},b=function(){if(!u){if(l&&(!a||!a.ended||a.destroyed))return i.call(e,new Error("premature close"));if(c&&(!s||!s.ended||s.destroyed))return i.call(e,new Error("premature close"))}},w=function(){e.req.on("finish",h)};return function(e){return e.setHeader&&"function"==typeof e.abort}(e)?(e.on("complete",h),e.on("abort",g),e.req?w():e.on("request",w)):c&&!s&&(e.on("end",d),e.on("close",d)),function(e){return e.stdio&&Array.isArray(e.stdio)&&3===e.stdio.length}(e)&&e.on("exit",f),e.on("end",p),e.on("finish",h),!1!==t.error&&e.on("error",m),e.on("close",g),function(){u=!0,e.removeListener("complete",h),e.removeListener("abort",g),e.removeListener("request",w),e.req&&e.req.removeListener("finish",h),e.removeListener("end",d),e.removeListener("close",d),e.removeListener("finish",h),e.removeListener("exit",f),e.removeListener("end",p),e.removeListener("error",m),e.removeListener("close",g)}};t.exports=o}),O=u((e,t)=>{var r,o=C(),i=k();try{r=n("fs")}catch{}var s=function(){},a=/^v?\.0/.test(process.version),l=function(e){return"function"==typeof e},c=function(e){e()},u=function(e,t){return e.pipe(t)};t.exports=function(){var e=Array.prototype.slice.call(arguments),t=l(e[e.length-1]||s)&&e.pop()||s;if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new Error("pump requires two streams per minimum");var n,d=e.map(function(u,h){var p=h<e.length-1;return function(e,t,n,c){c=o(c);var u=!1;e.on("close",function(){u=!0}),i(e,{readable:t,writable:n},function(e){if(e)return c(e);u=!0,c()});var d=!1;return function(t){if(!u&&!d){if(d=!0,function(e){return!(!a||!r)&&(e instanceof(r.ReadStream||s)||e instanceof(r.WriteStream||s))&&l(e.close)}(e))return e.close(s);if(function(e){return e.setHeader&&l(e.abort)}(e))return e.abort();if(l(e.destroy))return e.destroy();c(t||new Error("stream was destroyed"))}}}(u,p,h>0,function(e){n||(n=e),e&&d.forEach(c),!p&&(d.forEach(c),t(n))})});return e.reduce(u)}}),T=u((e,t)=>{var{PassThrough:r}=n("stream");t.exports=e=>{e={...e};let{array:t}=e,{encoding:n}=e,o="buffer"===n,i=!1;t?i=!(n||o):n=n||"utf8",o&&(n=null);let s=new r({objectMode:i});n&&s.setEncoding(n);let a=0,l=[];return s.on("data",e=>{l.push(e),i?a=l.length:a+=e.length}),s.getBufferedValue=()=>t?l:o?Buffer.concat(l,a):l.join(""),s.getBufferedLength=()=>a,s}}),I=u((e,t)=>{var{constants:r}=n("buffer"),o=O(),i=T(),s=class extends Error{constructor(){super("maxBuffer exceeded"),this.name="MaxBufferError"}};async function a(e,t){if(!e)return Promise.reject(new Error("Expected a stream"));t={maxBuffer:1/0,...t};let n,{maxBuffer:a}=t;return await new Promise((l,c)=>{let u=e=>{e&&n.getBufferedLength()<=r.MAX_LENGTH&&(e.bufferedData=n.getBufferedValue()),c(e)};n=o(e,i(t),e=>{e?u(e):l()}),n.on("data",()=>{n.getBufferedLength()>a&&u(new s)})}),n.getBufferedValue()}t.exports=a,t.exports.default=a,t.exports.buffer=(e,t)=>a(e,{...t,encoding:"buffer"}),t.exports.array=(e,t)=>a(e,{...t,array:!0}),t.exports.MaxBufferError=s}),B=u((e,t)=>{var r=S()("extract-zip"),{createWriteStream:o,promises:i}=n("fs"),s=I(),a=n("path"),{promisify:l}=n("util"),c=n("stream"),u=b(),d=l(u.open),h=l(c.pipeline),p=class{constructor(e,t){this.zipPath=e,this.opts=t}async extract(){return r("opening",this.zipPath,"with opts",this.opts),this.zipfile=await d(this.zipPath,{lazyEntries:!0}),this.canceled=!1,new Promise((e,t)=>{this.zipfile.on("error",e=>{this.canceled=!0,t(e)}),this.zipfile.readEntry(),this.zipfile.on("close",()=>{this.canceled||(r("zip extraction complete"),e())}),this.zipfile.on("entry",async e=>{if(this.canceled)return void r("skipping entry",e.fileName,{cancelled:this.canceled});if(r("zipfile entry",e.fileName),e.fileName.startsWith("__MACOSX/"))return void this.zipfile.readEntry();let n=a.dirname(a.join(this.opts.dir,e.fileName));try{await i.mkdir(n,{recursive:!0});let t=await i.realpath(n);if(a.relative(this.opts.dir,t).split(a.sep).includes(".."))throw new Error(`Out of bound path "${t}" found while processing file ${e.fileName}`);await this.extractEntry(e),r("finished processing",e.fileName),this.zipfile.readEntry()}catch(e){this.canceled=!0,this.zipfile.close(),t(e)}})})}async extractEntry(e){if(this.canceled)return void r("skipping entry extraction",e.fileName,{cancelled:this.canceled});this.opts.onEntry&&this.opts.onEntry(e,this.zipfile);let t=a.join(this.opts.dir,e.fileName),n=e.externalFileAttributes>>16&65535,c=40960==(61440&n),u=16384==(61440&n);!u&&e.fileName.endsWith("/")&&(u=!0);let d=e.versionMadeBy>>8;u||(u=0===d&&16===e.externalFileAttributes),r("extracting entry",{filename:e.fileName,isDir:u,isSymlink:c});let p=511&this.getExtractedMode(n,u),f=u?t:a.dirname(t),m={recursive:!0};if(u&&(m.mode=p),r("mkdir",{dir:f,...m}),await i.mkdir(f,m),u)return;r("opening read stream",t);let g=await l(this.zipfile.openReadStream.bind(this.zipfile))(e);if(c){let e=await s(g);r("creating symlink",e,t),await i.symlink(e,t)}else await h(g,o(t,{mode:p}))}getExtractedMode(e,t){let n=e;return 0===n&&(t?(this.opts.defaultDirMode&&(n=parseInt(this.opts.defaultDirMode,10)),n||(n=493)):(this.opts.defaultFileMode&&(n=parseInt(this.opts.defaultFileMode,10)),n||(n=420))),n}};t.exports=async function(e,t){if(r("creating target directory",t.dir),!a.isAbsolute(t.dir))throw new Error("Target directory is expected to be absolute");return await i.mkdir(t.dir,{recursive:!0}),t.dir=await i.realpath(t.dir),new p(e,t).extract()}}),M={};((e,t)=>{for(var n in t)i(e,n,{get:t[n],enumerable:!0})})(M,{extract:()=>N,yauzl:()=>j,yazl:()=>P}),e.exports=(r=M,d(i({},"__esModule",{value:!0}),r));var P=h(f()),j=h(b()),N=B()},"./node_modules/playwright-core/package.json":e=>{"use strict";e.exports=JSON.parse('{"rE":"1.56.0-alpha-1758750661000"}')},"./node_modules/playwright/index.mjs":(e,t,n)=>{"use strict";n.r(t),n.d(t,{_android:()=>h,_electron:()=>d,chromium:()=>o,default:()=>p,devices:()=>l,errors:()=>c,firefox:()=>i,request:()=>u,selectors:()=>a,webkit:()=>s});var r=n("./node_modules/playwright-core/index.js");const o=r.chromium,i=r.firefox,s=r.webkit,a=r.selectors,l=r.devices,c=r.errors,u=r.request,d=r._electron,h=r._android,p=r},"./node_modules/utf-8-validate/fallback.js":e=>{"use strict";e.exports=function(e){const t=e.length;let n=0;for(;n<t;)if(128&e[n])if(192==(224&e[n])){if(n+1===t||128!=(192&e[n+1])||192==(254&e[n]))return!1;n+=2}else if(224==(240&e[n])){if(n+2>=t||128!=(192&e[n+1])||128!=(192&e[n+2])||224===e[n]&&128==(224&e[n+1])||237===e[n]&&160==(224&e[n+1]))return!1;n+=3}else{if(240!=(248&e[n]))return!1;if(n+3>=t||128!=(192&e[n+1])||128!=(192&e[n+2])||128!=(192&e[n+3])||240===e[n]&&128==(240&e[n+1])||244===e[n]&&e[n+1]>143||e[n]>244)return!1;n+=4}else n++;return!0}},"./node_modules/utf-8-validate/index.js":(e,t,n)=>{"use strict";try{e.exports=n("./node_modules/node-gyp-build/index.js")(__dirname)}catch(t){e.exports=n("./node_modules/utf-8-validate/fallback.js")}},"./node_modules/web-streams-polyfill/dist/ponyfill.es2018.js":function(e,t){var n;n=function(e){"use strict";function t(){}function n(e){return"object"==typeof e&&null!==e||"function"==typeof e}const r=t;function o(e,t){try{Object.defineProperty(e,"name",{value:t,configurable:!0})}catch(e){}}const i=Promise,s=Promise.prototype.then,a=Promise.reject.bind(i);function l(e){return new i(e)}function c(e){return l(t=>t(e))}function u(e){return a(e)}function d(e,t,n){return s.call(e,t,n)}function h(e,t,n){d(d(e,t,n),void 0,r)}function p(e,t){h(e,t)}function f(e,t){h(e,void 0,t)}function m(e,t,n){return d(e,t,n)}function g(e){d(e,void 0,r)}let b=e=>{if("function"==typeof queueMicrotask)b=queueMicrotask;else{const e=c(void 0);b=t=>d(e,t)}return b(e)};function w(e,t,n){if("function"!=typeof e)throw new TypeError("Argument is not a function");return Function.prototype.apply.call(e,t,n)}function y(e,t,n){try{return c(w(e,t,n))}catch(e){return u(e)}}class v{constructor(){this._cursor=0,this._size=0,this._front={_elements:[],_next:void 0},this._back=this._front,this._cursor=0,this._size=0}get length(){return this._size}push(e){const t=this._back;let n=t;16383===t._elements.length&&(n={_elements:[],_next:void 0}),t._elements.push(e),n!==t&&(this._back=n,t._next=n),++this._size}shift(){const e=this._front;let t=e;const n=this._cursor;let r=n+1;const o=e._elements,i=o[n];return 16384===r&&(t=e._next,r=0),--this._size,this._cursor=r,e!==t&&(this._front=t),o[n]=void 0,i}forEach(e){let t=this._cursor,n=this._front,r=n._elements;for(;!(t===r.length&&void 0===n._next||t===r.length&&(n=n._next,r=n._elements,t=0,0===r.length));)e(r[t]),++t}peek(){const e=this._front,t=this._cursor;return e._elements[t]}}const A=Symbol("[[AbortSteps]]"),_=Symbol("[[ErrorSteps]]"),x=Symbol("[[CancelSteps]]"),S=Symbol("[[PullSteps]]"),E=Symbol("[[ReleaseSteps]]");function C(e,t){e._ownerReadableStream=t,t._reader=e,"readable"===t._state?I(e):"closed"===t._state?function(e){I(e),P(e)}(e):B(e,t._storedError)}function k(e,t){return Nn(e._ownerReadableStream,t)}function O(e){const t=e._ownerReadableStream;"readable"===t._state?M(e,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):function(e){B(e,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness"))}(e),t._readableStreamController[E](),t._reader=void 0,e._ownerReadableStream=void 0}function T(e){return new TypeError("Cannot "+e+" a stream using a released reader")}function I(e){e._closedPromise=l((t,n)=>{e._closedPromise_resolve=t,e._closedPromise_reject=n})}function B(e,t){I(e),M(e,t)}function M(e,t){void 0!==e._closedPromise_reject&&(g(e._closedPromise),e._closedPromise_reject(t),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0)}function P(e){void 0!==e._closedPromise_resolve&&(e._closedPromise_resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0)}const j=Number.isFinite||function(e){return"number"==typeof e&&isFinite(e)},N=Math.trunc||function(e){return e<0?Math.ceil(e):Math.floor(e)};function F(e,t){if(void 0!==e&&"object"!=typeof(n=e)&&"function"!=typeof n)throw new TypeError(`${t} is not an object.`);var n}function D(e,t){if("function"!=typeof e)throw new TypeError(`${t} is not a function.`)}function R(e,t){if(!function(e){return"object"==typeof e&&null!==e||"function"==typeof e}(e))throw new TypeError(`${t} is not an object.`)}function L(e,t,n){if(void 0===e)throw new TypeError(`Parameter ${t} is required in '${n}'.`)}function z(e,t,n){if(void 0===e)throw new TypeError(`${t} is required in '${n}'.`)}function H(e){return Number(e)}function U(e){return 0===e?0:e}function Q(e,t){const n=Number.MAX_SAFE_INTEGER;let r=Number(e);if(r=U(r),!j(r))throw new TypeError(`${t} is not a finite number`);if(r=function(e){return U(N(e))}(r),r<0||r>n)throw new TypeError(`${t} is outside the accepted range of 0 to ${n}, inclusive`);return j(r)&&0!==r?r:0}function q(e,t){if(!Pn(e))throw new TypeError(`${t} is not a ReadableStream.`)}function W(e){return new J(e)}function $(e,t){e._reader._readRequests.push(t)}function G(e,t,n){const r=e._reader._readRequests.shift();n?r._closeSteps():r._chunkSteps(t)}function V(e){return e._reader._readRequests.length}function Y(e){const t=e._reader;return void 0!==t&&!!K(t)}class J{constructor(e){if(L(e,1,"ReadableStreamDefaultReader"),q(e,"First parameter"),jn(e))throw new TypeError("This stream has already been locked for exclusive reading by another reader");C(this,e),this._readRequests=new v}get closed(){return K(this)?this._closedPromise:u(ee("closed"))}cancel(e=void 0){return K(this)?void 0===this._ownerReadableStream?u(T("cancel")):k(this,e):u(ee("cancel"))}read(){if(!K(this))return u(ee("read"));if(void 0===this._ownerReadableStream)return u(T("read from"));let e,t;const n=l((n,r)=>{e=n,t=r});return X(this,{_chunkSteps:t=>e({value:t,done:!1}),_closeSteps:()=>e({value:void 0,done:!0}),_errorSteps:e=>t(e)}),n}releaseLock(){if(!K(this))throw ee("releaseLock");void 0!==this._ownerReadableStream&&function(e){O(e);Z(e,new TypeError("Reader was released"))}(this)}}function K(e){return!!n(e)&&!!Object.prototype.hasOwnProperty.call(e,"_readRequests")&&e instanceof J}function X(e,t){const n=e._ownerReadableStream;n._disturbed=!0,"closed"===n._state?t._closeSteps():"errored"===n._state?t._errorSteps(n._storedError):n._readableStreamController[S](t)}function Z(e,t){const n=e._readRequests;e._readRequests=new v,n.forEach(e=>{e._errorSteps(t)})}function ee(e){return new TypeError(`ReadableStreamDefaultReader.prototype.${e} can only be used on a ReadableStreamDefaultReader`)}Object.defineProperties(J.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),o(J.prototype.cancel,"cancel"),o(J.prototype.read,"read"),o(J.prototype.releaseLock,"releaseLock"),"symbol"==typeof Symbol.toStringTag&&Object.defineProperty(J.prototype,Symbol.toStringTag,{value:"ReadableStreamDefaultReader",configurable:!0});const te=Object.getPrototypeOf(Object.getPrototypeOf(async function*(){}).prototype);class ne{constructor(e,t){this._ongoingPromise=void 0,this._isFinished=!1,this._reader=e,this._preventCancel=t}next(){const e=()=>this._nextSteps();return this._ongoingPromise=this._ongoingPromise?m(this._ongoingPromise,e,e):e(),this._ongoingPromise}return(e){const t=()=>this._returnSteps(e);return this._ongoingPromise?m(this._ongoingPromise,t,t):t()}_nextSteps(){if(this._isFinished)return Promise.resolve({value:void 0,done:!0});const e=this._reader;let t,n;const r=l((e,r)=>{t=e,n=r});return X(e,{_chunkSteps:e=>{this._ongoingPromise=void 0,b(()=>t({value:e,done:!1}))},_closeSteps:()=>{this._ongoingPromise=void 0,this._isFinished=!0,O(e),t({value:void 0,done:!0})},_errorSteps:t=>{this._ongoingPromise=void 0,this._isFinished=!0,O(e),n(t)}}),r}_returnSteps(e){if(this._isFinished)return Promise.resolve({value:e,done:!0});this._isFinished=!0;const t=this._reader;if(!this._preventCancel){const n=k(t,e);return O(t),m(n,()=>({value:e,done:!0}))}return O(t),c({value:e,done:!0})}}const re={next(){return oe(this)?this._asyncIteratorImpl.next():u(ie("next"))},return(e){return oe(this)?this._asyncIteratorImpl.return(e):u(ie("return"))}};function oe(e){if(!n(e))return!1;if(!Object.prototype.hasOwnProperty.call(e,"_asyncIteratorImpl"))return!1;try{return e._asyncIteratorImpl instanceof ne}catch(e){return!1}}function ie(e){return new TypeError(`ReadableStreamAsyncIterator.${e} can only be used on a ReadableSteamAsyncIterator`)}Object.setPrototypeOf(re,te);const se=Number.isNaN||function(e){return e!=e};var ae,le,ce;function ue(e){return e.slice()}function de(e,t,n,r,o){new Uint8Array(e).set(new Uint8Array(n,r,o),t)}let he=e=>(he="function"==typeof e.transfer?e=>e.transfer():"function"==typeof structuredClone?e=>structuredClone(e,{transfer:[e]}):e=>e,he(e)),pe=e=>(pe="boolean"==typeof e.detached?e=>e.detached:e=>0===e.byteLength,pe(e));function fe(e,t,n){if(e.slice)return e.slice(t,n);const r=n-t,o=new ArrayBuffer(r);return de(o,0,e,t,r),o}function me(e,t){const n=e[t];if(null!=n){if("function"!=typeof n)throw new TypeError(`${String(t)} is not a function`);return n}}const ge=null!==(ce=null!==(ae=Symbol.asyncIterator)&&void 0!==ae?ae:null===(le=Symbol.for)||void 0===le?void 0:le.call(Symbol,"Symbol.asyncIterator"))&&void 0!==ce?ce:"@@asyncIterator";function be(e,t="sync",r){if(void 0===r)if("async"===t){if(void 0===(r=me(e,ge)))return function(e){const t={[Symbol.iterator]:()=>e.iterator},n=async function*(){return yield*t}();return{iterator:n,nextMethod:n.next,done:!1}}(be(e,"sync",me(e,Symbol.iterator)))}else r=me(e,Symbol.iterator);if(void 0===r)throw new TypeError("The object is not iterable");const o=w(r,e,[]);if(!n(o))throw new TypeError("The iterator method must return an object");return{iterator:o,nextMethod:o.next,done:!1}}function we(e){const t=fe(e.buffer,e.byteOffset,e.byteOffset+e.byteLength);return new Uint8Array(t)}function ye(e){const t=e._queue.shift();return e._queueTotalSize-=t.size,e._queueTotalSize<0&&(e._queueTotalSize=0),t.value}function ve(e,t,n){if("number"!=typeof(r=n)||se(r)||r<0||n===1/0)throw new RangeError("Size must be a finite, non-NaN, non-negative number.");var r;e._queue.push({value:t,size:n}),e._queueTotalSize+=n}function Ae(e){e._queue=new v,e._queueTotalSize=0}function _e(e){return e===DataView}class xe{constructor(){throw new TypeError("Illegal constructor")}get view(){if(!Ce(this))throw Ke("view");return this._view}respond(e){if(!Ce(this))throw Ke("respond");if(L(e,1,"respond"),e=Q(e,"First parameter"),void 0===this._associatedReadableByteStreamController)throw new TypeError("This BYOB request has been invalidated");if(pe(this._view.buffer))throw new TypeError("The BYOB request's buffer has been detached and so cannot be used as a response");Ve(this._associatedReadableByteStreamController,e)}respondWithNewView(e){if(!Ce(this))throw Ke("respondWithNewView");if(L(e,1,"respondWithNewView"),!ArrayBuffer.isView(e))throw new TypeError("You can only respond with array buffer views");if(void 0===this._associatedReadableByteStreamController)throw new TypeError("This BYOB request has been invalidated");if(pe(e.buffer))throw new TypeError("The given view's buffer has been detached and so cannot be used as a response");Ye(this._associatedReadableByteStreamController,e)}}Object.defineProperties(xe.prototype,{respond:{enumerable:!0},respondWithNewView:{enumerable:!0},view:{enumerable:!0}}),o(xe.prototype.respond,"respond"),o(xe.prototype.respondWithNewView,"respondWithNewView"),"symbol"==typeof Symbol.toStringTag&&Object.defineProperty(xe.prototype,Symbol.toStringTag,{value:"ReadableStreamBYOBRequest",configurable:!0});class Se{constructor(){throw new TypeError("Illegal constructor")}get byobRequest(){if(!Ee(this))throw Xe("byobRequest");return $e(this)}get desiredSize(){if(!Ee(this))throw Xe("desiredSize");return Ge(this)}close(){if(!Ee(this))throw Xe("close");if(this._closeRequested)throw new TypeError("The stream has already been closed; do not close it again!");const e=this._controlledReadableByteStream._state;if("readable"!==e)throw new TypeError(`The stream (in ${e} state) is not in the readable state and cannot be closed`);Ue(this)}enqueue(e){if(!Ee(this))throw Xe("enqueue");if(L(e,1,"enqueue"),!ArrayBuffer.isView(e))throw new TypeError("chunk must be an array buffer view");if(0===e.byteLength)throw new TypeError("chunk must have non-zero byteLength");if(0===e.buffer.byteLength)throw new TypeError("chunk's buffer must have non-zero byteLength");if(this._closeRequested)throw new TypeError("stream is closed or draining");const t=this._controlledReadableByteStream._state;if("readable"!==t)throw new TypeError(`The stream (in ${t} state) is not in the readable state and cannot be enqueued to`);Qe(this,e)}error(e=void 0){if(!Ee(this))throw Xe("error");qe(this,e)}[x](e){Oe(this),Ae(this);const t=this._cancelAlgorithm(e);return He(this),t}[S](e){const t=this._controlledReadableByteStream;if(this._queueTotalSize>0)return void We(this,e);const n=this._autoAllocateChunkSize;if(void 0!==n){let t;try{t=new ArrayBuffer(n)}catch(t){return void e._errorSteps(t)}const r={buffer:t,bufferByteLength:n,byteOffset:0,byteLength:n,bytesFilled:0,minimumFill:1,elementSize:1,viewConstructor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(r)}$(t,e),ke(this)}[E](){if(this._pendingPullIntos.length>0){const e=this._pendingPullIntos.peek();e.readerType="none",this._pendingPullIntos=new v,this._pendingPullIntos.push(e)}}}function Ee(e){return!!n(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledReadableByteStream")&&e instanceof Se}function Ce(e){return!!n(e)&&!!Object.prototype.hasOwnProperty.call(e,"_associatedReadableByteStreamController")&&e instanceof xe}function ke(e){const t=function(e){const t=e._controlledReadableByteStream;if("readable"!==t._state)return!1;if(e._closeRequested)return!1;if(!e._started)return!1;if(Y(t)&&V(t)>0)return!0;if(rt(t)&&nt(t)>0)return!0;return Ge(e)>0}(e);t&&(e._pulling?e._pullAgain=!0:(e._pulling=!0,h(e._pullAlgorithm(),()=>(e._pulling=!1,e._pullAgain&&(e._pullAgain=!1,ke(e)),null),t=>(qe(e,t),null))))}function Oe(e){De(e),e._pendingPullIntos=new v}function Te(e,t){let n=!1;"closed"===e._state&&(n=!0);const r=Ie(t);"default"===t.readerType?G(e,r,n):function(e,t,n){const r=e._reader._readIntoRequests.shift();n?r._closeSteps(t):r._chunkSteps(t)}(e,r,n)}function Ie(e){const t=e.bytesFilled,n=e.elementSize;return new e.viewConstructor(e.buffer,e.byteOffset,t/n)}function Be(e,t,n,r){e._queue.push({buffer:t,byteOffset:n,byteLength:r}),e._queueTotalSize+=r}function Me(e,t,n,r){let o;try{o=fe(t,n,n+r)}catch(t){throw qe(e,t),t}Be(e,o,0,r)}function Pe(e,t){t.bytesFilled>0&&Me(e,t.buffer,t.byteOffset,t.bytesFilled),ze(e)}function je(e,t){const n=Math.min(e._queueTotalSize,t.byteLength-t.bytesFilled),r=t.bytesFilled+n;let o=n,i=!1;const s=r-r%t.elementSize;s>=t.minimumFill&&(o=s-t.bytesFilled,i=!0);const a=e._queue;for(;o>0;){const n=a.peek(),r=Math.min(o,n.byteLength),i=t.byteOffset+t.bytesFilled;de(t.buffer,i,n.buffer,n.byteOffset,r),n.byteLength===r?a.shift():(n.byteOffset+=r,n.byteLength-=r),e._queueTotalSize-=r,Ne(0,r,t),o-=r}return i}function Ne(e,t,n){n.bytesFilled+=t}function Fe(e){0===e._queueTotalSize&&e._closeRequested?(He(e),Fn(e._controlledReadableByteStream)):ke(e)}function De(e){null!==e._byobRequest&&(e._byobRequest._associatedReadableByteStreamController=void 0,e._byobRequest._view=null,e._byobRequest=null)}function Re(e){for(;e._pendingPullIntos.length>0;){if(0===e._queueTotalSize)return;const t=e._pendingPullIntos.peek();je(e,t)&&(ze(e),Te(e._controlledReadableByteStream,t))}}function Le(e,t){const n=e._pendingPullIntos.peek();De(e),"closed"===e._controlledReadableByteStream._state?function(e,t){"none"===t.readerType&&ze(e);const n=e._controlledReadableByteStream;if(rt(n))for(;nt(n)>0;)Te(n,ze(e))}(e,n):function(e,t,n){if(Ne(0,t,n),"none"===n.readerType)return Pe(e,n),void Re(e);if(n.bytesFilled<n.minimumFill)return;ze(e);const r=n.bytesFilled%n.elementSize;if(r>0){const t=n.byteOffset+n.bytesFilled;Me(e,n.buffer,t-r,r)}n.bytesFilled-=r,Te(e._controlledReadableByteStream,n),Re(e)}(e,t,n),ke(e)}function ze(e){return e._pendingPullIntos.shift()}function He(e){e._pullAlgorithm=void 0,e._cancelAlgorithm=void 0}function Ue(e){const t=e._controlledReadableByteStream;if(!e._closeRequested&&"readable"===t._state)if(e._queueTotalSize>0)e._closeRequested=!0;else{if(e._pendingPullIntos.length>0){const t=e._pendingPullIntos.peek();if(t.bytesFilled%t.elementSize!==0){const t=new TypeError("Insufficient bytes to fill elements in the given buffer");throw qe(e,t),t}}He(e),Fn(t)}}function Qe(e,t){const n=e._controlledReadableByteStream;if(e._closeRequested||"readable"!==n._state)return;const{buffer:r,byteOffset:o,byteLength:i}=t;if(pe(r))throw new TypeError("chunk's buffer is detached and so cannot be enqueued");const s=he(r);if(e._pendingPullIntos.length>0){const t=e._pendingPullIntos.peek();if(pe(t.buffer))throw new TypeError("The BYOB request's buffer has been detached and so cannot be filled with an enqueued chunk");De(e),t.buffer=he(t.buffer),"none"===t.readerType&&Pe(e,t)}Y(n)?(function(e){const t=e._controlledReadableByteStream._reader;for(;t._readRequests.length>0;){if(0===e._queueTotalSize)return;We(e,t._readRequests.shift())}}(e),0===V(n)?Be(e,s,o,i):(e._pendingPullIntos.length>0&&ze(e),G(n,new Uint8Array(s,o,i),!1))):rt(n)?(Be(e,s,o,i),Re(e)):Be(e,s,o,i),ke(e)}function qe(e,t){const n=e._controlledReadableByteStream;"readable"===n._state&&(Oe(e),Ae(e),He(e),Dn(n,t))}function We(e,t){const n=e._queue.shift();e._queueTotalSize-=n.byteLength,Fe(e);const r=new Uint8Array(n.buffer,n.byteOffset,n.byteLength);t._chunkSteps(r)}function $e(e){if(null===e._byobRequest&&e._pendingPullIntos.length>0){const t=e._pendingPullIntos.peek(),n=new Uint8Array(t.buffer,t.byteOffset+t.bytesFilled,t.byteLength-t.bytesFilled),r=Object.create(xe.prototype);!function(e,t,n){e._associatedReadableByteStreamController=t,e._view=n}(r,e,n),e._byobRequest=r}return e._byobRequest}function Ge(e){const t=e._controlledReadableByteStream._state;return"errored"===t?null:"closed"===t?0:e._strategyHWM-e._queueTotalSize}function Ve(e,t){const n=e._pendingPullIntos.peek();if("closed"===e._controlledReadableByteStream._state){if(0!==t)throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream")}else{if(0===t)throw new TypeError("bytesWritten must be greater than 0 when calling respond() on a readable stream");if(n.bytesFilled+t>n.byteLength)throw new RangeError("bytesWritten out of range")}n.buffer=he(n.buffer),Le(e,t)}function Ye(e,t){const n=e._pendingPullIntos.peek();if("closed"===e._controlledReadableByteStream._state){if(0!==t.byteLength)throw new TypeError("The view's length must be 0 when calling respondWithNewView() on a closed stream")}else if(0===t.byteLength)throw new TypeError("The view's length must be greater than 0 when calling respondWithNewView() on a readable stream");if(n.byteOffset+n.bytesFilled!==t.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(n.bufferByteLength!==t.buffer.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");if(n.bytesFilled+t.byteLength>n.byteLength)throw new RangeError("The region specified by view is larger than byobRequest");const r=t.byteLength;n.buffer=he(t.buffer),Le(e,r)}function Je(e,t,n,r,o,i,s){t._controlledReadableByteStream=e,t._pullAgain=!1,t._pulling=!1,t._byobRequest=null,t._queue=t._queueTotalSize=void 0,Ae(t),t._closeRequested=!1,t._started=!1,t._strategyHWM=i,t._pullAlgorithm=r,t._cancelAlgorithm=o,t._autoAllocateChunkSize=s,t._pendingPullIntos=new v,e._readableStreamController=t,h(c(n()),()=>(t._started=!0,ke(t),null),e=>(qe(t,e),null))}function Ke(e){return new TypeError(`ReadableStreamBYOBRequest.prototype.${e} can only be used on a ReadableStreamBYOBRequest`)}function Xe(e){return new TypeError(`ReadableByteStreamController.prototype.${e} can only be used on a ReadableByteStreamController`)}function Ze(e,t){if("byob"!=(e=`${e}`))throw new TypeError(`${t} '${e}' is not a valid enumeration value for ReadableStreamReaderMode`);return e}function et(e){return new ot(e)}function tt(e,t){e._reader._readIntoRequests.push(t)}function nt(e){return e._reader._readIntoRequests.length}function rt(e){const t=e._reader;return void 0!==t&&!!it(t)}Object.defineProperties(Se.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},byobRequest:{enumerable:!0},desiredSize:{enumerable:!0}}),o(Se.prototype.close,"close"),o(Se.prototype.enqueue,"enqueue"),o(Se.prototype.error,"error"),"symbol"==typeof Symbol.toStringTag&&Object.defineProperty(Se.prototype,Symbol.toStringTag,{value:"ReadableByteStreamController",configurable:!0});class ot{constructor(e){if(L(e,1,"ReadableStreamBYOBReader"),q(e,"First parameter"),jn(e))throw new TypeError("This stream has already been locked for exclusive reading by another reader");if(!Ee(e._readableStreamController))throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");C(this,e),this._readIntoRequests=new v}get closed(){return it(this)?this._closedPromise:u(lt("closed"))}cancel(e=void 0){return it(this)?void 0===this._ownerReadableStream?u(T("cancel")):k(this,e):u(lt("cancel"))}read(e,t={}){if(!it(this))return u(lt("read"));if(!ArrayBuffer.isView(e))return u(new TypeError("view must be an array buffer view"));if(0===e.byteLength)return u(new TypeError("view must have non-zero byteLength"));if(0===e.buffer.byteLength)return u(new TypeError("view's buffer must have non-zero byteLength"));if(pe(e.buffer))return u(new TypeError("view's buffer has been detached"));let n;try{n=function(e,t){var n;return F(e,t),{min:Q(null!==(n=null==e?void 0:e.min)&&void 0!==n?n:1,`${t} has member 'min' that`)}}(t,"options")}catch(e){return u(e)}const r=n.min;if(0===r)return u(new TypeError("options.min must be greater than 0"));if(function(e){return _e(e.constructor)}(e)){if(r>e.byteLength)return u(new RangeError("options.min must be less than or equal to view's byteLength"))}else if(r>e.length)return u(new RangeError("options.min must be less than or equal to view's length"));if(void 0===this._ownerReadableStream)return u(T("read from"));let o,i;const s=l((e,t)=>{o=e,i=t});return st(this,e,r,{_chunkSteps:e=>o({value:e,done:!1}),_closeSteps:e=>o({value:e,done:!0}),_errorSteps:e=>i(e)}),s}releaseLock(){if(!it(this))throw lt("releaseLock");void 0!==this._ownerReadableStream&&function(e){O(e);at(e,new TypeError("Reader was released"))}(this)}}function it(e){return!!n(e)&&!!Object.prototype.hasOwnProperty.call(e,"_readIntoRequests")&&e instanceof ot}function st(e,t,n,r){const o=e._ownerReadableStream;o._disturbed=!0,"errored"===o._state?r._errorSteps(o._storedError):function(e,t,n,r){const o=e._controlledReadableByteStream,i=t.constructor,s=function(e){return _e(e)?1:e.BYTES_PER_ELEMENT}(i),{byteOffset:a,byteLength:l}=t,c=n*s;let u;try{u=he(t.buffer)}catch(e){return void r._errorSteps(e)}const d={buffer:u,bufferByteLength:u.byteLength,byteOffset:a,byteLength:l,bytesFilled:0,minimumFill:c,elementSize:s,viewConstructor:i,readerType:"byob"};if(e._pendingPullIntos.length>0)return e._pendingPullIntos.push(d),void tt(o,r);if("closed"===o._state){const e=new i(d.buffer,d.byteOffset,0);return void r._closeSteps(e)}if(e._queueTotalSize>0){if(je(e,d)){const t=Ie(d);return Fe(e),void r._chunkSteps(t)}if(e._closeRequested){const t=new TypeError("Insufficient bytes to fill elements in the given buffer");return qe(e,t),void r._errorSteps(t)}}e._pendingPullIntos.push(d),tt(o,r),ke(e)}(o._readableStreamController,t,n,r)}function at(e,t){const n=e._readIntoRequests;e._readIntoRequests=new v,n.forEach(e=>{e._errorSteps(t)})}function lt(e){return new TypeError(`ReadableStreamBYOBReader.prototype.${e} can only be used on a ReadableStreamBYOBReader`)}function ct(e,t){const{highWaterMark:n}=e;if(void 0===n)return t;if(se(n)||n<0)throw new RangeError("Invalid highWaterMark");return n}function ut(e){const{size:t}=e;return t||(()=>1)}function dt(e,t){F(e,t);const n=null==e?void 0:e.highWaterMark,r=null==e?void 0:e.size;return{highWaterMark:void 0===n?void 0:H(n),size:void 0===r?void 0:ht(r,`${t} has member 'size' that`)}}function ht(e,t){return D(e,t),t=>H(e(t))}function pt(e,t,n){return D(e,n),n=>y(e,t,[n])}function ft(e,t,n){return D(e,n),()=>y(e,t,[])}function mt(e,t,n){return D(e,n),n=>w(e,t,[n])}function gt(e,t,n){return D(e,n),(n,r)=>y(e,t,[n,r])}function bt(e,t){if(!_t(e))throw new TypeError(`${t} is not a WritableStream.`)}Object.defineProperties(ot.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),o(ot.prototype.cancel,"cancel"),o(ot.prototype.read,"read"),o(ot.prototype.releaseLock,"releaseLock"),"symbol"==typeof Symbol.toStringTag&&Object.defineProperty(ot.prototype,Symbol.toStringTag,{value:"ReadableStreamBYOBReader",configurable:!0});const wt="function"==typeof AbortController;class yt{constructor(e={},t={}){void 0===e?e=null:R(e,"First parameter");const n=dt(t,"Second parameter"),r=function(e,t){F(e,t);const n=null==e?void 0:e.abort,r=null==e?void 0:e.close,o=null==e?void 0:e.start,i=null==e?void 0:e.type,s=null==e?void 0:e.write;return{abort:void 0===n?void 0:pt(n,e,`${t} has member 'abort' that`),close:void 0===r?void 0:ft(r,e,`${t} has member 'close' that`),start:void 0===o?void 0:mt(o,e,`${t} has member 'start' that`),write:void 0===s?void 0:gt(s,e,`${t} has member 'write' that`),type:i}}(e,"First parameter");if(At(this),void 0!==r.type)throw new RangeError("Invalid type is specified");const o=ut(n);!function(e,t,n,r){const o=Object.create(Lt.prototype);let i,s,a,l;i=void 0!==t.start?()=>t.start(o):()=>{},s=void 0!==t.write?e=>t.write(e,o):()=>c(void 0),a=void 0!==t.close?()=>t.close():()=>c(void 0),l=void 0!==t.abort?e=>t.abort(e):()=>c(void 0),Ht(e,o,i,s,a,l,n,r)}(this,r,ct(n,1),o)}get locked(){if(!_t(this))throw Vt("locked");return xt(this)}abort(e=void 0){return _t(this)?xt(this)?u(new TypeError("Cannot abort a stream that already has a writer")):St(this,e):u(Vt("abort"))}close(){return _t(this)?xt(this)?u(new TypeError("Cannot close a stream that already has a writer")):Tt(this)?u(new TypeError("Cannot close an already-closing stream")):Et(this):u(Vt("close"))}getWriter(){if(!_t(this))throw Vt("getWriter");return vt(this)}}function vt(e){return new Mt(e)}function At(e){e._state="writable",e._storedError=void 0,e._writer=void 0,e._writableStreamController=void 0,e._writeRequests=new v,e._inFlightWriteRequest=void 0,e._closeRequest=void 0,e._inFlightCloseRequest=void 0,e._pendingAbortRequest=void 0,e._backpressure=!1}function _t(e){return!!n(e)&&!!Object.prototype.hasOwnProperty.call(e,"_writableStreamController")&&e instanceof yt}function xt(e){return void 0!==e._writer}function St(e,t){var n;if("closed"===e._state||"errored"===e._state)return c(void 0);e._writableStreamController._abortReason=t,null===(n=e._writableStreamController._abortController)||void 0===n||n.abort(t);const r=e._state;if("closed"===r||"errored"===r)return c(void 0);if(void 0!==e._pendingAbortRequest)return e._pendingAbortRequest._promise;let o=!1;"erroring"===r&&(o=!0,t=void 0);const i=l((n,r)=>{e._pendingAbortRequest={_promise:void 0,_resolve:n,_reject:r,_reason:t,_wasAlreadyErroring:o}});return e._pendingAbortRequest._promise=i,o||kt(e,t),i}function Et(e){const t=e._state;if("closed"===t||"errored"===t)return u(new TypeError(`The stream (in ${t} state) is not in the writable state and cannot be closed`));const n=l((t,n)=>{const r={_resolve:t,_reject:n};e._closeRequest=r}),r=e._writer;var o;return void 0!==r&&e._backpressure&&"writable"===t&&an(r),ve(o=e._writableStreamController,Rt,0),qt(o),n}function Ct(e,t){"writable"!==e._state?Ot(e):kt(e,t)}function kt(e,t){const n=e._writableStreamController;e._state="erroring",e._storedError=t;const r=e._writer;void 0!==r&&Nt(r,t),!function(e){return void 0!==e._inFlightWriteRequest||void 0!==e._inFlightCloseRequest}(e)&&n._started&&Ot(e)}function Ot(e){e._state="errored",e._writableStreamController[_]();const t=e._storedError;if(e._writeRequests.forEach(e=>{e._reject(t)}),e._writeRequests=new v,void 0===e._pendingAbortRequest)return void It(e);const n=e._pendingAbortRequest;if(e._pendingAbortRequest=void 0,n._wasAlreadyErroring)return n._reject(t),void It(e);h(e._writableStreamController[A](n._reason),()=>(n._resolve(),It(e),null),t=>(n._reject(t),It(e),null))}function Tt(e){return void 0!==e._closeRequest||void 0!==e._inFlightCloseRequest}function It(e){void 0!==e._closeRequest&&(e._closeRequest._reject(e._storedError),e._closeRequest=void 0);const t=e._writer;void 0!==t&&en(t,e._storedError)}function Bt(e,t){const n=e._writer;void 0!==n&&t!==e._backpressure&&(t?function(e){nn(e)}(n):an(n)),e._backpressure=t}Object.defineProperties(yt.prototype,{abort:{enumerable:!0},close:{enumerable:!0},getWriter:{enumerable:!0},locked:{enumerable:!0}}),o(yt.prototype.abort,"abort"),o(yt.prototype.close,"close"),o(yt.prototype.getWriter,"getWriter"),"symbol"==typeof Symbol.toStringTag&&Object.defineProperty(yt.prototype,Symbol.toStringTag,{value:"WritableStream",configurable:!0});class Mt{constructor(e){if(L(e,1,"WritableStreamDefaultWriter"),bt(e,"First parameter"),xt(e))throw new TypeError("This stream has already been locked for exclusive writing by another writer");this._ownerWritableStream=e,e._writer=this;const t=e._state;if("writable"===t)!Tt(e)&&e._backpressure?nn(this):on(this),Xt(this);else if("erroring"===t)rn(this,e._storedError),Xt(this);else if("closed"===t)on(this),Xt(this),tn(this);else{const t=e._storedError;rn(this,t),Zt(this,t)}}get closed(){return Pt(this)?this._closedPromise:u(Jt("closed"))}get desiredSize(){if(!Pt(this))throw Jt("desiredSize");if(void 0===this._ownerWritableStream)throw Kt("desiredSize");return function(e){const t=e._ownerWritableStream,n=t._state;return"errored"===n||"erroring"===n?null:"closed"===n?0:Qt(t._writableStreamController)}(this)}get ready(){return Pt(this)?this._readyPromise:u(Jt("ready"))}abort(e=void 0){return Pt(this)?void 0===this._ownerWritableStream?u(Kt("abort")):function(e,t){return St(e._ownerWritableStream,t)}(this,e):u(Jt("abort"))}close(){if(!Pt(this))return u(Jt("close"));const e=this._ownerWritableStream;return void 0===e?u(Kt("close")):Tt(e)?u(new TypeError("Cannot close an already-closing stream")):jt(this)}releaseLock(){if(!Pt(this))throw Jt("releaseLock");void 0!==this._ownerWritableStream&&Ft(this)}write(e=void 0){return Pt(this)?void 0===this._ownerWritableStream?u(Kt("write to")):Dt(this,e):u(Jt("write"))}}function Pt(e){return!!n(e)&&!!Object.prototype.hasOwnProperty.call(e,"_ownerWritableStream")&&e instanceof Mt}function jt(e){return Et(e._ownerWritableStream)}function Nt(e,t){"pending"===e._readyPromiseState?sn(e,t):function(e,t){rn(e,t)}(e,t)}function Ft(e){const t=e._ownerWritableStream,n=new TypeError("Writer was released and can no longer be used to monitor the stream's closedness");Nt(e,n),function(e,t){"pending"===e._closedPromiseState?en(e,t):function(e,t){Zt(e,t)}(e,t)}(e,n),t._writer=void 0,e._ownerWritableStream=void 0}function Dt(e,t){const n=e._ownerWritableStream,r=n._writableStreamController,o=function(e,t){try{return e._strategySizeAlgorithm(t)}catch(t){return Wt(e,t),1}}(r,t);if(n!==e._ownerWritableStream)return u(Kt("write to"));const i=n._state;if("errored"===i)return u(n._storedError);if(Tt(n)||"closed"===i)return u(new TypeError("The stream is closing or closed and cannot be written to"));if("erroring"===i)return u(n._storedError);const s=function(e){return l((t,n)=>{const r={_resolve:t,_reject:n};e._writeRequests.push(r)})}(n);return function(e,t,n){try{ve(e,t,n)}catch(t){return void Wt(e,t)}const r=e._controlledWritableStream;Tt(r)||"writable"!==r._state||Bt(r,$t(e)),qt(e)}(r,t,o),s}Object.defineProperties(Mt.prototype,{abort:{enumerable:!0},close:{enumerable:!0},releaseLock:{enumerable:!0},write:{enumerable:!0},closed:{enumerable:!0},desiredSize:{enumerable:!0},ready:{enumerable:!0}}),o(Mt.prototype.abort,"abort"),o(Mt.prototype.close,"close"),o(Mt.prototype.releaseLock,"releaseLock"),o(Mt.prototype.write,"write"),"symbol"==typeof Symbol.toStringTag&&Object.defineProperty(Mt.prototype,Symbol.toStringTag,{value:"WritableStreamDefaultWriter",configurable:!0});const Rt={};class Lt{constructor(){throw new TypeError("Illegal constructor")}get abortReason(){if(!zt(this))throw Yt("abortReason");return this._abortReason}get signal(){if(!zt(this))throw Yt("signal");if(void 0===this._abortController)throw new TypeError("WritableStreamDefaultController.prototype.signal is not supported");return this._abortController.signal}error(e=void 0){if(!zt(this))throw Yt("error");"writable"===this._controlledWritableStream._state&&Gt(this,e)}[A](e){const t=this._abortAlgorithm(e);return Ut(this),t}[_](){Ae(this)}}function zt(e){return!!n(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledWritableStream")&&e instanceof Lt}function Ht(e,t,n,r,o,i,s,a){t._controlledWritableStream=e,e._writableStreamController=t,t._queue=void 0,t._queueTotalSize=void 0,Ae(t),t._abortReason=void 0,t._abortController=function(){if(wt)return new AbortController}(),t._started=!1,t._strategySizeAlgorithm=a,t._strategyHWM=s,t._writeAlgorithm=r,t._closeAlgorithm=o,t._abortAlgorithm=i;const l=$t(t);Bt(e,l),h(c(n()),()=>(t._started=!0,qt(t),null),n=>(t._started=!0,Ct(e,n),null))}function Ut(e){e._writeAlgorithm=void 0,e._closeAlgorithm=void 0,e._abortAlgorithm=void 0,e._strategySizeAlgorithm=void 0}function Qt(e){return e._strategyHWM-e._queueTotalSize}function qt(e){const t=e._controlledWritableStream;if(!e._started)return;if(void 0!==t._inFlightWriteRequest)return;if("erroring"===t._state)return void Ot(t);if(0===e._queue.length)return;const n=e._queue.peek().value;n===Rt?function(e){const t=e._controlledWritableStream;(function(e){e._inFlightCloseRequest=e._closeRequest,e._closeRequest=void 0})(t),ye(e);const n=e._closeAlgorithm();Ut(e),h(n,()=>(function(e){e._inFlightCloseRequest._resolve(void 0),e._inFlightCloseRequest=void 0,"erroring"===e._state&&(e._storedError=void 0,void 0!==e._pendingAbortRequest&&(e._pendingAbortRequest._resolve(),e._pendingAbortRequest=void 0)),e._state="closed";const t=e._writer;void 0!==t&&tn(t)}(t),null),e=>(function(e,t){e._inFlightCloseRequest._reject(t),e._inFlightCloseRequest=void 0,void 0!==e._pendingAbortRequest&&(e._pendingAbortRequest._reject(t),e._pendingAbortRequest=void 0),Ct(e,t)}(t,e),null))}(e):function(e,t){const n=e._controlledWritableStream;!function(e){e._inFlightWriteRequest=e._writeRequests.shift()}(n);h(e._writeAlgorithm(t),()=>{!function(e){e._inFlightWriteRequest._resolve(void 0),e._inFlightWriteRequest=void 0}(n);const t=n._state;if(ye(e),!Tt(n)&&"writable"===t){const t=$t(e);Bt(n,t)}return qt(e),null},t=>("writable"===n._state&&Ut(e),function(e,t){e._inFlightWriteRequest._reject(t),e._inFlightWriteRequest=void 0,Ct(e,t)}(n,t),null))}(e,n)}function Wt(e,t){"writable"===e._controlledWritableStream._state&&Gt(e,t)}function $t(e){return Qt(e)<=0}function Gt(e,t){const n=e._controlledWritableStream;Ut(e),kt(n,t)}function Vt(e){return new TypeError(`WritableStream.prototype.${e} can only be used on a WritableStream`)}function Yt(e){return new TypeError(`WritableStreamDefaultController.prototype.${e} can only be used on a WritableStreamDefaultController`)}function Jt(e){return new TypeError(`WritableStreamDefaultWriter.prototype.${e} can only be used on a WritableStreamDefaultWriter`)}function Kt(e){return new TypeError("Cannot "+e+" a stream using a released writer")}function Xt(e){e._closedPromise=l((t,n)=>{e._closedPromise_resolve=t,e._closedPromise_reject=n,e._closedPromiseState="pending"})}function Zt(e,t){Xt(e),en(e,t)}function en(e,t){void 0!==e._closedPromise_reject&&(g(e._closedPromise),e._closedPromise_reject(t),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="rejected")}function tn(e){void 0!==e._closedPromise_resolve&&(e._closedPromise_resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="resolved")}function nn(e){e._readyPromise=l((t,n)=>{e._readyPromise_resolve=t,e._readyPromise_reject=n}),e._readyPromiseState="pending"}function rn(e,t){nn(e),sn(e,t)}function on(e){nn(e),an(e)}function sn(e,t){void 0!==e._readyPromise_reject&&(g(e._readyPromise),e._readyPromise_reject(t),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="rejected")}function an(e){void 0!==e._readyPromise_resolve&&(e._readyPromise_resolve(void 0),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="fulfilled")}Object.defineProperties(Lt.prototype,{abortReason:{enumerable:!0},signal:{enumerable:!0},error:{enumerable:!0}}),"symbol"==typeof Symbol.toStringTag&&Object.defineProperty(Lt.prototype,Symbol.toStringTag,{value:"WritableStreamDefaultController",configurable:!0});const ln="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof global?global:void 0,cn=function(){const e=null==ln?void 0:ln.DOMException;return function(e){if("function"!=typeof e&&"object"!=typeof e)return!1;if("DOMException"!==e.name)return!1;try{return new e,!0}catch(e){return!1}}(e)?e:void 0}()||function(){const e=function(e,t){this.message=e||"",this.name=t||"Error",Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)};return o(e,"DOMException"),e.prototype=Object.create(Error.prototype),Object.defineProperty(e.prototype,"constructor",{value:e,writable:!0,configurable:!0}),e}();function un(e,n,r,o,i,s){const a=W(e),m=vt(n);e._disturbed=!0;let b=!1,w=c(void 0);return l((y,v)=>{let A;if(void 0!==s){if(A=()=>{const t=void 0!==s.reason?s.reason:new cn("Aborted","AbortError"),r=[];o||r.push(()=>"writable"===n._state?St(n,t):c(void 0)),i||r.push(()=>"readable"===e._state?Nn(e,t):c(void 0)),k(()=>Promise.all(r.map(e=>e())),!0,t)},s.aborted)return void A();s.addEventListener("abort",A)}var _,x,S;if(C(e,a._closedPromise,e=>(o?T(!0,e):k(()=>St(n,e),!0,e),null)),C(n,m._closedPromise,t=>(i?T(!0,t):k(()=>Nn(e,t),!0,t),null)),_=e,x=a._closedPromise,S=()=>(r?T():k(()=>function(e){const t=e._ownerWritableStream,n=t._state;return Tt(t)||"closed"===n?c(void 0):"errored"===n?u(t._storedError):jt(e)}(m)),null),"closed"===_._state?S():p(x,S),Tt(n)||"closed"===n._state){const t=new TypeError("the destination writable stream closed before all data could be piped to it");i?T(!0,t):k(()=>Nn(e,t),!0,t)}function E(){const e=w;return d(w,()=>e!==w?E():void 0)}function C(e,t,n){"errored"===e._state?n(e._storedError):f(t,n)}function k(e,t,r){function o(){return h(e(),()=>I(t,r),e=>I(!0,e)),null}b||(b=!0,"writable"!==n._state||Tt(n)?o():p(E(),o))}function T(e,t){b||(b=!0,"writable"!==n._state||Tt(n)?I(e,t):p(E(),()=>I(e,t)))}function I(e,t){return Ft(m),O(a),void 0!==s&&s.removeEventListener("abort",A),e?v(t):y(void 0),null}g(l((e,n)=>{!function r(o){o?e():d(b?c(!0):d(m._readyPromise,()=>l((e,n)=>{X(a,{_chunkSteps:n=>{w=d(Dt(m,n),void 0,t),e(!1)},_closeSteps:()=>e(!0),_errorSteps:n})})),r,n)}(!1)}))})}class dn{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!hn(this))throw _n("desiredSize");return yn(this)}close(){if(!hn(this))throw _n("close");if(!vn(this))throw new TypeError("The stream is not in a state that permits close");gn(this)}enqueue(e=void 0){if(!hn(this))throw _n("enqueue");if(!vn(this))throw new TypeError("The stream is not in a state that permits enqueue");return bn(this,e)}error(e=void 0){if(!hn(this))throw _n("error");wn(this,e)}[x](e){Ae(this);const t=this._cancelAlgorithm(e);return mn(this),t}[S](e){const t=this._controlledReadableStream;if(this._queue.length>0){const n=ye(this);this._closeRequested&&0===this._queue.length?(mn(this),Fn(t)):pn(this),e._chunkSteps(n)}else $(t,e),pn(this)}[E](){}}function hn(e){return!!n(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledReadableStream")&&e instanceof dn}function pn(e){fn(e)&&(e._pulling?e._pullAgain=!0:(e._pulling=!0,h(e._pullAlgorithm(),()=>(e._pulling=!1,e._pullAgain&&(e._pullAgain=!1,pn(e)),null),t=>(wn(e,t),null))))}function fn(e){const t=e._controlledReadableStream;return!!vn(e)&&!!e._started&&(!!(jn(t)&&V(t)>0)||yn(e)>0)}function mn(e){e._pullAlgorithm=void 0,e._cancelAlgorithm=void 0,e._strategySizeAlgorithm=void 0}function gn(e){if(!vn(e))return;const t=e._controlledReadableStream;e._closeRequested=!0,0===e._queue.length&&(mn(e),Fn(t))}function bn(e,t){if(!vn(e))return;const n=e._controlledReadableStream;if(jn(n)&&V(n)>0)G(n,t,!1);else{let n;try{n=e._strategySizeAlgorithm(t)}catch(t){throw wn(e,t),t}try{ve(e,t,n)}catch(t){throw wn(e,t),t}}pn(e)}function wn(e,t){const n=e._controlledReadableStream;"readable"===n._state&&(Ae(e),mn(e),Dn(n,t))}function yn(e){const t=e._controlledReadableStream._state;return"errored"===t?null:"closed"===t?0:e._strategyHWM-e._queueTotalSize}function vn(e){const t=e._controlledReadableStream._state;return!e._closeRequested&&"readable"===t}function An(e,t,n,r,o,i,s){t._controlledReadableStream=e,t._queue=void 0,t._queueTotalSize=void 0,Ae(t),t._started=!1,t._closeRequested=!1,t._pullAgain=!1,t._pulling=!1,t._strategySizeAlgorithm=s,t._strategyHWM=i,t._pullAlgorithm=r,t._cancelAlgorithm=o,e._readableStreamController=t,h(c(n()),()=>(t._started=!0,pn(t),null),e=>(wn(t,e),null))}function _n(e){return new TypeError(`ReadableStreamDefaultController.prototype.${e} can only be used on a ReadableStreamDefaultController`)}function xn(e){return n(r=e)&&void 0!==r.getReader?function(e){let r;return r=In(t,function(){let t;try{t=e.read()}catch(e){return u(e)}return m(t,e=>{if(!n(e))throw new TypeError("The promise returned by the reader.read() method must fulfill with an object");if(e.done)gn(r._readableStreamController);else{const t=e.value;bn(r._readableStreamController,t)}})},function(t){try{return c(e.cancel(t))}catch(e){return u(e)}},0),r}(e.getReader()):function(e){let r;const o=be(e,"async");return r=In(t,function(){let e;try{e=function(e){const t=w(e.nextMethod,e.iterator,[]);if(!n(t))throw new TypeError("The iterator.next() method must return an object");return t}(o)}catch(e){return u(e)}return m(c(e),e=>{if(!n(e))throw new TypeError("The promise returned by the iterator.next() method must fulfill with an object");const t=function(e){return Boolean(e.done)}(e);if(t)gn(r._readableStreamController);else{const t=function(e){return e.value}(e);bn(r._readableStreamController,t)}})},function(e){const t=o.iterator;let r,i;try{r=me(t,"return")}catch(e){return u(e)}if(void 0===r)return c(void 0);try{i=w(r,t,[e])}catch(e){return u(e)}return m(c(i),e=>{if(!n(e))throw new TypeError("The promise returned by the iterator.return() method must fulfill with an object")})},0),r}(e);var r}function Sn(e,t,n){return D(e,n),n=>y(e,t,[n])}function En(e,t,n){return D(e,n),n=>y(e,t,[n])}function Cn(e,t,n){return D(e,n),n=>w(e,t,[n])}function kn(e,t){if("bytes"!=(e=`${e}`))throw new TypeError(`${t} '${e}' is not a valid enumeration value for ReadableStreamType`);return e}function On(e,t){F(e,t);const n=null==e?void 0:e.preventAbort,r=null==e?void 0:e.preventCancel,o=null==e?void 0:e.preventClose,i=null==e?void 0:e.signal;return void 0!==i&&function(e,t){if(!function(e){if("object"!=typeof e||null===e)return!1;try{return"boolean"==typeof e.aborted}catch(e){return!1}}(e))throw new TypeError(`${t} is not an AbortSignal.`)}(i,`${t} has member 'signal' that`),{preventAbort:Boolean(n),preventCancel:Boolean(r),preventClose:Boolean(o),signal:i}}Object.defineProperties(dn.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},desiredSize:{enumerable:!0}}),o(dn.prototype.close,"close"),o(dn.prototype.enqueue,"enqueue"),o(dn.prototype.error,"error"),"symbol"==typeof Symbol.toStringTag&&Object.defineProperty(dn.prototype,Symbol.toStringTag,{value:"ReadableStreamDefaultController",configurable:!0});class Tn{constructor(e={},t={}){void 0===e?e=null:R(e,"First parameter");const n=dt(t,"Second parameter"),r=function(e,t){F(e,t);const n=e,r=null==n?void 0:n.autoAllocateChunkSize,o=null==n?void 0:n.cancel,i=null==n?void 0:n.pull,s=null==n?void 0:n.start,a=null==n?void 0:n.type;return{autoAllocateChunkSize:void 0===r?void 0:Q(r,`${t} has member 'autoAllocateChunkSize' that`),cancel:void 0===o?void 0:Sn(o,n,`${t} has member 'cancel' that`),pull:void 0===i?void 0:En(i,n,`${t} has member 'pull' that`),start:void 0===s?void 0:Cn(s,n,`${t} has member 'start' that`),type:void 0===a?void 0:kn(a,`${t} has member 'type' that`)}}(e,"First parameter");if(Mn(this),"bytes"===r.type){if(void 0!==n.size)throw new RangeError("The strategy for a byte stream cannot have a size function");!function(e,t,n){const r=Object.create(Se.prototype);let o,i,s;o=void 0!==t.start?()=>t.start(r):()=>{},i=void 0!==t.pull?()=>t.pull(r):()=>c(void 0),s=void 0!==t.cancel?e=>t.cancel(e):()=>c(void 0);const a=t.autoAllocateChunkSize;if(0===a)throw new TypeError("autoAllocateChunkSize must be greater than 0");Je(e,r,o,i,s,n,a)}(this,r,ct(n,0))}else{const e=ut(n);!function(e,t,n,r){const o=Object.create(dn.prototype);let i,s,a;i=void 0!==t.start?()=>t.start(o):()=>{},s=void 0!==t.pull?()=>t.pull(o):()=>c(void 0),a=void 0!==t.cancel?e=>t.cancel(e):()=>c(void 0),An(e,o,i,s,a,n,r)}(this,r,ct(n,1),e)}}get locked(){if(!Pn(this))throw Rn("locked");return jn(this)}cancel(e=void 0){return Pn(this)?jn(this)?u(new TypeError("Cannot cancel a stream that already has a reader")):Nn(this,e):u(Rn("cancel"))}getReader(e=void 0){if(!Pn(this))throw Rn("getReader");return void 0===function(e,t){F(e,t);const n=null==e?void 0:e.mode;return{mode:void 0===n?void 0:Ze(n,`${t} has member 'mode' that`)}}(e,"First parameter").mode?W(this):et(this)}pipeThrough(e,t={}){if(!Pn(this))throw Rn("pipeThrough");L(e,1,"pipeThrough");const n=function(e,t){F(e,t);const n=null==e?void 0:e.readable;z(n,"readable","ReadableWritablePair"),q(n,`${t} has member 'readable' that`);const r=null==e?void 0:e.writable;return z(r,"writable","ReadableWritablePair"),bt(r,`${t} has member 'writable' that`),{readable:n,writable:r}}(e,"First parameter"),r=On(t,"Second parameter");if(jn(this))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(xt(n.writable))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");return g(un(this,n.writable,r.preventClose,r.preventAbort,r.preventCancel,r.signal)),n.readable}pipeTo(e,t={}){if(!Pn(this))return u(Rn("pipeTo"));if(void 0===e)return u("Parameter 1 is required in 'pipeTo'.");if(!_t(e))return u(new TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));let n;try{n=On(t,"Second parameter")}catch(e){return u(e)}return jn(this)?u(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):xt(e)?u(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):un(this,e,n.preventClose,n.preventAbort,n.preventCancel,n.signal)}tee(){if(!Pn(this))throw Rn("tee");return ue(Ee((e=this)._readableStreamController)?function(e){let t,n,r,o,i,s=W(e),a=!1,u=!1,d=!1,h=!1,p=!1;const m=l(e=>{i=e});function g(e){f(e._closedPromise,t=>(e!==s||(qe(r._readableStreamController,t),qe(o._readableStreamController,t),h&&p||i(void 0)),null))}function w(){it(s)&&(O(s),s=W(e),g(s)),X(s,{_chunkSteps:t=>{b(()=>{u=!1,d=!1;const n=t;let s=t;if(!h&&!p)try{s=we(t)}catch(t){return qe(r._readableStreamController,t),qe(o._readableStreamController,t),void i(Nn(e,t))}h||Qe(r._readableStreamController,n),p||Qe(o._readableStreamController,s),a=!1,u?v():d&&A()})},_closeSteps:()=>{a=!1,h||Ue(r._readableStreamController),p||Ue(o._readableStreamController),r._readableStreamController._pendingPullIntos.length>0&&Ve(r._readableStreamController,0),o._readableStreamController._pendingPullIntos.length>0&&Ve(o._readableStreamController,0),h&&p||i(void 0)},_errorSteps:()=>{a=!1}})}function y(t,n){K(s)&&(O(s),s=et(e),g(s));const l=n?o:r,c=n?r:o;st(s,t,1,{_chunkSteps:t=>{b(()=>{u=!1,d=!1;const r=n?p:h;if(n?h:p)r||Ye(l._readableStreamController,t);else{let n;try{n=we(t)}catch(t){return qe(l._readableStreamController,t),qe(c._readableStreamController,t),void i(Nn(e,t))}r||Ye(l._readableStreamController,t),Qe(c._readableStreamController,n)}a=!1,u?v():d&&A()})},_closeSteps:e=>{a=!1;const t=n?p:h,r=n?h:p;t||Ue(l._readableStreamController),r||Ue(c._readableStreamController),void 0!==e&&(t||Ye(l._readableStreamController,e),!r&&c._readableStreamController._pendingPullIntos.length>0&&Ve(c._readableStreamController,0)),t&&r||i(void 0)},_errorSteps:()=>{a=!1}})}function v(){if(a)return u=!0,c(void 0);a=!0;const e=$e(r._readableStreamController);return null===e?w():y(e._view,!1),c(void 0)}function A(){if(a)return d=!0,c(void 0);a=!0;const e=$e(o._readableStreamController);return null===e?w():y(e._view,!0),c(void 0)}function _(){}return r=Bn(_,v,function(r){if(h=!0,t=r,p){const r=ue([t,n]),o=Nn(e,r);i(o)}return m}),o=Bn(_,A,function(r){if(p=!0,n=r,h){const r=ue([t,n]),o=Nn(e,r);i(o)}return m}),g(s),[r,o]}(e):function(e){const t=W(e);let n,r,o,i,s,a=!1,u=!1,d=!1,h=!1;const p=l(e=>{s=e});function m(){return a?(u=!0,c(void 0)):(a=!0,X(t,{_chunkSteps:e=>{b(()=>{u=!1;const t=e,n=e;d||bn(o._readableStreamController,t),h||bn(i._readableStreamController,n),a=!1,u&&m()})},_closeSteps:()=>{a=!1,d||gn(o._readableStreamController),h||gn(i._readableStreamController),d&&h||s(void 0)},_errorSteps:()=>{a=!1}}),c(void 0))}function g(){}return o=In(g,m,function(t){if(d=!0,n=t,h){const t=ue([n,r]),o=Nn(e,t);s(o)}return p}),i=In(g,m,function(t){if(h=!0,r=t,d){const t=ue([n,r]),o=Nn(e,t);s(o)}return p}),f(t._closedPromise,e=>(wn(o._readableStreamController,e),wn(i._readableStreamController,e),d&&h||s(void 0),null)),[o,i]}(e));var e}values(e=void 0){if(!Pn(this))throw Rn("values");return function(e,t){const n=W(e),r=new ne(n,t),o=Object.create(re);return o._asyncIteratorImpl=r,o}(this,function(e){F(e,"First parameter");const t=null==e?void 0:e.preventCancel;return{preventCancel:Boolean(t)}}(e).preventCancel)}[ge](e){return this.values(e)}static from(e){return xn(e)}}function In(e,t,n,r=1,o=()=>1){const i=Object.create(Tn.prototype);return Mn(i),An(i,Object.create(dn.prototype),e,t,n,r,o),i}function Bn(e,t,n){const r=Object.create(Tn.prototype);return Mn(r),Je(r,Object.create(Se.prototype),e,t,n,0,void 0),r}function Mn(e){e._state="readable",e._reader=void 0,e._storedError=void 0,e._disturbed=!1}function Pn(e){return!!n(e)&&!!Object.prototype.hasOwnProperty.call(e,"_readableStreamController")&&e instanceof Tn}function jn(e){return void 0!==e._reader}function Nn(e,n){if(e._disturbed=!0,"closed"===e._state)return c(void 0);if("errored"===e._state)return u(e._storedError);Fn(e);const r=e._reader;if(void 0!==r&&it(r)){const e=r._readIntoRequests;r._readIntoRequests=new v,e.forEach(e=>{e._closeSteps(void 0)})}return m(e._readableStreamController[x](n),t)}function Fn(e){e._state="closed";const t=e._reader;if(void 0!==t&&(P(t),K(t))){const e=t._readRequests;t._readRequests=new v,e.forEach(e=>{e._closeSteps()})}}function Dn(e,t){e._state="errored",e._storedError=t;const n=e._reader;void 0!==n&&(M(n,t),K(n)?Z(n,t):at(n,t))}function Rn(e){return new TypeError(`ReadableStream.prototype.${e} can only be used on a ReadableStream`)}function Ln(e,t){F(e,t);const n=null==e?void 0:e.highWaterMark;return z(n,"highWaterMark","QueuingStrategyInit"),{highWaterMark:H(n)}}Object.defineProperties(Tn,{from:{enumerable:!0}}),Object.defineProperties(Tn.prototype,{cancel:{enumerable:!0},getReader:{enumerable:!0},pipeThrough:{enumerable:!0},pipeTo:{enumerable:!0},tee:{enumerable:!0},values:{enumerable:!0},locked:{enumerable:!0}}),o(Tn.from,"from"),o(Tn.prototype.cancel,"cancel"),o(Tn.prototype.getReader,"getReader"),o(Tn.prototype.pipeThrough,"pipeThrough"),o(Tn.prototype.pipeTo,"pipeTo"),o(Tn.prototype.tee,"tee"),o(Tn.prototype.values,"values"),"symbol"==typeof Symbol.toStringTag&&Object.defineProperty(Tn.prototype,Symbol.toStringTag,{value:"ReadableStream",configurable:!0}),Object.defineProperty(Tn.prototype,ge,{value:Tn.prototype.values,writable:!0,configurable:!0});const zn=e=>e.byteLength;o(zn,"size");class Hn{constructor(e){L(e,1,"ByteLengthQueuingStrategy"),e=Ln(e,"First parameter"),this._byteLengthQueuingStrategyHighWaterMark=e.highWaterMark}get highWaterMark(){if(!Qn(this))throw Un("highWaterMark");return this._byteLengthQueuingStrategyHighWaterMark}get size(){if(!Qn(this))throw Un("size");return zn}}function Un(e){return new TypeError(`ByteLengthQueuingStrategy.prototype.${e} can only be used on a ByteLengthQueuingStrategy`)}function Qn(e){return!!n(e)&&!!Object.prototype.hasOwnProperty.call(e,"_byteLengthQueuingStrategyHighWaterMark")&&e instanceof Hn}Object.defineProperties(Hn.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),"symbol"==typeof Symbol.toStringTag&&Object.defineProperty(Hn.prototype,Symbol.toStringTag,{value:"ByteLengthQueuingStrategy",configurable:!0});const qn=()=>1;o(qn,"size");class Wn{constructor(e){L(e,1,"CountQueuingStrategy"),e=Ln(e,"First parameter"),this._countQueuingStrategyHighWaterMark=e.highWaterMark}get highWaterMark(){if(!Gn(this))throw $n("highWaterMark");return this._countQueuingStrategyHighWaterMark}get size(){if(!Gn(this))throw $n("size");return qn}}function $n(e){return new TypeError(`CountQueuingStrategy.prototype.${e} can only be used on a CountQueuingStrategy`)}function Gn(e){return!!n(e)&&!!Object.prototype.hasOwnProperty.call(e,"_countQueuingStrategyHighWaterMark")&&e instanceof Wn}function Vn(e,t,n){return D(e,n),n=>y(e,t,[n])}function Yn(e,t,n){return D(e,n),n=>w(e,t,[n])}function Jn(e,t,n){return D(e,n),(n,r)=>y(e,t,[n,r])}function Kn(e,t,n){return D(e,n),n=>y(e,t,[n])}Object.defineProperties(Wn.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),"symbol"==typeof Symbol.toStringTag&&Object.defineProperty(Wn.prototype,Symbol.toStringTag,{value:"CountQueuingStrategy",configurable:!0});class Xn{constructor(e={},t={},n={}){void 0===e&&(e=null);const r=dt(t,"Second parameter"),o=dt(n,"Third parameter"),i=function(e,t){F(e,t);const n=null==e?void 0:e.cancel,r=null==e?void 0:e.flush,o=null==e?void 0:e.readableType,i=null==e?void 0:e.start,s=null==e?void 0:e.transform,a=null==e?void 0:e.writableType;return{cancel:void 0===n?void 0:Kn(n,e,`${t} has member 'cancel' that`),flush:void 0===r?void 0:Vn(r,e,`${t} has member 'flush' that`),readableType:o,start:void 0===i?void 0:Yn(i,e,`${t} has member 'start' that`),transform:void 0===s?void 0:Jn(s,e,`${t} has member 'transform' that`),writableType:a}}(e,"First parameter");if(void 0!==i.readableType)throw new RangeError("Invalid readableType specified");if(void 0!==i.writableType)throw new RangeError("Invalid writableType specified");const s=ct(o,0),a=ut(o),d=ct(r,1),p=ut(r);let f;!function(e,t,n,r,o,i){function s(){return t}e._writable=function(e,t,n,r,o=1,i=()=>1){const s=Object.create(yt.prototype);return At(s),Ht(s,Object.create(Lt.prototype),e,t,n,r,o,i),s}(s,function(t){return function(e,t){const n=e._transformStreamController;return e._backpressure?m(e._backpressureChangePromise,()=>{const r=e._writable;if("erroring"===r._state)throw r._storedError;return lr(n,t)}):lr(n,t)}(e,t)},function(){return function(e){const t=e._transformStreamController;if(void 0!==t._finishPromise)return t._finishPromise;const n=e._readable;t._finishPromise=l((e,n)=>{t._finishPromise_resolve=e,t._finishPromise_reject=n});const r=t._flushAlgorithm();return sr(t),h(r,()=>("errored"===n._state?dr(t,n._storedError):(gn(n._readableStreamController),ur(t)),null),e=>(wn(n._readableStreamController,e),dr(t,e),null)),t._finishPromise}(e)},function(t){return function(e,t){const n=e._transformStreamController;if(void 0!==n._finishPromise)return n._finishPromise;const r=e._readable;n._finishPromise=l((e,t)=>{n._finishPromise_resolve=e,n._finishPromise_reject=t});const o=n._cancelAlgorithm(t);return sr(n),h(o,()=>("errored"===r._state?dr(n,r._storedError):(wn(r._readableStreamController,t),ur(n)),null),e=>(wn(r._readableStreamController,e),dr(n,e),null)),n._finishPromise}(e,t)},n,r),e._readable=In(s,function(){return function(e){return rr(e,!1),e._backpressureChangePromise}(e)},function(t){return function(e,t){const n=e._transformStreamController;if(void 0!==n._finishPromise)return n._finishPromise;const r=e._writable;n._finishPromise=l((e,t)=>{n._finishPromise_resolve=e,n._finishPromise_reject=t});const o=n._cancelAlgorithm(t);return sr(n),h(o,()=>("errored"===r._state?dr(n,r._storedError):(Wt(r._writableStreamController,t),nr(e),ur(n)),null),t=>(Wt(r._writableStreamController,t),nr(e),dr(n,t),null)),n._finishPromise}(e,t)},o,i),e._backpressure=void 0,e._backpressureChangePromise=void 0,e._backpressureChangePromise_resolve=void 0,rr(e,!0),e._transformStreamController=void 0}(this,l(e=>{f=e}),d,p,s,a),function(e,t){const n=Object.create(or.prototype);let r,o,i;r=void 0!==t.transform?e=>t.transform(e,n):e=>{try{return ar(n,e),c(void 0)}catch(e){return u(e)}},o=void 0!==t.flush?()=>t.flush(n):()=>c(void 0),i=void 0!==t.cancel?e=>t.cancel(e):()=>c(void 0),function(e,t,n,r,o){t._controlledTransformStream=e,e._transformStreamController=t,t._transformAlgorithm=n,t._flushAlgorithm=r,t._cancelAlgorithm=o,t._finishPromise=void 0,t._finishPromise_resolve=void 0,t._finishPromise_reject=void 0}(e,n,r,o,i)}(this,i),void 0!==i.start?f(i.start(this._transformStreamController)):f(void 0)}get readable(){if(!Zn(this))throw hr("readable");return this._readable}get writable(){if(!Zn(this))throw hr("writable");return this._writable}}function Zn(e){return!!n(e)&&!!Object.prototype.hasOwnProperty.call(e,"_transformStreamController")&&e instanceof Xn}function er(e,t){wn(e._readable._readableStreamController,t),tr(e,t)}function tr(e,t){sr(e._transformStreamController),Wt(e._writable._writableStreamController,t),nr(e)}function nr(e){e._backpressure&&rr(e,!1)}function rr(e,t){void 0!==e._backpressureChangePromise&&e._backpressureChangePromise_resolve(),e._backpressureChangePromise=l(t=>{e._backpressureChangePromise_resolve=t}),e._backpressure=t}Object.defineProperties(Xn.prototype,{readable:{enumerable:!0},writable:{enumerable:!0}}),"symbol"==typeof Symbol.toStringTag&&Object.defineProperty(Xn.prototype,Symbol.toStringTag,{value:"TransformStream",configurable:!0});class or{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!ir(this))throw cr("desiredSize");return yn(this._controlledTransformStream._readable._readableStreamController)}enqueue(e=void 0){if(!ir(this))throw cr("enqueue");ar(this,e)}error(e=void 0){if(!ir(this))throw cr("error");var t;t=e,er(this._controlledTransformStream,t)}terminate(){if(!ir(this))throw cr("terminate");!function(e){const t=e._controlledTransformStream;gn(t._readable._readableStreamController);tr(t,new TypeError("TransformStream terminated"))}(this)}}function ir(e){return!!n(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledTransformStream")&&e instanceof or}function sr(e){e._transformAlgorithm=void 0,e._flushAlgorithm=void 0,e._cancelAlgorithm=void 0}function ar(e,t){const n=e._controlledTransformStream,r=n._readable._readableStreamController;if(!vn(r))throw new TypeError("Readable side is not in a state that permits enqueue");try{bn(r,t)}catch(e){throw tr(n,e),n._readable._storedError}const o=function(e){return!fn(e)}(r);o!==n._backpressure&&rr(n,!0)}function lr(e,t){return m(e._transformAlgorithm(t),void 0,t=>{throw er(e._controlledTransformStream,t),t})}function cr(e){return new TypeError(`TransformStreamDefaultController.prototype.${e} can only be used on a TransformStreamDefaultController`)}function ur(e){void 0!==e._finishPromise_resolve&&(e._finishPromise_resolve(),e._finishPromise_resolve=void 0,e._finishPromise_reject=void 0)}function dr(e,t){void 0!==e._finishPromise_reject&&(g(e._finishPromise),e._finishPromise_reject(t),e._finishPromise_resolve=void 0,e._finishPromise_reject=void 0)}function hr(e){return new TypeError(`TransformStream.prototype.${e} can only be used on a TransformStream`)}Object.defineProperties(or.prototype,{enqueue:{enumerable:!0},error:{enumerable:!0},terminate:{enumerable:!0},desiredSize:{enumerable:!0}}),o(or.prototype.enqueue,"enqueue"),o(or.prototype.error,"error"),o(or.prototype.terminate,"terminate"),"symbol"==typeof Symbol.toStringTag&&Object.defineProperty(or.prototype,Symbol.toStringTag,{value:"TransformStreamDefaultController",configurable:!0}),e.ByteLengthQueuingStrategy=Hn,e.CountQueuingStrategy=Wn,e.ReadableByteStreamController=Se,e.ReadableStream=Tn,e.ReadableStreamBYOBReader=ot,e.ReadableStreamBYOBRequest=xe,e.ReadableStreamDefaultController=dn,e.ReadableStreamDefaultReader=J,e.TransformStream=Xn,e.TransformStreamDefaultController=or,e.WritableStream=yt,e.WritableStreamDefaultController=Lt,e.WritableStreamDefaultWriter=Mt},n(t)},"./node_modules/zod-to-json-schema/dist/esm/index.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{addErrorMessage:()=>l,default:()=>ie,defaultOptions:()=>i,getDefaultOptions:()=>s,getRefs:()=>a,getRelativePath:()=>u,ignoreOverride:()=>r,jsonDescription:()=>o,parseAnyDef:()=>h,parseArrayDef:()=>p,parseBigintDef:()=>f,parseBooleanDef:()=>m,parseBrandedDef:()=>g,parseCatchDef:()=>b,parseDateDef:()=>w,parseDef:()=>te,parseDefaultDef:()=>v,parseEffectsDef:()=>A,parseEnumDef:()=>_,parseIntersectionDef:()=>S,parseLiteralDef:()=>E,parseMapDef:()=>N,parseNativeEnumDef:()=>F,parseNeverDef:()=>D,parseNullDef:()=>R,parseNullableDef:()=>U,parseNumberDef:()=>Q,parseObjectDef:()=>q,parseOptionalDef:()=>$,parsePipelineDef:()=>G,parsePromiseDef:()=>V,parseReadonlyDef:()=>Z,parseRecordDef:()=>j,parseSetDef:()=>Y,parseStringDef:()=>O,parseTupleDef:()=>J,parseUndefinedDef:()=>K,parseUnionDef:()=>z,parseUnknownDef:()=>X,primitiveMappings:()=>L,selectParser:()=>ee,setResponseValueAndErrors:()=>c,zodPatterns:()=>k,zodToJsonSchema:()=>oe});const r=Symbol("Let zodToJsonSchema decide on which parser to use"),o=(e,t)=>{if(t.description)try{return{...e,...JSON.parse(t.description)}}catch{}return e},i={name:void 0,$refStrategy:"root",basePath:["#"],effectStrategy:"input",pipeStrategy:"all",dateStrategy:"format:date-time",mapStrategy:"entries",removeAdditionalStrategy:"passthrough",allowedAdditionalProperties:!0,rejectedAdditionalProperties:!1,definitionPath:"definitions",target:"jsonSchema7",strictUnions:!1,definitions:{},errorMessages:!1,markdownDescription:!1,patternStrategy:"escape",applyRegexFlags:!1,emailStrategy:"format:email",base64Strategy:"contentEncoding:base64",nameStrategy:"ref",openAiAnyTypeName:"OpenAiAnyType"},s=e=>"string"==typeof e?{...i,name:e}:{...i,...e},a=e=>{const t=s(e),n=void 0!==t.name?[...t.basePath,t.definitionPath,t.name]:t.basePath;return{...t,flags:{hasReferencedOpenAiAnyType:!1},currentPath:n,propertyPath:void 0,seen:new Map(Object.entries(t.definitions).map(([e,n])=>[n._def,{def:n._def,path:[...t.basePath,t.definitionPath,e],jsonSchema:void 0}]))}};function l(e,t,n,r){r?.errorMessages&&n&&(e.errorMessage={...e.errorMessage,[t]:n})}function c(e,t,n,r,o){e[t]=n,l(e,t,r,o)}const u=(e,t)=>{let n=0;for(;n<e.length&&n<t.length&&e[n]===t[n];n++);return[(e.length-n).toString(),...t.slice(n)].join("/")};var d=n("./node_modules/zod/v3/types.js");function h(e){if("openAi"!==e.target)return{};const t=[...e.basePath,e.definitionPath,e.openAiAnyTypeName];return e.flags.hasReferencedOpenAiAnyType=!0,{$ref:"relative"===e.$refStrategy?u(t,e.currentPath):t.join("/")}}function p(e,t){const n={type:"array"};return e.type?._def&&e.type?._def?.typeName!==d.kY.ZodAny&&(n.items=te(e.type._def,{...t,currentPath:[...t.currentPath,"items"]})),e.minLength&&c(n,"minItems",e.minLength.value,e.minLength.message,t),e.maxLength&&c(n,"maxItems",e.maxLength.value,e.maxLength.message,t),e.exactLength&&(c(n,"minItems",e.exactLength.value,e.exactLength.message,t),c(n,"maxItems",e.exactLength.value,e.exactLength.message,t)),n}function f(e,t){const n={type:"integer",format:"int64"};if(!e.checks)return n;for(const r of e.checks)switch(r.kind){case"min":"jsonSchema7"===t.target?r.inclusive?c(n,"minimum",r.value,r.message,t):c(n,"exclusiveMinimum",r.value,r.message,t):(r.inclusive||(n.exclusiveMinimum=!0),c(n,"minimum",r.value,r.message,t));break;case"max":"jsonSchema7"===t.target?r.inclusive?c(n,"maximum",r.value,r.message,t):c(n,"exclusiveMaximum",r.value,r.message,t):(r.inclusive||(n.exclusiveMaximum=!0),c(n,"maximum",r.value,r.message,t));break;case"multipleOf":c(n,"multipleOf",r.value,r.message,t)}return n}function m(){return{type:"boolean"}}function g(e,t){return te(e.type._def,t)}const b=(e,t)=>te(e.innerType._def,t);function w(e,t,n){const r=n??t.dateStrategy;if(Array.isArray(r))return{anyOf:r.map((n,r)=>w(e,t,n))};switch(r){case"string":case"format:date-time":return{type:"string",format:"date-time"};case"format:date":return{type:"string",format:"date"};case"integer":return y(e,t)}}const y=(e,t)=>{const n={type:"integer",format:"unix-time"};if("openApi3"===t.target)return n;for(const r of e.checks)switch(r.kind){case"min":c(n,"minimum",r.value,r.message,t);break;case"max":c(n,"maximum",r.value,r.message,t)}return n};function v(e,t){return{...te(e.innerType._def,t),default:e.defaultValue()}}function A(e,t){return"input"===t.effectStrategy?te(e.schema._def,t):h(t)}function _(e){return{type:"string",enum:Array.from(e.values)}}const x=e=>(!("type"in e)||"string"!==e.type)&&"allOf"in e;function S(e,t){const n=[te(e.left._def,{...t,currentPath:[...t.currentPath,"allOf","0"]}),te(e.right._def,{...t,currentPath:[...t.currentPath,"allOf","1"]})].filter(e=>!!e);let r="jsonSchema2019-09"===t.target?{unevaluatedProperties:!1}:void 0;const o=[];return n.forEach(e=>{if(x(e))o.push(...e.allOf),void 0===e.unevaluatedProperties&&(r=void 0);else{let t=e;if("additionalProperties"in e&&!1===e.additionalProperties){const{additionalProperties:n,...r}=e;t=r}else r=void 0;o.push(t)}}),o.length?{allOf:o,...r}:void 0}function E(e,t){const n=typeof e.value;return"bigint"!==n&&"number"!==n&&"boolean"!==n&&"string"!==n?{type:Array.isArray(e.value)?"array":"object"}:"openApi3"===t.target?{type:"bigint"===n?"integer":n,enum:[e.value]}:{type:"bigint"===n?"integer":n,const:e.value}}let C;const k={cuid:/^[cC][^\s-]{8,}$/,cuid2:/^[0-9a-z]+$/,ulid:/^[0-9A-HJKMNP-TV-Z]{26}$/,email:/^(?!\.)(?!.*\.\.)([a-zA-Z0-9_'+\-\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\-]*\.)+[a-zA-Z]{2,}$/,emoji:()=>(void 0===C&&(C=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),C),uuid:/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/,ipv4:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ipv4Cidr:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,ipv6:/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,ipv6Cidr:/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,base64:/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,base64url:/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,nanoid:/^[a-zA-Z0-9_-]{21}$/,jwt:/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/};function O(e,t){const n={type:"string"};if(e.checks)for(const r of e.checks)switch(r.kind){case"min":c(n,"minLength","number"==typeof n.minLength?Math.max(n.minLength,r.value):r.value,r.message,t);break;case"max":c(n,"maxLength","number"==typeof n.maxLength?Math.min(n.maxLength,r.value):r.value,r.message,t);break;case"email":switch(t.emailStrategy){case"format:email":B(n,"email",r.message,t);break;case"format:idn-email":B(n,"idn-email",r.message,t);break;case"pattern:zod":M(n,k.email,r.message,t)}break;case"url":B(n,"uri",r.message,t);break;case"uuid":B(n,"uuid",r.message,t);break;case"regex":M(n,r.regex,r.message,t);break;case"cuid":M(n,k.cuid,r.message,t);break;case"cuid2":M(n,k.cuid2,r.message,t);break;case"startsWith":M(n,RegExp(`^${T(r.value,t)}`),r.message,t);break;case"endsWith":M(n,RegExp(`${T(r.value,t)}$`),r.message,t);break;case"datetime":B(n,"date-time",r.message,t);break;case"date":B(n,"date",r.message,t);break;case"time":B(n,"time",r.message,t);break;case"duration":B(n,"duration",r.message,t);break;case"length":c(n,"minLength","number"==typeof n.minLength?Math.max(n.minLength,r.value):r.value,r.message,t),c(n,"maxLength","number"==typeof n.maxLength?Math.min(n.maxLength,r.value):r.value,r.message,t);break;case"includes":M(n,RegExp(T(r.value,t)),r.message,t);break;case"ip":"v6"!==r.version&&B(n,"ipv4",r.message,t),"v4"!==r.version&&B(n,"ipv6",r.message,t);break;case"base64url":M(n,k.base64url,r.message,t);break;case"jwt":M(n,k.jwt,r.message,t);break;case"cidr":"v6"!==r.version&&M(n,k.ipv4Cidr,r.message,t),"v4"!==r.version&&M(n,k.ipv6Cidr,r.message,t);break;case"emoji":M(n,k.emoji(),r.message,t);break;case"ulid":M(n,k.ulid,r.message,t);break;case"base64":switch(t.base64Strategy){case"format:binary":B(n,"binary",r.message,t);break;case"contentEncoding:base64":c(n,"contentEncoding","base64",r.message,t);break;case"pattern:zod":M(n,k.base64,r.message,t)}break;case"nanoid":M(n,k.nanoid,r.message,t);case"toLowerCase":case"toUpperCase":case"trim":break;default:(()=>{})()}return n}function T(e,t){return"escape"===t.patternStrategy?function(e){let t="";for(let n=0;n<e.length;n++)I.has(e[n])||(t+="\\"),t+=e[n];return t}(e):e}const I=new Set("ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvxyz0123456789");function B(e,t,n,r){e.format||e.anyOf?.some(e=>e.format)?(e.anyOf||(e.anyOf=[]),e.format&&(e.anyOf.push({format:e.format,...e.errorMessage&&r.errorMessages&&{errorMessage:{format:e.errorMessage.format}}}),delete e.format,e.errorMessage&&(delete e.errorMessage.format,0===Object.keys(e.errorMessage).length&&delete e.errorMessage)),e.anyOf.push({format:t,...n&&r.errorMessages&&{errorMessage:{format:n}}})):c(e,"format",t,n,r)}function M(e,t,n,r){e.pattern||e.allOf?.some(e=>e.pattern)?(e.allOf||(e.allOf=[]),e.pattern&&(e.allOf.push({pattern:e.pattern,...e.errorMessage&&r.errorMessages&&{errorMessage:{pattern:e.errorMessage.pattern}}}),delete e.pattern,e.errorMessage&&(delete e.errorMessage.pattern,0===Object.keys(e.errorMessage).length&&delete e.errorMessage)),e.allOf.push({pattern:P(t,r),...n&&r.errorMessages&&{errorMessage:{pattern:n}}})):c(e,"pattern",P(t,r),n,r)}function P(e,t){if(!t.applyRegexFlags||!e.flags)return e.source;const n=e.flags.includes("i"),r=e.flags.includes("m"),o=e.flags.includes("s"),i=n?e.source.toLowerCase():e.source;let s="",a=!1,l=!1,c=!1;for(let e=0;e<i.length;e++)if(a)s+=i[e],a=!1;else{if(n)if(l){if(i[e].match(/[a-z]/)){c?(s+=i[e],s+=`${i[e-2]}-${i[e]}`.toUpperCase(),c=!1):"-"===i[e+1]&&i[e+2]?.match(/[a-z]/)?(s+=i[e],c=!0):s+=`${i[e]}${i[e].toUpperCase()}`;continue}}else if(i[e].match(/[a-z]/)){s+=`[${i[e]}${i[e].toUpperCase()}]`;continue}if(r){if("^"===i[e]){s+="(^|(?<=[\r\n]))";continue}if("$"===i[e]){s+="($|(?=[\r\n]))";continue}}o&&"."===i[e]?s+=l?`${i[e]}\r\n`:`[${i[e]}\r\n]`:(s+=i[e],"\\"===i[e]?a=!0:l&&"]"===i[e]?l=!1:l||"["!==i[e]||(l=!0))}try{new RegExp(s)}catch{return console.warn(`Could not convert regex pattern at ${t.currentPath.join("/")} to a flag-independent form! Falling back to the flag-ignorant source`),e.source}return s}function j(e,t){if("openAi"===t.target&&console.warn("Warning: OpenAI may not support records in schemas! Try an array of key-value pairs instead."),"openApi3"===t.target&&e.keyType?._def.typeName===d.kY.ZodEnum)return{type:"object",required:e.keyType._def.values,properties:e.keyType._def.values.reduce((n,r)=>({...n,[r]:te(e.valueType._def,{...t,currentPath:[...t.currentPath,"properties",r]})??h(t)}),{}),additionalProperties:t.rejectedAdditionalProperties};const n={type:"object",additionalProperties:te(e.valueType._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]})??t.allowedAdditionalProperties};if("openApi3"===t.target)return n;if(e.keyType?._def.typeName===d.kY.ZodString&&e.keyType._def.checks?.length){const{type:r,...o}=O(e.keyType._def,t);return{...n,propertyNames:o}}if(e.keyType?._def.typeName===d.kY.ZodEnum)return{...n,propertyNames:{enum:e.keyType._def.values}};if(e.keyType?._def.typeName===d.kY.ZodBranded&&e.keyType._def.type._def.typeName===d.kY.ZodString&&e.keyType._def.type._def.checks?.length){const{type:r,...o}=g(e.keyType._def,t);return{...n,propertyNames:o}}return n}function N(e,t){return"record"===t.mapStrategy?j(e,t):{type:"array",maxItems:125,items:{type:"array",items:[te(e.keyType._def,{...t,currentPath:[...t.currentPath,"items","items","0"]})||h(t),te(e.valueType._def,{...t,currentPath:[...t.currentPath,"items","items","1"]})||h(t)],minItems:2,maxItems:2}}}function F(e){const t=e.values,n=Object.keys(e.values).filter(e=>"number"!=typeof t[t[e]]).map(e=>t[e]),r=Array.from(new Set(n.map(e=>typeof e)));return{type:1===r.length?"string"===r[0]?"string":"number":["string","number"],enum:n}}function D(e){return"openAi"===e.target?void 0:{not:h({...e,currentPath:[...e.currentPath,"not"]})}}function R(e){return"openApi3"===e.target?{enum:["null"],nullable:!0}:{type:"null"}}const L={ZodString:"string",ZodNumber:"number",ZodBigInt:"integer",ZodBoolean:"boolean",ZodNull:"null"};function z(e,t){if("openApi3"===t.target)return H(e,t);const n=e.options instanceof Map?Array.from(e.options.values()):e.options;if(n.every(e=>e._def.typeName in L&&(!e._def.checks||!e._def.checks.length))){const e=n.reduce((e,t)=>{const n=L[t._def.typeName];return n&&!e.includes(n)?[...e,n]:e},[]);return{type:e.length>1?e:e[0]}}if(n.every(e=>"ZodLiteral"===e._def.typeName&&!e.description)){const e=n.reduce((e,t)=>{const n=typeof t._def.value;switch(n){case"string":case"number":case"boolean":return[...e,n];case"bigint":return[...e,"integer"];case"object":if(null===t._def.value)return[...e,"null"];default:return e}},[]);if(e.length===n.length){const t=e.filter((e,t,n)=>n.indexOf(e)===t);return{type:t.length>1?t:t[0],enum:n.reduce((e,t)=>e.includes(t._def.value)?e:[...e,t._def.value],[])}}}else if(n.every(e=>"ZodEnum"===e._def.typeName))return{type:"string",enum:n.reduce((e,t)=>[...e,...t._def.values.filter(t=>!e.includes(t))],[])};return H(e,t)}const H=(e,t)=>{const n=(e.options instanceof Map?Array.from(e.options.values()):e.options).map((e,n)=>te(e._def,{...t,currentPath:[...t.currentPath,"anyOf",`${n}`]})).filter(e=>!!e&&(!t.strictUnions||"object"==typeof e&&Object.keys(e).length>0));return n.length?{anyOf:n}:void 0};function U(e,t){if(["ZodString","ZodNumber","ZodBigInt","ZodBoolean","ZodNull"].includes(e.innerType._def.typeName)&&(!e.innerType._def.checks||!e.innerType._def.checks.length))return"openApi3"===t.target?{type:L[e.innerType._def.typeName],nullable:!0}:{type:[L[e.innerType._def.typeName],"null"]};if("openApi3"===t.target){const n=te(e.innerType._def,{...t,currentPath:[...t.currentPath]});return n&&"$ref"in n?{allOf:[n],nullable:!0}:n&&{...n,nullable:!0}}const n=te(e.innerType._def,{...t,currentPath:[...t.currentPath,"anyOf","0"]});return n&&{anyOf:[n,{type:"null"}]}}function Q(e,t){const n={type:"number"};if(!e.checks)return n;for(const r of e.checks)switch(r.kind){case"int":n.type="integer",l(n,"type",r.message,t);break;case"min":"jsonSchema7"===t.target?r.inclusive?c(n,"minimum",r.value,r.message,t):c(n,"exclusiveMinimum",r.value,r.message,t):(r.inclusive||(n.exclusiveMinimum=!0),c(n,"minimum",r.value,r.message,t));break;case"max":"jsonSchema7"===t.target?r.inclusive?c(n,"maximum",r.value,r.message,t):c(n,"exclusiveMaximum",r.value,r.message,t):(r.inclusive||(n.exclusiveMaximum=!0),c(n,"maximum",r.value,r.message,t));break;case"multipleOf":c(n,"multipleOf",r.value,r.message,t)}return n}function q(e,t){const n="openAi"===t.target,r={type:"object",properties:{}},o=[],i=e.shape();for(const e in i){let s=i[e];if(void 0===s||void 0===s._def)continue;let a=W(s);a&&n&&("ZodOptional"===s._def.typeName&&(s=s._def.innerType),s.isNullable()||(s=s.nullable()),a=!1);const l=te(s._def,{...t,currentPath:[...t.currentPath,"properties",e],propertyPath:[...t.currentPath,"properties",e]});void 0!==l&&(r.properties[e]=l,a||o.push(e))}o.length&&(r.required=o);const s=function(e,t){if("ZodNever"!==e.catchall._def.typeName)return te(e.catchall._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]});switch(e.unknownKeys){case"passthrough":return t.allowedAdditionalProperties;case"strict":return t.rejectedAdditionalProperties;case"strip":return"strict"===t.removeAdditionalStrategy?t.allowedAdditionalProperties:t.rejectedAdditionalProperties}}(e,t);return void 0!==s&&(r.additionalProperties=s),r}function W(e){try{return e.isOptional()}catch{return!0}}const $=(e,t)=>{if(t.currentPath.toString()===t.propertyPath?.toString())return te(e.innerType._def,t);const n=te(e.innerType._def,{...t,currentPath:[...t.currentPath,"anyOf","1"]});return n?{anyOf:[{not:h(t)},n]}:h(t)},G=(e,t)=>{if("input"===t.pipeStrategy)return te(e.in._def,t);if("output"===t.pipeStrategy)return te(e.out._def,t);const n=te(e.in._def,{...t,currentPath:[...t.currentPath,"allOf","0"]});return{allOf:[n,te(e.out._def,{...t,currentPath:[...t.currentPath,"allOf",n?"1":"0"]})].filter(e=>void 0!==e)}};function V(e,t){return te(e.type._def,t)}function Y(e,t){const n={type:"array",uniqueItems:!0,items:te(e.valueType._def,{...t,currentPath:[...t.currentPath,"items"]})};return e.minSize&&c(n,"minItems",e.minSize.value,e.minSize.message,t),e.maxSize&&c(n,"maxItems",e.maxSize.value,e.maxSize.message,t),n}function J(e,t){return e.rest?{type:"array",minItems:e.items.length,items:e.items.map((e,n)=>te(e._def,{...t,currentPath:[...t.currentPath,"items",`${n}`]})).reduce((e,t)=>void 0===t?e:[...e,t],[]),additionalItems:te(e.rest._def,{...t,currentPath:[...t.currentPath,"additionalItems"]})}:{type:"array",minItems:e.items.length,maxItems:e.items.length,items:e.items.map((e,n)=>te(e._def,{...t,currentPath:[...t.currentPath,"items",`${n}`]})).reduce((e,t)=>void 0===t?e:[...e,t],[])}}function K(e){return{not:h(e)}}function X(e){return h(e)}const Z=(e,t)=>te(e.innerType._def,t),ee=(e,t,n)=>{switch(t){case d.kY.ZodString:return O(e,n);case d.kY.ZodNumber:return Q(e,n);case d.kY.ZodObject:return q(e,n);case d.kY.ZodBigInt:return f(e,n);case d.kY.ZodBoolean:return{type:"boolean"};case d.kY.ZodDate:return w(e,n);case d.kY.ZodUndefined:return K(n);case d.kY.ZodNull:return R(n);case d.kY.ZodArray:return p(e,n);case d.kY.ZodUnion:case d.kY.ZodDiscriminatedUnion:return z(e,n);case d.kY.ZodIntersection:return S(e,n);case d.kY.ZodTuple:return J(e,n);case d.kY.ZodRecord:return j(e,n);case d.kY.ZodLiteral:return E(e,n);case d.kY.ZodEnum:return _(e);case d.kY.ZodNativeEnum:return F(e);case d.kY.ZodNullable:return U(e,n);case d.kY.ZodOptional:return $(e,n);case d.kY.ZodMap:return N(e,n);case d.kY.ZodSet:return Y(e,n);case d.kY.ZodLazy:return()=>e.getter()._def;case d.kY.ZodPromise:return V(e,n);case d.kY.ZodNaN:case d.kY.ZodNever:return D(n);case d.kY.ZodEffects:return A(e,n);case d.kY.ZodAny:return h(n);case d.kY.ZodUnknown:return X(n);case d.kY.ZodDefault:return v(e,n);case d.kY.ZodBranded:return g(e,n);case d.kY.ZodReadonly:return Z(e,n);case d.kY.ZodCatch:return b(e,n);case d.kY.ZodPipeline:return G(e,n);case d.kY.ZodFunction:case d.kY.ZodVoid:case d.kY.ZodSymbol:default:return}};function te(e,t,n=!1){const o=t.seen.get(e);if(t.override){const i=t.override?.(e,t,o,n);if(i!==r)return i}if(o&&!n){const e=ne(o,t);if(void 0!==e)return e}const i={def:e,path:t.currentPath,jsonSchema:void 0};t.seen.set(e,i);const s=ee(e,e.typeName,t),a="function"==typeof s?te(s(),t):s;if(a&&re(e,t,a),t.postProcess){const n=t.postProcess(a,e,t);return i.jsonSchema=a,n}return i.jsonSchema=a,a}const ne=(e,t)=>{switch(t.$refStrategy){case"root":return{$ref:e.path.join("/")};case"relative":return{$ref:u(t.currentPath,e.path)};case"none":case"seen":return e.path.length<t.currentPath.length&&e.path.every((e,n)=>t.currentPath[n]===e)?(console.warn(`Recursive reference detected at ${t.currentPath.join("/")}! Defaulting to any`),h(t)):"seen"===t.$refStrategy?h(t):void 0}},re=(e,t,n)=>(e.description&&(n.description=e.description,t.markdownDescription&&(n.markdownDescription=e.description)),n),oe=(e,t)=>{const n=a(t);let r="object"==typeof t&&t.definitions?Object.entries(t.definitions).reduce((e,[t,r])=>({...e,[t]:te(r._def,{...n,currentPath:[...n.basePath,n.definitionPath,t]},!0)??h(n)}),{}):void 0;const o="string"==typeof t?t:"title"===t?.nameStrategy?void 0:t?.name,i=te(e._def,void 0===o?n:{...n,currentPath:[...n.basePath,n.definitionPath,o]},!1)??h(n),s="object"==typeof t&&void 0!==t.name&&"title"===t.nameStrategy?t.name:void 0;void 0!==s&&(i.title=s),n.flags.hasReferencedOpenAiAnyType&&(r||(r={}),r[n.openAiAnyTypeName]||(r[n.openAiAnyTypeName]={type:["string","number","integer","boolean","array","null"],items:{$ref:"relative"===n.$refStrategy?"1":[...n.basePath,n.definitionPath,n.openAiAnyTypeName].join("/")}}));const l=void 0===o?r?{...i,[n.definitionPath]:r}:i:{$ref:[..."relative"===n.$refStrategy?[]:n.basePath,n.definitionPath,o].join("/"),[n.definitionPath]:{...r,[o]:i}};return"jsonSchema7"===n.target?l.$schema="http://json-schema.org/draft-07/schema#":"jsonSchema2019-09"!==n.target&&"openAi"!==n.target||(l.$schema="https://json-schema.org/draft/2019-09/schema#"),"openAi"===n.target&&("anyOf"in l||"oneOf"in l||"allOf"in l||"type"in l&&Array.isArray(l.type))&&console.warn("Warning: OpenAI may not support schemas with unions as roots! Try wrapping it in an object property."),l},ie=oe},"./node_modules/zod/index.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{BRAND:()=>a.qt,DIRTY:()=>i.jm,EMPTY_PATH:()=>i.I3,INVALID:()=>i.uY,NEVER:()=>a.tm,OK:()=>i.OK,ParseStatus:()=>i.MY,Schema:()=>a.Sj,ZodAny:()=>a.Ml,ZodArray:()=>a.n,ZodBigInt:()=>a.Lr,ZodBoolean:()=>a.WF,ZodBranded:()=>a.eN,ZodCatch:()=>a.hw,ZodDate:()=>a.aP,ZodDefault:()=>a.Xi,ZodDiscriminatedUnion:()=>a.jv,ZodEffects:()=>a.k1,ZodEnum:()=>a.Vb,ZodError:()=>l.G,ZodFirstPartyTypeKind:()=>a.kY,ZodFunction:()=>a.CZ,ZodIntersection:()=>a.Jv,ZodIssueCode:()=>l.eq,ZodLazy:()=>a.Ih,ZodLiteral:()=>a.DN,ZodMap:()=>a.Ut,ZodNaN:()=>a.Tq,ZodNativeEnum:()=>a.WM,ZodNever:()=>a.iS,ZodNull:()=>a.PQ,ZodNullable:()=>a.l1,ZodNumber:()=>a.rS,ZodObject:()=>a.bv,ZodOptional:()=>a.Ii,ZodParsedType:()=>s.Zp,ZodPipeline:()=>a._c,ZodPromise:()=>a.$i,ZodReadonly:()=>a.EV,ZodRecord:()=>a.b8,ZodSchema:()=>a.lK,ZodSet:()=>a.Kz,ZodString:()=>a.ND,ZodSymbol:()=>a.K5,ZodTransformer:()=>a.BG,ZodTuple:()=>a.y0,ZodType:()=>a.aR,ZodUndefined:()=>a._Z,ZodUnion:()=>a.fZ,ZodUnknown:()=>a._,ZodVoid:()=>a.a0,addIssueToContext:()=>i.zn,any:()=>a.bz,array:()=>a.YO,bigint:()=>a.o,boolean:()=>a.zM,coerce:()=>a.au,custom:()=>a.Ie,date:()=>a.p6,datetimeRegex:()=>a.fm,default:()=>c,defaultErrorMap:()=>o.su,discriminatedUnion:()=>a.gM,effect:()=>a.QZ,enum:()=>a.k5,function:()=>a.fH,getErrorMap:()=>o.$W,getParsedType:()=>s.CR,instanceof:()=>a.Nl,intersection:()=>a.E$,isAborted:()=>i.G4,isAsync:()=>i.xP,isDirty:()=>i.DM,isValid:()=>i.fn,late:()=>a.fn,lazy:()=>a.RZ,literal:()=>a.eu,makeIssue:()=>i.y7,map:()=>a.Tj,nan:()=>a.oi,nativeEnum:()=>a.fc,never:()=>a.Zm,null:()=>a.ch,nullable:()=>a.me,number:()=>a.ai,object:()=>a.Ik,objectUtil:()=>s.o6,oboolean:()=>a.yN,onumber:()=>a.p7,optional:()=>a.lq,ostring:()=>a.Di,pipeline:()=>a.Tk,preprocess:()=>a.vk,promise:()=>a.iv,quotelessJson:()=>l.WI,record:()=>a.g1,set:()=>a.hZ,setErrorMap:()=>o.pJ,strictObject:()=>a.re,string:()=>a.Yj,symbol:()=>a.HR,transformer:()=>a.Gu,tuple:()=>a.PV,undefined:()=>a.Vx,union:()=>a.KC,unknown:()=>a.L5,util:()=>s.ZS,void:()=>a.rI,z:()=>r});var r={};n.r(r),n.d(r,{BRAND:()=>a.qt,DIRTY:()=>i.jm,EMPTY_PATH:()=>i.I3,INVALID:()=>i.uY,NEVER:()=>a.tm,OK:()=>i.OK,ParseStatus:()=>i.MY,Schema:()=>a.Sj,ZodAny:()=>a.Ml,ZodArray:()=>a.n,ZodBigInt:()=>a.Lr,ZodBoolean:()=>a.WF,ZodBranded:()=>a.eN,ZodCatch:()=>a.hw,ZodDate:()=>a.aP,ZodDefault:()=>a.Xi,ZodDiscriminatedUnion:()=>a.jv,ZodEffects:()=>a.k1,ZodEnum:()=>a.Vb,ZodError:()=>l.G,ZodFirstPartyTypeKind:()=>a.kY,ZodFunction:()=>a.CZ,ZodIntersection:()=>a.Jv,ZodIssueCode:()=>l.eq,ZodLazy:()=>a.Ih,ZodLiteral:()=>a.DN,ZodMap:()=>a.Ut,ZodNaN:()=>a.Tq,ZodNativeEnum:()=>a.WM,ZodNever:()=>a.iS,ZodNull:()=>a.PQ,ZodNullable:()=>a.l1,ZodNumber:()=>a.rS,ZodObject:()=>a.bv,ZodOptional:()=>a.Ii,ZodParsedType:()=>s.Zp,ZodPipeline:()=>a._c,ZodPromise:()=>a.$i,ZodReadonly:()=>a.EV,ZodRecord:()=>a.b8,ZodSchema:()=>a.lK,ZodSet:()=>a.Kz,ZodString:()=>a.ND,ZodSymbol:()=>a.K5,ZodTransformer:()=>a.BG,ZodTuple:()=>a.y0,ZodType:()=>a.aR,ZodUndefined:()=>a._Z,ZodUnion:()=>a.fZ,ZodUnknown:()=>a._,ZodVoid:()=>a.a0,addIssueToContext:()=>i.zn,any:()=>a.bz,array:()=>a.YO,bigint:()=>a.o,boolean:()=>a.zM,coerce:()=>a.au,custom:()=>a.Ie,date:()=>a.p6,datetimeRegex:()=>a.fm,defaultErrorMap:()=>o.su,discriminatedUnion:()=>a.gM,effect:()=>a.QZ,enum:()=>a.k5,function:()=>a.fH,getErrorMap:()=>o.$W,getParsedType:()=>s.CR,instanceof:()=>a.Nl,intersection:()=>a.E$,isAborted:()=>i.G4,isAsync:()=>i.xP,isDirty:()=>i.DM,isValid:()=>i.fn,late:()=>a.fn,lazy:()=>a.RZ,literal:()=>a.eu,makeIssue:()=>i.y7,map:()=>a.Tj,nan:()=>a.oi,nativeEnum:()=>a.fc,never:()=>a.Zm,null:()=>a.ch,nullable:()=>a.me,number:()=>a.ai,object:()=>a.Ik,objectUtil:()=>s.o6,oboolean:()=>a.yN,onumber:()=>a.p7,optional:()=>a.lq,ostring:()=>a.Di,pipeline:()=>a.Tk,preprocess:()=>a.vk,promise:()=>a.iv,quotelessJson:()=>l.WI,record:()=>a.g1,set:()=>a.hZ,setErrorMap:()=>o.pJ,strictObject:()=>a.re,string:()=>a.Yj,symbol:()=>a.HR,transformer:()=>a.Gu,tuple:()=>a.PV,undefined:()=>a.Vx,union:()=>a.KC,unknown:()=>a.L5,util:()=>s.ZS,void:()=>a.rI});var o=n("./node_modules/zod/v3/errors.js"),i=n("./node_modules/zod/v3/helpers/parseUtil.js"),s=n("./node_modules/zod/v3/helpers/util.js"),a=n("./node_modules/zod/v3/types.js"),l=n("./node_modules/zod/v3/ZodError.js");const c=r},"./node_modules/zod/v3/ZodError.js":(e,t,n)=>{"use strict";n.d(t,{G:()=>s,WI:()=>i,eq:()=>o});var r=n("./node_modules/zod/v3/helpers/util.js");const o=r.ZS.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),i=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class s extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=e=>{this.issues=[...this.issues,e]},this.addIssues=(e=[])=>{this.issues=[...this.issues,...e]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}format(e){const t=e||function(e){return e.message},n={_errors:[]},r=e=>{for(const o of e.issues)if("invalid_union"===o.code)o.unionErrors.map(r);else if("invalid_return_type"===o.code)r(o.returnTypeError);else if("invalid_arguments"===o.code)r(o.argumentsError);else if(0===o.path.length)n._errors.push(t(o));else{let e=n,r=0;for(;r<o.path.length;){const n=o.path[r];r===o.path.length-1?(e[n]=e[n]||{_errors:[]},e[n]._errors.push(t(o))):e[n]=e[n]||{_errors:[]},e=e[n],r++}}};return r(this),n}static assert(e){if(!(e instanceof s))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,r.ZS.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(e=e=>e.message){const t={},n=[];for(const r of this.issues)if(r.path.length>0){const n=r.path[0];t[n]=t[n]||[],t[n].push(e(r))}else n.push(e(r));return{formErrors:n,fieldErrors:t}}get formErrors(){return this.flatten()}}s.create=e=>new s(e)},"./node_modules/zod/v3/errors.js":(e,t,n)=>{"use strict";n.d(t,{$W:()=>s,pJ:()=>i,su:()=>r.A});var r=n("./node_modules/zod/v3/locales/en.js");let o=r.A;function i(e){o=e}function s(){return o}},"./node_modules/zod/v3/helpers/parseUtil.js":(e,t,n)=>{"use strict";n.d(t,{DM:()=>p,G4:()=>h,I3:()=>s,MY:()=>l,OK:()=>d,fn:()=>f,jm:()=>u,uY:()=>c,xP:()=>m,y7:()=>i,zn:()=>a});var r=n("./node_modules/zod/v3/errors.js"),o=n("./node_modules/zod/v3/locales/en.js");const i=e=>{const{data:t,path:n,errorMaps:r,issueData:o}=e,i=[...n,...o.path||[]],s={...o,path:i};if(void 0!==o.message)return{...o,path:i,message:o.message};let a="";const l=r.filter(e=>!!e).slice().reverse();for(const e of l)a=e(s,{data:t,defaultError:a}).message;return{...o,path:i,message:a}},s=[];function a(e,t){const n=(0,r.$W)(),s=i({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,n,n===o.A?void 0:o.A].filter(e=>!!e)});e.common.issues.push(s)}class l{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(e,t){const n=[];for(const r of t){if("aborted"===r.status)return c;"dirty"===r.status&&e.dirty(),n.push(r.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,t){const n=[];for(const e of t){const t=await e.key,r=await e.value;n.push({key:t,value:r})}return l.mergeObjectSync(e,n)}static mergeObjectSync(e,t){const n={};for(const r of t){const{key:t,value:o}=r;if("aborted"===t.status)return c;if("aborted"===o.status)return c;"dirty"===t.status&&e.dirty(),"dirty"===o.status&&e.dirty(),"__proto__"===t.value||void 0===o.value&&!r.alwaysSet||(n[t.value]=o.value)}return{status:e.value,value:n}}}const c=Object.freeze({status:"aborted"}),u=e=>({status:"dirty",value:e}),d=e=>({status:"valid",value:e}),h=e=>"aborted"===e.status,p=e=>"dirty"===e.status,f=e=>"valid"===e.status,m=e=>"undefined"!=typeof Promise&&e instanceof Promise},"./node_modules/zod/v3/helpers/util.js":(e,t,n)=>{"use strict";var r,o;n.d(t,{CR:()=>s,ZS:()=>r,Zp:()=>i,o6:()=>o}),function(e){e.assertEqual=e=>{},e.assertIs=function(e){},e.assertNever=function(e){throw new Error},e.arrayToEnum=e=>{const t={};for(const n of e)t[n]=n;return t},e.getValidEnumValues=t=>{const n=e.objectKeys(t).filter(e=>"number"!=typeof t[t[e]]),r={};for(const e of n)r[e]=t[e];return e.objectValues(r)},e.objectValues=t=>e.objectKeys(t).map(function(e){return t[e]}),e.objectKeys="function"==typeof Object.keys?e=>Object.keys(e):e=>{const t=[];for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t},e.find=(e,t)=>{for(const n of e)if(t(n))return n},e.isInteger="function"==typeof Number.isInteger?e=>Number.isInteger(e):e=>"number"==typeof e&&Number.isFinite(e)&&Math.floor(e)===e,e.joinValues=function(e,t=" | "){return e.map(e=>"string"==typeof e?`'${e}'`:e).join(t)},e.jsonStringifyReplacer=(e,t)=>"bigint"==typeof t?t.toString():t}(r||(r={})),function(e){e.mergeShapes=(e,t)=>({...e,...t})}(o||(o={}));const i=r.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),s=e=>{switch(typeof e){case"undefined":return i.undefined;case"string":return i.string;case"number":return Number.isNaN(e)?i.nan:i.number;case"boolean":return i.boolean;case"function":return i.function;case"bigint":return i.bigint;case"symbol":return i.symbol;case"object":return Array.isArray(e)?i.array:null===e?i.null:e.then&&"function"==typeof e.then&&e.catch&&"function"==typeof e.catch?i.promise:"undefined"!=typeof Map&&e instanceof Map?i.map:"undefined"!=typeof Set&&e instanceof Set?i.set:"undefined"!=typeof Date&&e instanceof Date?i.date:i.object;default:return i.unknown}}},"./node_modules/zod/v3/locales/en.js":(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n("./node_modules/zod/v3/ZodError.js"),o=n("./node_modules/zod/v3/helpers/util.js");const i=(e,t)=>{let n;switch(e.code){case r.eq.invalid_type:n=e.received===o.Zp.undefined?"Required":`Expected ${e.expected}, received ${e.received}`;break;case r.eq.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,o.ZS.jsonStringifyReplacer)}`;break;case r.eq.unrecognized_keys:n=`Unrecognized key(s) in object: ${o.ZS.joinValues(e.keys,", ")}`;break;case r.eq.invalid_union:n="Invalid input";break;case r.eq.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${o.ZS.joinValues(e.options)}`;break;case r.eq.invalid_enum_value:n=`Invalid enum value. Expected ${o.ZS.joinValues(e.options)}, received '${e.received}'`;break;case r.eq.invalid_arguments:n="Invalid function arguments";break;case r.eq.invalid_return_type:n="Invalid function return type";break;case r.eq.invalid_date:n="Invalid date";break;case r.eq.invalid_string:"object"==typeof e.validation?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,"number"==typeof e.validation.position&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:o.ZS.assertNever(e.validation):n="regex"!==e.validation?`Invalid ${e.validation}`:"Invalid";break;case r.eq.too_small:n="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:"number"===e.type||"bigint"===e.type?`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:"date"===e.type?`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:"Invalid input";break;case r.eq.too_big:n="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"bigint"===e.type?`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"date"===e.type?`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:"Invalid input";break;case r.eq.custom:n="Invalid input";break;case r.eq.invalid_intersection_types:n="Intersection results could not be merged";break;case r.eq.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case r.eq.not_finite:n="Number must be finite";break;default:n=t.defaultError,o.ZS.assertNever(e)}return{message:n}}},"./node_modules/zod/v3/types.js":(e,t,n)=>{"use strict";n.d(t,{qt:()=>ve,tm:()=>pt,Sj:()=>h,Ml:()=>W,n:()=>Y,Lr:()=>L,WF:()=>z,eN:()=>Ae,hw:()=>we,aP:()=>H,Xi:()=>be,jv:()=>ee,k1:()=>fe,Vb:()=>de,kY:()=>ke,CZ:()=>ae,Jv:()=>ne,Ih:()=>le,DN:()=>ce,Ut:()=>ie,Tq:()=>ye,WM:()=>he,iS:()=>G,PQ:()=>q,l1:()=>ge,rS:()=>R,bv:()=>K,Ii:()=>me,_c:()=>_e,$i:()=>pe,EV:()=>xe,b8:()=>oe,lK:()=>h,Kz:()=>se,ND:()=>F,K5:()=>U,BG:()=>fe,y0:()=>re,aR:()=>h,_Z:()=>Q,fZ:()=>X,_:()=>$,a0:()=>V,bz:()=>Re,YO:()=>Ue,o:()=>Me,zM:()=>Pe,au:()=>ht,Ie:()=>Ee,p6:()=>je,fm:()=>M,gM:()=>$e,QZ:()=>ot,k5:()=>tt,fH:()=>Xe,Nl:()=>Oe,E$:()=>Ge,fn:()=>Ce,RZ:()=>Ze,eu:()=>et,Tj:()=>Je,oi:()=>Be,fc:()=>nt,Zm:()=>ze,ch:()=>De,me:()=>st,ai:()=>Ie,Ik:()=>Qe,yN:()=>dt,p7:()=>ut,lq:()=>it,Di:()=>ct,Tk:()=>lt,vk:()=>at,iv:()=>rt,g1:()=>Ye,hZ:()=>Ke,re:()=>qe,Yj:()=>Te,HR:()=>Ne,Gu:()=>ot,PV:()=>Ve,Vx:()=>Fe,KC:()=>We,L5:()=>Le,rI:()=>He});var r,o=n("./node_modules/zod/v3/ZodError.js"),i=n("./node_modules/zod/v3/errors.js"),s=n("./node_modules/zod/v3/locales/en.js");!function(e){e.errToObj=e=>"string"==typeof e?{message:e}:e||{},e.toString=e=>"string"==typeof e?e:e?.message}(r||(r={}));var a=n("./node_modules/zod/v3/helpers/parseUtil.js"),l=n("./node_modules/zod/v3/helpers/util.js");class c{constructor(e,t,n,r){this._cachedPath=[],this.parent=e,this.data=t,this._path=n,this._key=r}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const u=(e,t)=>{if((0,a.fn)(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new o.G(e.common.issues);return this._error=t,this._error}}};function d(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:r,description:o}=e;if(t&&(n||r))throw new Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');return t?{errorMap:t,description:o}:{errorMap:(t,o)=>{const{message:i}=e;return"invalid_enum_value"===t.code?{message:i??o.defaultError}:void 0===o.data?{message:i??r??o.defaultError}:"invalid_type"!==t.code?{message:o.defaultError}:{message:i??n??o.defaultError}},description:o}}class h{get description(){return this._def.description}_getType(e){return(0,l.CR)(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:(0,l.CR)(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new a.MY,ctx:{common:e.parent.common,data:e.data,parsedType:(0,l.CR)(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if((0,a.xP)(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const n=this.safeParse(e,t);if(n.success)return n.data;throw n.error}safeParse(e,t){const n={common:{issues:[],async:t?.async??!1,contextualErrorMap:t?.errorMap},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:(0,l.CR)(e)},r=this._parseSync({data:e,path:n.path,parent:n});return u(n,r)}"~validate"(e){const t={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:(0,l.CR)(e)};if(!this["~standard"].async)try{const n=this._parseSync({data:e,path:[],parent:t});return(0,a.fn)(n)?{value:n.value}:{issues:t.common.issues}}catch(e){e?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),t.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:t}).then(e=>(0,a.fn)(e)?{value:e.value}:{issues:t.common.issues})}async parseAsync(e,t){const n=await this.safeParseAsync(e,t);if(n.success)return n.data;throw n.error}async safeParseAsync(e,t){const n={common:{issues:[],contextualErrorMap:t?.errorMap,async:!0},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:(0,l.CR)(e)},r=this._parse({data:e,path:n.path,parent:n}),o=await((0,a.xP)(r)?r:Promise.resolve(r));return u(n,o)}refine(e,t){const n=e=>"string"==typeof t||void 0===t?{message:t}:"function"==typeof t?t(e):t;return this._refinement((t,r)=>{const i=e(t),s=()=>r.addIssue({code:o.eq.custom,...n(t)});return"undefined"!=typeof Promise&&i instanceof Promise?i.then(e=>!!e||(s(),!1)):!!i||(s(),!1)})}refinement(e,t){return this._refinement((n,r)=>!!e(n)||(r.addIssue("function"==typeof t?t(n,r):t),!1))}_refinement(e){return new fe({schema:this,typeName:ke.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:e=>this["~validate"](e)}}optional(){return me.create(this,this._def)}nullable(){return ge.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Y.create(this)}promise(){return pe.create(this,this._def)}or(e){return X.create([this,e],this._def)}and(e){return ne.create(this,e,this._def)}transform(e){return new fe({...d(this._def),schema:this,typeName:ke.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const t="function"==typeof e?e:()=>e;return new be({...d(this._def),innerType:this,defaultValue:t,typeName:ke.ZodDefault})}brand(){return new Ae({typeName:ke.ZodBranded,type:this,...d(this._def)})}catch(e){const t="function"==typeof e?e:()=>e;return new we({...d(this._def),innerType:this,catchValue:t,typeName:ke.ZodCatch})}describe(e){return new(0,this.constructor)({...this._def,description:e})}pipe(e){return _e.create(this,e)}readonly(){return xe.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const p=/^c[^\s-]{8,}$/i,f=/^[0-9a-z]+$/,m=/^[0-9A-HJKMNP-TV-Z]{26}$/i,g=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,b=/^[a-z0-9_-]{21}$/i,w=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,y=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,v=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i;let A;const _=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,x=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,S=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,E=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,C=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,k=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,O="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",T=new RegExp(`^${O}$`);function I(e){let t="[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:null==e.precision&&(t=`${t}(\\.\\d+)?`),`([01]\\d|2[0-3]):[0-5]\\d(:${t})${e.precision?"+":"?"}`}function B(e){return new RegExp(`^${I(e)}$`)}function M(e){let t=`${O}T${I(e)}`;const n=[];return n.push(e.local?"Z?":"Z"),e.offset&&n.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${n.join("|")})`,new RegExp(`^${t}$`)}function P(e,t){return!("v4"!==t&&t||!_.test(e))||!("v6"!==t&&t||!S.test(e))}function j(e,t){if(!w.test(e))return!1;try{const[n]=e.split(".");if(!n)return!1;const r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),o=JSON.parse(atob(r));return!("object"!=typeof o||null===o||"typ"in o&&"JWT"!==o?.typ||!o.alg||t&&o.alg!==t)}catch{return!1}}function N(e,t){return!("v4"!==t&&t||!x.test(e))||!("v6"!==t&&t||!E.test(e))}class F extends h{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==l.Zp.string){const t=this._getOrReturnCtx(e);return(0,a.zn)(t,{code:o.eq.invalid_type,expected:l.Zp.string,received:t.parsedType}),a.uY}const t=new a.MY;let n;for(const r of this._def.checks)if("min"===r.kind)e.data.length<r.value&&(n=this._getOrReturnCtx(e,n),(0,a.zn)(n,{code:o.eq.too_small,minimum:r.value,type:"string",inclusive:!0,exact:!1,message:r.message}),t.dirty());else if("max"===r.kind)e.data.length>r.value&&(n=this._getOrReturnCtx(e,n),(0,a.zn)(n,{code:o.eq.too_big,maximum:r.value,type:"string",inclusive:!0,exact:!1,message:r.message}),t.dirty());else if("length"===r.kind){const i=e.data.length>r.value,s=e.data.length<r.value;(i||s)&&(n=this._getOrReturnCtx(e,n),i?(0,a.zn)(n,{code:o.eq.too_big,maximum:r.value,type:"string",inclusive:!0,exact:!0,message:r.message}):s&&(0,a.zn)(n,{code:o.eq.too_small,minimum:r.value,type:"string",inclusive:!0,exact:!0,message:r.message}),t.dirty())}else if("email"===r.kind)v.test(e.data)||(n=this._getOrReturnCtx(e,n),(0,a.zn)(n,{validation:"email",code:o.eq.invalid_string,message:r.message}),t.dirty());else if("emoji"===r.kind)A||(A=new RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),A.test(e.data)||(n=this._getOrReturnCtx(e,n),(0,a.zn)(n,{validation:"emoji",code:o.eq.invalid_string,message:r.message}),t.dirty());else if("uuid"===r.kind)g.test(e.data)||(n=this._getOrReturnCtx(e,n),(0,a.zn)(n,{validation:"uuid",code:o.eq.invalid_string,message:r.message}),t.dirty());else if("nanoid"===r.kind)b.test(e.data)||(n=this._getOrReturnCtx(e,n),(0,a.zn)(n,{validation:"nanoid",code:o.eq.invalid_string,message:r.message}),t.dirty());else if("cuid"===r.kind)p.test(e.data)||(n=this._getOrReturnCtx(e,n),(0,a.zn)(n,{validation:"cuid",code:o.eq.invalid_string,message:r.message}),t.dirty());else if("cuid2"===r.kind)f.test(e.data)||(n=this._getOrReturnCtx(e,n),(0,a.zn)(n,{validation:"cuid2",code:o.eq.invalid_string,message:r.message}),t.dirty());else if("ulid"===r.kind)m.test(e.data)||(n=this._getOrReturnCtx(e,n),(0,a.zn)(n,{validation:"ulid",code:o.eq.invalid_string,message:r.message}),t.dirty());else if("url"===r.kind)try{new URL(e.data)}catch{n=this._getOrReturnCtx(e,n),(0,a.zn)(n,{validation:"url",code:o.eq.invalid_string,message:r.message}),t.dirty()}else"regex"===r.kind?(r.regex.lastIndex=0,r.regex.test(e.data)||(n=this._getOrReturnCtx(e,n),(0,a.zn)(n,{validation:"regex",code:o.eq.invalid_string,message:r.message}),t.dirty())):"trim"===r.kind?e.data=e.data.trim():"includes"===r.kind?e.data.includes(r.value,r.position)||(n=this._getOrReturnCtx(e,n),(0,a.zn)(n,{code:o.eq.invalid_string,validation:{includes:r.value,position:r.position},message:r.message}),t.dirty()):"toLowerCase"===r.kind?e.data=e.data.toLowerCase():"toUpperCase"===r.kind?e.data=e.data.toUpperCase():"startsWith"===r.kind?e.data.startsWith(r.value)||(n=this._getOrReturnCtx(e,n),(0,a.zn)(n,{code:o.eq.invalid_string,validation:{startsWith:r.value},message:r.message}),t.dirty()):"endsWith"===r.kind?e.data.endsWith(r.value)||(n=this._getOrReturnCtx(e,n),(0,a.zn)(n,{code:o.eq.invalid_string,validation:{endsWith:r.value},message:r.message}),t.dirty()):"datetime"===r.kind?M(r).test(e.data)||(n=this._getOrReturnCtx(e,n),(0,a.zn)(n,{code:o.eq.invalid_string,validation:"datetime",message:r.message}),t.dirty()):"date"===r.kind?T.test(e.data)||(n=this._getOrReturnCtx(e,n),(0,a.zn)(n,{code:o.eq.invalid_string,validation:"date",message:r.message}),t.dirty()):"time"===r.kind?B(r).test(e.data)||(n=this._getOrReturnCtx(e,n),(0,a.zn)(n,{code:o.eq.invalid_string,validation:"time",message:r.message}),t.dirty()):"duration"===r.kind?y.test(e.data)||(n=this._getOrReturnCtx(e,n),(0,a.zn)(n,{validation:"duration",code:o.eq.invalid_string,message:r.message}),t.dirty()):"ip"===r.kind?P(e.data,r.version)||(n=this._getOrReturnCtx(e,n),(0,a.zn)(n,{validation:"ip",code:o.eq.invalid_string,message:r.message}),t.dirty()):"jwt"===r.kind?j(e.data,r.alg)||(n=this._getOrReturnCtx(e,n),(0,a.zn)(n,{validation:"jwt",code:o.eq.invalid_string,message:r.message}),t.dirty()):"cidr"===r.kind?N(e.data,r.version)||(n=this._getOrReturnCtx(e,n),(0,a.zn)(n,{validation:"cidr",code:o.eq.invalid_string,message:r.message}),t.dirty()):"base64"===r.kind?C.test(e.data)||(n=this._getOrReturnCtx(e,n),(0,a.zn)(n,{validation:"base64",code:o.eq.invalid_string,message:r.message}),t.dirty()):"base64url"===r.kind?k.test(e.data)||(n=this._getOrReturnCtx(e,n),(0,a.zn)(n,{validation:"base64url",code:o.eq.invalid_string,message:r.message}),t.dirty()):l.ZS.assertNever(r);return{status:t.value,value:e.data}}_regex(e,t,n){return this.refinement(t=>e.test(t),{validation:t,code:o.eq.invalid_string,...r.errToObj(n)})}_addCheck(e){return new F({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...r.errToObj(e)})}url(e){return this._addCheck({kind:"url",...r.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...r.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...r.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...r.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...r.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...r.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...r.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...r.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...r.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...r.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...r.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...r.errToObj(e)})}datetime(e){return"string"==typeof e?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:void 0===e?.precision?null:e?.precision,offset:e?.offset??!1,local:e?.local??!1,...r.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return"string"==typeof e?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:void 0===e?.precision?null:e?.precision,...r.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...r.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...r.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t?.position,...r.errToObj(t?.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...r.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...r.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...r.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...r.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...r.errToObj(t)})}nonempty(e){return this.min(1,r.errToObj(e))}trim(){return new F({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new F({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new F({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>"datetime"===e.kind)}get isDate(){return!!this._def.checks.find(e=>"date"===e.kind)}get isTime(){return!!this._def.checks.find(e=>"time"===e.kind)}get isDuration(){return!!this._def.checks.find(e=>"duration"===e.kind)}get isEmail(){return!!this._def.checks.find(e=>"email"===e.kind)}get isURL(){return!!this._def.checks.find(e=>"url"===e.kind)}get isEmoji(){return!!this._def.checks.find(e=>"emoji"===e.kind)}get isUUID(){return!!this._def.checks.find(e=>"uuid"===e.kind)}get isNANOID(){return!!this._def.checks.find(e=>"nanoid"===e.kind)}get isCUID(){return!!this._def.checks.find(e=>"cuid"===e.kind)}get isCUID2(){return!!this._def.checks.find(e=>"cuid2"===e.kind)}get isULID(){return!!this._def.checks.find(e=>"ulid"===e.kind)}get isIP(){return!!this._def.checks.find(e=>"ip"===e.kind)}get isCIDR(){return!!this._def.checks.find(e=>"cidr"===e.kind)}get isBase64(){return!!this._def.checks.find(e=>"base64"===e.kind)}get isBase64url(){return!!this._def.checks.find(e=>"base64url"===e.kind)}get minLength(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}function D(e,t){const n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,o=n>r?n:r;return Number.parseInt(e.toFixed(o).replace(".",""))%Number.parseInt(t.toFixed(o).replace(".",""))/10**o}F.create=e=>new F({checks:[],typeName:ke.ZodString,coerce:e?.coerce??!1,...d(e)});class R extends h{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==l.Zp.number){const t=this._getOrReturnCtx(e);return(0,a.zn)(t,{code:o.eq.invalid_type,expected:l.Zp.number,received:t.parsedType}),a.uY}let t;const n=new a.MY;for(const r of this._def.checks)"int"===r.kind?l.ZS.isInteger(e.data)||(t=this._getOrReturnCtx(e,t),(0,a.zn)(t,{code:o.eq.invalid_type,expected:"integer",received:"float",message:r.message}),n.dirty()):"min"===r.kind?(r.inclusive?e.data<r.value:e.data<=r.value)&&(t=this._getOrReturnCtx(e,t),(0,a.zn)(t,{code:o.eq.too_small,minimum:r.value,type:"number",inclusive:r.inclusive,exact:!1,message:r.message}),n.dirty()):"max"===r.kind?(r.inclusive?e.data>r.value:e.data>=r.value)&&(t=this._getOrReturnCtx(e,t),(0,a.zn)(t,{code:o.eq.too_big,maximum:r.value,type:"number",inclusive:r.inclusive,exact:!1,message:r.message}),n.dirty()):"multipleOf"===r.kind?0!==D(e.data,r.value)&&(t=this._getOrReturnCtx(e,t),(0,a.zn)(t,{code:o.eq.not_multiple_of,multipleOf:r.value,message:r.message}),n.dirty()):"finite"===r.kind?Number.isFinite(e.data)||(t=this._getOrReturnCtx(e,t),(0,a.zn)(t,{code:o.eq.not_finite,message:r.message}),n.dirty()):l.ZS.assertNever(r);return{status:n.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,r.toString(t))}gt(e,t){return this.setLimit("min",e,!1,r.toString(t))}lte(e,t){return this.setLimit("max",e,!0,r.toString(t))}lt(e,t){return this.setLimit("max",e,!1,r.toString(t))}setLimit(e,t,n,o){return new R({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:r.toString(o)}]})}_addCheck(e){return new R({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:r.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:r.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:r.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:r.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:r.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:r.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:r.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:r.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:r.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>"int"===e.kind||"multipleOf"===e.kind&&l.ZS.isInteger(e.value))}get isFinite(){let e=null,t=null;for(const n of this._def.checks){if("finite"===n.kind||"int"===n.kind||"multipleOf"===n.kind)return!0;"min"===n.kind?(null===t||n.value>t)&&(t=n.value):"max"===n.kind&&(null===e||n.value<e)&&(e=n.value)}return Number.isFinite(t)&&Number.isFinite(e)}}R.create=e=>new R({checks:[],typeName:ke.ZodNumber,coerce:e?.coerce||!1,...d(e)});class L extends h{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==l.Zp.bigint)return this._getInvalidInput(e);let t;const n=new a.MY;for(const r of this._def.checks)"min"===r.kind?(r.inclusive?e.data<r.value:e.data<=r.value)&&(t=this._getOrReturnCtx(e,t),(0,a.zn)(t,{code:o.eq.too_small,type:"bigint",minimum:r.value,inclusive:r.inclusive,message:r.message}),n.dirty()):"max"===r.kind?(r.inclusive?e.data>r.value:e.data>=r.value)&&(t=this._getOrReturnCtx(e,t),(0,a.zn)(t,{code:o.eq.too_big,type:"bigint",maximum:r.value,inclusive:r.inclusive,message:r.message}),n.dirty()):"multipleOf"===r.kind?e.data%r.value!==BigInt(0)&&(t=this._getOrReturnCtx(e,t),(0,a.zn)(t,{code:o.eq.not_multiple_of,multipleOf:r.value,message:r.message}),n.dirty()):l.ZS.assertNever(r);return{status:n.value,value:e.data}}_getInvalidInput(e){const t=this._getOrReturnCtx(e);return(0,a.zn)(t,{code:o.eq.invalid_type,expected:l.Zp.bigint,received:t.parsedType}),a.uY}gte(e,t){return this.setLimit("min",e,!0,r.toString(t))}gt(e,t){return this.setLimit("min",e,!1,r.toString(t))}lte(e,t){return this.setLimit("max",e,!0,r.toString(t))}lt(e,t){return this.setLimit("max",e,!1,r.toString(t))}setLimit(e,t,n,o){return new L({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:r.toString(o)}]})}_addCheck(e){return new L({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:r.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:r.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:r.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:r.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:r.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}L.create=e=>new L({checks:[],typeName:ke.ZodBigInt,coerce:e?.coerce??!1,...d(e)});class z extends h{_parse(e){if(this._def.coerce&&(e.data=Boolean(e.data)),this._getType(e)!==l.Zp.boolean){const t=this._getOrReturnCtx(e);return(0,a.zn)(t,{code:o.eq.invalid_type,expected:l.Zp.boolean,received:t.parsedType}),a.uY}return(0,a.OK)(e.data)}}z.create=e=>new z({typeName:ke.ZodBoolean,coerce:e?.coerce||!1,...d(e)});class H extends h{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==l.Zp.date){const t=this._getOrReturnCtx(e);return(0,a.zn)(t,{code:o.eq.invalid_type,expected:l.Zp.date,received:t.parsedType}),a.uY}if(Number.isNaN(e.data.getTime())){const t=this._getOrReturnCtx(e);return(0,a.zn)(t,{code:o.eq.invalid_date}),a.uY}const t=new a.MY;let n;for(const r of this._def.checks)"min"===r.kind?e.data.getTime()<r.value&&(n=this._getOrReturnCtx(e,n),(0,a.zn)(n,{code:o.eq.too_small,message:r.message,inclusive:!0,exact:!1,minimum:r.value,type:"date"}),t.dirty()):"max"===r.kind?e.data.getTime()>r.value&&(n=this._getOrReturnCtx(e,n),(0,a.zn)(n,{code:o.eq.too_big,message:r.message,inclusive:!0,exact:!1,maximum:r.value,type:"date"}),t.dirty()):l.ZS.assertNever(r);return{status:t.value,value:new Date(e.data.getTime())}}_addCheck(e){return new H({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:r.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:r.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return null!=e?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return null!=e?new Date(e):null}}H.create=e=>new H({checks:[],coerce:e?.coerce||!1,typeName:ke.ZodDate,...d(e)});class U extends h{_parse(e){if(this._getType(e)!==l.Zp.symbol){const t=this._getOrReturnCtx(e);return(0,a.zn)(t,{code:o.eq.invalid_type,expected:l.Zp.symbol,received:t.parsedType}),a.uY}return(0,a.OK)(e.data)}}U.create=e=>new U({typeName:ke.ZodSymbol,...d(e)});class Q extends h{_parse(e){if(this._getType(e)!==l.Zp.undefined){const t=this._getOrReturnCtx(e);return(0,a.zn)(t,{code:o.eq.invalid_type,expected:l.Zp.undefined,received:t.parsedType}),a.uY}return(0,a.OK)(e.data)}}Q.create=e=>new Q({typeName:ke.ZodUndefined,...d(e)});class q extends h{_parse(e){if(this._getType(e)!==l.Zp.null){const t=this._getOrReturnCtx(e);return(0,a.zn)(t,{code:o.eq.invalid_type,expected:l.Zp.null,received:t.parsedType}),a.uY}return(0,a.OK)(e.data)}}q.create=e=>new q({typeName:ke.ZodNull,...d(e)});class W extends h{constructor(){super(...arguments),this._any=!0}_parse(e){return(0,a.OK)(e.data)}}W.create=e=>new W({typeName:ke.ZodAny,...d(e)});class $ extends h{constructor(){super(...arguments),this._unknown=!0}_parse(e){return(0,a.OK)(e.data)}}$.create=e=>new $({typeName:ke.ZodUnknown,...d(e)});class G extends h{_parse(e){const t=this._getOrReturnCtx(e);return(0,a.zn)(t,{code:o.eq.invalid_type,expected:l.Zp.never,received:t.parsedType}),a.uY}}G.create=e=>new G({typeName:ke.ZodNever,...d(e)});class V extends h{_parse(e){if(this._getType(e)!==l.Zp.undefined){const t=this._getOrReturnCtx(e);return(0,a.zn)(t,{code:o.eq.invalid_type,expected:l.Zp.void,received:t.parsedType}),a.uY}return(0,a.OK)(e.data)}}V.create=e=>new V({typeName:ke.ZodVoid,...d(e)});class Y extends h{_parse(e){const{ctx:t,status:n}=this._processInputParams(e),r=this._def;if(t.parsedType!==l.Zp.array)return(0,a.zn)(t,{code:o.eq.invalid_type,expected:l.Zp.array,received:t.parsedType}),a.uY;if(null!==r.exactLength){const e=t.data.length>r.exactLength.value,i=t.data.length<r.exactLength.value;(e||i)&&((0,a.zn)(t,{code:e?o.eq.too_big:o.eq.too_small,minimum:i?r.exactLength.value:void 0,maximum:e?r.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:r.exactLength.message}),n.dirty())}if(null!==r.minLength&&t.data.length<r.minLength.value&&((0,a.zn)(t,{code:o.eq.too_small,minimum:r.minLength.value,type:"array",inclusive:!0,exact:!1,message:r.minLength.message}),n.dirty()),null!==r.maxLength&&t.data.length>r.maxLength.value&&((0,a.zn)(t,{code:o.eq.too_big,maximum:r.maxLength.value,type:"array",inclusive:!0,exact:!1,message:r.maxLength.message}),n.dirty()),t.common.async)return Promise.all([...t.data].map((e,n)=>r.type._parseAsync(new c(t,e,t.path,n)))).then(e=>a.MY.mergeArray(n,e));const i=[...t.data].map((e,n)=>r.type._parseSync(new c(t,e,t.path,n)));return a.MY.mergeArray(n,i)}get element(){return this._def.type}min(e,t){return new Y({...this._def,minLength:{value:e,message:r.toString(t)}})}max(e,t){return new Y({...this._def,maxLength:{value:e,message:r.toString(t)}})}length(e,t){return new Y({...this._def,exactLength:{value:e,message:r.toString(t)}})}nonempty(e){return this.min(1,e)}}function J(e){if(e instanceof K){const t={};for(const n in e.shape){const r=e.shape[n];t[n]=me.create(J(r))}return new K({...e._def,shape:()=>t})}return e instanceof Y?new Y({...e._def,type:J(e.element)}):e instanceof me?me.create(J(e.unwrap())):e instanceof ge?ge.create(J(e.unwrap())):e instanceof re?re.create(e.items.map(e=>J(e))):e}Y.create=(e,t)=>new Y({type:e,minLength:null,maxLength:null,exactLength:null,typeName:ke.ZodArray,...d(t)});class K extends h{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;const e=this._def.shape(),t=l.ZS.objectKeys(e);return this._cached={shape:e,keys:t},this._cached}_parse(e){if(this._getType(e)!==l.Zp.object){const t=this._getOrReturnCtx(e);return(0,a.zn)(t,{code:o.eq.invalid_type,expected:l.Zp.object,received:t.parsedType}),a.uY}const{status:t,ctx:n}=this._processInputParams(e),{shape:r,keys:i}=this._getCached(),s=[];if(!(this._def.catchall instanceof G&&"strip"===this._def.unknownKeys))for(const e in n.data)i.includes(e)||s.push(e);const u=[];for(const e of i){const t=r[e],o=n.data[e];u.push({key:{status:"valid",value:e},value:t._parse(new c(n,o,n.path,e)),alwaysSet:e in n.data})}if(this._def.catchall instanceof G){const e=this._def.unknownKeys;if("passthrough"===e)for(const e of s)u.push({key:{status:"valid",value:e},value:{status:"valid",value:n.data[e]}});else if("strict"===e)s.length>0&&((0,a.zn)(n,{code:o.eq.unrecognized_keys,keys:s}),t.dirty());else if("strip"!==e)throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const e=this._def.catchall;for(const t of s){const r=n.data[t];u.push({key:{status:"valid",value:t},value:e._parse(new c(n,r,n.path,t)),alwaysSet:t in n.data})}}return n.common.async?Promise.resolve().then(async()=>{const e=[];for(const t of u){const n=await t.key,r=await t.value;e.push({key:n,value:r,alwaysSet:t.alwaysSet})}return e}).then(e=>a.MY.mergeObjectSync(t,e)):a.MY.mergeObjectSync(t,u)}get shape(){return this._def.shape()}strict(e){return r.errToObj,new K({...this._def,unknownKeys:"strict",...void 0!==e?{errorMap:(t,n)=>{const o=this._def.errorMap?.(t,n).message??n.defaultError;return"unrecognized_keys"===t.code?{message:r.errToObj(e).message??o}:{message:o}}}:{}})}strip(){return new K({...this._def,unknownKeys:"strip"})}passthrough(){return new K({...this._def,unknownKeys:"passthrough"})}extend(e){return new K({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new K({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:ke.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new K({...this._def,catchall:e})}pick(e){const t={};for(const n of l.ZS.objectKeys(e))e[n]&&this.shape[n]&&(t[n]=this.shape[n]);return new K({...this._def,shape:()=>t})}omit(e){const t={};for(const n of l.ZS.objectKeys(this.shape))e[n]||(t[n]=this.shape[n]);return new K({...this._def,shape:()=>t})}deepPartial(){return J(this)}partial(e){const t={};for(const n of l.ZS.objectKeys(this.shape)){const r=this.shape[n];e&&!e[n]?t[n]=r:t[n]=r.optional()}return new K({...this._def,shape:()=>t})}required(e){const t={};for(const n of l.ZS.objectKeys(this.shape))if(e&&!e[n])t[n]=this.shape[n];else{let e=this.shape[n];for(;e instanceof me;)e=e._def.innerType;t[n]=e}return new K({...this._def,shape:()=>t})}keyof(){return ue(l.ZS.objectKeys(this.shape))}}K.create=(e,t)=>new K({shape:()=>e,unknownKeys:"strip",catchall:G.create(),typeName:ke.ZodObject,...d(t)}),K.strictCreate=(e,t)=>new K({shape:()=>e,unknownKeys:"strict",catchall:G.create(),typeName:ke.ZodObject,...d(t)}),K.lazycreate=(e,t)=>new K({shape:e,unknownKeys:"strip",catchall:G.create(),typeName:ke.ZodObject,...d(t)});class X extends h{_parse(e){const{ctx:t}=this._processInputParams(e),n=this._def.options;if(t.common.async)return Promise.all(n.map(async e=>{const n={...t,common:{...t.common,issues:[]},parent:null};return{result:await e._parseAsync({data:t.data,path:t.path,parent:n}),ctx:n}})).then(function(e){for(const t of e)if("valid"===t.result.status)return t.result;for(const n of e)if("dirty"===n.result.status)return t.common.issues.push(...n.ctx.common.issues),n.result;const n=e.map(e=>new o.G(e.ctx.common.issues));return(0,a.zn)(t,{code:o.eq.invalid_union,unionErrors:n}),a.uY});{let e;const r=[];for(const o of n){const n={...t,common:{...t.common,issues:[]},parent:null},i=o._parseSync({data:t.data,path:t.path,parent:n});if("valid"===i.status)return i;"dirty"!==i.status||e||(e={result:i,ctx:n}),n.common.issues.length&&r.push(n.common.issues)}if(e)return t.common.issues.push(...e.ctx.common.issues),e.result;const i=r.map(e=>new o.G(e));return(0,a.zn)(t,{code:o.eq.invalid_union,unionErrors:i}),a.uY}}get options(){return this._def.options}}X.create=(e,t)=>new X({options:e,typeName:ke.ZodUnion,...d(t)});const Z=e=>e instanceof le?Z(e.schema):e instanceof fe?Z(e.innerType()):e instanceof ce?[e.value]:e instanceof de?e.options:e instanceof he?l.ZS.objectValues(e.enum):e instanceof be?Z(e._def.innerType):e instanceof Q?[void 0]:e instanceof q?[null]:e instanceof me?[void 0,...Z(e.unwrap())]:e instanceof ge?[null,...Z(e.unwrap())]:e instanceof Ae||e instanceof xe?Z(e.unwrap()):e instanceof we?Z(e._def.innerType):[];class ee extends h{_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==l.Zp.object)return(0,a.zn)(t,{code:o.eq.invalid_type,expected:l.Zp.object,received:t.parsedType}),a.uY;const n=this.discriminator,r=t.data[n],i=this.optionsMap.get(r);return i?t.common.async?i._parseAsync({data:t.data,path:t.path,parent:t}):i._parseSync({data:t.data,path:t.path,parent:t}):((0,a.zn)(t,{code:o.eq.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),a.uY)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,n){const r=new Map;for(const n of t){const t=Z(n.shape[e]);if(!t.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const o of t){if(r.has(o))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(o)}`);r.set(o,n)}}return new ee({typeName:ke.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:r,...d(n)})}}function te(e,t){const n=(0,l.CR)(e),r=(0,l.CR)(t);if(e===t)return{valid:!0,data:e};if(n===l.Zp.object&&r===l.Zp.object){const n=l.ZS.objectKeys(t),r=l.ZS.objectKeys(e).filter(e=>-1!==n.indexOf(e)),o={...e,...t};for(const n of r){const r=te(e[n],t[n]);if(!r.valid)return{valid:!1};o[n]=r.data}return{valid:!0,data:o}}if(n===l.Zp.array&&r===l.Zp.array){if(e.length!==t.length)return{valid:!1};const n=[];for(let r=0;r<e.length;r++){const o=te(e[r],t[r]);if(!o.valid)return{valid:!1};n.push(o.data)}return{valid:!0,data:n}}return n===l.Zp.date&&r===l.Zp.date&&+e===+t?{valid:!0,data:e}:{valid:!1}}class ne extends h{_parse(e){const{status:t,ctx:n}=this._processInputParams(e),r=(e,r)=>{if((0,a.G4)(e)||(0,a.G4)(r))return a.uY;const i=te(e.value,r.value);return i.valid?(((0,a.DM)(e)||(0,a.DM)(r))&&t.dirty(),{status:t.value,value:i.data}):((0,a.zn)(n,{code:o.eq.invalid_intersection_types}),a.uY)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([e,t])=>r(e,t)):r(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}ne.create=(e,t,n)=>new ne({left:e,right:t,typeName:ke.ZodIntersection,...d(n)});class re extends h{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==l.Zp.array)return(0,a.zn)(n,{code:o.eq.invalid_type,expected:l.Zp.array,received:n.parsedType}),a.uY;if(n.data.length<this._def.items.length)return(0,a.zn)(n,{code:o.eq.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),a.uY;!this._def.rest&&n.data.length>this._def.items.length&&((0,a.zn)(n,{code:o.eq.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const r=[...n.data].map((e,t)=>{const r=this._def.items[t]||this._def.rest;return r?r._parse(new c(n,e,n.path,t)):null}).filter(e=>!!e);return n.common.async?Promise.all(r).then(e=>a.MY.mergeArray(t,e)):a.MY.mergeArray(t,r)}get items(){return this._def.items}rest(e){return new re({...this._def,rest:e})}}re.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new re({items:e,typeName:ke.ZodTuple,rest:null,...d(t)})};class oe extends h{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==l.Zp.object)return(0,a.zn)(n,{code:o.eq.invalid_type,expected:l.Zp.object,received:n.parsedType}),a.uY;const r=[],i=this._def.keyType,s=this._def.valueType;for(const e in n.data)r.push({key:i._parse(new c(n,e,n.path,e)),value:s._parse(new c(n,n.data[e],n.path,e)),alwaysSet:e in n.data});return n.common.async?a.MY.mergeObjectAsync(t,r):a.MY.mergeObjectSync(t,r)}get element(){return this._def.valueType}static create(e,t,n){return new oe(t instanceof h?{keyType:e,valueType:t,typeName:ke.ZodRecord,...d(n)}:{keyType:F.create(),valueType:e,typeName:ke.ZodRecord,...d(t)})}}class ie extends h{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==l.Zp.map)return(0,a.zn)(n,{code:o.eq.invalid_type,expected:l.Zp.map,received:n.parsedType}),a.uY;const r=this._def.keyType,i=this._def.valueType,s=[...n.data.entries()].map(([e,t],o)=>({key:r._parse(new c(n,e,n.path,[o,"key"])),value:i._parse(new c(n,t,n.path,[o,"value"]))}));if(n.common.async){const e=new Map;return Promise.resolve().then(async()=>{for(const n of s){const r=await n.key,o=await n.value;if("aborted"===r.status||"aborted"===o.status)return a.uY;"dirty"!==r.status&&"dirty"!==o.status||t.dirty(),e.set(r.value,o.value)}return{status:t.value,value:e}})}{const e=new Map;for(const n of s){const r=n.key,o=n.value;if("aborted"===r.status||"aborted"===o.status)return a.uY;"dirty"!==r.status&&"dirty"!==o.status||t.dirty(),e.set(r.value,o.value)}return{status:t.value,value:e}}}}ie.create=(e,t,n)=>new ie({valueType:t,keyType:e,typeName:ke.ZodMap,...d(n)});class se extends h{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==l.Zp.set)return(0,a.zn)(n,{code:o.eq.invalid_type,expected:l.Zp.set,received:n.parsedType}),a.uY;const r=this._def;null!==r.minSize&&n.data.size<r.minSize.value&&((0,a.zn)(n,{code:o.eq.too_small,minimum:r.minSize.value,type:"set",inclusive:!0,exact:!1,message:r.minSize.message}),t.dirty()),null!==r.maxSize&&n.data.size>r.maxSize.value&&((0,a.zn)(n,{code:o.eq.too_big,maximum:r.maxSize.value,type:"set",inclusive:!0,exact:!1,message:r.maxSize.message}),t.dirty());const i=this._def.valueType;function s(e){const n=new Set;for(const r of e){if("aborted"===r.status)return a.uY;"dirty"===r.status&&t.dirty(),n.add(r.value)}return{status:t.value,value:n}}const u=[...n.data.values()].map((e,t)=>i._parse(new c(n,e,n.path,t)));return n.common.async?Promise.all(u).then(e=>s(e)):s(u)}min(e,t){return new se({...this._def,minSize:{value:e,message:r.toString(t)}})}max(e,t){return new se({...this._def,maxSize:{value:e,message:r.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}se.create=(e,t)=>new se({valueType:e,minSize:null,maxSize:null,typeName:ke.ZodSet,...d(t)});class ae extends h{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==l.Zp.function)return(0,a.zn)(t,{code:o.eq.invalid_type,expected:l.Zp.function,received:t.parsedType}),a.uY;function n(e,n){return(0,a.y7)({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,(0,i.$W)(),s.A].filter(e=>!!e),issueData:{code:o.eq.invalid_arguments,argumentsError:n}})}function r(e,n){return(0,a.y7)({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,(0,i.$W)(),s.A].filter(e=>!!e),issueData:{code:o.eq.invalid_return_type,returnTypeError:n}})}const c={errorMap:t.common.contextualErrorMap},u=t.data;if(this._def.returns instanceof pe){const e=this;return(0,a.OK)(async function(...t){const i=new o.G([]),s=await e._def.args.parseAsync(t,c).catch(e=>{throw i.addIssue(n(t,e)),i}),a=await Reflect.apply(u,this,s);return await e._def.returns._def.type.parseAsync(a,c).catch(e=>{throw i.addIssue(r(a,e)),i})})}{const e=this;return(0,a.OK)(function(...t){const i=e._def.args.safeParse(t,c);if(!i.success)throw new o.G([n(t,i.error)]);const s=Reflect.apply(u,this,i.data),a=e._def.returns.safeParse(s,c);if(!a.success)throw new o.G([r(s,a.error)]);return a.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new ae({...this._def,args:re.create(e).rest($.create())})}returns(e){return new ae({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,n){return new ae({args:e||re.create([]).rest($.create()),returns:t||$.create(),typeName:ke.ZodFunction,...d(n)})}}class le extends h{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}le.create=(e,t)=>new le({getter:e,typeName:ke.ZodLazy,...d(t)});class ce extends h{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return(0,a.zn)(t,{received:t.data,code:o.eq.invalid_literal,expected:this._def.value}),a.uY}return{status:"valid",value:e.data}}get value(){return this._def.value}}function ue(e,t){return new de({values:e,typeName:ke.ZodEnum,...d(t)})}ce.create=(e,t)=>new ce({value:e,typeName:ke.ZodLiteral,...d(t)});class de extends h{_parse(e){if("string"!=typeof e.data){const t=this._getOrReturnCtx(e),n=this._def.values;return(0,a.zn)(t,{expected:l.ZS.joinValues(n),received:t.parsedType,code:o.eq.invalid_type}),a.uY}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const t=this._getOrReturnCtx(e),n=this._def.values;return(0,a.zn)(t,{received:t.data,code:o.eq.invalid_enum_value,options:n}),a.uY}return(0,a.OK)(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return de.create(e,{...this._def,...t})}exclude(e,t=this._def){return de.create(this.options.filter(t=>!e.includes(t)),{...this._def,...t})}}de.create=ue;class he extends h{_parse(e){const t=l.ZS.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==l.Zp.string&&n.parsedType!==l.Zp.number){const e=l.ZS.objectValues(t);return(0,a.zn)(n,{expected:l.ZS.joinValues(e),received:n.parsedType,code:o.eq.invalid_type}),a.uY}if(this._cache||(this._cache=new Set(l.ZS.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const e=l.ZS.objectValues(t);return(0,a.zn)(n,{received:n.data,code:o.eq.invalid_enum_value,options:e}),a.uY}return(0,a.OK)(e.data)}get enum(){return this._def.values}}he.create=(e,t)=>new he({values:e,typeName:ke.ZodNativeEnum,...d(t)});class pe extends h{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==l.Zp.promise&&!1===t.common.async)return(0,a.zn)(t,{code:o.eq.invalid_type,expected:l.Zp.promise,received:t.parsedType}),a.uY;const n=t.parsedType===l.Zp.promise?t.data:Promise.resolve(t.data);return(0,a.OK)(n.then(e=>this._def.type.parseAsync(e,{path:t.path,errorMap:t.common.contextualErrorMap})))}}pe.create=(e,t)=>new pe({type:e,typeName:ke.ZodPromise,...d(t)});class fe extends h{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ke.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:n}=this._processInputParams(e),r=this._def.effect||null,o={addIssue:e=>{(0,a.zn)(n,e),e.fatal?t.abort():t.dirty()},get path(){return n.path}};if(o.addIssue=o.addIssue.bind(o),"preprocess"===r.type){const e=r.transform(n.data,o);if(n.common.async)return Promise.resolve(e).then(async e=>{if("aborted"===t.value)return a.uY;const r=await this._def.schema._parseAsync({data:e,path:n.path,parent:n});return"aborted"===r.status?a.uY:"dirty"===r.status||"dirty"===t.value?(0,a.jm)(r.value):r});{if("aborted"===t.value)return a.uY;const r=this._def.schema._parseSync({data:e,path:n.path,parent:n});return"aborted"===r.status?a.uY:"dirty"===r.status||"dirty"===t.value?(0,a.jm)(r.value):r}}if("refinement"===r.type){const e=e=>{const t=r.refinement(e,o);if(n.common.async)return Promise.resolve(t);if(t instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return e};if(!1===n.common.async){const r=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return"aborted"===r.status?a.uY:("dirty"===r.status&&t.dirty(),e(r.value),{status:t.value,value:r.value})}return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(n=>"aborted"===n.status?a.uY:("dirty"===n.status&&t.dirty(),e(n.value).then(()=>({status:t.value,value:n.value}))))}if("transform"===r.type){if(!1===n.common.async){const e=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!(0,a.fn)(e))return a.uY;const i=r.transform(e.value,o);if(i instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:i}}return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(e=>(0,a.fn)(e)?Promise.resolve(r.transform(e.value,o)).then(e=>({status:t.value,value:e})):a.uY)}l.ZS.assertNever(r)}}fe.create=(e,t,n)=>new fe({schema:e,typeName:ke.ZodEffects,effect:t,...d(n)}),fe.createWithPreprocess=(e,t,n)=>new fe({schema:t,effect:{type:"preprocess",transform:e},typeName:ke.ZodEffects,...d(n)});class me extends h{_parse(e){return this._getType(e)===l.Zp.undefined?(0,a.OK)(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}me.create=(e,t)=>new me({innerType:e,typeName:ke.ZodOptional,...d(t)});class ge extends h{_parse(e){return this._getType(e)===l.Zp.null?(0,a.OK)(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}ge.create=(e,t)=>new ge({innerType:e,typeName:ke.ZodNullable,...d(t)});class be extends h{_parse(e){const{ctx:t}=this._processInputParams(e);let n=t.data;return t.parsedType===l.Zp.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}be.create=(e,t)=>new be({innerType:e,typeName:ke.ZodDefault,defaultValue:"function"==typeof t.default?t.default:()=>t.default,...d(t)});class we extends h{_parse(e){const{ctx:t}=this._processInputParams(e),n={...t,common:{...t.common,issues:[]}},r=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return(0,a.xP)(r)?r.then(e=>({status:"valid",value:"valid"===e.status?e.value:this._def.catchValue({get error(){return new o.G(n.common.issues)},input:n.data})})):{status:"valid",value:"valid"===r.status?r.value:this._def.catchValue({get error(){return new o.G(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}we.create=(e,t)=>new we({innerType:e,typeName:ke.ZodCatch,catchValue:"function"==typeof t.catch?t.catch:()=>t.catch,...d(t)});class ye extends h{_parse(e){if(this._getType(e)!==l.Zp.nan){const t=this._getOrReturnCtx(e);return(0,a.zn)(t,{code:o.eq.invalid_type,expected:l.Zp.nan,received:t.parsedType}),a.uY}return{status:"valid",value:e.data}}}ye.create=e=>new ye({typeName:ke.ZodNaN,...d(e)});const ve=Symbol("zod_brand");class Ae extends h{_parse(e){const{ctx:t}=this._processInputParams(e),n=t.data;return this._def.type._parse({data:n,path:t.path,parent:t})}unwrap(){return this._def.type}}class _e extends h{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{const e=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return"aborted"===e.status?a.uY:"dirty"===e.status?(t.dirty(),(0,a.jm)(e.value)):this._def.out._parseAsync({data:e.value,path:n.path,parent:n})})();{const e=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return"aborted"===e.status?a.uY:"dirty"===e.status?(t.dirty(),{status:"dirty",value:e.value}):this._def.out._parseSync({data:e.value,path:n.path,parent:n})}}static create(e,t){return new _e({in:e,out:t,typeName:ke.ZodPipeline})}}class xe extends h{_parse(e){const t=this._def.innerType._parse(e),n=e=>((0,a.fn)(e)&&(e.value=Object.freeze(e.value)),e);return(0,a.xP)(t)?t.then(e=>n(e)):n(t)}unwrap(){return this._def.innerType}}function Se(e,t){const n="function"==typeof e?e(t):"string"==typeof e?{message:e}:e;return"string"==typeof n?{message:n}:n}function Ee(e,t={},n){return e?W.create().superRefine((r,o)=>{const i=e(r);if(i instanceof Promise)return i.then(e=>{if(!e){const e=Se(t,r),i=e.fatal??n??!0;o.addIssue({code:"custom",...e,fatal:i})}});if(!i){const e=Se(t,r),i=e.fatal??n??!0;o.addIssue({code:"custom",...e,fatal:i})}}):W.create()}xe.create=(e,t)=>new xe({innerType:e,typeName:ke.ZodReadonly,...d(t)});const Ce={object:K.lazycreate};var ke;!function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"}(ke||(ke={}));const Oe=(e,t={message:`Input not instance of ${e.name}`})=>Ee(t=>t instanceof e,t),Te=F.create,Ie=R.create,Be=ye.create,Me=L.create,Pe=z.create,je=H.create,Ne=U.create,Fe=Q.create,De=q.create,Re=W.create,Le=$.create,ze=G.create,He=V.create,Ue=Y.create,Qe=K.create,qe=K.strictCreate,We=X.create,$e=ee.create,Ge=ne.create,Ve=re.create,Ye=oe.create,Je=ie.create,Ke=se.create,Xe=ae.create,Ze=le.create,et=ce.create,tt=de.create,nt=he.create,rt=pe.create,ot=fe.create,it=me.create,st=ge.create,at=fe.createWithPreprocess,lt=_e.create,ct=()=>Te().optional(),ut=()=>Ie().optional(),dt=()=>Pe().optional(),ht={string:e=>F.create({...e,coerce:!0}),number:e=>R.create({...e,coerce:!0}),boolean:e=>z.create({...e,coerce:!0}),bigint:e=>L.create({...e,coerce:!0}),date:e=>H.create({...e,coerce:!0})},pt=a.uY},"./src/browser-manager.ts":function(e,t,n){"use strict";var r,o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||(r=function(e){return r=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},r(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n=r(e),s=0;s<n.length;s++)"default"!==n[s]&&o(t,e,n[s]);return i(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.BrowserManager=void 0,t.getChromeExecutablePath=p,t.getSelfCdpUrl=f,t.listBrowserContexts=async function(e){try{const t=await u.chromium.connectOverCDP(e),n=t.contexts(),r=await Promise.all(n.map(async e=>{const t=e.pages();return{id:e._guid||"unknown",pages:t.length}}));return await t.close(),r}catch(e){return d.PlaywrightLogger.error("Error listing browser contexts",e),[]}},t.checkPlaywrightStatus=async function(){const e=await p();return{platform:l.platform(),chromeFound:!!e,chromePath:e||"bundled"}};const a=s(n("fs/promises")),l=s(n("os")),c=s(n("path")),u=n("./node_modules/playwright/index.mjs"),d=n("./src/utils/logger.ts"),h=n("./src/utils/context.ts");async function p(){const e=l.platform(),t=[];switch(e){case"darwin":t.push("/Applications/Google Chrome.app/Contents/MacOS/Google Chrome","/Applications/Google Chrome Beta.app/Contents/MacOS/Google Chrome Beta","/Applications/Google Chrome Dev.app/Contents/MacOS/Google Chrome Dev","/Applications/Google Chrome Canary.app/Contents/MacOS/Google Chrome Canary","/Applications/Chromium.app/Contents/MacOS/Chromium");break;case"win32":{const e=process.env.PROGRAMFILES||"C:\\Program Files",n=process.env["PROGRAMFILES(X86)"]||"C:\\Program Files (x86)",r=process.env.LOCALAPPDATA||c.join(l.homedir(),"AppData","Local");t.push(c.join(e,"Google","Chrome","Application","chrome.exe"),c.join(n,"Google","Chrome","Application","chrome.exe"),c.join(r,"Google","Chrome","Application","chrome.exe"),c.join(e,"Google","Chrome Beta","Application","chrome.exe"),c.join(n,"Google","Chrome Beta","Application","chrome.exe"),c.join(r,"Google","Chrome Beta","Application","chrome.exe"),c.join(e,"Google","Chrome Dev","Application","chrome.exe"),c.join(n,"Google","Chrome Dev","Application","chrome.exe"),c.join(r,"Google","Chrome Dev","Application","chrome.exe"),c.join(e,"Google","Chrome SxS","Application","chrome.exe"),c.join(n,"Google","Chrome SxS","Application","chrome.exe"),c.join(r,"Google","Chrome SxS","Application","chrome.exe"),c.join(e,"Chromium","Application","chrome.exe"),c.join(n,"Chromium","Application","chrome.exe"),c.join(r,"Chromium","Application","chrome.exe"));break}case"linux":t.push("/usr/bin/google-chrome","/usr/bin/google-chrome-stable","/usr/bin/google-chrome-beta","/usr/bin/google-chrome-unstable","/usr/bin/chromium-browser","/usr/bin/chromium","/snap/bin/chromium","/var/lib/snapd/snap/bin/chromium","/usr/local/bin/chrome","/usr/local/bin/google-chrome");break;default:return void d.PlaywrightLogger.warn(`Unsupported platform: ${e}`)}for(const e of t)try{if(await a.access(e).then(()=>!0).catch(()=>!1))return d.PlaywrightLogger.info(`Found Chrome executable at: ${e}`),e}catch(e){continue}d.PlaywrightLogger.warn(`No Chrome executable found on ${e}. Checked paths: ${t.join(", ")}`)}async function f(){const e="function"==typeof fetch?fetch:(await Promise.resolve().then(()=>s(n("./node_modules/node-fetch/src/index.js")))).default;for(let t=0;t<=2;t++){const n=new AbortController,r=setTimeout(()=>n.abort(),3e3);try{const t=await e("http://localhost:9222/json/version",{signal:n.signal});if(!t.ok)throw new Error(`Failed to fetch CDP version info: ${t.status} ${t.statusText}`);const r=await t.json();if("object"==typeof r&&null!==r&&"webSocketDebuggerUrl"in r&&"string"==typeof r.webSocketDebuggerUrl)return r.webSocketDebuggerUrl;throw new Error("`webSocketDebuggerUrl` is missing or not a string in response")}catch(e){const n=2===t;if(d.PlaywrightLogger.warn(`Attempt ${t+1} to fetch self CDP URL failed: ${e.message}`),n)throw d.PlaywrightLogger.error("Failed to retrieve self CDP URL after retries",e),e;await new Promise(e=>setTimeout(e,500))}finally{clearTimeout(r)}}throw new Error("Unexpected error fetching self CDP URL")}t.BrowserManager=class{constructor(e){this.config=e,this.browserContext=null,this.toolContext=null,this.activeBrowsers=new Set,this.persistentContextDir=null}async getContext(){if(this.browserContext&&this.toolContext)try{return this.browserContext.pages(),this.toolContext}catch(e){d.PlaywrightLogger.info("Detected closed context, reinitializing"),this.browserContext=null,this.toolContext=null}let e;if(d.PlaywrightLogger.info("Lazily initializing browser context"),"self"===this.config.connectionType){const t=await f();d.PlaywrightLogger.info(`Connecting to self CDP at ${t}`),e=await u.chromium.connectOverCDP(t),this.activeBrowsers.add(e),e.on("disconnected",()=>{this.activeBrowsers.delete(e),d.PlaywrightLogger.info("Browser disconnected and removed from tracking, clearing context references"),this.browserContext=null,this.toolContext&&(this.toolContext.dispose().catch(e=>d.PlaywrightLogger.error("Error disposing tool context",e)),this.toolContext=null)}),e.contexts().length>0?(this.browserContext=e.contexts()[0],d.PlaywrightLogger.info("Using first available context from self")):(this.browserContext=await e.newContext(),d.PlaywrightLogger.info("No existing context found  created new context in self mode")),this.browserContext.on("close",async()=>{d.PlaywrightLogger.info("Browser context closed, clearing references"),this.browserContext=null,this.toolContext&&(await this.toolContext.dispose(),this.toolContext=null)})}else if("cdp"===this.config.connectionType){d.PlaywrightLogger.info(`Connecting to CDP at ${this.config.cdpUrl}`),e=await u.chromium.connectOverCDP(this.config.cdpUrl),this.activeBrowsers.add(e),e.on("disconnected",()=>{this.activeBrowsers.delete(e),d.PlaywrightLogger.info("Browser disconnected and removed from tracking, clearing context references"),this.browserContext=null,this.toolContext&&(this.toolContext.dispose().catch(e=>d.PlaywrightLogger.error("Error disposing tool context",e)),this.toolContext=null)});const t="cdp"===this.config.connectionType?this.config.selectedContextId:void 0;if(t){const n=e.contexts().find(e=>e._guid===t);n?(d.PlaywrightLogger.info(`Using existing context: ${t}`),this.browserContext=n):(d.PlaywrightLogger.warn(`Context ${t} not found, using first available or creating new`),this.browserContext=e.contexts()[0]??await e.newContext())}else this.browserContext=e.contexts()[0]??await e.newContext(),d.PlaywrightLogger.info("Using first available context or created new");this.browserContext.on("close",async()=>{d.PlaywrightLogger.info("Browser context closed, clearing references"),this.browserContext=null,this.toolContext&&(await this.toolContext.dispose(),this.toolContext=null)})}else{const e="executable"===this.config.connectionType?this.config.executablePath:await p();d.PlaywrightLogger.info(`Launching browser with persistent context, executable: ${e||"bundled"}`),this.persistentContextDir=c.join(l.tmpdir(),`cursor-browser-extension-session-${Date.now()}`),await a.mkdir(this.persistentContextDir,{recursive:!0});const t={headless:!1,viewport:null,args:["--enable-extensions"]};e?(t.channel=void 0,t.executablePath=e):t.channel="chrome",this.browserContext=await u.chromium.launchPersistentContext(this.persistentContextDir,t);const n=this.browserContext.browser();n&&(this.activeBrowsers.add(n),n.on("disconnected",()=>{n&&this.activeBrowsers.delete(n),d.PlaywrightLogger.info("Browser disconnected and removed from tracking, clearing context references"),this.browserContext=null,this.toolContext&&(this.toolContext.dispose().catch(e=>d.PlaywrightLogger.error("Error disposing tool context",e)),this.toolContext=null)})),this.browserContext.on("close",async()=>{d.PlaywrightLogger.info("Browser context closed, clearing references and closing browser");try{const e=this.browserContext?.browser();e&&(await e.close(),this.activeBrowsers.delete(e))}catch(e){d.PlaywrightLogger.error("Error closing browser on context close",e)}this.browserContext=null,this.toolContext&&(await this.toolContext.dispose(),this.toolContext=null)}),d.PlaywrightLogger.info(`Persistent context created at: ${this.persistentContextDir}`)}return this.toolContext=new h.Context(this.browserContext),this.toolContext}async dispose(){if(this.toolContext&&(await this.toolContext.dispose(),this.toolContext=null),this.browserContext){try{d.PlaywrightLogger.info("Closing browser context"),await this.browserContext.close(),d.PlaywrightLogger.info("Browser context closed successfully")}catch(e){d.PlaywrightLogger.error("Error closing browser context",e)}this.browserContext=null}if(this.activeBrowsers.size>0){d.PlaywrightLogger.info(`Closing ${this.activeBrowsers.size} active browser(s)`);const e=Array.from(this.activeBrowsers).map(async e=>{try{await e.close(),d.PlaywrightLogger.info("Browser closed successfully")}catch(e){d.PlaywrightLogger.error("Error closing browser",e)}});await Promise.allSettled(e),this.activeBrowsers.clear()}if(this.persistentContextDir){try{d.PlaywrightLogger.info(`Cleaning up persistent context directory: ${this.persistentContextDir}`),await a.rm(this.persistentContextDir,{recursive:!0,force:!0}),d.PlaywrightLogger.info("Persistent context directory cleaned up")}catch(e){d.PlaywrightLogger.error("Error cleaning up persistent context directory",e)}this.persistentContextDir=null}}}},"./src/main.ts":function(e,t,n){"use strict";var r,o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||(r=function(e){return r=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},r(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n=r(e),s=0;s<n.length;s++)"default"!==n[s]&&o(t,e,n[s]);return i(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.activate=async function(e){O.PlaywrightLogger.init(),O.PlaywrightLogger.info("Activating Cursor Browser Extension MCP Provider");const t=new B(e);try{await t.initialize(),O.PlaywrightLogger.info("Cursor Browser Extension MCP Provider initialized successfully")}catch(e){O.PlaywrightLogger.error("Failed to initialize Cursor Browser Extension MCP Provider",e)}const n=u.cursor.registerMcpProvider(t),r=u.commands.registerCommand("cursor-browser-extension.status",d.checkPlaywrightStatus),o=u.commands.registerCommand("cursor-browser-extension.listContexts",d.listBrowserContexts),i=u.commands.registerCommand("cursor-browser-extension.updateConfig",async n=>{O.PlaywrightLogger.info(`Updating configuration: ${JSON.stringify(n)}`),await e.globalState.update("playwrightConfig",n);try{await t.dispose(),await t.initialize(),O.PlaywrightLogger.info("Successfully reinitialized with new configuration")}catch(e){O.PlaywrightLogger.error("Failed to reinitialize with new configuration",e)}});I.push(async()=>{await t.dispose(),n.dispose(),r.dispose(),o.dispose(),i.dispose()}),O.PlaywrightLogger.info("Cursor Browser Extension MCP Provider registered successfully")},t.deactivate=async function(){O.PlaywrightLogger.info("Deactivating Cursor Browser Extension MCP Provider");for(const e of I)await e()};const a=s(n("fs/promises")),l=s(n("os")),c=s(n("path")),u=s(n("vscode")),d=n("./src/browser-manager.ts"),h=n("./src/tools/click.ts"),p=n("./src/tools/console.ts"),f=n("./src/tools/dialog.ts"),m=n("./src/tools/drag.ts"),g=n("./src/tools/evaluate.ts"),b=n("./src/tools/form.ts"),w=n("./src/tools/hover.ts"),y=n("./src/tools/keyboard.ts"),v=n("./src/tools/navigate.ts"),A=n("./src/tools/network.ts"),_=n("./src/tools/resize.ts"),x=n("./src/tools/screenshot.ts"),S=n("./src/tools/select.ts"),E=n("./src/tools/snapshot.ts"),C=n("./src/tools/tabs.ts"),k=n("./src/tools/wait.ts"),O=n("./src/utils/logger.ts"),T=n("./src/utils/mcp-tools.ts"),I=[];class B{constructor(e){this.extensionContext=e,this.id="cursor-browser-extension",this.featureGateName="playwright_mcp_provider",this.browserManager=null,this.mcpTools=null,this.currentConfig=null,this.TEMP_LOG_DIR=c.join(l.homedir(),".cursor","browser-logs")}async initialize(){try{O.PlaywrightLogger.info("Initializing Playwright Browser Tools"),await this.cleanupOldLogFiles(),this.currentConfig=this.extensionContext.globalState.get("playwrightConfig",{connectionType:"default"}),O.PlaywrightLogger.info(`Using configuration: ${JSON.stringify(this.currentConfig)}`),this.browserManager=new d.BrowserManager(this.currentConfig);const e=async()=>{if(!this.browserManager)throw new Error("Browser manager not initialized");return await this.browserManager.getContext()};this.mcpTools=(0,T.createMcpTools)({browser_navigate:(0,T.browserToolToMcpTool)(v.browserNavigate,e),browser_navigate_back:(0,T.browserToolToMcpTool)(v.browserNavigateBack,e),browser_resize:(0,T.browserToolToMcpTool)(_.browserResize,e),browser_snapshot:(0,T.browserToolToMcpTool)(E.browserSnapshot,e,{snapshotSizeThreshold:204800}),browser_wait_for:(0,T.browserToolToMcpTool)(k.browserWaitFor,e),browser_press_key:(0,T.browserToolToMcpTool)(y.browserPressKey,e),browser_console_messages:(0,T.browserToolToMcpTool)(p.browserConsoleMessages,e),browser_network_requests:(0,T.browserToolToMcpTool)(A.browserNetworkRequests,e),browser_click:(0,T.browserToolToMcpTool)(h.browserClick,e),browser_hover:(0,T.browserToolToMcpTool)(w.browserHover,e),browser_type:(0,T.browserToolToMcpTool)(y.browserType,e),browser_select_option:(0,T.browserToolToMcpTool)(S.browserSelectOption,e),browser_drag:(0,T.browserToolToMcpTool)(m.browserDrag,e),browser_evaluate:(0,T.browserToolToMcpTool)(g.browserEvaluate,e),browser_fill_form:(0,T.browserToolToMcpTool)(b.browserFillForm,e),browser_handle_dialog:(0,T.browserToolToMcpTool)(f.browserHandleDialog,e),browser_take_screenshot:(0,T.browserToolToMcpTool)(x.browserTakeScreenshot,e),browser_tabs:(0,T.browserToolToMcpTool)(C.browserTabs,e)}),O.PlaywrightLogger.info("Playwright Browser Tools initialized successfully")}catch(e){throw O.PlaywrightLogger.error("Failed to initialize Playwright Browser Tools",e),e}}async listOfferings(){if(!this.mcpTools)throw new Error("Browser tools not initialized");O.PlaywrightLogger.info("Listing available browser tools");try{return{tools:this.mcpTools.getTools(),prompts:[],resources:[]}}catch(e){throw O.PlaywrightLogger.error("Error listing offerings",e),e}}async callTool(e,t){if(this.mcpTools||await this.initialize(),!this.mcpTools)throw new Error("Browser tools not initialized");try{O.PlaywrightLogger.info(`Calling tool ${e}`);const n=await this.mcpTools.call(e,t);return O.PlaywrightLogger.info(`Result: ${JSON.stringify(n,null,2)}`),n}catch(t){throw O.PlaywrightLogger.error(`Error calling tool ${e}`,t),t}}async cleanupOldLogFiles(){try{if(!await a.access(this.TEMP_LOG_DIR).then(()=>!0).catch(()=>!1))return;const e=await a.readdir(this.TEMP_LOG_DIR),t=Date.now(),n=6048e5;for(const r of e)if(r.endsWith(".log")){const e=c.join(this.TEMP_LOG_DIR,r);try{t-(await a.stat(e)).mtimeMs>n&&(await a.unlink(e),O.PlaywrightLogger.info(`Cleaned up old log file: ${r}`))}catch(e){O.PlaywrightLogger.error(`Failed to clean up log file ${r}`,e)}}}catch(e){O.PlaywrightLogger.error("Failed to cleanup old log files",e)}}async dispose(){this.browserManager&&(await this.browserManager.dispose(),this.browserManager=null),await this.cleanupOldLogFiles(),this.mcpTools=null,O.PlaywrightLogger.info("Playwright MCP Provider disposed")}}},"./src/tools/click.ts":function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.browserClick=void 0;const o=r(n("./node_modules/zod/index.js")),i=n("./src/utils/browser-tool.ts");t.browserClick=(0,i.defineBrowserTool)({name:"browser_click",description:"Perform click on a web page",params:o.default.object({element:o.default.string().describe("Human-readable element description used to obtain permission to interact with the element"),ref:o.default.string().describe("Exact target element reference from the page snapshot"),doubleClick:o.default.boolean().optional().describe("Whether to perform a double click instead of a single click"),button:o.default.enum(["left","right","middle"]).optional().describe("Button to click, defaults to left"),modifiers:o.default.array(o.default.enum(["Alt","Control","ControlOrMeta","Meta","Shift"])).optional().describe("Modifier keys to press")}),handle:async(e,t,n)=>{const r=e.currentTab();if(!r)throw new Error("No active tab available");n.setIncludeSnapshot();const o=r.page.locator(`aria-ref=${t.ref}`),i={button:t.button,modifiers:t.modifiers};t.doubleClick?(n.addCode(`await page.locator('aria-ref=${t.ref}').dblclick(${JSON.stringify(i)});`),await o.dblclick(i)):(n.addCode(`await page.locator('aria-ref=${t.ref}').click(${JSON.stringify(i)});`),await o.click(i))}})},"./src/tools/console.ts":function(e,t,n){"use strict";var r,o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||(r=function(e){return r=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},r(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n=r(e),s=0;s<n.length;s++)"default"!==n[s]&&o(t,e,n[s]);return i(t,e),t}),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.browserConsoleMessages=void 0;const l=a(n("./node_modules/zod/index.js")),c=s(n("fs/promises")),u=s(n("path")),d=s(n("os")),h=n("url"),p=n("./src/utils/browser-tool.ts"),f=u.join(d.homedir(),".cursor","browser-logs");t.browserConsoleMessages=(0,p.defineBrowserTool)({name:"browser_console_messages",description:"Returns all console messages",params:l.default.object({}),handle:async(e,t,n)=>{const r=e.currentTab();if(!r)throw new Error("No active tab available");const o=await r.consoleMessages(),i=o.map(e=>e.toString()),s=i.join("\n"),a=Buffer.byteLength(s,"utf8");if(a>25600){const{filePath:e,previewLines:t,totalLines:i}=await async function(e){await c.mkdir(f,{recursive:!0});const t=`console-${(new Date).toISOString().replace(/[:.]/g,"-")}.log`,n=u.join(f,t),r=e.split("\n"),o=r.length,i=r.slice(0,Math.min(50,o));return await c.writeFile(n,e,"utf8"),console.info(`Console logs written to: ${n} (${o} lines, ${i.length} preview lines)`),{filePath:n,previewLines:i,totalLines:o}}(s),l=r.page.url(),d=await r.page.title().catch(()=>"Unknown"),p=(0,h.pathToFileURL)(e).href;n.addResult(`### Console Logs\n- Page URL: ${l}\n- Page Title: ${d}\n- Total Messages: ${o.length}\n- Console Output: Large console output (${a} bytes, ${i} lines) written to file\n- Console Log File: [${e}](${p})\n- Preview (first ${t.length} lines):\n\`\`\`\n${t.join("\n")}\n\`\`\`\n\n... (${i-t.length} more lines in file)`)}else i.forEach(e=>n.addResult(e))}})},"./src/tools/dialog.ts":function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.browserHandleDialog=void 0;const o=r(n("./node_modules/zod/index.js")),i=n("./src/utils/browser-tool.ts");t.browserHandleDialog=(0,i.defineBrowserTool)({name:"browser_handle_dialog",description:"Handle a dialog (alert, confirm, prompt)",params:o.default.object({accept:o.default.boolean().describe("Whether to accept the dialog."),promptText:o.default.string().optional().describe("The text of the prompt in case of a prompt dialog.")}),handle:async(e,t,n)=>{const r=e.currentTab();if(!r)throw new Error("No active tab available");n.setIncludeSnapshot();const o=r.modalStates().find(e=>"dialog"===e.type);if(!o)throw new Error("No dialog visible");r.clearModalState(o),"dialog"===o.type&&(t.accept?(await o.dialog.accept(t.promptText),n.addCode(`await dialog.accept(${t.promptText?`'${t.promptText}'`:""});`)):(await o.dialog.dismiss(),n.addCode("await dialog.dismiss();")))}})},"./src/tools/drag.ts":function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.browserDrag=void 0;const o=r(n("./node_modules/zod/index.js")),i=n("./src/utils/browser-tool.ts");t.browserDrag=(0,i.defineBrowserTool)({name:"browser_drag",description:"Perform drag and drop between two elements",params:o.default.object({startElement:o.default.string().describe("Human-readable source element description used to obtain the permission to interact with the element"),startRef:o.default.string().describe("Exact source element reference from the page snapshot"),endElement:o.default.string().describe("Human-readable target element description used to obtain the permission to interact with the element"),endRef:o.default.string().describe("Exact target element reference from the page snapshot")}),handle:async(e,t,n)=>{const r=e.currentTab();if(!r)throw new Error("No active tab available");n.setIncludeSnapshot();const o=r.page.locator(`aria-ref=${t.startRef}`),i=r.page.locator(`aria-ref=${t.endRef}`);await o.dragTo(i),n.addCode(`await page.locator('aria-ref=${t.startRef}').dragTo(page.locator('aria-ref=${t.endRef}'));`)}})},"./src/tools/evaluate.ts":function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.browserEvaluate=void 0;const o=r(n("./node_modules/zod/index.js")),i=n("./src/utils/browser-tool.ts");t.browserEvaluate=(0,i.defineBrowserTool)({name:"browser_evaluate",description:"Evaluate JavaScript expression on page or element",params:o.default.object({function:o.default.string().describe("() => { /* code */ } or (element) => { /* code */ } when element/ref is provided"),element:o.default.string().optional().describe("Description of the element, if evaluating on an element"),ref:o.default.string().optional().describe("CSS selector to find element, if evaluating on an element")}),handle:async(e,t,n)=>{const r=e.currentTab();if(!r)throw new Error("No active tab available");if(n.setIncludeSnapshot(),t.ref&&t.element){const e=r.page.locator(t.ref);n.addCode(`await page.locator('${t.ref}').evaluate(${t.function});`);const o=await e._evaluateFunction(t.function);n.addResult(JSON.stringify(o,null,2)||"undefined")}else{n.addCode(`await page.evaluate(${t.function});`);const e=await r.page._evaluateFunction(t.function);n.addResult(JSON.stringify(e,null,2)||"undefined")}}})},"./src/tools/form.ts":function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.browserFillForm=void 0;const o=r(n("./node_modules/zod/index.js")),i=n("./src/utils/browser-tool.ts");t.browserFillForm=(0,i.defineBrowserTool)({name:"browser_fill_form",description:"Fill multiple form fields",params:o.default.object({fields:o.default.array(o.default.object({name:o.default.string().describe("Description of the field"),ref:o.default.string().describe("CSS selector for the field"),type:o.default.enum(["textbox","checkbox","radio","combobox","slider"]).describe("Type of the field"),value:o.default.string().describe("Value to fill in the field. If the field is a checkbox, the value should be `true` or `false`. If the field is a combobox, the value should be the text of the option.")})).describe("Fields to fill in")}),handle:async(e,t,n)=>{const r=e.currentTab();if(!r)throw new Error("No active tab available");for(const e of t.fields){const t=r.page.locator(e.ref);if("textbox"===e.type||"slider"===e.type)await t.fill(e.value),n.addCode(`await page.locator('${e.ref}').fill('${e.value}');`);else if("checkbox"===e.type||"radio"===e.type){const r="true"===e.value;await t.setChecked(r),n.addCode(`await page.locator('${e.ref}').setChecked(${r});`)}else"combobox"===e.type&&(await t.selectOption({label:e.value}),n.addCode(`await page.locator('${e.ref}').selectOption('${e.value}');`))}n.setIncludeSnapshot()}})},"./src/tools/hover.ts":function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.browserHover=void 0;const o=r(n("./node_modules/zod/index.js")),i=n("./src/utils/browser-tool.ts");t.browserHover=(0,i.defineBrowserTool)({name:"browser_hover",description:"Hover over element on page",params:o.default.object({element:o.default.string().describe("Human-readable element description used to obtain permission to interact with the element"),ref:o.default.string().describe("Exact target element reference from the page snapshot")}),handle:async(e,t,n)=>{const r=e.currentTab();if(!r)throw new Error("No active tab available");n.setIncludeSnapshot();const o=r.page.locator(`aria-ref=${t.ref}`);n.addCode(`await page.locator('aria-ref=${t.ref}').hover();`),await o.hover()}})},"./src/tools/keyboard.ts":function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.browserType=t.browserPressKey=void 0;const o=r(n("./node_modules/zod/index.js")),i=n("./src/utils/browser-tool.ts");t.browserPressKey=(0,i.defineBrowserTool)({name:"browser_press_key",description:"Press a key on the keyboard",params:o.default.object({key:o.default.string().describe("Name of the key to press or a character to generate, such as `ArrowLeft` or `a`")}),handle:async(e,t,n)=>{const r=e.currentTab();if(!r)throw new Error("No active tab available");n.setIncludeSnapshot(),n.addCode(`// Press ${t.key}`),n.addCode(`await page.keyboard.press('${t.key}');`),await r.page.keyboard.press(t.key)}}),t.browserType=(0,i.defineBrowserTool)({name:"browser_type",description:"Type text into editable element",params:o.default.object({element:o.default.string().describe("Human-readable element description used to obtain permission to interact with the element"),ref:o.default.string().describe("Exact target element reference from the page snapshot"),text:o.default.string().describe("Text to type into the element"),submit:o.default.boolean().optional().describe("Whether to submit entered text (press Enter after)"),slowly:o.default.boolean().optional().describe("Whether to type one character at a time. Useful for triggering key handlers in the page. By default entire text is filled in at once.")}),handle:async(e,t,n)=>{const r=e.currentTab();if(!r)throw new Error("No active tab available");const o=r.page.locator(`aria-ref=${t.ref}`),i=t.text;t.slowly?(n.setIncludeSnapshot(),n.addCode(`await page.locator('aria-ref=${t.ref}').pressSequentially('${i}');`),await o.pressSequentially(i)):(n.addCode(`await page.locator('aria-ref=${t.ref}').fill('${i}');`),await o.fill(i)),t.submit&&(n.setIncludeSnapshot(),n.addCode(`await page.locator('aria-ref=${t.ref}').press('Enter');`),await o.press("Enter"))}})},"./src/tools/navigate.ts":function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.browserNavigateBack=t.browserNavigate=void 0;const o=r(n("./node_modules/zod/index.js")),i=n("./src/utils/browser-tool.ts"),s=n("./src/utils/logger.ts");t.browserNavigate=(0,i.defineBrowserTool)({name:"browser_navigate",description:"Navigate to a URL",params:o.default.object({url:o.default.string().describe("The URL to navigate to")}),handle:async(e,t,n)=>{if("file:"===new URL(t.url).protocol){const e="Security restriction: file:// URLs are not allowed for security reasons. The browser_navigate tool can only access web URLs (http:// or https://). If you need to test with local files, consider using a local web server instead.";throw s.PlaywrightLogger.warn(`Blocked file:// URL navigation attempt: ${t.url}`),new Error(e)}await e.ensureTab(),await e.navigate(t.url),n.setIncludeSnapshot()}}),t.browserNavigateBack=(0,i.defineBrowserTool)({name:"browser_navigate_back",description:"Go back to the previous page",params:o.default.object({}),handle:async(e,t,n)=>{await e.ensureTab(),await e.goBack(),n.setIncludeSnapshot()}})},"./src/tools/network.ts":function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.browserNetworkRequests=void 0;const o=r(n("./node_modules/zod/index.js")),i=n("./src/utils/browser-tool.ts");async function s(e){const t=[];if(t.push(`[${e.method().toUpperCase()}] ${e.url()}`),e._hasResponse){const n=await e.response();n&&t.push(`=> [${n.status()}] ${n.statusText()}`)}return t.join(" ")}t.browserNetworkRequests=(0,i.defineBrowserTool)({name:"browser_network_requests",description:"Returns all network requests since loading the page",params:o.default.object({}),handle:async(e,t,n)=>{const r=e.currentTab();if(!r)throw new Error("No active tab available");const o=await r.requests();for(const e of o)n.addResult(await s(e))}})},"./src/tools/resize.ts":function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.browserResize=void 0;const o=r(n("./node_modules/zod/index.js")),i=n("./src/utils/browser-tool.ts");t.browserResize=(0,i.defineBrowserTool)({name:"browser_resize",description:"Resize the browser window",params:o.default.object({width:o.default.number().describe("Width of the browser window"),height:o.default.number().describe("Height of the browser window")}),handle:async(e,t,n)=>{const r=e.currentTab();if(!r)throw new Error("No active tab available");n.addCode(`await page.setViewportSize({ width: ${t.width}, height: ${t.height} });`),await r.page.setViewportSize({width:t.width,height:t.height})}})},"./src/tools/screenshot.ts":function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.browserTakeScreenshot=void 0;const o=r(n("./node_modules/zod/index.js")),i=n("./src/utils/browser-tool.ts");t.browserTakeScreenshot=(0,i.defineBrowserTool)({name:"browser_take_screenshot",description:"Take a screenshot of the current page. You can't perform actions based on the screenshot, use browser_snapshot for actions.",params:o.default.object({type:o.default.enum(["png","jpeg"]).default("png").describe("Image format for the screenshot. Default is png."),filename:o.default.string().optional().describe("File name to save the screenshot to. Defaults to `page-{timestamp}.{png|jpeg}` if not specified."),element:o.default.string().optional().describe("Description of a specific element to screenshot (if omitted, screenshots the page)"),ref:o.default.string().optional().describe("CSS selector of a specific element to screenshot (if omitted, screenshots the page)"),fullPage:o.default.boolean().optional().describe("When true, takes a screenshot of the full scrollable page, instead of the currently visible viewport.")}),handle:async(e,t,n)=>{await e.ensureTab();const r=t.type||"png",o=await e.outputFile(t.filename??(i=r,`page-${(new Date).toISOString().replace(/[:.]/g,"-").replace(/T/,"-").replace(/\.\d+Z$/,"")}.${i}`));var i;const s=e.currentTab();if(!s)throw new Error("No active tab available");let a,l;if(t.ref){const e=s.page.locator(t.ref),i={type:r,quality:"png"===r?void 0:90,path:o};l=t.element||t.ref,n.addCode(`// Screenshot element: ${l}`),n.addCode(`await page.locator('${t.ref}').screenshot(${JSON.stringify(i,null,2)});`),a=await e.screenshot(i)}else{const e={type:r,quality:"png"===r?void 0:90,path:o,...void 0!==t.fullPage&&{fullPage:t.fullPage}};l=t.fullPage?"full page":"viewport",n.addCode(`// Screenshot ${l} and save it as ${o}`),n.addCode(`await page.screenshot(${JSON.stringify(e,null,2)});`),a=await s.page.screenshot(e)}n.addResult(`Took the ${l} screenshot and saved it as ${o}`),t.fullPage||n.addImage({contentType:"png"===r?"image/png":"image/jpeg",data:a})}})},"./src/tools/select.ts":function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.browserSelectOption=void 0;const o=r(n("./node_modules/zod/index.js")),i=n("./src/utils/browser-tool.ts");t.browserSelectOption=(0,i.defineBrowserTool)({name:"browser_select_option",description:"Select an option in a dropdown",params:o.default.object({element:o.default.string().describe("Human-readable element description used to obtain permission to interact with the element"),ref:o.default.string().describe("Exact target element reference from the page snapshot"),values:o.default.array(o.default.string()).describe("Array of values to select in the dropdown. This can be a single value or multiple values.")}),handle:async(e,t,n)=>{const r=e.currentTab();if(!r)throw new Error("No active tab available");n.setIncludeSnapshot();const o=r.page.locator(`aria-ref=${t.ref}`);n.addCode(`await page.locator('aria-ref=${t.ref}').selectOption(${JSON.stringify(t.values)});`),await o.selectOption(t.values)}})},"./src/tools/snapshot.ts":function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.browserSnapshot=void 0;const o=r(n("./node_modules/zod/index.js")),i=n("./src/utils/browser-tool.ts");t.browserSnapshot=(0,i.defineBrowserTool)({name:"browser_snapshot",description:"Capture accessibility snapshot of the current page, this is better than screenshot",params:o.default.object({}),handle:async(e,t,n)=>{await e.ensureTab(),n.setIncludeSnapshot()}})},"./src/tools/tabs.ts":function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.browserTabs=void 0;const o=r(n("./node_modules/zod/index.js")),i=n("./src/utils/browser-tool.ts");t.browserTabs=(0,i.defineBrowserTool)({name:"browser_tabs",description:"List, create, close, or select a browser tab.",params:o.default.object({action:o.default.enum(["list","new","close","select"]).describe("Operation to perform"),index:o.default.number().optional().describe("Tab index, used for close/select. If omitted for close, current tab is closed.")}),handle:async(e,t,n)=>{switch(t.action){case"list":return await e.ensureTab(),void n.setIncludeTabs();case"new":return await e.newTab(),void n.setIncludeTabs();case"close":return await e.closeTab(t.index),void n.setIncludeSnapshot();case"select":if(void 0===t.index)throw new Error("Tab index is required");return await e.selectTab(t.index),void n.setIncludeSnapshot()}}})},"./src/tools/wait.ts":function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.browserWaitFor=void 0;const o=r(n("./node_modules/zod/index.js")),i=n("./src/utils/browser-tool.ts");t.browserWaitFor=(0,i.defineBrowserTool)({name:"browser_wait_for",description:"Wait for text to appear or disappear or a specified time to pass",params:o.default.object({time:o.default.number().optional().describe("The time to wait in seconds"),text:o.default.string().optional().describe("The text to wait for"),textGone:o.default.string().optional().describe("The text to wait for to disappear")}),handle:async(e,t,n)=>{if(!t.text&&!t.textGone&&!t.time)throw new Error("Either time, text or textGone must be provided");t.time&&(n.addCode(`await new Promise(f => setTimeout(f, ${t.time} * 1000));`),await new Promise(e=>setTimeout(e,Math.min(3e4,1e3*t.time))));const r=e.currentTab();if(!r)throw new Error("No active tab available");const o=t.text?r.page.getByText(t.text).first():void 0,i=t.textGone?r.page.getByText(t.textGone).first():void 0;i&&(n.addCode(`await page.getByText(${JSON.stringify(t.textGone)}).first().waitFor({ state: 'hidden' });`),await i.waitFor({state:"hidden"})),o&&(n.addCode(`await page.getByText(${JSON.stringify(t.text)}).first().waitFor({ state: 'visible' });`),await o.waitFor({state:"visible"})),n.addResult(`Waited for ${t.text||t.textGone||t.time}`),n.setIncludeSnapshot()}})},"./src/utils/browser-tool.ts":(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defineBrowserTool=function(e){return e}},"./src/utils/context.ts":function(e,t,n){"use strict";var r,o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||(r=function(e){return r=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},r(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n=r(e),s=0;s<n.length;s++)"default"!==n[s]&&o(t,e,n[s]);return i(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.Context=t.Tab=void 0;const a=s(n("path")),l=s(n("os")),c=s(n("fs/promises"));function u(e){return{type:e.type(),text:e.text(),toString:()=>`[${e.type().toUpperCase()}] ${e.text()} @ ${e.location().url}:${e.location().lineNumber}`}}function d(e){return e instanceof Error?{type:"error",text:e.message,toString:()=>e.stack||e.message}:{type:"error",text:String(e),toString:()=>String(e)}}class h{constructor(e,t,n){this._requests=new Set,this._consoleMessages=[],this._recentConsoleMessages=[],this._modalStates=[],this.page=e,this.index=t,this._onPageClose=n,e.on("request",e=>this._requests.add(e)),e.on("console",e=>this._handleConsoleMessage(u(e))),e.on("pageerror",e=>this._handleConsoleMessage(d(e))),e.on("dialog",e=>this._handleDialog(e)),e.on("filechooser",e=>this._handleFileChooser(e)),e.on("close",()=>this._onClose()),this._initializedPromise=this._initialize()}async _initialize(){const e=await this.page.requests().catch(()=>[]);for(const t of e)this._requests.add(t);const t=await this.page.consoleMessages().catch(()=>[]);for(const e of t)this._handleConsoleMessage(u(e));const n=await this.page.pageErrors().catch(()=>[]);for(const e of n)this._handleConsoleMessage(d(e))}_clearCollectedArtifacts(){this._requests.clear(),this._consoleMessages.length=0,this._recentConsoleMessages.length=0}_handleConsoleMessage(e){this._consoleMessages.push(e),this._recentConsoleMessages.push(e)}_handleDialog(e){this._modalStates.push({type:"dialog",dialog:e})}_handleFileChooser(e){this._modalStates.push({type:"fileChooser",fileChooser:e})}_onClose(){this._clearCollectedArtifacts(),this._onPageClose(this)}async requests(){return await this._initializedPromise,this._requests}async consoleMessages(e){return await this._initializedPromise,this._consoleMessages.filter(t=>!e||t.type===e)}modalStates(){return this._modalStates}clearModalState(e){const t=this._modalStates.indexOf(e);-1!==t&&this._modalStates.splice(t,1)}async navigate(e){this._clearCollectedArtifacts();try{await this.page.goto(e,{waitUntil:"domcontentloaded"})}catch(e){throw e}await this.page.waitForLoadState("load",{timeout:5e3}).catch(()=>{})}async goBack(){this._clearCollectedArtifacts(),await this.page.goBack()}}t.Tab=h,t.Context=class{constructor(e){this.browserContext=e,this._tabs=[],this._outputDir=a.join(l.tmpdir(),"cursor-browser-extension",Date.now().toString());for(const t of e.pages())this._onPageCreated(t);e.on("page",e=>this._onPageCreated(e))}_onPageCreated(e){const t=new h(e,this._tabs.length,e=>this._onPageClosed(e));this._tabs.push(t),this._currentTab||(this._currentTab=t)}_onPageClosed(e){const t=this._tabs.indexOf(e);if(-1!==t){this._tabs.splice(t,1);for(let e=t;e<this._tabs.length;e++)this._tabs[e].index=e;this._currentTab===e&&(this._currentTab=this._tabs[Math.min(t,this._tabs.length-1)])}}tabs(){return this._tabs}currentTab(){return this._currentTab}currentTabOrDie(){if(!this._currentTab)throw new Error('No open pages available. Use the "browser_navigate" tool to navigate to a page first.');return this._currentTab}async ensureTab(){this._currentTab||await this.browserContext.newPage()}async newTab(){const e=await this.browserContext.newPage();this._currentTab=this._tabs.find(t=>t.page===e)}async closeTab(e){const t=void 0===e?this._currentTab:this._tabs[e];if(!t)throw new Error(`Tab ${e} not found`);await t.page.close()}async selectTab(e){const t=this._tabs[e];if(!t)throw new Error(`Tab ${e} not found`);await t.page.bringToFront(),this._currentTab=t}async navigate(e){const t=this.currentTabOrDie();await t.navigate(e)}async goBack(){const e=this.currentTabOrDie();await e.goBack()}async outputFile(e){return await c.mkdir(this._outputDir,{recursive:!0}),a.join(this._outputDir,e)}async dispose(){await Promise.all(this._tabs.map(e=>e.page.close().catch(()=>{}))),this._tabs=[],this._currentTab=void 0}}},"./src/utils/logger.ts":function(e,t,n){"use strict";var r,o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||(r=function(e){return r=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},r(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n=r(e),s=0;s<n.length;s++)"default"!==n[s]&&o(t,e,n[s]);return i(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.PlaywrightLogger=void 0;const a=s(n("vscode"));class l{constructor(e){this.identifier=e}static init(){this.outputChannel||(this.outputChannel=a.window.createOutputChannel("Cursor Browser Extension"))}static getLogger(e){return this.loggers.has(e)||this.loggers.set(e,new l(e)),this.loggers.get(e)}static info(e){this.log("INFO","general",e)}static warn(e){this.log("WARN","general",e)}static error(e,t){const n=t?`${e}: ${t.message}`:e;this.log("ERROR","general",n),t?.stack&&this.log("ERROR","general",t.stack)}info(e){l.log("INFO",this.identifier,e)}warn(e){l.log("WARN",this.identifier,e)}error(e,t){const n=t?`${e}: ${t.message}`:e;l.log("ERROR",this.identifier,n),t?.stack&&l.log("ERROR",this.identifier,t.stack)}static log(e,t,n){if(this.outputChannel){const r=(new Date).toISOString();this.outputChannel.appendLine(`[${r}] [${e}] [${t}] ${n}`)}}}t.PlaywrightLogger=l,l.loggers=new Map},"./src/utils/mcp-tools.ts":function(e,t,n){"use strict";var r,o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||(r=function(e){return r=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},r(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n=r(e),s=0;s<n.length;s++)"default"!==n[s]&&o(t,e,n[s]);return i(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.createMcpTools=function(e){const t=new Map;for(const[n,r]of Object.entries(e))t.set(n,async e=>{try{let t=e;if(r.params){const n=r.params.safeParse(e);if(!n.success)throw new Error(`Invalid params: ${n.error.message}`);t=n.data}return await r.impl(t)}catch(e){throw console.error(`Error calling tool ${n}: ${e instanceof Error?e.message:String(e)}`),new Error(`Error calling tool ${n}: ${e instanceof Error?e.message:String(e)}`)}});return{getTools:function(){return Object.entries(e).map(([e,t])=>{let n={type:"object",properties:{},required:[]};return t.params&&(n=(0,a.zodToJsonSchema)(t.params,{target:"openApi3",$refStrategy:"none"})),{name:e,description:t.description,parameters:JSON.stringify(n)}})},call:async function(e,n){const r=t.get(e);if(!r)throw new Error(`Unknown tool: ${e}`);return r(n)}}},t.browserToolToMcpTool=function(e,t,n){return{description:e.description,params:e.params,impl:async r=>{const o=await t(),i={},s={setIncludeTabs:()=>{i.includeTabs=!0},setIncludeSnapshot:()=>{i.includeSnapshot=!0},addCode:e=>{i.code||(i.code=[]),i.code.push(e)},addResult:e=>{i.result||(i.result=[]),i.result.push(e)},addImage:e=>{i.images||(i.images=[]),i.images.push(e)},getData:()=>i};await e.handle(o,r,s);const a=[],u=[];if(i.result&&i.result.length>0&&u.push(i.result.join("\n")),i.code&&i.code.length>0&&u.push("\nCode:\n```javascript\n"+i.code.join("\n")+"\n```"),i.includeSnapshot){const e=o.currentTab();if(e)try{const t=e.page.url(),r=await e.page.title();let o;try{o=await e.page._snapshotForAI({timeout:5e3})}catch(e){o="Accessibility snapshot not available"}const i=Buffer.byteLength(o,"utf8");if(i>(n?.snapshotSizeThreshold??d)){const{filePath:e,previewLines:n,totalLines:s}=await async function(e){await l.mkdir(p,{recursive:!0});const t=`snapshot-${(new Date).toISOString().replace(/[:.]/g,"-")}.log`,n=c.join(p,t),r=e.split("\n"),o=r.length,i=r.slice(0,Math.min(h,o));return await l.writeFile(n,e,"utf8"),console.info(`Large snapshot redirected to: ${n} (${o} lines, ${i.length} preview lines)`),{filePath:n,previewLines:i,totalLines:o}}(o);u.push("\n\n### Page state",`- Page URL: ${t}`,`- Page Title: ${r}`,`- Page Snapshot: Large snapshot (${i} bytes, ${s} lines) written to file`,`- Snapshot File: [${e}](file://${e})`,`- Preview (first ${n.length} lines):`,"```yaml",n.join("\n"),"```",`\n... (${s-n.length} more lines in file)`)}else u.push("\n\n### Page state",`- Page URL: ${t}`,`- Page Title: ${r}`,"- Page Snapshot:","```yaml",o,"```")}catch(e){console.warn("Could not get page info for snapshot:",e instanceof Error?e.message:String(e))}}if(i.includeTabs){const e="\n\nOpen tabs:\n"+o.tabs().map((e,t)=>`[${t}] ${e.page.url()}`).join("\n");u.push(e)}if(u.length>0&&a.push({type:"text",text:u.join("\n")}),i.images&&i.images.length>0)for(const e of i.images)a.push({type:"image",data:e.data.toString("base64"),mimeType:e.contentType});return 0===a.length&&a.push({type:"text",text:"Operation completed successfully"}),{content:a}}}};const a=n("./node_modules/zod-to-json-schema/dist/esm/index.js"),l=s(n("fs/promises")),c=s(n("path")),u=s(n("os")),d=25600,h=50,p=c.join(u.homedir(),".cursor","browser-logs")},assert:e=>{"use strict";e.exports=require("assert")},async_hooks:e=>{"use strict";e.exports=require("async_hooks")},buffer:e=>{"use strict";e.exports=require("buffer")},child_process:e=>{"use strict";e.exports=require("child_process")},constants:e=>{"use strict";e.exports=require("constants")},crypto:e=>{"use strict";e.exports=require("crypto")},dns:e=>{"use strict";e.exports=require("dns")},electron:e=>{"use strict";e.exports=require("electron")},events:e=>{"use strict";e.exports=require("events")},fs:e=>{"use strict";e.exports=require("fs")},"fs/promises":e=>{"use strict";e.exports=require("fs/promises")},http:e=>{"use strict";e.exports=require("http")},http2:e=>{"use strict";e.exports=require("http2")},https:e=>{"use strict";e.exports=require("https")},inspector:e=>{"use strict";e.exports=require("inspector")},net:e=>{"use strict";e.exports=require("net")},"node:child_process":e=>{"use strict";e.exports=require("node:child_process")},"node:events":e=>{"use strict";e.exports=require("node:events")},"node:fs":e=>{"use strict";e.exports=require("node:fs")},"node:path":e=>{"use strict";e.exports=require("node:path")},"node:process":e=>{"use strict";e.exports=require("node:process")},"node:stream/web":e=>{"use strict";e.exports=require("node:stream/web")},os:e=>{"use strict";e.exports=require("os")},path:e=>{"use strict";e.exports=require("path")},readline:e=>{"use strict";e.exports=require("readline")},stream:e=>{"use strict";e.exports=require("stream")},tls:e=>{"use strict";e.exports=require("tls")},tty:e=>{"use strict";e.exports=require("tty")},url:e=>{"use strict";e.exports=require("url")},util:e=>{"use strict";e.exports=require("util")},vscode:e=>{"use strict";e.exports=require("vscode")},worker_threads:e=>{"use strict";e.exports=require("worker_threads")},zlib:e=>{"use strict";e.exports=require("zlib")}},n={};function r(e){var o=n[e];if(void 0!==o)return o.exports;var i=n[e]={exports:{}};return t[e].call(i.exports,i,i.exports,r),i.exports}r.m=t,r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.f={},r.e=e=>Promise.all(Object.keys(r.f).reduce((t,n)=>(r.f[n](e,t),t),[])),r.u=e=>e+".js",r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},e={792:1},r.f.require=(t,n)=>{e[t]||(t=>{var n=t.modules,o=t.ids,i=t.runtime;for(var s in n)r.o(n,s)&&(r.m[s]=n[s]);i&&i(r);for(var a=0;a<o.length;a++)e[o[a]]=1})(require("./"+r.u(t)))};var o=r("./src/main.ts"),i=exports;for(var s in o)i[s]=o[s];o.__esModule&&Object.defineProperty(i,"__esModule",{value:!0})})();
//# sourceMappingURL=http://go/sourcemap/sourcemaps/9e7a27b76730ca7fe4aecaeafc58bac1e2c82120/extensions/cursor-browser-extension/dist/main.js.map